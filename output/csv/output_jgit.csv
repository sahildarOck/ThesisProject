revision_num,change_id,url,iteration_count,before_commit_id,after_commit_id,at_least_one_updated_java_file,T(created),T(merged),LOC changed,subject,message,cr_smell_lack_of_cr,cr_smell_ping_pong,cr_smell_sleeping_reviews,cr_smell_missing_context,cr_smell_large_changesets,cr_smell_review_buddies,at_least_one_cr_smell,code_smells_difference_count,is_increased
3,I908e4c77e3630dc3223b2d2a47cb4534dbe4ed42,https://git.eclipse.org/r/#/c/3,2,caf3d1bc32acae3c7312302a096459babf20f87c,b7b967b24e3f69275bf386244fbcd1e1eb549354,1,05/10/09,10/03/10,153,Add support for logAllRefUpdates configuration parameter,"Add support for logAllRefUpdates configuration parameter

Honor the configuration parameter core.logAllRefUpdates when writing
reflogs.  Instead of writing reflog entries always only write
reflogs if this parameter is set to true or if the corresponding
file in the <git-dir>/logs directory already exists. In other words:
if you are updating a ref and this parameter is set to false and
there is no file corresponding to your ref in the <git-dir>/logs
folder then no reflog will be written.

This is a fix for the issue http://code.google.com/p/egit/issues/detail?id=4

Change-Id: I908e4c77e3630dc3223b2d2a47cb4534dbe4ed42
Signed-off-by: Matthias Sohn <matthias.sohn@sap.com>
Signed-off-by: Christian Halstrick <christian.halstrick@sap.com>
Signed-off-by: Shawn O. Pearce <spearce@spearce.org>",0,0,0,0,0,0,0,1,1
4,I5d45aec7873af76a12170d9a500626a7264f2c42,https://git.eclipse.org/r/#/c/4,1,4caf5870af48b5273e99b614872d8dd91302bc50,ee02e27dcfc0a1f979df5288b3de394e454a94cb,1,01/10/09,10/03/10,41,Include description for missing bundle prereqs,"Include description for missing bundle prereqs

When throwing MissingBundlePrerequisiteException we
also include the short description, if available, of
each missing object.

This is the fix for the following issue:
http://code.google.com/p/egit/issues/detail?id=25

Change-Id: I5d45aec7873af76a12170d9a500626a7264f2c42
Signed-off-by: Sasa Zivkov <sasa.zivkov@sap.com>
Signed-off-by: Shawn O. Pearce <spearce@spearce.org>",1,0,0,0,0,0,1,0,0
5,I14a07124441b58cd88c67da088ba52ef9c30b043,https://git.eclipse.org/r/#/c/5,2,b37310bde3c8a36e3abef3e52e5c4b783464f2e7,e8cbf801c81bc9e3ea2132df875fe8513fce8399,1,02/10/09,10/03/10,20,Make it possible to clear a PlotCommitList,"Make it possible to clear a PlotCommitList

This allows SwingGraphPanes to be reused by simply clearing and
re-filling. Requires RevObjectList initialization to not call clear()
from its constructor, because this will lead PlotCommitList.clear()
to be called before all variables have been initialized.

Change-Id: I14a07124441b58cd88c67da088ba52ef9c30b043
Signed-off-by: Jonas Fonseca <fonseca@diku.dk>
Signed-off-by: Shawn O. Pearce <spearce@spearce.org>",1,0,0,0,0,0,1,0,0
6,Iea871443ec661230aec92397229f1eda6c74216f,https://git.eclipse.org/r/#/c/6,2,ea5d68ce931a723071854d0def906fea0d73337a,7dc4c4684095a53e2c71ac2ea9149dcf6d58fcf9,1,06/10/09,24/06/13,39,Add set to IntList,"Add set to IntList

Some applications may wish to modify an int list.

Bug: 291083
Change-Id: Iea871443ec661230aec92397229f1eda6c74216f
Signed-off-by: Johannes Schindelin <johannes.schindelin@gmx.de>
Signed-off-by: Shawn O. Pearce <spearce@spearce.org>",1,0,1,0,0,0,1,0,0
7,Id873e7c2c204692cb4a1a05d24b733154b9ed49c,https://git.eclipse.org/r/#/c/7,2,1c35c49f40d677f9cb5bc62aae9e8fa7eb62bbb7,04293fae59b05373164e329e551bedb5d61bb89a,0,06/10/09,24/06/13,469,Add Myers' algorithm to generate diff scripts,"Add Myers' algorithm to generate diff scripts

Myers' algorithm is the standard way to generate diff scripts in
an efficient manner (especially memory-wise).

The source contains extensive documentation about the principal
ideas of the algorithm.

Bug: 291083
Change-Id: Id873e7c2c204692cb4a1a05d24b733154b9ed49c
Signed-off-by: Johannes Schindelin <johannes.schindelin@gmx.de>
Signed-off-by: Shawn O. Pearce <spearce@spearce.org>",0,0,1,0,0,0,1,NA,NA
8,I5a10946637438052e7596489b9f9de3a0c6b2066,https://git.eclipse.org/r/#/c/8,2,91f2cb67978411230ff09a25dfc39d55374e171c,6097cda69617ec152150f154ebc26488cd16cd8a,1,06/10/09,24/06/13,109,Add a test class for Myers' diff algorithm,"Add a test class for Myers' diff algorithm

Bug: 291083
Change-Id: I5a10946637438052e7596489b9f9de3a0c6b2066
Signed-off-by: Johannes Schindelin <johannes.schindelin@gmx.de>
Signed-off-by: Shawn O. Pearce <spearce@spearce.org>",1,0,1,0,0,0,1,0,0
9,Ia02f346a96b5f1e24f8bc9676bd428b968a41222,https://git.eclipse.org/r/#/c/9,2,e6459e33c2f1f2504523bb9ddeb86ed87b649403,9e3fd01f61f195beba8fb45b38076be0e7ddda0e,1,06/10/09,24/06/13,28,Prepare RawText for diff-index and diff-files,"Prepare RawText for diff-index and diff-files

Bug: 291083
Change-Id: Ia02f346a96b5f1e24f8bc9676bd428b968a41222
Signed-off-by: Johannes Schindelin <johannes.schindelin@gmx.de>
Signed-off-by: Shawn O. Pearce <spearce@spearce.org>",1,0,1,0,0,0,1,0,0
10,If8d187e70a51f31040f99098489e513791dc6415,https://git.eclipse.org/r/#/c/10,2,4214e36e9520547c870598fb2a168c2f5250036c,73fb230014be4f77c796d11d0c7f45ce4c587e3b,1,06/10/09,24/06/13,143,"Add the ""jgit diff"" command","Add the ""jgit diff"" command

This commit contains fixes provided by Christian Halstrick.

Bug: 291083
Change-Id: If8d187e70a51f31040f99098489e513791dc6415
Signed-off-by: Johannes Schindelin <johannes.schindelin@gmx.de>
Signed-off-by: Shawn O. Pearce <spearce@spearce.org>",1,0,1,0,0,0,1,0,0
14,I057c782cc66c44f11ed2ff2b4b4ca9cc82c7426a,https://git.eclipse.org/r/#/c/14,3,bf549a2274394878a485ab9108898ee48ef9a8e8,6144f630038c831dbcdf483c49afdf953fb01d4f,1,03/11/09,10/03/10,212,Delete obsolete JarLinkUtil,"Delete obsolete JarLinkUtil

Since we are now using the maven-shade-plugin to flatten out our
dependencies into a single stand-alone JAR we no longer need to
use our own command line utility.

Change-Id: I057c782cc66c44f11ed2ff2b4b4ca9cc82c7426a
Signed-off-by: Shawn O. Pearce <spearce@spearce.org>",1,0,0,0,0,0,1,0,0
17,I282ee1c6a637a8654df93a3847507a6c60e4cfab,https://git.eclipse.org/r/#/c/17,3,71f99163253bf19d4ebcb9ce9900b57f036423e4,bdfeb5e9b449c1165fc256aa82f364d6daa8c2b3,0,05/10/09,10/03/10,28,Remove useless test005_todopack test,"Remove useless test005_todopack test

This test doesn't work because it requires a pack file which we have
lost to the ages.  We couldn't include it because the pack was actually
a copy of the GPL'd C git.git project, and was there to test some sort
of corner case that the test never documented properly.

Change-Id: I282ee1c6a637a8654df93a3847507a6c60e4cfab
Signed-off-by: Shawn O. Pearce <spearce@spearce.org>",0,0,0,0,0,0,0,NA,NA
18,I5700ca48df4177153f2b3861dec7c538c621e775,https://git.eclipse.org/r/#/c/18,3,1315647938bc2b6cdd7ea94cf9ad07ae1adc6b73,e86e3e8c572f1c24f8573a6f949c35e86f4bce35,1,05/10/09,10/03/10,41,Move setupReflog test function to only test that cares,"Move setupReflog test function to only test that cares

Only one test class actually needs this function, so instead of
us inheriting it down into every test, move it to that one class.

Change-Id: I5700ca48df4177153f2b3861dec7c538c621e775
Signed-off-by: Shawn O. Pearce <spearce@spearce.org>",0,0,0,0,0,0,0,0,0
19,Idff096cea40a7b2b56a90fb5de179ba61ea3a0eb,https://git.eclipse.org/r/#/c/19,3,b0d31ab11838d1e39a158500bbf7264b9160b15b,d545e1b317a37b739726eb933f5eca4812788439,1,03/11/09,10/03/10,1081,Create JUnit test utilities for JGit derived sources,"Create JUnit test utilities for JGit derived sources

The LocalDiskRepositoryTestCase class is derived from the current
RepositoryTestCase code and is meant for application (or our own)
tests to subclass and access temporary repositories on the local
client disk.

Change-Id: Idff096cea40a7b2b56a90fb5de179ba61ea3a0eb
Signed-off-by: Shawn O. Pearce <spearce@spearce.org>",1,0,0,0,1,0,1,0,0
20,Ic9be0280c8bb50a5768336c64de794eb0a492b3d,https://git.eclipse.org/r/#/c/20,3,7dde7bc4234b37a8ff60c5a81292b4b486e3467a,e5e3a6c4845e588fe9f0b8f2f51b6032ac4ab6ad,1,03/11/09,10/03/10,41,Move T0007_Index to jgit-test-ext,"Move T0007_Index to jgit-test-ext

This test depends upon the external git binary, and this isn't really
a pure Java test like our jgit-test-core module tries to claim itself
is.  So we move it out to jgit-test-ext with other tests that require
additional external resources and/or executable code.

Change-Id: Ic9be0280c8bb50a5768336c64de794eb0a492b3d
Signed-off-by: Shawn O. Pearce <spearce@spearce.org>",1,0,0,0,0,0,1,2,1
21,I07014d1b8cc2fab0761d644a12e4ae04f0adf3ef,https://git.eclipse.org/r/#/c/21,3,21c3c1c0262635fe8f8a27517542e83afa3b8e66,265c5e0f2cb2cff6ada0961442be4f22f11aaae1,1,03/11/09,10/03/10,438,Refactor RepositoryTestCase to use LocalDiskRepository instead,"Refactor RepositoryTestCase to use LocalDiskRepository instead

Change-Id: I07014d1b8cc2fab0761d644a12e4ae04f0adf3ef
Signed-off-by: Shawn O. Pearce <spearce@spearce.org>",1,0,0,1,0,0,1,0,0
22,Id8a76ee7ee1f7efba585be4bed19a8fb5b3b3585,https://git.eclipse.org/r/#/c/22,3,b571d25b88bdb6cd7330d3505a3924e8d774e92b,3f1f80e37785515522affcdb4f8ae39dbf3516ee,1,03/11/09,10/03/10,137,Only import the sample data packs on tests that need them,"Only import the sample data packs on tests that need them

Not all of our test cases really require the sample data packs, and
we are better off not using them because its hard to see exactly
what condition a test is testing when looking only at the Java code.
Clarify the dependency by only making the packs available when there
is a real need for it.

Change-Id: Id8a76ee7ee1f7efba585be4bed19a8fb5b3b3585
Signed-off-by: Shawn O. Pearce <spearce@spearce.org>",1,0,0,0,0,0,1,1,1
23,Ic243544a761ef2db29025a89ba6bb932a3a3ce34,https://git.eclipse.org/r/#/c/23,3,f2e06a72673a500cc655e7d2265dfd25fea6098a,c875db826f565f22ed636144d22e366c40d275b1,0,05/10/09,10/03/10,309,Standardize the source code formatter for Eclipse,"Standardize the source code formatter for Eclipse

We now supply an exported format description for anyone to import
into their own workbench, and all projects reference this style in
a consistent way.

Change-Id: Ic243544a761ef2db29025a89ba6bb932a3a3ce34
Signed-off-by: Shawn O. Pearce <spearce@spearce.org>",0,0,0,0,0,0,0,NA,NA
24,I11dc620009d83e5715f7f2c17bbc658cc6e49f20,https://git.eclipse.org/r/#/c/24,2,d42312eb292ad98f9f302f1576221e2b0c0cdb36,83d376aff0b6de67cb211eb3a46e75c229b2f3a8,0,05/10/09,10/03/10,2,Mark the next version as 0.6,"Mark the next version as 0.6

Our project plan calls for us to build 0.6 as the next version.

Change-Id: I11dc620009d83e5715f7f2c17bbc658cc6e49f20
Signed-off-by: Shawn O. Pearce <spearce@spearce.org>",1,0,0,0,0,0,1,NA,NA
32,Ia2cce34d34c97b88214a8bd8f2cc542845e19032,https://git.eclipse.org/r/#/c/32,3,1ff76003d9619acd57a8890f2ec00afa99305c32,8d213fb281403d30cd7e091bdc206319209e1ed7,1,05/10/09,10/03/10,227,Move AmazonS3 command line utility to jgit-pgm,"Move AmazonS3 command line utility to jgit-pgm

This removes one of the few remaining dependencies on AWTAuthenticator
from the core library.  For the most part the interface is identical to
the prior main method.  The jgit-pgm Main class already sets up the
HTTP proxy and authenticator for us, so we don't need to do that in
our new run method.

Change-Id: Ia2cce34d34c97b88214a8bd8f2cc542845e19032
Signed-off-by: Shawn O. Pearce <spearce@spearce.org>",0,0,0,0,0,0,0,5,1
33,I2fd81be2076117b2f2c5f8ed45de7f29272af6cf,https://git.eclipse.org/r/#/c/33,3,15152ee0570a64e783e5503eb1e085e70076f7e6,375d589a6ae69e89a33346ea06c88383e1a3c518,1,05/10/09,10/03/10,96,Move HttpSupport's configureHttpProxy to jgit-pgm,"Move HttpSupport's configureHttpProxy to jgit-pgm

This is the last chunk of code in jgit-core which references the awtui
package.  Moving it to the only consumer in jgit-pgm allows us to move
the awtui package over to the jgit-awtui module.

Change-Id: I2fd81be2076117b2f2c5f8ed45de7f29272af6cf
Signed-off-by: Shawn O. Pearce <spearce@spearce.org>",0,0,0,0,0,0,0,0,0
34,I9080f3dd029c2a087e6b687480018997cc5c5d23,https://git.eclipse.org/r/#/c/34,3,9df7bcab7ea9df2d0eb1a3156bfc0a5138d2a6cc,f411075bd2458fc1a92897efa5ca2443a4588ca4,1,03/11/09,10/03/10,314,Move AWT UI components to the jgit-awtui module,"Move AWT UI components to the jgit-awtui module

This way applications based on SWT/JFace, like the EGit team provider,
don't need to build or install AWT based UI components.  Instead only
applications which need the AWT based UI will depend upon the module.

Since jgit-pgm builds a standalone JAR that is meant to run on any
stock JRE which contains AWT as part of the J2SE runtime library we
need to depend on jgit-awtui there.

Change-Id: I9080f3dd029c2a087e6b687480018997cc5c5d23
Signed-off-by: Shawn O. Pearce <spearce@spearce.org>",1,0,0,0,0,0,1,0,0
35,I8c1a0eb8acee1d306f4c3b40a790b7fa0c3abb70,https://git.eclipse.org/r/#/c/35,3,f875474924d2fd006393b9511dffac33077c096c,aea9a72bc6c763f80adb93fd18cd8a3be73db2b7,1,03/11/09,10/03/10,209,Refactor the cached Authenticator data out of AwtAuthenticator,"Refactor the cached Authenticator data out of AwtAuthenticator

This makes it easier to swap out authenticator implementations and
yet still rely upon being able to configure at least one Authenticator
instance in the JVM and program it with data obtained from outside
of the user interface.

Change-Id: I8c1a0eb8acee1d306f4c3b40a790b7fa0c3abb70
Signed-off-by: Shawn O. Pearce <spearce@spearce.org>",1,0,0,0,0,0,1,0,0
36,Ibaf87bb5540371d94d96d1b7e94ca002f752e5bd,https://git.eclipse.org/r/#/c/36,3,8c5d2d5ab5c4c9bb45157c96f842f06dfbf39820,51b47ff8237215069746a7122daa07563869c7a7,1,03/11/09,10/03/10,884,Prompt for passwords from the console in jgit command line tools,"Prompt for passwords from the console in jgit command line tools

If we are on a Java 6 JVM we should have the Console class available,
unless the user has redirected /dev/null to stdin.  When there is a
console present we would prefer to use that for command line prompts
as that is what the user expects from a command line tool.

Change-Id: Ibaf87bb5540371d94d96d1b7e94ca002f752e5bd
Signed-off-by: Shawn O. Pearce <spearce@spearce.org>",1,0,0,0,1,0,1,4,1
37,Iacb9082e1b076e994d1486aa8e512342ad7432b3,https://git.eclipse.org/r/#/c/37,4,e75690c55723f0d3f79de24dbe1de6289c7e67a2,fb7b2238659d65cf1cab2850a52237e33870f1ea,1,08/10/09,10/03/10,187,Fixed MyersDiff to be able to handle more than 100k,"Fixed MyersDiff to be able to handle more than 100k

MyersDiff was crashing with ArrayIndexOutOfBoundsException when
diffing huge files. This was because the snake data (begin and
end position while processing chunks of the text) was sequeezed
into a single int. But with longer texts to diff these values
exceeded the range of java int values. It is fixed by introducing
the IntPair and IntPairList classes and make MyersDiff use them.

Change-Id: Iacb9082e1b076e994d1486aa8e512342ad7432b3
Signed-off-by: Christian Halstrick <christian.halstrick@sap.com>",0,1,0,0,0,0,1,0,0
39,I48d7e01536aab1524140d72af574e3fd7149cd23,https://git.eclipse.org/r/#/c/39,2,759663a7b730da19db8612d03568f9ac4db76824,a74d7797db103e7c9c3a69124ba1ceb165b343cb,1,08/10/09,10/03/10,17,Fix some warnings regarding unnecessary imports and accessing static methods,"Fix some warnings regarding unnecessary imports and accessing static methods

My Galileo eclipse was complaining about unneeded import statements and
how static methods have been accessed in Diff.java. There was also one method
call which could be removed because he had no sideeffects and the return value
was not used. I fixed this so that there are no warnings anymore.

Signed-off-by: Christian Halstrick <christian.halstrick@sap.com>",0,0,0,0,0,0,0,0,0
40,I0b889564bd176836ff5c77ba310c6d229409dcd5,https://git.eclipse.org/r/#/c/40,6,cbf21c02f9dcd6cbf1e0f9e072368cf5438340bb,c67a4bc91430ddfa39a9482d46628572b32f97aa,0,04/01/10,10/03/10,12,Add getPacks to ObjectDirectory,"Add getPacks to ObjectDirectory

This exposes the list of known packs, allowing callers to list them
into a context like the objects/info/packs file.

Change-Id: I0b889564bd176836ff5c77ba310c6d229409dcd5
Signed-off-by: Shawn O. Pearce <spearce@spearce.org>",0,1,0,0,0,0,1,NA,NA
41,Ia0f1a425d07d035e344ae54faf8aeb04763e7487,https://git.eclipse.org/r/#/c/41,12,d19e8e28a852132f8c4381909838afa23e92a630,ae7c675ec76ce8feda5c38ec5a76c0116169619a,1,12/01/10,10/03/10,4017,Simple dumb HTTP server for Git,"Simple dumb HTTP server for Git

This is a horribly simple HTTP server which provides only the
server side support required for dumb transport clients.  We
produce the info/refs and objects/info/packs file on the fly
from the local repository state, but otherwise serve data as
raw files from disk.

We could better optimize the Sender class and those that use
it to take advantage of direct file to network APIs in more
advanced servlet containers like Jetty.  This is left for a
future improvement to the code.

Change-Id: Ia0f1a425d07d035e344ae54faf8aeb04763e7487
Signed-off-by: Shawn O. Pearce <spearce@spearce.org>",0,1,0,0,1,0,1,2,1
43,I6f31f6537a3b7498803a8a54e10b0622105718c1,https://git.eclipse.org/r/#/c/43,7,5e80bf4a73c942ce7aa08a211541563dbd74c732,a682546a0030d90f4013c709f202a507bd2a7222,1,12/01/10,10/03/10,45,Teach ReceivePack how to use an RPC style interface,"Teach ReceivePack how to use an RPC style interface

If biDirectionalPipe is false ReceivePack does not start out with the
advertisement but instead assumes it should read the command set once,
process that, and write the status report out.  This means it only is
doing one read through the input followed by one write to the output,
which fits with the HTTP request processing model, and any other type
of RPC system... assuming that the payload for input can be a very big
entity like the command stream followed by the pack file.

Change-Id: I6f31f6537a3b7498803a8a54e10b0622105718c1
Signed-off-by: Shawn O. Pearce <spearce@spearce.org>",0,1,0,0,0,0,1,0,0
44,Id0e349c30a0f5a8c1527e0e7383b80243819d9c5,https://git.eclipse.org/r/#/c/44,9,18ddbc65b90fae8dd594b2817e5646f7343ef177,b8b67f20268474b9fdef3dfbe831e7c4707df197,1,12/01/10,10/03/10,188,Expose RefAdvertiser for reuse outside of the transport package,"Expose RefAdvertiser for reuse outside of the transport package

By making this class and its methods public, and the actual writing
abstract, we can reuse this code for other formats like writing an
info/refs file for HTTP transports.

Change-Id: Id0e349c30a0f5a8c1527e0e7383b80243819d9c5
Signed-off-by: Shawn O. Pearce <spearce@spearce.org>",0,1,0,0,0,0,1,1,1
45,Iaa331a476e28cf2880df5607de36bc9f67d041df,https://git.eclipse.org/r/#/c/45,9,c0426962c7d0ea0b369e10db5c8ce92543e866dc,9940274c713909ab10c2ea6055141c389eb9220f,1,12/01/10,10/03/10,84,Expose PacketLineOut for reuse outside of the transport package,"Expose PacketLineOut for reuse outside of the transport package

Change-Id: Iaa331a476e28cf2880df5607de36bc9f67d041df
Signed-off-by: Shawn O. Pearce <spearce@spearce.org>",0,1,0,1,0,0,1,0,0
46,Ie4f6e0c7b68a68ec4b7cdd5072f91dd406210d4f,https://git.eclipse.org/r/#/c/46,11,ef7a6680e9da04d4c51d8873b0eff940ceafb224,09c404327eff9be21d48ec03a0f3b2ab778d790c,1,12/01/10,10/03/10,487,Smart push over HTTP: server side,"Smart push over HTTP: server side

Clients can request smart push support by examining the info/refs URL
with the service parameter set to the magic git-receive-pack string:

  GET /$GIT_DIR/info/refs?service=git-receive-pack HTTP/1.1

The response is formatted with the receive pack capabilities,
using the standard packet line formatter.  A special header line
is put in front of the standard receive-pack advertisement to let
clients know the service was recognized and is supported.

If the requested service is disabled an authorization status code is
returned, allowing the user agent to retry once they have obtained
credentials from a human, in case authentication is required by
the configured ReceivePackFactory implementation.

Change-Id: Ie4f6e0c7b68a68ec4b7cdd5072f91dd406210d4f
Signed-off-by: Shawn O. Pearce <spearce@spearce.org>",0,1,0,0,0,0,1,0,0
48,Ia9f7c46ee556f996367180f15d2caa8572cdd59f,https://git.eclipse.org/r/#/c/48,7,00b740d683b405385ba2930a9818da0d226501d9,4e048ee1f53a9018f2706ac9547d9145a0be7d5c,1,12/01/10,10/03/10,60,Teach UploadPack how to use an RPC style interface,"Teach UploadPack how to use an RPC style interface

If biDirectionalPipe is false UploadPack does not start out with
the advertisement but instead assumes it should read one block of
want/have lines, process that, and write the ACK/NAKs out.

This means it only is doing one read through the input followed by
one write to the output, which fits with the HTTP request processing
model, and any other type of RPC system.

Change-Id: Ia9f7c46ee556f996367180f15d2caa8572cdd59f
Signed-off-by: Shawn O. Pearce <spearce@spearce.org>",0,1,0,0,0,0,1,1,1
49,Ib0f1a458c88b4b5509b0f882f55f83f5752bc57a,https://git.eclipse.org/r/#/c/49,10,75b7f97ce2656e2b541a879c77ebb932581bf185,4d500343091f47024edfdbf7cb3cdd2cce39821f,1,12/01/10,10/03/10,312,Smart fetch over HTTP: server side,"Smart fetch over HTTP: server side

Clients can request smart fetch support by examining the info/refs
URL with the service parameter set to the magic git-upload-pack
string:

  GET /$GIT_DIR/info/refs?service=git-upload-pack HTTP/1.1

The response is formatted with the upload pack capabilities, using
the standard packet line formatter.  A special header line is put
in front of the standard upload-pack advertisement to let clients
know the service was recognized and is supported.

If the requested service is disabled an authorization status code is
returned, allowing the user agent to retry once they have obtained
credentials from a human, in case authentication is required by
the configured UploadPackFactory implementation.

Signed-off-by: Shawn O. Pearce <spearce@spearce.org>",0,1,0,0,0,0,1,0,0
50,I8c69b16ac15c442e1a4c3bd60b4ea1a47882b851,https://git.eclipse.org/r/#/c/50,11,a1f9016c0842aa24ee6fec7badcb4242961e046e,9c70fe171d88f94d111db7a4034a85efb279e8ca,1,12/01/10,10/03/10,661,Smart fetch over HTTP: client side,"Smart fetch over HTTP: client side

Clients take advantage of the info/refs?service=git-upload-pack URL
to determine if the remote side will support a standard upload-pack
command stream.  If so each block of 32 have lines is sent in one
POST request, prefixed by all of the 'want' lines and any previously
discovered common bases as 'have' lines.

Change-Id: I8c69b16ac15c442e1a4c3bd60b4ea1a47882b851
Signed-off-by: Shawn O. Pearce <spearce@spearce.org>",0,1,0,0,1,0,1,3,1
51,I2c9862ea088ea7dc15b0beb70fe7485783763fee,https://git.eclipse.org/r/#/c/51,1,aa7666f1c16e3737b4e37968b3378acc05984610,d8319a798e63f7cfd955708b5d3bcb67848a8a27,0,08/10/09,10/03/10,10,Remove a duplicate test from T0003_Basic,"Remove a duplicate test from T0003_Basic

In the pre-historic commit 6d87484b4dee5671a38e64a8e4990dff40a4874f
two tests became identical. Remove one of them.

Change-Id: I6182ecd4db0162d87a5f4577005b2bf4d5e8c89f

Signed-off-by: Robin Rosenberg <robin.rosenberg@dewire.com>",0,0,0,0,0,0,0,NA,NA
53,I589ba533f91910066d56d9f7f1348d2480b43223,https://git.eclipse.org/r/#/c/53,1,01644bdf8acaac11e275b82f164ca00609114f05,2d48c49cc2596b74100b07522745b5f5d04b34d0,1,09/10/09,10/03/10,122,"Add javadoc comments, remove unused code, shift comments to correct place","Add javadoc comments, remove unused code, shift comments to correct place

This change only fixes warnings of the eclipse build regarding missing javadocs.
Some comments where just missing, so they have been added. Other comments where
at the wrong (from eclipse point of view) place, so eclipse was complaining.
Also two method which existed for debugging purposes have been removed to get
rid of Eclipse warngins about unused code.",0,0,0,0,0,0,0,0,0
61,Ia43892ab6d0169f8335c1a41b37e8c12e94cafe2,https://git.eclipse.org/r/#/c/61,2,7f0913bc50828683e3a7cc1da1e68c2a626513d3,a8b9649697464e7238a73495d6a20c02ada86326,0,16/10/09,10/03/10,4,Fix classpath to use jsch and args4j from orbit,"Fix classpath to use jsch and args4j from orbit

All 3rd party dependencies must come from orbit to comply
with Eclipse development process.

Signed-off-by: Matthias Sohn <matthias.sohn@sap.com>",0,0,0,0,0,0,0,NA,NA
64,I4dc926148410ecbadcf71b9474aeeb509691aa32,https://git.eclipse.org/r/#/c/64,2,0b2617b5c9a151833389397fcf32c841e8619f5b,f784bc93e1ec658c55c9d58a3704f34b69bdb939,0,16/10/09,10/03/10,34,Refactoring org.eclipse.jgit.test to be a bundle,Refactoring org.eclipse.jgit.test to be a bundle,0,0,0,1,0,1,1,NA,NA
67,I24272d029cff446ffc80063870478577d628f338,https://git.eclipse.org/r/#/c/67,2,27e5fb96c700a9ce02dfe048f246cf51615d7d6e,f844ecea235c42c33079f25c1698fb8217765155,1,16/10/09,10/03/10,3,Add gitignore to constants,"Add gitignore to constants

Created by Mykola Nikishov <mn@mn.com.ua>

https://bugs.eclipse.org/bugs/attachment.cgi?id=148637",0,0,0,0,0,0,0,0,0
73,Ibf1a9968387e3d11fdce54592f710ec4cc7f1ddb,https://git.eclipse.org/r/#/c/73,2,e756f39ebf3c82b21f418b5212b5a272992a6517,a234a93ffc1e5072071d7693dc726d936ee285f6,1,31/10/09,10/03/10,471,A new org.eclipse.jgit.ui bundle,"A new org.eclipse.jgit.ui bundle

This bundle contains a package org.eclipse.jgit.awtui which was moved
from org.eclipse.jgit bundle.

org.eclipse.jgit.pgm depends on org.eclipse.jgit.ui.

Bug: https://bugs.eclipse.org/291124
Change-Id: Ibf1a9968387e3d11fdce54592f710ec4cc7f1ddb
Signed-off-by: Mykola Nikishov <mn@mn.com.ua>",0,0,0,0,0,0,0,0,0
86,I002b1d1980071084c0bc53242c8f5900970e6845,https://git.eclipse.org/r/#/c/86,2,faea7f3bd629cdaf3a450c1452c469d0df2bc6ba,51af6d4c67abca4ace930fae99bd72c4bf9bb5ac,1,31/10/09,10/03/10,1304,Removed trailing whitespace,Removed trailing whitespace,0,0,0,1,1,0,1,0,0
87,I8e1e0be60299472828718371b231f1d8a9dc21a7,https://git.eclipse.org/r/#/c/87,5,7b5c979138c50142736e23ba4b8eacf32c181dba,268190437aa23e6700b6620b596cb33082f9cb1c,1,04/11/09,10/03/10,397,Add performance tests for MyersDiff,"Add performance tests for MyersDiff

Add some tests which make sure that the diff algorithm really behaves in the
promised O(N*D) manner. This tests compute diffs between multiple big chunks
of data, measure time for computing the diffs and fail if the measured times
are off O(N*D) by more than a factor 10

Signed-off-by: Christian Halstrick <christian.halstrick@sap.com>",0,1,0,0,0,1,1,0,0
90,Ic1c8969bbed89f693c7e11108d6baba013f71711,https://git.eclipse.org/r/#/c/90,1,ecadefc9f5c514fcb86d444f29fe74bf576508fb,48660e991159118c007c5d0481901d84158ed997,0,03/11/09,10/03/10,2,Use org.eclipse.egit branding plugin,"Use org.eclipse.egit branding plugin

We do not need two branding plugins for two related features
and org.eclipse.jgit is not a branding plugin.

Change-Id: Ic1c8969bbed89f693c7e11108d6baba013f71711
Signed-off-by: Matthias Sohn <matthias.sohn@sap.com>",0,0,0,0,0,0,0,NA,NA
96,I4a9f6b39d5564bc8a694b366e7ff3cc758c5181b,https://git.eclipse.org/r/#/c/96,3,0e0c3d8399640cdddff7df725b32c222e6827e75,d77fb500e730de0f7c1705e8b9ed522940906aa3,1,31/10/09,10/03/10,461,Move pure IO utility functions to a utility class of its own.,"Move pure IO utility functions to a utility class of its own.

According the javadoc, and implied by the name of the class, NB
is about network byte order. The purpose of moving the IO only,
and non-byte order related functions to another class is to
make it easier for new contributors to understand that they
can use these functions in general and it's also makes it easier
to understand where to put new IO related utility functions

Change-Id: I4a9f6b39d5564bc8a694b366e7ff3cc758c5181b
Signed-off-by: Robin Rosenberg <robin.rosenberg@dewire.com>",0,0,0,0,0,0,0,0,0
97,I2f65022df4e6fe9b1db87eb29e9b079543984298,https://git.eclipse.org/r/#/c/97,1,87fef074afadd10f292e08cbb4929df527a5b4b6,e1a0100bcf6f2933c45f04433ddaada39e94b503,0,31/10/09,10/03/10,5,Correcting explanation of EDL,"Correcting explanation of EDL

Change-Id: I2f65022df4e6fe9b1db87eb29e9b079543984298
Signed-off-by: Matthias Sohn <matthias.sohn@sap.com>",0,0,0,1,0,0,1,NA,NA
98,I5473f3676a3642afdf9aaac44b7e6319c6e170b9,https://git.eclipse.org/r/#/c/98,2,5a999f39889a9960c30f5032c6acfd3ae55c7561,79d91ee0cfad83c116115737309d0c03a19613dc,0,31/10/09,10/03/10,1,Don't create .git/branches and .git/remotes folders on init.,"Don't create .git/branches and .git/remotes folders on init.

For historical reasons JGit was creating .git/branches and
.git/remotes folders on initialization of an empty repository.
However, these folders are never used and the new Git
repository format doesn't contain them.  Removed the
unnecessary folder creation.

Signed-off-by: Sasa Zivkov <sasa.zivkov@sap.com>",0,0,0,0,0,0,0,NA,NA
99,I9701366b3b1240879761b30556e6ff416e969e1d,https://git.eclipse.org/r/#/c/99,1,0a62f6d1d913c34c618e6ed385974bb75b62a322,8792c063b4e4cc23b43dba1ce91a070fbfd708df,0,31/10/09,10/03/10,162,Eclipse IDE: Automatically remove trailing whitespace on save,"Eclipse IDE: Automatically remove trailing whitespace on save

Our project coding conventions do not want trailing whitespace at
the end of a source code line.  Configure Eclipse to automatically
remove them when saving any Java source file.

Change-Id: I9701366b3b1240879761b30556e6ff416e969e1d
Reviewed-by: Mykola Nikishov <mn@mn.com.ua>
Reviewed-by: Alex Blewitt <alex.blewitt@gmail.com>
Signed-off-by: Shawn O. Pearce <spearce@spearce.org>",0,0,0,0,0,0,0,NA,NA
101,I19adafa87b70586dd44040e9dfce30f3d482ed28,https://git.eclipse.org/r/#/c/101,1,b701b40f51cea9624088e96685be479497d9ab81,aab6d7dea89790d219dbeb6179175187af9db5ae,1,01/11/09,10/03/10,0,Correct location of AmazonS3 command line client,"Correct location of AmazonS3 command line client

This code belongs inside of the org.eclipse.jgit.pgm bundle
so it is executable from the command line.

In af5cb5ced938 (""Move AmazonS3 command line utility to jgit-pgm"")
I accidentally moved this class into the wrong directory, probably
during some sort of rebase when I tried to pull this commit out of
its original position in an abanonded Maven refactoring series.

Change-Id: I19adafa87b70586dd44040e9dfce30f3d482ed28
Signed-off-by: Shawn O. Pearce <spearce@spearce.org>",1,0,0,0,0,0,1,1,1
102,I9e1f1f5a0bccb0ab0e39e49b75fb400fea446619,https://git.eclipse.org/r/#/c/102,2,aab6d7dea89790d219dbeb6179175187af9db5ae,08d7c98480002b9014a082089aa29cd5a3844c0f,0,03/11/09,10/03/10,65,"Switch pgm, test to proper plugin projects","Switch pgm, test to proper plugin projects

This way we depend upon the MANIFEST.MF to define our classpath
and our build will act more like any other OSGI bundle build.

Change-Id: I9e1f1f5a0bccb0ab0e39e49b75fb400fea446619
Signed-off-by: Shawn O. Pearce <spearce@spearce.org>",0,0,0,0,0,0,0,NA,NA
103,I355e95fa92fa7502651091d2b651be6917a26805,https://git.eclipse.org/r/#/c/103,2,05c8ba6190c67cdd70da016fb06da1b56c406c27,fb8a8bf735814ac92ced31521094d7c92394ae48,0,04/11/09,10/03/10,1135,Refactor our Maven build to be modular,"Refactor our Maven build to be modular

Drop our simple and stupid jgit.sh and instead rely upon Maven
for the command line based build.  Maven is relatively simple to
download and install, and doesn't require the entire Eclipse IDE.

To avoid too much refactoring of the current code we reuse the
existing src/ directory within each plugin, and treat each of
the existing OSGI bundles as one Maven artifact.

The command line wrapper jgit.sh no longer works in the uncompiled
state, as we don't know where to obtain our JSch or args4j from.
Developers will now need to compile it with `mvn package`, or run
our Main class from within an IDE which has the proper classpath.

Bug: 291265
Change-Id: I355e95fa92fa7502651091d2b651be6917a26805
Signed-off-by: Shawn O. Pearce <spearce@spearce.org>",1,0,0,0,1,0,1,NA,NA
104,I9153dea60d9d1724662ca079f16528a36c295b5d,https://git.eclipse.org/r/#/c/104,1,c10b48359e2adef41a009e532a31be8a5a935510,4cfad924d5190fd98b596cbd94b4d2a67075abac,0,04/11/09,10/03/10,3,Remove reference to branding plugin,"Remove reference to branding plugin

JGit does not contribute to the Eclipse UI hence it should not refer
to a branding plugin. See discussion on egit-dev :
http://dev.eclipse.org/mhonarc/lists/egit-dev/msg00304.html until
http://dev.eclipse.org/mhonarc/lists/egit-dev/msg00306.html

Change-Id: I9153dea60d9d1724662ca079f16528a36c295b5d
Signed-off-by: Matthias Sohn <matthias.sohn@sap.com>",0,0,0,0,0,0,0,NA,NA
106,I23b1f23e064224363585ec2f5dd62a0b4d28fb5b,https://git.eclipse.org/r/#/c/106,1,4cfad924d5190fd98b596cbd94b4d2a67075abac,5ef9f39d544517a687fff6f7b38032855177eb91,0,04/11/09,10/03/10,3,Use JUnit 3.8.2 under CQ 3589,"Use JUnit 3.8.2 under CQ 3589

CQ 3589 was submitted to request permission to use JUnit 3.8.2
from Orbit.  We don't redistribute JUnit but we compile against it
and do redistribute a test support JAR (org.eclipse.jgit.junit)
that would depend upon it if someone were to develop their own
application code and also wish to write unit tests with JUnit.

Change-Id: I23b1f23e064224363585ec2f5dd62a0b4d28fb5b
Signed-off-by: Shawn O. Pearce <spearce@spearce.org>",0,0,0,0,0,0,0,NA,NA
107,I5d50a2e7d0b34efb386492aedfe28f4ae67f92bc,https://git.eclipse.org/r/#/c/107,1,5ef9f39d544517a687fff6f7b38032855177eb91,cf3d4e9c13cef3a3fef8ba7c15e3853471473bc7,0,04/11/09,10/03/10,2,Use a more specific Bugzilla URL,"Use a more specific Bugzilla URL

This URL filters the search results within the entire Eclipse.org
Bugzilla server to only this that are open and pertain to our
project.  It also sets up the ""File a new bug"" link to send any
new issue in our direction.

Change-Id: I5d50a2e7d0b34efb386492aedfe28f4ae67f92bc
Signed-off-by: Shawn O. Pearce <spearce@spearce.org>",0,0,0,0,0,0,0,NA,NA
111,Ic2bbae75bf96fc8831324c62c2212131277f70e4,https://git.eclipse.org/r/#/c/111,1,b0a9f36694b247ca915c545fd0c5b217d02c7aef,0fbf058e7b566196fb7c30ebc1d51444128af197,0,17/11/09,10/03/10,88,tools/version.sh: Update embedded version numbers in build products,"tools/version.sh: Update embedded version numbers in build products

We can now use `tools/version.sh --release` to update the MANIFEST.MF
and Maven POM files with the current version number of this project,
so they appear in any build product created.

The counterpart --snapshot option be used to reset files to use
their natural *-SNAPSHOT and *.qualifier state during development.

We use a simple Bourne shell script with Perl calls because we
must edit both Maven pom.xml and OSGi bundle MANIFEST.MF in order
to store the correct data for our parallel build systems.  In the
future we should use a native Java solution which relies upon JGit
to compute the `git describe` portion.

Until we tag our first official release a ""tagged snapshot"" can be
made by creating an artifical annotated tag first:

  git tag -a -m ""initial contribution"" v0.5.1 046198cf5f21e5a63e8ec0ecde2ef3fe21db2eae
  tools/version.sh --release

Resulting in a version string like ""0.5.1.50-ge16af83"".

Change-Id: Ic2bbae75bf96fc8831324c62c2212131277f70e4
Signed-off-by: Shawn O. Pearce <spearce@spearce.org>",1,0,0,0,0,0,1,NA,NA
113,I4e369382b8a83a5c0772462d1b176b1e23910ada,https://git.eclipse.org/r/#/c/113,2,0fbf058e7b566196fb7c30ebc1d51444128af197,cdc5054579eae066250c096fa78aab487ff4d624,1,01/12/09,10/03/10,11,Replace a hard-coded default remote's name with a constant,"Replace a hard-coded default remote's name with a constant

Change-Id: I4e369382b8a83a5c0772462d1b176b1e23910ada",0,0,0,1,0,0,1,0,0
115,Iec0688232bd59d4626111d77633109918e8e1df3,https://git.eclipse.org/r/#/c/115,5,cdc5054579eae066250c096fa78aab487ff4d624,244b87fda47dbd520ce66a7fcd8d03e3945742b9,1,18/12/09,10/03/10,186,Method to get a 'humanish' name from a path,"Method to get a 'humanish' name from a path

Change-Id: Iec0688232bd59d4626111d77633109918e8e1df3",0,1,0,1,0,0,1,-1,0
125,I6005134a45046d16e323a2f9b2815831cdbe15e0,https://git.eclipse.org/r/#/c/125,3,a3723284d26213d40701496ddc60b9d7024a7305,4b49bee052dc75b7d30a3fa6a39de346c79b5a71,0,10/12/09,10/03/10,122,flipped jgit.core to manifest-first,flipped jgit.core to manifest-first,0,0,0,1,0,0,1,NA,NA
132,I2b9bceb13c0f66b25e9e3cefd2e01534a286e04c,https://git.eclipse.org/r/#/c/132,4,43c7ff46877c069c0d4a595c26582551928b129f,a8d3b489cfbbac25c61146f109b5b1c99d37fe1a,1,29/12/09,10/03/10,439,Recognize Git repository environment variables,"Recognize Git repository environment variables

This makes the jgit command line behave like the C Git implementation
in the respect.

These variables are not recognized in the core, though we add support
to do the overrides there. Hence other usrs of the JGit library like
the Eclipse plugin and others will not be affected.

GIT_DIR
	The location of the "".git"" directory.

GIT_WORK_TREE
	The location of the work tree.

GIT_INDEX_FILE
	The location of the index file.

GIT_CEILING_DIRECTORIES
	A color (semicolon on Windows) separated list of paths that
	which JGit will not cross when looking for the .git directory.

GIT_OBJECT_DIRECTORY
	The location of the objects directory under which objects are
	stored.

GIT_ALTERNATE_OBJECT_DIRECTORIES
	A colon (semicolon on Windows) separeted list of object directories
	to search for objects.

In addition to these we support the core.worktree config setting when
the git directory is set deliberately instead of being found.

Change-Id: I2b9bceb13c0f66b25e9e3cefd2e01534a286e04c
Signed-off-by: Robin Rosenberg <robin.rosenberg@dewire.com>",0,1,0,0,0,0,1,2,1
136,I557a95792fd45c3cfe37098e057c1e70660b3308,https://git.eclipse.org/r/#/c/136,4,aa565789d530222130aafed2d9aa148ba554338f,1af890ff29e8a4f4f687170e682350a7f3b914ae,0,12/12/09,10/03/10,2,Ignore target/ and bin/ forlders for jgit-feature,"Ignore target/ and bin/ forlders for jgit-feature

Change-Id: I557a95792fd45c3cfe37098e057c1e70660b3308",0,1,0,1,0,0,1,NA,NA
140,I411862393e7bf416b6f33ca55ec5af608ff4663,https://git.eclipse.org/r/#/c/140,6,3f43a27910b4e4593a0bc4137c53693a124e2e7b,3f0ed79c3f859e8299d8acb2fa545b4dbc8b4d11,1,06/01/10,10/03/10,875,Add merge algorithm,"Add merge algorithm

Adds the merge alorithm and tests for merge to jgit. The merge algorithm in
MergeAlgorithm.java will
- get as input parameters the common base, the two new contents called ""ours"" and ""theirs""
- compute the Edits from base to ours and from base to theirs with the help of MyersDiff
- iterate over the edits
-- independent edits from ours or from theirs will just be applied to the result
-- for conflicting edits I first harmonize the ranges of the edits so that in the end we
   have exactly two edits starting and ending at the same points in the common base. Then
   write the two conclicting contents into the result

Signed-off-by: Christian Halstrick <christian.halstrick@sap.com>
Change-Id: I411862393e7bf416b6f33ca55ec5af608ff4663",0,1,0,0,1,0,1,1,1
146,Ia88d48eab1eb4861ebfa39e3be9258c3824a19db,https://git.eclipse.org/r/#/c/146,3,9e126a49c9b19643ec3476026564d9e2b53211e7,d32962c2a5d245d07f64adbac9c1c457f6adac3a,1,29/12/09,10/03/10,96,Add support for creating detached heads,"Add support for creating detached heads

An extra flag when creating a RefUpdate object allosws the
caller to destroy the symref and replace it with an object
ref, a.k.a. detached HEAD.

Change-Id: Ia88d48eab1eb4861ebfa39e3be9258c3824a19db
Signed-off-by: Robin Rosenberg <robin.rosenberg@dewire.com>",0,0,0,0,0,0,0,0,0
147,I1c65f8b1131569da01b4ef33678d813565521fbb,https://git.eclipse.org/r/#/c/147,3,518f90a940385122b349693cfa9de9cb87b421f3,5bf0bc7bbd07cc07851c8a0d1699f9b86502c58d,1,22/12/09,10/03/10,9,Don't chrash if we try to load the config for a MockSystemReader,"Don't chrash if we try to load the config for a MockSystemReader

Instead do nothing. For now, save() will fail and the config
file is set to null which may surprise.

Change-Id: I1c65f8b1131569da01b4ef33678d813565521fbb
Signed-off-by: Robin Rosenberg <robin.rosenberg@dewire.com>",0,0,0,0,0,0,0,0,0
148,Ie386b2dbcba43c1ccec10465978d12d6829c6150,https://git.eclipse.org/r/#/c/148,2,760867b2cad3449e16f8a2da8cf29b37fe2ab98a,2708f6f292bff453dc5213ab503058df48e9bf86,0,21/12/09,10/03/10,19,Use Tycho version 0.6.0,"Use Tycho version 0.6.0

Changed Tycho version from 0.6.0-SNAPSHOT to 0.6.0 (i.e. release). SNAPSHOT versions are transient and should only be used for testing purposes only. Also removed now unnecessary <pluginRepositories/> element from JGit parent pom.xml file.

Change-Id: Ie386b2dbcba43c1ccec10465978d12d6829c6150
Signed-off-by: Igor Fedorenko <igor@ifedorenko.com>",0,0,0,0,0,0,0,NA,NA
149,I03f52131e64edcd0aa74bbbf36e7d42faaf4a698,https://git.eclipse.org/r/#/c/149,10,cd46dfd66a47eb4658f7728096274f9b400afaaf,4b47e26d68c2d6ac825122a0e94bda9bf1bf9174,1,28/12/09,10/03/10,60,"If RAW_LEN can indeed change make it non final to make this clear. If it cannot, the static initializer is indeed dead code and could be removed","If RAW_LEN can indeed change make it non final to make this clear. If it cannot, the static initializer is indeed dead code
and could be removed

Change-Id: I03f52131e64edcd0aa74bbbf36e7d42faaf4a698",0,1,0,1,0,0,1,0,0
151,Ie8e907424cfbbba84996ca205d49eacf339f9d04,https://git.eclipse.org/r/#/c/151,5,1bf7c2304be744ced614be47d9e075eeb7fd71a0,5307082447518090aba017c5482ed457a2771527,1,12/01/10,10/03/10,171,Implement multi_ack_detailed protocol extension,"Implement multi_ack_detailed protocol extension

The multi_ack_detailed extension breaks out the ""ACK %s continue"" status
code into ""ACK %s common"" and ""ACK %s ready"" states, making it easier to
discover which objects are truely common, and which objects are simply
on a chain the server doesn't care learning about.

Change-Id: Ie8e907424cfbbba84996ca205d49eacf339f9d04
Signed-off-by: Shawn O. Pearce <spearce@spearce.org>",1,1,0,0,0,0,1,2,1
152,Iac61ea1017b14e0ad3c4425efc3d75718b71bb8e,https://git.eclipse.org/r/#/c/152,5,b03b5e80d5919bb9b22dfe78df7952fec2b72e35,6b8e22ad3ae236fddeeb41060677bc2e6954e292,1,12/01/10,10/03/10,361,Refactor TemporaryBuffer to support reuse in other contexts,"Refactor TemporaryBuffer to support reuse in other contexts

Later we are going to add support for smart HTTP, which requires us to
buffer at least some of the request created by a client before we ship
it to the server.  For many requests, we can fit it completely into a
1 MiB buffer, but if it doesn't we can drop back to using the chunked
transfer encoding to send an unknown stream length.

Rather than recoding the block based memory buffer, we refactor the
local file overflow strategy into a subclass, allowing the HTTP client
code to replace this portion of the logic with its own approach to
start the chunked encoding request.

Change-Id: Iac61ea1017b14e0ad3c4425efc3d75718b71bb8e
Signed-off-by: Shawn O. Pearce <sop@google.com>",1,1,0,0,0,0,1,0,0
153,I0676c7b5e082a5886bf0e8f43f9fd6c46a666228,https://git.eclipse.org/r/#/c/153,3,57a3101d28e4dc512e381503fd71e83ca7c6f23c,71bbd261f1069f8e2e4a3d45f5ab99205ca7d291,1,04/01/10,10/03/10,425,UnionInputStream: combines sequential InputStreams into one,"UnionInputStream: combines sequential InputStreams into one

The UnionInputStream utility class combines multiple sequential
InputStreams so they appear to the caller as a single stream with
no gaps.  This can be used to concentate streams coming from multiple
independent HTTP connections (for example).

The companion unit test covers the class's full functionality.

Change-Id: I0676c7b5e082a5886bf0e8f43f9fd6c46a666228
Signed-off-by: Shawn O. Pearce <sop@google.com>",0,0,0,0,0,0,0,0,0
155,I5b232f673c14b788d80dee6ade0738a83266da3b,https://git.eclipse.org/r/#/c/155,1,486ba542610a3f0b344404207f237558c5c945ce,941e0d939bedff229456ad43ab471a50e9746b0d,1,22/12/09,10/03/10,4,Fix typo in ReceivePack.java,"Fix typo in ReceivePack.java

The comment indicates that a well-behaved client should not have
sent an update for a ref that already exists, but this in a block
that corresponds to a create command.",0,0,0,0,0,0,0,0,0
159,If7938a86fb0cc8e25099028d832dbd38110b9124,https://git.eclipse.org/r/#/c/159,4,89e53ca8f3b4bc539ed2fbfeba5a34c92ff4bc36,d3c917dcdf48ddf3b3d5972a33e8e40ed963007d,0,29/12/09,10/03/10,1026,Switch from Tycho based build to Apache Felix's maven-bundle-plugin,"Switch from Tycho based build to Apache Felix's maven-bundle-plugin

JUnit tests fail under Tycho's manifest-first build, because I
don't know why.

Rather than maintain OSGi bundle data by hand, use the same plugin
that Jetty is using to produce their OSGi bundles.

We're still compatible-enough with Eclipse to allow importing these
projects using the m2eclipse plugin as standard Maven projects, but
the PDE will think they are vaild plugins and make them available
for plugin builds, or test executions in the workbench.

A nice side-effect is we can continue to run with Maven 2.x, and
not require the 3.0 alpha builds needed to run Tycho.

A not-so-nice side-effect is our JSch dependency version number
is not embedded correctly into the bundle's MANIFEST.MF, which
means we could pick up any random version of JSch from our runtime
environment.  That's not the most stable way to execute.

Change-Id: If7938a86fb0cc8e25099028d832dbd38110b9124
Signed-off-by: Shawn O. Pearce <spearce@spearce.org>",0,1,0,0,1,0,1,NA,NA
163,I67d3ed543fcc38647041896146de12b1781ec6be,https://git.eclipse.org/r/#/c/163,1,240b194e76dec89d8b95f3aab3126565c2cda249,b9b58ff0758884ae448bf583027bfe3666e68114,0,29/12/09,10/03/10,3,Added -crfl attribute for DiffFormatterReflowTest test data,"Added -crfl attribute for DiffFormatterReflowTest test data

The test data is expected to have unix new lines by tests, but it
is converted to crlf on Windows platform (with msys git). As result
DiffFormatterReflowTest tests fail. To prevent this problem,
crlf conversion is disbled for test data related to that test.

Bug: 295077
Change-Id: I67d3ed543fcc38647041896146de12b1781ec6be
Signed-off-by: Constantine Plotnikov <constantine.plotnikov@gmail.com>",0,0,0,0,0,0,0,NA,NA
164,Id39bddb52de8c65bb097de042e9d4ed99598201f,https://git.eclipse.org/r/#/c/164,1,50bfc254123a48a5364997e2edcea3aef3deb1e1,0fe45d90ea0a3cdb66621c533f4a36ae3b2707e8,1,29/12/09,10/03/10,18,Use Constants.OBJECT_ID_STRING_LENGTH instead of LEN * 2,"Use Constants.OBJECT_ID_STRING_LENGTH instead of LEN * 2

A few locations were doing OBJECT_ID_LENGTH * 2 on their own, as
the old STR_LEN constant wasn't visible.  Replace them with the
new public constant OBJECT_ID_STRING_LENGTH.

Change-Id: Id39bddb52de8c65bb097de042e9d4ed99598201f
Signed-off-by: Shawn O. Pearce <spearce@spearce.org>",1,0,0,0,0,0,1,0,0
170,If1e81b6a981b9d70e849f24872f01c110e9bc950,https://git.eclipse.org/r/#/c/170,2,200cde93d96c4d8e433ee4c5968de2307cc7fa09,3748bbbc95724019e916ea05e84bc57ab4eb4064,0,07/01/10,10/03/10,14,Read core.worktree regardless of whether .git was discovered or not,"Read core.worktree regardless of whether .git was discovered or not

The C Git documentation stated that the core.worktree config was not
read when the .git directory was found implicitly (from the working directory).

This was not true and had not been so for a long time. The documentation
has been updated to document the existing behaviour.

Change-Id: If1e81b6a981b9d70e849f24872f01c110e9bc950
Signed-off-by: Robin Rosenberg <robin.rosenberg@dewire.com>",0,0,0,0,0,0,0,NA,NA
174,Idd20557d21fe20602c00a60bfeaea78d3c95fe5e,https://git.eclipse.org/r/#/c/174,1,bfa81cf5e7b8134a81c63ff9603427a416bbb497,35e595d2c92f0117f98570a12dddfe0c91c3c8b0,0,06/01/10,10/03/10,12,Fix code formatter style references,"Fix code formatter style references

We call it ""JGit Format"", not ""JGit"".

Change-Id: Idd20557d21fe20602c00a60bfeaea78d3c95fe5e
Signed-off-by: Shawn O. Pearce <spearce@spearce.org>",0,0,0,0,0,0,0,NA,NA
175,If780c65166ccada2e63a4f42bbab752a56b16564,https://git.eclipse.org/r/#/c/175,3,35e595d2c92f0117f98570a12dddfe0c91c3c8b0,eadde3bd5223ba3297b234056b2d68e4eaf765d0,0,12/01/10,10/03/10,4,Fix RefWriter creation of info/refs to omit HEAD,"Fix RefWriter creation of info/refs to omit HEAD

We really mean to omit HEAD here, but botched the difference between
getOrigName and getName on the Ref object.  We tested on the wrong
value, picking up the target of the symbolic ref and therefore
included it twice.

Change-Id: If780c65166ccada2e63a4f42bbab752a56b16564
Signed-off-by: Shawn O. Pearce <spearce@spearce.org>",1,0,0,0,0,0,1,NA,NA
176,I55cce3d557e1a28afe2fdf37b3a5b67e2651c9f1,https://git.eclipse.org/r/#/c/176,3,cf224339e421eb257435a8d856bbf3dfbe040f18,ef07d01d21674fe9471b6cd0a6d05cb7258f7ba4,1,12/01/10,10/03/10,802,Abstract out utility functions for creating test commits,"Abstract out utility functions for creating test commits

These routines create a fairly clean DSL for writing out the
structure of a repository in a test case.  Abstract them into
a helper class that we can reuse in other test environments.

Change-Id: I55cce3d557e1a28afe2fdf37b3a5b67e2651c9f1
Signed-off-by: Shawn O. Pearce <spearce@spearce.org>",1,0,0,0,1,0,1,1,1
177,Ic00a4ac626af7a1c94d18ee99305e295b267b1a3,https://git.eclipse.org/r/#/c/177,3,a5de0cf5f039e504908bc5dcf18b0cc5cf4f10c5,fcacc8471cb44f808b2da2b97cf9b3bfa3cfe7ec,1,12/01/10,10/03/10,22,Move TestRng to our JUnit helper package,"Move TestRng to our JUnit helper package

Other test suites may find this useful, especially when trying
to defeat the pack file compression with random data files.

Change-Id: Ic00a4ac626af7a1c94d18ee99305e295b267b1a3
Signed-off-by: Shawn O. Pearce <spearce@spearce.org>",0,0,0,0,0,0,0,0,0
178,Ie2a58fdfacfeee530b10edb433b8f98c85568585,https://git.eclipse.org/r/#/c/178,6,0f638d0bcf2b6558683bbe0ab821f9e0451671b5,27dfd3585a76314c39386f1cfc97c43d318eeba6,1,12/01/10,10/03/10,69,Download HEAD by itself if not in info/refs,"Download HEAD by itself if not in info/refs

The dumb HTTP transport needs to download the HEAD ref and
resolve it manually if HEAD does not appear in info/refs.

Its typically for it to not be in the info/refs file.

Change-Id: Ie2a58fdfacfeee530b10edb433b8f98c85568585
Signed-off-by: Shawn O. Pearce <spearce@spearce.org>",0,1,0,0,0,0,1,2,1
179,Ic5fe2e79bb216e36920fd4a70ec15dd6ccfd1468,https://git.eclipse.org/r/#/c/179,6,04d53e61bec4f56da0129fdd07173b2dcbe3a018,6f537975dfa14bfcbe3089930c08237553fcb86a,1,12/01/10,10/03/10,3494,Add JUnit tests for HTTP transport,"Add JUnit tests for HTTP transport

Change-Id: Ic5fe2e79bb216e36920fd4a70ec15dd6ccfd1468
Signed-off-by: Shawn O. Pearce <spearce@spearce.org>",1,1,0,1,1,0,1,3,1
180,Ia8e98d81ba1ab52f84d0258a40e6ef5eece9a5b1,https://git.eclipse.org/r/#/c/180,1,02f81b82b73a631c23202df15f9703647778b8a4,43f69c24ea7e991a20733c36bdebda80616e679a,1,06/01/10,10/03/10,39,Merge branch 'cq-diff',"Merge branch 'cq-diff'

Per CQ 3559 ""JGit - Eugene Myers O(ND) difference algorithm"" we
have approval to check this into our master branch.

* cq-diff:
  Add file content merge algorithm
  Add performance tests for MyersDiff
  Add javadoc comments, remove unused code, shift comments to correct place
  Fixed MyersDiff to be able to handle more than 100k
  Fix some warnings regarding unnecessary imports and accessing static methods
  Add the ""jgit diff"" command
  Prepare RawText for diff-index and diff-files
  Add a test class for Myers' diff algorithm
  Add Myers' algorithm to generate diff scripts
  Add set to IntList

Conflicts:
	org.eclipse.jgit/src/org/eclipse/jgit/diff/RawText.java

Change-Id: Ia8e98d81ba1ab52f84d0258a40e6ef5eece9a5b1
CC: Christian Halstrick <christian.halstrick@sap.com>",1,0,0,0,0,0,1,0,0
181,I5526edca9816b90f5df2d7f14f24f11d3f5d2ead,https://git.eclipse.org/r/#/c/181,1,43f69c24ea7e991a20733c36bdebda80616e679a,2055d54e6d6fb978449d98a1ac49a58838a322f7,1,06/01/10,10/03/10,3,Remove unnecessary semicolon in MergeChunk,"Remove unnecessary semicolon in MergeChunk

Change-Id: I5526edca9816b90f5df2d7f14f24f11d3f5d2ead
Signed-off-by: Shawn O. Pearce <spearce@spearce.org>",1,0,0,1,0,0,1,0,0
182,I0999c7bd68aa2ee74dffaed54a8dc4e1b67cf80d,https://git.eclipse.org/r/#/c/182,3,3524c82725398bf5f47102315696f21b7240b94d,57844abb0f4368072f76fb46ce83044ba7a48979,0,07/01/10,10/03/10,1,Use build timestamp as OSGi version qualifier for SNAPSHOT builds,"Use build timestamp as OSGi version qualifier for SNAPSHOT builds

Default maven-bundle-plugin behaviour results in use of the same .SNAPSHOT
OSGi bundle version qualifier for all snapshot builds. This causes
problems for eclipse update manager and other consumers that
rely on OSGi bundle metadata to select ""newer"" or ""best matching""
version of jgit bundle.

To solve the problem, maven-bundle-plugin is configured to replace
.SNAPSHOT with build timestamp in format like 20100106-1234.

Change-Id: I0999c7bd68aa2ee74dffaed54a8dc4e1b67cf80d
Signed-off-by: Igor Fedorenko <igor@ifedorenko.com>",0,0,0,0,0,0,0,NA,NA
183,I608ac7cf01673729303395e19b379b38fef136b3,https://git.eclipse.org/r/#/c/183,2,b1b6717cfcc5016a4e265de8e61ee480107310f7,187697f666e61bf97d31b3a7ee74c54abaae3dc3,1,12/01/10,10/03/10,5,Fix PersonIdent to always use SystemReader,"Fix PersonIdent to always use SystemReader

Under unit tests we want the when and timezone to come from the
MockSystemReader and be stable.  We did this for the default
constructor based on the Repository, but failed to do it for the
name,emailAddress variant of the constructor.

Change-Id: I608ac7cf01673729303395e19b379b38fef136b3
Signed-off-by: Shawn O. Pearce <spearce@spearce.org>",0,0,0,0,0,0,0,0,0
184,I649679a8df5683ebedd9380d703513d31c625932,https://git.eclipse.org/r/#/c/184,2,cccbb171f9c77fdbb8d64ea494110815be21d1a6,81eedbcfa38a271f36d4322ab9936e2e08ad536b,0,07/01/10,10/03/10,9,Explicitly release resources used by java.util.zip.Deflater,"Explicitly release resources used by java.util.zip.Deflater

Deflater can use significant amount of native (i.e. C) heap
space. Failure to promptly release this memory results
in native memory leak in some cases, particularly severe for
VMs with large java max heap size. For example, running
Team->Commit in one of my EGit workspaces results in ~500M
java process size increase without any significant change
to amount of used java heap when JVM is started with -Xmx1024m.

Change-Id: I649679a8df5683ebedd9380d703513d31c625932
Signed-off-by: Igor Fedorenko <igor@ifedorenko.com>",0,0,0,0,0,0,0,NA,NA
185,Idd98530d5f6fca4de8631aa865e4bcd6e6cf9306,https://git.eclipse.org/r/#/c/185,5,ac6982b6c86ed36706eb0b4502e1f77da5719cc5,0fd694666b9ff6c1104e94b76844e7bc11cdc812,1,12/01/10,10/03/10,6,Correct spelling error in StringUtils javadoc,"Correct spelling error in StringUtils javadoc

Change-Id: Idd98530d5f6fca4de8631aa865e4bcd6e6cf9306
Signed-off-by: Shawn O. Pearce <spearce@spearce.org>",0,1,0,1,0,0,1,0,0
194,I26b9287c45a4b2d2be35ba2849daa316f5eec85d,https://git.eclipse.org/r/#/c/194,5,0e798434550628bd1060953b9f58d8f0c79d0cd5,339f0641eb3e4e4fe3de34b38a06ffc53838e7a8,1,23/01/10,10/03/10,5049,Rewrite reference handling to be abstract and accurate,"Rewrite reference handling to be abstract and accurate

This commit actually does two major changes to the way references
are handled within JGit.  Unfortunately they were easier to do as
a single commit.

Disambiguate symbolic references:
---------------------------------

  Reporting a symbolic reference such as HEAD as though it were
  any other normal reference like refs/heads/master causes subtle
  programming errors.  We have been bitten by this error on several
  occasions, as have some downstream applications written by myself.

  Instead of reporting HEAD as a reference whose name differs from
  its ""original name"", report it as an actual SymbolicRef object
  that the application can test the type and examine the target of.

  With this change, Ref is now an abstract type with different
  subclasses for the different types.

  In the classical example of ""HEAD"" being a symbolic reference to
  branch ""refs/heads/master"", the Repository.getAllRefs() method
  will now return:

      Map<String, Ref> all = repository.getAllRefs();
      SymbolicRef HEAD = (SymbolicRef) all.get(""HEAD"");
      ObjectIdRef master = (ObjectIdRef) all.get(""refs/heads/master"");

      assertSame(master,               HEAD.getTarget());
      assertSame(master.getObjectId(), HEAD.getObjectId());

      assertEquals(""HEAD"",              HEAD.getName());
      assertEquals(""refs/heads/master"", master.getName());

  A nice side-effect of this change is the storage type of the
  symbolic reference is no longer ambiguous with the storge type
  of the underlying reference it targets.  In the above example,
  if master was only available in the packed-refs file, then the
  following is also true:

      assertEquals(Ref.Storage.LOOSE,  HEAD.getStorage());
      assertEquals(Ref.Storage.PACKED, master.getStorage());

  (Prior to this change we returned the ambiguous storage of
   LOOSE_PACKED for HEAD, which was confusing since it wasn't
   actually true on disk).

  Another nice side-effect of this change is all intermediate
  symbolic references are preserved, and are therefore visible
  to the application when they walk the target chain.  We can
  now correctly inspect chains of symbolic references.

  As a result of this change the Ref.getOrigName() method has been
  removed from the API.  Applications should identify a symbolic
  reference by testing for instanceof SymbolicRef and not by using
  an arcane string comparsion between properties.

Abstract the RefDatabase storage:
---------------------------------

  RefDatabase is now abstract, similar to ObjectDatabase, and a
  new concrete implementation called RefDirectory is used for the
  traditional on-disk storage layout.  In the future we plan to
  support additional implementations, such as a pure in-memory
  RefDatabase for unit testing purposes.

  The implementation of the in-memory reference cache, reading, and
  update routines has been completely rewritten.  Most of the code
  was heavily borrowed or cribbed from the prior implementation,
  so copyright notices have been left intact as much as possible.

  The RefDirectory cache no longer confuses symoblic references
  with normal references.  This permits the cache to resolve the
  value of a symbolic reference as late as possible, ensuring it
  is always current, without needing to maintain reverse pointers.

  The cache is now a single map (rather than 3), reducing the
  in-memory footprint and improving access times by reducing the
  number of map operations required per-reference read or updated.

  The RefLogWriter class has been fully folded into RefDirectory
  and is therefore deleted.  Maintaining the reference's log is
  the responsiblity of the database implementation, and not all
  implementations will use java.io for access.  Future work still
  remains to be done to abstract the ReflogReader class away from
  local disk IO.

Change-Id: I26b9287c45a4b2d2be35ba2849daa316f5eec85d
Signed-off-by: Shawn O. Pearce <spearce@spearce.org>",0,1,0,0,1,0,1,4,1
195,I1093e1ec2970147978a786cfdd0a75d0aebf8010,https://git.eclipse.org/r/#/c/195,6,d533cf2069f71a610f21bd8be8cb5faa3901f556,1c7c1efbde9922fc539f114f1eb399156e130cb2,1,23/01/10,10/03/10,214,Replace writeSymref with RefUpdate.link,"Replace writeSymref with RefUpdate.link

By using RefUpdate for symbolic reference creation we can reuse
the logic related to updating the reflog with the event, without
needing to expose something such as the legacy ReflogWriter class
(which we no longer have).

Applications using writeSymref must update their code to use the
new pattern of changing the reference through the updateRef method:

    String refName = ""refs/heads/master"";
    RefUpdate u = repository.updateRef(Constants.HEAD);
    u.setRefLogMessage(""checkout: moving to "" + refName, false);
    switch (u.link(refName)) {
    case NEW:
    case FORCED:
    case NO_CHANGE:
        // A successful update of the reference
        break;
    default:
        // Handle the failure, e.g. for older behavior
        throw new IOException(u.getResult());
    }

Change-Id: I1093e1ec2970147978a786cfdd0a75d0aebf8010
Signed-off-by: Shawn O. Pearce <spearce@spearce.org>",0,1,0,0,0,0,1,4,1
196,I7cf8e43344eaf301592fba0c178e04daad930f9a,https://git.eclipse.org/r/#/c/196,6,4c42cd11775d0a66cc63d2630de36c8d221b0735,0ba801b8b65865e928d102a24675cf87e2d8d7b1,1,23/01/10,10/03/10,41,branch: Add -m option to rename a branch,"branch: Add -m option to rename a branch

Change-Id: I7cf8e43344eaf301592fba0c178e04daad930f9a
Signed-off-by: Shawn O. Pearce <spearce@spearce.org>",1,1,0,1,0,0,1,0,0
200,I0af08127d507fbce186f428f1cdeff280f0ddcda,https://git.eclipse.org/r/#/c/200,1,5a7d57e4e165581dacee69e7109c7267dddd74c3,703be802bc8cc00601e3602f598778d62a45e7c9,0,12/01/10,10/03/10,630,"Partial revert ""Switch build to Apache Felix maven-bundle-plugin""","Partial revert ""Switch build to Apache Felix maven-bundle-plugin""

This restores the ability to build using just Eclipse without
strange procedures, extra plugins and it is again possible to
work on both JGit and EGit in the same Eclipse workspace with
ease.

Change-Id: I0af08127d507fbce186f428f1cdeff280f0ddcda
Signed-off-by: Robin Rosenberg <robin.rosenberg@dewire.com>",0,0,0,0,1,0,1,NA,NA
201,Ib7b9f05ee4c7c2bd7760ce44a7c2cd72759d514d,https://git.eclipse.org/r/#/c/201,2,efcd0b979439665f861290468723cad22bd75a16,d465a1a694f506b5bbd45f36bc37937e5982fab1,0,12/01/10,10/03/10,1,Merge branch 'restore-eclipse-manifests',"Merge branch 'restore-eclipse-manifests'

Evil merge:
	org.eclipse.jgit.pgm/META-INF/MANIFEST.MF

Change-Id: Ib7b9f05ee4c7c2bd7760ce44a7c2cd72759d514d
Signed-off-by: Robin Rosenberg <robin.rosenberg@dewire.com>",1,0,0,0,0,0,1,NA,NA
202,I53f77f2002cb4285f728968829560e835651e188,https://git.eclipse.org/r/#/c/202,1,d465a1a694f506b5bbd45f36bc37937e5982fab1,002d2fa660fa0233dc02066cb4a42e10b7324bf2,0,12/01/10,10/03/10,121,Finish removing Apache Felix maven-bundle-plugin,"Finish removing Apache Felix maven-bundle-plugin

Since Robin reverted using the maven-bundle-plugin to produce the
OSGi manifest, there is no reason for us to reference it from our
build process anymore.

Also, when Robin reverted the to the Eclipse way of doing things,
we failed to update the ignore files to ignore our generated files
but not ignore our tracked .classpath.

Finally, we cannot delete the MANIFEST.MF file during a Maven build,
as this is once again a source file.

Change-Id: I53f77f2002cb4285f728968829560e835651e188
Signed-off-by: Shawn O. Pearce <spearce@spearce.org>",1,0,0,0,0,0,1,NA,NA
203,Ibd5930bb9fc9589125876ca50c52e58bd31b051c,https://git.eclipse.org/r/#/c/203,4,4e776681752124d3feb40b7cb66f53babae0ba35,c2f8243a3520c4c77ee35cdbec4345d4e0dd38e1,0,23/01/10,10/03/10,94,Make the HTTP test work in Eclipse.,"Make the HTTP test work in Eclipse.

The Jetty components are not available as part of Eclipse, but
a P2 packaged version can be found via [1] for Eclipse 3.5 and
newer.

Signed-off-by: Robin Rosenberg <robin.rosenberg@dewire.com>

[1] http://wiki.eclipse.org/Jetty-OSGi_SDK

Change-Id: Ibd5930bb9fc9589125876ca50c52e58bd31b051c",0,1,0,0,0,0,1,NA,NA
205,Ie4026f15f6250c4933dccf6f31b5009b90c036bc,https://git.eclipse.org/r/#/c/205,6,b6ebda58c043da2c2cefc1d1581223fe3758e6aa,d96b3e21eb0e3ef855bec837acb9dcece03a4ffd,0,15/01/10,10/03/10,665,Maven 3/Tycho build for JGit feature,"Maven 3/Tycho build for JGit feature

As discussed on the jgit-dev list here:
http://dev.eclipse.org/mhonarc/lists/egit-dev/msg00654.html

Change-Id: Ie4026f15f6250c4933dccf6f31b5009b90c036bc
Signed-off-by: Matthias Sohn <matthias.sohn@sap.com>",0,1,0,0,1,0,1,NA,NA
210,I65a9da89aedd53817f2ea3eaab4f9c2bed35d7ee,https://git.eclipse.org/r/#/c/210,2,d4e301d9a8383f0a6e7d96c348d184bc8cbf18df,2b3a0b4e2dd2ff53e53047404e797abc0401b764,1,15/01/10,10/03/10,85,Introduce a named constant for the .git directory.,"Introduce a named constant for the .git directory.

Not all occurrences of "".git"" are replaced by this constant, only
those where it actually refers to the directory with that name, i.e
not the "".git"" directory suffix.

Asserts and comment are also excluded from replacement.

Change-Id: I65a9da89aedd53817f2ea3eaab4f9c2bed35d7ee
Signed-off-by: Robin Rosenberg <robin.rosenberg@dewire.com>",0,0,0,0,0,0,0,0,0
211,Icfe9205994c6810fcd880054a586e9eef29df9a1,https://git.eclipse.org/r/#/c/211,2,a447d5e3366d3b8585ea3f00675c4a63939459be,2b482a6cfb7a378566f9955d7e31ed1d07c6f5fe,1,15/01/10,10/03/10,20,"Introduce a named constant for the "".git"" directory extension","Introduce a named constant for the "".git"" directory extension

Change-Id: Icfe9205994c6810fcd880054a586e9eef29df9a1
Signed-off-by: Robin Rosenberg <robin.rosenberg@dewire.com>",0,0,0,1,0,0,1,0,0
213,I2aa1b2e2e08108deec051594ca8ac3992e271f0f,https://git.eclipse.org/r/#/c/213,1,607766a678f13cf00e91c7ecd3497426f9a2280c,ff013623537d903a7005f5cc2e7730834f4d7320,0,16/01/10,10/03/10,29,Remove redundant Maven plugin declarations from sub-modules,"Remove redundant Maven plugin declarations from sub-modules

Change-Id: I2aa1b2e2e08108deec051594ca8ac3992e271f0f
Signed-off-by: Matthias Sohn <matthias.sohn@sap.com>",0,0,0,1,0,0,1,NA,NA
214,I64155e5c8f5b860fdac442ef94a195789288eaab,https://git.eclipse.org/r/#/c/214,1,ef1d4eca5d0f8238065fb61191bea469ec37a249,f8350001a4e2c5025bdedd72bbf0a7bff7811ce2,0,17/01/10,10/03/10,9,Adding PDE API Tools nature to JGit,Adding PDE API Tools nature to JGit,0,0,0,1,0,1,1,NA,NA
228,I471b93f9bb3ee173eb37cae1d75e9e4eb49985e7,https://git.eclipse.org/r/#/c/228,2,e44280d2fb69a2442a46af089f1c55fa9a72ff0d,ee64346a3fa3d4036a45f1d7904059d2592c223c,1,27/01/10,10/03/10,277,Added caching for unpacked object look during pack indexing,"Added caching for unpacked object look during pack indexing

On Windows systems, file system lookup is a slow operation so
checking each object if it exists during indexing after receiving
the pack could take a siginificant time. This patch introduces
CachedObjectDirectory that pre-caches lookup results.

Signed-off-by: Constantine Plotnikov <constantine.plotnikov@gmail.com>
Signed-off-by: Shawn O. Pearce <spearce@spearce.org>",1,0,0,0,0,0,1,0,0
232,I62c4e77ae91fe17f56c5a5338d53828d4e225395,https://git.eclipse.org/r/#/c/232,3,03d5d303063335991af1c04e75b15629b6494c29,e5e24d6d1e0edf39e19200537c927a9c3f411bf9,0,23/01/10,10/03/10,63,Use build timestamp as OSGi version qualifier,"Use build timestamp as OSGi version qualifier

Translate the version qualifier using maven-antrun-plugin since we want
manifest-first and currently cannot rely on Tycho for the JGit build.

Introduce property for Eclipse p2 repository to enable builds against
other Eclipse versions.

Change-Id: I62c4e77ae91fe17f56c5a5338d53828d4e225395
Signed-off-by: Matthias Sohn <matthias.sohn@sap.com>",0,0,0,0,0,0,0,NA,NA
233,Ic2095274000336556f719edd75a5c5dd6dd1d857,https://git.eclipse.org/r/#/c/233,1,4084d023774abc6b0ee1ced46f37636ba9e47c66,288d9aaf43175fb4e19fe53d25f2319272488cf7,1,23/01/10,10/03/10,1706,Create new RefList and RefMap utility types,"Create new RefList and RefMap utility types

These types can be used by RefDatabase implementations to manage
the collection.

A RefList stores items sorted by their name, and is an immutable
type using copy-on-write semantics to perform modifications to
the collection.  Binary search is used to locate an existing item
by name, or to locate the proper insertion position if an item does
not exist.

A RefMap can merge up to 3 RefList collections at once during its
entry iteration, allowing items in the resolved or loose RefList
to override items by the same name in the packed RefList.

The RefMap's goal is O(log N) lookup time, and O(N) iteration time,
which is suitable for returning from a RefDatabase.  By relying on
the immutable RefList we might be able to make map construction
nearly constant, making Repository.getAllRefs() an inexpensive
operation if the caches are current.  Since modification is not
common, changes require up to O(N + log N) time to copy the internal
list and collapse or expand the list's array.  As most changes
are made to the loose collection and not the packed collection,
in practice most changes would require less than the full O(N)
time, due to a significantly smaller N in the loose list.

Almost complete test coverage is included in the corresponding
unit tests.  A handful of methods on RefMap are not tested in this
change, as writing the proper test depends on a future refactoring
of how the Ref class represents symbolic reference names.

Change-Id: Ic2095274000336556f719edd75a5c5dd6dd1d857
Signed-off-by: Shawn O. Pearce <spearce@spearce.org>",0,0,0,0,1,0,1,0,0
234,I49ada7c1220e0fc2a163b9752c2b77525d9c82c1,https://git.eclipse.org/r/#/c/234,3,99ffb6894332227821a5be492ca790d37cb8d71a,88ffc73e6da53a41ab65997f904fe529fe837739,1,23/01/10,10/03/10,31,Optimize RefAdvertiser performance by avoiding sorting,"Optimize RefAdvertiser performance by avoiding sorting

Don't copy and sort the set of references if they are passed through
in a RefMap or a SortedMap using the key's natural sort ordering.
Either map is already in the order we want to present the items
to the client in, so copying and sorting is a waste of local CPU
and memory.

Change-Id: I49ada7c1220e0fc2a163b9752c2b77525d9c82c1
Signed-off-by: Shawn O. Pearce <spearce@spearce.org>",1,0,0,0,0,0,1,0,0
236,If43aacf5aa4013edbd0a6e84d84c4f9e94de5be0,https://git.eclipse.org/r/#/c/236,2,45daadf3a33871c3366f6958e8657fc65adeefc9,ff2fe6192b6916cf302ceefecf81b70c4afb8945,0,23/01/10,10/03/10,6,Merge branch 'ref-abstract',"Merge branch 'ref-abstract'

* ref-abstract:
  Optimize RefAdvertiser performance by avoiding sorting
  branch: Add -m option to rename a branch
  Replace writeSymref with RefUpdate.link
  Rewrite reference handling to be abstract and accurate
  Create new RefList and RefMap utility types

Change-Id: If43aacf5aa4013edbd0a6e84d84c4f9e94de5be0",1,0,0,0,0,0,1,NA,NA
237,I45caafbad4daac827f661d38c7f719e9b5511dd4,https://git.eclipse.org/r/#/c/237,1,5d130971ce1eaa980fb3260b5e66205176fa3c23,81f241208b50a10d7c5d5edab328113f538366c2,0,23/01/10,10/03/10,2,Correct indentation in org.eclipse.jgit.packaging/pom.xml,"Correct indentation in org.eclipse.jgit.packaging/pom.xml

Change-Id: I45caafbad4daac827f661d38c7f719e9b5511dd4
Signed-off-by: Shawn O. Pearce <spearce@spearce.org>",1,0,0,1,0,0,1,NA,NA
238,Ibcea1cd6dda2af757a8584099619fc23b7779a84,https://git.eclipse.org/r/#/c/238,1,81f241208b50a10d7c5d5edab328113f538366c2,a989b4a362185bb962093b2bb88fe68398640444,0,23/01/10,10/03/10,37,"Correct bundle, provider names to be consistent","Correct bundle, provider names to be consistent

Technically our project name is ""JGit"", not ""Java Git"".  In fact
there is already another project called ""JavaGit"" (no space) that we
don't want to become confused with.  Ensure we always call ourselves
""JGit"" in user visible assets, like the bundle name.

Other Eclipse products list their provider as ""Eclipse.org"",
not ""eclipse.org"".  So list ourselves that way in all of our
plugin.properties files.

Change-Id: Ibcea1cd6dda2af757a8584099619fc23b7779a84
Signed-off-by: Shawn O. Pearce <spearce@spearce.org>",1,0,0,0,0,0,1,NA,NA
239,I34ba82e0624a0d1a7edcf62ffba72260af6f7e5d,https://git.eclipse.org/r/#/c/239,1,a989b4a362185bb962093b2bb88fe68398640444,0e3ea0f6a2caa61b3966453bd6dc1d9e671b0063,1,29/01/10,10/03/10,88,Relax ObjectChecker to permit missing tagger lines,"Relax ObjectChecker to permit missing tagger lines

Annotated tags created with C Git versions before the introduction
of c818566 ([PATCH] Update tags to record who made them, 2005-07-14),
do not have a ""tagger"" line present in the object header.  This line
did not appear in C Git until v0.99.1~9.

Ancient projects such as the Linux kernel contain such tags, for
example Linux 2.6.12 is older than when this feature first appeared
in C Git.  Linux v2.6.13-rc4 in late July 2005 is the first kernel
version tag to actually contain a tagger line.

It is therefore acceptable for the header to be missing, and for
the RevTag.getTaggerIdent() method to return null.

Since the Javadoc for getTaggerIdent() already explained that the
identity may be null, we just need to test that this is true when
the header is missing, and allow the ObjectChecker to pass anyway.

Change-Id: I34ba82e0624a0d1a7edcf62ffba72260af6f7e5d
See: http://code.google.com/p/gerrit/issues/detail?id=399
Signed-off-by: Shawn O. Pearce <spearce@spearce.org>",0,0,0,0,0,0,0,0,0
240,I7504e7b6238d5d8e698d37db7411c4817a039d08,https://git.eclipse.org/r/#/c/240,1,92ba850465bd85e7aff2c5b0632371e263d974ce,f3241d1b242c9cf5f236f2adf3efdef9e890a1dd,0,29/01/10,10/03/10,56,Check for remote server exec failures and report,"Check for remote server exec failures and report

If remote.name.uploadpack or .receivepack is misconfigured and points
to a non-existent command on the remote system, we should receive back
exit status 127.  Report this case specially with the command we used
so the user knows what is going.

Bug: 293703
Change-Id: I7504e7b6238d5d8e698d37db7411c4817a039d08
Signed-off-by: Shawn O. Pearce <spearce@spearce.org>",0,0,0,0,0,0,0,NA,NA
241,Id76f3e618967c98ed4fbc47a1a2a9e77acbe41ab,https://git.eclipse.org/r/#/c/241,1,e7f19bd1f58b9f921640af95008a90fd4c3507c0,ee6af355b5e7f3fb779b2a8114f653a6c990e020,1,23/01/10,10/03/10,1,"Disable the JRE HTTP cache, if any","Disable the JRE HTTP cache, if any

We don't want to use the JRE cache when fetching content.

Change-Id: Id76f3e618967c98ed4fbc47a1a2a9e77acbe41ab
Signed-off-by: Shawn O. Pearce <spearce@spearce.org>",0,0,0,0,0,0,0,0,0
242,Id37379ce20cb27e3330923cf989444dd9f2bdd96,https://git.eclipse.org/r/#/c/242,1,eee0d86f10208d9fb34ec4c1c31b73b27267889a,ed81345d18ba0137e4f6f985e102e62fcc8b166d,1,25/01/10,10/03/10,38,Don't confuse empty configuration variables with booleans,"Don't confuse empty configuration variables with booleans

Config was confusing the following two variables when writing the
file back to text format:

  [my]
    empty =
    enabled

When parsed, we say that my.empty has 1 value, null, and my.enabled
is an empty string value that in boolean context should be evaluated
as true.

Saving this configuration file back to text format was ignoring the
null value for my.empty, producing a completely different file than
what Config read:

  [my]
    empty
    enabled

Instead handle the writing differently to ensure the original format
is output.  New tests cases cover the expected behavior and return
values from accessor methods.

Change-Id: Id37379ce20cb27e3330923cf989444dd9f2bdd96
Signed-off-by: Shawn O. Pearce <spearce@spearce.org>",0,0,0,0,0,0,0,0,0
243,I499e1c96418557185d0e19ba8befe892f26ce7e4,https://git.eclipse.org/r/#/c/243,1,a03e96fb3d83b0de53dbaed299bc4ae6048f61c1,896aab8d24d0f48513bb645d3a7369441a470c48,1,27/01/10,10/03/10,107,Fix racy HTTP tests by waiting for requests to finish,"Fix racy HTTP tests by waiting for requests to finish

Ensure the background Jetty threads have been able to write the
request log record before the JUnit thread tries to read the set
of requests back.  This wait is necessary because the JUnit thread
may be able to continue as soon as Jetty has finished writing
the response onto the socket, and hasn't necessarily finished the
post-response logging activity.

By using a semaphore with a fixed number of resources, and using
one resource per request, but all of them when we want to read the
log, we implement a simple lock that requires there be no active
requests when we want to get the log from the JUnit thread.

Change-Id: I499e1c96418557185d0e19ba8befe892f26ce7e4
Signed-off-by: Shawn O. Pearce <spearce@spearce.org>",0,0,0,0,0,0,0,0,0
244,If01d9d98d07096db6980292bd5f91618c55d00be,https://git.eclipse.org/r/#/c/244,6,5067033216975b142f7fbe09100c707cd0a5e77b,ca4fa351b4d83205713a9daad51410865b23bb03,1,29/01/10,10/03/10,2893,Generate an Eclipse IP log with jgit eclipse-iplog,"Generate an Eclipse IP log with jgit eclipse-iplog

The new plugin contains the bulk of the logic to scan a Git repository,
and query IPZilla, in order to produce an XML formatted IP log for the
requested revision of any Git based project.  This plugin is suitable
for embedding into a servlet container, or into the Eclipse workbench.

The command line pgm package knows how to invoke this plugin through
the eclipse-iplog subcommand, permitting storage of the resulting log
as a local XML file.

Change-Id: If01d9d98d07096db6980292bd5f91618c55d00be
Signed-off-by: Shawn O. Pearce <spearce@spearce.org>",0,1,0,0,1,0,1,8,1
249,I55b42bca435c538a8c5534c68813568a2188b55b,https://git.eclipse.org/r/#/c/249,1,096fdacfd48c52063f7b9a7bc06fc6eb8131dc39,99b3581c916ffbebfca33e5e865547e4f084bdef,0,28/01/10,10/03/10,8,Update the update site URL and corresponding feature.properties.,"Update the update site URL and corresponding feature.properties.

Change-Id: I55b42bca435c538a8c5534c68813568a2188b55b
Signed-off-by: Matthias Sohn <matthias.sohn@sap.com>",0,0,0,1,0,0,1,NA,NA
250,I93390c9b2187eb1b0d51353518feaed83bed2aad,https://git.eclipse.org/r/#/c/250,2,491fe384e38c7ca8d3bff4c7bfb0d1e92a995762,a7d69383e1a99ded25bfcec6fb070f767044ed03,1,29/01/10,10/03/10,83,Add unsetSection to Config to remove an entire block,"Add unsetSection to Config to remove an entire block

The unsetSection method can be used to delete an entire configuration
block, such as a [branch """"] or [remote """"] section in a file.

Change-Id: I93390c9b2187eb1b0d51353518feaed83bed2aad
Signed-off-by: Shawn O. Pearce <spearce@spearce.org>",0,0,0,0,0,0,0,0,0
252,I6e85f836e7db057cede812d0d6c1aecbd6cbe6c5,https://git.eclipse.org/r/#/c/252,1,82af9abb1f3f4e79ce0adda406406bea9bd12b30,a6efcf340b64f6d0a88564689a3ed2362f593b5c,1,01/02/10,10/03/10,2,Fix server side NPE during push to empty repository,"Fix server side NPE during push to empty repository

If the repository is empty, we have no HEAD branch, which means we
can't test to see if the HEAD is detached and should be advertised
as a .have line.

Change-Id: I6e85f836e7db057cede812d0d6c1aecbd6cbe6c5
Signed-off-by: Shawn O. Pearce <spearce@spearce.org>",1,0,0,0,0,0,1,0,0
254,I55b36f82333961b9baa68ba5de36f86d3d763d74,https://git.eclipse.org/r/#/c/254,1,a6efcf340b64f6d0a88564689a3ed2362f593b5c,fea75813c24c7898928b35bb69ef1d2cbc62a83c,0,02/02/10,10/03/10,1,Fix .classpath to make jgit easily runnable from inside eclipse,"Fix .classpath to make jgit easily runnable from inside eclipse

When running jgit from inside Eclipse (e.g. rightclick on project
org.eclipse.jgit.pgm and select Run as->Java application) no commands
are found. This is because the commands are loaded from a resource file
/META-INF/services/org.eclipse.jgit.pgm.TextBuiltin and this file is
not anymore on the classpath.
I fixed this by modifying .classpath to contain the META-INF directory.

Signed-off-by: Christian Halstrick <christian.halstrick@sap.com>",0,0,0,0,0,0,0,NA,NA
255,I0fd4affe1dd5ec86e8c3253db42df11d3b612e36,https://git.eclipse.org/r/#/c/255,1,fea75813c24c7898928b35bb69ef1d2cbc62a83c,d2c7d374a002081006a0c93749032ebf0661226a,1,03/02/10,10/03/10,8,Remove RepositoryTestCase from DirCacheCGitCompatabilityTest,"Remove RepositoryTestCase from DirCacheCGitCompatabilityTest

This test doesn't actually depend upon the large data set we have
in the RepositoryTestCase, so drop that from the dependency and
use the more simple LocalDiskRepositoryTestCase instead.

Change-Id: I0fd4affe1dd5ec86e8c3253db42df11d3b612e36
Signed-off-by: Shawn O. Pearce <spearce@spearce.org>",0,0,0,0,0,0,0,0,0
256,I4bdde94576fffe826d0782483fd98cab1ea628fa,https://git.eclipse.org/r/#/c/256,1,d2c7d374a002081006a0c93749032ebf0661226a,5e63f2775abba5e8bdd9a98d568ef4280f595623,1,03/02/10,10/03/10,83,Correctly skip over unrecognized optional dircache extensions,"Correctly skip over unrecognized optional dircache extensions

We didn't skip the correct number of bytes when we skipped over an
unrecognized but optional dircache extension.  We missed skipping
the 8 byte header that makes up the extension's name and length.

We also didn't include the skipped extension's payload as part of
our index checksum, resuting in a checksum failure when the index
was done reading.  So ensure we always scan through a skipped
section and include it in the checksum computation.

Add a test case for a currently unsupported index extension, 'ZZZZ',
to verify we can still read the DirCache object even though we
don't know what 'ZZZZ' is supposed to mean.

Bug: 301287
Change-Id: I4bdde94576fffe826d0782483fd98cab1ea628fa
Signed-off-by: Shawn O. Pearce <spearce@spearce.org>",0,0,0,0,0,0,0,0,0
257,I0d1d0e8207f8a3f02188e60242e4e9bf7420e88f,https://git.eclipse.org/r/#/c/257,1,5e63f2775abba5e8bdd9a98d568ef4280f595623,1513441773343388f054b3fbae3b9311b7fa312b,0,03/02/10,10/03/10,6,Correct ObjectWalk error message when bad object is found,"Correct ObjectWalk error message when bad object is found

Instead of including ""ObjectId[SHA-1]"" in the message, just
us the formatted SHA-1 name of the object by calling name().

Change-Id: I0d1d0e8207f8a3f02188e60242e4e9bf7420e88f
Signed-off-by: Shawn O. Pearce <spearce@spearce.org>",0,0,0,0,0,0,0,NA,NA
258,I6237bae7bfd3794e8b9a92b4dd475559cc72e634,https://git.eclipse.org/r/#/c/258,1,1513441773343388f054b3fbae3b9311b7fa312b,4ba95e70a01effe50b126b024de62e3dd7fdd041,0,03/02/10,10/03/10,2,Ensure the tree parser resets in ObjectWalk,"Ensure the tree parser resets in ObjectWalk

During dispose() or reset() we are suppose to be restoring the
ObjectWalk instance back to the original pre-walk state, but we
failed to reset the tree parser.  This can lead to confusing state
if the ObjectWalk was reused by the caller, as entries from the
old walk might be reported as part of the new walk.

Change-Id: I6237bae7bfd3794e8b9a92b4dd475559cc72e634
Signed-off-by: Shawn O. Pearce <spearce@spearce.org>",0,0,0,0,0,0,0,NA,NA
259,I25bcb0bc99d0cbbbdd9c2bd625ad6a691a6d0335,https://git.eclipse.org/r/#/c/259,1,4ba95e70a01effe50b126b024de62e3dd7fdd041,a5d814a77be92aa865c4209c9f4138a7f8cadaa2,1,03/02/10,10/03/10,85,Fix ObjectWalk corruption when skipping over empty trees,"Fix ObjectWalk corruption when skipping over empty trees

The supplied test case comes out of the example tree identified by
Robert de Wilde and Ilari on #git:

  $ git ls-tree -rt a54f1a85ebf6a7f53aa60a45a1be33f8b078fb7e
  040000 tree bfe058ad536cdb12e127cde63b01472c960ea105    A
  040000 tree 4b825dc642cb6eb9a060e54bf8d69288fbee4904    A/A
  040000 tree 4b825dc642cb6eb9a060e54bf8d69288fbee4904    A/B
  100644 blob abbbfafe3129f85747aba7bfac992af77134c607    B

In this tree, ""B"" was being skipped because ""A/A"" as an empty tree
was immediately followed by ""A/B"", also an empty tree, but the
ObjectWalk broke out too early and never visited ""B"".

Bug: 286653
Change-Id: I25bcb0bc99d0cbbbdd9c2bd625ad6a691a6d0335
Signed-off-by: Shawn O. Pearce <spearce@spearce.org>",0,0,0,0,0,0,0,0,0
260,If5938f5d7b3ca24f500a184c9bd2ef193015414e,https://git.eclipse.org/r/#/c/260,1,a5d814a77be92aa865c4209c9f4138a7f8cadaa2,741cd4e7d5e06542d39c3aeb1fd8b0bb521ec8df,1,03/02/10,10/03/10,22,Micro-optimize CanonicalTreeParser next() for ObjectWalk,"Micro-optimize CanonicalTreeParser next() for ObjectWalk

ObjectWalk is invoking next() for each record we consider in a tree.
Rather than doing several method calls against the current parser,
and testing if we are at eof() at least twice per next() invocation,
do it only once and inline the logic to move the parser forward.

Change-Id: If5938f5d7b3ca24f500a184c9bd2ef193015414e
Signed-off-by: Shawn O. Pearce <spearce@spearce.org>",0,0,0,0,0,0,0,0,0
262,I699de149efdfccd85d8adde07d3efd080e3b49c2,https://git.eclipse.org/r/#/c/262,2,741cd4e7d5e06542d39c3aeb1fd8b0bb521ec8df,40982be6b50098eaf3ee75cfa46ad3bdf907dc27,1,04/02/10,24/06/13,176,Disallow creating invalid DirCacheEntry records,"Disallow creating invalid DirCacheEntry records

A dircache record must not use a path string like ""/a"" or ""a//b""
as this results in a tree entry being written with a zero length
name component in the record.  C git does not support an empty name,
and neither does any modern filesystem.

A record also must not have a stage outside of the standard 0-3
value range, as there are only 2 bits of space available in the
on-disk format of the record to store the stage information.
Any other values would be truncated into this space, storing a
different value than the caller expected.

If an application tries to create a DirCache record with either of
these wrong values, we abort with an IllegalArgumentException.

Change-Id: I699de149efdfccd85d8adde07d3efd080e3b49c2
Originally: http://thread.gmane.org/gmane.comp.version-control.git/128214
Signed-off-by: Shawn O. Pearce <spearce@spearce.org>
CC: Adam W. Hawks <awhawks@writeme.com>",0,0,1,0,0,0,1,0,0
263,Ie412053c390b737c0ece57b8e063e4355ee32437,https://git.eclipse.org/r/#/c/263,3,93193ea23b94e71091a2a5246354d34db257bb60,6b3953c3c4f601ea4ee2815790fe27dc0cdc2f7f,1,04/02/10,24/06/13,145,Don't allow DirCacheEntry with mode of 0,"Don't allow DirCacheEntry with mode of 0

A 0 file mode in a DirCacheEntry is not a valid mode.  To C git
such a value indicates the record should not be present.  We already
were catching this bad state and exceptioning out when writing tree
objects to disk, but we did not fail when writing the dircache back
to disk.  This allowed JGit applications to create a dircache file
which C git would not like to read.

Instead of checking the mode during writes, we now check during
mutation.  This allows application bugs to be detected sooner and
closer to the cause site.  It also allows us to avoid checking most
of the records which we read in from disk, as we can assume these
are formatted correctly.

Some of our unit tests were not setting the FileMode on their test
entry, so they had to be updated to use REGULAR_FILE.

Change-Id: Ie412053c390b737c0ece57b8e063e4355ee32437
Originally: http://thread.gmane.org/gmane.comp.version-control.git/128214/focus=128213
Signed-off-by: Shawn O. Pearce <spearce@spearce.org>
CC: Adam W. Hawks <awhawks@writeme.com>",0,0,1,0,0,0,1,1,1
264,I250d902fc98580444af1ba4b8fedceb654541451,https://git.eclipse.org/r/#/c/264,3,ba91fe254efe378ad21c3271b9f68b1e2024f9c5,9ceefaf913d7cc0a85f40d5abb5d7ee9b17dd801,0,04/02/10,24/06/13,4,Use keep(1) instead of add() when skipping an entry,"Use keep(1) instead of add() when skipping an entry

Doing a keep call with a length of 1 will copy the current entry just
like the previous add was doing, but it avoids doing any validation
on the entry.  This is sane because the entry can be assumed to be
already valid, since its originating from the destination index.

Change-Id: I250d902fc98580444af1ba4b8fedceb654541451
Originally: http://thread.gmane.org/gmane.comp.version-control.git/128214/focus=128213
Signed-off-by: Shawn O. Pearce <spearce@spearce.org>",0,0,1,0,0,0,1,NA,NA
265,I25dbbb9eaabe852631b677e0c608792b3ed97532,https://git.eclipse.org/r/#/c/265,1,3968760543d671a43647f4b7dedbd862a02d3a05,96d8c591b82a50d61e0283ea0e183a543927eefe,0,03/02/10,10/03/10,208,Cleanup OSGi Import-Package specifications to use versions,"Cleanup OSGi Import-Package specifications to use versions

Actually set the range of versions we are willing to accept for
each package we import, lest we import something in the future
that isn't compatible with our needs.

Change-Id: I25dbbb9eaabe852631b677e0c608792b3ed97532
Signed-off-by: Shawn O. Pearce <spearce@spearce.org>",0,0,0,0,0,0,0,NA,NA
266,I85a3fe87d5eff88fa788962004aebe19d2e91bb4,https://git.eclipse.org/r/#/c/266,2,f66807cff41d4ee2dca862b2e093de693c470e76,2b474b2576783ec7ed666d9a346211bcf24ce010,1,03/02/10,10/03/10,16,Close InputStream when read is complete,Close InputStream when read is complete,0,0,0,1,0,0,1,0,0
270,I201758f8df851c8f33fd47968a49a2a03409d1cd,https://git.eclipse.org/r/#/c/270,1,44db46a9e968b324f5c9d00f86634f73d7a71171,1c5f2fd0469cd2fa8fd72609ed285a14aaceded7,0,03/02/10,10/03/10,89,Adding some Eclipse-related legal files to JGit,Adding some Eclipse-related legal files to JGit,1,0,0,1,0,0,1,NA,NA
274,I7ea462fe3516e5060b87aa1f7ed63689936830c2,https://git.eclipse.org/r/#/c/274,1,48ae6ea72ed9a27d0d4fa58340c10e4aa3d99343,28cec9375739140365e080c6563f0977523942a8,0,05/02/10,24/06/13,1,Intermediate workaround for JGit's lack of core.autocrlf support,"Intermediate workaround for JGit's lack of core.autocrlf support

Windows users by default have core.autocrlf set to true. JGit
does not recognize the flags and thus works as if it is set. In order
to make JGit more compatible with msysgit we set the flag to false
in repositories that JGit creates.

Bug: 301775
Change-Id: I7ea462fe3516e5060b87aa1f7ed63689936830c2
Signed-off-by: Robin Rosenberg <robin.rosenberg@dewire.com>",0,0,1,0,0,0,1,NA,NA
278,Ie4133083a1cb1730f3dba52c0b8d359c7ed845e6,https://git.eclipse.org/r/#/c/278,1,28cec9375739140365e080c6563f0977523942a8,0649e8696c999221b7093555db20c93187d37d15,0,08/02/10,24/06/13,2,Update build to use Tycho 0.7.0,"Update build to use Tycho 0.7.0

Change-Id: Ie4133083a1cb1730f3dba52c0b8d359c7ed845e6
Signed-off-by: Matthias Sohn <matthias.sohn@sap.com>",1,0,1,1,0,0,1,NA,NA
280,Ie6320b0f8922e1a5e1bad91c016bd476ea094366,https://git.eclipse.org/r/#/c/280,5,9fd421cb7bab39124ab03135aaed1d9060927a24,a63f077d3a3b9758e66a90b6adcd14f81380a3a5,1,10/02/10,10/03/10,134,Add a RefFilter interface to ReceivePack and UploadPack,"Add a RefFilter interface to ReceivePack and UploadPack

When a user of ReceivePack or UploadPack wants to control what refs
are sent to the client, for instance when some refs should be hidden
from some clients, this interface can be extended to provide a fine
grained control over what refs are sent to the client.",0,1,0,0,0,0,1,0,0
282,Ieba75b4f0331e06a03417c37f4ae1ebca4fbee5a,https://git.eclipse.org/r/#/c/282,7,5b9a233e111da60f31947f4d39d947b8969c7423,3111dda775ee47fae1a3bb9da7ede8264a4fc1ac,1,11/02/10,10/03/10,126,Allow users of ReceivePack access to the objects being sent,"Allow users of ReceivePack access to the objects being sent

When implementing branch read access, we need to prove that the
newly created reference(s) point to objects that the user can see.

There are two ways that an object is reachable:
1)  It's reachable from a branch or change the user can see
2)  It was uploaded as part of the pack file the user sent us

This change adds additional methods in ReceivePack that will allow a
server to check the above conditions, in order to ensure that a user
is not trying to create a reference that they cannot see, or that a
malicious user isn't attempting to forge the SHA-1 of an object that
they cannot see in order to base a change off of it.",0,1,0,0,0,0,1,0,0
283,Id55a6415f5fd03a7cd9d4d4ecbdd726cef79430d,https://git.eclipse.org/r/#/c/283,1,b81f4eb1bb50718861aa1e9593daab9f28e0650f,000a75b77da5a9b7b997369f39db9d48fc1ba808,0,10/02/10,10/03/10,387,http.test: Use JGit Format and compiler settings,"http.test: Use JGit Format and compiler settings

Somehow we missed setting this up for the project.

Change-Id: Id55a6415f5fd03a7cd9d4d4ecbdd726cef79430d
Signed-off-by: Shawn O. Pearce <spearce@spearce.org>",1,0,0,0,0,0,1,NA,NA
284,I17e2c22498092d25dace88319698626ce55df822,https://git.eclipse.org/r/#/c/284,1,000a75b77da5a9b7b997369f39db9d48fc1ba808,7d91652c4aef2ba928578dbce595f87ddcfca86e,0,10/02/10,10/03/10,3,http.test: Add missing plugin.properties to build,"http.test: Add missing plugin.properties to build

Change-Id: I17e2c22498092d25dace88319698626ce55df822",1,0,0,1,0,0,1,NA,NA
285,Ic5a0ae1564d7744c203321857fc603e7008dbf13,https://git.eclipse.org/r/#/c/285,1,7d91652c4aef2ba928578dbce595f87ddcfca86e,5774acc4afe77c052cfb93ef16b5088d4823c893,0,10/02/10,10/03/10,2,http.test: Use JUnit 3 test runner,"http.test: Use JUnit 3 test runner

JGit relies on JUnit 3, not JUnit 4.

Change-Id: Ic5a0ae1564d7744c203321857fc603e7008dbf13
Signed-off-by: Shawn O. Pearce <spearce@spearce.org>",1,0,0,0,0,0,1,NA,NA
286,I450d491bbbb5afecdbf5444ab7169222e856a3bb,https://git.eclipse.org/r/#/c/286,1,5774acc4afe77c052cfb93ef16b5088d4823c893,3350fbc639944fd6630de7843eab49ff3f57b01a,1,10/02/10,10/03/10,2,Remove pointless boolean during native push,"Remove pointless boolean during native push

The boolean field sentCommand is always true at this point, as it
was assigned just 5 lines above.  So we always set the status of
the update command object to AWAITING_REPORT.

Simplify the logic by dropping the ?: operator.  I assume this is
older code from an attempt to manage dry-run push support within
the native connection, but in fact dry-run support is done higher
up inside of PushProcess.

Change-Id: I450d491bbbb5afecdbf5444ab7169222e856a3bb
Signed-off-by: Shawn O. Pearce <spearce@spearce.org>",0,0,0,0,0,0,0,-1,0
287,Ic14567327d03c9e972f9734b8228178bc448867d,https://git.eclipse.org/r/#/c/287,4,3350fbc639944fd6630de7843eab49ff3f57b01a,56d6ac3ea57541ff9c5b775b6850590b1a3f3b02,1,13/03/10,24/06/13,286,Refactor SideBandOutputStream to be buffered,"Refactor SideBandOutputStream to be buffered

Instead of relying on our callers to wrap us up inside of a
BufferedOutputStream and using the proper block sizing, do the
buffering directly inside of SideBandOutputStream.  This ensures
we don't get large write-throughs from BufferedOutputStream that
might overflow the configured packet size.

The constructor of SideBandOutputStream is also beefed up to check
its arguments and ensure they are within acceptable ranges for the
current side-band protocol.

Change-Id: Ic14567327d03c9e972f9734b8228178bc448867d
Signed-off-by: Shawn O. Pearce <spearce@spearce.org>",0,1,1,0,0,0,1,0,0
288,Iebd05538042913536b88c3ddc3adc3a86a841cc5,https://git.eclipse.org/r/#/c/288,4,6aeb922d897b8c3297734e5419e088353ab839eb,90052bd48787e4b27b4b70bc1cd44cbb10304a75,1,13/03/10,24/06/13,40,Refactor SideBandInputStream construction,"Refactor SideBandInputStream construction

Typically we refer to the raw InputStream (the stream without the
pkt-line headers on it) as rawIn, and the pkt-line header variant
as pckIn.  Refactor our fields to reflect that.  To ensure these
are actually the same underlying InputStream, we now create our own
PacketLineIn wrapper around the supplied raw InputStream.  Its a
very low-cost object since it has only the 4 byte length buffer.

Instead of hardcoding the header length as 5, use the constant from
SideBandOutputStream.  This makes it a bit more clear what we are
consuming, exactly here.

Change-Id: Iebd05538042913536b88c3ddc3adc3a86a841cc5
Signed-off-by: Shawn O. Pearce <spearce@spearce.org>",0,1,1,0,0,0,1,0,0
289,I20a52809c7a756e9f66b3557a4300ae1e11f6d25,https://git.eclipse.org/r/#/c/289,4,4fda09d21d71e2fd040a01b421478c2fc74da9da,e7fe639ca363a86e7433f8d3919400b4d229a111,1,13/03/10,24/06/13,2,Decode side-band channel number as unsigned integer,"Decode side-band channel number as unsigned integer

This field is unsigned in the protocol, so treat it
as such when we report the channel number in errors.

Change-Id: I20a52809c7a756e9f66b3557a4300ae1e11f6d25
Signed-off-by: Shawn O. Pearce <spearce@spearce.org>",0,1,1,0,0,0,1,0,0
290,I02c5e67c6be67e30e40d3bc4be314d6640feb519,https://git.eclipse.org/r/#/c/290,4,2112f51a35554e5e23fbd9a042631b62aad4ac56,5ddfd02f1179952150b18091f16748f95cb89a1a,1,13/03/10,24/06/13,13,"Prefix remote progress tasks with ""remote: ""","Prefix remote progress tasks with ""remote: ""

When we pull task messages off the remote peer via sideband #2
prefix them with the string ""remote: "" to make it clear to the
user these are coming from the other system, and not from their
local client.

Change-Id: I02c5e67c6be67e30e40d3bc4be314d6640feb519
Signed-off-by: Shawn O. Pearce <spearce@spearce.org>",0,1,1,0,0,0,1,0,0
291,I57e34cf59d42c1dbcbd1a83dd6f499ce5e39d15d,https://git.eclipse.org/r/#/c/291,4,9ec453e0801a489c2844a8e94a9645628b047ba5,eb32603a63fe5c8b17cb6e676f1461245577e728,1,13/03/10,24/06/13,8,Use more restrictive patterns for sideband progress scraping,"Use more restrictive patterns for sideband progress scraping

To avoid scraping a non-progress message as though it were a progress
item for the progress monitor, use a more restrictive pattern to
watch the remote side's messages.  These two regexps should match
any message produced by C Git since 42e18fbf5f94 (""more compact
progress display"", Oct 2007), and which first appeared in Git 1.5.4.

Change-Id: I57e34cf59d42c1dbcbd1a83dd6f499ce5e39d15d
Signed-off-by: Shawn O. Pearce <spearce@spearce.org>",0,1,1,0,0,0,1,0,0
292,I64f251ef2d13ab3fd0e1a319a4683725455e5244,https://git.eclipse.org/r/#/c/292,5,4c0b539af0ce097d4adbc9f0417a5b4f9d7691c7,aa3f1a1dcb3e887449c37312f8340b3ed10d0669,1,13/03/10,24/06/13,84,ReceivePack: Enable side-band-64k capability for status reports,"ReceivePack: Enable side-band-64k capability for status reports

We now advertise the side-band-64k capability inside of ReceivePack,
allowing hooks to echo status messages down the side band channel
instead of over the optional stderr stream.

This change permits hooks running inside of an http:// based push
invocation to still message the end-user with more detailed errors
than the small per-command string in the status report.

Change-Id: I64f251ef2d13ab3fd0e1a319a4683725455e5244
Signed-off-by: Shawn O. Pearce <spearce@spearce.org>",0,1,1,0,0,0,1,0,0
293,Ibc215f4569e63071da5b7e5c6674ce924ae39e11,https://git.eclipse.org/r/#/c/293,5,d9e12599612dab0d37c4aef5a5aa5bc226053311,439e5c65fe7cf0faee114361b3e28f6a81d228a9,1,13/03/10,24/06/13,844,Capture non-progress side band #2 messages and put in result,"Capture non-progress side band #2 messages and put in result

Any messages received on side band #2 that aren't scraped as a
progress message into our ProgressMonitor are now forwarded to a
buffer which is later included into the OperationResult object.
Application callers can use this buffer to present the additional
messages from the remote peer after the push or fetch operation
has concluded.

The smart push connections using the native send-pack/receive-pack
protocol now request side-band-64k capability if it is available
and forward any messages received through that channel onto this
message buffer.  This makes hook messages available over smart HTTP,
or even over SSH.

The SSH transport was modified to redirect the remote command's
stderr stream into the message buffer, interleaved with any data
received over side band #2.  Due to buffering between these two
different channels in the SSH channel mux itself the order of any
writes between the two cannot be ensured, but it tries to stay close.

To keep things simple, the application has to wait for the entire
operation to complete before it can see the messages.  This may
be a downside if the user is trying to debug a remote hook that is
blocking indefinitely, the user would need to abort the connection
before they can inspect the message buffer in any sort of UI built
on top of JGit.

Change-Id: Ibc215f4569e63071da5b7e5c6674ce924ae39e11
Signed-off-by: Shawn O. Pearce <spearce@spearce.org>",0,1,1,0,1,0,1,1,1
294,I64511eec24b49e33928451e4c8b8c124eddaf0c2,https://git.eclipse.org/r/#/c/294,1,a5e4b882e73cadc753b13bf5c5401b1aea7f9ce5,8cae60de7b38eb1df220eba6319986fc23db3e9b,1,17/02/10,10/03/10,8,"Fix TimeoutInputStreamTest, TimeoutOutputStreamTest assertions","Fix TimeoutInputStreamTest, TimeoutOutputStreamTest assertions

If the build server is really busy, we might wait longer than 250 ms
before being interrupted, simply because one of our threads couldn't
be scheduled onto a CPU.  Don't make that cause a test failure.
Instead tolerate longer than expected waits, but not shorter waits.

Change-Id: I64511eec24b49e33928451e4c8b8c124eddaf0c2
Signed-off-by: Shawn O. Pearce <spearce@spearce.org>",0,0,0,0,0,0,0,0,0
295,Ica1ba40ed2b4b6efb7d5e4ea240efc0a56fb71f6,https://git.eclipse.org/r/#/c/295,3,3ba41cceb9d86ba56b4a43709384b8159321b29b,49d20a93e44afd6af82a8a9710b4dc64ed72e39b,0,13/03/10,24/06/13,58,Wait for EOF on stderr before finishing SSH channel,"Wait for EOF on stderr before finishing SSH channel

JSch will allow us to close the connection and then just drop
any late messages coming over the stderr stream for the command.
This makes it easy to lose final output on a command, like from
Gerrit Code Review's post receive hook.

Instead spawn a background thread to copy data from JSch's pipe
into our own buffer, and wait for that thread to receive EOF on the
pipe before we declare the connection closed. This way we don't
have a race condition between the stderr data arriving and JSch
just tearing down the channel.

Change-Id: Ica1ba40ed2b4b6efb7d5e4ea240efc0a56fb71f6
Signed-off-by: Shawn O. Pearce <spearce@spearce.org>",0,0,1,0,0,0,1,NA,NA
299,I0ca61560f9888c666323dac8a5582aab25e897ff,https://git.eclipse.org/r/#/c/299,1,5703c7ddfeaac4a7dfc5739b1bcafa7505fa3609,ac47a6912bbf6e64f8acdbd66affe5394cce45d6,1,12/02/10,10/03/10,16,Don't doubly wrap TransportException in smart HTTP client,"Don't doubly wrap TransportException in smart HTTP client

If the readAdvertisedRefs() method throws an exception, its already
closed the connection and wrapped the underlying cause inside of a
suitable TransportException object that it is throwing.  We shouldn't
catch IOException and rethrow a wrapped copy here, because we'll double
wrap the exception thrown by readAdvertisedRefs.  This may obsecure the
root cause of the connection failure from the end-user.

Change-Id: I0ca61560f9888c666323dac8a5582aab25e897ff
Signed-off-by: Shawn O. Pearce <spearce@spearce.org>",0,0,0,0,0,0,0,0,0
300,I51ab62a382cfaf1082210e8bfaa69506fd0d9786,https://git.eclipse.org/r/#/c/300,2,0c8647b99c5bd1228dc4213b145b45c132907257,81167c76a94f3ca583fa1acdf23953c1f7dca57a,1,13/03/10,24/06/13,90,"Catch and report ""ERR message"" during remote advertisements","Catch and report ""ERR message"" during remote advertisements

GitHub broke the native git protocol a while ago by interjecting an
""ERR message"" line into the upload-pack or receive-pack advertisement
list.  This didn't match the expected pattern, so it caused existing
C Git clients to abort with a protocol exception.

These days, C Git clients actually look for this message and abort
with a more graceful notice to the end-user.  JGit should do the
same, including setting up a custom exception type that makes it
easier for higher-level UIs to identify a message from the remote
site and present it to the user.

Change-Id: I51ab62a382cfaf1082210e8bfaa69506fd0d9786
Signed-off-by: Shawn O. Pearce <spearce@spearce.org>",0,0,1,0,0,0,1,0,0
301,I03f4345183765d21002118617174c77f71427b5a,https://git.eclipse.org/r/#/c/301,2,9709a1cee35a6af01ab55bb48f6010dc359883c1,e41a645b09448e929dd8d69d80ce64f02e411552,1,13/03/10,24/06/13,190,"Use ""ERR message"" for early ReceivePack problems","Use ""ERR message"" for early ReceivePack problems

If the application wants to, it can use sendError(String) to send one
or more error messages to clients before the advertisements are sent.
These will cause a C Git client to break out of the advertisement
parsing loop, display ""remote error: message\n"", and terminate.

Servers can optionally use this to send a detailed error to a client
explaining why it cannot use the ReceivePack service on a repository.
Over smart HTTP these errors are sent in a 200 OK response, and
are in the payload, allowing the Git client to give the end-user
the custom message rather than the generic error ""403 Forbidden"".

Change-Id: I03f4345183765d21002118617174c77f71427b5a
Signed-off-by: Shawn O. Pearce <spearce@spearce.org>",0,0,1,0,0,0,1,0,0
303,I654d758658cded02d91324c385f336bcc57fd85f,https://git.eclipse.org/r/#/c/303,7,aa8e0e27c1d31f69d0cebae6bc22d270e4abe853,2e09707c126c0b0ba82a20b7390f6f1585d0cad8,0,10/03/10,10/03/10,438,Script to fix license headers and copyrights in Java sources,"Script to fix license headers and copyrights in Java sources

The script merges explicit copyright statements in all Java sources with author
information from git history, updates the copyright headers accordingly and
updates the license headers to EDL. For recognized copyright formats see the
test data in tools/fixHeaders-TestData.txt.

To fix the headers for all revisions run (caution: don't do that if
you don't understand the implications of rewriting history):

git filter-branch --tree-filter 'fixHeaders.pl' HEAD

There is no mapping from author information in git history to explicit
copyright headers yet which might be different. There is also no normalization
honoring .mailmap.

E.g. author ""Joe Developer <joe.dev@greatcorp.com>"" might have added an
explicit copyright header of his company ""Copyright (c) 2010, GreatCorp Inc.""
to a file he committed a change for. The script will then list copyright
headers for both.

Change-Id: I654d758658cded02d91324c385f336bcc57fd85f
Signed-off-by: Matthias Sohn <matthias.sohn@sap.com>",0,1,0,0,0,0,1,NA,NA
304,I02b5ec3ef6853688687d91de000a5fbe2354915d,https://git.eclipse.org/r/#/c/304,2,8458bd00a83eeec306b79492410482e3f5ecf263,cebfd8f962c40b35ec138d5f49abe147fb4f0dae,1,13/03/10,24/06/13,47,Fix smart HTTP client buffer alignment,"Fix smart HTTP client buffer alignment

This proved to be a pretty difficult to find bug.  If we read exactly
the number of response bytes from the UnionInputStream and didn't
try to read beyond that length, the last connection's InputStream is
still inside of the UnionInputStream, and UnionInputStream.isEmpty()
returns false.  But there is no data present, so the next read
request to our UnionInputStream returns EOF at a point where the
HTTP client code should have started a new request in order to get
more data.

Instead of wrapping the UnionInputStream, push an dummy stream onto
the end of it which when invoked always starts the next request and
then returns EOF.  The UnionInputStream will automatically pop that
dummy stream out, and then read the next request's stream.

This way we never get into the state where we don't think we need
to run another request in order to satisfy the current read request,
but we really do.

The bug was hidden for so long because BasePackConnection.init()
was always wrapping the InputStream into a BufferedInputStream
with an 8 KiB buffer.  This made the odds of us reading from the
UnionInputStream the exact number of available bytes quite low, as
the BufferedInputStream would always try to read a full buffer size.

Change-Id: I02b5ec3ef6853688687d91de000a5fbe2354915d
Signed-off-by: Shawn O. Pearce <spearce@spearce.org>",0,0,1,0,0,0,1,0,0
305,I2f6f16caee64783c77d3dd1b2a41b3cc0c64c159,https://git.eclipse.org/r/#/c/305,2,6e6d51abb5faa1a4a3279912b3eb24307b10fde0,2b4fa7ac882dad1cc974e0633e838c8a32a809b4,1,13/03/10,24/06/13,115,Reduce multi-level buffered streams in transport code,"Reduce multi-level buffered streams in transport code

Some transports actually provide stream buffering on their own,
without needing to be wrapped up inside of a BufferedInputStream in
order to smooth out system calls to read or write.  A great example
of this is the JSch SSH client, or the Apache MINA SSHD server.
Both use custom buffering to packetize the streams into the encrypted
SSH channel, and wrapping them up inside of a BufferedInputStream
or BufferedOutputStream is relatively pointless.

Our SideBandOutputStream implementation also provides some fairly
large buffering, equal to one complete side-band packet on the main
data channel.  Wrapping that inside of a BufferedOutputStream just to
smooth out small writes from PackWriter causes extra data copies, and
provides no advantage.  We can save some memory and some CPU cycles
by letting PackWriter dump directly into the SideBandOutputStream's
internal buffer array.

Instead we push the buffering streams down to be as close to the
network socket (or operating system pipe) as possible.  This allows
us to smooth out the smaller reads/writes from pkt-line messages
during advertisement and negotation, but avoid copying altogether
when the stream switches to larger writes over a side band channel.

Change-Id: I2f6f16caee64783c77d3dd1b2a41b3cc0c64c159
Signed-off-by: Shawn O. Pearce <spearce@spearce.org>",0,0,1,0,0,0,1,0,0
306,I790609c9f763339e0a1db9172aa570e29af96f42,https://git.eclipse.org/r/#/c/306,2,163a5ba4d64f00870f96f34adda092a79a364249,f5f391195728a20f0ec9c4cb2fe6d3f5f82d85a4,1,13/03/10,24/06/13,186,http.server: Use TemporaryBuffer and compress some responses,"http.server: Use TemporaryBuffer and compress some responses

The HTTP server side code now uses the same approach that the smart
HTTP client code uses when preparing a request body.  The payload
is streamed into a TemporaryBuffer of limited size.  If the entire
data fits, its compressed with gzip if the user agent supports that,
and a Content-Length header is used to transmit the fixed length
body to the peer.  If however the data overflows the limited memory
segment, its streamed uncompressed to the peer.

One might initially think that larger contents which overflow
the buffer should also be compressed, rather than sent raw, since
they were deemed ""large"".  But usually these larger contents are
actually a pack file which has been already heavily compressed by
Git specific routines.  Trying to deflate that with gzip is probably
going to take up more space, not less, so the compression overhead
isn't worthwhile.

This buffer and compress optimization helps repositories with a
large number of references, as their text based advertisements
compress well. For example jgit's own native repository currently
requires 32,628 bytes for its full advertisement of 489 references.
Most repositories have fewer references, and thus could compress
their entire response in one buffer.

Change-Id: I790609c9f763339e0a1db9172aa570e29af96f42
Signed-off-by: Shawn O. Pearce <spearce@spearce.org>",0,0,1,0,0,0,1,0,0
307,Ia5c8e95b85020f7f80b6d269dda5059b092d274d,https://git.eclipse.org/r/#/c/307,2,a477d7ef1179eff65c0c070a2b8886e24c175355,04f6251e36ddda4bb0516b081dc6d3b2d8f173c9,1,13/03/10,24/06/13,21,Reuse the line buffer between strings in PacketLineIn,"Reuse the line buffer between strings in PacketLineIn

When reading pkt-lines off an InputStream we are quite likely to
consume a whole group of fairly short lines in rapid succession, such
as in the have exchange that occurs in the fetch-pack/upload-pack
protocol.  Rather than allocating a throwaway buffer for each
line's raw byte sequence, reuse a buffer that is equal to the small
side-band packet size, which is 1000 bytes.  Text based pkt-lines
are required to be less than this size because many widely deployed
versions of C Git use a statically allocated array of this length.

Change-Id: Ia5c8e95b85020f7f80b6d269dda5059b092d274d
Signed-off-by: Shawn O. Pearce <spearce@spearce.org>",0,0,1,0,0,0,1,0,0
315,Ie0e63a0d7bb74eaad495dbe8248595d8a3a76883,https://git.eclipse.org/r/#/c/315,5,bb7ecbb9a906460f187b57579c85478400c0e405,9352c3751d6abddc25db876fe36a65651198236e,1,11/03/10,11/03/10,1126,Provide NLS support in JGIT.,"Provide NLS support in JGIT.

The support for NLS relies on java.util API to load a standard
ResourceBundle and then uses java reflection API to inject localized
strings into public String fields of the corresponding instance
of TranslationBundle.

Locale setting is supported per thread to enable concurrent threads
to use different locales. This is useful when JGit runs in a server
context where (error) messages might need to differ per-request to
suit the user's preference.

Signed-off-by: Sasa Zivkov <sasa.zivkov@sap.com>",0,1,0,0,1,0,1,1,1
320,Ia8c188b93ade4afabe6a9ccf267faf045f359a3a,https://git.eclipse.org/r/#/c/320,7,1ee1a2a3afe7c8f53aa651b7859f941d92c444f0,751191011a946a18c6d30ff69f2f5cecae654bf3,1,29/03/11,29/03/11,142,Added Merge command to command line,"Added Merge command to command line

In preparation to my upcoming commits bringing new merge strategies I add a simple merge command
to the command line for testing purposes. This merge command accepts the merge strategy as option
and uses the SIMPLE_IN_CORE_TWO_WAY as default. It expects exactly one other revision which is
merged with current head.

Signed-off-by: Christian Halstrick <christian.halstrick@sap.com>",0,1,0,0,0,1,1,1,1
336,I4e42364aeba53993c0ea528a9aeba3f08c7b3321,https://git.eclipse.org/r/#/c/336,2,54cbb176d5f82db8595cf632bf0e8cad550bb682,1cb03fc014d0f9bf9fc95a75f8ab48096e014c75,0,11/03/10,24/06/13,3,pgm: Report not in git repository rather than NPE,"pgm: Report not in git repository rather than NPE

If we can't find a Git repository after searching all the way up
to the filesystem root, JGit threw an NPE because we tried to get
the path of null.

Change-Id: I4e42364aeba53993c0ea528a9aeba3f08c7b3321
Signed-off-by: Shawn O. Pearce <spearce@spearce.org>
Reviewed-by: Robin Rosenberg <robin.rosenberg@dewire.com>",0,0,1,0,0,0,1,NA,NA
337,Ia6d7f862435a52ae09ebe29c3835bcee3cf73b93,https://git.eclipse.org/r/#/c/337,2,155a4b466e7da295b373378ddd3daa23057c7241,5a5d99f1815ce180a1b250cfc95006b9df0016f3,1,11/03/10,24/06/13,38,eclipse-ipzilla: Make sure login was successful,"eclipse-ipzilla: Make sure login was successful

If the login fails due to an invalid username or password, the only
way we can tell this is by looking at the page title and seeing if
the error message ""Invalid Username or Password"" is present.

If the user made a typo on their password, we shouldn't plow through
and try to run a query.  Doing so returns an HTML login page that
can't be parsed as a CSV file.

Change-Id: Ia6d7f862435a52ae09ebe29c3835bcee3cf73b93
Signed-off-by: Shawn O. Pearce <spearce@spearce.org>",1,0,1,0,0,0,1,1,1
338,I9142d8e7d53533f97f85c21b90ff93ee566564b5,https://git.eclipse.org/r/#/c/338,2,9efd6fb8a4875b6606811103c53771ea021c0778,4a2732b1832313753d811100a8bb834b8a6b5b01,0,11/03/10,24/06/13,4,IP Log: Update initial contribution CQ 3448,"IP Log: Update initial contribution CQ 3448

This has been approved for use under the EDL.

Change-Id: I9142d8e7d53533f97f85c21b90ff93ee566564b5
Signed-off-by: Shawn O. Pearce <spearce@spearce.org>",1,0,1,0,0,0,1,NA,NA
339,Ia220ba235e9fa522f3f5591b76652c174bcb094d,https://git.eclipse.org/r/#/c/339,2,74fcd529f02c4ee8465281e93329e0a1a6973813,94e2c807bb071f0c15f80de2c4f5a7d32451b1a2,1,11/03/10,24/06/13,2,eclipse-iplog: Correct line counts in initial commit,"eclipse-iplog: Correct line counts in initial commit

The initial commit line counts where wrong in the IP log, as we
were incrementing the file pointer by not the number of bytes in
the line, but the offset of the start of the next line.

Change-Id: Ia220ba235e9fa522f3f5591b76652c174bcb094d
Signed-off-by: Shawn O. Pearce <spearce@spearce.org>",1,0,1,0,0,0,1,0,0
340,I5cfcd70cd98e29159014cf3dbf0433dd9c49d49c,https://git.eclipse.org/r/#/c/340,2,d5fc668e4ad418c916e7b9c9aeefe3595b21eb39,d826b75b5cc761138645355fe5f9d13883b652ee,1,11/03/10,24/06/13,6,eclipse-iplog: Require at least one project section,"eclipse-iplog: Require at least one project section

We need at least one project definition to dump out a reasonably
sane IP log file in XML format.

Change-Id: I5cfcd70cd98e29159014cf3dbf0433dd9c49d49c
Signed-off-by: Shawn O. Pearce <spearce@spearce.org>",1,0,1,0,0,0,1,0,0
341,I598e08137ddc5913284471ee2aa545f4df685023,https://git.eclipse.org/r/#/c/341,2,52307ea122f6c35ba5a71bec9274c4cec6cc5957,ab3d65936c5357f6a51601b4f1fb089b7b4794cb,1,11/03/10,24/06/13,46,eclipse-iplog: Skip the initial contribution,"eclipse-iplog: Skip the initial contribution

The initial contribution was handled through a CQ, and does not need
to be reported as an individual bug record in the project's IP log.
Its an odd corner case that the EMO IP team doesn't want to see,
even though its technically a contribution written by at least
some non-committers.

The project.skipCommit variable can now be used to mask out any
particular change from the IP log.  Currently within JGit we want
to mask only the initial commit, but others could be masked if the
need arises.

Change-Id: I598e08137ddc5913284471ee2aa545f4df685023
Signed-off-by: Shawn O. Pearce <spearce@spearce.org>",1,0,1,0,0,0,1,0,0
343,I2c14e78a225f4bb7d7d1e82ace2bacee5a6b153e,https://git.eclipse.org/r/#/c/343,1,979c209259ed66ba8ebf624798d4ddfe37641b91,8232ece7212fe20ad08283e05872c72067635d96,1,12/03/10,12/03/10,38,s/StringBuffer/StringBuilder as appropriate where no concurrency is needed,s/StringBuffer/StringBuilder as appropriate where no concurrency is needed,0,0,0,1,0,0,1,0,0
345,I75c5648fcfc728a9aea2e839d2ad0320f5cf742f,https://git.eclipse.org/r/#/c/345,1,94856edb8c3f5a4947188167a980253948f2ca2f,cf6461764de0d0194a10e809dd56f18eda50e04a,1,13/03/10,13/03/10,35,Fix NLS to build under Java 5,"Fix NLS to build under Java 5

The tests were using a Locale.ROOT constant which was introduced
in Java 6.  However, we need to retain Java 5 support.

Change-Id: I75c5648fcfc728a9aea2e839d2ad0320f5cf742f
Signed-off-by: Shawn O. Pearce <spearce@spearce.org>
CC: Sasa Zivkov <sasa.zivkov@sap.com>",1,0,0,0,0,0,1,0,0
346,Iab51665336c6651457e6a4572ebb630619d2a5a1,https://git.eclipse.org/r/#/c/346,1,a2d86ddfee60d2865127b9573c7b98743987ff96,5cd955665266eb3d7b2a7eed54a49483b5f8b373,0,12/03/10,12/03/10,0,Merge branch 'stable-0.7',"Merge branch 'stable-0.7'

* stable-0.7:
  Fix NLS to build under Java 5",1,0,0,0,0,0,1,NA,NA
347,Ic9689e64e8c87971f2fd402cb619082309d5587f,https://git.eclipse.org/r/#/c/347,2,3e926972606fef86209f22025cd36e5f910da981,14a2a949f1f9979e40de7ce3f294cbd368468bf3,0,13/03/10,24/06/13,0,Merge branch 'push-sideband' into stable-0.7,"Merge branch 'push-sideband' into stable-0.7

* push-sideband:
  Reuse the line buffer between strings in PacketLineIn
  http.server: Use TemporaryBuffer and compress some responses
  Reduce multi-level buffered streams in transport code
  Fix smart HTTP client buffer alignment
  Use ""ERR message"" for early ReceivePack problems
  Catch and report ""ERR message"" during remote advertisements
  Wait for EOF on stderr before finishing SSH channel
  Capture non-progress side band #2 messages and put in result
  ReceivePack: Enable side-band-64k capability for status reports
  Use more restrictive patterns for sideband progress scraping
  Prefix remote progress tasks with ""remote: ""
  Decode side-band channel number as unsigned integer
  Refactor SideBandInputStream construction
  Refactor SideBandOutputStream to be buffered",1,0,1,0,0,0,1,NA,NA
354,I3e4b8505cb2992e3e4be253abb14a1501e47b970,https://git.eclipse.org/r/#/c/354,5,14b9feea45cd457ea099fd5a39bc5c2c2346c4a8,033e6191fefd7e1390df799f6cfbe4543000042d,1,18/03/10,18/03/10,58,Add 'paranoid' mode to ReceivePack's checkConnectivity,"Add 'paranoid' mode to ReceivePack's checkConnectivity

Ensure that we were provided each object.",0,1,0,0,0,0,1,1,1
377,I55a2a57c570a555f4c86903767d60ae7cfddacbe,https://git.eclipse.org/r/#/c/377,1,8df983bc90a77ee2fc63ff9c71404aaff0c048fd,1b3d1a3eae0ec8385ee1f81a63b65e5adfe6576c,0,19/03/10,19/03/10,5,Drop CQ 3448 from IP log,"Drop CQ 3448 from IP log

Because this is the original contribution made under the project's
official license, EMO has tagged it ""epl"" and dropped it from the
project's IP log.

Change-Id: I55a2a57c570a555f4c86903767d60ae7cfddacbe
Signed-off-by: Shawn O. Pearce <spearce@spearce.org>",1,0,0,0,0,0,1,NA,NA
378,I7c38b51f7139c02bef6b0e67d3f9199cbcdc8a39,https://git.eclipse.org/r/#/c/378,1,1b3d1a3eae0ec8385ee1f81a63b65e5adfe6576c,5bbd01b03f0a474e6d20cd9d9b2cf3333091e9a8,0,19/03/10,19/03/10,59,tools/version.sh: Update OSGi manifest files,"tools/version.sh: Update OSGi manifest files

Tag the version number and API range in the OSGi manifest files
whenever we bump the pom.xml files.

Change-Id: I7c38b51f7139c02bef6b0e67d3f9199cbcdc8a39
Signed-off-by: Shawn O. Pearce <spearce@spearce.org>",0,0,0,0,0,0,0,NA,NA
379,I9b00a4041c19115e81326afd2213b98603f789ad,https://git.eclipse.org/r/#/c/379,1,5bbd01b03f0a474e6d20cd9d9b2cf3333091e9a8,97c215affd0ed7d2f248d0d6e344ebd82ce0d612,0,19/03/10,19/03/10,254,JGit 0.7.0,"JGit 0.7.0

Change-Id: I9b00a4041c19115e81326afd2213b98603f789ad",0,0,0,1,0,0,1,NA,NA
385,I5afdc624b28fab37b28dd2cc71d334198672eef3,https://git.eclipse.org/r/#/c/385,2,97c215affd0ed7d2f248d0d6e344ebd82ce0d612,279b958e289baf22a30b213089f496f77af618fa,0,22/03/10,24/06/13,52,Qualify post-0.7.0 builds,"Qualify post-0.7.0 builds

Change-Id: I5afdc624b28fab37b28dd2cc71d334198672eef3
Signed-off-by: Shawn O. Pearce <spearce@spearce.org>",0,0,1,1,0,0,1,NA,NA
386,I8d78d27c48c16a70078bf76b255f8ade8e94db2a,https://git.eclipse.org/r/#/c/386,2,e935c74312ebc6ce702e84cb66aeb278f03358e4,fe893818e917ae70b82b4c674ba72fd3c1d0c650,0,22/03/10,24/06/13,0,Merge branch 'stable-0.7',"Merge branch 'stable-0.7'

* stable-0.7:
  Qualify post-0.7.0 builds
  JGit 0.7.0
  tools/version.sh: Update OSGi manifest files
  Drop CQ 3448 from IP log",0,0,1,0,0,0,1,NA,NA
387,I921e984f51ce498610c09e0db21be72a533fee88,https://git.eclipse.org/r/#/c/387,2,4a6412de5e52dca2b86dd528bc246c0d9e77fdfb,1a4334bda56155a27aac5eec62194bbc3602e25c,0,22/03/10,24/06/13,254,Qualify builds as 0.8.0,"Qualify builds as 0.8.0

We'll call our next release 0.8.1.  But until it is done, lets use
0.8.0-SNAPSHOT and 0.8.0.qualifier as the version numbers in any
build artifacts.

Change-Id: I921e984f51ce498610c09e0db21be72a533fee88
Signed-off-by: Shawn O. Pearce <spearce@spearce.org>",0,0,1,0,0,0,1,NA,NA
388,I8d078a339077756220c113f49d206b1bf295d434,https://git.eclipse.org/r/#/c/388,2,4ddf70e02528c1d750a0bf8fd7311919ffd6308a,36f79b69c4709fe19cdcd2636c3d6f6b6115b019,1,22/03/10,24/06/13,27,Fix EGit deadlock listing branches of SSH remote,"Fix EGit deadlock listing branches of SSH remote

When listing branches, EGit only reads the advertisement and then
disconnects.  When it closes down the pack channel the remote side is
waiting for the client to send our list of commands, or a flush-pkt to
let it know there is nothing to do.

However if an error thread is open watching the SSH stderr stream, we
ask for it to finish before we send the flush-pkt.  Unfortunately the
thread won't terminate until the main output stream closes, which is
waiting for the flush-pkt.  A classic network deadlock.

If the output stream needs a flush-pkt we send it before we wait for
the error stream to close.  If the flush-pkt is rejected, we close
down the output stream early, assuming that the remote side is broken
and we will get error information soon.

Change-Id: I8d078a339077756220c113f49d206b1bf295d434
Signed-off-by: Shawn O. Pearce <spearce@spearce.org>",1,0,1,0,0,0,1,0,0
390,Iad6354af57aaa2f233142fbf679489b08c121a71,https://git.eclipse.org/r/#/c/390,1,04c2ca19e9da94faafeed96e591a0d53c42340bd,04c2ca19e9da94faafeed96e591a0d53c42340bd,0,22/03/10,22/03/10,241,Merge branch 'stable-0.7',"Merge branch 'stable-0.7'

* stable-0.7:
  Qualify post-0.7.0 builds
  JGit 0.7.0

This is an 'ours' merge to avoid bringing in the 0.7.0 version
numbers in the manifest and pom files.

Change-Id: Iad6354af57aaa2f233142fbf679489b08c121a71",1,0,0,0,0,0,1,NA,NA
396,I2b6c555aee869b7ef01c5953a143ca18583af182,https://git.eclipse.org/r/#/c/396,1,410080af85c50bb2cc60438b373044d2fe3077d9,0acd22e75eb34e9aeec50732761dbb6627983da3,1,29/03/10,29/03/10,114,Make parsing of PersonIdent from raw byte array fault-tolerant.,"Make parsing of PersonIdent from raw byte array fault-tolerant.

RawParseUtils.parsePersonIdent handles now those invalid byte sequences
which would result in IndexOutOfBoundsException and returns null in this
case.",0,0,0,0,0,0,0,0,0
517,I12eba86bfbe584560c213882ebba58bf1f9fa0c1,https://git.eclipse.org/r/#/c/517,4,0acd22e75eb34e9aeec50732761dbb6627983da3,ce1d0f32915533b7f7a9b7ebee4fb8cf972cc2dc,0,11/04/10,11/04/10,30,JGit plugin not compatible with Eclipse 3.4,"JGit plugin not compatible with Eclipse 3.4

The JSch bundle in Eclipse 3.4 does not export its packages with
version numbers. Use Require-Bundle on version 0.1.37 that comes
with Eclipse 3.4

Bug: 308031

Change-Id: I12eba86bfbe584560c213882ebba58bf1f9fa0c1
Signed-off-by: Robin Rosenberg <robin.rosenberg@dewire.com>",0,1,0,0,0,0,1,NA,NA
523,I04334f84e76e83a4185283cb72ea0308b1cb4182,https://git.eclipse.org/r/#/c/523,7,76190ddb0c1ede45ed7e5ed4a95f48b9705343af,fed7ca99da4e921280bb1ea71ae06133f8fcc910,1,05/06/10,05/06/10,731,Add support for computing a Change-Id  la Gerrit,"Add support for computing a Change-Id  la Gerrit

Change-Id: I04334f84e76e83a4185283cb72ea0308b1cb4182
Signed-off-by: Robin Rosenberg <robin.rosenberg@dewire.com>",0,1,0,0,1,0,1,1,1
528,Ibd97515919ef66c6f8aa1a4fe8a11a6711335dad,https://git.eclipse.org/r/#/c/528,2,cb4e582545ce5537ceda414377e8720454d0e854,e2d5cb6e8259b0d9eefd8b3756207bcfc6f69cb7,1,13/04/10,13/04/10,70,Make Repository.getConfig aware of changed config,"Make Repository.getConfig aware of changed config

In the current implementation Repository reads user and repository 
config only at creation point of time.
The new implementatiopn checks in Repository.getConfig if user or 
repository config have changed on disk and reload the config if 
required. In case of reloading the config a new config object is 
created to ensure thread safe access to the config object.

Signed-off-by: Jens Baumgart <jens.baumgart@sap.com>",0,0,0,0,0,0,0,0,0
538,If626b12e7bb4da994b5c086f6a5b7a12c187261c,https://git.eclipse.org/r/#/c/538,1,3cc605afc34bdcf63627f6d98630c295da42e8bd,eb14c9780b60085b19d9ddce652785a71290c273,1,11/04/10,11/04/10,10,Speed up check for modifications of tracked resources,"Speed up check for modifications of tracked resources

We only need to check file existense if some other stat returns
a value that may mean that the file does not exist. File.length() == 0
or File.lastModified() == 0 are two such properties. We use length
here.

Change-Id: If626b12e7bb4da994b5c086f6a5b7a12c187261c
Signed-off-by: Robin Rosenberg <robin.rosenberg@dewire.com>",0,0,0,0,0,0,0,0,0
541,I99bac3376d9460ab94b548bd2f83be6fbc6ecbe3,https://git.eclipse.org/r/#/c/541,1,3ba40bf2135c7940428b10ca71c3af3b7436603f,24ed308a825bb180ca0bb2b6183869106a28fcaa,0,11/04/10,11/04/10,2,Update build to use Tycho 0.8,"Update build to use Tycho 0.8

Change-Id: I99bac3376d9460ab94b548bd2f83be6fbc6ecbe3
Signed-off-by: Matthias Sohn <matthias.sohn@sap.com>",0,0,0,1,0,0,1,NA,NA
543,I248a72575ff23fecf7599c06517c909f43f95ee4,https://git.eclipse.org/r/#/c/543,1,347330195ba085228e47a4d703db995f7b0a9972,36a89984485b03e4bba2ce553e7f482952cd09a5,0,11/04/10,11/04/10,7,Merge 'Update build to use Tycho 0.8',"Merge 'Update build to use Tycho 0.8'

Conflicts:
	org.eclipse.jgit.packaging/pom.xml

Change-Id: I248a72575ff23fecf7599c06517c909f43f95ee4",1,0,0,0,0,0,1,NA,NA
550,I9906ed8c42eab4d6029c781aab87b3b07c1a1d2c,https://git.eclipse.org/r/#/c/550,1,c379003bc11acacd9fdef55c8f33c56a77fa6a41,56475e9f8d261fa99cc59658cb5c73342774eb0a,1,14/04/10,14/04/10,11,Optimize ref scanning,"Optimize ref scanning

We can avoid one stat call by trying to perform a directory
listing without checking if the reference File is a directory.
Attempting a directory listing is defined to return. The other
case for null returns from list is when an I/O error occcurs.

Both cases are now intepreted as a possible plain reference. I/O
errors when reading plain references will be handled (ignored)
in scanRef().

Change-Id: I9906ed8c42eab4d6029c781aab87b3b07c1a1d2c
Signed-off-by: Robin Rosenberg <robin.rosenberg@dewire.com>",0,0,0,0,0,0,0,0,0
551,I5d5fdcf07e25ac9fc360e79a25dff491925e4101,https://git.eclipse.org/r/#/c/551,4,3886528df0b825656d220ddc5bc68ebb9b33c7e3,925cdeead7dbf4c810b68700925f9b4293776ff7,1,20/04/10,20/04/10,515,Fix ReceivePack setEnsureProvidedObjectsVisible on thin packs,"Fix ReceivePack setEnsureProvidedObjectsVisible on thin packs

If ensureProvidedObjectsVisible is enabled we expected any trees or
blobs directly reachable from an advertised reference to be marked
with UNINTERESTING.  Unfortunately ObjectWalk doesn't bother setting
this until the traversal is complete.  Even then it won't necessarily
set it on every tree if the corresponding commit wasn't popped.

When we are going to check the base objects for the received pack,
ensure the UNINTERESTING flag gets carried into every immediately
reachable tree or blob, because these are the ones that the client
might try to use as delta bases in a thin pack.

Change-Id: I5d5fdcf07e25ac9fc360e79a25dff491925e4101
Signed-off-by: Shawn O. Pearce <spearce@spearce.org>",0,1,0,0,1,0,1,0,0
552,I102b9637dfd048dc833c050890d142f43c1e75ae,https://git.eclipse.org/r/#/c/552,2,94f6866d80aad2be6e550de08f3bd8b0449e7d01,9c7c1d529c61008f2d2c041246de1981ed638d22,1,17/04/10,17/04/10,67,IndexPack: Correct thin pack fix using less than 20 bytes,"IndexPack: Correct thin pack fix using less than 20 bytes

If we need to append less than 20 bytes in order to fix a thin pack
and make it complete, we need to set the length of our file back to
the actual number of bytes used because the original SHA-1 footer was
not completely overwritten.  That extra data will confuse the header
and footer fixup logic when it tries to read to the end of the file.

This isn't a very common case to occur, which is why we've never
seen it before.  Getting a delta that requires a whole object which
uses less than 20 bytes in pack representation is really hard.
Generally a delta generator won't make these, because the delta
would be bigger than simply deflating the whole object.  I only
managed to do this with a hand-crafted pack file where a 1 byte
delta was pointed to a 1 byte whole object.

Normally we try really hard to avoid truncating, because its
typically not safe across network filesystems.  But the odds of
this occurring are very low.  This truncation is done on a file
we have open for writing, will append more content onto, and is
a temporary file that we won't move into position for others to
see until we've validated its SHA-1 is sane.  I don't think the
truncate on NFS issue is something we need to worry about here.

Change-Id: I102b9637dfd048dc833c050890d142f43c1e75ae
Signed-off-by: Shawn O. Pearce <spearce@spearce.org>",0,0,0,0,0,0,0,1,1
559,I0b4d9cbd346d5dc225ec12674da905c35457fa7c,https://git.eclipse.org/r/#/c/559,1,47bf47260a49cfd75f9f878e25842e361eddffa3,0ecf07c22063537d6adc404c7b909d29d477499c,1,15/04/10,15/04/10,8,Fix unit tests using MockSystemReader with user configuation,"Fix unit tests using MockSystemReader with user configuation

Since cc905e7d4be ""Make Repository.getConfig aware of changed config""
its invalid to have a null result from FileBasedConfig.getFile(), as
the path is used to stat the location on disk before returning the
Config object from Repository.getConfig().

Mock out the isOutdated() method to return false all of the time
in the mock test environment, so we don't crash with an NPE when
this mock user configuration is being called.

Change-Id: I0b4d9cbd346d5dc225ec12674da905c35457fa7c
Signed-off-by: Shawn O. Pearce <spearce@spearce.org>",0,0,0,0,0,0,0,0,0
568,I0d68e1243da8e62edf79c6ba4fd925f643e80a88,https://git.eclipse.org/r/#/c/568,1,c0cb4fdd02136d344d8225b9b3887cd9b1528021,b70caf791ababc87202ca99608f214ba3a590501,1,17/04/10,17/04/10,5,ObjectIdSubclassMap: Add isEmpty() method,"ObjectIdSubclassMap: Add isEmpty() method

This class behaves like a cross between a Set and a Map, sometimes
we might expect to use the method isEmpty() to test for size() == 0.
So implement it, reducing the surprise folks get when they are given
one of these objects.

Change-Id: I0d68e1243da8e62edf79c6ba4fd925f643e80a88
Signed-off-by: Shawn O. Pearce <spearce@spearce.org>",0,0,0,0,0,0,0,0,0
569,Iea25e6569ead5c8b3128b8a368c5b2caebec7ecc,https://git.eclipse.org/r/#/c/569,1,b70caf791ababc87202ca99608f214ba3a590501,86a92cc1ecb3f8045b67234dcb0394d217281671,1,17/04/10,17/04/10,3,ObjectIdSubclassMap: Correct Iterator to throw NoSuchElementException,"ObjectIdSubclassMap: Correct Iterator to throw NoSuchElementException

The Iterator contract says next() shall throw NoSuchElementException
if there are no more items remaining in the iteration.  We got this
wrong when I originally wrote the implementation, so fix it.

Change-Id: Iea25e6569ead5c8b3128b8a368c5b2caebec7ecc
Signed-off-by: Shawn O. Pearce <spearce@spearce.org>",0,0,0,0,0,0,0,0,0
570,I1e8bc87c2e9183733043622237a064e55957891f,https://git.eclipse.org/r/#/c/570,1,3ed9576cf93f5a4933f2356839f32797a3ec5466,80ddec6b89ce50ec45db743a46275d5db2e28c2f,1,20/04/10,20/04/10,1,ReceivePack: Discard IndexPack as soon as possible,"ReceivePack: Discard IndexPack as soon as possible

The IndexPack object carries a good bit of state within itself about
the objects received over the wire.  The earlier we can discard it,
the sooner the GC is able to reclaim this chunk of memory for other
uses.  So drop it as soon as we are certain the pack is valid and we
have no connectivity concerns.

Change-Id: I1e8bc87c2e9183733043622237a064e55957891f
Signed-off-by: Shawn O. Pearce <spearce@spearce.org>",0,0,0,0,0,0,0,0,0
571,I7ee44a314fa19e6a8520472ce05de92c324ad43e,https://git.eclipse.org/r/#/c/571,1,80ddec6b89ce50ec45db743a46275d5db2e28c2f,6c74639642ff9a3d510dcb17e469d7d83f09aa35,1,20/04/10,20/04/10,53,"ReceivePack: Remove need new,base object id properties","ReceivePack: Remove need new,base object id properties

These are more like internal implementation details of how IndexPack
works with ReceivePack to validate the incoming object stream.
Callers who are embedding the ReceivePack logic in their own
application don't really need to know the details of which objects
were used for delta bases in the incoming thin pack, or exactly
which objects were newly transmitted.

Hide these from the API, as exposing them through ReceivePack was
an early mistake.

Change-Id: I7ee44a314fa19e6a8520472ce05de92c324ad43e
Signed-off-by: Shawn O. Pearce <spearce@spearce.org>",0,0,0,0,0,0,0,0,0
572,I22ef71b45c2045a0202e7fd550a770ee1f6f38a6,https://git.eclipse.org/r/#/c/572,1,6c74639642ff9a3d510dcb17e469d7d83f09aa35,3a5f8ab4d70c5819b477b82d73368578ead2a164,1,20/04/10,20/04/10,70,IndexPack: Tighten up new and base object bookkeeping,"IndexPack: Tighten up new and base object bookkeeping

The only current consumer of these collections is ReceivePack,
where it needs to test ObjectId equality between a RevObject and an
ObjectId.  There we were copying from a traditional HashSet<ObjectId>
into an ObjectIdSubclassMap<ObjectId>, as the latter can perform
hashing using ObjectId's native value support, bypassing RevObject's
override on hashCode() and equals().  Instead of doing that copy,
directly create ObjectIdSubclassMap instances inside of ReceivePack.

We also only need to record the objects that do not appear in the
incoming pack, and were therefore copied from the local repositiory
in order to complete delta resolution.  Instead of listing everything
that used an OBJ_REF_DELTA format, list only the objects that we
pulled from the destination repository via a normal ObjectLoader.

ReceivePack can now discard the IndexPack object, and all of its
other data, as soon as these collections are held by the check
connectivity method.  This frees up memory for the ObjectWalk's
own RevObject pool.

Change-Id: I22ef71b45c2045a0202e7fd550a770ee1f6f38a6
Signed-off-by: Shawn O. Pearce <spearce@spearce.org>",0,0,0,0,0,0,0,0,0
573,Iab05705349cdf0d30cc3f8afc6698a8d2a941343,https://git.eclipse.org/r/#/c/573,1,3a5f8ab4d70c5819b477b82d73368578ead2a164,039ac069dae69da3e162e9de3dd299831cc9cf09,1,20/04/10,20/04/10,2,ReceivePack: Correct type of not provided object,"ReceivePack: Correct type of not provided object

If a tree was referenced but not provided in the pack, report it
as a missing tree and not as a missing blob.

Change-Id: Iab05705349cdf0d30cc3f8afc6698a8d2a941343
Signed-off-by: Shawn O. Pearce <spearce@spearce.org>",0,0,0,0,0,0,0,0,0
574,Ie3c7746f734d13077242100a68e048f1ac18c34a,https://git.eclipse.org/r/#/c/574,1,039ac069dae69da3e162e9de3dd299831cc9cf09,550c83b0155f1b44aef2b940f7fa6ed3086b7e16,1,20/04/10,20/04/10,10,ReceivePack: Micro-optimize object lookup when checking connectivity,"ReceivePack: Micro-optimize object lookup when checking connectivity

If we are checking the visibility of everything referenced in the
pack that isn't already reachable by a reference, it needs to be
in the provided set.  Since the provided set lists everything that
is in this pack, we can avoid checking to see if the blob exists
on disk, because we know it should be there, it was found in the
pack we just consumed.

Change-Id: Ie3c7746f734d13077242100a68e048f1ac18c34a
Signed-off-by: Shawn O. Pearce <spearce@spearce.org>",0,0,0,0,0,0,0,0,0
575,Ic352ddb0ca8464d407c6da5c83573093e018af19,https://git.eclipse.org/r/#/c/575,1,550c83b0155f1b44aef2b940f7fa6ed3086b7e16,517b1fb9f4dac658a3bb8eda9f1c16ec6bb861f7,1,20/04/10,20/04/10,80,ReceivePack: Clarify the check reachable option,"ReceivePack: Clarify the check reachable option

This option was mis-named from day 1.  Its not checking that the
objects provided by the client are reachable, its actually doing
a scan to prove that objects referenced by the client are already
reachable through another reference on the server, or were sent
as part of the pack from the client.

Rename it checkReferencedObjectsAreReachable, since we really are
trying to validate that objects referenced by the client's actions
are reachable to the client.

We also need to ensure we run checkConnectivity() anytime this is
enabled, even if the caller didn't turn on fsck for object formats.
Otherwise the check would be completely bypassed.

Change-Id: Ic352ddb0ca8464d407c6da5c83573093e018af19
Signed-off-by: Shawn O. Pearce <spearce@spearce.org>",0,0,0,0,0,0,0,0,0
584,I4ef2fcb931f3219872e0519abfcee220191d5133,https://git.eclipse.org/r/#/c/584,1,1e42ef296aa1c2eba008dc035611f9ab3b5d35e8,fb401c56bb95fe1219fd94cd9cae306c8b79f2dd,1,20/04/10,20/04/10,132886,Merge branch 'receive-pack-filter',"Merge branch 'receive-pack-filter'

* receive-pack-filter:
  ReceivePack: Clarify the check reachable option
  ReceivePack: Micro-optimize object lookup when checking connectivity
  ReceivePack: Correct type of not provided object
  IndexPack: Tighten up new and base object bookkeeping
  ReceivePack: Remove need new,base object id properties
  ReceivePack: Discard IndexPack as soon as possible
  ReceivePack: fix ensureProvidedObjectsVisible on thin packs

Change-Id: I4ef2fcb931f3219872e0519abfcee220191d5133",1,0,0,0,1,0,1,0,0
588,Ifc4278078b298781d55cf5421e9647a21fa5db24,https://git.eclipse.org/r/#/c/588,3,b07bc8a10b787efb625ef2edc410c720e334aa5d,12cc99d9b45c49beae227e46b829bf7511b29957,1,07/06/10,07/06/10,417,Repository can be configured with FS,"Repository can be configured with FS

On Windows, FS_Win32_Cygwin has been used if a Cygwin Git installation
is present in the PATH. Assuming that the user works with the Cygwin
Git installation may result in unnecessary overhead if he actually
does not.

Applications built on top of jgit may have more knowledge on the
actually used Git client (Cygwin or not) and hence should be able to
configure which FS to use accordingly.",0,0,0,0,0,0,0,0,0
591,I71ac4839ab9d2f848307eba9252090c586b4146b,https://git.eclipse.org/r/#/c/591,10,ad0c371926fbcac1849d4598028c525815ebe7b5,1b722ad05b7891007f363e2981f8319830276d23,1,10/05/10,10/05/10,1205,Add builder-style API to jgit and Commit & Log cmd,"Add builder-style API to jgit and Commit & Log cmd

Added a new package org.eclipse.jgit.api and a builder-style API for
jgit. Added also the first implementation for two git commands: Commit
and Log.

This API is intendet to be used by external components when
functionalities of the standard git commands are required. It will also
help to ease writing JGit tests.

For internal usages this API may often not be optimal because the git
commands are doing much more than required or they expect parameters of
an unappropriate type.

Signed-off-by: Christian Halstrick <christian.halstrick@sap.com>",0,1,0,0,1,1,1,1,1
594,I44f2247c08b6e04fa62f8399609341b07508c096,https://git.eclipse.org/r/#/c/594,1,485ad03165a6115d13a4642e7c9fbd75f6a21ca8,118e16515ba17f9da4a7a2dc3deb598ab0e0b01a,1,24/04/10,24/04/10,1,Fix NPE during InflaterCache return after corrupt loose object,"Fix NPE during InflaterCache return after corrupt loose object

If a corrupt loose object is read, UnpackedObjectLoader was disposing
of the Inflater, and then attempting to return the disposed Inflater
to the InflaterCache.  Since the disposed Inflater had its native
libz resource deallocated and its reference cleared out, the Inflater
threw NullPointerException and refused to reset itself before being
put back into the cache.

Instead of disposing of the Inflater when corruption is found, do
nothing, and allow it to be returned to the cache.  The instance
will get reset, and should be usable by a future caller.

Bug: 310291
Change-Id: I44f2247c08b6e04fa62f8399609341b07508c096
Signed-off-by: Shawn O. Pearce <spearce@spearce.org>",0,0,0,0,0,0,0,0,0
598,Ic0f29c80b9a54fcec8320d8539a3e112852a1f7b,https://git.eclipse.org/r/#/c/598,4,a1a634f6b333881f6a279387839509ea04bce116,d646d17d032478f30b7258b660480ed9078e6c7b,1,19/05/10,19/05/10,3773,Externalized strings from few JGit command line commands.,"Externalized strings from few JGit command line commands.

This change is not complete. The only purpose is to get a
feedback on the approach to the string externalization before
externalizing all the strings from JGit.

Additionally, the TranslationBundle.getEffectiveLocale method
was renamed to effectiveLocale to make usage of it more elegant.
Typically it will be used like
    TranslationBundle.get().effectiveLocale()
which is more elegant than: 
    TranslationBundle.get().getEffectiveLocale()

Signed-off-by: Sasa Zivkov <sasa.zivkov@sap.com>",0,1,0,0,1,0,1,7,1
603,I13152575b5b03f6f9e816d0747e7a8c5c6fccade,https://git.eclipse.org/r/#/c/603,3,3e6bc99c50b5902f18b1bbd1d93c31ef01af129b,bd2d2160f663309dbb77b03b61bccd4d23fe78f7,1,12/05/10,12/05/10,89,Add a commit command to the pgm package,"Add a commit command to the pgm package

The commit command is added using the new Git class. Currently
this supports only the author and commit-message option.

Signed-off-by: Christian Halstrick <christian.halstrick@sap.com>",0,0,0,0,0,0,0,0,0
610,I0e6673b8e813c8c08c594ea2ba546fd366339d5d,https://git.eclipse.org/r/#/c/610,1,61062accb151c0245a9833b273a08381ff8b344f,f8e1aa5f9da1404038b8189fc917398ea7ea1d86,1,03/05/10,03/05/10,12,Cleanup duplicated object reuse code in PackWriter,"Cleanup duplicated object reuse code in PackWriter

This reuse line was identical between the two branches related to
reusing a delta, or reusing a whole object.  Either way they reuse
the body of the object as-is.  So just make that a common function
after the header is written.

Change-Id: I0e6673b8e813c8c08c594ea2ba546fd366339d5d
Signed-off-by: Shawn O. Pearce <spearce@spearce.org>",0,0,0,0,0,0,0,0,0
611,I0d339b9fd1dd8012e8fe5a564b893c0f69109e28,https://git.eclipse.org/r/#/c/611,1,f8e1aa5f9da1404038b8189fc917398ea7ea1d86,f21cd8f4a26ad49f5e06c79b100b206e07b9bfa9,0,03/05/10,03/05/10,7,Favor earlier PackFile instances over later duplicates,"Favor earlier PackFile instances over later duplicates

There is a potential race condition during insertPack that can lead
to us having the same pack file open twice in the same directory.

A different thread can miss an object on disk, and trigger a scan
of the directory, and notice the pack that was put in by IndexPack.
So the pack winds up in the newly created PackList.

The IndexPack thread then wakes up and finishes its insertPack by
creating a new PackFile and inserting it into position 0 of the list.
We now have the same pack listed twice.

Readers will favor the earlier PackFile instance, because its the
first one they come across as they iterate through the list.

Keep that earlier one when we scan the pack directory again, as
this will avoid needing to purge out all of the windows that may
have been cached.

Of course we should also fix that race condition, but this block
was taking the wrong resolution if this error ever shows up, so
lets first fix the block to use a more sane resolution.

Change-Id: I0d339b9fd1dd8012e8fe5a564b893c0f69109e28
Signed-off-by: Shawn O. Pearce <spearce@spearce.org>",0,0,0,0,0,0,0,NA,NA
612,Ice4459bbd4ee9487078aff5257893883d04f05fb,https://git.eclipse.org/r/#/c/612,1,f21cd8f4a26ad49f5e06c79b100b206e07b9bfa9,5497c25d3591f4edf4e16471de315b6cb9342f19,0,03/05/10,03/05/10,13,Don't insert the same pack twice into a pack list,"Don't insert the same pack twice into a pack list

If a concurrent thread picks up a newly created PackFile and adds
it to the pack list before the IndexPack thread itself can insert
the item onto the front of the list, do nothing and use the item
that was picked up by that other concurrent scanning thread.

This avoids a potential condition where the same pack exists in
memory twice, which causes confusion later during a rescan of the
directory because we don't know exactly which PackFile instance
should be retained into the new list, and which should be discarded.

We can stop searching through the old pack list as soon as the
sort function declares that the item to insert should be before
the item already in the list.  Because the list is always sorted
by modification time (in seconds), we should never encounter a
case where the pack is positioned at the wrong spot in the list.
This early break out still permits an efficient implementation of
the common case, inserting a new pack at the head of the list.

Change-Id: Ice4459bbd4ee9487078aff5257893883d04f05fb
Signed-off-by: Shawn O. Pearce <spearce@spearce.org>",0,0,0,0,0,0,0,NA,NA
618,I1621b93d4f401176704e7c43935a5ce0c8ee8419,https://git.eclipse.org/r/#/c/618,1,fd95931d6da225b3e1866c00afffe08d47b9d81f,f24c0530dd5a786f1982a2dd3f871f3f59f55b5e,0,27/04/10,27/04/10,6,Cleaning up provider and feature names,"Cleaning up provider and feature names

It is incorrect to use Eclipse.org as the providerName now,
we'll use Eclipse JGit.

Change-Id: I1621b93d4f401176704e7c43935a5ce0c8ee8419
Signed-off-by: Chris Aniszczyk <caniszczyk@gmail.com>",0,0,0,0,0,1,1,NA,NA
620,I4d2703efa4b2e0c347ea4f4475777899cf71073e,https://git.eclipse.org/r/#/c/620,3,6599ec6cb2f7bd509c9842298f78811f9f1bf3f6,59eb96b7fbed8c229471f1c8b2642aecd1c34059,1,28/04/10,28/04/10,9,Fix ReceivePackRefFilterTest on Windows,"Fix ReceivePackRefFilterTest on Windows

The pack files were left open after the test ended, which meant
we could not delete them automatically when the test was over.

Make sure we close the repositories (and thus their underlying packs)
before the tear down finishes.

Bug: 301367
Change-Id: I4d2703efa4b2e0c347ea4f4475777899cf71073e
Signed-off-by: Shawn O. Pearce <spearce@spearce.org>",0,0,0,0,0,0,0,0,0
630,I2d4ff9f6023335d9ba6ea25d8e77c8e283ae53cb,https://git.eclipse.org/r/#/c/630,3,4c608124c4f2e7219b6a984d043b6c8957da7dd0,7c023ec39a4f09e7aef54f83b8b003402ac1a1b1,1,08/05/10,08/05/10,23,stages field for GitIndex entry introduced,"stages field for GitIndex entry introduced

Currently, if the Index contains a file in more than one stage, only
the last entry (containing the highest stage) will be registered in
GitIndex. For applications it can be useful to not only know about the
highest stage, but also which other stages are present, e.g. to detect
the type of conflict the file is in.",0,0,0,0,0,0,0,1,1
633,I06508036d468fa5299ea774e26a73312bb286ec2,https://git.eclipse.org/r/#/c/633,1,2672a5a261bf1c16783cc67bf4fa066d79c39b13,5c724ff7dee519b118c327c502b1df7e5122087d,0,08/05/10,08/05/10,15,Lock down maven plugin versions,"Lock down maven plugin versions

This prevents surprises by implicit updates to newer versions.

Change-Id: I06508036d468fa5299ea774e26a73312bb286ec2
Signed-off-by: Matthias Sohn <matthias.sohn@sap.com>",0,0,0,0,0,0,0,NA,NA
635,I7e4c14f44183a5fcb37c1562e81682bddeba80ad,https://git.eclipse.org/r/#/c/635,1,05eaf347cc3b848ab255720e111d9f01b2f849c8,f0c579bd46ed4567f866f75856dd2bed79f7519b,1,03/05/10,03/05/10,19,Fix handling of corruption for truncated objects,"Fix handling of corruption for truncated objects

If a loose object was corrupted by truncation, JGit would hang.

Change-Id: I7e4c14f44183a5fcb37c1562e81682bddeba80ad
Signed-off-by: Robin Rosenberg <robin.rosenberg@dewire.com>",0,0,0,0,0,0,0,0,0
643,I4a02400e65a9b2e0da925b05a2cc4b579e1dd33a,https://git.eclipse.org/r/#/c/643,1,9bdaac491acf055f0acb32414525b8a3f5e23be0,5dbc4bf01588f46442d962ebad325f1da2c815e5,1,04/05/10,04/05/10,22,Fix FooterLine.matches(FooterKey) on same length keys,"Fix FooterLine.matches(FooterKey) on same length keys

If two keys are the same length, but don't share the same sequence
of characters, we were incorrectly claiming they still matched due
to a bug in the for loop condition.  I used the wrong variable and
the loop never executed, resulting in equality anytime the two keys
being compared were the same length.

Use the proper local variable to loop through the arrays, and add
a JUnit test to verify equality works as expected.

Change-Id: I4a02400e65a9b2e0da925b05a2cc4b579e1dd33a
Signed-off-by: Shawn O. Pearce <spearce@spearce.org>",0,0,0,0,0,0,0,0,0
667,I0a885e2fe8c85049fb23722351ab89cf2c81a431,https://git.eclipse.org/r/#/c/667,2,5dbc4bf01588f46442d962ebad325f1da2c815e5,3fbf26b39e3344175ab693153cb7302d526fe3e3,1,08/05/10,08/05/10,64,Added MERGING_RESOLVED repository state,"Added MERGING_RESOLVED repository state

The repository state tells in which state the repo is and also which actions
are currently allowed. The state MERGING is telling that a commit is not
possible. But this is only true in the case of unmerged paths in the index.
When we are merging but have resolved all conflicts then we are in a special
state: We are still merging (means the next commit should have multiple
parents) but a commit is now allowed.

Since the MERGING state ""canCommit()"" cannot be enhanced to return true/false
based on the index state (MERGING is a enum value which does not have a
reference to the repo it's state is representing) I had to introduce a new
state MERGING_RESOLVED. This new state will report that a commit is possible.

CAUTION: there might be the chance that users of jgit previously blindly did a
plain commit (a one with one parent) when the RepositoryState allowed them to
do. With this change these users will now be confronted with a RepositoryState
which tells a commit is possible but before they can commit they'll have to
check the MERGE_MESSAGE and MERGE_HEAD files and use the info from these
files.

Signed-off-by: Christian Halstrick <christian.halstrick@sap.com>",0,0,0,0,0,1,1,0,0
678,I0ccd7763eede117cb68240fdd25f13d6e6f6a2c1,https://git.eclipse.org/r/#/c/678,1,ea39d59dc5909e44fed9e3889543520393be4397,1e7e8a50b122ccb4d76ebc4f1f7b41d66a548685,0,11/05/10,11/05/10,253,Expose org.eclipse.jgit.junit via jgit p2 repository,"Expose org.eclipse.jgit.junit via jgit p2 repository

EGit Tycho builds on build.eclipse.org frequently hit corrupted artifacts
which leads to broken builds. Cleaning up these corrupted files is tedious
since it requires file system access on the build server. Hence we want to
switch to use job-local m2 repositories. This requires that build artifacts
are shared between the jgit and egit build jobs via p2. Therefore the
bundle org.eclipse.jgit.junit needs to be exposed via p2 repository.

Change-Id: I0ccd7763eede117cb68240fdd25f13d6e6f6a2c1
Signed-off-by: Matthias Sohn <matthias.sohn@sap.com>",0,0,0,0,0,0,0,NA,NA
683,Iebd7e5bb534accca4bf00d25bbc1f561d7cad11b,https://git.eclipse.org/r/#/c/683,20,78b8e67c3f7ba1c5150eead559d8c582725bbfdb,3e4dba955b8bd00f4d56770c07acd0bc7bab9074,1,12/07/10,12/07/10,1619,Add compatibility with gitignore specifications,"Add compatibility with gitignore specifications

I tried to meet the requirements. Let me know if there's
anything that needs changing :)

I will attach the test cases shortly. Please see my talk page
for some documentation of the covered cases (documentation is
not comprehensive right now)

http://wiki.eclipse.org/User_talk:Charley.wang.gmail.com

Todo:
- Implement more intelligent node parsing.
- Better cache than just a HashMap. Suggestion was to move
  this into RepositoryMapping in EGit.
- The rule for matching e.g. ""/src/ne?"" to ""/src/new/file.c""
  is slow.

Bug-id: 303925",0,1,0,0,1,0,1,2,1
684,I86f292039f1b8e499baf05238f55b1d550d098a5,https://git.eclipse.org/r/#/c/684,1,4b56beb19077dd88d1dc868b7aed92b4878a7139,a80d42c51309977bbb84762781cb3ff6e60e77bd,0,11/05/10,11/05/10,13,Add missing pom dependency to org.eclipse.jgit.junit,"Add missing pom dependency to org.eclipse.jgit.junit

Change-Id: I86f292039f1b8e499baf05238f55b1d550d098a5
Signed-off-by: Matthias Sohn <matthias.sohn@sap.com>",1,0,0,1,0,0,1,NA,NA
685,I04eb1ca4d4047529f36cbec6ed77098d3ab0171c,https://git.eclipse.org/r/#/c/685,1,1a5b41c49ca4e6198a15e34a8a3a270c3919f249,ed38d2e761fd385f5f2f46ae488f01f066b4548f,0,11/05/10,11/05/10,2,Fix Maven Javadoc generation problem,"Fix Maven Javadoc generation problem

There is a serious problem with the Maven Javadoc plugin. Please see
http://jira.codehaus.org/browse/MJAVADOC-275
for details. This problem is fixed by using maven-javadoc-plugin V2.7
instead of maven-javadoc-plugin v2.6.1.",0,0,0,0,0,0,0,NA,NA
689,I5645436bbe7492f82d4069e4d9cbebede0bf764e,https://git.eclipse.org/r/#/c/689,2,6ec44e0356ae886fb4c96fc1f3bb7d082ed9aeb1,2f55b3cbce0f33546d5d3746cec6c89e4c6b857f,1,17/07/10,17/07/10,48,Fully implement Logger interface,"Fully implement Logger interface

On April 27, 2010 the Logger interface was upgraded with a number of new methods to make it
consistent with the implementations it was meant to support.

This patch makes RecordingLogger consistent with the Logger interface.",0,0,0,0,0,0,0,0,0
694,Ia818be9b109a1674d9e2a9c78e125ab248cfb75b,https://git.eclipse.org/r/#/c/694,1,f0ac5d47cedcd4e71f2e3384938f2e2d32d38b84,96e517fb229ee41b5328ce5851d6e6d86e04a95b,0,13/05/10,13/05/10,22,Fix missing flush in StreamCopyThread,"Fix missing flush in StreamCopyThread

It is possible to miss flush() invocation in StreamCopyThread.
In this case some data will not be sent to remote host and we will
wait forever (or until timeout) in src.read().

Use a counter to keep track of the flush requests.

Change-Id: Ia818be9b109a1674d9e2a9c78e125ab248cfb75b
Signed-off-by: Shawn O. Pearce <spearce@spearce.org>",1,0,0,0,0,0,1,NA,NA
695,Icbf62d1b8abe0fabbb532dbee088020eecf4c6c2,https://git.eclipse.org/r/#/c/695,1,96e517fb229ee41b5328ce5851d6e6d86e04a95b,0d4a20bad59e1f3d8de4fa191cf0428ddf480279,0,13/05/10,13/05/10,18,Fix interrupted write in StreamCopyThread,"Fix interrupted write in StreamCopyThread

If a flush() gets delivered at the same time that we are blocking
while writing to an interruptable stream, the copy thread will
abort assuming its a stream error.  Instead ignore the interrupt,
and retry the write.

Change-Id: Icbf62d1b8abe0fabbb532dbee088020eecf4c6c2
Signed-off-by: Shawn O. Pearce <spearce@spearce.org>",1,0,0,0,0,0,1,NA,NA
696,I7c3a687ba4cb69a41a85e2b60d381d42b9090e3f,https://git.eclipse.org/r/#/c/696,1,0d4a20bad59e1f3d8de4fa191cf0428ddf480279,f7efa1d876c0396157b96b2d8bc568f9a03e229c,0,13/05/10,13/05/10,18,Fix hang when fetching over SSH,"Fix hang when fetching over SSH

JSch may hang or abort with the timeout if JGit connects before
its obtained the streams.  Instead defer the connect() call until
after the streams have been configured.

Bug: 312383
Change-Id: I7c3a687ba4cb69a41a85e2b60d381d42b9090e3f
Reported-by: Dmitry Neverov <dmitry.neverov@gmail.com>
Signed-off-by: Shawn O. Pearce <spearce@spearce.org>",1,0,0,0,0,0,1,NA,NA
704,I6cf64697a9878db87bbf31c7636c03392b47a062,https://git.eclipse.org/r/#/c/704,1,c6d3e14033ca2f8cac728f8115a9bcbf74b1e236,03bc89bec4c34626fa43bf0ea58d8f628810e07b,0,17/05/10,17/05/10,18,Avoid unnecessary second read on OBJ_OFS_DELTA headers,"Avoid unnecessary second read on OBJ_OFS_DELTA headers

When we read the object header we copy 20 bytes from the pack data,
then start parsing out the type and the inflated size.  For most
objects, this is only going to require 3 bytes, which is sufficient
to represent objects with inflated sizes of up to 2^16.  The local
buffer however still has 17 bytes remaining in it, and that can be
used to satisfy the OBJ_OFS_DELTA header.

We shouldn't need to worry about walking off the end of the buffer
here, because delta offsets cannot be larger than 64 bits, and that
requires only 9 bytes in the OFS_DELTA encoding.

Assuming worst-case scenarios of 9 bytes for the OFS_DELTA encoding,
the pack file itself must be approaching 2^64 bytes, an infeasible
size to store on any current technology.  However, even if this
were the case we still have 11 bytes for the type/size header.
In that encoding we can represent an object as large as 2^74 bytes,
which is also an infeasible size to process in JGit.

So drop the second read here.

The data offsets we pass into the ObjectLoaders being constructed
need to be computed individually now.  This saves a local variable,
but pushes the addition operation into each branch of the switch.

Change-Id: I6cf64697a9878db87bbf31c7636c03392b47a062
Signed-off-by: Shawn O. Pearce <spearce@spearce.org>",0,0,0,0,0,0,0,NA,NA
705,Icac8bda01260e405899efabfdd274928e98f3521,https://git.eclipse.org/r/#/c/705,2,03bc89bec4c34626fa43bf0ea58d8f628810e07b,dd708453e18288226378e04f24de2220c9e63c40,1,17/05/10,17/05/10,935,Squash OffsetCache into WindowCache,"Squash OffsetCache into WindowCache

Originally when I wrote this code I had hoped to use OffsetCache
to also implement the UnpackedObjectCache.  But it turns out they
need rather different code, and it just wasn't worth trying to
reuse the OffsetCache base class.

Before doing any major refactoring or code cleanups here, squash the
two classes together and delete OffsetCache.  As WindowCache is our
only subclass, this is pretty simple to do.  We also get a minor
code reduction due to less duplication between the two classes,
and the JIT should be able to do a better job of optimization here
as we can define types up front rather than relying on generics
that erase back to java.lang.Object.

Because this is a refactoring, there are no code or logic changes
in this commit.  The two classes were simply combined together,
and any abstract or default implementations inside of OffsetCache
were removed in favor of their concrete versions in WindowCache.

Change-Id: Icac8bda01260e405899efabfdd274928e98f3521
Signed-off-by: Shawn O. Pearce <spearce@spearce.org>",0,0,0,0,1,0,1,2,1
706,Ia44fb01e0328485bcdfd7af96835d62b227a0fb1,https://git.eclipse.org/r/#/c/706,1,dd708453e18288226378e04f24de2220c9e63c40,9b4cb1daab9a5682295c511312919402edb2056c,1,17/05/10,17/05/10,17,Factor out duplicate Inflater setup in WindowCursor,"Factor out duplicate Inflater setup in WindowCursor

Since we use this code twice, pull it into a private method.  Let
the compiler/JIT worry about whether or not this logic should be
inlined into the call sites.

Change-Id: Ia44fb01e0328485bcdfd7af96835d62b227a0fb1
Signed-off-by: Shawn O. Pearce <spearce@spearce.org>",0,0,0,0,0,0,0,0,0
708,I763081267653153eed9cd7763a015059338c2df8,https://git.eclipse.org/r/#/c/708,3,a271d58421c17d28d59ea572151191a81f0a2d2e,54fcd4674d1cafcefa5013039a4d8927ff313de7,1,19/05/10,19/05/10,33,Fix SSH deadlock during OutOfMemoryError,"Fix SSH deadlock during OutOfMemoryError

In close() method of SshFetchConnection and SshPushConnection
errorThread.join() can wait forever if JSch will not close the
channel's error stream.  Join with a timeout, and interrupt the
copy thread if its blocked on data that will never arrive.

Bug: 312863
Change-Id: I763081267653153eed9cd7763a015059338c2df8
Reported-by: Dmitry Neverov <dmitry.neverov@gmail.com>
Signed-off-by: Shawn O. Pearce <spearce@spearce.org>",0,0,0,0,0,0,0,0,0
709,Ic639c0d5a722315f4f5c8ffda6e26643d90e5f42,https://git.eclipse.org/r/#/c/709,1,11311a7d0c830397ad8f20f66d8bf91252a4b4a2,36e15cba9ca6a58ccb2da0e2d43a8b428a239a94,1,17/05/10,17/05/10,92,Reduce size of PackedObjectLoader by dropping long to int,"Reduce size of PackedObjectLoader by dropping long to int

Rather than keep track of both the position of the object, and the
position of its data, just keep track of the number of bytes used
by the object's header in the pack.  This shaves 4 bytes out of the
size of the PackedObjectLoader instances.

We also can defer the addition instruction to the materialize()
operation, avoiding it entirely if the caller never actually uses
the loader.  This may be relevant for PackWriter invocations,
where only 1 loader gets chosen for a given object, even though
the object may appear on disk in more than one pack file.

Error reporting is now simplified, as we can rely on the object
offset rather than its data offset.  This is the value displayed
by pack debugging tools like `git verify-pack -v`, so its better
to use that in our own errors.

Because nobody needs getDataOffset() now, we can drop that from
the public API.

Change-Id: Ic639c0d5a722315f4f5c8ffda6e26643d90e5f42
Signed-off-by: Shawn O. Pearce <spearce@spearce.org>",0,0,0,0,0,0,0,0,0
710,I24ba4e621e101f14e79a16463aec5379f447aa9b,https://git.eclipse.org/r/#/c/710,1,36e15cba9ca6a58ccb2da0e2d43a8b428a239a94,af707a8963ef3bbf053debbff01f9a29f35aa675,1,17/05/10,17/05/10,44,Reduce the size of PackWriter's ObjectToPack instances,"Reduce the size of PackWriter's ObjectToPack instances

Rather than holding onto the PackedObjectLoader, only hold the
PackFile and the object offset.  During a reuse copy that is all
we should need to complete a reuse, and the other parts of the
PackedObjectLoader just waste memory.

This change reduces the per-object memory usage of a PackWriter by
32 bytes on a 32 bit JVM using only OFS_DELTA formatted objects.
The savings is even larger (by another 20 bytes) for REF_DELTAs.
This is close to a 50% reduction in the size of ObjectToPack,
making it rather worthwhile to do.

Beyond the memory reduction, this change will help to make future
refactoring work easier.  We need to redo the API used to support
copying data, and disconnecting it from the PackedObjectLoader is
a good first step.

Change-Id: I24ba4e621e101f14e79a16463aec5379f447aa9b
Signed-off-by: Shawn O. Pearce <spearce@spearce.org>",0,0,0,0,0,0,0,0,0
712,I0786ad60a3a33f84d8746efe51f68d64e127c332,https://git.eclipse.org/r/#/c/712,2,f4c3c6b968079b2fed77adb2d419f3f06d75daa8,0d383e42632fd25eb3ce32c998002e85a3730b4d,0,17/05/10,17/05/10,6,Remove unnecessary truncation of in-pack size during copy,"Remove unnecessary truncation of in-pack size during copy

The number of bytes to copy was truncated to an int, but the
pack's copyToStream() method expected to be passed a long here.
Pass through the long so we don't truncate a giant object.

Change-Id: I0786ad60a3a33f84d8746efe51f68d64e127c332
Signed-off-by: Shawn O. Pearce <spearce@spearce.org>",0,0,0,0,0,0,0,NA,NA
721,I4e292115085099d5b86546d2021680cb1454266c,https://git.eclipse.org/r/#/c/721,4,db30683c120cf09755f8571d7d76791368a9913d,2751d80ebb7a829282a84b7231e1e7bb670d0146,1,21/05/10,21/05/10,240,Added merge support to CommitCommand,"Added merge support to CommitCommand

The CommitCommand should take care to create a merge commit if the file
$GIT_DIR/MERGE_HEAD exists. It should then read the parents for the merge
commit out of this file. It should also take care that when commiting
a merge and no commit message was specified to read the message from
$GIT_DIR/MERGE_MSG.
Finally the CommitCommand should remove these files if the commit
succeeded.

Signed-off-by: Christian Halstrick <christian.halstrick@sap.com>",0,1,0,0,0,1,1,1,1
723,I0db480f061e01b343570cf7da02cac13a0cbdf8f,https://git.eclipse.org/r/#/c/723,6,a3a8614190fa97965b75e0f6ccc9360dfa1deab9,96a2934a1686e4f44520f0df0543517f1ca60cb5,1,24/05/10,24/05/10,745,Add a merge command to the jgit API,"Add a merge command to the jgit API

Merges the current head with one other commit.
In this first iteration the merge command supports
only fast forward and already up-to-date.

Signed-off-by: Stefan Lay <stefan.lay@sap.com>
Signed-off-by: Christian Halstrick <christian.halstrick@sap.com>",0,1,0,0,1,0,1,1,1
728,Ib2b37901af8141289bbac9807cacf42b4e2461bd,https://git.eclipse.org/r/#/c/728,1,d0db1ea18f48a59b281af37bd6dd8a305d8bde76,07fa23108267a43dbf06402e88fa021c54048942,0,19/05/10,19/05/10,10,Fix race condition in StreamCopyThread,"Fix race condition in StreamCopyThread

If we get an interrupt during an IO operation (src.read or dst.write)
caused by the flush() method incrementing the flush counter, ensure
we restart the proper section of code.  Just ignore the interrupt
and continue running.

Bug: 313082
Change-Id: Ib2b37901af8141289bbac9807cacf42b4e2461bd
Signed-off-by: Shawn O. Pearce <spearce@spearce.org>",1,0,0,0,0,0,1,NA,NA
729,Ic8a8bdfd4a06c6d1ebd1e85a8082a32c82d155c7,https://git.eclipse.org/r/#/c/729,1,8cc93f7f3489679deaeeac61a4146178d7aeb2d4,d4e31efc873ca67d26add2387ae4af5577a7d87d,1,19/05/10,19/05/10,105,Test root locale translations,"Test root locale translations

Ensures all translations exist in the root locale.

Change-Id: Ic8a8bdfd4a06c6d1ebd1e85a8082a32c82d155c7",0,0,0,0,0,0,0,0,0
759,I2e6e11c6e5a105e5aef68871b66200fd725134c9,https://git.eclipse.org/r/#/c/759,1,b646d39a0554b56a9330f10b9e6ada45a1d5a58b,b234273a68cd289d14797a0438483c838cda8f64,1,27/05/10,27/05/10,122,Don't use interruptable pread() to access pack files,"Don't use interruptable pread() to access pack files

The J2SE NIO APIs require that FileChannel close the underlying file
descriptor if a thread is interrupted while it is inside of a read or
write operation on that channel.  This is insane, because it means we
cannot share the file descriptor between threads.  If a thread is in
the middle of the FileChannel variant of IO.readFully() and it
receives an interrupt, the pack will be automatically closed on us.
This causes the other threads trying to use that same FileChannel to
receive IOExceptions, which leads to the pack getting marked as
invalid.  Once the pack is marked invalid, JGit loses access to its
entire contents and starts to report MissingObjectExceptions.

Because PackWriter must ensure that the chosen pack file stays
available until the current object's data is fully copied to the
output, JGit cannot simply reopen the pack when its automatically
closed due to an interrupt being sent at the wrong time.  The pack may
have been deleted by a concurrent `git gc` process, and that open file
descriptor might be the last reference to the inode on disk.  Once its
closed, the PackWriter loses access to that object representation, and
it cannot complete sending the object the client.

Fortunately, RandomAccessFile's readFully method does not have this
problem.  Interrupts during readFully() are ignored.  However, it
requires us to first seek to the offset we need to read, then issue
the read call.  This requires locking around the file descriptor to
prevent concurrent threads from moving the pointer before the read.

This reduces the concurrency level, as now only one window can be
paged in at a time from each pack.  However, the WindowCache should
already be holding most of the pages required to handle the working
set for a process, and its own internal locking was already limiting
us on the number of concurrent loads possible.  Provided that most
concurrent accesses are getting hits in the WindowCache, or are for
different repositories on the same server, we shouldn't see a major
performance hit due to the more serialized loading.

I would have preferred to use a pool of RandomAccessFiles for each
pack, with threads borrowing an instance dedicated to that thread
whenever they needed to page in a window.  This would permit much
higher levels of concurrency by using multiple file descriptors (and
file pointers) for each pack.  However the code became too complex to
develop in any reasonable period of time, so I've chosen to retrofit
the existing code with more serialization instead.

Bug: 308945
Change-Id: I2e6e11c6e5a105e5aef68871b66200fd725134c9
Signed-off-by: Shawn O. Pearce <spearce@spearce.org>",0,0,0,0,0,0,0,0,0
766,I08b2cdd147ad6f3c67795f2e75a5b5d2ce2fb20f,https://git.eclipse.org/r/#/c/766,1,b234273a68cd289d14797a0438483c838cda8f64,f4ca3826e2b656c91c5cf1df700db65644513f03,1,28/05/10,28/05/10,14,Externalize strings in Commit command,"Externalize strings in Commit command

Change-Id: I08b2cdd147ad6f3c67795f2e75a5b5d2ce2fb20f
Signed-off-by: Shawn O. Pearce <spearce@spearce.org>",1,0,0,1,0,0,1,0,0
767,Ib18b335990c73e036b185199d0004f4ffc395867,https://git.eclipse.org/r/#/c/767,1,f4ca3826e2b656c91c5cf1df700db65644513f03,06d05ac747b3c82daf692920305e29b6545eb01e,1,28/05/10,28/05/10,2,eclipse-ipzilla: Correctly parse result with empty last field,"eclipse-ipzilla: Correctly parse result with empty last field

If the last field of our IPzilla query comes back empty, we were
skipping over and not including it in the result List, causing an
IndexOutOfBoundsException when it was read into our data model.

If the last field is empty, actually add the empty string.

Change-Id: Ib18b335990c73e036b185199d0004f4ffc395867
Signed-off-by: Shawn O. Pearce <spearce@spearce.org>",1,0,0,0,0,0,1,0,0
768,I552e77e434487ece9a600de9e09bc17066579773,https://git.eclipse.org/r/#/c/768,1,06d05ac747b3c82daf692920305e29b6545eb01e,8fdc8add44314c3a626819ca969db76161f5963d,0,28/05/10,28/05/10,4,Update cache of IPzilla CQ 3904,"Update cache of IPzilla CQ 3904

Change-Id: I552e77e434487ece9a600de9e09bc17066579773
Signed-off-by: Shawn O. Pearce <spearce@spearce.org>",1,0,0,1,0,0,1,NA,NA
771,Ie922d27c580f6742e2acb051815a381af48df7ca,https://git.eclipse.org/r/#/c/771,1,8fdc8add44314c3a626819ca969db76161f5963d,766900ecc6d710c14430568c8450fe12129d4712,1,28/05/10,28/05/10,71,eclipse-iplog: Add new consumes element to IP log,"eclipse-iplog: Add new consumes element to IP log

This element documents other Eclipse projects that are consumed by
this project.  JGit doesn't consume any projects, but its sister
project EGit does.

Change-Id: Ie922d27c580f6742e2acb051815a381af48df7ca
Signed-off-by: Shawn O. Pearce <spearce@spearce.org>",1,0,0,0,0,0,1,0,0
772,Ibc8a436918bd8e7597dc17743824201a74bce09b,https://git.eclipse.org/r/#/c/772,1,766900ecc6d710c14430568c8450fe12129d4712,6899a43fabca31942e857f909dfa0ccf112b126e,1,28/05/10,28/05/10,63,eclipse-iplog: Use contribution rather than bug element,"eclipse-iplog: Use contribution rather than bug element

Wayne changed the schema to no longer be dependent upon the Bugzilla
notion of a contribution, but instead be more generic and better
support systems like Gerrit Code Review.  Update our output to
use the <contribution> element and include a link to the change
in Gerrit.

Change-Id: Ibc8a436918bd8e7597dc17743824201a74bce09b
Signed-off-by: Shawn O. Pearce <spearce@spearce.org>",1,0,0,0,0,0,1,0,0
773,I91f249422efbb6aea0491e276ccfe00f5ae7d212,https://git.eclipse.org/r/#/c/773,3,53ce60fa78712fa4a4837793691f45dbd2987682,9bf195b4dd5f550ec3a9f28070c6cbff41d5e651,0,01/06/10,01/06/10,54,[draft] Update .eclipse_iplog for 0.8,"[draft] Update .eclipse_iplog for 0.8

Also add README describing how to generate iplog.

Change-Id: I91f249422efbb6aea0491e276ccfe00f5ae7d212
Signed-off-by: Matthias Sohn <matthias.sohn@sap.com>",0,0,0,0,0,0,0,NA,NA
792,I36e34264482b855ed22c9dde98824f573cf8ae22,https://git.eclipse.org/r/#/c/792,3,730fa90f93cf32ca5cab20e5365dc88d75e9017c,875f362151a0397726f895f8a10223c0dc91e267,1,05/06/10,05/06/10,137,Refactor ReadTreeTest to allow testing other checkout implementations,"Refactor ReadTreeTest to allow testing other checkout implementations

ReadTreeTest contains a lot of useful tests for ""checkout"" implementations.
But ReadTreeTest was hardcoded to test only WorkDirCheckout. This change
doesn't add/modify any tests semantically but refactors ReadTreeTest so that a
different implementations of checkout can be tested. This was done to allow
DirCacheCheckout to be tested without rewriting all these tests.

Signed-off-by: Christian Halstrick <christian.halstrick@sap.com>",0,0,0,0,0,1,1,0,0
793,I949252d0286981a3f2edef69449787119b3a7242,https://git.eclipse.org/r/#/c/793,1,69c485752aa0f3efd83471ff94b057e29f548ab5,5898b38daed5c9865d71fe7edd4f86bb00ce02a9,0,02/06/10,02/06/10,288,JGit 0.8.1,"JGit 0.8.1

Change-Id: I949252d0286981a3f2edef69449787119b3a7242",1,0,0,1,0,0,1,NA,NA
794,Id86e5876b2f684b2a272c07061a276b054ba410d,https://git.eclipse.org/r/#/c/794,3,5898b38daed5c9865d71fe7edd4f86bb00ce02a9,4240b8bcbb66bd050dd50b4cf03203e16483b939,0,02/06/10,02/06/10,294,Qualify post-0.8.1 builds,"Qualify post-0.8.1 builds

Change-Id: Id86e5876b2f684b2a272c07061a276b054ba410d
Signed-off-by: Shawn O. Pearce <spearce@spearce.org>",0,0,0,1,0,0,1,NA,NA
796,I3103c54a2a525f5f190cf35b63394dad6d02cc5e,https://git.eclipse.org/r/#/c/796,2,3da5a3698804f1ab4158175cc2e2e1f64fa99f7f,dc87e966c849389e570490efdfff4b8b181af14f,0,02/06/10,02/06/10,6,Bump all features during release,"Bump all features during release

Change-Id: I3103c54a2a525f5f190cf35b63394dad6d02cc5e
Signed-off-by: Shawn O. Pearce <spearce@spearce.org>",1,0,0,1,0,0,1,NA,NA
797,I3d4ac7d0617a3575019e2ed748ed2a298a988340,https://git.eclipse.org/r/#/c/797,1,dc87e966c849389e570490efdfff4b8b181af14f,6bdd09b47b8f5820c00837d11e055c648798e5ff,0,02/06/10,02/06/10,294,JGit 0.8.1,"JGit 0.8.1

Change-Id: I3d4ac7d0617a3575019e2ed748ed2a298a988340
Signed-off-by: Shawn O. Pearce <spearce@spearce.org>",1,0,0,1,0,0,1,NA,NA
803,I046d1a2ef6ddea2a9521ac49ae339e05c1cc0acd,https://git.eclipse.org/r/#/c/803,1,300190c3b37c3b07fd245010c390784763fbb4e6,b264524702015d87158d44a13f8f83bfba5e8ed2,1,03/06/10,03/06/10,32,Provide a public entry method to determine whether a URI protocol is supported,Provide a public entry method to determine whether a URI protocol is supported,0,0,0,1,0,0,1,0,0
810,I45be510ada068b3ffab0feb30ec60f2c96a5ca32,https://git.eclipse.org/r/#/c/810,1,f6cdb8bdba5ec258523cbaa3e978c37ef532b468,05a50ab3fa6f148cd036c1d6fbdf3b2ebe4751c8,0,07/06/10,07/06/10,5,"Add ""resources/"" as a source folder","Add ""resources/"" as a source folder

Building jgit with pde.build was broken without resources.

Bug:315823
Change-Id: I45be510ada068b3ffab0feb30ec60f2c96a5ca32
Signed-off-by: Matthias Sohn <matthias.sohn@sap.com>",0,0,0,0,0,0,0,NA,NA
817,I75b43ce098f544b95181755b5cc81a9b1dee6391,https://git.eclipse.org/r/#/c/817,1,10a7352e343c3df96fc73c63528db906a0162d04,646136103f9559fc1aaaaad0cb409a1d9d49890a,0,07/06/10,07/06/10,327,Added the standard SULA for JGit,"Added the standard SULA for JGit

The Eclipse Foundation requires the standard SULA be present
in every feature. We had the license present via edl-v10.html
but we were missing the SULA via the license.html file. The
fix is to simply add the SULA.

Change-Id: I75b43ce098f544b95181755b5cc81a9b1dee6391
Signed-off-by: Chris Aniszczyk <caniszczyk@gmail.com>",0,0,0,0,0,1,1,NA,NA
818,I642e2a05d1be58b1d47fd9701edf1a0f2bfa3660,https://git.eclipse.org/r/#/c/818,1,646136103f9559fc1aaaaad0cb409a1d9d49890a,b3db1bd6679c66792d304271f397ec4651b2c107,0,08/06/10,08/06/10,2,Fix build.properties of the JGit feature,"Fix build.properties of the JGit feature

The JGit feature's build.properties was referring
to a notice.html instead of license.html

Change-Id: I642e2a05d1be58b1d47fd9701edf1a0f2bfa3660
Signed-off-by: Chris Aniszczyk <caniszczyk@gmail.com>",0,0,0,0,0,1,1,NA,NA
820,I73f40dd2018112cd23102954d7647ecdbbbf0d89,https://git.eclipse.org/r/#/c/820,1,a112180a7d2dbbf1f2add1f0c18076e55f9dda4a,2781383d517190c49e7565bfd532aab07c094ff0,0,08/06/10,08/06/10,1,Include about.html in org.eclipse.jgit artifact,"Include about.html in org.eclipse.jgit artifact

This is required to enable accessing legal info for
org.eclipse.jgit from
Help > About > Installation Details > Plugins

Change-Id: I73f40dd2018112cd23102954d7647ecdbbbf0d89
Signed-off-by: Matthias Sohn <matthias.sohn@sap.com>",0,0,0,0,0,0,0,NA,NA
825,I13f0f23ad60d98e5168118a7e7e7308e066ecf9c,https://git.eclipse.org/r/#/c/825,18,55cea5d89d64aefd4a26d2705bc7420b9f9cb84d,e3251deb9c182dacbb1ed28c76b6b40feb2ff992,1,27/08/10,27/08/10,1094,Implement a Dircache checkout (needed for merge),"Implement a Dircache checkout (needed for merge)

This commit introduces classes with should replace WorkDirCheckout.
WorkDirCheckout uses the deprecated GitIndex which cannot handle
multiple stages and has to be replaced.
A lot of effort went into testing to be able to reuse the existing
test in ReadTreeTest. Now the tests for DirCacheCheckout subclass
the ReadTreeTest and therefore inherit the existing tests.
The tests have been enriched to check also for the work-dir state.

Signed-off-by: Christian Halstrick <christian.halstrick@sap.com>",0,1,0,0,1,1,1,5,1
828,Ia1cf40cfd4a5ed7dfb6503f8dfc617237bee0659,https://git.eclipse.org/r/#/c/828,2,d6fbe457aba356633d56bb2e049c6c5df0222144,7987b2321bcd0c623d91ccd0de14f56076cd0dd2,1,14/06/10,14/06/10,102,Extend DiffFormatter API to simplify styling,"Extend DiffFormatter API to simplify styling

Refactor and extend the internals so users can override and
intervene during formatting, e.g. to colorize output.

Change-Id: Ia1cf40cfd4a5ed7dfb6503f8dfc617237bee0659
Signed-off-by: Robin Rosenberg <robin.rosenberg@dewire.com>",0,0,0,0,0,0,0,0,0
830,I845da83c74475d74ec25d68f53c0a4738a898550,https://git.eclipse.org/r/#/c/830,1,bd22b21e4f7c56804ffb434028b33ef221e8a9fa,b072e653000ab7f8bc87c9368ac389c7563d8a21,0,14/06/10,14/06/10,294,JGit 0.8.3,"JGit 0.8.3

Change-Id: I845da83c74475d74ec25d68f53c0a4738a898550
Signed-off-by: Matthias Sohn <matthias.sohn@sap.com>",0,0,0,1,0,0,1,NA,NA
835,Idd4bc47be18ed0e36b11be8c23c9c707159dc830,https://git.eclipse.org/r/#/c/835,3,1b6cf1cb08f0c557938a6f2817c7657327424cf4,65fff0f39e7991828dc06432b3ac447c2049bac8,1,15/06/10,15/06/10,139,Allow to read configured keys,"Allow to read configured keys

Currently, there is no way to read the content
of the Git Configuration in a  way that would
allow to list all configured values generically.
This change extends the Config class in such a
way as to being able to get a list of sections and
to get a list of names for any given section or
subsection.
This is required in able to implement proper
configuration handling in EGit (show all the
content of a given configuration similar to 
""git config -l"").

Signed-off-by: Mathias Kinzler <mathias.kinzler@sap.com>",0,0,0,0,0,0,0,0,0
836,Ib54b31ddc80b9032e6e7bf013948bb83e12cfd88,https://git.eclipse.org/r/#/c/836,10,1ac9686f05db7067cc61f671c49bab0cf239bf67,fe9317deae9894bc1a8c8d0f621e287eb8ab7414,1,17/06/10,17/06/10,391,"""Bare"" Repository should not return working directory.","""Bare"" Repository should not return working directory.

If a repository is ""bare"", it currently still returns a working directory.
This conflicts with the specification of ""bare""-ness.

Bug: 311902

Signed-off-by: Mathias Kinzler <mathias.kinzler@sap.com>",0,1,0,0,0,0,1,0,0
837,I4e00bbcffe1cf872e2d7e3f3d88d068701fb5330,https://git.eclipse.org/r/#/c/837,1,aef3fe0dd9a3cd3522752a3f79bf19b441bed288,fe27014961025896d4b1b8f80594f46368df2756,0,14/06/10,14/06/10,294,JGit 0.8.4,"JGit 0.8.4

Created wrong tags for 0.8.3 hence creating another version.

Change-Id: I4e00bbcffe1cf872e2d7e3f3d88d068701fb5330
Signed-off-by: Matthias Sohn <matthias.sohn@sap.com>",0,0,0,0,0,0,0,NA,NA
839,I21efed66921eb7e1e4010fccc9fa9af6c4150fc1,https://git.eclipse.org/r/#/c/839,1,fe27014961025896d4b1b8f80594f46368df2756,7a2ff0db8d9692dd4699cff6f47bec7f287e5ebb,0,14/06/10,14/06/10,294,Qualify post-0.8.4 builds,"Qualify post-0.8.4 builds

Change-Id: I21efed66921eb7e1e4010fccc9fa9af6c4150fc1
Signed-off-by: Shawn O. Pearce <spearce@spearce.org>",1,0,0,1,0,0,1,NA,NA
840,I84173ece5100f1fcb78168e2e102b649d9466c08,https://git.eclipse.org/r/#/c/840,1,5442964adcf90dfc3b0576681ae2d4934a06c87c,b2795b38c52cc86bd3d705156851c8bd701fe14e,0,14/06/10,14/06/10,294,Start 0.9 development,"Start 0.9 development

Change-Id: I84173ece5100f1fcb78168e2e102b649d9466c08
Signed-off-by: Shawn O. Pearce <spearce@spearce.org>",1,0,0,1,0,0,1,NA,NA
841,I4ecb0af41184ef84d104345fd1adcc4a240a38f6,https://git.eclipse.org/r/#/c/841,1,b2795b38c52cc86bd3d705156851c8bd701fe14e,c658acaacff48016c689e1ce62d14618405f8b81,0,14/06/10,14/06/10,271,Merge branch 'stable-0.8',"Merge branch 'stable-0.8'

* stable-0.8:
  Qualify post-0.8.4 builds
  JGit 0.8.4
  JGit 0.8.3
  Include about.html in org.eclipse.jgit artifact
  Fix build.properties of the JGit feature
  Added the standard SULA for JGit
  Add ""resources/"" as a source folder

Change-Id: I4ecb0af41184ef84d104345fd1adcc4a240a38f6",1,0,0,0,0,0,1,NA,NA
842,I429c7d698924cb32e709363f5da82f7232bbdab2,https://git.eclipse.org/r/#/c/842,1,c658acaacff48016c689e1ce62d14618405f8b81,b4bb1384d7f879a1b913d568238e61b68d500a56,0,15/06/10,15/06/10,11,tools/version.sh: Use backup files on Win32,"tools/version.sh: Use backup files on Win32

Windows doesn't permit us to edit a file in-place with Perl.
So create backup files when we perform the edit, and remove them
when we are done.  This is a tad slower on POSIX systems, but is
much more portable.

Change-Id: I429c7d698924cb32e709363f5da82f7232bbdab2
Signed-off-by: Shawn O. Pearce <spearce@spearce.org>",0,0,0,0,0,0,0,NA,NA
846,I292fe88c505060808908c7229a5dde78c9783b35,https://git.eclipse.org/r/#/c/846,1,4c8f1958c2a66775ecba772a8e7c2345bf9e24a3,a5cb615399cd418f31aded80566ab2065df3804d,1,14/06/10,14/06/10,4,Removed unused repo field in WorkDirCheckout,"Removed unused repo field in WorkDirCheckout

Signed-off-by: Robin Rosenberg <robin.rosenberg@dewire.com>",0,0,0,0,0,0,0,0,0
847,I3a2a43a1dcc27fd5c40a9b5fcbcd185c0a20769c,https://git.eclipse.org/r/#/c/847,1,a5cb615399cd418f31aded80566ab2065df3804d,460215060d439fd3b9f4e66596b4077ae2af8496,1,14/06/10,14/06/10,4,Remove unused parent field in PlotLane,"Remove unused parent field in PlotLane

Signed-off-by: Robin Rosenberg <robin.rosenberg@dewire.com>",0,0,0,0,0,0,0,0,0
848,I3bf96dd04bc9bcd59765e9f448473868aa493bb7,https://git.eclipse.org/r/#/c/848,1,460215060d439fd3b9f4e66596b4077ae2af8496,223f9301dcd8115f21227c53370586e192475368,1,14/06/10,14/06/10,3,Cache filemode in GitIndex,"Cache filemode in GitIndex 

Apparently this was the intention, but never happened

Signed-off-by: Robin Rosenberg <robin.rosenberg@dewire.com>",0,0,0,0,0,0,0,0,0
849,I6f4cf8daec4e4450706727fff1084f9c62423d26,https://git.eclipse.org/r/#/c/849,1,223f9301dcd8115f21227c53370586e192475368,9b4facf1beff73940c984ec3f8695dcd56832dd7,1,14/06/10,14/06/10,6,Make inner classes static in http code,"Make inner classes static in http code

Static classes are preferrable to keep unwanted dependencies away, 
and they have one less member field.

Signed-off-by: Robin Rosenberg <robin.rosenberg@dewire.com>",0,0,0,0,0,0,0,0,0
850,If396326e0b6c41b92fefb946b943aa82c603a3a6,https://git.eclipse.org/r/#/c/850,1,9b4facf1beff73940c984ec3f8695dcd56832dd7,9710835463bdc698cc3b958b275e14bff2ae040b,0,14/06/10,14/06/10,2,Make constant static in RebuildCommitGraph,"Make constant static in RebuildCommitGraph

Signed-off-by: Robin Rosenberg <robin.rosenberg@dewire.com>",0,0,0,0,0,0,0,NA,NA
851,Ie7c9db836bb3b7b33f3e7894c0a3de6f9aeab621,https://git.eclipse.org/r/#/c/851,1,9710835463bdc698cc3b958b275e14bff2ae040b,267c07886e5c63cc55a1035070c6a979c5750881,1,14/06/10,14/06/10,54,Make sure a Stream is closed upon errors in IpLogGenerator,"Make sure a Stream is closed upon errors in IpLogGenerator

Signed-off-by: Robin Rosenberg <robin.rosenberg@dewire.com>",0,0,0,0,0,0,0,0,0
852,I3e8bd245808f68623a06e89025c5cd354b5caf54,https://git.eclipse.org/r/#/c/852,1,267c07886e5c63cc55a1035070c6a979c5750881,2bfe4a4ca12d68ae25738543fc12636ecfcaf8ec,1,14/06/10,14/06/10,4,Override equals for SwingLane since super class PlotLane defines it,"Override equals for SwingLane since super class PlotLane defines it

Signed-off-by: Robin Rosenberg <robin.rosenberg@dewire.com>",0,0,0,0,0,0,0,0,0
853,I3a899a3af983fee19fc614445e9a11b72e8ecf3a,https://git.eclipse.org/r/#/c/853,1,2bfe4a4ca12d68ae25738543fc12636ecfcaf8ec,118deb74aa38e53ed92bdb700d11a7ce6d76093a,1,14/06/10,14/06/10,6,Prefer static inner classes,"Prefer static inner classes

Signed-off-by: Robin Rosenberg <robin.rosenberg@dewire.com>",0,0,0,0,0,0,0,0,0
854,I53f71dc0e3c68839da5ff5a2e0f3eeb8340e4793,https://git.eclipse.org/r/#/c/854,3,118deb74aa38e53ed92bdb700d11a7ce6d76093a,6ca38f2bacd3a26616d3a404282e4ba821fcff76,1,14/06/10,14/06/10,2,Comparing uploadfactory with impossible DISABLED instance,Comparing uploadfactory with impossible DISABLED instance,0,0,0,1,0,0,1,0,0
856,Ibc238acdc5d65198b6776ca39255c7a8f2eb5e38,https://git.eclipse.org/r/#/c/856,1,e20c603f2df4bfaa10188f27654dd8c700878340,c8da07cbe0817a292af2ebcdf206f23cea00f416,1,15/06/10,15/06/10,3,Add missing @Override tags in AlternateRepositoryDatabase,"Add missing @Override tags in AlternateRepositoryDatabase

Signed-off-by: Shawn O. Pearce <spearce@spearce.org>",0,0,0,0,0,0,0,0,0
857,Id0c8b7e95e3be6ca4c1b479e096bed6b0283b828,https://git.eclipse.org/r/#/c/857,4,c8da07cbe0817a292af2ebcdf206f23cea00f416,03147d33da0b0adceeaae69873e6df72fb5b5e06,1,23/06/10,23/06/10,2,UploadPack: Avoid unnecessary flush in smart HTTP,"UploadPack: Avoid unnecessary flush in smart HTTP

Under smart HTTP the biDirectionalPipe flag is false, and we return
back immediately at this point in the negotiation process.  There is
no need to flush the stream to the client, the request is over and
it will be automatically flushed out by the higher level servlet
that invoked us.  Avoiding flush here allows us to only use flush
after a progress message is sent during pack generation.

Change-Id: Id0c8b7e95e3be6ca4c1b479e096bed6b0283b828
Signed-off-by: Shawn O. Pearce <spearce@spearce.org>",0,1,0,0,0,0,1,0,0
858,I797c90a2c562a416223dc0704785f61ac64e0220,https://git.eclipse.org/r/#/c/858,4,6aa6203852fb59579b59bd8d38696f54d8cf33d3,ff5747731cec5b5dfaf8a3026acbf502789c4327,1,27/07/10,24/06/13,26,UploadPack: Permit flushing progress messages under smart HTTP,"UploadPack: Permit flushing progress messages under smart HTTP

If UploadPack invokes flush() on the output stream we pass it, its
most likely the progress messages coming down the side band stream.
As pack generation can take a while, we want to push that down
at the client as early as we can, to keep the connection alive,
and to let the user know we are still working on their behalf.

Ensure we dump the temporary buffer whenever flush() is invoked,
otherwise the messages don't get sent in a timely fashion to the
user agent (in this case, git fetch).

We specifically don't implement flush() for ReceivePack right now,
as that protocol currently does not provide progress messages to
the user, but it does invoke flush several times, as the different
streams include '0000' type flush-pkts to denote various end points.

Change-Id: I797c90a2c562a416223dc0704785f61ac64e0220
Signed-off-by: Shawn O. Pearce <spearce@spearce.org>",0,1,1,0,0,0,1,0,0
859,I413224fb95563e7330c82748deb0aada4e0d6ace,https://git.eclipse.org/r/#/c/859,7,340fde1dd8e18935109761ff25d6835c85558bc4,199f7b9ba1c0502ee28533a345bdb2554591ffe7,1,27/07/10,24/06/13,978,Refactor object writing responsiblities to ObjectDatabase,"Refactor object writing responsiblities to ObjectDatabase

The ObjectInserter API permits ObjectDatabase implementations to
control their own object insertion behavior, rather than forcing
it to always be a new loose file created in the local filesystem.
Inserted objects can also be queued and written asynchronously to
the main application, such as by appending into a pack file that
is later closed and added to the repository.

This change also starts to open the door to non-file based object
storage, such as an in-memory HashMap for unit testing, or a more
complex system built on top of a distributed hash table.

To help existing application code port to the newer interface we
are keeping ObjectWriter as a delegation wrapper to the new API.
Each ObjectWriter instances holds a reference to an ObjectInserter
for the Repository's top-level ObjectDatabase, and it flushes and
releases that instance on each object processed.

Change-Id: I413224fb95563e7330c82748deb0aada4e0d6ace
Signed-off-by: Shawn O. Pearce <spearce@spearce.org>",0,1,1,0,1,0,1,-1,0
860,I91a15e1dc42da68e6715397814e30fbd87fa2e73,https://git.eclipse.org/r/#/c/860,7,8202b1b9fd4e2d416480d54d940db56538cee7be,9ad8f2c48fd91a3488fa35c29ef63d893f1d65eb,1,27/07/10,24/06/13,294,Start using ObjectInserter instead of ObjectWriter,"Start using ObjectInserter instead of ObjectWriter

Some newer style APIs are updated to use the newer ObjectInserter
interface instead of the now deprecated ObjectWriter.  In many of
the unit tests we don't bother to release the inserter, these are
typically using the file backend which doesn't need a release, but
in the future should use an in-memory HashMap based store, which
really wouldn't need it either.

Change-Id: I91a15e1dc42da68e6715397814e30fbd87fa2e73
Signed-off-by: Shawn O. Pearce <spearce@spearce.org>",0,1,1,0,0,0,1,0,0
880,If088717d3da7483538c00a927e433a74085ae9e6,https://git.eclipse.org/r/#/c/880,2,0c0af86a83e8041552135504d636f862e78b206d,c7101251f4715559e5dd9377e226dfa94cd4c212,1,16/06/10,16/06/10,43,Modifications to various classes in order to allow serialization for use of JGit in Hudson's git plugin,"Modifications to various classes in order to allow serialization for use of JGit in Hudson's git plugin

Change-Id: If088717d3da7483538c00a927e433a74085ae9e6",0,0,0,1,0,0,1,0,0
884,Id49a11f6d9c050c82b876e5e11058840c894b2d7,https://git.eclipse.org/r/#/c/884,3,3834335cf40a3d27c2f1b65cf52ab88789ec2ef6,26f40cc90d1becf5c187f399d9dd8ba902746ead,0,27/07/10,24/06/13,23,Use RevTag/RevCommit to sort in a PlotWalk,"Use RevTag/RevCommit to sort in a PlotWalk

We already have these objects parsed and cached in our object pool.
We shouldn't be looking them up via the legacy mapObject API, but
instead can use the pool and the faster parsing routines available
through the RevWalk that we extend.

While we are here fixing the code, lets also correct the tag date
sorting to accept tags that have no tagger identity, because they
were created before Git knew how to store that field.

Change-Id: Id49a11f6d9c050c82b876e5e11058840c894b2d7
Signed-off-by: Shawn O. Pearce <spearce@spearce.org>",0,0,1,0,0,0,1,NA,NA
885,I0121453461c2140c6917cb10c6df584eb47e5795,https://git.eclipse.org/r/#/c/885,3,32fd299a59cfe78af7dedbd67c7943ce6d2cbaeb,b60947b7cd1e3fb9cd49814d1d64849e6d41af55,1,27/07/10,24/06/13,3,Disable topological sorting in PackWriter,"Disable topological sorting in PackWriter

Its not strictly required that we sort topologically in order to
produce a valid pack file.  This was just something that Linus
thought would be a good idea to do.  In practice its not that
important for most repositories.  Local file IO quickly falls
out of the pattern that topological sorting provides any sort
of benefit for, so expending extra resources to enforce it when
we make a pack isn't really worth it.

I'm removing this sort in the pipeline because later changes
would support really efficient COMMIT_TIME_DESC sorting on a
non-file storage system, but TOPO sorting would be a bit more
ugly to run, due to the in-memory delays it imposes.

Change-Id: I0121453461c2140c6917cb10c6df584eb47e5795
Signed-off-by: Shawn O. Pearce <spearce@spearce.org>",0,0,1,0,0,0,1,0,0
890,I1bd54ea0500337799a8e792874c272eb14d555f7,https://git.eclipse.org/r/#/c/890,6,aef7ec9ae354496359ec9645ba6e46bd497e8205,cd7d7eb0b9ce48623c769fa45ef418a16f0f85bb,1,27/07/10,24/06/13,944,Rename lib.Repository to storage.file.FileRepository,"Rename lib.Repository to storage.file.FileRepository

This opens the door for later refactorings to support pulling common
APIs out of FileRepository back up into lib.Repository, and then
implementing storage systems that aren't on the local filesystem,
such as an in-memory system for unit testing.

A handful of minor, previously non-public APIs had to be made public
to suppport this change.  Its a minor hazard, and one that really
doesn't harm the project that badly, and they may even be needed by
the other storage APIs anyway.

Change-Id: I1bd54ea0500337799a8e792874c272eb14d555f7
Signed-off-by: Shawn O. Pearce <spearce@spearce.org>",0,1,1,0,1,0,1,1,1
899,I8fc9a1dbb219ffa91d1b3011b3b11b7e48e74ca7,https://git.eclipse.org/r/#/c/899,1,65d7ae1f79999d7dc673573c8f548a29d426761a,57cf298d62478e0b97861398afd799fc4e422bbf,0,18/06/10,18/06/10,144,Fix line endings,"Fix line endings

Some sources had dos line endings. Also configure all projects to use
unix line endings and UTF-8 text encoding.

Change-Id: I8fc9a1dbb219ffa91d1b3011b3b11b7e48e74ca7
Signed-off-by: Matthias Sohn <matthias.sohn@sap.com>",0,0,0,0,0,0,0,NA,NA
903,Ibf40342f67d9706e86336748f15d10ea47278096,https://git.eclipse.org/r/#/c/903,1,47ddddadc44ca65bb0b55b734f9f6cf7f337be87,bbf2a27d8ba5ee061bf6f55c4cbcc6a4dc5fe6df,0,18/06/10,18/06/10,2,Change default target platform for maven build to galileo,"Change default target platform for maven build to galileo

Starting with 0.9 we do no longer support ganymede.
http://dev.eclipse.org/mhonarc/lists/egit-dev/msg01277.html

Change-Id: Ibf40342f67d9706e86336748f15d10ea47278096
Signed-off-by: Matthias Sohn <matthias.sohn@sap.com>",0,0,0,0,0,0,0,NA,NA
912,I27e1c844610d7da5b2c44b33a00602706973c9cc,https://git.eclipse.org/r/#/c/912,2,5b52f1e0e832f457fb585ed664359d36c977f6be,1842e4db666eadb294591698cb8328a1ad9be61b,1,23/06/10,23/06/10,301,Remove speed tests based on mapCommit,"Remove speed tests based on mapCommit

The mapCommit API is being deprecated because it doesn't run very
fast.  Leaving tests around to test how fast it is relative to C Git
isn't instructive.  Remove them, which should help aid the transition
away from the mapCommit API.

Change-Id: I27e1c844610d7da5b2c44b33a00602706973c9cc
Signed-off-by: Shawn O. Pearce <spearce@spearce.org>",0,0,0,0,0,0,0,0,0
913,I4d234630195616e2c263e7e70038b55a1be4e7a3,https://git.eclipse.org/r/#/c/913,4,4764755fb28cff996e5000eb03a8194c3f2ee6f2,2b61c5e06dfd1242c2d03843c1235f17c2dc879f,0,27/07/10,24/06/13,202,Rewrite resolve in terms of RevWalk,"Rewrite resolve in terms of RevWalk

We want to eventually get rid of the mapCommit, mapTree APIs on
Repository and force everyone into the faster parsers that exist
in RevWalk.  Rewriting resolve in terms of the faster parsers is
a good first step.

It actually simplifies the code a bit, as we no longer need to
keep track of an ObjectId and an Object (the parsed form), since
all RevObjects implicitly have their ObjectId readily available.

Change-Id: I4d234630195616e2c263e7e70038b55a1be4e7a3
Signed-off-by: Shawn O. Pearce <spearce@spearce.org>",0,1,1,0,0,0,1,NA,NA
914,Ic6d173f300cb72de34519c7607cf7b0ff3ea6882,https://git.eclipse.org/r/#/c/914,4,97b03c99059f40692f1193858a4fc73a6e80bd8a,b879d2ad4595ccf5a80858d97709a4caee68a48d,1,27/07/10,24/06/13,44,Move additional have enumeration to Repository,"Move additional have enumeration to Repository

This permits the repository implementation to know what its
alternates concept means, and avoids needing to expose finer
details about the ObjectDatabase to network code like the
RefAdvertiser.

Change-Id: Ic6d173f300cb72de34519c7607cf7b0ff3ea6882
Signed-off-by: Shawn O. Pearce <spearce@spearce.org>",0,1,1,0,0,0,1,0,0
915,I54bc1ca5ff2ac94dfffad1f9a9dad7af202b9523,https://git.eclipse.org/r/#/c/915,4,ddb9f635a0c03ffb2cdd7969ca61d5980d571a4e,f4c2c555fe27a580551adfc2e74da1d442eb2d48,1,27/07/10,24/06/13,1005,Refactor alternate object databases below ObjectDirectory,"Refactor alternate object databases below ObjectDirectory

Not every object storage system will have the concept of alternate
object databases to search, and even if they do, they may not have the
notion of fast-access / slow-access split like we do within the
ObjectDirectory code for pack files and loose objects.

Push all of that down below the generic API so that it is a hidden
detail of the ObjectDirectory and its related supporting classes.

Change-Id: I54bc1ca5ff2ac94dfffad1f9a9dad7af202b9523
Signed-off-by: Shawn O. Pearce <spearce@spearce.org>",0,1,1,0,1,0,1,-2,0
916,I676be12b57f3534f1285854ee5de1aa483895398,https://git.eclipse.org/r/#/c/916,4,eaac0e66365e9ac8a2fac704b917801905983616,fc948767dd12755c76e950ee9e83a0914fc4a62d,1,27/07/10,24/06/13,431,Replace WindowCache with ObjectReader,"Replace WindowCache with ObjectReader

The WindowCache is an implementation detail of PackFile and how its
used by ObjectDirectory.  Lets start to hide it and replace the public
API with a more generic concept, ObjectReader.

Because PackedObjectLoader is also considered a private detail of
PackFile, we have to make PackWriter temporarily dependent upon the
WindowCursor and thus FileRepository and ObjectDirectory in order to
just start the refactoring.  In later changes we will clean up the
APIs more, exposing sufficient support to PackWriter without needing
the file specific implementation details.

Change-Id: I676be12b57f3534f1285854ee5de1aa483895398
Signed-off-by: Shawn O. Pearce <spearce@spearce.org>",0,1,1,0,0,0,1,-1,0
917,I8c72993c4f4c6e98d599ac2c9867453752f25fd2,https://git.eclipse.org/r/#/c/917,4,a6968f41810ef90fcfa8470342d8c1fcf936e14d,a9205695cf9f7255e0f590724fe69643641343b1,1,23/06/10,23/06/10,26,Expose AnyObjectId compareTo(byte[]) and compareTo(int[]),"Expose AnyObjectId compareTo(byte[]) and compareTo(int[])

Storage systems can use these implementations to compare a passed
AnyObjectId with a stored representation of an ObjectId in the
canonical network byte order format.  This can be useful to do a
binary search, or just linear scan, over an encoded storage file.

Change-Id: I8c72993c4f4c6e98d599ac2c9867453752f25fd2
Signed-off-by: Shawn O. Pearce <spearce@spearce.org>",0,1,0,0,0,0,1,0,0
918,I8867a4e8007892e2bd44a05d7dec619081081943,https://git.eclipse.org/r/#/c/918,2,5c565e453ca285c5dc054d1dc1614eb4ab4725c1,06ccb7efdafe59b3d87d78e50bf3ea7eff6f9338,1,23/06/10,23/06/10,1,Remove pointless setOldObjectId in test,"Remove pointless setOldObjectId in test

Setting this value is pointless, because its automatically set
by the refs.newUpdate call that created the update operation.
The API is protected by default, because application level code,
including this test, should not be calling it.

Change-Id: I8867a4e8007892e2bd44a05d7dec619081081943
Signed-off-by: Shawn O. Pearce <spearce@spearce.org>",0,0,0,0,0,0,0,0,0
919,I291689c0b1ed799270c213ee73b710b2637fb238,https://git.eclipse.org/r/#/c/919,2,6db572457a5ed48253daa314c16bde3d71851394,0f32ffc1b2867bd290c7e9d7b5dc6f49c2218cb6,0,23/06/10,23/06/10,19,Remove pack stream from PackWriterTest,"Remove pack stream from PackWriterTest

This stream was used only to determine how many bytes had been
written thus far.  Except we're always dumping it into a simple
ByteArrayOutputStream, which also knows that.  Drop the dependency
on the pack stream and use ByteArrayOutputStream directly.

This lets us later move this test into the new storage.file
package without dragging along the pack stream that is an internal
implementation detail of PackWriter, which is more general than
just the file storage layer.

Change-Id: I291689c0b1ed799270c213ee73b710b2637fb238
Signed-off-by: Shawn O. Pearce <spearce@spearce.org>",0,0,0,0,0,0,0,NA,NA
920,If85076861baeacc183b82696375a13e935ba8836,https://git.eclipse.org/r/#/c/920,2,8d24105bb1c43f821f500f1141e1977771e2d66d,5ba1771fcc6f52007be7227aabbad54c7972fb60,0,23/06/10,23/06/10,2,"isValidRefName: Inline the forbidden ref suffix of "".lock""","isValidRefName: Inline the forbidden ref suffix of "".lock""

A Git reference name must never end with "".lock"", as it would
confuse any existing C client that tries to obtain a clone of the
repository over the network.  Even if the repository isn't on a
local filesystem, it still should ban that suffix.

Because I plan to move LockFile to storage.file and make it a private
implementation detail of the local file system storage model,
we can't rely on its package level SUFFIX field here.  Making it
public probably won't work long-term either, as I also plan to
pull storage.file into its own separate project that depends on
the core library.

So, just inline the constant here.  Its as foribidden as "":"" is.

Change-Id: If85076861baeacc183b82696375a13e935ba8836
Signed-off-by: Shawn O. Pearce <spearce@spearce.org>",0,0,0,0,0,0,0,NA,NA
922,I142635cbece54af2ab83c58477961ce925dc8255,https://git.eclipse.org/r/#/c/922,2,03abceb0f1cd65ecaf577dca65d1fa132e161879,5d80181f52709e746eb6b66c0188bbc450785239,1,23/06/10,23/06/10,26,Add MutableObjectId.copyFrom(AnyObjectId),"Add MutableObjectId.copyFrom(AnyObjectId)

This simplifies the PackIndex code, which is trying to quickly copy
an existing ObjectId into a MutableObjectId.  Rather than having
the PackIndex violate the ObjectId's internals, expose a copy from
function similar to the other ones for copying from raw byte arrays
or hex formatted strings.

Change-Id: I142635cbece54af2ab83c58477961ce925dc8255
Signed-off-by: Shawn O. Pearce <spearce@spearce.org>",0,0,0,0,0,0,0,0,0
923,I7fb6e8f4f5fdab683c5ebb5267673aa6d5b560bb,https://git.eclipse.org/r/#/c/923,2,edca9d0eb5907614a276517842f842a69f5c893f,95b70275948a41b3b01ca215d5f5cb00ffaaed51,1,23/06/10,23/06/10,16,Expose repository change event constructors,"Expose repository change event constructors

Repository implementations outside of .lib need to be able to
create these events and deliver them to listening application code.

Expose and document the constructors so that they are visible when
we move FileRepository into storage.file.FileRepository.

Change-Id: I7fb6e8f4f5fdab683c5ebb5267673aa6d5b560bb
Signed-off-by: Shawn O. Pearce <spearce@spearce.org>",0,0,0,0,0,0,0,0,0
924,If838aec9baeb80ee2f12dcbca717657c725a9242,https://git.eclipse.org/r/#/c/924,2,721fcc03603324add0a2a12d0e38784b0c85a33f,7c2270337a4df1fadba38f86893cf1d60a930759,1,23/06/10,23/06/10,11,Expose RefUpdate constructor to any subclass,"Expose RefUpdate constructor to any subclass

When we finally move RefDirectory to the new storage.file package,
its associated RefDirectoryUpdate will need visiblity to this
constructor in order to initialize itself.  This is true of any
other repository implementation, so make it protected rather than
package level visible.

Change-Id: If838aec9baeb80ee2f12dcbca717657c725a9242
Signed-off-by: Shawn O. Pearce <spearce@spearce.org>",0,0,0,0,0,0,0,0,0
925,I545867f85aa2c479d2d610024ebbe318144709c8,https://git.eclipse.org/r/#/c/925,2,70c2c8a3a4d5a1e685098ca958686f65ab94ccb4,e8904edc2a001e1a4f7fc652744fdaa151e7f90f,0,23/06/10,23/06/10,9,Expose RefWriter constructor taking RefList,"Expose RefWriter constructor taking RefList

An implementation might prefer to use the RefList type here, and
RefList is part of our public API.  Expose the constructor so callers
who have a RefList can take advantage of the existing sorting.

Change-Id: I545867f85aa2c479d2d610024ebbe318144709c8
Signed-off-by: Shawn O. Pearce <spearce@spearce.org>",0,0,0,0,0,0,0,NA,NA
932,I051336ada23033c05e86bbff73ae5d78a37b1640,https://git.eclipse.org/r/#/c/932,1,17498496dbcf5d9472b32f851a2c582dab1e96f4,e6453da8e5123d46fc159ae109b1ca3534be1260,0,27/07/10,24/06/13,6,Remove test of the unsupported core.legacyHeaders variable,"Remove test of the unsupported core.legacyHeaders variable

Long ago we stopped supporting the core.legacyHeaders variable,
as JGit (like C Git) stopped creating the new pack-style loose
objects, rendering this variable pointless.  The test is still
valid, it proves we write the standard loose object format for
a commit, but the variable assignment has no impact on the test
so drop it from the code.

Change-Id: I051336ada23033c05e86bbff73ae5d78a37b1640
Signed-off-by: Shawn O. Pearce <spearce@spearce.org>",0,0,1,0,0,0,1,NA,NA
933,Ia7b263c8c5efa3fae1054416d39c546867288132,https://git.eclipse.org/r/#/c/933,1,e6453da8e5123d46fc159ae109b1ca3534be1260,9d9eff1b03214740f141d6a226b91afd1b2356e5,1,27/07/10,24/06/13,10,Use higher level Config types when possible,"Use higher level Config types when possible

We don't have to assume/depend on RepositoryConfig here, these
two tests can use higher level versions of the class and still
come up with the same test.  That frees us up to do some changes
to the RepositoryConfig API.

Change-Id: Ia7b263c8c5efa3fae1054416d39c546867288132
Signed-off-by: Shawn O. Pearce <spearce@spearce.org>",0,0,1,0,0,0,1,0,0
934,I481cb365aa00bfa8c21e5ad0cd367ddd9c6c0edd,https://git.eclipse.org/r/#/c/934,1,9d9eff1b03214740f141d6a226b91afd1b2356e5,045b122aaa9bef5768e19298a2243b5f7cbdcf7e,1,27/07/10,24/06/13,24,"Use CoreConfig, UserConfig and TransferConfig directly","Use CoreConfig, UserConfig and TransferConfig directly

Rather than relying on the helpers in RepositoryConfig to get
these objects, obtain them directly through the Config API.
Its only slightly more verbose, but permits us to work with the
base Config class, which is more flexible than the highly file
specific RepositoryConfig.

This is what I really meant to do when I added the section parser
and caching support to Config, we just failed to finish updating
all of the call sites.

Change-Id: I481cb365aa00bfa8c21e5ad0cd367ddd9c6c0edd
Signed-off-by: Shawn O. Pearce <spearce@spearce.org>",0,0,1,0,0,0,1,0,0
935,Idabd10dc41502e782f6a2eeb56f09566b97775a8,https://git.eclipse.org/r/#/c/935,1,92a498c1149046e4da89a638522c1d365d5cdb5a,41d4db0f536b1b47866462f1688b38d5e60a6c42,1,27/07/10,24/06/13,58,Replace manual peel loops with RevWalk.peel,"Replace manual peel loops with RevWalk.peel

Instead of peeling things by hand in application level code, defer
the peeling logic into RevWalk's new peel utility method.

Change-Id: Idabd10dc41502e782f6a2eeb56f09566b97775a8
Signed-off-by: Shawn O. Pearce <spearce@spearce.org>",0,0,1,0,0,0,1,0,0
937,Ic2f79e85215e48d3fd53ec1b4ad13373dd183a4a,https://git.eclipse.org/r/#/c/937,6,ecb872bb72f0e99d03c35e56842bed3c1a3124c3,7eb2858c92d664fa2c9cfc335a55b2e0bf31fa19,1,29/06/10,29/06/10,440,Added support for whitespace ignoring,"Added support for whitespace ignoring

JGit did not have support for skipping whitespace when comparing
lines in RawText objects. I added a subclass of RawText that skips
whitespace in its equals and hashCode methods. I used a subclass
rather than adding functionality into RawText so that performance
would not be impacted by extra logic.

This class only supports ignoring all whitespace. Others will follow
that allow other forms of whitespace ignoring.",0,1,0,0,0,0,1,0,0
944,I5be366ce32d7923b888dc01d19335912b01b7c4c,https://git.eclipse.org/r/#/c/944,1,956d411d60eba72a1f4c8b59cbe33fe7b0c50236,1ec3fa79a0041224403b653a97d82fc52572c2ae,1,27/07/10,24/06/13,8,DirCache must use getIndexFile,"DirCache must use getIndexFile

When reading or locking the index of a repository, we need to use
the index file specified by the repository, to ensure we correctly
honor what the repository was configured with.

Change-Id: I5be366ce32d7923b888dc01d19335912b01b7c4c
Signed-off-by: Shawn O. Pearce <spearce@spearce.org>",0,0,1,0,0,0,1,0,0
945,I4b377e57b28ba3b1717c13d9ab51a602de1ad257,https://git.eclipse.org/r/#/c/945,1,1ec3fa79a0041224403b653a97d82fc52572c2ae,8acceb2d0f32030a3f9af7c7369272343de01568,1,27/07/10,24/06/13,44,Use FileKey to resolve Git repository arguments,"Use FileKey to resolve Git repository arguments

upload-pack and receive-pack take a git repository as an argument,
but its a lenient path format.  Locate the repository and open it.

Change-Id: I4b377e57b28ba3b1717c13d9ab51a602de1ad257
Signed-off-by: Shawn O. Pearce <spearce@spearce.org>",0,0,1,0,0,0,1,0,0
946,Ied16bc89be624d87110ba42ba52d698a6ea7d982,https://git.eclipse.org/r/#/c/946,1,8acceb2d0f32030a3f9af7c7369272343de01568,68714eedef2d938ece99a0f93df6b3cd612e3979,1,27/07/10,24/06/13,23,Download pack-*.idx to /tmp if not on local filesystem,"Download pack-*.idx to /tmp if not on local filesystem

If the destination repository doesn't use an ObjectDirectory to
store its objects, we can't download to the object directory.
Instead pull the pack-*.idx files down to temporary files in the
JVM's default temporary directory.

Change-Id: Ied16bc89be624d87110ba42ba52d698a6ea7d982
Signed-off-by: Shawn O. Pearce <spearce@spearce.org>",0,0,1,0,0,0,1,0,0
947,I76f5503d4063fdd9d24b7c1b58e1b09ddf1a5670,https://git.eclipse.org/r/#/c/947,1,68714eedef2d938ece99a0f93df6b3cd612e3979,3ae6f25afecee68e3a852c00906cda2078a3c616,1,27/07/10,24/06/13,45,Refactor amazon-s3:// property file loading to support no directory,"Refactor amazon-s3:// property file loading to support no directory

In the future getDirectory() can return null.  Avoid an NPE here by
refactoring the code to support conditionally skipping a check for
the properties file in the repository directory, falling to only
the user's ~/ file location.

Change-Id: I76f5503d4063fdd9d24b7c1b58e1b09ddf1a5670
Signed-off-by: Shawn O. Pearce <spearce@spearce.org>",0,0,1,0,0,0,1,0,0
948,Ibdddec6e518ca6d7439cfad90fedfcdc2d6b7a2e,https://git.eclipse.org/r/#/c/948,1,278005978797500b94fb010d1f497dcd8ca552a9,6815f47c25a0019ee941d2e85546d3175966e294,0,27/07/10,24/06/13,9,Cleanup Repository.create(),"Cleanup Repository.create()

This method doesn't need to be synchronized, as its only a proxy to
create(boolean), which is the real worker.  While we are touching
it try to improve the Javadoc and whitespace nearby.

Change-Id: Ibdddec6e518ca6d7439cfad90fedfcdc2d6b7a2e
Signed-off-by: Shawn O. Pearce <spearce@spearce.org>",0,0,1,0,0,0,1,NA,NA
949,Ic21dd48800e68a04ce372965ad233485b2a84bef,https://git.eclipse.org/r/#/c/949,1,6815f47c25a0019ee941d2e85546d3175966e294,683c30da8d7275341a1ec123355046da6ef4b77b,0,27/07/10,24/06/13,37,"Delegate repository access to refs, objects","Delegate repository access to refs, objects

Instead of using the internal field directly to access references
or objects, use the getter method to obtain the proper type of
database, and follow down from there.  This permits us to later
do a refactoring that makes those methods abstract and strips the
field out of the Repository class, moving it into a concrete base
class that is more storage implementation specific.

Change-Id: Ic21dd48800e68a04ce372965ad233485b2a84bef
Signed-off-by: Shawn O. Pearce <spearce@spearce.org>",0,0,1,0,0,0,1,NA,NA
950,I7236800e8090624453a89cb0c7a9a632702691c6,https://git.eclipse.org/r/#/c/950,1,683c30da8d7275341a1ec123355046da6ef4b77b,b7af4d016eb23138c5db55416f7f4ceaa88c4e52,1,27/07/10,24/06/13,157,Remove RepositoryConfig and use FileBasedConfig instead,"Remove RepositoryConfig and use FileBasedConfig instead

Change the Repository API to use straight-up FileBasedConfig.
This lets us remove the subclass RepositoryConfig and stop having
a specialized configuration type for repository, letting us instead
focus the config type heirarchy on type-of-storage rather than use.

Change-Id: I7236800e8090624453a89cb0c7a9a632702691c6
Signed-off-by: Shawn O. Pearce <spearce@spearce.org>",0,0,1,0,0,0,1,0,0
951,I2c585649aecc805e8e66db2f094828cd2649e549,https://git.eclipse.org/r/#/c/951,1,b7af4d016eb23138c5db55416f7f4ceaa88c4e52,79d8778ddd25a34fc61c2e32fd3fe77e60706ef4,0,27/07/10,24/06/13,16,Rename Repository 'config' as 'repoConfig',"Rename Repository 'config' as 'repoConfig'

This better matches with the other configuration variable,
'userConfig', and helps to make it clear what config object
we are dealing with.

Change-Id: I2c585649aecc805e8e66db2f094828cd2649e549
Signed-off-by: Shawn O. Pearce <spearce@spearce.org>",0,0,1,0,0,0,1,NA,NA
952,I0a299013c6e42fef6cae3f6a9446f8f6c8e0514a,https://git.eclipse.org/r/#/c/952,1,79d8778ddd25a34fc61c2e32fd3fe77e60706ef4,e208fbbc4da047b6de98606fc040612b3540aae7,1,27/07/10,24/06/13,11,Add RepositoryState.BARE,"Add RepositoryState.BARE

A bare repository cannot be checked out, committed to, etc. as it
doesn't have a working directory.  Define this as a state since the
state enumeration exists only to describe how a working directory
can be modified.

Change-Id: I0a299013c6e42fef6cae3f6a9446f8f6c8e0514a
Signed-off-by: Shawn O. Pearce <spearce@spearce.org>",0,0,1,0,0,0,1,0,0
953,I5785b2009c5b7cca0fb070a968e50814ce847076,https://git.eclipse.org/r/#/c/953,1,e208fbbc4da047b6de98606fc040612b3540aae7,32beaf7b3509ee67806ad0c8dcf13b0ce37d1488,0,27/07/10,24/06/13,10,Consistently use getDirectory() for work tree state,"Consistently use getDirectory() for work tree state

This permits us to leave the implementation of these methods here in
the Repository class, but later refactor how the directory is accessed
into a subclass.

Change-Id: I5785b2009c5b7cca0fb070a968e50814ce847076
Signed-off-by: Shawn O. Pearce <spearce@spearce.org>",0,0,1,0,0,0,1,NA,NA
954,I762c55890b7fe272a183da583f910671d1cadf71,https://git.eclipse.org/r/#/c/954,1,32beaf7b3509ee67806ad0c8dcf13b0ce37d1488,e07871de0ca3a747f3516ae0255afe8aa0370577,0,27/07/10,24/06/13,12,Consistently fail work tree methods on bare repositories,"Consistently fail work tree methods on bare repositories

If the working tree isn't available, it doesn't make any sense to
obtain the merge heads, or the buffered commit message.  The
repository shouldn't have a partial merge state to read.  Throw back
the same exception we do when invoking getWorkDir() on a bare
repository instance.

Change-Id: I762c55890b7fe272a183da583f910671d1cadf71
Signed-off-by: Shawn O. Pearce <spearce@spearce.org>",0,0,1,0,0,0,1,NA,NA
955,Ib783f0f6a11acd6aa305c16d61ccc368b46beecc,https://git.eclipse.org/r/#/c/955,1,f80e84122b966fa09a95ab777d2c57d493aa9f60,d1e9bde2a53dfcd387186ee6eddffbf557b4a8a3,1,27/07/10,24/06/13,190,Use FileRepository where we assume other file semantics,"Use FileRepository where we assume other file semantics

When the surrounding code is already heavily based upon the
assumption that we have a FileRepository (e.g. because it
created that type of repository) keep the type around and
use it directly.  This permits us to continue to do things
like save the configuration file.

Change-Id: Ib783f0f6a11acd6aa305c16d61ccc368b46beecc
Signed-off-by: Shawn O. Pearce <spearce@spearce.org>",0,0,1,0,0,0,1,0,0
956,If9a0928f4b3ef29a24d270b0ce585a6e77f6fac6,https://git.eclipse.org/r/#/c/956,1,d1e9bde2a53dfcd387186ee6eddffbf557b4a8a3,ebde453941213013554968f5c2b309f77576cb1f,0,27/07/10,24/06/13,2,Change Repository.getConfig() to return non-file Configs,"Change Repository.getConfig() to return non-file Configs

A repository implementation might support storing configurations
on a non-file storage system, so widen the return value to be any
type of configuration.

Change-Id: If9a0928f4b3ef29a24d270b0ce585a6e77f6fac6
Signed-off-by: Shawn O. Pearce <spearce@spearce.org>",0,0,1,0,0,0,1,NA,NA
957,Idb1e2b1af1433a23f8c3fd55aeb20575e6047ef0,https://git.eclipse.org/r/#/c/957,1,bdbfc047b3bbb339ef4b527c9ccb5b8966ee7454,08977661a7bc7f89b5f7417c88f578b8aeae51c5,1,27/07/10,24/06/13,74,Use ObjectInserter for loose objects in WalkFetchConnection,"Use ObjectInserter for loose objects in WalkFetchConnection

Rather than relying on the repository's ability to give us the
local file path for a loose object, just pass its inflated form to
the ObjectInserter for the repository.  We have to recompress it,
which may slow down fetches, but this is the slow dumb protocol.
The extra cost to do the compression locally isn't going to be a
major bottleneck.

This nicely removes the nasty part about computing the object
identity by hand, allowing us to instead rely upon the inserter's
internal computation.  Unfortunately it means we might store a loose
object whose SHA-1 doesn't match the expected SHA-1, such as if the
remote repository was corrupted.  This is fairly harmless, as the
incorrectly named object will now be stored under its proper name,
and will eventually be garbage collected, as its not referenced by
the local repository.

We have to flush the inserter after the object is stored because
we aren't sure if we need to read the object later, or not.

Change-Id: Idb1e2b1af1433a23f8c3fd55aeb20575e6047ef0
Signed-off-by: Shawn O. Pearce <spearce@spearce.org>",0,0,1,0,0,0,1,0,0
958,I20d1b8c39104023936e6d46a5b0d7ef39ff118e8,https://git.eclipse.org/r/#/c/958,1,08977661a7bc7f89b5f7417c88f578b8aeae51c5,4c388a59a85b322517a1ceef02e52e5b2389cfbd,1,27/07/10,24/06/13,32,Remove Repository.toFile(ObjectId),"Remove Repository.toFile(ObjectId)

Not every type of Repository will be able to map an ObjectId into
a local file system path that stores that object's file contents.
Heck, its not even true for the FileRepository, as an object can
be stored in a pack file and not in its loose format.

Remove this from our public API, it was a mistake to publish it.

Change-Id: I20d1b8c39104023936e6d46a5b0d7ef39ff118e8
Signed-off-by: Shawn O. Pearce <spearce@spearce.org>",0,0,1,0,0,0,1,0,0
959,I17e8e0392ad1dbf6a90a7eb49a6d809388d27e4c,https://git.eclipse.org/r/#/c/959,1,4c388a59a85b322517a1ceef02e52e5b2389cfbd,157278399b410df056b7c1089b29768b27270cb3,1,27/07/10,24/06/13,1137,Refactor repository construction to builder class,"Refactor repository construction to builder class

The new FileRepositoryBuilder class helps applications to construct
a properly configured FileRepository, with properties assumed based
upon the standard Git rules for the local filesystem.

To better support simple command line applications, environment
variable handling and repository searching was moved into this
builder class.

The change gets rid of the ever-growing FileRepository constructor
variants, and the multitude of java.io.File typed parameters,
by using simple named setter methods.

Change-Id: I17e8e0392ad1dbf6a90a7eb49a6d809388d27e4c
Signed-off-by: Shawn O. Pearce <spearce@spearce.org>",0,0,1,0,1,0,1,1,1
960,Ib698ba4bbc213c48114f342378cecfe377e37bb7,https://git.eclipse.org/r/#/c/960,1,157278399b410df056b7c1089b29768b27270cb3,946d65f21d56ab58ef72f6d6487ed61f1bddb902,1,27/07/10,24/06/13,77,Rename Repository getWorkDir to getWorkTree,"Rename Repository getWorkDir to getWorkTree

This better matches with the name used in the environment
(GIT_WORK_TREE), in the configuration file (core.worktree),
and in our builder object.

Since we are already breaking a good chunk of other code
related to repository access, and this fairly easy to fix
in an application's code base, I'm not going to offer the
wrapper getWorkDir() method.

Change-Id: Ib698ba4bbc213c48114f342378cecfe377e37bb7
Signed-off-by: Shawn O. Pearce <spearce@spearce.org>",0,0,1,0,0,0,1,0,0
961,I651417b3098b9afc93d91085e9f0b2265df8fc81,https://git.eclipse.org/r/#/c/961,1,946d65f21d56ab58ef72f6d6487ed61f1bddb902,163270b542ea399198ffb03ad55b5725ca8b2599,1,27/07/10,24/06/13,579,Redo event listeners to be more generic,"Redo event listeners to be more generic

Replace the old crude event listener system with a much more generic
implementation, patterned after the event dispatch techniques used
in Google Web Toolkit 1.5 and later.

Each event delivers to an interface that defines a single method,
and the event itself is what performs the delivery in a type-safe
way through its own dispatch method.

Listeners are registered in a generic listener list, indexed by
the interface they implement and wish to receive an event for.
Delivery of events is performed by looping through all listeners
implementing the event's corresponding listener interface, and using
the event's own dispatch method to deliver the event.  This is the
classical ""double dispatch"" pattern for event delivery.

Listeners can be unregistered by invoking remove() on their
registration handle.  This change therefore requires application
code to track the handle if it wishes to remove the listener at a
later point in time.

Event delivery is now exposed as a generic public method on the
Repository class, making it easier for any type of message to
be sent out to any type of listener that has registered, without
needing to pre-arrange for type-safe fireFoo() methods.

New event types can be added in the future simply by defining a
new RepositoryEvent subclass and a corresponding RepositoryListener
interface that it dispatches to.  By always adding new events through
a new interface, we never need to worry about defining an Adapter
to provide default no-op implementations of new event methods.

Change-Id: I651417b3098b9afc93d91085e9f0b2265df8fc81
Signed-off-by: Shawn O. Pearce <spearce@spearce.org>",0,0,1,0,1,0,1,0,0
962,I061236a691372a267fd7d41f0550650e165d2066,https://git.eclipse.org/r/#/c/962,1,163270b542ea399198ffb03ad55b5725ca8b2599,dd69bb0d301794c379bae696a903330846a4d65d,1,27/07/10,24/06/13,63,Allow Repository.getDirectory() to be null,"Allow Repository.getDirectory() to be null

Some types of repositories might not be stored on local disk.  For
these, they will most likely return null for getDirectory() as the
java.io.File type cannot describe where their storage is, its not
in the host's filesystem.

Document that getDirectory() can return null now, and update all
current non-test callers in JGit that might run into problems on
such repositories.  For the most part, just act like its bare.

Change-Id: I061236a691372a267fd7d41f0550650e165d2066
Signed-off-by: Shawn O. Pearce <spearce@spearce.org>",0,0,1,0,0,0,1,0,0
963,Ie5f58132a6411b56c3acad73646ad169d78a0654,https://git.eclipse.org/r/#/c/963,1,dd69bb0d301794c379bae696a903330846a4d65d,558cfc9fc3b33d2ce2e5b5a7cdab47ed4b07deac,1,27/07/10,24/06/13,22,Use getObjectsDatabase().getDirectory() to find objects,"Use getObjectsDatabase().getDirectory() to find objects

Only the ObjectDirectory type of database knows where to find the
objects directory on the local filesystem, so defer to it whenever
we need to know where the objects reside.  Since this is the type
returned by FileRepository's getObjectDatabase() method, we mostly
don't have to do much other than use a slightly longer invocation.

Change-Id: Ie5f58132a6411b56c3acad73646ad169d78a0654
Signed-off-by: Shawn O. Pearce <spearce@spearce.org>",0,0,1,0,0,0,1,0,0
964,Id849cbffc4de20b903e844a2de7737eeb8b7a3ff,https://git.eclipse.org/r/#/c/964,1,558cfc9fc3b33d2ce2e5b5a7cdab47ed4b07deac,4746d615465fea17a7cea2886ad4d939be46b747,1,27/07/10,24/06/13,334,Extract ObjectToPack to be top-level,"Extract ObjectToPack to be top-level

This shortens the implementation within PackWriter, and starts
to open the door for some other refactorings based on changing
the ObjectToPack to be a public part of the API.

Change-Id: Id849cbffc4de20b903e844a2de7737eeb8b7a3ff
Signed-off-by: Shawn O. Pearce <spearce@spearce.org>",0,0,1,0,0,0,1,0,0
965,I9f047d26b97e46dee3bc0ccb4060bbebedbe8ea9,https://git.eclipse.org/r/#/c/965,1,4746d615465fea17a7cea2886ad4d939be46b747,d13f4585e90dbdd156b6c88aab4bdb9961e240aa,1,27/07/10,24/06/13,200,Extract PackFile specific code to ObjectToPack subclass,"Extract PackFile specific code to ObjectToPack subclass

The ObjectReader class is dual-purposed into being a factory for the
ObjectToPack, permitting specific ObjectDatabase implementations
to override the method and offer their own custom subclass of the
generic ObjectToPack class.  By allowing them to directly extend the
type, each implementation can add custom fields to support tracking
where an object is stored, without incurring any additional penalties
like a parallel Map<ObjectId,Object> would cost.

The reader was chosen to act as a factory rather than the database,
as the reader will eventually be tied more tightly with the
ObjectWalk and TreeWalk.  During object enumeration the reader
would have had to load the object for the RevWalk, and may chose
to cache object position data internally so it can later be reused
and fed into the ObjectToPack instance supplied to the PackWriter.
Since a reader is not thread-safe, and is scoped to this PackWriter
and its internal ObjectWalk, its a great place for the database to
perform caching, if any.

Right now this change goes a bit backwards by changing what should
be generic ObjectToPack references inside of PackWriter to the very
PackFile specific LocalObjectToPack subclass.  We will correct these
in a later commit as we start to refine what the ObjectToPack API
will eventually look like in order to better support the PackWriter.

Change-Id: I9f047d26b97e46dee3bc0ccb4060bbebedbe8ea9
Signed-off-by: Shawn O. Pearce <spearce@spearce.org>",0,0,1,0,0,0,1,0,0
966,Ib9e11221b5bca17c8a531e4ed130ba14c0e3744f,https://git.eclipse.org/r/#/c/966,1,d13f4585e90dbdd156b6c88aab4bdb9961e240aa,9190dadd0b4f2a761ab7340c3ba13196fc0c01b8,1,27/07/10,24/06/13,24,Reclaim some bits in ObjectToPack flags field,"Reclaim some bits in ObjectToPack flags field

Make the lower bits available for flags that PackWriter can use to
keep track of facts about the object.  We shouldn't need more than
2^24 delta depths, unpacking that chain is unfathomable anyway.

This change gets us 4 bits that are unused in the lower end of the
word, which are typically easier to load from Java and most machine
instruction sets.  We can use these in later changes.

Change-Id: Ib9e11221b5bca17c8a531e4ed130ba14c0e3744f
Signed-off-by: Shawn O. Pearce <spearce@spearce.org>",0,0,1,0,0,0,1,0,0
967,Ie01496434f7d3581d6d3bbb9e33c8f9fa649b6cd,https://git.eclipse.org/r/#/c/967,1,9190dadd0b4f2a761ab7340c3ba13196fc0c01b8,9c2d31c1c2b59997c9bc65578ddf2114e333cb3d,1,27/07/10,24/06/13,544,Redo PackWriter object reuse selection,"Redo PackWriter object reuse selection

The new selection implementation uses a public API on the
ObjectReader, allowing the storage library to enumerate its
candidates and select the best one for this packer without
needing to build a temporary list of the candidates first.

Change-Id: Ie01496434f7d3581d6d3bbb9e33c8f9fa649b6cd
Signed-off-by: Shawn O. Pearce <spearce@spearce.org>",0,0,1,0,1,0,1,1,1
968,I6350c2b444118305e8446ce1dfd049259832bcca,https://git.eclipse.org/r/#/c/968,1,9c2d31c1c2b59997c9bc65578ddf2114e333cb3d,ed624361bfcdd6904a53182805a701287cab89cb,1,27/07/10,24/06/13,810,Redo PackWriter object reuse output,"Redo PackWriter object reuse output

Output of selected reuses is refactored to use a new ObjectReuseAsIs
interface that extends the ObjectReader.  This interface allows the
reader to control how it performs the reuse into the output stream,
but also allows it to throw an exception to request the writer to
find a different candidate representation.

The PackFile reuse code was overhauled, cleaning up the APIs so they
aren't exposed in the object loader, but instead are now a single
method on the PackFile itself.  The reuse algorithm was changed to do
a data verification pass, followed by the copy pass to the output.
This permits us to work around a corrupt object in a pack file by
seeking another copy of that object when this one is bad.

The reuse code was also optimized for the common case, where the
in-pack representation is under 16 KiB.  In these smaller cases
data is sent to the pack writer more directly, avoiding some copying.

Change-Id: I6350c2b444118305e8446ce1dfd049259832bcca
Signed-off-by: Shawn O. Pearce <spearce@spearce.org>",0,0,1,0,1,0,1,0,0
969,I48b2c8d37f08d7bf5e76c5a8020cde4a16ae3396,https://git.eclipse.org/r/#/c/969,1,ed624361bfcdd6904a53182805a701287cab89cb,61d4802d6e44526282d799aef7f8fbd4d5ee7954,1,27/07/10,24/06/13,87,Implement zero-copy for single window objects,"Implement zero-copy for single window objects

Objects that fall completely within a single window can be worked
with in a zero-copy fashion, provided that the window is backed by
a normal byte[] and not by a ByteBuffer.

This works for a surprising number of objects.  The default window
size is 8 KiB, but most deltas are quite a bit smaller than that.
Objects smaller than 1/2 of the window size have a very good chance
of falling completely within a window's array, which means we can
work with them without copying their data around.

Larger objects, or objects which are unlucky enough to span over a
window boundary, get copied through the temporary buffer.  We pay
a tiny penalty to realize we can't use the zero-copy code path,
but its easier than trying to keep track of two adjacent windows.

With this change (as well as everything preceeding it), packing
is actually a bit faster.  Some crude benchmarks based on cloning
linux-2.6.git (~324 MiB, 1,624,785 objects) over localhost using
C git client and JGit daemon shows we get better throughput, and
slightly better times:

  Total Time    | Throughput
  (old)  (now)  | (old)          (now)
  --------------+---------------------------
  2m45s  2m37s  | 12.49 MiB/s    21.17 MiB/s
  2m42s  2m36s  | 16.29 MiB/s    22.63 MiB/s
  2m37s  2m31s  | 16.07 MiB/s    21.92 MiB/s

Change-Id: I48b2c8d37f08d7bf5e76c5a8020cde4a16ae3396
Signed-off-by: Shawn O. Pearce <spearce@spearce.org>",0,0,1,0,0,0,1,0,0
970,Icca4884e1a418f83f8b617d0c4c78b73d8a4bd17,https://git.eclipse.org/r/#/c/970,1,61d4802d6e44526282d799aef7f8fbd4d5ee7954,0dd78be87a1998a44770e6d58e503923aba41664,1,27/07/10,24/06/13,454,Move FileRepository to storage.file.FileRepository,"Move FileRepository to storage.file.FileRepository

This move isolates all of the local file specific implementation code
into a single package, where their package-private methods and support
classes are properly hidden away from the rest of the core library.

Because of the sheer number of files impacted, I have limited this
change to only the renames and the updated imports.

Change-Id: Icca4884e1a418f83f8b617d0c4c78b73d8a4bd17
Signed-off-by: Shawn O. Pearce <spearce@spearce.org>",0,0,1,0,0,0,1,26,1
971,I923d2736186eb2ac8ab498d3eb137e17930fcb50,https://git.eclipse.org/r/#/c/971,1,0dd78be87a1998a44770e6d58e503923aba41664,75b87bd1ae477df85f8c5e0406b3c1a516444e8e,1,27/07/10,24/06/13,169,Tighten up local packed object representation during packing,"Tighten up local packed object representation during packing

Rather than making a loader, and then using that to fill the object
representation, parse the header and set up our data directly.
This saves some time, as we don't waste cycles on information we
won't use right now.

The weight computed for a representation is now its actual stored
size in the pack file, rather than its inflated size.  This accounts
for changes made when the compression level is modified on the
repository.  It is however more costly to determine the weight of
the object, since we have to find its length in the pack.  To try and
recover that cost we now cache the length as part of our ObjectToPack
record, so it doesn't have to be found during the output phase.

A LocalObjectToPack now costs us (assuming 32 bit pointers):

                   (32 bit)     (64 bit)
  vm header:         8 bytes      8 bytes
  ObjectId:         20 bytes     20 bytes
  PackedObjectInfo: 12 bytes     12 bytes
  ObjectToPack:      8 bytes     12 bytes
  LocalOTP:         20 bytes     24 bytes
                 -----------    ---------
                    68 bytes     74 bytes

Change-Id: I923d2736186eb2ac8ab498d3eb137e17930fcb50
Signed-off-by: Shawn O. Pearce <spearce@spearce.org>",0,0,1,0,0,0,1,1,1
972,I9ed676bfe4f87fcf94aa21e53bda43115912e145,https://git.eclipse.org/r/#/c/972,1,75b87bd1ae477df85f8c5e0406b3c1a516444e8e,a29f589b456765014381e653ab2c7f2a3fb45705,1,27/07/10,24/06/13,105,"Remove getRawSize, getRawType from ObjectLoader","Remove getRawSize, getRawType from ObjectLoader

These were only used by PackWriter to help it filter object
representations.  Their only user disappeared when we rewrote the
object selection code path to use the new representation type.

Change-Id: I9ed676bfe4f87fcf94aa21e53bda43115912e145
Signed-off-by: Shawn O. Pearce <spearce@spearce.org>",0,0,1,0,0,0,1,0,0
973,Id867b1004529744f234ab8f9cfab3d2c52ca3bd0,https://git.eclipse.org/r/#/c/973,1,a29f589b456765014381e653ab2c7f2a3fb45705,2256b68c397e584dd28c6f6d184af4cc0bd14d1a,1,27/07/10,24/06/13,541,Simplify ObjectLoaders coming from PackFile,"Simplify ObjectLoaders coming from PackFile

We no longer need an ObjectLoader to be lazy and try to delay
the materialization of the object content.  That was done only
to support PackWriter searching for a good reuse candidate.

Instead, simplify the code base by doing the materialization
immediately when the loader asks for it, because any caller
asking for the loader is going to need the content.

Change-Id: Id867b1004529744f234ab8f9cfab3d2c52ca3bd0
Signed-off-by: Shawn O. Pearce <spearce@spearce.org>",0,0,1,0,1,0,1,0,0
974,Ic1b5c7c8c8d266e90c910d8d68dfc8e93586854f,https://git.eclipse.org/r/#/c/974,1,2256b68c397e584dd28c6f6d184af4cc0bd14d1a,89d7bb7fae920ac75c40f020c9159b2e620e2916,1,27/07/10,24/06/13,86,Move PackWriter over to storage.pack.PackWriter,"Move PackWriter over to storage.pack.PackWriter

Similar to what we did with the file code, move the pack writer
into its own package so the related classes and their package
private methods are hidden from the rest of the library.

Change-Id: Ic1b5c7c8c8d266e90c910d8d68dfc8e93586854f
Signed-off-by: Shawn O. Pearce <spearce@spearce.org>",0,0,1,0,0,0,1,3,1
979,Ie56301aafad59ee3f0fe5de62719f5023cd702c8,https://git.eclipse.org/r/#/c/979,2,e626bbf67f29e64ccb3671dad2e5fb237a0b7727,781f1b3c658e2ecdeee3bcca0d6b0e68973e5473,1,29/06/10,29/06/10,665,Added support for whitespace ignoring during diff,"Added support for whitespace ignoring during diff

Added code to support ignoring leading, trailing, and changed
whitespace when performing a diff operation. I also added command
line options to Diff to enable the various whitespace ignoring
methods. These match the flags for git diff.",0,0,0,0,1,0,1,0,0
980,I589267e6cfd0514383c2a3da51c9b7a659f77844,https://git.eclipse.org/r/#/c/980,1,6c87c3abb07f48c0d0a8fcb8db905a56634b3d42,a960981e56cff8cc56a6db579f54548008676f81,0,29/06/10,29/06/10,2,Update build to use Tycho 0.9.0,"Update build to use Tycho 0.9.0

Change-Id: I589267e6cfd0514383c2a3da51c9b7a659f77844
Signed-off-by: Matthias Sohn <matthias.sohn@sap.com>",0,0,0,1,0,0,1,NA,NA
983,I62eae50b618f47ee33ad7cf71fc05b724f603201,https://git.eclipse.org/r/#/c/983,1,51f3370c3a0c5196cf08b34d41a1d87598cdea3d,f1fdd0b72115cacdf92880989d4b51aa6a7890ac,1,27/07/10,24/06/13,2,Commit: Use Repository.newObjectInserter,"Commit: Use Repository.newObjectInserter

Everyone else does.  This must have been a spot I missed during
some sort of squash while developing the series.

Change-Id: I62eae50b618f47ee33ad7cf71fc05b724f603201
Signed-off-by: Shawn O. Pearce <spearce@spearce.org>",0,0,1,0,0,0,1,0,0
984,Id617b2db864c3208ed68cba4eda80e51612359ad,https://git.eclipse.org/r/#/c/984,1,f1fdd0b72115cacdf92880989d4b51aa6a7890ac,b3a5991ce8682ac00413585860b6cc884c624583,1,27/07/10,24/06/13,18,Release ObjectInserter in merge() not mergeImpl(),"Release ObjectInserter in merge() not mergeImpl()

By doing the release at the higher level class, we can ensure
the release occurs if the inserter was allocated, even if the
implementation forgets to do this.  Since the higher level class
is what allocated it, it makes sense to have it also do the release.

Change-Id: Id617b2db864c3208ed68cba4eda80e51612359ad
Signed-off-by: Shawn O. Pearce <spearce@spearce.org>",0,0,1,0,0,0,1,0,0
985,I2394c7d2477eaf7a7e1556fc3393c59d3b31e764,https://git.eclipse.org/r/#/c/985,1,b3a5991ce8682ac00413585860b6cc884c624583,31e65451ead2ec0dcba967c477b34cfebded312c,1,27/07/10,24/06/13,14,Release ObjectReader before the cached ObjectDatabase,"Release ObjectReader before the cached ObjectDatabase

I don't want to play games with the order of release here, its
probably safer to release the reader before the database, just
in case the one depends on the other.

Change-Id: I2394c7d2477eaf7a7e1556fc3393c59d3b31e764
Signed-off-by: Shawn O. Pearce <spearce@spearce.org>",0,0,1,0,0,0,1,0,0
986,I3f8af29066cc5a2132dc4a75c9654d97800f2f18,https://git.eclipse.org/r/#/c/986,1,31e65451ead2ec0dcba967c477b34cfebded312c,1844f746f07ded230a661e58c9dd30deb02a4cf0,1,27/07/10,24/06/13,25,Ensure PackWriter releases its ObjectReader,"Ensure PackWriter releases its ObjectReader

Change-Id: I3f8af29066cc5a2132dc4a75c9654d97800f2f18
Signed-off-by: Shawn O. Pearce <spearce@spearce.org>",0,0,1,1,0,0,1,0,0
987,I5cb0b5c1b432434a799fceb21b86479e09b84a0a,https://git.eclipse.org/r/#/c/987,1,1844f746f07ded230a661e58c9dd30deb02a4cf0,158231d2dcccec7e6628a654e4c470996d9e8c94,1,27/07/10,24/06/13,220,Ensure ObjectReader used by PackWriter is released,"Ensure ObjectReader used by PackWriter is released

The ObjectReader API demands that we release the reader when we are
done with it.  PackWriter contains a reader, which it uses for the
entire packing session.  Expose the release of the reader through
a release method on the writer.

This still doesn't address the RevWalk and TreeWalk users, who
don't correctly release their reader.  But its a small step in the
right direction.

Change-Id: I5cb0b5c1b432434a799fceb21b86479e09b84a0a
Signed-off-by: Shawn O. Pearce <spearce@spearce.org>",0,0,1,0,0,0,1,0,0
988,I9f0dfa033857f439c94245361fcae515bc0a6533,https://git.eclipse.org/r/#/c/988,1,158231d2dcccec7e6628a654e4c470996d9e8c94,083819b5a3c712256debfd57924297d8e8731a37,1,27/07/10,24/06/13,12,Throw IncorrectObjectTypeException on bad type hints,"Throw IncorrectObjectTypeException on bad type hints

If the type hint isn't OBJ_ANY and it doesn't match the actual type
observed from the object store, define the reader to throw back an
IncorrectObjectTypeException.  This way the caller doesn't have to
perform this check itself before it evaluates the object data, and
we can simplify quite a few call sites.

Change-Id: I9f0dfa033857f439c94245361fcae515bc0a6533
Signed-off-by: Shawn O. Pearce <spearce@spearce.org>",0,0,1,0,0,0,1,0,0
989,Ia927b448d128005e1640362281585023582b1a3a,https://git.eclipse.org/r/#/c/989,1,083819b5a3c712256debfd57924297d8e8731a37,e60521076d14c3c8336def5cd279b6e8b93c3587,1,27/07/10,24/06/13,68,"Remove Repository.openObject(ObjectReader, AnyObjectId)","Remove Repository.openObject(ObjectReader, AnyObjectId)

Going through ObjectReader.openObject(AnyObjectId) is faster, but
also produces cleaner application level code.  The error checking
is done inside of the openObject method, which means it can be
removed from the application code.

Change-Id: Ia927b448d128005e1640362281585023582b1a3a
Signed-off-by: Shawn O. Pearce <spearce@spearce.org>",0,0,1,0,0,0,1,-1,0
990,I0fd323371bc12edb10f0493bf11885d7057aeb13,https://git.eclipse.org/r/#/c/990,1,e60521076d14c3c8336def5cd279b6e8b93c3587,dc8d6f84410dbf69ce7994a23bc3b84bbe0e318c,1,27/07/10,24/06/13,32,Pass the PackOutputStream down the call stack,"Pass the PackOutputStream down the call stack

Rather than storing this in an instance member, pass it down the
calling stack.  Its cleaner, we don't have to poke the stream as
a temporary field, and then unset it.

Change-Id: I0fd323371bc12edb10f0493bf11885d7057aeb13
Signed-off-by: Shawn O. Pearce <spearce@spearce.org>",0,0,1,0,0,0,1,0,0
991,I2b230d07e277de029b1061c807e67de5428cc1c4,https://git.eclipse.org/r/#/c/991,1,dc8d6f84410dbf69ce7994a23bc3b84bbe0e318c,a9b133cd9a121f562535c7c6d865ab00b07ef347,1,27/07/10,24/06/13,189,Move PackWriter progress monitors onto the operations,"Move PackWriter progress monitors onto the operations

Rather than taking the ProgressMonitor objects in our constructor and
carrying them around as instance fields, take them as arguments to the
actual time consuming operations we need to run.

Change-Id: I2b230d07e277de029b1061c807e67de5428cc1c4
Signed-off-by: Shawn O. Pearce <spearce@spearce.org>",0,0,1,0,0,0,1,0,0
992,I72c43353cea8372278b032f5086d52082c1eee39,https://git.eclipse.org/r/#/c/992,1,a9b133cd9a121f562535c7c6d865ab00b07ef347,410f39aade9a1ac2b14c3aabca4b65c30c840fdb,1,27/07/10,24/06/13,226,Refactor Repository.openObject to be Repository.open,"Refactor Repository.openObject to be Repository.open

We drop the ""Object"" suffix, because its pretty clear here that
we want to open an object, given that we pass in AnyObjectId as
the main parameter.  We also fix the calling convention to throw
a MissingObjectException or IncorrectObjectTypeException, so that
callers don't have to do this error checking themselves.

Change-Id: I72c43353cea8372278b032f5086d52082c1eee39
Signed-off-by: Shawn O. Pearce <spearce@spearce.org>",0,0,1,0,0,0,1,0,0
993,If055e5e0d8de0e2424c18a773f6d2bc2f66054f4,https://git.eclipse.org/r/#/c/993,1,410f39aade9a1ac2b14c3aabca4b65c30c840fdb,893c921c1798a4f921492781279846f861f46f72,1,27/07/10,24/06/13,56,"Rename openObject, hasObject to just open, has","Rename openObject, hasObject to just open, has

Similar to what we did on Repository, the openObject method
already implied we wanted to open an object, given its main
argument was of type AnyObjectId.  Simplify the method name
to just the action, has or open.

Change-Id: If055e5e0d8de0e2424c18a773f6d2bc2f66054f4
Signed-off-by: Shawn O. Pearce <spearce@spearce.org>",0,0,1,0,0,0,1,0,0
994,Iefe345959e1a2d4669709dbf82962bcc1b8913e3,https://git.eclipse.org/r/#/c/994,1,893c921c1798a4f921492781279846f861f46f72,d0d9ac355c9e775177fc6220246c75367d391183,1,27/07/10,24/06/13,2,Remove volatile keyword from RepositoryEvent,"Remove volatile keyword from RepositoryEvent

We don't need this field to be volatile.  Events are delivered by
the same thread that created the RepositoryEvent object, and thus
any cross-thread operations would need to be handled by some other
type of synchronization in the listener, and that would protect
both the repository field and any other per-event data.

Change-Id: Iefe345959e1a2d4669709dbf82962bcc1b8913e3
Signed-off-by: Shawn O. Pearce <spearce@spearce.org>",0,0,1,0,0,0,1,0,0
995,Ifc0c3a94dc0e16126af6cf17e9c4a7cb96e8ffab,https://git.eclipse.org/r/#/c/995,1,d0d9ac355c9e775177fc6220246c75367d391183,2acd4300efde9c4a9791f108fd10ccb429f3023e,1,27/07/10,24/06/13,3,Fix minor formatting issue in UploadPack,"Fix minor formatting issue in UploadPack

Change-Id: Ifc0c3a94dc0e16126af6cf17e9c4a7cb96e8ffab
Signed-off-by: Shawn O. Pearce <spearce@spearce.org>",0,0,1,1,0,0,1,0,0
996,Iba983e48b663790061c43ae9ffbb77dfe6f4818e,https://git.eclipse.org/r/#/c/996,1,2acd4300efde9c4a9791f108fd10ccb429f3023e,2388f0c7c48276e23e6dfec7e566c838a21218f9,1,27/07/10,24/06/13,363,"Use ObjectReader in RevWalk, TreeWalk","Use ObjectReader in RevWalk, TreeWalk

We don't actually need a Repository object here, just an ObjectReader
that can load content for us.  So change the API to depend on that.

However, this breaks the asCommit and asTag legacy translation methods
on RevCommit and RevTag, so we still have to keep the Repository
inside of RevWalk for those two types.  Hopefully we can drop those in
the future, and then drop the Repository off the RevWalk.

Change-Id: Iba983e48b663790061c43ae9ffbb77dfe6f4818e
Signed-off-by: Shawn O. Pearce <spearce@spearce.org>",0,0,1,0,0,0,1,1,1
997,I7f0a2ec8c9fe60b095a7be77dc423a2ff8b443a3,https://git.eclipse.org/r/#/c/997,1,2388f0c7c48276e23e6dfec7e566c838a21218f9,df1209ec6aaa91519c9ccda617ce4e5076664a30,1,27/07/10,24/06/13,38,Use one ObjectReader for WalkFetchConnection,"Use one ObjectReader for WalkFetchConnection

Instead of creating new ObjectReader for each walker, use one for
the entire connection and delegate reads through it.

Change-Id: I7f0a2ec8c9fe60b095a7be77dc423a2ff8b443a3
Signed-off-by: Shawn O. Pearce <spearce@spearce.org>",0,0,1,0,0,0,1,0,0
1001,I2b6f05674c88d89b3f549a5db483f850f7f46c26,https://git.eclipse.org/r/#/c/1001,2,6f9c0c8a4786da995c6b8a06fae23c257f84587b,f41e7be037497eda24d0fc027139fadb792295d8,1,30/06/10,30/06/10,44,Added check for binary files while diffing,"Added check for binary files while diffing

Added a check in Diff to ensure that files that are most likely
not text are not line-by-line diffed. Files are determined to be
binary by checking the first 8000 bytes for a null character. This
is a similar heuristic to what C Git uses.",0,0,0,0,0,0,0,0,0
1002,Ief2b5a6b1b75f05c8a6bc732a60d4d1041dd8254,https://git.eclipse.org/r/#/c/1002,1,89d9dd186bb6b83c7e62384cb4cf0259fcc9bef7,50bf4055ebb3bd69fd4345d507c6f03f053d7a15,1,27/07/10,24/06/13,40,Use ObjectReader in DirCacheBuilder.addTree,"Use ObjectReader in DirCacheBuilder.addTree

Rather than building a custom reader, have the caller supply us one.

Change-Id: Ief2b5a6b1b75f05c8a6bc732a60d4d1041dd8254
Signed-off-by: Shawn O. Pearce <spearce@spearce.org>",0,0,1,0,0,0,1,0,0
1003,I6be48d26b9bd5ac176c1316a9aabdf3a897e1696,https://git.eclipse.org/r/#/c/1003,1,50bf4055ebb3bd69fd4345d507c6f03f053d7a15,1d5fe130992d61b02c03f0b73a469e0f4e7d85de,1,27/07/10,24/06/13,4,Use a single ObjectReader in IpLogGenerator,"Use a single ObjectReader in IpLogGenerator

This way we can be ensured its released when the generator
is done running.

Change-Id: I6be48d26b9bd5ac176c1316a9aabdf3a897e1696
Signed-off-by: Shawn O. Pearce <spearce@spearce.org>",0,0,1,0,0,0,1,0,0
1004,I04087ec79faeea208b19848939898ad7172b6672,https://git.eclipse.org/r/#/c/1004,1,1d5fe130992d61b02c03f0b73a469e0f4e7d85de,406886f60d0484980d612818e812013831e85550,1,27/07/10,24/06/13,482,Ensure RevWalk is released when done,"Ensure RevWalk is released when done

Update a number of calling sites of RevWalk to ensure the walker's
internal ObjectReader is released after the walk is no longer used.
Because the ObjectReader is likely to hold onto a native resource
like an Inflater, we don't want to leak them outside of their
useful scope.

Where possible we also try to share ObjectReaders across several
walk pools, or between a walker and a PackWriter.  This permits
the ObjectReader to actually do some caching if it felt inclined
to do so.

Not everything was updated, we'll probably need to come back and
update even more call sites, but these are some of the biggest
offenders.  Test cases in particular aren't updated.  My plan is to
move most storage-agnostic tests onto some purely in-memory storage
solution that doesn't do compression.

Change-Id: I04087ec79faeea208b19848939898ad7172b6672
Signed-off-by: Shawn O. Pearce <spearce@spearce.org>",0,0,1,0,0,0,1,-1,0
1013,Ideeef2399b11ca460a2dbb3cd80eb76aa0a025ba,https://git.eclipse.org/r/#/c/1013,1,406886f60d0484980d612818e812013831e85550,9b66736534cba424902bd3eaa5f3d749e0fb7506,1,27/07/10,24/06/13,117,Create NoWorkTreeException for bare repositories,"Create NoWorkTreeException for bare repositories

Using a custom exception type makes it easire for an application
developer to understand why an exception was thrown out of a method
we declare.  To remain compatiable with existing callers, we still
extend off IllegalStateException.

Change-Id: Ideeef2399b11ca460a2dbb3cd80eb76aa0a025ba
Signed-off-by: Shawn O. Pearce <spearce@spearce.org>",0,0,1,0,0,0,1,0,0
1014,I6399894b12d6480c4b3ac84d10775dfd1b8d13e7,https://git.eclipse.org/r/#/c/1014,1,9b66736534cba424902bd3eaa5f3d749e0fb7506,5a5674ecb62e848589cd57b4e859cc5efac3f844,1,27/07/10,24/06/13,268,Move DirCache factory methods to Repository,"Move DirCache factory methods to Repository

Instead of creating the DirCache from a static factory method, use
an instance method on Repository, permitting the implementation to
override the method with a completely different type of DirCache
reading and writing.  This would better support a repository in the
cloud strategy, or even just an in-memory unit test environment.

Change-Id: I6399894b12d6480c4b3ac84d10775dfd1b8d13e7
Signed-off-by: Shawn O. Pearce <spearce@spearce.org>",0,0,1,0,0,0,1,0,0
1015,I8398728cd218f8c6e98f7a4a7f2f342391d865e4,https://git.eclipse.org/r/#/c/1015,3,e944d42569084358e621c16b7086b8cb1e9afb19,b4161c6d29a4e1f05eee6d1886d2d208febf5a7b,1,16/07/10,16/07/10,299,Refactored code out of FileHeader to facilitate rename detection,"Refactored code out of FileHeader to facilitate rename detection

Refactored a superclass out of FileHeader called DiffEntry that holds
the more general data from FileHeader that is useful in rename
detection (old/new Ids, modes, names, as well as changeType and
score). FileHeader is now a DiffEntry that adds Hunks, parsing
abilities, etc.",0,0,0,0,0,0,0,1,1
1022,If9e4442e9ef4ed52c3e0f1af9398199a73145516,https://git.eclipse.org/r/#/c/1022,1,226507b70461ce49c261070cfc154ddab1673fb9,ef90b906d2e3558cc3bc95fc36d883ae67c51e6e,1,27/07/10,24/06/13,320,Add openStream to ObjectLoader for big blobs,"Add openStream to ObjectLoader for big blobs

Blobs that are too large to read as a single byte array should be
accessed through an InputStream based interface instead, allowing
the application to walk through the data stream incrementally.

Define the basic interface to support streaming contents, but don't
implement it yet for the file based backend.

Change-Id: If9e4442e9ef4ed52c3e0f1af9398199a73145516
Signed-off-by: Shawn O. Pearce <spearce@spearce.org>",0,0,1,0,0,0,1,0,0
1023,I16a32b94647af0778658eda87acbafc9a25b314a,https://git.eclipse.org/r/#/c/1023,1,ef90b906d2e3558cc3bc95fc36d883ae67c51e6e,2715c95e1e8c1eeb22c98f0d604a881015dddf7e,1,27/07/10,24/06/13,17,Lazily allocate Deflater in PackWriter,"Lazily allocate Deflater in PackWriter

Only allocate the Deflater if we can't reuse everything, but also
make sure we release it when we release the PackWriter's resources.

Change-Id: I16a32b94647af0778658eda87acbafc9a25b314a
Signed-off-by: Shawn O. Pearce <spearce@spearce.org>",0,0,1,0,0,0,1,0,0
1024,I3f3d681b06af0da93ab96c75468e00e183ff32fe,https://git.eclipse.org/r/#/c/1024,1,2715c95e1e8c1eeb22c98f0d604a881015dddf7e,68380677c3d1923b3cd2e959f32ec0196feff402,1,27/07/10,24/06/13,20,Stream whole deflated objects in PackWriter,"Stream whole deflated objects in PackWriter

Instead of loading the entire object as a byte array and passing
that into the deflater, let the ObjectLoader copy the object onto
the DeflaterOutputStream.  This has the nice side effect of using
some sort of stride hack in the Sun implementation that may improve
compression performance.

Change-Id: I3f3d681b06af0da93ab96c75468e00e183ff32fe
Signed-off-by: Shawn O. Pearce <spearce@spearce.org>",0,0,1,0,0,0,1,0,0
1025,I3ada2856af2bf518f072edec242667a486fb0df1,https://git.eclipse.org/r/#/c/1025,1,68380677c3d1923b3cd2e959f32ec0196feff402,a5639089dba410f6eb3737bcb555fa10600c73d1,1,27/07/10,24/06/13,13,Use copyTo during checkout of files to working tree,"Use copyTo during checkout of files to working tree

This way we can stream a large file through memory, rather than
loading the entire thing into a single contiguous byte array.

Change-Id: I3ada2856af2bf518f072edec242667a486fb0df1
Signed-off-by: Shawn O. Pearce <spearce@spearce.org>",0,0,1,0,0,0,1,0,0
1026,I2a63a496c0a7b04f0e5f27d588689c6d5e149d98,https://git.eclipse.org/r/#/c/1026,1,a5639089dba410f6eb3737bcb555fa10600c73d1,5396826a60a267ee9a09e34ea768ccd9a6a76e60,1,27/07/10,24/06/13,4,Permit AnyObjectTo to compareTo AnyObjectId,"Permit AnyObjectTo to compareTo AnyObjectId

Assume that the argument of compareTo won't be mutated while we
are doing the compare, and support the wider AnyObjectId type so
MutableObjectId is suitable on either side of the compareTo call.

Change-Id: I2a63a496c0a7b04f0e5f27d588689c6d5e149d98
Signed-off-by: Shawn O. Pearce <spearce@spearce.org>",0,0,1,0,0,0,1,0,0
1029,I93606ce15da70df6660651ec322ea50718dd7c04,https://git.eclipse.org/r/#/c/1029,5,ab64fd9848c2827fa7de68df61a804c31c75cae9,7c370137c8f40031098f26790169fb42f01aa711,1,16/07/10,16/07/10,479,Added a preliminary version of rename detection,"Added a preliminary version of rename detection

JGit does not currently do rename detection during diffs. I added
a class that, given a TreeWalk to iterate over, can output a list
of DiffEntry's for that TreeWalk, taking into account renames. This
class only detects renames by SHA1's. More complex rename detection,
along the lines of what C Git does will be added later.

Change-Id: I93606ce15da70df6660651ec322ea50718dd7c04",0,1,0,0,0,0,1,1,1
1032,I87b764ab1b84225e9b5619a2a55fd8eaa640e1fe,https://git.eclipse.org/r/#/c/1032,1,388b2ef51a5a75261afcf0a30481c72bf4295cb3,58a713a4ca67b40606c2db8927eea3d76f8e26cc,1,27/07/10,24/06/13,1133,Support large loose objects as streams,"Support large loose objects as streams

Big loose objects can now be streamed if they are over the large
object size threshold.  This prevents the JVM heap from exploding
with a very large byte array to hold the slurped file, and then
again with its uncompressed copy.

We may have slightly slowed down the simple case for small
loose objects, as the loader no longer slurps the entire thing
and decompresses in memory.  To try and keep good performance
for the very common small objects that are below 8 KiB in size,
buffers are set to 8 KiB, causing the reader to slurp most of the
file anyway.  However the data has to be copied at least once,
from the BufferedInputStream into the InflaterInputStream.

New unit tests are supplied to get nearly 100% code coverage on the
unpacked code paths, for both standard and pack style loose objects.
We tested a fair chunk of the code elsewhere, but these new tests
are better isolated to the specific branches in the code path.

Change-Id: I87b764ab1b84225e9b5619a2a55fd8eaa640e1fe
Signed-off-by: Shawn O. Pearce <spearce@spearce.org>",0,0,1,0,1,0,1,-1,0
1033,I381a3953b14870b6d3d74a9c295769ace78869dc,https://git.eclipse.org/r/#/c/1033,1,58a713a4ca67b40606c2db8927eea3d76f8e26cc,f022ec2676c0c74d149ca998106d9153e71b635c,1,27/07/10,27/07/10,117,Replace PackedObjectLoader with ObjectLoader.SmallObject,"Replace PackedObjectLoader with ObjectLoader.SmallObject

The class is identical, but ObjectLoader.SmallObject is part of our
public API for storage implementations to build on top of.

Change-Id: I381a3953b14870b6d3d74a9c295769ace78869dc
Signed-off-by: Shawn O. Pearce <spearce@spearce.org>",1,0,0,0,0,0,1,0,0
1034,Ie23be81289e37e24b91d17b0891e47b9da988008,https://git.eclipse.org/r/#/c/1034,1,f022ec2676c0c74d149ca998106d9153e71b635c,b87e582d45c41f06e212c1806f085788517c1e86,1,27/07/10,27/07/10,361,Support large whole packed objects as streams,"Support large whole packed objects as streams

Similar to the loose object support, whole packed objects can
now be streamed back to the caller.  The streaming is less
efficient as we copy the data from the cached window array
into the InflaterInputStream's internal buffer, then inflate
it there before returning to the application.

Like with unpacked objects, there is plenty of room for some
optimization, especially for the copyTo method, where we don't
necessarily need so much buffering to exist.

Change-Id: Ie23be81289e37e24b91d17b0891e47b9da988008
Signed-off-by: Shawn O. Pearce <spearce@spearce.org>",1,0,0,0,0,0,1,0,0
1035,I724d45245cebb4bad2deeae7b896fc55b2dd49b3,https://git.eclipse.org/r/#/c/1035,1,b87e582d45c41f06e212c1806f085788517c1e86,79ff7c9ee09787f7a04c220462e797fcfe8d4c7f,1,27/07/10,24/06/13,1480,Support large delta packed objects as streams,"Support large delta packed objects as streams

Very large delta instruction streams, or deltas which use very large
base objects, are now streamed through as large objects rather than
being inflated into a byte array.

This isn't the most efficient way to access delta encoded content, as
we may need to rewind and reprocess the base object when there was a
block moved within the file, but it will at least prevent the JVM from
having its heap explode.

When streaming a delta we have an inflater open for each level in the
delta chain, to inflate the instruction set of the delta, as well as
an inflater for the base level object.  The base object is buffered,
as is the top level delta requested by the application, but we do not
buffer the intermediate delta streams.  This keeps memory usage lower,
so its closer to 1024 bytes per level in the chain, without having an
adverse impact on raw throughput as the top-level buffer gets pushed
down to the lowest stream that has the next region.

Delta instructions transparently collapse here, if the top level does
not copy a region from its base, the base won't materialize that part
from its own base, etc.  This allows us to avoid copying around a lot
of segments which have been deleted from the final version.

Change-Id: I724d45245cebb4bad2deeae7b896fc55b2dd49b3
Signed-off-by: Shawn O. Pearce <spearce@spearce.org>",0,0,1,0,1,0,1,4,1
1036,If16fdd4443e46b27361c2a18ed8f51668af5d9ff,https://git.eclipse.org/r/#/c/1036,7,1f6e9581e0e0b23caccca9fbb45c06028e5cc33d,fea9244abf202a6f3be0d82264054258b05ea001,1,15/07/10,15/07/10,573,Git Porcelain API: Add Command for a single file,"Git Porcelain API: Add Command for a single file

In this first iteration a single file can be added to the index.
The new Add command uses the DirCache to access the
git index. It works also in case of an existing conflict. 

The new Add command does add ignored files because
there is no gitignore support in jgit yet.

Bug: 318440
Signed-off-by: Stefan Lay <stefan.lay@sap.com>",0,1,0,0,1,0,1,0,0
1040,If318e64c06683ea14e0240914c2d057c9199ce98,https://git.eclipse.org/r/#/c/1040,3,31c40de5958ebf7a01268be3216f08f5b73f955e,be2e76eded91288ea1ece7659f666e7171a8e083,0,02/07/10,02/07/10,119,Clean up LICENSE file,"Clean up LICENSE file

Change-Id: If318e64c06683ea14e0240914c2d057c9199ce98
Signed-off-by: Shawn O. Pearce <spearce@spearce.org>",0,0,0,1,0,0,1,NA,NA
1041,I103b3a541dc970bbf1a6d92917a12c5a1ee34d6c,https://git.eclipse.org/r/#/c/1041,1,4b5eb5f19b4d67a353206d2d990a27f1810d022c,32a9c1231d6fe5a227f2f35839e0604a3129d51f,1,27/07/10,24/06/13,216,Use core.streamFileThreshold to set our streaming limit,"Use core.streamFileThreshold to set our streaming limit

We default this to 1 MiB for now, but we allow users to modify
it through the Repository's configuration file to be a different
value.  A new repository listener is used to identify when the
setting has been updated and trigger a reconfiguration of any
active ObjectReaders.

To prevent a horrible explosion we cap core.streamFileThreshold
at no more than 1/4 of the maximum JVM heap size.  We do this
because we need at least 2 byte arrays equal in size to the
stream threshold for the worst case delta inflation scenario,
and our host application probably also needs some amount of the
heap for their working set size.

Change-Id: I103b3a541dc970bbf1a6d92917a12c5a1ee34d6c
Signed-off-by: Shawn O. Pearce <spearce@spearce.org>",0,0,1,0,0,0,1,0,0
1042,I6487b75b52a5d201d811a8baed2fb4fcd6431320,https://git.eclipse.org/r/#/c/1042,2,32a9c1231d6fe5a227f2f35839e0604a3129d51f,a87a7bad428c514526b3337cae41ab7c06feb03b,1,27/07/10,24/06/13,111,Make type and size lazy for large delta objects,"Make type and size lazy for large delta objects

Callers don't necessarily need the getSize() result from a large
delta.  They instead should be always using openStream() or copyTo()
for blobs going to local files, or they should be checking the
result of the constant-time isLarge() method to determine the type
of access they can use on the ObjectLoader.  Avoid inflating the
delta instruction stream twice by delaying the decoding of the size
until after we have created the DeltaStream and decoded the header.

Likewise with the type, callers don't necessarily always need it
to be present in an ObjectLoader.  Delay looking at it as late as
we can, thereby avoiding an ugly O(N^2) loop looking up the type
for every single object in the entire delta chain.

Change-Id: I6487b75b52a5d201d811a8baed2fb4fcd6431320
Signed-off-by: Shawn O. Pearce <spearce@spearce.org>",0,0,1,0,0,0,1,0,0
1044,Ifb70df5d1c59f616aa20ee88898cb69524541636,https://git.eclipse.org/r/#/c/1044,2,d25af4ffbd442c04dd1cc296118770ed702250e6,26fa1a8bcf881c6fabb06ae481f6a8fa8a876676,1,27/07/10,24/06/13,5,Avoid unbounded getCachedBytes during parseAny,"Avoid unbounded getCachedBytes during parseAny

Since we don't know the type of object we are parsing, we don't
know if its a massive blob, or some small commit or annotated tag.
Avoid pulling the cached bytes until we have checked the type and
decided if we actually need them to continue parsing right now.

This way large blobs which won't fit in memory and would throw
a LargeObjectException don't abort parsing.

Change-Id: Ifb70df5d1c59f616aa20ee88898cb69524541636
Signed-off-by: Shawn O. Pearce <spearce@spearce.org>",0,0,1,0,0,0,1,0,0
1045,Ie611d005622e38a75537f1350246df0ab89dd500,https://git.eclipse.org/r/#/c/1045,2,d432218c46d3a644759144ba289a03dc27028e5a,4dc89da99f70c948c2bd90de7a0ee7a58fad0a37,1,27/07/10,24/06/13,2,Remove pointless size test in PackFile decompress,"Remove pointless size test in PackFile decompress

Now that any large objects are forced through a streaming loader
when its bigger than getStreamFileThreshold(), and that threshold
is pegged at Integer.MAX_VALUE as its largest size, we will never
be able to reach this code path where we threw OutOfMemoryError.

Robin pointed out that we probably should include a message here,
but the code is effectively unreachable, so there isn't any value
in adding a message at this point.

So remove it.

Change-Id: Ie611d005622e38a75537f1350246df0ab89dd500
Signed-off-by: Shawn O. Pearce <spearce@spearce.org>",0,0,1,0,0,0,1,0,0
1046,Ied52f7a8f7252743353c58d20bfc3ec498933e00,https://git.eclipse.org/r/#/c/1046,3,2174d066bfd82129a101acb70cb20d92a62727f7,13e4e96f7538b7269ea02b4b738ed1e97fe4ba55,1,27/07/10,24/06/13,15,Address some review comments from commit 532421d98925,"Address some review comments from commit 532421d98925

Alex raised a few comments about commit 532421d98925
(""Refactor repository construction to builder class""),
so try to resolve them.

Change-Id: Ied52f7a8f7252743353c58d20bfc3ec498933e00
Signed-off-by: Shawn O. Pearce <spearce@spearce.org>",0,0,1,0,0,0,1,0,0
1047,I87929ddd3005f578a7022f363270952d1f7f8664,https://git.eclipse.org/r/#/c/1047,3,c4c13dc4d5a22f53aba37afa1628fae0e532563d,1ee06a9cb8786eb502cdd18eef67a11b2581840e,0,27/07/10,24/06/13,27,Improve description of isBare and NoWorkTreeException,"Improve description of isBare and NoWorkTreeException

Alex pointed out that my description of a bare repository might be
confusing for some readers.  Reword the description of the error,
and make it consistent throughout the Repository class's API.

Change-Id: I87929ddd3005f578a7022f363270952d1f7f8664
Signed-off-by: Shawn O. Pearce <spearce@spearce.org>",0,0,1,0,0,0,1,NA,NA
1048,I11dff969e8a2e4cf252636d857d2113053bdd9dc,https://git.eclipse.org/r/#/c/1048,2,ddad001296fd2e33c1417823c35238ccdb3db04d,35306ea91d514e0392d8a2783f3b7fa5c58b7881,1,16/07/10,16/07/10,1648,Added content based rename detection,"Added content based rename detection

I had added SHA1 based rename detection in a prior commit. This class
builds on that work by adding content based rename detection, along
the lines of what C Git does. This content based detection works by
hashing portions of each file (every 60 bytes or until a newline)
and populating a hash table of content hash -> number of occurences.
It then walks through the hash tables it created for the files to
determine commonality. Finally, it determines the files most likely
to be renames based on their commonality.

Change-Id: I11dff969e8a2e4cf252636d857d2113053bdd9dc",0,0,0,0,1,0,1,3,1
1049,I34120482375b687ea36ed9154002d77047e94b1f,https://git.eclipse.org/r/#/c/1049,4,c488fa2f1b1051ca8c1f875755969fd2df65f5ae,e2ed34b02a1282b677fe6369eadc0d27126991ad,1,16/07/10,16/07/10,258,Fix infinite loop in IndexPack,"Fix infinite loop in IndexPack

A programming error using the Inflater API led to an infinite
loop within IndexPack, caused by the Inflater returning 0 from
the inflate() method, but it didn't want more input.  This happens
when it has reached the end of the stream, or has reached a spot
asking for an external dictionary.  Such a case is a failure for us,
and we should abort out.

Bug: 317416
Change-Id: I34120482375b687ea36ed9154002d77047e94b1f
Signed-off-by: Shawn O. Pearce <spearce@spearce.org>",0,1,0,0,0,0,1,1,1
1050,I687ccba34e18105a07e0a439d2181c323209d96c,https://git.eclipse.org/r/#/c/1050,1,3d89d82fc2cabeae616969ae71617f13483f5a9e,1c5974610ad013705e037493d295dbf8d126236e,1,16/07/10,16/07/10,370,"log, diff: Add rename detection support","log, diff: Add rename detection support

Implement rename detection in the command line diff and log commands.
Also support --name-status, -p and -U flags, as these can be quite
useful to view more detail.

All of the Git patch file formatting code is now moved over to the
DiffFormatter class.  This permits us to reuse it in any context,
including inside of IDEs.

Change-Id: I687ccba34e18105a07e0a439d2181c323209d96c
Signed-off-by: Shawn O. Pearce <spearce@spearce.org>",1,0,0,0,0,0,1,3,1
1051,I2bad012fee7f40dc1346700ebd19f1e048982878,https://git.eclipse.org/r/#/c/1051,1,1c5974610ad013705e037493d295dbf8d126236e,91428ca4c5d857856dc5318702e0a48cefed3148,1,16/07/10,16/07/10,240,Redo DiffFormatter API to be easier to use,"Redo DiffFormatter API to be easier to use

Passing around the OutputStream and the Repository is crazy.  Instead
put the stream in the constructor, since this formatter exists only to
output to the stream, and put the repository as a member variable that
can be optionally set.

Change-Id: I2bad012fee7f40dc1346700ebd19f1e048982878
Signed-off-by: Shawn O. Pearce <spearce@spearce.org>",1,0,0,0,0,0,1,0,0
1052,Iae8646941683fb19b73fb038217d2e3bf5f77fa9,https://git.eclipse.org/r/#/c/1052,1,91428ca4c5d857856dc5318702e0a48cefed3148,ba397c426baa2912e13e96c3c5d8582e6dab9485,1,16/07/10,16/07/10,30,Format submodule links during differences,"Format submodule links during differences

Instead of crashing, output a submodule link with the simple
""Subproject commit $fullid\n"" syntax used by C Git.

Change-Id: Iae8646941683fb19b73fb038217d2e3bf5f77fa9
Signed-off-by: Shawn O. Pearce <spearce@spearce.org>",1,0,0,0,0,0,1,0,0
1053,Ia16cd3a11b850fffae9fbe7b721d7e43f1d0e8a5,https://git.eclipse.org/r/#/c/1053,1,ba397c426baa2912e13e96c3c5d8582e6dab9485,86ef4f30fd84593cd279c6b379215d9eb04c8170,1,16/07/10,16/07/10,239,log: Add whitespace ignore options,"log: Add whitespace ignore options

Similar to what we did with diff, implement whitespace ignore options
for log too.  This requires us to define some means of creating any
RawText object type at will inside of DiffFormatter, so we define a
new factory interface to construct RawText instances on demand.

Unfortunately we have to copy the entire block of common options.
args4j only processes the options/arguments on the one command class
and Java doesn't support multiple inheritance.

Change-Id: Ia16cd3a11b850fffae9fbe7b721d7e43f1d0e8a5
Signed-off-by: Shawn O. Pearce <spearce@spearce.org>",1,0,0,0,0,0,1,0,0
1054,I669d031690b85ef4da5e39189be7173fb773fc56,https://git.eclipse.org/r/#/c/1054,1,86ef4f30fd84593cd279c6b379215d9eb04c8170,fb888b6bdabbfb4c15a5b8d7a6d2f381965e5257,1,16/07/10,16/07/10,73,Cache the diff configuration section,"Cache the diff configuration section

This way we don't have to reparse for the rename limit every time
we create a new rename detector for a repository.

Change-Id: I669d031690b85ef4da5e39189be7173fb773fc56
Signed-off-by: Shawn O. Pearce <spearce@spearce.org>",0,0,0,0,0,0,0,0,0
1055,I4017bcfd150126aa342fdd423a688493ca660a1f,https://git.eclipse.org/r/#/c/1055,1,fb888b6bdabbfb4c15a5b8d7a6d2f381965e5257,22b9acf140570d47e2594fcdb5fbf0f1ed94ce7a,1,16/07/10,16/07/10,246,log: Implement --follow,"log: Implement --follow

The FollowFilter can be installed on a RevWalk to cause the path
to be updated through rename detection when the affected file is
found to be added to the project.

The filter works reasonably well, for example we can follow the
history of the fsck command in git-core:

  $ jgit log --name-status --follow builtin/fsck.c | grep ^R
  R100	builtin-fsck.c	builtin/fsck.c
  R099	fsck.c	builtin-fsck.c
  R099	fsck-objects.c	fsck.c
  R099	fsck-cache.c	fsck-objects.c

Change-Id: I4017bcfd150126aa342fdd423a688493ca660a1f
Signed-off-by: Shawn O. Pearce <spearce@spearce.org>",1,0,0,0,0,0,1,0,0
1056,Icf177cf8043487169a32ddd72b6f8f9246a433f7,https://git.eclipse.org/r/#/c/1056,3,f5208ad0acd47391d6c11e334179ba63f1825c44,329b7daee1ec24a66e75748767920366eae04438,1,11/07/10,11/07/10,357,Allow ReadTreeTest to test arbitrary Checkouts,"Allow ReadTreeTest to test arbitrary Checkouts

ReadTreeTest was hardcoded to test WorkDirCheckout. Since we want
alternative checkout implementations (especially DirCacheCheckout)
this class has been refactored so that the tests can be reused
to test other implementations

The following changes have been done:
- abstract methods for checkout and prescanTwoTrees have been
  introduced. Parameters are only the two trees. As index we
  will implicitly use the current index of the repo.
- whenever tests needed a manipulated index before checkout
  and prescanTwoTrees it was ensured that the correct index was
  persisted (before we could use not-persisted instantiations of GitIndex
  passed as parameters to checkout, prescanTwoTrees
- abstract methods for getting updated, conflicting, removed entries
  resulting from the last checkout, prescanTwoTrees have been introduced
- an implementation for all these abstract methods using WorkDirCheckout
  has been added
- method to assert a certain state of the index and the working tree has
  been added

Signed-off-by: Christian Halstrick <christian.halstrick@sap.com>",0,0,0,0,0,1,1,0,0
1059,I3ff847f4bf392553dcbd6ee236c6ca32a13eedeb,https://git.eclipse.org/r/#/c/1059,7,3c5ab8187637bda0cd111e9fe5f850f073fb3b79,558790d9967858eaaaecb4c239b0cd8ede7fb053,0,16/07/10,16/07/10,70,added dirty-detection to WorkingTreeIterator,"added dirty-detection to WorkingTreeIterator

Added possibility to compare the current entry of a WorkingTreeIterator
to a given DirCacheEntry. This is done to detect whether an entry
in the index is dirty or not. 'Dirty' means that the file
in the working tree is different from what's in the index. Merge
algorithms will make use of this to detect conflicts.

Signed-off-by: Christian Halstrick <christian.halstrick@sap.com>",0,1,0,0,0,1,1,NA,NA
1067,Ie8f5c4a03f984d98935dccedc2b1ba4457094899,https://git.eclipse.org/r/#/c/1067,1,eb95f896435f236bbd609ee1ccd393ba6ebfeb0d,95af7bec744a5cc5d2fec8c4f8b172707d4d242d,0,06/07/10,06/07/10,2,Fix comparison of nanoseconds,"Fix comparison of nanoseconds

NB.decodeInt32(info, base + 4) already returns nanoseconds.
Therefore it must not be divided by 1000000.

Change-Id: Ie8f5c4a03f984d98935dccedc2b1ba4457094899
Signed-off-by: Stefan Lay <stefan.lay@sap.com>",0,0,0,0,0,0,0,NA,NA
1072,I1c9642a82dbd76b69e607dceccf8b85dc869a3c1,https://git.eclipse.org/r/#/c/1072,2,6378549b7bba1b9fe9522edb84efaa4dbe957e13,5ec34a7bc0316a01dc3bfee55020cdfcd3b3ae2c,1,27/07/10,24/06/13,180,ammend commit: Support large loose objects as streams,"ammend commit: Support large loose objects as streams

We need to validate the stream state after the InflaterInputStream
thinks the stream is done.  Git expects a higher level of service from
the Inflater than the InflaterInputStream usually gives, we need to
ensure the embedded CRC is valid, and that there isn't trailing
garbage at the end of the file.

Change-Id: I1c9642a82dbd76b69e607dceccf8b85dc869a3c1
Signed-off-by: Shawn O. Pearce <spearce@spearce.org>",1,0,1,0,0,0,1,0,0
1073,Ie93a5bae0e9e637b5e822d56993ce6b562c6ad15,https://git.eclipse.org/r/#/c/1073,2,5ec34a7bc0316a01dc3bfee55020cdfcd3b3ae2c,8b6474da9ad89f96ac1293ace17bdfbdb28c010e,1,27/07/10,24/06/13,14,amend commit: Support large delta packed objects as streams,"amend commit: Support large delta packed objects as streams

Rename the ByteWindow's inflate() method to setInput.  We have
completely refactored the purpose of this method to be feeding part
(or all) of the window as input to the Inflater, and the actual
inflate activity happens in the caller.

Change-Id: Ie93a5bae0e9e637b5e822d56993ce6b562c6ad15
Signed-off-by: Shawn O. Pearce <spearce@spearce.org>",1,0,1,0,0,0,1,0,0
1077,I2b28f9cddc36482e1ad42d53e86e9d6461ba3bfc,https://git.eclipse.org/r/#/c/1077,3,c6e7a3f7ac6a761237923bc1f0a09462e600f805,c7e5e959bca594a0491ad1c34f368046f30a88c2,1,07/07/10,07/07/10,159,Deprecate all of the older Tree related code,"Deprecate all of the older Tree related code

We want to get rid of these APIs, because they don't perform as well
as DirCache/TreeWalk, or don't offer nearly as many features.

Bug: 319145
Change-Id: I2b28f9cddc36482e1ad42d53e86e9d6461ba3bfc
Signed-off-by: Shawn O. Pearce <spearce@spearce.org>",0,0,0,0,0,0,0,0,0
1078,If06ff41d9ccd422afbc79ecbc3cfdf8bb2508dcd,https://git.eclipse.org/r/#/c/1078,2,a2394977608f3d903823f794b40711d16d7393ff,1de868d51073db8cf7b10910049c49e0ad29be72,0,09/07/10,09/07/10,22,Add support for updateNeeded flag in DirCacheEntry,"Add support for updateNeeded flag in DirCacheEntry

Change-Id: If06ff41d9ccd422afbc79ecbc3cfdf8bb2508dcd
Signed-off-by: Matthias Sohn <matthias.sohn@sap.com>",0,0,0,1,0,0,1,NA,NA
1081,Ib3b34353465162adebaca3514d596d0edf5aea51,https://git.eclipse.org/r/#/c/1081,1,70e5fb3f72e6ff35c44376b9b2e57ff752746dc5,f61a2a7f21910a73472ce8340c56444764a30ff9,1,08/07/10,08/07/10,14,Fix javadoc typos in JGit API,"Fix javadoc typos in JGit API

There were some small errors which made it
difficult to read the JavaDoc.

Change-Id: Ib3b34353465162adebaca3514d596d0edf5aea51
Signed-off-by: Stefan Lay <stefan.lay@sap.com>",0,0,0,0,0,0,0,0,0
1083,I155aa340a85cbc5d7d60da31dba199fc30689b67,https://git.eclipse.org/r/#/c/1083,4,7d31f7b51e99d7cda3a92a6a34eb42173ef70d78,937ba2fbf0cacad1ea9513a097135a23ad9ddd2b,1,28/07/10,28/07/10,6,Meaninful error message when trying to check-out submodules,"Meaninful error message when trying to check-out submodules

Currently, a NullPointerException occurs in this case. We should
instead throw a more meaningful Exception.
This is a very ""stupid"" implementation which simply checks for
the existence of a "".gitmodules"" file.

Bug: 300731
Bug: 306765
Bug: 308452
Bug: 314853
Change-Id: I155aa340a85cbc5d7d60da31dba199fc30689b67
Signed-off-by: Mathias Kinzler <mathias.kinzler@sap.com>",0,1,0,0,0,0,1,0,0
1085,I7d8b18c0f6c85e3d02ad58995d3d231e69af5887,https://git.eclipse.org/r/#/c/1085,5,942cd25241d4ae40ed40ed61b5fe009d24a945f2,1bb1eb1171cf2027498e73534b534f21a1bc87a5,1,16/07/10,16/07/10,533,Create FileHeader from DiffEntry,"Create FileHeader from DiffEntry

Added support for converting DiffEntrys to FileHeaders. FileHeaders
are DiffEntrys with a buffer containing the diff output as well as
a list of HunkHeaders. The HunkHeaders contain EditLists. The
createFileHeader(DiffEntry) method in DiffFormatter performs a Myers
Diff on the files refered to by the DiffEntry, then puts the returned
EditList into a single HunkHeader, which is then put into the
FileHeader to be returned. It also generates the appropriate diff
header an puts it into the FileHeader's buffer. The rest of the diff
output, which would normally be parsed to generate the HunkHeaders,
is not generated. In fact, the purpose of this method is to avoid
the costly diff output generation and parsing normally required to
create a FileHeader.

Change-Id: I7d8b18c0f6c85e3d02ad58995d3d231e69af5887",0,1,0,0,1,0,1,0,0
1091,Icd8315412d5de6292839778e7cea7fe6f061b0fc,https://git.eclipse.org/r/#/c/1091,2,1bb1eb1171cf2027498e73534b534f21a1bc87a5,9df3a19d054b7eec946bf2c5aae1fdffc3958731,1,16/07/10,16/07/10,32,Added file size based rename detection optimization,"Added file size based rename detection optimization

Prior to this change, files that were very different in size (enough
so that they could not have enough in common to be detected as
renames) were still having their scores calculated. I added an
optimization to skip such files. For example, if the rename detection
threshold is 60%, the larger file is 200kb, and the smaller file is
50kb, the pair cannot be counted as a rename since they cannot
possibly share 60% of their content in common. (200*.6=120, 120>50)

Change-Id: Icd8315412d5de6292839778e7cea7fe6f061b0fc",0,0,0,0,0,0,0,1,1
1092,Ic08e18a066b8fef25bb5e7c62418106a8cee762a,https://git.eclipse.org/r/#/c/1092,2,1ebffd3c60dc7a7952300f53feb07ff9abef6f67,140c3782e8af27619683e17f5863dc9b14855a8c,1,16/07/10,16/07/10,2,Fixed potential div by zero bug,"Fixed potential div by zero bug

The scoring logic in SimilarityIndex was dividing by the max file
size. If both files are empty, this would cause a div by zero
error. This case cannot currently happen, since two empty files
would have the same SHA1, and would therefore be caught in the
earlier SHA1 based detection pass. Still, if this logic eventually
gets separated from that pass, a div by zero error would occur.

I changed the logic to instead consider two empty files to have a
similarity score of 100.

Change-Id: Ic08e18a066b8fef25bb5e7c62418106a8cee762a",0,0,0,0,0,0,0,1,1
1093,I94f0c23bf6413c491b10d5625f6ad7d2ecfb4def,https://git.eclipse.org/r/#/c/1093,3,c027df3659be9806468c07357ee1c1e0637c8a2e,e7a8754b20fdf8e6ecf1a7a0fc33edff15fda6dc,1,16/07/10,16/07/10,82,Added file path similarity to scoring metric in rename detection,"Added file path similarity to scoring metric in rename detection

The scoring method was not taking into account the similarity of
the file paths and file names. I changed the metric so that it is 90%
based on content (which used to be 100% of the old metric), and 10%
based on path similarity. Of that 10%, half (5% of the total final
score) is based on the actual file names (e.g. ""foo.java""), and half
on the directory (e.g. ""src/com/foo/bar/"").

Change-Id: I94f0c23bf6413c491b10d5625f6ad7d2ecfb4def",0,0,0,0,0,0,0,0,0
1095,I1d0238b43fca931ad2079649fb7b431e2815c351,https://git.eclipse.org/r/#/c/1095,1,8db02f36a708519bfde0afd92b08681077a55b6f,caf33328df387d875cc98665b541d4434ed9ad58,1,14/07/10,14/07/10,4,Say that commit is allowed during bisect,"Say that commit is allowed during bisect

C Git allows this and it is quite handy.

Change-Id: I1d0238b43fca931ad2079649fb7b431e2815c351
Signed-off-by: Robin Rosenberg <robin.rosenberg@dewire.com>",0,0,0,0,0,0,0,0,0
1096,I104cd62f3e89acf010b1d40a2b08e7f68f63bb85,https://git.eclipse.org/r/#/c/1096,2,caf33328df387d875cc98665b541d4434ed9ad58,f8ad37537ac625e08122910a6dc26dfd95b57148,1,14/07/10,14/07/10,37,Internationalize RepositoryState descriptions,"Internationalize RepositoryState descriptions

Change-Id: I104cd62f3e89acf010b1d40a2b08e7f68f63bb85
Signed-off-by: Robin Rosenberg <robin.rosenberg@dewire.com>",0,0,0,1,0,0,1,0,0
1097,I3bef85f2b774871ba6104042b341749eb8e7595c,https://git.eclipse.org/r/#/c/1097,1,c53c4a80d669e29d60e85c61c14cd1e2953f3a6e,304f4b26d1cd81a3bad1761df8487e5d8544d4eb,0,27/07/10,27/07/10,2,Fix DeltaEncoder header for objects 128 bytes long,"Fix DeltaEncoder header for objects 128 bytes long

The encode loop had the wrong condition, objects that are 128 bytes
in size need to have their length encoded as two bytes, not one.

Change-Id: I3bef85f2b774871ba6104042b341749eb8e7595c
Signed-off-by: Shawn O. Pearce <spearce@spearce.org>",1,0,0,0,0,0,1,NA,NA
1098,I9410a16e6912faa83180a9788dc05f11e33fabae,https://git.eclipse.org/r/#/c/1098,1,304f4b26d1cd81a3bad1761df8487e5d8544d4eb,4a2ac7cccbe8bb95e7db65e04f4ff1b957ca1c62,0,27/07/10,27/07/10,62,Cap delta copy instructions at 64k,"Cap delta copy instructions at 64k

Although all modern delta decoders can process copy instructions
with a count as large as 0xffffff (~15.9 MiB), pack version 2 streams
are only supposed to use delta copy instructions up to 64 KiB.

Rewrite our copy instruction encode loop to use the lower 64 KiB
limit, even though modern decoders would support longer copies.

To improve encoding performance we now try to encode up to four full
copy commands in our buffer before we flush it to the stream, but
we don't try to implement full buffering here.  We are just trying
to amortize the virtual method call to the destination stream when
we have to do a large copy.

Change-Id: I9410a16e6912faa83180a9788dc05f11e33fabae
Signed-off-by: Shawn O. Pearce <spearce@spearce.org>",1,0,0,0,0,0,1,NA,NA
1099,I5a326f4380f6ac87987fa833e9477700e984a88e,https://git.eclipse.org/r/#/c/1099,1,4a2ac7cccbe8bb95e7db65e04f4ff1b957ca1c62,f39e3bdeadefb10749bc8ada979946b94e9c1092,0,27/07/10,27/07/10,5,Define a constant for 127 in DeltaEncoder,"Define a constant for 127 in DeltaEncoder

The special value 127 here means how many bytes we can put into
a single insert command.  Rather than use the magical value 127,
lets name it to better document the code.

Change-Id: I5a326f4380f6ac87987fa833e9477700e984a88e
Signed-off-by: Shawn O. Pearce <spearce@spearce.org>",1,0,0,0,0,0,1,NA,NA
1100,Id1da26fde2102e76510b1da4ede8493928a981cc,https://git.eclipse.org/r/#/c/1100,1,f39e3bdeadefb10749bc8ada979946b94e9c1092,e511d18c1ed0256e2314ffd2334e7a4f685b400d,1,27/07/10,27/07/10,47,Allow TemporaryBuffer.Heap to allocate smaller than 8 KiB,"Allow TemporaryBuffer.Heap to allocate smaller than 8 KiB

If the heap limit was set to something smaller than 8 KiB, we were
still allocating the full 8 KiB block size, and accepting up to
the amount we allocated by.  Instead actually put a hard cap on
the limit.

Change-Id: Id1da26fde2102e76510b1da4ede8493928a981cc
Signed-off-by: Shawn O. Pearce <spearce@spearce.org>",1,0,0,0,0,0,1,0,0
1101,I13a09b4effb71ea5151b51547f7d091564531e58,https://git.eclipse.org/r/#/c/1101,1,e511d18c1ed0256e2314ffd2334e7a4f685b400d,874472519f3302fac74bc5a2ae721fc8c9ff5022,1,27/07/10,27/07/10,248,Add getObjectSize to ObjectReader,"Add getObjectSize to ObjectReader

This is an informational function used by PackWriter to help it
better organize objects for delta compression.  Storage systems
can implement it to provide up more detailed size information,
or they can simply rely on the default behavior that uses the
ObjectLoader obtained from open.

For local file storage, we can obtain this information faster
through specialized routines that parse a pack object header.

Change-Id: I13a09b4effb71ea5151b51547f7d091564531e58
Signed-off-by: Shawn O. Pearce <spearce@spearce.org>",1,0,0,0,0,0,1,1,1
1102,I31770ee711526306769a6f534afb19f937e0ba85,https://git.eclipse.org/r/#/c/1102,1,874472519f3302fac74bc5a2ae721fc8c9ff5022,7d9381a9364662f182718d70a3d286d72d748042,1,27/07/10,27/07/10,30,Add path hash code to ObjectWalk,"Add path hash code to ObjectWalk

PackWriter wants to categorize objects that are similar in path name,
so blobs that are probably from the same file (or same sort of file)
can be delta compressed against each other.  Avoid converting into
a string by performing the hashing directly against the path buffer
in the tree iterator.

We only hash the last 16 bytes of the path, and we try avoid any
spaces, as we want the suffix of a file such as "".java"" to be more
important than the directory it is in, like ""src"".

Change-Id: I31770ee711526306769a6f534afb19f937e0ba85
Signed-off-by: Shawn O. Pearce <spearce@spearce.org>",1,0,0,0,0,0,1,1,1
1103,I52cb1e4ca15c9c267a2dbf51dd0d795f885f4cf8,https://git.eclipse.org/r/#/c/1103,1,7d9381a9364662f182718d70a3d286d72d748042,cb64d2e128d2eca0f8f11e17e5f681ff069e1640,1,27/07/10,27/07/10,35,Save object path hash codes during packing,"Save object path hash codes during packing

We need to remember these so we can later cluster objects that
have similar file paths near each other as we search for deltas
between them.

Change-Id: I52cb1e4ca15c9c267a2dbf51dd0d795f885f4cf8
Signed-off-by: Shawn O. Pearce <spearce@spearce.org>",1,0,0,0,0,0,1,0,0
1104,I72ff6d481c936153ceb6a9e485fa731faf075a9a,https://git.eclipse.org/r/#/c/1104,1,cb64d2e128d2eca0f8f11e17e5f681ff069e1640,5412e9de3bc4c8cdc500c3d46397dad6eeb4eb0f,1,27/07/10,27/07/10,160,Add more configuration options to PackWriter,"Add more configuration options to PackWriter

We now at least import other pack settings like pack.window, which
means we can later use these to control how we search for deltas.

The compression level was fixed to use pack.compression rather than
the loose object core.compression setting.

Change-Id: I72ff6d481c936153ceb6a9e485fa731faf075a9a
Signed-off-by: Shawn O. Pearce <spearce@spearce.org>",1,0,0,0,0,0,1,0,0
1105,I6e518e1a6996c8ce00b523727f1b605e400e82c6,https://git.eclipse.org/r/#/c/1105,1,5412e9de3bc4c8cdc500c3d46397dad6eeb4eb0f,dc179f8ae6fc85139c419b8f3c1a0ef4f29ce47b,1,27/07/10,27/07/10,17,Add doNotDelta flag to ObjectToPack,"Add doNotDelta flag to ObjectToPack

This flag will later control whether or not PackWriter search for a
delta base for this object.  Edge objects will never get searched,
as the writer won't be outputting them, so they should always have
this flag set on.  Sometime in the future this flag should also be
set for file blobs on file paths that have the ""-delta"" gitattribute
set in the repository's attributes file.

Change-Id: I6e518e1a6996c8ce00b523727f1b605e400e82c6
Signed-off-by: Shawn O. Pearce <spearce@spearce.org>",1,0,0,0,0,0,1,0,0
1106,Iea46e787d019a1b6c51135cc73d7688a02e207f5,https://git.eclipse.org/r/#/c/1106,1,dc179f8ae6fc85139c419b8f3c1a0ef4f29ce47b,1ebe83a3966145e3a5627c35939e2fd75dc37620,1,27/07/10,27/07/10,31,Configure core.bigFileThreshold into PackWriter,"Configure core.bigFileThreshold into PackWriter

C Git's fast-import uses this to determine the maximum file size
that it tries to delta compress, anything equal to or above this
setting is stored with as a whole object with simple deflate.

Define the configuration so we can use it later.

Change-Id: Iea46e787d019a1b6c51135cc73d7688a02e207f5
Signed-off-by: Shawn O. Pearce <spearce@spearce.org>",1,0,0,0,0,0,1,0,0
1107,I1d71b74f2edd7029b8743a2c13b591098ce8cc8f,https://git.eclipse.org/r/#/c/1107,1,1ebe83a3966145e3a5627c35939e2fd75dc37620,fed88db2e033c1a9563ae93e1911425b25f9f398,1,27/07/10,27/07/10,9,Refactor ObjectToPack's delta depth setting,"Refactor ObjectToPack's delta depth setting

Long ago when PackWriter is first written we thought that the delta
depth could be updated automatically.  But its never used.  Instead
make this a simple standard setter so the caller can more directly
set the delta depth of this object.  This permits us to configure a
depth that takes into account more than just the depth of another
object in this same pack.

Change-Id: I1d71b74f2edd7029b8743a2c13b591098ce8cc8f
Signed-off-by: Shawn O. Pearce <spearce@spearce.org>",1,0,0,0,0,0,1,0,0
1108,I5eb80919f21c1251e0e3420ff7774126f1f79b27,https://git.eclipse.org/r/#/c/1108,1,fed88db2e033c1a9563ae93e1911425b25f9f398,f1c3ca3d189987fc6f8accc44d316ea516412ec3,1,27/07/10,27/07/10,21,Correctly classify the compressing objects phase,"Correctly classify the compressing objects phase

Searching for reuse candidates should be fast compared to actually
doing delta compression.  So pull the progress monitor out of this
phase and rename it back to identify the compressing objects state.

Change-Id: I5eb80919f21c1251e0e3420ff7774126f1f79b27
Signed-off-by: Shawn O. Pearce <spearce@spearce.org>",1,0,0,0,0,0,1,0,0
1109,I2277a56ad28560d2d2d97961cbc74bc7405a70d4,https://git.eclipse.org/r/#/c/1109,1,f1c3ca3d189987fc6f8accc44d316ea516412ec3,a99af03ba4e155a793bf0b644c650a69873b6669,1,27/07/10,27/07/10,15,Make ObjectToPack clearReuseAsIs signal available to subclasses,"Make ObjectToPack clearReuseAsIs signal available to subclasses

A subclass may want to use this method to release handles that are
caching reuse information.  Make it protected so they can override
it and update themselves.

Change-Id: I2277a56ad28560d2d2d97961cbc74bc7405a70d4
Signed-off-by: Shawn O. Pearce <spearce@spearce.org>",1,0,0,0,0,0,1,0,0
1110,I8810067fb8337b08b4fcafd5f9ea3e1e31ca6726,https://git.eclipse.org/r/#/c/1110,1,a99af03ba4e155a793bf0b644c650a69873b6669,42e076a9c8d699510d5d3a0acfbbe6d373cc2f33,1,27/07/10,27/07/10,28,Add debugging toString() method to ObjectToPack,"Add debugging toString() method to ObjectToPack

Its useful to know what the flags are or what the base that was
selected is.  Dump these out as part of the object's toString.

Change-Id: I8810067fb8337b08b4fcafd5f9ea3e1e31ca6726
Signed-off-by: Shawn O. Pearce <spearce@spearce.org>",1,0,0,0,0,0,1,0,0
1111,If9fb2a1524361bc701405920560d8ae752221768,https://git.eclipse.org/r/#/c/1111,1,42e076a9c8d699510d5d3a0acfbbe6d373cc2f33,f2e5a7f033ac1b242c9ab4892ff790a5e101110d,1,27/07/10,27/07/10,1106,Initial pack format delta generator,"Initial pack format delta generator

DeltaIndex is a simple pack style delta generator.  The function works
by creating a compact index of a source buffer's blocks, and then
walking a sliding window along a desired result buffer, searching for
the window in the index.  When a match is found, the window is
stretched to the longest possible length that is common with the
source buffer, and a copy instruction is created.

Rabin's polynomial hash function is used to compute the hash for a
block, permitting efficient sliding of the window in single byte
increments.  The update function to slide one byte originated from
David Mazieres' work in LBFS, and our implementation of the update
step was certainly inspired by the initial work Geert Bosch proposed
for C Git in http://marc.info/?l=git&m=114565424620771&w=2.

To ensure the encoder runs in linear time with respect to the size of
the two input buffers (source and result), the maximum number of
blocks that can share the same position in the index's hashtable is
capped at a constant number.  This prevents bad inputs from causing
the encoder to run in quadratic time, but comes with a penalty of
creating a longer delta due to fewer considered copy positions.

Strange hackery is used to cap the amount of memory used by the index
to be no more than 12 bytes for every 16 bytes of source buffer, no
matter what the JVM per-object overhead is.  This permits an index to
always be no larger than 1.75x the source buffer length, which is an
important feature to support large windows of candidates to match
against while packing.  Here the strange hackery is nothing more than
a manually managed chained hashtable, where pointers are array indexes
into storage arrays rather than object references.

Computation of the hash function for a single fixed sized block is
done through an unrolled loop, where the first 4 iterations have been
manually reduced down to eliminate unnecessary instructions.  The
pattern is derived from ObjectId.equals(byte[], int, byte[], int),
where we have unrolled the loop required to compare two 20 byte
arrays.  Hours of testing with the Sun 1.6 JRE concluded that the
non-obvious ""foo[idx + 1]"" style of reference is faster than
""foo[idx++]"", and so that is what we use here during hashing.

Change-Id: If9fb2a1524361bc701405920560d8ae752221768
Signed-off-by: Shawn O. Pearce <spearce@spearce.org>",1,0,0,0,1,0,1,4,1
1112,I437a17ceb98708b5603a2061126eb251e82f4ed4,https://git.eclipse.org/r/#/c/1112,1,f2e5a7f033ac1b242c9ab4892ff790a5e101110d,2b4abd8d6522da6290131b4274d026c23191acbb,1,27/07/10,27/07/10,151,debug-show-packdelta:  Dump a pack delta to the console,"debug-show-packdelta:  Dump a pack delta to the console

This is a horribly crude application, it doesn't even verify that
the object its dumping is delta encoded.  Its method of getting the
delta is pretty abusive to the public PackWriter API, because right
now we don't want to expose the real internal low-level methods
actually required to do this.

Change-Id: I437a17ceb98708b5603a2061126eb251e82f4ed4
Signed-off-by: Shawn O. Pearce <spearce@spearce.org>",1,0,0,0,0,0,1,0,0
1113,I6292edc66c2e95fbe45b519b65fdb3918068889c,https://git.eclipse.org/r/#/c/1113,1,2b4abd8d6522da6290131b4274d026c23191acbb,163549d307f602bce502580ca20547c47bdd997c,1,27/07/10,27/07/10,623,Implement delta generation during packing,"Implement delta generation during packing

PackWriter now produces new deltas if there is not a suitable delta
available for reuse from an existing pack file.  This permits JGit to
send less data on the wire by sending a delta relative to an object
the other side already has, instead of sending the whole object.

The delta searching algorithm is similar in style to what C Git
uses, but apparently has some differences (see below for more on).
Briefly, objects that should be considered for delta compression are
pushed onto a list.  This list is then sorted by a rough similarity
score, which is derived from the path name the object was discovered
at in the repository during object counting.  The list is then
walked in order.

At each position in the list, up to $WINDOW objects prior to it
are attempted as delta bases.  Each object in the window is tried,
and the shortest delta instruction sequence selects the base object.
Some rough rules are used to prevent pathological behavior during
this matching phase, like skipping pairings of objects that are
not similar enough in size.

PackWriter intentionally excludes commits and annotated tags from
this new delta search phase.  In the JGit repository only 28 out
of 2600+ commits can be delta compressed by C Git.  As the commit
count tends to be a fair percentage of the total number of objects
in the repository, and they generally do not delta compress well,
skipping over them can improve performance with little increase in
the output pack size.

Because this implementation was rebuilt from scratch based on my own
memory of how the packing algorithm has evolved over the years in
C Git, PackWriter, DeltaWindow, and DeltaEncoder don't use exactly
the same rules everywhere, and that leads JGit to produce different
(but logically equivalent) pack files.

  Repository | Pack Size (bytes)                | Packing Time
             | JGit     - CGit     = Difference | JGit / CGit
  -----------+----------------------------------+-----------------
   git       | 25094348 - 24322890 = +771458    | 59.434s / 59.133s
   jgit      |  5669515 -  5709046 = - 39531    |  6.654s /  6.806s
   linux-2.6 |     389M -     386M = +3M        |  20m02s / 18m01s

For the above tests pack.threads was set to 1, window size=10,
delta depth=50, and delta and object reuse was disabled for both
implementations.  Both implementations were reading from an already
fully packed repository on local disk.  The running time reported
is after 1 warm-up run of the tested implementation.

PackWriter is writing 771 KiB more data on git.git, 3M more on
linux-2.6, but is actually 39.5 KiB smaller on jgit.git.  Being
larger by less than 0.7% on linux-2.6 isn't bad, nor is taking an
extra 2 minutes to pack.  On the running time side, JGit is at a
major disadvantage because linux-2.6 doesn't fit into the default
WindowCache of 20M, while C Git is able to mmap the entire pack and
have it available instantly in physical memory (assuming hot cache).

CGit also has a feature where it caches deltas that were created
during the compression phase, and uses those cached deltas during
the writing phase.  PackWriter does not implement this (yet),
and therefore must create every delta twice.  This could easily
account for the increased running time we are seeing.

Change-Id: I6292edc66c2e95fbe45b519b65fdb3918068889c
Signed-off-by: Shawn O. Pearce <spearce@spearce.org>",1,0,0,0,1,0,1,1,1
1114,I0da0c600d845e8ec962289751f24e65b5afa56d7,https://git.eclipse.org/r/#/c/1114,1,163549d307f602bce502580ca20547c47bdd997c,c057b26ffc23f98d24d9e629fb05d27ad7029ae2,1,27/07/10,27/07/10,396,Cache small deltas during packing,"Cache small deltas during packing

PackWriter now caches small deltas, or deltas that are very tiny
compared to their source inputs, so that the writing phase goes
faster by reusing those cached deltas.

The cached data is stored compressed, which usually translates to
a bigger footprint due to deltas being very hard to compress, but
saves time during writing by avoiding the deflate step.  They are
held under SoftReferences so that the JVM GC can clear out deltas
if memory gets very tight.  We would rather continue working and
spend a bit more CPU time during writing than crash due to OOME.

To avoid OutOfMemoryErrors during the caching phase we also trap
OOME and just abort out of the caching.

Because deflateBound() always produces something larger than what
we need to actually store the deflated data, we copy it over into
a new buffer if the actual length doesn't match the buffer length.
When packing jgit.git this saves over 111 KiB in the cache, and is
thus a worthwhile hit on CPU time.

To further save memory we store the inflated size of the delta
(which we need for the object header) in the same field as the
pathHash, as the pathHash is no longer necessary by this phase
of the packing algorithm.

Change-Id: I0da0c600d845e8ec962289751f24e65b5afa56d7
Signed-off-by: Shawn O. Pearce <spearce@spearce.org>",1,0,0,0,0,0,1,1,1
1115,If554fd8973db77632a52a0f45377dd6ec13fc220,https://git.eclipse.org/r/#/c/1115,1,c057b26ffc23f98d24d9e629fb05d27ad7029ae2,43dc062883cdaaa74bd10634696fb8f23d62612e,1,27/07/10,27/07/10,369,Honor pack.threads and perform delta search in parallel,"Honor pack.threads and perform delta search in parallel

If we have multiple CPUs available, packing usually goes faster
when each CPU is assigned a slice of the available search space.
The number of threads to use is guessed from the runtime if it
wasn't set by the caller, or wasn't set in the configuration.

Change-Id: If554fd8973db77632a52a0f45377dd6ec13fc220
Signed-off-by: Shawn O. Pearce <spearce@spearce.org>",1,0,0,0,0,0,1,2,1
1116,I09521b8f335475d8aee6125826da8ba2e545060d,https://git.eclipse.org/r/#/c/1116,1,43dc062883cdaaa74bd10634696fb8f23d62612e,ab9ea903544d5e550d7c007974b9eeebb883f977,1,27/07/10,27/07/10,93,Honor pack.windowlimit to cap memory usage during packing,"Honor pack.windowlimit to cap memory usage during packing

The pack.windowlimit configuration parameter places an upper bound
on the number of bytes used by the DeltaWindow class as it scans
through the object list.  If memory usage would exceed the limit
the window is temporarily decreased in size to keep memory used
within that bound.

Change-Id: I09521b8f335475d8aee6125826da8ba2e545060d
Signed-off-by: Shawn O. Pearce <spearce@spearce.org>",1,0,0,0,0,0,1,0,0
1121,I916838f254859f6f0e1516bb55b8e7dc87e57dc2,https://git.eclipse.org/r/#/c/1121,2,aad02164fa5700edc0cca2069bff2cdb7db537d1,4b9164fb88b3ce018579018fd8119619b31a033f,1,16/07/10,16/07/10,4,Fixed Misleading Javadoc,"Fixed Misleading Javadoc

The javadoc for the setRenameLimit method in RenameDetector said
that you could only have limits in the range (0,100), implying
that 0 and 100 were illegal inputs. The code, however, allowed 0 and
100. I changed the javadoc to say that the range [0,100] was legal.
I also documented the IllegalArgumentException that is thrown if the
limit is outside that range.

Change-Id: I916838f254859f6f0e1516bb55b8e7dc87e57dc2",0,0,0,0,0,0,0,0,0
1122,I28741e0c49ce52d8008930a87cd1db7037700a61,https://git.eclipse.org/r/#/c/1122,2,758270e148cdf0f25e96c797e2aa7a1dda234efe,6ffa864e1db3ca7159cc837e1ec018e28e0bb853,1,16/07/10,16/07/10,4,Added very small optimization to exact rename detection,"Added very small optimization to exact rename detection

Optimized a small loop in findExactRenames. The loop would go through
all the items in a list of DiffEntries even after it already found
what it was looking for. I made it break out of the loop as soon as
a good match was found.

Change-Id: I28741e0c49ce52d8008930a87cd1db7037700a61",0,0,0,0,0,0,0,0,0
1123,Ib534c8e94b13358b8b22cf54e2ff84132bae6d14,https://git.eclipse.org/r/#/c/1123,3,2c127807cfc8c6d6e1df88c6149816312cf2073f,f0f027aa822a705b6c45303c90cf79167a5dee62,1,16/07/10,16/07/10,117,Added more test cases for RenameDetector,"Added more test cases for RenameDetector

I added test cases to cover the majority of the code. It's not 100%
coverage yet, but the remaining bits are small.

Change-Id: Ib534c8e94b13358b8b22cf54e2ff84132bae6d14",0,0,0,0,0,0,0,0,0
1125,I20d2f097491e4cc8c657a696beabc7026b485017,https://git.eclipse.org/r/#/c/1125,3,41a3ebb84bcc9340f53a13351a020c75520b5c05,23554353cca76110d000c0bca932571722304021,1,13/07/10,13/07/10,22,Fix ReadTreeTest,"Fix ReadTreeTest

After refactoring ReadTreeTest the tests failed for filesystems
with coarse modification time granularity. This is fixed by
explicitly telling the repo to reread the index after we build
a new index.

Signed-off-by: Christian Halstrick <christian.halstrick@sap.com>",0,0,0,0,0,1,1,0,0
1130,I1fb08390aebdcbf20d049aecf402a36506e55611,https://git.eclipse.org/r/#/c/1130,2,b50c0c901474b0b4534ef6773cb07e12d8fc414d,89d96930a12bcfcf4c69eae6a289c237775ad1a4,1,16/07/10,16/07/10,306,Implemented file path based tie breaking to exact rename detection,"Implemented file path based tie breaking to exact rename detection

During the exact rename detection phase in RenameDetector, ties were
resolved on a first-found basis. I added support for file path based
tie breaking during that phase. Basically, there are four situations
that have to be handled:

One add matching one delete:
	In this simple case, we pair them as a rename.

One add matching many deletes:
	Find the delete whos path matches the add the closest, and
	pair them as a rename.

Many adds matching one delete:
	Similar to the above case, we find the add that matches the
	delete the closest, and pair them as a rename. The other adds
	are marked as copies of the delete.

Many adds matching many deletes:
	Build a scoring matrix similar to the one used for content-
	based matching, scoring instead by file path. Some of the
	utility functions in SimilarityRenameDetector are used in
	this case, as we use the same encoding scheme. Once the
	matrix is built, scan it for the best matches, marking them
	as renames. The rest are marked as copies.

I don't particularly like the idea of using utility functions right
out of SimilarityRenameDetector, but it works for the moment. A later
commit will likely refactor this into a common utility class, as well
as bringing exact rename detection out of RenameDetector and into a
separate class, much like SimilarityRenameDetector.

Change-Id: I1fb08390aebdcbf20d049aecf402a36506e55611",0,0,0,0,0,0,0,1,1
1134,I58203e5617956b46d83e8987d1f8042beddffac3,https://git.eclipse.org/r/#/c/1134,1,453f2238deefc2dbebe2f0d998a6545dfba1bc04,8da8034a69c0cd1cd51ab9fe95bfdaa4cc23802b,1,15/07/10,15/07/10,50,Handle the tilde notation (~user) of git url,"Handle the tilde notation (~user) of git url

When the path is prefixed with ~ the URI parser thought about this
as /~. Strip the / if the next character is the tilde.

Bug: 307017
Change-Id: I58203e5617956b46d83e8987d1f8042beddffac3
Signed-off-by: Robin Rosenberg <robin.rosenberg@dewire.com>",0,0,0,0,0,0,0,0,0
1137,Ib0d6c36811df719a53c66e9fa7460b89b2faf98b,https://git.eclipse.org/r/#/c/1137,1,8da8034a69c0cd1cd51ab9fe95bfdaa4cc23802b,e897f3f7d575516d418401f3098bca3ee189ee52,1,15/07/10,15/07/10,1,Remove an unused File reference in test code,"Remove an unused File reference in test code

Change-Id: Ib0d6c36811df719a53c66e9fa7460b89b2faf98b
Signed-off-by: Robin Rosenberg <robin.rosenberg@dewire.com>",0,0,0,1,0,0,1,0,0
1140,I6e155d5f415e7f62f3f25e082dbee558e5be0b2d,https://git.eclipse.org/r/#/c/1140,1,f1b73e2ef4a37acec31b2f0f3f3c2d73a43284b4,b397eec476e52ab9a34f3b04443dbe5053c8e0aa,0,16/07/10,16/07/10,0,Merge branch 'js/rename',"Merge branch 'js/rename'

* js/rename:
  Implemented file path based tie breaking to exact rename detection
  Added more test cases for RenameDetector
  Added very small optimization to exact rename detection
  Fixed Misleading Javadoc
  Added file path similarity to scoring metric in rename detection
  Fixed potential div by zero bug
  Added file size based rename detection optimization
  Create FileHeader from DiffEntry
  log: Implement --follow
  Cache the diff configuration section
  log: Add whitespace ignore options
  Format submodule links during differences
  Redo DiffFormatter API to be easier to use
  log, diff: Add rename detection support
  Implement similarity based rename detection
  Added a preliminary version of rename detection
  Refactored code out of FileHeader to facilitate rename detection",1,0,0,0,0,0,1,NA,NA
1141,I50403cfd2e3001b093f93a503cccf7adab43cc9d,https://git.eclipse.org/r/#/c/1141,1,aea4e43b4804b14fdd7d4c3d7a5c0afa2fac0bb5,9f49630181e17e3be78ab5f6632d0b1a385eef8c,1,27/07/10,24/06/13,1,Discard the uncompressed delta as soon as its compressed,"Discard the uncompressed delta as soon as its compressed

The DeltaCache will most likely need to copy the compressed delta
into a new buffer in order to compact away the wasted space at the
end caused by over allocation.  Since we don't need the uncompressed
format anymore, null out our only reference to it so the GC can
reclaim this memory if it needs to perform a collection in order
to satisfy the cache's allocation attempt.

Change-Id: I50403cfd2e3001b093f93a503cccf7adab43cc9d
Signed-off-by: Shawn O. Pearce <spearce@spearce.org>",0,0,1,0,0,0,1,0,0
1142,I689552931441ab51964b430b303160c9126b66af,https://git.eclipse.org/r/#/c/1142,2,58e0f4cb5c05c1eb3280523c333b9e3c004b9e8b,a4141314fb3b6098a1190ff1a291752bd6233503,1,20/07/10,20/07/10,48,Smudge racily clean index entries by truncating length (like git.git),"Smudge racily clean index entries by truncating length (like git.git)

To mark an entry racily clean we set its length to 0 (like native git
does). Entries which are not racily clean and have zero length can be
distinguished from racily clean entries by checking P_OBJECTID
against the SHA1 of empty content. When length is 0 and P_OBJECTID is
different from SHA1 of empty content we know the entry is marked
racily clean.

See http://dev.eclipse.org/mhonarc/lists/jgit-dev/msg00488.html

Signed-off-by: Christian Halstrick <christian.halstrick@sap.com>
Signed-off-by: Matthias Sohn <matthias.sohn@sap.com>",0,0,0,0,0,1,1,0,0
1143,I3ad0897211dcbb2eac9eebcb19d095a5052fb06b,https://git.eclipse.org/r/#/c/1143,2,8856be4879d87e2f8f4b9c2a98a78f159a736eb2,9579dc5061d1da1abe35c05b226a5b8c9069d1d5,0,20/07/10,20/07/10,66,Check for racy git in WorkingTreeIterator,"Check for racy git in WorkingTreeIterator

The WorkingTreeIterator has a method to check whether
the current file differs from the corresponding index
entry. This commit improves this check to also handle
racy git situations.

See http://git.kernel.org/?p=git/git.git;a=blob;f=Documentation/technical/racy-git.txt;hb=HEAD

Signed-off-by: Christian Halstrick <christian.halstrick@sap.com>
Signed-off-by: Matthias Sohn <matthias.sohn@sap.com>",0,0,0,0,0,1,1,NA,NA
1147,I85a8a76097d0197ef689a289288ba82addb92fc9,https://git.eclipse.org/r/#/c/1147,7,9e35886607ed537eb275402549baee5035378c54,54615719cdcbb237705ba8f9e5e8ccf3c81ea715,1,05/08/10,05/08/10,296,"Add the parameter ""update"" to the Add command","Add the parameter ""update"" to the Add command

This change is mainly done for a subsequent commit
which will introduce the ""all"" parameter to the Commit
command.

Bug: 318439
Change-Id: I85a8a76097d0197ef689a289288ba82addb92fc9
Signed-off-by: Stefan Lay <stefan.lay@sap.com>",0,1,0,0,0,0,1,1,1
1148,Id23bc25730fcdd151386cd495a7cdc0935cbc00b,https://git.eclipse.org/r/#/c/1148,4,cfc9caa09f0b0446433316960a026aaeb3efd098,af7619dfa8b2781b23fc5b44387f9a964609de99,1,05/08/10,05/08/10,63,"Add ""all"" parameter to the commit Command","Add ""all"" parameter to the commit Command

When the add parameter is set all modified and deleted files
are staged prior to commit. 

Change-Id: Id23bc25730fcdd151386cd495a7cdc0935cbc00b
Signed-off-by: Stefan Lay <stefan.lay@sap.com>",0,1,0,0,0,0,1,0,0
1150,I7c9bbbeb577a990d9bc56a50ebd485935460f6c8,https://git.eclipse.org/r/#/c/1150,1,f770464c3e9cc364290aff88857bda60b2c79e3a,7debb6e8e61267b5c82d4a5a7753626f9565743a,1,20/07/10,20/07/10,6,IndexPack: Fix spurious pack file corruption errors,"IndexPack: Fix spurious pack file corruption errors

We didn't correctly handle the zlib trailer for an object.  If the
trailer bytes were outside of the current buffer window but we had
fully inflated the object itself, we broke out of the loop (as we had
our target size) but inflate wasn't finished (as it did not yet get
the trailer) so we failed the test and threw a corruption exception.

Use an infinite loop and only break out when the inflater is done.

Change-Id: I7c9bbbeb577a990d9bc56a50ebd485935460f6c8
Signed-off-by: Shawn O. Pearce <spearce@spearce.org>",1,0,0,0,0,0,1,0,0
1151,Ie68fbe7426b4dc0cb571a08911c7adbffff755d5,https://git.eclipse.org/r/#/c/1151,1,7debb6e8e61267b5c82d4a5a7753626f9565743a,6410232130bf94880026a4b6b1d434f88fda75c8,1,20/07/10,20/07/10,23,Fix NPE in RenameDetector,"Fix NPE in RenameDetector

If we have two adds of the same object but no deletes the detector
threw an NPE because the entry that came back from the deleted map
was null (no matching objects).  In this case we need to put the
adds all back onto the list of left over additions since they did
not match a delete.

Change-Id: Ie68fbe7426b4dc0cb571a08911c7adbffff755d5
Signed-off-by: Shawn O. Pearce <spearce@spearce.org>
CC: Jeffrey Schumacher"" <jeffschu@google.com>",1,0,0,0,0,0,1,0,0
1152,Ib243d2a90adae312712d02521de4834d06804944,https://git.eclipse.org/r/#/c/1152,4,5238ba7d32444fa75c08261c71a8da4b17922637,c0aa02bf69cff3d1fff3f08a554ac55c7ceabfdf,1,21/07/10,21/07/10,52,Fix concorrent read / write issue in GitIndex on Windows,"Fix concorrent read / write issue in GitIndex on Windows

GitIndex.write fails if another thread concurrently reads
the index file. The problem is fixed by retrying the rename
operation if it fails.

Bug: 311051
Signed-off-by: Jens Baumgart <jens.baumgart@sap.com>",0,1,0,0,0,0,1,1,1
1154,Ib09cbf81a9e038452ce491385c65498312e2916b,https://git.eclipse.org/r/#/c/1154,1,6517ddd35c57392ea1478d339cef39ac2a3ed9dd,3c6d41fc0cbc416b5f386b98863539d4d1bed891,1,20/07/10,20/07/10,72,Remove gitIgnoreTimestamp from abstract iterator API,"Remove gitIgnoreTimestamp from abstract iterator API

This never should have been exposed on the top of the
AbstractTreeIterator type hierarchy.  There is no concept of a
timestamp in a canonical tree read from the object database, and
the time in the DirCache isn't what we want here either.

Actually all that we need is to find the files whose names are
"".gitignore"" and are below the root directory.  We can accomplish
that with a suffix filter, and process them immediately.

Change-Id: Ib09cbf81a9e038452ce491385c65498312e2916b
Signed-off-by: Shawn O. Pearce <spearce@spearce.org>
CC: Charley Wang <chwang@redhat.com>
CC: Chris Aniszczyk <caniszczyk@gmail.com>
CC: Stefan Lay <stefan.lay@sap.com>
CC: Matthias Sohn <matthias.sohn@sap.com>",1,0,0,0,0,0,1,-1,0
1155,I38e1cec13405109b9c347858b38dd9fb2f1f2560,https://git.eclipse.org/r/#/c/1155,1,3c6d41fc0cbc416b5f386b98863539d4d1bed891,5cdb25bb472a30b7643504c026cd36c380fdb6bf,1,20/07/10,20/07/10,6,Use proper constants for .gitignore and .git directory,"Use proper constants for .gitignore and .git directory

We have a constant for .gitignore, so use it.  While we are in
the same method, correct the reference of "".git"" to be the actual
GIT_DIR given.  This might not be within the work tree if the
GIT_DIR and GIT_WORK_TREE environment variables were used.

Change-Id: I38e1cec13405109b9c347858b38dd9fb2f1f2560
Signed-off-by: Shawn O. Pearce <spearce@spearce.org>
CC: Charley Wang <chwang@redhat.com>
CC: Chris Aniszczyk <caniszczyk@gmail.com>
CC: Stefan Lay <stefan.lay@sap.com>
CC: Matthias Sohn <matthias.sohn@sap.com>",1,0,0,0,0,0,1,0,0
1156,I22ff534853e8c5672cc5c2d9444aeb14e294070e,https://git.eclipse.org/r/#/c/1156,5,5cdb25bb472a30b7643504c026cd36c380fdb6bf,6720dacca4985886e296f6c0a0ea4774601c6d40,1,21/07/10,21/07/10,1265,Move ignore node handling into WorkingTreeIterator,"Move ignore node handling into WorkingTreeIterator

The working tree iterator has perfect knowledge of the path structure
as well as immediate information about whether or not an ignore file
even exists at this level.  We can exploit that to simplify the
logic and running time for testing ignored file status by pushing
all of the checks down into the iterator itself.

This is an RFC, the changes cause IgnoreCacheTest to fail to compile.

Change-Id: I22ff534853e8c5672cc5c2d9444aeb14e294070e
Signed-off-by: Shawn O. Pearce <spearce@spearce.org>
CC: Charley Wang <chwang@redhat.com>
CC: Chris Aniszczyk <caniszczyk@gmail.com>
CC: Stefan Lay <stefan.lay@sap.com>
CC: Matthias Sohn <matthias.sohn@sap.com>",0,1,0,0,1,0,1,1,1
1161,I115c3f2f20fca9b481830bdc6b9d1ade2c3abdcf,https://git.eclipse.org/r/#/c/1161,4,ed2cdc6dbbbd9b843d4d6fef641b85596cf16cce,3cca03fe5b5657e7739b560c7e5db83d8fe3e6a1,1,28/07/10,28/07/10,414,Add tests for racy git / Index state encoding,"Add tests for racy git / Index state encoding

In order to test racy git situations we have to be able to control
the last-modification timestamps of the filesystem. Since we already
access the modification timestamps of files through an abstraction
(the WorkingTreeIterator) I add a new implementation of this iterator
which allows to map timestamp-ranges to single constant timestamps.
For users of this iterator it looks like all files in that range
have been modified at exactly the same time.
With the help of this iterator a test has been writting which
checkes for racy git handling (smudging, unsmudging, dirty-detection).

Additionally add a method to RepositoryTestCase which encodes the
current index state in one String. This should include info about
pathes, file/index modtime, smudgeState, clean-state. Make
sure timestamps are presented in a way that it is easy to
write assertions against this strings (no concrete milliseconds
but t0,t1,...).

These two topics depend circulary on each other: thats why they have
been squashed in one commit.

Signed-off-by: Christian Halstrick <christian.halstrick@sap.com>",0,1,0,0,0,0,1,1,1
1162,I5dd65306ceb06e008fcc71b37ca3a649632ba462,https://git.eclipse.org/r/#/c/1162,3,c10bff0cd91146cb21037f71e0bc227906bc50e3,27d6db736b569080a79b3446fe654e0b61a066a4,1,27/07/10,27/07/10,171,Add methods which write MERGE_HEAD and MERGE_MSG,"Add methods which write MERGE_HEAD and MERGE_MSG

Add methods to the Repository class which write into MERGE_HEAD
and MERGE_MSG files. Since we have the read methods in the same
class this seems to be the right place.

Signed-off-by: Christian Halstrick <christian.halstrick@sap.com>",0,0,0,0,0,0,0,0,0
1163,Iaa86cfc33960938a62a8d0b300a153749bedfc64,https://git.eclipse.org/r/#/c/1163,1,4bc68871fc9bbc18cd9b3486e51ac7080a3bb429,d59fadcf68cbd1e168a398c6a814f6f0e3ef286b,1,22/07/10,22/07/10,36,Do not add ignored files in Add command,"Do not add ignored files in Add command

Signed-off-by: Stefan Lay <stefan.lay@sap.com>",0,0,0,0,0,0,0,1,1
1165,I415b10dc74cc9435578424d9f106c972fd703055,https://git.eclipse.org/r/#/c/1165,1,7a005345f3b88717feee17930fd202cc6c7c329a,16f7dba8577d698b44ce7e823ad1a7d163a58bdf,1,22/07/10,22/07/10,26,"Allow for filepattern ""."" in AddCommand","Allow for filepattern ""."" in AddCommand

Enable adding on repository root level.

Change-Id: I415b10dc74cc9435578424d9f106c972fd703055
Signed-off-by: Stefan Lay <stefan.lay@sap.com>",0,0,0,0,0,0,0,0,0
1166,I6c47e54a1ce26315faf5ed0723298ad2c2db197c,https://git.eclipse.org/r/#/c/1166,2,16f7dba8577d698b44ce7e823ad1a7d163a58bdf,d046b466609cbfe3bdf661f1ea7f95da580c102c,1,22/07/10,22/07/10,20,Allow client to set a WorkingTreeIterator,"Allow client to set a WorkingTreeIterator

This is e.g. useful when a client of the AddCommand has
additional rules to ignore files. In Eclipse a resource can
be set to derived or be excluded by preferences.

Change-Id: I6c47e54a1ce26315faf5ed0723298ad2c2db197c
Signed-off-by: Stefan Lay <stefan.lay@sap.com>",0,0,0,0,0,0,0,0,0
1169,Iffcc7090aaec743dd6f3fd1a333cac96c587ae5d,https://git.eclipse.org/r/#/c/1169,3,e63477610dea3a97d72880ec2c60848a3997ec1c,0a199e3f59d8032aef194be5ae4de5f61aceed55,1,28/07/10,28/07/10,90,NameConflictTreeWalk reports DF conflicts,"NameConflictTreeWalk reports DF conflicts

Added a method isDirectoryFileConflict() to NameConflictTreeWalk
which tells whether the current path is part of a directory/file
conflict

Signed-off-by: Christian Halstrick <christian.halstrick@sap.com>",0,0,0,0,0,0,0,-1,0
1170,I22c04b70581f206bbc68c4cd1ee87a1f663b418e,https://git.eclipse.org/r/#/c/1170,7,bdfa2e04dc64dc7cd1e5cec271f8ce5987eec229,99b0e24dece5b931d6569f2466688b0eaff4ead8,1,28/07/10,28/07/10,295,Break dissimilar file pairs during diff,"Break dissimilar file pairs during diff

File pairs that are very dissimilar during a diff were not being
broken apart into their constituent ADD/DELETE pairs. The leads to
sub-optimal rename detection. Take, for example, this situation:

A file exists at src/a.txt containing ""foo"". A user renames src/a.txt
to src/b.txt, then adds a new src/a.txt containing ""bar"".

Even though the old a.txt and the new b.txt are identical, the
rename detection algorithm would not detect it as a rename since it
was already paired in a MODIFY. I added code to split all MODIFYs
below a certain score into their constituent ADD/DELETE pairs. This
allows situations like the one I described above to be more
correctly handled.

Change-Id: I22c04b70581f206bbc68c4cd1ee87a1f663b418e",0,1,0,0,0,0,1,3,1
1171,I7c7a05e443a48d32c836173a409ee7d340c70796,https://git.eclipse.org/r/#/c/1171,1,a686518486ca7acc2d4d760b4a2d8b620b7b3a48,e3b366a93a031c2e269182bb541967b0be62d5df,1,27/07/10,27/07/10,262,Merge branch 'delta',"Merge branch 'delta'

* delta: (103 commits)
  Discard the uncompressed delta as soon as its compressed
  Honor pack.windowlimit to cap memory usage during packing
  Honor pack.threads and perform delta search in parallel
  Cache small deltas during packing
  Implement delta generation during packing
  debug-show-packdelta:  Dump a pack delta to the console
  Initial pack format delta generator
  Add debugging toString() method to ObjectToPack
  Make ObjectToPack clearReuseAsIs signal available to subclasses
  Correctly classify the compressing objects phase
  Refactor ObjectToPack's delta depth setting
  Configure core.bigFileThreshold into PackWriter
  Add doNotDelta flag to ObjectToPack
  Add more configuration options to PackWriter
  Save object path hash codes during packing
  Add path hash code to ObjectWalk
  Add getObjectSize to ObjectReader
  Allow TemporaryBuffer.Heap to allocate smaller than 8 KiB
  Define a constant for 127 in DeltaEncoder
  Cap delta copy instructions at 64k
  ...

Conflicts:
	org.eclipse.jgit.pgm/src/org/eclipse/jgit/pgm/Diff.java
	org.eclipse.jgit/resources/org/eclipse/jgit/JGitText.properties
	org.eclipse.jgit/src/org/eclipse/jgit/JGitText.java
	org.eclipse.jgit/src/org/eclipse/jgit/revwalk/RewriteTreeFilter.java

Change-Id: I7c7a05e443a48d32c836173a409ee7d340c70796",1,0,0,0,0,0,1,1,1
1172,I6bb76ea7f2e6e90e3ddc45f9dd4d69bd1b6fa1eb,https://git.eclipse.org/r/#/c/1172,5,4df557ebc7c4792c6c2f3670f5d5da73def4164a,1d5665e725a2ec2dec777a07089f6dab5239fcd4,1,27/07/10,27/07/10,172,Fix concurrent read / write issue in LockFile on Windows,"Fix concurrent read / write issue in LockFile on Windows

LockFile.commit fails if another thread concurrently reads
the base file. The problem is fixed by retrying the rename
operation if it fails.

Bug: 308506
Signed-off-by: Jens Baumgart <jens.baumgart@sap.com>",0,1,0,0,0,0,1,10,1
1174,I22886bcc869a4b62bd606ebed40669f7b4723664,https://git.eclipse.org/r/#/c/1174,2,886b13d72550883b533f221e6068a8fd241e89ff,dc956589fdf320311d809f65261af171f2245a0a,1,27/07/10,27/07/10,33,Fix Javadoc warnings,"Fix Javadoc warnings

There were some broken links, incorrect uses of @value, an invalid
tag and an outdated comment.

Change-Id: I22886bcc869a4b62bd606ebed40669f7b4723664",0,0,0,0,0,0,0,5,1
1178,I7c414bc0f975b80f083084ea875eca25c75a07b2,https://git.eclipse.org/r/#/c/1178,1,79e79b8ff860e779bcaf341e05c09150a157f4ac,8ba6b66d5b5f7a52044687e1a4bf5ec0e636a3f1,1,27/07/10,24/06/13,96,Make StoredConfig an abstraction above FileBasedConfig,"Make StoredConfig an abstraction above FileBasedConfig

This exposes a load and save method, allowing a Repository to denote
that it has a persistent configuration of some kind which can be
accessed by the application, without needing to know exact details
of how its stored .

Change-Id: I7c414bc0f975b80f083084ea875eca25c75a07b2
Signed-off-by: Shawn O. Pearce <spearce@spearce.org>",0,0,1,0,0,0,1,0,0
1179,I0ca35cfbfe3f503729cbfc1d5034ad4abcd1097e,https://git.eclipse.org/r/#/c/1179,7,1bba7441b83d1237c20995f33616bae5066e2e71,1cd3a7c3d06298d839f91e91ecaefaca16840c3e,1,21/08/10,21/08/10,688,FileTreeIterator optionally performs CRLF to LF conversion for text files.,FileTreeIterator optionally performs CRLF to LF conversion for text files.,0,1,0,1,1,0,1,1,1
1180,Ief17d6b2a0674ddb34bbc9f43121b756eae960fb,https://git.eclipse.org/r/#/c/1180,1,9a70d5b082dfdeb7357c400e65ec0a9f402c7122,ec62b1cb8ae40bf45067cac78ed5415f00cca500,0,27/07/10,27/07/10,48,Make forPath(ObjectReader) variant in TreeWalk,"Make forPath(ObjectReader) variant in TreeWalk

This simplifies the logic for those who already have an ObjectReader
on hand want to reuse it to lookup a single path.

Change-Id: Ief17d6b2a0674ddb34bbc9f43121b756eae960fb
Signed-off-by: Shawn O. Pearce <spearce@spearce.org>",1,0,0,0,0,0,1,NA,NA
1183,I060d26fda8a75ac803acaf89cfb7d3b4317328f3,https://git.eclipse.org/r/#/c/1183,1,d6af95541f5b1b9f223f74fe9a465824c86036a0,e9551382b089bf03fb8a31fddd5ced1265a08005,0,28/07/10,28/07/10,5,Stack Overflow in EGit History View,"Stack Overflow in EGit History View 

This is caused by a recursion in PlotWalk.getTags().
As a hotfix, the sort was simply removed. The sort
must be re-implemented so that parseAny() is not called
again (currently, this happens in the PlotRefComparator).

Change-Id: I060d26fda8a75ac803acaf89cfb7d3b4317328f3
Signed-off-by: Mathias Kinzler <mathias.kinzler@sap.com>
Signed-off-by: Christian Halstrick <christian.halstrick@sap.com>",0,0,0,0,0,0,0,NA,NA
1185,Id2e609a29e725aad953ff9bd88af6381df38399d,https://git.eclipse.org/r/#/c/1185,2,3dc8d9b897357b16aba468fe093f1befed39f5d5,0fe181d3850b3cefcc2e9f288739ebf10f61abc0,0,28/07/10,28/07/10,2,Fix unit tests under windows,"Fix unit tests under windows

the following tests fail under windows because certain inputstreams
are not closed and files cannot be deleted because of that.  The
main problem I found is UnpackedObject.InflaterInputStream.close().
This method may throw exceptions found by checkValidEndOfStream()
but doesn't call super.close() before leaving. It is not clear to me
which resources a close() method should release before it throws an
exception. But those reseources which are not published to the
outside and which therefore cannot be closed by other means have to
be closed in all cases.
I changed the close() method to call super.close() under all
circumstances.

failing tests:
  testStandardFormat_LargeObject_TruncatedZLibStream(org.eclipse.jgit.storage.file.UnpackedObjectTest)
  testStandardFormat_LargeObject_TrailingGarbage(org.eclipse.jgit.storage.file.UnpackedObjectTest)
  testPackFormat_SmallObject(org.eclipse.jgit.storage.file.UnpackedObjectTest)

Signed-off-by: Christian Halstrick <christian.halstrick@sap.com>",0,0,0,0,0,0,0,NA,NA
1186,I4976f462cfe606edd2761c0e36b2f6b20f63d53c,https://git.eclipse.org/r/#/c/1186,1,890016924d47301eb3d015085c0a16e1886672e1,a545046e5f8137c6b7ce721ec0997b0ee4a6c536,1,06/08/10,06/08/10,36,Remove static progress task names from PackWriter,"Remove static progress task names from PackWriter

These need to be dynamic based on the current thread's environment
at time of execution in order to be properly localized for the end
user that will be seeing these messages.

Change-Id: I4976f462cfe606edd2761c0e36b2f6b20f63d53c
Signed-off-by: Shawn O. Pearce <spearce@spearce.org>",1,0,0,0,0,0,1,0,0
1187,I96bee7b9c30ff9885f2bd261d0b6daaac713b5a4,https://git.eclipse.org/r/#/c/1187,1,a545046e5f8137c6b7ce721ec0997b0ee4a6c536,0a28d369aa15a8e3236200984d1eaaa4b025d1ce,1,06/08/10,06/08/10,217,Allow PackWriter callers to manage the thread pool,"Allow PackWriter callers to manage the thread pool

By permitting the caller of PackWriter to select the Executor it
uses for task execution, we give the caller the ability to manage
the lifecycle of the thread pool, including reusing it across
concurrent pack generators.

This is the first step to supporting application thread pools
within Daemon or another managed service like Gerrit Code Review.

Change-Id: I96bee7b9c30ff9885f2bd261d0b6daaac713b5a4
Signed-off-by: Shawn O. Pearce <spearce@spearce.org>",1,0,0,0,0,0,1,0,0
1188,I58cc5e01b48924b1a99f79aa96c8150cdfc50846,https://git.eclipse.org/r/#/c/1188,2,0a28d369aa15a8e3236200984d1eaaa4b025d1ce,457026419740e8f352cbc3e29f5e922f37f06080,1,06/08/10,06/08/10,1170,Move PackWriter configuration to PackConfig,"Move PackWriter configuration to PackConfig

This refactoring permits applications to configure global per-process
settings for all packing and easily pass it through to per-request
PackWriters, ensuring that the process configuration overrides the
repository specific settings.

For example this might help in a daemon environment where the server
wants to cap the resources used to serve a dynamic upload pack
request, even though the repository's own pack.* settings might be
configured to be more aggressive.  This allows fast but less bandwidth
efficient serving of clients, while still retaining good compression
through a cron managed `git gc`.

Change-Id: I58cc5e01b48924b1a99f79aa96c8150cdfc50846
Signed-off-by: Shawn O. Pearce <spearce@spearce.org>",0,0,0,0,1,0,1,1,1
1189,I70d120fb149b612ac93055ea39bc053b8d90a5db,https://git.eclipse.org/r/#/c/1189,2,abd6063569495abff23699877738c41baf0395b8,c434057f43034d688b0aa063397c30147e29df3b,1,06/08/10,06/08/10,6,Simplify UploadPack use of options during writing,"Simplify UploadPack use of options during writing

We only use these variables once, so just put them at the proper
use site and avoid assigning the local variable.  The code is a
bit shorter and the intent is a little bit more clear.

Change-Id: I70d120fb149b612ac93055ea39bc053b8d90a5db
Signed-off-by: Shawn O. Pearce <spearce@spearce.org>",1,0,0,0,0,0,1,0,0
1190,I47795987bb0d161d3642082acc2f617d7cb28d8c,https://git.eclipse.org/r/#/c/1190,2,a9d7a02adf99867146095031708c0ac811d7a7cf,ce30e916ad512a01bb40cf17c6664abf4572b7d2,1,06/08/10,06/08/10,155,Pass PackConfig down to PackWriter when packing,"Pass PackConfig down to PackWriter when packing

When we are creating a pack the higher level application should be able
to override the PackConfig used, allowing it to control the number of
threads used or how much memory is allocated per writer.

Change-Id: I47795987bb0d161d3642082acc2f617d7cb28d8c
Signed-off-by: Shawn O. Pearce <spearce@spearce.org>",1,0,0,0,0,0,1,2,1
1191,I39bfefee8384c864cc04ffac724f197240c8a11a,https://git.eclipse.org/r/#/c/1191,2,1db764f8abb427fa64bcc6083774ab86c4c9f501,c96eae7e027678a0a141b98c5b311de4cb8a0940,1,06/08/10,06/08/10,6,Enable configuration of non-standard pack settings,"Enable configuration of non-standard pack settings

For daemons we might want to disable delta compression entirely, or
in some strange case an administrator might need to turn of delta
reuse.  Expose these normally internal pack settings through the pack
configuration section.

Change-Id: I39bfefee8384c864cc04ffac724f197240c8a11a
Signed-off-by: Shawn O. Pearce <spearce@spearce.org>",1,0,0,0,0,0,1,0,0
1192,I25acc739db2ec0221a50b72c2d2aa618a9a75f37,https://git.eclipse.org/r/#/c/1192,1,c70f0e1c72132a72ebeb2f5a883161b1670e6f41,1ddac536d90eb8b907cd1ee655f6cceab2add8fd,1,28/07/10,28/07/10,31,Fix tag sorting in PlotWalk,"Fix tag sorting in PlotWalk

By deferring tag sorting until the commit is produced by the walker
we can avoid an infinite loop that was triggered by trying to sort
tags while allocating a commit.  This also avoids needing to look
at commits which aren't going to be produced in the result.

Bug: 321103
Change-Id: I25acc739db2ec0221a50b72c2d2aa618a9a75f37
Reviewed-by: Mathias Kinzler <mathias.kinzler@sap.com>
Reviewed-by: Christian Halstrick <christian.halstrick@sap.com>
Signed-off-by: Shawn O. Pearce <spearce@spearce.org>",0,0,0,0,0,0,0,0,0
1193,I6c8fac06106ffe20ac8b4b595f34e027f2d29cc2,https://git.eclipse.org/r/#/c/1193,1,2ddbdbb97e8468dc1d957c925eb57bddc6edb079,87ddec83a5e49019d1839f38d5a31f76626b998a,1,28/07/10,28/07/10,7,Remove use of SortedSet.floor(),"Remove use of SortedSet.floor()

Its only available in Java 6, and JGit still supports Java 5.

Change-Id: I6c8fac06106ffe20ac8b4b595f34e027f2d29cc2
Signed-off-by: Shawn O. Pearce <spearce@spearce.org>",1,0,0,0,0,0,1,0,0
1195,Ib2e372ad4426402d37939b48d8f233154cc637da,https://git.eclipse.org/r/#/c/1195,2,87ddec83a5e49019d1839f38d5a31f76626b998a,70b3b94169699e7a557250f240257092d4a43958,1,04/08/10,04/08/10,284,"Rename getOldName,getNewName to getOldPath,getNewPath","Rename getOldName,getNewName to getOldPath,getNewPath

TreeWalk calls this value ""path"", while ""name"" is the stuff after the
last slash.  FileHeader should do the same thing to be consistent.
Rename getOldName to getOldPath and getNewName to getNewPath.

Bug: 318526
Change-Id: Ib2e372ad4426402d37939b48d8f233154cc637da
Signed-off-by: Shawn O. Pearce <spearce@spearce.org>",1,0,0,0,0,0,1,0,0
1197,If66a419349b95510e5b5c2237a91f06c1d5ba0d4,https://git.eclipse.org/r/#/c/1197,1,ffc49cbc6f9f4f6c570b5cc631ac566277274b51,71f918c8440587d1580b2fc12eb1a82759918169,0,29/07/10,29/07/10,9,Make use of Repository.writeMerge...(),"Make use of Repository.writeMerge...()

The CommitCommand should not use java.io to delete MERGE_HEAD and MERGE_MSG
files since Repository already has utility methods for that.

Change-Id: If66a419349b95510e5b5c2237a91f06c1d5ba0d4
Signed-off-by: Christian Halstrick <christian.halstrick@sap.com>",0,0,0,0,0,0,0,NA,NA
1203,I0457ff030946fda7ecc70671bc65db02a8c206ee,https://git.eclipse.org/r/#/c/1203,2,03ad653d48eadea25c5b0ab2d13f2d7419674071,9e20e111590007d30724ad2c2a02d517da9ba148,1,03/08/10,03/08/10,6,Fixed FileTreeIteratorWithTimeControl,"Fixed FileTreeIteratorWithTimeControl

getEntryLastModified returned wrong values for
timestamps on boundaries.

Change-Id: I0457ff030946fda7ecc70671bc65db02a8c206ee
Signed-off-by: Stefan Lay <stefan.lay@sap.com>",0,0,0,0,0,0,0,0,0
1212,I1a3bce662e6788b860a275ee50315af8d5cc094a,https://git.eclipse.org/r/#/c/1212,1,4b4db5cbbb823cf3b5bb2ae0e253155f0b7a37d6,2112b415c7b22a0d63cdbf259ba6ebebf35e1cb6,1,02/08/10,02/08/10,5,Allow version builtin to run without git repository,"Allow version builtin to run without git repository

The version builtin should be able to run without a git directory to call
it from wherever you want.

Change-Id: I1a3bce662e6788b860a275ee50315af8d5cc094a
Signed-off-by: Benjamin Muskalla <bmuskalla@eclipsesource.com>",0,0,0,0,0,0,0,0,0
1214,Ia078d83e338b09b903bfd2d04284e5283f885a19,https://git.eclipse.org/r/#/c/1214,3,73a25e31cc647f857822eeefcf136dfeda0d582d,6d3aab5a2e7590a3ec7888a697d91af932c8c1e1,1,21/08/10,21/08/10,16,"Add copyTo(byte[], int) to AnyObjectId","Add copyTo(byte[], int) to AnyObjectId

This permits formatting in hex into an existing byte array
supplied by the caller, and mirrors our copyRawTo method
with the same parameter signature.

Change-Id: Ia078d83e338b09b903bfd2d04284e5283f885a19
Signed-off-by: Shawn O. Pearce <spearce@spearce.org>",0,0,0,0,0,0,0,0,0
1215,I3572f6113db883002f9c3a5ecc1bcc8370105c98,https://git.eclipse.org/r/#/c/1215,3,37ecb5edeb213d993a4fc33c6228eee11603b47b,ce5e90f1e941b90d0b5dc5f5e8d3312da86dd313,1,21/08/10,21/08/10,10,Add copyTo(ByteBuffer) to AnyObjectId,"Add copyTo(ByteBuffer) to AnyObjectId

Change-Id: I3572f6113db883002f9c3a5ecc1bcc8370105c98
Signed-off-by: Shawn O. Pearce <spearce@spearce.org>",0,0,0,1,0,0,1,0,0
1216,I802ec8113c00884fccde5d0e92b9849716316f62,https://git.eclipse.org/r/#/c/1216,3,14129dff17612164b3885a2a613f3e1d5ecc06a7,d15a4035cf2f6388fdebb94eccee8d9e041c2a3c,1,21/08/10,21/08/10,3,Expose getType in ObjectToPack,"Expose getType in ObjectToPack

Storage implementations may find this useful when implementing the
ObjectReuseAsIs interface on their ObjectReader.  Expose it so we
don't force them to create a redundant copy of the information.

Change-Id: I802ec8113c00884fccde5d0e92b9849716316f62
Signed-off-by: Shawn O. Pearce <spearce@spearce.org>",0,0,0,0,0,0,0,0,0
1217,I6c871a03d5846b9bb899de4d14a265e8b204d8e0,https://git.eclipse.org/r/#/c/1217,3,c55c11e31b69cfaf3b212006a685274bcf88ffa5,dfd2b80abbcfcb5195dc40f98ad1fcc918b96bb5,1,21/08/10,21/08/10,2,Expose OBJ_ANY in ObjectReader,"Expose OBJ_ANY in ObjectReader

Storage implementations or application code using an ObjectReader
may want to access this constant without being inside of a subclass
of the reader.

Change-Id: I6c871a03d5846b9bb899de4d14a265e8b204d8e0
Signed-off-by: Shawn O. Pearce <spearce@spearce.org>",0,0,0,0,0,0,0,0,0
1218,I2be0380251ebe7e4921fa74e246724e48ad88b0e,https://git.eclipse.org/r/#/c/1218,3,976f0e1af2ee5ce7f5125cbbc9bcfed3fd99cde9,628a90536bd731360acc34b4b3a626f2e0ac6622,0,21/08/10,21/08/10,8,Export the ObjectId on MissingObjectException,"Export the ObjectId on MissingObjectException

Callers catching a MissingObjectException may need programmatic
access to the ObjectId that wasn't available in the repository.

Change-Id: I2be0380251ebe7e4921fa74e246724e48ad88b0e
Signed-off-by: Shawn O. Pearce <spearce@spearce.org>",0,0,0,0,0,0,0,NA,NA
1219,I3edf39e8f703fe87a738dc236d426b194db85e3a,https://git.eclipse.org/r/#/c/1219,3,49b8533ade25ba032152d077cfcd77709fbadde8,8a3f0da3be6afd75fea5f8c0b5656ba3fefd74bc,1,21/08/10,21/08/10,1,Flush the pack header as soon as its ready,"Flush the pack header as soon as its ready

When the output stream is deeply buffered (e.g. 1 MiB or more in
an HTTP servlet on some containers) trying to kick out the header
earlier will prevent the client from stalling hard while the first
1 MiB is received and it can process the pack header.  Forcing a
flush here lets the client see the header and start its progress
monitor for ""Receiving objects: (1/N)"" so the user knows there
is still activity occurring, even though the buffering may cause
there to be some lag as the buffer fills up on the sending side.

Change-Id: I3edf39e8f703fe87a738dc236d426b194db85e3a
Signed-off-by: Shawn O. Pearce <spearce@spearce.org>",0,0,0,0,0,0,0,0,0
1220,I0c536405a55034881fb5db92a2d2a99534faed34,https://git.eclipse.org/r/#/c/1220,3,d757c6ad5407a7f3b2e3f2c8ebcde5b46968d1cd,c89aacc1e3d614173e81d18eb815c81d2a064121,1,21/08/10,21/08/10,60,Allow object reuse selection to occur in parallel,"Allow object reuse selection to occur in parallel

ObjectReader implementations may wish to use multiple threads in
order to evaluate object reuse faster.  Let the reader make that
decision by passing the iteration down into the reader.

Because the work is pushed into the reader, it may need to locate a
given ObjectToPack given its ObjectId.  This can easily occur if the
reader has sent a list of ObjectIds to the object database and gets
back information keyed only by ObjectId, without the ObjectToPack
handle.  Expose lookup using the PackWriter's own internal map,
so the reader doesn't need to build a redundant copy to track the
assocation of ObjectId back to ObjectToPack.

Change-Id: I0c536405a55034881fb5db92a2d2a99534faed34
Signed-off-by: Shawn O. Pearce <spearce@spearce.org>",1,0,0,0,0,0,1,0,0
1221,I72c6cbd05cff7d8506826015f50d9f57d5cda77e,https://git.eclipse.org/r/#/c/1221,3,2adb9f16c453a225730e0e1fae47a4d41912ae97,90e1079067f35353bd269fb43e5f7311773bb9ef,1,21/08/10,21/08/10,73,Offer ObjectReaders advice about a RevWalk,"Offer ObjectReaders advice about a RevWalk

By giving the reader information about the roots of a revision
traversal, some readers may be able to prefetch information from
their backing store using background threads in order to reduce
data access latency.  However this isn't typically necessary so
the default reader implementation doesn't react to the advice.

Change-Id: I72c6cbd05cff7d8506826015f50d9f57d5cda77e
Signed-off-by: Shawn O. Pearce <spearce@spearce.org>",0,0,0,0,0,0,0,0,0
1222,I4c966f84917482598012074c370b9831451404ee,https://git.eclipse.org/r/#/c/1222,4,f5b0ece80a3c10374c73cceed12f6b3081ba3509,9abffd0ed5c3724a750a3637f067ee3e9d088532,1,21/08/10,21/08/10,1040,Implement async/batch lookup of object data,"Implement async/batch lookup of object data

An ObjectReader implementation may be very slow for a single object,
but yet support bulk queries efficiently by batching multiple small
requests into a single larger request.  This easily happens when the
reader is built on top of a database that is stored on another host,
as the network round-trip time starts to dominate the operation cost.

RevWalk, ObjectWalk, UploadPack and PackWriter are the first major
users of this new bulk interface, with the goal being to support an
efficient way to pack a repository for a fetch/clone client when the
source repository is stored in a high-latency storage system.

Processing the want/have lists is now done in bulk, to remove
the high costs associated with common ancestor negotiation.

PackWriter already performs object reuse selection in bulk, but it
now can also do the object size lookup and object counting phases
with higher efficiency.  Actual object reuse, deltification, and
final output are still doing sequential lookups, making them a bit
more expensive to perform.

Change-Id: I4c966f84917482598012074c370b9831451404ee
Signed-off-by: Shawn O. Pearce <spearce@spearce.org>",1,1,0,0,1,0,1,4,1
1223,If17ea598dc0ddbde63d69a6fcec0668106569125,https://git.eclipse.org/r/#/c/1223,4,5779e6cac6176714ffbd5b0880343bd1ee153e7e,10d79ff181b4d1beddc11179a4e9a26dceecc200,1,21/08/10,21/08/10,72,Allow ObjectToPack subclasses to use up to 4 bits of flags,"Allow ObjectToPack subclasses to use up to 4 bits of flags

Some instances may benefit from having access to memory efficient
storage for some small values, like single flag bits.  Give up a
portion of our delta depth field to make 4 bits available to any
subclass that wants it.

This still gives us room for delta chains of 1,048,576 objects,
and that is just insane.  Unpacking 1 million objects to get to
something is longer than most users are willing to wait for data
from Git.

Change-Id: If17ea598dc0ddbde63d69a6fcec0668106569125
Signed-off-by: Shawn O. Pearce <spearce@spearce.org>",0,1,0,0,0,0,1,0,0
1224,I64f0048ca7071a8b44950d6c2a5dfbca3be6bba6,https://git.eclipse.org/r/#/c/1224,4,72df7966d2a4ec3e5d00bd8c5c5d512793ad05e3,71a454f59df73d481bfeb966700795f76ada8aef,1,21/08/10,21/08/10,137,Allow ObjectReuseAsIs to have more control over write ordering,"Allow ObjectReuseAsIs to have more control over write ordering

The reuse system used by an object database may be able to benefit
from knowing what objects are coming next, and even improve data
throughput by delaying (or moving up) objects that are stored near
each other in the source database.

Pushing the iteration down into the reuse code makes it possible
for a smarter implementation to aggregate reuse.  But for the
standard pack file format on disk we don't bother, its quite
efficient already.

Change-Id: I64f0048ca7071a8b44950d6c2a5dfbca3be6bba6
Signed-off-by: Shawn O. Pearce <spearce@spearce.org>",0,1,0,0,0,0,1,0,0
1225,Iaaf41a1f4002b8fe3ddfa62dc73c787f363460c2,https://git.eclipse.org/r/#/c/1225,5,b5b1a93d42d2f4640a869d49f944222809a96fc4,3c91890af365e66fc1144d2a863ae61ed0a01123,1,19/08/10,19/08/10,169,"Enhance MergeResult to report conflicts, etc","Enhance MergeResult to report conflicts, etc

The MergeResult class is enhanced to report more data about a
three-way merge.  Information about conflicts and the base, ours,
theirs commits can be retrived.

Change-Id: Iaaf41a1f4002b8fe3ddfa62dc73c787f363460c2
Signed-off-by: Christian Halstrick <christian.halstrick@sap.com>",0,1,0,0,0,1,1,0,0
1226,I49a5ebcdcf4f540f606092c0f1dc66c965dc66ba,https://git.eclipse.org/r/#/c/1226,7,2e6dca9aae453457181deef7af602dfe24d12c6c,623ea875764ea484fb62cbcf140996953935ef35,1,30/08/10,30/08/10,1168,Added merge strategy RESOLVE,"Added merge strategy RESOLVE

This adds the first merge strategy to JGit which does real
content-merges if necessary. The new merge strategy ""resolve"" takes as
input three commits: a common base, ours and theirs. It will simply takeover
changes on files which are only touched in ours or theirs. For files
touched in ours and theirs it will try to merge the two contents
knowing taking into account the specified common base.

Rename detection has not been introduced for now.

Change-Id: I49a5ebcdcf4f540f606092c0f1dc66c965dc66ba
Signed-off-by: Christian Halstrick <christian.halstrick@sap.com>",0,1,0,0,1,1,1,5,1
1230,I9b481e97f8fcf3fcdbb785b801dc07bfa85dcc33,https://git.eclipse.org/r/#/c/1230,2,a10deaec4212309aa0a1179f6fecd491ce02d1ff,740f3a9da0b4f9d007a6c912f6fa046df05591f0,1,05/08/10,05/08/10,136,add more control to indexState() return-value,"add more control to indexState() return-value

The indexState() method was enhanced to be more configurable. A bitmask
controls which of the optional parts are reported. All data about
the worktree is not reported anymore by this method which makes the
interface more cleaner for users wanting to test only the state of the
index.
This was done because the previous version reported always so much
additional data that it was hard to write good assertions against it.

Change-Id: I9b481e97f8fcf3fcdbb785b801dc07bfa85dcc33
Signed-off-by: Christian Halstrick <christian.halstrick@sap.com>",0,0,0,0,0,0,0,0,0
1231,I2ebd7cd7818feba6acffb3f835101d8fd281bd5a,https://git.eclipse.org/r/#/c/1231,2,f47ec2a1546d4074a6baf64c2435e775659ca385,e6e7f5310db8467797ac1f7856f13642699b91e5,1,05/08/10,05/08/10,68,add fsTick() to RepositoryTestCase,"add fsTick() to RepositoryTestCase

An utility method which was in RacyGitTests has been moved to
RepositoryTestCase. Also the javadoc has been improved.
This method allows to wait long enough until the
filesystem-timer has advanced. This is useful when it has to
be guaranteed that two files modifications have different
modification timestamps.

Change-Id: I2ebd7cd7818feba6acffb3f835101d8fd281bd5a
Signed-off-by: Christian Halstrick <christian.halstrick@sap.com>",0,0,0,0,0,0,0,0,0
1232,Ic75272a2d6e512a361f88eec91e1b8a7c2298d6b,https://git.eclipse.org/r/#/c/1232,2,3eaba3da97e848b9af0b0be4fdc5881d0fa2739c,6e1c925b2f704a724c7c2b62c1a961355eed915a,1,04/08/10,04/08/10,18,Fixed bug in scoring mechanism for rename detection,"Fixed bug in scoring mechanism for rename detection

A bug in rename detection would cause file scores to be wrong. The
bug was due to the way rename detection would judge the similarity
between files. If file A has three lines containing 'foo', and file
B has 5 lines containing 'foo', the rename detection phase should
record that A and B have three lines in common (the minimum of the
number of times that line appears in both files). Instead, it would
choose the the number of times the line appeared in the destination
file, in this case file B. I fixed the bug by having the
SimilarityIndex instead choose the minimum number, as it should. I
also added a test case to verify that the bug had been fixed.

Change-Id: Ic75272a2d6e512a361f88eec91e1b8a7c2298d6b",0,0,0,0,0,0,0,0,0
1233,Ie6a8e04833c61d44c668c906b161202b200bb509,https://git.eclipse.org/r/#/c/1233,4,3340d7cacbf5fb13444e148c870711927e88d2f9,8e24e03a61888eac7b307e3221721331030be7d4,1,04/08/10,04/08/10,209,Add gitignore support to IndexDiff and use TreeWalk,"Add gitignore support to IndexDiff and use TreeWalk

IndexDiff was re-implemented and now uses TreeWalk instead
of GitIndex. Additionally, gitignore support and retrieval of 
untracked files was added.
This commit is a prerequisite for adding gitignore support to
the EGit Commit Dialog.

Change-Id: Ie6a8e04833c61d44c668c906b161202b200bb509
Signed-off-by: Jens Baumgart <jens.baumgart@sap.com>",0,1,0,0,0,0,1,1,1
1237,I7514a6dbdc1c69a885d900385d0d9f5b40224c2f,https://git.eclipse.org/r/#/c/1237,1,8e24e03a61888eac7b307e3221721331030be7d4,60a82248a79e66c8e1bb7367d9b1fbec6ddef971,0,04/08/10,04/08/10,0,Merge branch 'js/diff',"Merge branch 'js/diff'

* js/diff:
  Fixed bug in scoring mechanism for rename detection",1,0,0,0,0,0,1,NA,NA
1239,I594e7f9efd0c57d794d2bd26d55ec45f4e6a47fd,https://git.eclipse.org/r/#/c/1239,3,ba185075d230000aeebcf6d0dc8e0d05a1f720eb,9bdc2c089af7f471bf334949eabb79dce9be7aba,1,05/08/10,05/08/10,92,Allow to replace existing Change-Id,"Allow to replace existing Change-Id

It is useful to be able to replace an existing Change-Id
in the message, for example if the user decides not to
amend the previous commit.

Bug: 321188
Change-Id: I594e7f9efd0c57d794d2bd26d55ec45f4e6a47fd
Signed-off-by: Stefan Lay <stefan.lay@sap.com>",0,0,0,0,0,0,0,0,0
1246,I7e2ac3ad01d15b94d340128a395fe0b2f560ff35,https://git.eclipse.org/r/#/c/1246,3,0e5e307793d521403776e7675d76da800b39e022,7f90c3231fe09e8ded16f5c2508f06b3fe777de6,1,21/08/10,21/08/10,46,Expose pack fetch/push connections for subclassing,"Expose pack fetch/push connections for subclassing

These classes need to be visible if an application wants to define
its own native pack based protocol embedded within another layer,
much like we already support for smart HTTP.

Change-Id: I7e2ac3ad01d15b94d340128a395fe0b2f560ff35
Signed-off-by: Shawn O. Pearce <spearce@spearce.org>",0,0,0,0,0,0,0,0,0
1260,I5b005e5093e1f00de2e3ec104e27ab6820203566,https://git.eclipse.org/r/#/c/1260,1,c6d4e6ffd2f567485615f351a38d3b10e7e8509c,158e192689c3e456d63c0f3b3d1f49bc39633faa,1,06/08/10,06/08/10,15,Fix ArrayIndexOutOfBounds on non-square exact rename matrix,"Fix ArrayIndexOutOfBounds on non-square exact rename matrix

If the exact rename matrix for a particular ObjectId isn't square we
crashed with an ArrayIndexOutOfBoundsException because the matrix
entries were encoded backwards.  The encode function accepts the
source (aka deleted) index first, not second.  Add a unit test to
cover this non-square case to ensure we don't have this regression
in the future.

Change-Id: I5b005e5093e1f00de2e3ec104e27ab6820203566
Signed-off-by: Shawn O. Pearce <spearce@spearce.org>",0,0,0,0,0,0,0,0,0
1261,Ie0b8dd3e1ec174f79ba39dc4706bb0694cc8be29,https://git.eclipse.org/r/#/c/1261,1,7ddaff3ee3eebe6fcaa45dc9ae0dee7e940a6a23,8d4d8edee054e40a9f8fbb8c73848a84ff7e6938,1,06/08/10,06/08/10,14,Merge branch 'rename-bug',"Merge branch 'rename-bug'

* rename-bug:
  Fix ArrayIndexOutOfBounds on non-square exact rename matrix

Conflicts:
	org.eclipse.jgit/src/org/eclipse/jgit/diff/RenameDetector.java

Change-Id: Ie0b8dd3e1ec174f79ba39dc4706bb0694cc8be29",1,0,0,0,0,0,1,0,0
1262,I64f12a35423a90ced9c9bc83f6869d8ed766dd35,https://git.eclipse.org/r/#/c/1262,1,8d4d8edee054e40a9f8fbb8c73848a84ff7e6938,fac143aaa488ecc1f4b89504eea7e6c10d000fe0,0,11/08/10,11/08/10,121,Hide Maven target directories from Eclipse,"Hide Maven target directories from Eclipse

Change-Id: I64f12a35423a90ced9c9bc83f6869d8ed766dd35
Signed-off-by: Robin Rosenberg <robin.rosenberg@dewire.com>",0,0,0,1,0,0,1,NA,NA
1267,Ibddb056c32c14c1444785501c43b95fdf64884b1,https://git.eclipse.org/r/#/c/1267,1,af762585f6e5f05549e9c1ddc7f6543d95918e5e,6864e675327e5b2a3b143c93309c1cff57237869,1,09/08/10,09/08/10,20,Fix NPE on commit in empty Repository,"Fix NPE on commit in empty Repository

NPE occured when committing in an empty repository.

Bug: 321858
Change-Id: Ibddb056c32c14c1444785501c43b95fdf64884b1
Signed-off-by: Jens Baumgart <jens.baumgart@sap.com>",0,0,0,0,0,0,0,0,0
1276,I669bc8d220a07011a42edf79de31825305ff3763,https://git.eclipse.org/r/#/c/1276,1,6864e675327e5b2a3b143c93309c1cff57237869,2ba2f387b33199483a2a7f66e8e30d719b56b1df,1,10/08/10,10/08/10,2,TransportHttp does not honor timeout setting,"TransportHttp does not honor timeout setting

This can result in an infinitely hanging IDE.

Change-Id: I669bc8d220a07011a42edf79de31825305ff3763
Signed-off-by: Mathias Kinzler <mathias.kinzler@sap.com>",0,0,0,0,0,0,0,0,0
1281,Ida94a59f5a2b7fa8ae0126e33c13343275483ee5,https://git.eclipse.org/r/#/c/1281,6,f2401acf780d2736bcfd523b1e6c0190779a10bf,1f3d2a6d15eab3d4fd548ab2ca1e7ea88dd206a6,1,19/08/10,19/08/10,147,Fix missing Configuration Change eventing,"Fix missing Configuration Change eventing

Currently, configuration change events are not triggered at all.

Change-Id: Ida94a59f5a2b7fa8ae0126e33c13343275483ee5
Signed-off-by: Mathias Kinzler <mathias.kinzler@sap.com>",0,1,0,0,0,0,1,0,0
1290,I398499510c22c37667b7612db32eac3b31d325f0,https://git.eclipse.org/r/#/c/1290,3,1ae201f055b8a843d22b086d5296a315d0b6b59f,597338afddc45f82f6fa78b48e34bc973ba39b1a,1,12/08/10,12/08/10,97,Improve IndexDiff performance,"Improve IndexDiff performance

Exclude ignored files from IndexDiff tree walk.
This makes EGit commit much faster.

Change-Id: I398499510c22c37667b7612db32eac3b31d325f0
Signed-off-by: Jens Baumgart <jens.baumgart@sap.com>",0,0,0,0,0,0,0,0,0
1293,Iab282a918eb51b0e9c55f628a3396ff01c9eb9eb,https://git.eclipse.org/r/#/c/1293,11,60fdcda294d0a69dcc140c03ee22dbb3574e00cd,4d752416bfca2be7cff38733fd098700b0805139,1,27/08/10,27/08/10,498,Add TagCommand,"Add TagCommand

A tag command is added to the Git porcelain API.

Signed-off-by: Chris Aniszczyk <caniszczyk@gmail.com>",0,1,0,0,0,1,1,1,1
1299,Ic4bc49a0da90234271aea7c0a4e344a1c3620cfc,https://git.eclipse.org/r/#/c/1299,1,89d13d5799a6d139f04257f4175f5b22e7c0d103,1638666fa1efc9d8438194f7e363edaf9bff8991,1,12/08/10,12/08/10,8,Fix RevCommitList to work with subclasses of RevWalk,"Fix RevCommitList to work with subclasses of RevWalk

Bug: 321502
Change-Id: Ic4bc49a0da90234271aea7c0a4e344a1c3620cfc
Signed-off-by: Matthias Sohn <matthias.sohn@sap.com>",0,0,0,0,0,0,0,0,0
1309,Iea3a5035b0a1410b80b09cf53387b22b78b18018,https://git.eclipse.org/r/#/c/1309,2,0858921d81bf5c4328e0e4ecbd855cfdff06b825,5e4c2bf56e64c2afec827ab3a1263174f170bdd9,0,18/08/10,18/08/10,2,Do not trigger RefsChangedEvent on the first attempt to read a ref,"Do not trigger RefsChangedEvent on the first attempt to read a ref

Such events make no sense.

Change-Id: Iea3a5035b0a1410b80b09cf53387b22b78b18018
Signed-off-by: Robin Rosenberg <robin.rosenberg@dewire.com>",0,0,0,0,0,0,0,NA,NA
1313,Ibace21fa268c4aa15da6c65d42eb705ab1aa24b3,https://git.eclipse.org/r/#/c/1313,1,d62fc93f5f5ed17ad60397c755a672aae5222735,2826500bd67546d907ba751f1ab7c928bf896776,1,18/08/10,18/08/10,24,Backout RevObject's  object-identity based equals implementation,"Backout RevObject's  object-identity based equals implementation

This restores the transitivity and symmetry properties of the equals
methods on the AnyObjectId type hierarchy as defined in [1]. 
Following [2] we declare these equals methods final to ensure that 
semantics of equals are consistent across AnyObjectId's type hierarchy.

[1] http://download-llnw.oracle.com/javase/6/docs/api/java/lang/Object.html#equals(java.lang.Object)
[2] http://www.angelikalanger.com/Articles/JavaSolutions/SecretsOfEquals/Equals.html

Bug: 321502
Change-Id: Ibace21fa268c4aa15da6c65d42eb705ab1aa24b3
Signed-off-by: Matthias Sohn <matthias.sohn@sap.com>",0,0,0,0,0,0,0,0,0
1314,Ia657d4037c518411f7bc3c75626dbafb1f4706a2,https://git.eclipse.org/r/#/c/1314,1,b0aa1a63feaa55b5f6259df6569db8a606315de5,ff95a0ff1361677f59abdaca5024213c7fdf9a3c,0,16/08/10,16/08/10,1,Set default file encoding used for JGit tests to UTF-8,"Set default file encoding used for JGit tests to UTF-8

This patch fixes the problem that JGit tests run from Maven fail on
Mac OS X [1]. In Eclipse the tests succeed since we set Eclipse
workspace encoding to UTF-8 via ""Preferences > General > Workspace
> Text file encoding"", checked via JConsole that this setting changes
the JVM system property of the test run. This change copies this 
setting to the Maven test environment so that we get consistent test
results on all platforms.

[1] http://kerneltrap.org/mailarchive/git/2009/2/6/4916414/thread

Change-Id: Ia657d4037c518411f7bc3c75626dbafb1f4706a2
Signed-off-by: Matthias Sohn <matthias.sohn@sap.com>",0,0,0,0,0,0,0,NA,NA
1315,If38b1f7cacaaf769f51b14541c5da0c1e24568a5,https://git.eclipse.org/r/#/c/1315,2,0016115786148da1108756d49cbb075bdb39d551,1f745cb2b9e422361f74f28572efc0d9852bdebd,1,18/08/10,18/08/10,78,added resetIndex() to RepositoryTestCase,"added resetIndex() to RepositoryTestCase

Added a utility method to set the reset an index to match exactly
some content in the filesystem. This can be used by tests to prepare
commits in the working-tree and set the index in one shot.

Change-Id: If38b1f7cacaaf769f51b14541c5da0c1e24568a5
Signed-off-by: Christian Halstrick <christian.halstrick@sap.com>",0,0,0,0,0,1,1,0,0
1316,Ie988f93768d864f4cbd55809a786bd5759fc24a5,https://git.eclipse.org/r/#/c/1316,2,b77ad5ed1ea0dd7575f92571025b8cf7125b4361,6bac27be7ec559780c9c34f288b660202f245ce2,1,18/08/10,18/08/10,134,Add blob-data to utility method indexState(),"Add blob-data to utility method indexState()

indexState() encodes the complete state of the index
into one readable String. This helps to write tests
against the index. indexState() is enhanced to optionally
also contain the content of the files in the index.

Change-Id: Ie988f93768d864f4cbd55809a786bd5759fc24a5
Signed-off-by: Christian Halstrick <christian.halstrick@sap.com>",0,0,0,0,0,1,1,0,0
1320,Ied5f501f9c8d1fe90ab2ba44fac5fa67ed0035a4,https://git.eclipse.org/r/#/c/1320,12,4047928171d271edeaf68fb6c2e0fa3c922f567c,f2bcb5fcd415e3a74b096b5b079f6518c1dc6d41,1,22/08/11,22/08/11,614,Implemented shallow clones,"Implemented shallow clones

This implements the server side of shallow clones only (i.e. git-upload-pack),
not the client side.",0,1,0,0,1,0,1,12,1
1322,I588388f37e89b8c690020f110a1bc59f46170c40,https://git.eclipse.org/r/#/c/1322,2,d83b3496ca573e814c7fa383d3fe98c51f91cf2f,8b29ac5a3a9cd92efec3a2aeeaa70efe3d045990,1,18/08/10,18/08/10,14,Add a convenience API in FileRepository to pass in a String that points to the GIT_DIR location.,Add a convenience API in FileRepository to pass in a String that points to the GIT_DIR location.,0,0,0,1,0,0,1,0,0
1324,Ie9798d36d9ecfcc0094ca795f5a44b003136eaf7,https://git.eclipse.org/r/#/c/1324,5,f2f649d94f13b7698a3d8d68cbf39eb83e8333bf,0f650d70d118619ba01ae54e1333017da6e1acc6,1,26/08/10,26/08/10,284,Fix NumberFormatException in PersonIdent.,"Fix NumberFormatException in PersonIdent.

PersonIdent should be able to parse an invalid commit which
contains multiple authors, like ""A <a@a.org>, B <b@b.org>"".",0,1,0,0,0,0,1,0,0
1331,If46dc00c4c0f31ea4234c6d3bda3c03e6ebbafac,https://git.eclipse.org/r/#/c/1331,2,f7ee787f6d3eedf87e119327eaed5ac962e8ed99,a96600ed1c1f79198d11b3ebc1fd663fb11be0ac,1,19/08/10,19/08/10,41,Remove getter and setter for author in Tag,"Remove getter and setter for author in Tag

There was a duplicated getter and setter for tagger in Tag.
There's no needed to have two getters and setters that represent
the same things. The appropriate tests were updated also.

Signed-off-by: Chris Aniszczyk <caniszczyk@gmail.com>",0,0,0,0,0,1,1,0,0
1333,I04e30ce25a9432e4ca56c3f29658ecb24fb18d24,https://git.eclipse.org/r/#/c/1333,4,a96600ed1c1f79198d11b3ebc1fd663fb11be0ac,687e24df5c4d5f93cf9adf4c7134f63b67ae0e70,0,19/08/10,19/08/10,11,Allow for optional tagger and message in Tag,"Allow for optional tagger and message in Tag

We should be more lenient when tagging without an
tagger or message. Currently, we will throw an NPE
which is incorrect behavior.

Signed-off-by: Chris Aniszczyk <caniszczyk@gmail.com>",0,1,0,0,0,1,1,NA,NA
1334,I2e1c9c3cc8cddfa12ca4bfb9afc4df0492a9fce1,https://git.eclipse.org/r/#/c/1334,4,687e24df5c4d5f93cf9adf4c7134f63b67ae0e70,d2ca92c14b41994b634d3ee75f0f07ba167483da,1,10/02/12,19/11/12,16,Add support for git-ls tree to accept path arguments similar to git-ls-tree.,"Add support for git-ls tree to accept path arguments similar to git-ls-tree.

Usage is:

jgit ls-tree [-r|--recursive] <tree-ish> [-- paths...]",0,1,1,0,0,0,1,0,0
1340,Ief275dace435c0ddfa362ac8e5d93558bc7e9fc3,https://git.eclipse.org/r/#/c/1340,1,98dc9a3ec2a951a9c133aae55d6e83f41e251a63,e912902375f6c421795fa03d059b1612de965baf,1,19/08/10,19/08/10,24,Remove unnecessary ObjectId.copy() calls,"Remove unnecessary ObjectId.copy() calls

When RevObject overrode equals() to provide only reference equality
we used to need to convert a RevObject into an ObjectId by copy()
just to use standard Java tools like JUnit assertEquals(), or to
use contains() or get() on standard java.util collection types.

Now that we have removed this override and made ObjectId's equals()
final (preventing any of this mess in the future), some copy()
calls are unnecessary.  Anytime the value is being used as an input
to a lookup routine, or to an equals, we can avoid the copy().

However we still want to use copy() anytime we are given an ObjectId
that may exist long-term, where we don't want the high cost of the
additional storage from a RevCommit extension.  So we can't remove
all uses of copy(), just some of them.

Change-Id: Ief275dace435c0ddfa362ac8e5d93558bc7e9fc3
Signed-off-by: Shawn O. Pearce <spearce@spearce.org>",1,0,0,0,0,0,1,0,0
1341,I35a849b6efccee5fe74cc5788a3566a1516004b7,https://git.eclipse.org/r/#/c/1341,1,e912902375f6c421795fa03d059b1612de965baf,f782955d98205740c375c3b06d8a4ee1eb4319cf,1,19/08/10,19/08/10,2,Make ObjectId.hashCode final too,"Make ObjectId.hashCode final too

Since equals() is now final and does not permit being overridden,
we should do the same thing with hashCode() to prevent different
subclasses from having different hashing behaviors.  This could
lead to the same mess that we had with different equals() behaviors.

Change-Id: I35a849b6efccee5fe74cc5788a3566a1516004b7
Signed-off-by: Shawn O. Pearce <spearce@spearce.org>",1,0,0,0,0,0,1,0,0
1342,I35a849b6efccee5fe74cc5788a3566a1516004b7,https://git.eclipse.org/r/#/c/1342,1,f782955d98205740c375c3b06d8a4ee1eb4319cf,34c7e2289b0ecefb8102fbe90553be7dd45e1668,1,19/08/10,19/08/10,8,Make ObjectId.compareTo final,"Make ObjectId.compareTo final

Since equals() is now final and does not permit being overridden,
we should do the same thing with compareTo() to prevent different
subclasses from having different ordering behaviors.  This could
lead to the same mess that we had with different equals() behaviors.

Change-Id: I35a849b6efccee5fe74cc5788a3566a1516004b7
Signed-off-by: Shawn O. Pearce <spearce@spearce.org>",1,0,0,0,0,0,1,0,0
1343,I5b3e99e9e658fe272a9e171db04b0f20e48ed8d3,https://git.eclipse.org/r/#/c/1343,1,34c7e2289b0ecefb8102fbe90553be7dd45e1668,b85c754c2d5d07dabd11c359c20afa621f942d59,1,19/08/10,19/08/10,7,Fix formatting of serialization code in ObjectId,"Fix formatting of serialization code in ObjectId

Change-Id: I5b3e99e9e658fe272a9e171db04b0f20e48ed8d3
Signed-off-by: Shawn O. Pearce <spearce@spearce.org>",1,0,0,1,0,0,1,0,0
1352,I0a98babfc2068a3b6b7d2257834988e1154f5b26,https://git.eclipse.org/r/#/c/1352,1,b85c754c2d5d07dabd11c359c20afa621f942d59,2f0221fcf0fccb599989174cc8930092612884b6,1,20/08/10,20/08/10,8,Fix ReadTreeTests to not rely on cached index,"Fix ReadTreeTests to not rely on cached index

ReadTreeTests relied on Repository.getIndex() which on
platforms which coarse FileSystemTimers failed to detect
index modifications. By explicitly reloading and writing
the index this problem is solved.

Change-Id: I0a98babfc2068a3b6b7d2257834988e1154f5b26
Signed-off-by: Christian Halstrick <christian.halstrick@sap.com>
Signed-off-by: Matthias Sohn <matthias.sohn@sap.com>",0,0,0,0,0,1,1,0,0
1356,Ibe846370a35ac9bdb0c97ce2e36b2287577fbcad,https://git.eclipse.org/r/#/c/1356,3,cadd1470fc72e455f084c43f43f0b4a35657fec8,4efe0714b0589dbeaba083f8fd63e2725d73e76c,1,27/08/10,27/08/10,25,Add getBaseCommit() to Merger,"Add getBaseCommit() to Merger

The Merger was was only exposing the merge base as an
AbstractTreeIterator. Since we need the merge base as
RevCommit to generate the merge result I expose it here.

Change-Id: Ibe846370a35ac9bdb0c97ce2e36b2287577fbcad
Signed-off-by: Christian Halstrick <christian.halstrick@sap.com>
Signed-off-by: Matthias Sohn <matthias.sohn@sap.com>",0,0,0,0,0,1,1,0,0
1362,I04efbaa7b31c5f4b0a68fc074821930b1132cfcf,https://git.eclipse.org/r/#/c/1362,1,845fc98859a5ec51a9b9566f99fb0f1e56aca44e,32f763d5c3e2e81d036ed661fcc56a16163fabfb,1,21/08/10,21/08/10,26,Try really hard to load a commit or tag,"Try really hard to load a commit or tag

When we need the canonical form of a commit or a tag in order to
parse it into our RevCommit or RevTag fields, we really need it as a
single contiguous byte array.  However the ObjectDatabase may choose
to give us a large loader.  In general commits or tags are always
under the several MiB limit, so even if the loader calls it ""large""
we should still be able to afford the JVM heap memory required to
get a single byte array.  Coerce even large loaders into a single
byte array anyway.

Change-Id: I04efbaa7b31c5f4b0a68fc074821930b1132cfcf
Signed-off-by: Shawn O. Pearce <spearce@spearce.org>",1,0,0,0,0,0,1,0,0
1363,Ie4ebde64061f52c612714e89ad34de8ac2694b07,https://git.eclipse.org/r/#/c/1363,1,32f763d5c3e2e81d036ed661fcc56a16163fabfb,d5feec24cca3a2f3d22490050a0c85da93150c81,1,21/08/10,21/08/10,7,Correct PersonIdent hashCode() and equals() to ignore milliseconds,"Correct PersonIdent hashCode() and equals() to ignore milliseconds

Git doesn't store millisecond accuracy in person identity lines,
so a line that we create in Java and round-trip through a Git object
wouldn't compare as being equal.  Truncate to seconds when comparing
values to ensure the same identity is equal.

Change-Id: Ie4ebde64061f52c612714e89ad34de8ac2694b07
Signed-off-by: Shawn O. Pearce <spearce@spearce.org>",1,0,0,0,0,0,1,0,0
1364,Ib573f7e15f36855112815269385c21dea532e2cf,https://git.eclipse.org/r/#/c/1364,1,d5feec24cca3a2f3d22490050a0c85da93150c81,45980fc43f57614fe602ef0156f768c233002519,1,21/08/10,21/08/10,850,Make Commit class only for writing,"Make Commit class only for writing

The Commit class now only supports the creation of a commit object.
To read a commit, applictions should use RevCommit.  This permits
us to have exactly one implementation, and RevCommit's is faster
and more bug-free.

Change-Id: Ib573f7e15f36855112815269385c21dea532e2cf
Signed-off-by: Shawn O. Pearce <spearce@spearce.org>",1,0,0,0,1,0,1,-2,0
1365,Ib573f7e15f36855112815269385c21dea532e2cf,https://git.eclipse.org/r/#/c/1365,1,45980fc43f57614fe602ef0156f768c233002519,a5c84c1f57b5062d17e100a0e6afc6640c09fd21,1,21/08/10,21/08/10,555,Make Tag class only for writing,"Make Tag class only for writing

The Tag class now only supports the creation of an annotated tag
object.  To read an annotated tag, applictions should use RevTag.
This permits us to have exactly one implementation, and RevTag's
is faster and more bug-free.

Change-Id: Ib573f7e15f36855112815269385c21dea532e2cf
Signed-off-by: Shawn O. Pearce <spearce@spearce.org>",1,0,0,0,1,0,1,-2,0
1366,I21759cff337cbbb34dbdde91aec5aa4448a1ef37,https://git.eclipse.org/r/#/c/1366,1,a5c84c1f57b5062d17e100a0e6afc6640c09fd21,3bb48ef5c28437f12513a3579c9a58fe283252b6,1,21/08/10,21/08/10,69,Add a public RevCommit.parse() method,"Add a public RevCommit.parse() method

Callers might have a canonical commit encoding on hand that they
wish to convert into a clean structure for presentation purposes,
and the object may not be available in a repository.  (E.g. maybe
its a ""draft"" commit being written in an editor.)

Change-Id: I21759cff337cbbb34dbdde91aec5aa4448a1ef37
Signed-off-by: Shawn O. Pearce <spearce@spearce.org>",1,0,0,0,0,0,1,0,0
1367,I387a462afb70754aa7ee20891e6c0262438fdf32,https://git.eclipse.org/r/#/c/1367,1,3bb48ef5c28437f12513a3579c9a58fe283252b6,2d8a3fdc2f96c728f3dd73ae98e592f8cabfdf35,1,21/08/10,21/08/10,73,Add a public RevTag.parse() method,"Add a public RevTag.parse() method

Callers might have a canonical tag encoding on hand that they
wish to convert into a clean structure for presentation purposes,
and the object may not be available in a repository.  (E.g. maybe
its a ""draft"" tag being written in an editor.)

Change-Id: I387a462afb70754aa7ee20891e6c0262438fdf32
Signed-off-by: Shawn O. Pearce <spearce@spearce.org>",1,0,0,0,0,0,1,0,0
1370,I2ee08d04732371cd9e30874b1437b61217770b6a,https://git.eclipse.org/r/#/c/1370,1,8afd09fd87c36b76374b3bed830a69cb67aced40,0b755ef8a2395590f02a93f6e127a9c14a535e76,1,23/08/10,23/08/10,6,Improved creation of JGitInternalException,"Improved creation of JGitInternalException

There where 3 cases where a JGitInternalExcption was created
without specifying the root cause. This has been fixed.

Change-Id: I2ee08d04732371cd9e30874b1437b61217770b6a
Signed-off-by: Christian Halstrick <christian.halstrick@sap.com>",0,0,0,0,0,1,1,0,0
1382,I091a1b0ef71b842016020f938ba3161431aab9c9,https://git.eclipse.org/r/#/c/1382,1,7845ede03367cade27f2be4949d3c961679f64a0,838631029da5a0a6ff0f07f32ab39c80064219f1,1,23/08/10,23/08/10,8,Add documentation explaining how to read Commit and Tag,"Add documentation explaining how to read Commit and Tag

Since we stopped supporting these types for reading, but their
name is a natural candidate for someone to try and use in code,
explain where they should be looking instead.

Change-Id: I091a1b0ef71b842016020f938ba3161431aab9c9
Signed-off-by: Shawn O. Pearce <spearce@spearce.org>",0,0,0,0,0,0,0,0,0
1383,I53cae5a800a66ea1721b0fe5e702599df31da05d,https://git.eclipse.org/r/#/c/1383,1,838631029da5a0a6ff0f07f32ab39c80064219f1,972b9389ea41fa02d7e05260978a82d0447c37c1,1,24/08/10,24/08/10,93,"Rename Commit, Tag to CommitBuilder, TagBuilder","Rename Commit, Tag to CommitBuilder, TagBuilder

Since these types no longer support reading, calling them a Builder
is a better description of what they do.  They help the caller to
build a commit or a tag object.

Change-Id: I53cae5a800a66ea1721b0fe5e702599df31da05d
Signed-off-by: Shawn O. Pearce <spearce@spearce.org>",0,0,0,0,0,0,0,1,1
1384,Id5bb95ee56aa2a002243e9b7853b84ec8df1d7bf,https://git.eclipse.org/r/#/c/1384,1,972b9389ea41fa02d7e05260978a82d0447c37c1,a5cb6f0dca8363a2b9e6983a4af7954f73b4c165,1,24/08/10,24/08/10,353,"Move commit and tag formatting to CommitBuilder, TagBuilder","Move commit and tag formatting to CommitBuilder, TagBuilder

These objects should be responsible for their own formatting,
rather than delegating it to some obtuse type called ObjectInserter.

While we are at it, simplify the way we insert these into a database.
Passing in the type and calling format in application code turned
out to be a huge mistake in terms of ease-of-use of the insert API.

Change-Id: Id5bb95ee56aa2a002243e9b7853b84ec8df1d7bf
Signed-off-by: Shawn O. Pearce <spearce@spearce.org>",0,0,0,0,0,0,0,0,0
1385,I332563caeb110014e2d544dc33050ce67ae9e897,https://git.eclipse.org/r/#/c/1385,1,a5cb6f0dca8363a2b9e6983a4af7954f73b4c165,888999b4417a482d47ec243dbf50aa24f156bf6b,1,24/08/10,24/08/10,18,Add setLength(long) to DirCacheEntry,"Add setLength(long) to DirCacheEntry

Applications should favor the long style interface, especially when
their source input is a long type, e.g. coming from java.io.File.
This way when the index format is later changed to support a
larger file size than 2 GiB we can handle it by just changing the
entry code, and not need to fix a lot of applications.

Change-Id: I332563caeb110014e2d544dc33050ce67ae9e897
Signed-off-by: Shawn O. Pearce <spearce@spearce.org>",0,0,0,0,0,0,0,0,0
1386,Ie64a552f07895d67506fbffb3ecf1c1be8a7b407,https://git.eclipse.org/r/#/c/1386,1,888999b4417a482d47ec243dbf50aa24f156bf6b,66d6f144d34950c2f9589a641ab8c7320a88ebbe,1,24/08/10,24/08/10,42,Add openEntryStream to WorkingTreeIterator,"Add openEntryStream to WorkingTreeIterator

This makes it easier for abstract tools like AddCommand to open the
file from the working tree, without knowing internal details about
how the tree is managed.

Change-Id: Ie64a552f07895d67506fbffb3ecf1c1be8a7b407
Signed-off-by: Shawn O. Pearce <spearce@spearce.org>",0,0,0,0,0,0,0,0,0
1387,I6218bcb26b6b9ffb64e3e470dba5dca2e0a62fd4,https://git.eclipse.org/r/#/c/1387,1,66d6f144d34950c2f9589a641ab8c7320a88ebbe,5a149d03da80d769997e51b382dcb37f2e724bfc,1,24/08/10,24/08/10,661,Delete deprecated ObjectWriter,"Delete deprecated ObjectWriter

ObjectWriter is a deprecated API that people shouldn't be using.
So get rid of it in favor of the ObjectInserter API.

Change-Id: I6218bcb26b6b9ffb64e3e470dba5dca2e0a62fd4
Signed-off-by: Shawn O. Pearce <spearce@spearce.org>",0,0,0,0,1,0,1,0,0
1389,Icd3250adc8177ae05278b858933afdca0cbbdb56,https://git.eclipse.org/r/#/c/1389,1,5a149d03da80d769997e51b382dcb37f2e724bfc,cfb1f759c561c088458c13d1f10e5fbfb1fd46c3,1,24/08/10,24/08/10,802,Fully implement SHA-1 abbreviations,"Fully implement SHA-1 abbreviations

ObjectReader implementations are now responsible for creating the
unique abbreviation of an ObjectId, or for resolving an abbreviation
back to its full form.  In this latter case the reader can offer up
multiple candidates to the caller, who may be able to disambiguate
them based on context.

Repository.resolve() doesn't take multiple candidates into account
right now, but it could in the future by looking for a remaining
^0 or ^{commit} suffix and take an expansion if there is only one
commit that matches the input abbreviation.  It could also use
the distance from an annotated tag to resolve ""tag-NNN-gcommit""
style strings that are often output by `git describe`.

Change-Id: Icd3250adc8177ae05278b858933afdca0cbbdb56
Signed-off-by: Shawn O. Pearce <spearce@spearce.org>",0,0,0,0,1,0,1,4,1
1396,Ia7f0af98681f6d56ea419a48c6fa8eea09274b28,https://git.eclipse.org/r/#/c/1396,2,cfb1f759c561c088458c13d1f10e5fbfb1fd46c3,19145adce477efb239cbcca76a98f2a07fb9e57e,1,25/08/10,25/08/10,3,Use the ObjectStream size during copyTo,"Use the ObjectStream size during copyTo

If the stream is a delta decompression stream, getting the size
can be expensive.  Its cheaper to get it from the stream itself
rather than from the object loader.

Change-Id: Ia7f0af98681f6d56ea419a48c6fa8eea09274b28
Signed-off-by: Shawn O. Pearce <spearce@spearce.org>",0,0,0,0,0,0,0,0,0
1397,I7ec0c470c875f03b1f12a74a9b4d2f6e73b659bb,https://git.eclipse.org/r/#/c/1397,2,a74577fdcccaf4ae5e896d9d6359ec35945d0360,19ea8c375955f353ae44c4192d48a41ae6371955,1,25/08/10,25/08/10,6,Don't copy more than the object size,"Don't copy more than the object size

If the loader's stream is broken and returns to us more content
than it originally declared as the size of the object, don't
copy that onto the output stream.  Instead throw EOFException
and abort fast.  This way we don't follow an infinite stream,
but instead will at least stop when the size was reached.

Change-Id: I7ec0c470c875f03b1f12a74a9b4d2f6e73b659bb
Signed-off-by: Shawn O. Pearce <spearce@spearce.org>",0,0,0,0,0,0,0,0,0
1398,Ife25546158868bdfa886037e4493ef8235ebe4b9,https://git.eclipse.org/r/#/c/1398,3,e1fd15c8bb822bc58b0a2e239b8a0ded2c0ab0eb,fe249e8926723b485f9edc46b3879762ae630bd9,1,25/08/10,25/08/10,28,Add ObjectId to the LargeObjectException,"Add ObjectId to the LargeObjectException

A chunk of code that throws LargeObjectException may or may not have
the specific ObjectId on hand when its thrown.  If it does, we want
to cache it in the exception, and put that in the message.  If it is
missing we want to be able to set it later from a higher level stack
frame that does have the object handy.

Change-Id: Ife25546158868bdfa886037e4493ef8235ebe4b9
Signed-off-by: Shawn O. Pearce <spearce@spearce.org>",0,0,0,0,0,0,0,0,0
1399,Id95a7f79d2b97e39f6949370ccca2f2c9cfb1a0f,https://git.eclipse.org/r/#/c/1399,3,1ba1051ea058fb32d3ab16808c5696c4b1ed820c,b3de90c2408f844e91cac787c927299eb09faab7,1,26/08/10,26/08/10,386,Add brute force byte array loading to ObjectLoader,"Add brute force byte array loading to ObjectLoader

Some algorithms are coded in a way that requires us to provide them
the entire object contents as a contiguous byte array.  The parsers
in RevCommit and RevTag, or our RawText objects are really good
examples of these.

Instead of duplicating this logic everywhere, lets put it into the
base ObjectLoader type.  That way the caller only needs to give us
their upper size bound, and we'll do the rest of the heavy work to
figure out if the object still fits within that bound, and get them
an array that has the complete contents.

Change-Id: Id95a7f79d2b97e39f6949370ccca2f2c9cfb1a0f
Signed-off-by: Shawn O. Pearce <spearce@spearce.org>",0,0,0,0,0,0,0,0,0
1400,I2e26a823e6fd0964d8f8dbfaa0fc2e8834c179c1,https://git.eclipse.org/r/#/c/1400,3,2a22e348ff498bf0b71b557849afcb8771005f77,d1cda562b9d5d60913a034b8dd4a6f65838cbffa,1,26/08/10,26/08/10,95,Use limited getCachedBytes code to reduce duplication,"Use limited getCachedBytes code to reduce duplication

Rather than duplicating this block everywhere, reuse the limited size
form of getCachedBytes to acquire the content of an object.

Change-Id: I2e26a823e6fd0964d8f8dbfaa0fc2e8834c179c1
Signed-off-by: Shawn O. Pearce <spearce@spearce.org>",0,0,0,0,0,0,0,-1,0
1401,If296c211d8b257d76e44908504e71dd9ba70ffa8,https://git.eclipse.org/r/#/c/1401,3,48d078a0384fd8827ae4d492091ca8bdf52c79a6,4933b2b3a0d34ca64e7735fc1c8473bcd5f6e9a4,1,26/08/10,26/08/10,126,Use limited getCachedBytes in RevWalk,"Use limited getCachedBytes in RevWalk

Parsing is rewritten to use the size limited form of getCachedBytes,
thus freeing the revwalk infrastructure from needing to care about
a large object vs. a small object when it gets an ObjectLoader.

Right now we hardcode our upper bound for a commit or annotated
tag to be 15 MiB.  I don't know of any that is more than 1 MiB in
the wild, so going 15x that should give us some reasonable headroom.

Change-Id: If296c211d8b257d76e44908504e71dd9ba70ffa8
Signed-off-by: Shawn O. Pearce <spearce@spearce.org>",0,0,0,0,0,0,0,0,0
1402,I0766aa5444b7b8fff73620290f8c9f54adc0be96,https://git.eclipse.org/r/#/c/1402,3,5ca3572f92af0b9f03310570ec2debb1d1958b48,9a0f53d330ff542b6b88995abc451a5c759cd491,1,26/08/10,26/08/10,153,Complete an abbreviation when formatting a patch,"Complete an abbreviation when formatting a patch

If we are given a DiffEntry header that already has abbreviated
ObjectIds on it, we may still be able to resolve those locally and
output the difference.  Try to do that through the new resolve API
on ObjectReader.

Change-Id: I0766aa5444b7b8fff73620290f8c9f54adc0be96
Signed-off-by: Shawn O. Pearce <spearce@spearce.org>",0,0,0,0,0,0,0,0,0
1403,I01bb48e587e6d001b93da8575c2c81af3eda5a32,https://git.eclipse.org/r/#/c/1403,3,ca11cbc83012f7706fd874d956b7371873523c1d,d6c8ad4d630628f9dd5d594ab838923e203d8d98,1,26/08/10,26/08/10,27,Throw AmbiguousObjectException during resolve if its ambiguous,"Throw AmbiguousObjectException during resolve if its ambiguous

Its wrong to return null if we are resolving an abbreviation and we
have proven it matches more than one object.  We know how to resolve
it if we had more nybbles, as there are two or more objects with the
same prefix.  Declare that to the caller quite clearly by giving them
an AmbiguousObjectException.

Change-Id: I01bb48e587e6d001b93da8575c2c81af3eda5a32
Signed-off-by: Shawn O. Pearce <spearce@spearce.org>",0,0,0,0,0,0,0,0,0
1406,I7b97efb29a695ee60c90818be380f7ea23ad13a3,https://git.eclipse.org/r/#/c/1406,1,33f8581e9cb9c8084295c0c24afd74bb1107568b,fb0d7f2f1e7fb2f1de62c650b68336e79408e0c0,1,25/08/10,25/08/10,35,Fix ObjectDirectory abbreviation resolution to notice new packs,"Fix ObjectDirectory abbreviation resolution to notice new packs

If we can't resolve an abbreviation, it might be because there is
a new pack file we haven't picked up yet.  Try scanning the packs
again and recheck each pack if there were differences from the last
scan we did.

Because of this, we don't have to open a pack during the test where
we generate a pack on the fly.  We'll miss on the first loop during
which the PackList is the NO_PACKS magic initialization constant,
and pick up the newly created index during this retry logic.

Change-Id: I7b97efb29a695ee60c90818be380f7ea23ad13a3
Signed-off-by: Shawn O. Pearce <spearce@spearce.org>",1,0,0,0,0,0,1,0,0
1407,I92d0ecbc8d66ce21bfed08888eeedf1300ffa594,https://git.eclipse.org/r/#/c/1407,2,bc1f2e552408912b854ff5e278b58b4345a0d3a3,e76941e89a2f19ab47fde965a8afb246233e634f,1,26/08/10,26/08/10,2,Rename T0008_testparserev to RepositoryResolveTest,"Rename T0008_testparserev to RepositoryResolveTest

Calling it by the old numerical numbering system makes it really
hard to find the test that tests Repository.resolve(String).

Change-Id: I92d0ecbc8d66ce21bfed08888eeedf1300ffa594
Signed-off-by: Shawn O. Pearce <spearce@spearce.org>",0,0,0,0,0,0,0,0,0
1408,Ib3033f9483d9e1c66c8bb721ff48d4485bcdaef1,https://git.eclipse.org/r/#/c/1408,2,8753c52874afe4db13c986f6c6bc6899a594994b,ba8879b74de0dff8f81f4388c6133eed1411579a,1,26/08/10,26/08/10,80,Support parsing git describe style output,"Support parsing git describe style output

We now match on the -gABBREV style output created by git describe
when its describing a non-tagged commit, and resolve that back to
the full ObjectId using the abbreviation resolution feature that
we already support.

Change-Id: Ib3033f9483d9e1c66c8bb721ff48d4485bcdaef1
Signed-off-by: Shawn O. Pearce <spearce@spearce.org>",0,0,0,0,0,0,0,0,0
1409,Ie6a8be629d264d72209db894bd680c5900035cc0,https://git.eclipse.org/r/#/c/1409,2,f99fbaf2fb941282147032ffdc2029134ec3e9c6,55be5440d1710f313c3fd3463527dec765fe0563,1,26/08/10,26/08/10,50,Support parsing commit:path style blob references,"Support parsing commit:path style blob references

We can now resolve expressions that reference a path within a
commit, designating a specific revision of a specific tree or
file in the project.

Change-Id: Ie6a8be629d264d72209db894bd680c5900035cc0
Signed-off-by: Shawn O. Pearce <spearce@spearce.org>",0,0,0,0,0,0,0,0,0
1410,I7b96fa6cbefcc2364a51f336712ad361ae42df2d,https://git.eclipse.org/r/#/c/1410,2,9f5cc6e643f1d9f19fd1c58af3e37874728fe891,6e9868afe94dd0837b2b216383039f20feff0678,0,26/08/10,26/08/10,40,Cleanup and correct resolve Javadoc,"Cleanup and correct resolve Javadoc

We didn't fully cover what we support and what we don't.  It was
also a bit hard to follow the syntaxes supported.  Clean that up
by documenting it.

Change-Id: I7b96fa6cbefcc2364a51f336712ad361ae42df2d
Signed-off-by: Shawn O. Pearce <spearce@spearce.org>",0,0,0,0,0,0,0,NA,NA
1418,Ifc2e9047a45d57829fce59c66618e5de9120a5bb,https://git.eclipse.org/r/#/c/1418,1,dc1c818c5e8b88d353f40d5bd9c4afe0b83a5c51,54fbb28c45c801f97b206ea592f5cd46eabd742b,1,25/08/10,25/08/10,2,Fixed typo in DirCache documentation,"Fixed typo in DirCache documentation

Change-Id: Ifc2e9047a45d57829fce59c66618e5de9120a5bb
Signed-off-by: Benjamin Muskalla <bmuskalla@eclipsesource.com>",0,0,0,1,0,0,1,0,0
1426,I7d12cdaeaf2c83ddc11223ce0108d9bd6886e025,https://git.eclipse.org/r/#/c/1426,1,7daeea4fe455da0fbb64ba90d6cc08fdb565908c,b8001fbb7c9b1fec726d067dc3ee76f04e905d64,1,26/08/10,26/08/10,2,Fix reuse from pack file for REF_DELTA types,"Fix reuse from pack file for REF_DELTA types

We miscomputed the CRC32 checksum for a REF_DELTA type of object, by
not including the full 20 byte ObjectId of the delta base in the CRC
code we use when the delta is too large to go through our two faster
small reuse code paths.  This resulted in a corruption error during
packing, where the PackFile erroneously suspected the data was wrong
on the local filesystem and aborted writing, because the CRC didn't
match what we had read from the index.

Change-Id: I7d12cdaeaf2c83ddc11223ce0108d9bd6886e025
Signed-off-by: Shawn O. Pearce <spearce@spearce.org>",0,0,0,0,0,0,0,0,0
1427,If5a0dcbf9d14ea683d75546f104b09bb8cd8fdbb,https://git.eclipse.org/r/#/c/1427,1,b8001fbb7c9b1fec726d067dc3ee76f04e905d64,1ced09e2f83ed97ea57fc3c95a43f882efcd9e7c,1,26/08/10,26/08/10,2,Increase the default streaming threshold to 15 MiB,"Increase the default streaming threshold to 15 MiB

Applying deltas in the large streaming mode is horrifically slow.
Trying to pack icu4c is impossible because a single 11 MiB file
sits on top of a 15 MiB file though a 10 deep delta chain, which
results in this very slow inflate process.

Upping the default limit to 15 MiB lets us process this large in a
reasonable time, but its still sufficiently low enough to prevent
exploding the heap of a very large process like Eclipse or Gerrit
Code Review.

We have to revisit the streaming delta application process and do
something much smarter, like flatten the delta chain before we apply
it to the base.  But even that is ugly, I've seen a 155 MiB delta
sitting on top of a 450 MiB file to produce a 300 MiB result object.
If the chain is deep, we may have trouble flatting it down.

Change-Id: If5a0dcbf9d14ea683d75546f104b09bb8cd8fdbb
Signed-off-by: Shawn O. Pearce <spearce@spearce.org>",0,0,0,0,0,0,0,0,0
1428,I6f10ec8558d9f751d4b547fcae05af94f1c8866b,https://git.eclipse.org/r/#/c/1428,1,1ced09e2f83ed97ea57fc3c95a43f882efcd9e7c,359862aa7d62d873039777b2838b28b571d8671c,1,26/08/10,26/08/10,3,Increase temporary buffer for unit test,"Increase temporary buffer for unit test

Because we are using the large stream size, we have to be
above the STREAM_THRESHOLD constant, which I just increased.

Change-Id: I6f10ec8558d9f751d4b547fcae05af94f1c8866b
Signed-off-by: Shawn O. Pearce <spearce@spearce.org>",1,0,0,0,0,0,1,0,0
1430,Ia005986ce7b1f8e730c747abbff3c7b5b28b7aeb,https://git.eclipse.org/r/#/c/1430,1,359862aa7d62d873039777b2838b28b571d8671c,7dda4da04f70cd735391639fe58eab6f95c14f71,0,26/08/10,26/08/10,80,Use JUnit4 for tests,"Use JUnit4 for tests

We should use JUnit4 for tests. This patch updates
the MANIFEST.MF and respective launch configurations.

Signed-off-by: Chris Aniszczyk <caniszczyk@gmail.com>",0,0,0,0,0,1,1,NA,NA
1431,I26dd69d0c95e6d73f9fdf7031f3c1dbf3becbb79,https://git.eclipse.org/r/#/c/1431,1,753284228e7dcdfc87fca47810e67f756d9ea14e,b34abd03c50a66ef325a362c6e935b7714708da1,0,26/08/10,26/08/10,63,Run formatter on edited lines via save action,"Run formatter on edited lines via save action

Updates the project level settings to run the formatter
on save on only on the edited lines.

Change-Id: I26dd69d0c95e6d73f9fdf7031f3c1dbf3becbb79
Signed-off-by: Chris Aniszczyk <caniszczyk@gmail.com>",0,0,0,0,0,1,1,NA,NA
1433,I22f5751720576475e5e1e04110268f6f7fb376b1,https://git.eclipse.org/r/#/c/1433,1,9c45643e9b5bbdd00c21c4ecf88c44c2ae7bd8b0,e38351a683d1c4694567b82690905e32b67d0348,1,26/08/10,26/08/10,1,Remove unused import,"Remove unused import

Change-Id: I22f5751720576475e5e1e04110268f6f7fb376b1
Signed-off-by: Matthias Sohn <matthias.sohn@sap.com>",0,0,0,1,0,0,1,0,0
1435,I6a55ff9ba181102606a0d99ffd52392a1615a422,https://git.eclipse.org/r/#/c/1435,2,e38351a683d1c4694567b82690905e32b67d0348,3cf285ee830f201434fd3a82be163cb5fa466e45,0,27/08/10,27/08/10,3,Increase heap size for jgit tests,"Increase heap size for jgit tests

Otherwise PackFileTest.testDelta_LargeObjectChain() reproducibly
fails with OutOfMemoryError on Mac OS X 10.6.4.

Change-Id: I6a55ff9ba181102606a0d99ffd52392a1615a422
Signed-off-by: Matthias Sohn <matthias.sohn@sap.com>",0,0,0,0,0,0,0,NA,NA
1441,I66fb80b08cbcaf0f65f2db0462c546a495a160dd,https://git.eclipse.org/r/#/c/1441,1,c192cdb89d539295034c88bcac6db39d82be016f,b375c01ea0df097a07654a92f6c2b99e04be23c8,1,29/08/10,29/08/10,277,Buffer very large delta streams to reduce explosion of CPU work,"Buffer very large delta streams to reduce explosion of CPU work

Large delta streams are unpacked incrementally, but because a delta
can seek to a random position in the base to perform a copy we may
need to inflate the base repeatedly just to complete one delta.
So work around it by copying the base to a temporary file, and then
we can read from that temporary file using random seeks instead.
Its far more efficient because we now only need to inflate the
base once.

This is still really ugly because we have to dump to a temporary
file, but at least the code can successfully process a large
file without throwing OutOfMemoryError.  If speed is an
issue, the user will need to increase the JVM heap and ensure
core.streamFileThreshold is set to a higher value, so we don't use
this code path as often.

Unfortunately we lose the ""optimization"" of skipping over portions
of a delta base that we don't actually need in the final result.
This is going to cause us to inflate and write to disk useless
regions that were deleted and do not appear in the final result.
We could later improve on our code by trying to flatten delta
instruction streams before we touch the bottom base object, and
then only store the portions of the base we really need for the
final result and that appear out-of-order.  Since that is some
pretty complex code I'm punting on it for now and just doing this
simple whole-object buffering.

Because the process umask might be permitting other users to read
files we create, we put the temporary buffers into $GIT_DIR/objects.
We can reasonably assume that if a reader can read our temporary
buffer file in that directory, they can also read the base pack
file we are pulling it from and therefore its not a security breach
to expose the inflated content in a file.  This requires a reader
to have write access to the repository, but only if the file is
really big.  I'd rather err on the side of caution here and refuse
to read a very big file into /tmp than to possibly expose a secured
content because the Java 5 JVM won't let us create a protected
temporary file that only the current user can access.

Change-Id: I66fb80b08cbcaf0f65f2db0462c546a495a160dd
Signed-off-by: Shawn O. Pearce <spearce@spearce.org>",1,0,0,0,0,0,1,0,0
1442,Ibc5a302078bfc01d9ee45a4c0ab0b79b2abd185a,https://git.eclipse.org/r/#/c/1442,3,3707f21548f5a3cc70779a533809d0a646debc15,17029b9beab993e9b8ed09b9b59551968397f81e,0,30/08/10,30/08/10,518,Generate source plugin and source feature for jgit,"Generate source plugin and source feature for jgit

Change-Id: Ibc5a302078bfc01d9ee45a4c0ab0b79b2abd185a
Signed-off-by: Matthias Sohn <matthias.sohn@sap.com>",0,0,0,1,1,0,1,NA,NA
1444,I3cc91364a6747cfcb4c611a9be5258f81562f726,https://git.eclipse.org/r/#/c/1444,2,0925620538156249c46cded3b56e9f53ce0e3f6c,7ee527cb1dc9e28a107444afd1994c239d96b2ce,0,28/08/10,28/08/10,121,"Revert ""Hide Maven target directories from Eclipse""","Revert ""Hide Maven target directories from Eclipse""

This reverts commit db4c516f673e4c274e55adc27a95891c52a5aba8.

Bug: 323390
Change-Id: I3cc91364a6747cfcb4c611a9be5258f81562f726",0,0,0,0,0,0,0,NA,NA
1446,Ie6e9c6784c9f265ca3c013c6dc0e6bd29d3b7233,https://git.eclipse.org/r/#/c/1446,4,58efcb145b717b4124cb251a34825daa004dd1ac,60df12b7057ded5b3acb5428d5485e551eb5e80a,1,31/08/10,31/08/10,130,"[DRAFT] Read Index files in format ""3"".","[DRAFT] Read Index files in format ""3"".

Index files containing ""extended"" information can be read.
Extended flags are processed and available via
DirCacheEntry.isSkipWorkTree() and DirCacheEntry.isIntentToAdd()
""resolve-undo"" information is completely ignored.

[For this draft, Javadocs have not yet been adjusted, Strings
have not been extracted to JGitText.]",0,1,0,0,0,0,1,0,0
1447,I428d11412130b64fc46d7052011f5dff3d653802,https://git.eclipse.org/r/#/c/1447,5,37d3c8bdb1cb61d4ba7514cc31ab5929b7a474e0,29ae212c9de880cb35830200579808abba3adf27,1,01/09/10,01/09/10,102,"TreeWalk optionally honors Index entries' ""skipWorkTree"" flag.","TreeWalk optionally honors Index entries' ""skipWorkTree"" flag.

DirCacheIterator can be configured to signal to skip entries
for which 'skipWorkTree' flag has been set. This will only
affect Index format version ""3"".",0,1,0,0,0,0,1,0,0
1449,I9a46d73f81a785f399d3cf5a90c8c0516526e048,https://git.eclipse.org/r/#/c/1449,4,2e33b826a39b0d29dc175468bce1e0786cf0070d,7668b723084c2f2d70c546401efc76b23d9f88e5,1,30/08/10,30/08/10,16,Wait for JIT optimization before measuring diff performance,"Wait for JIT optimization before measuring diff performance

On Mac OS X MyerDiffPerformanceTest was failing since during the 
first few tests the JIT compiler is running in parallel slowing down 
the tests. When setting the JVM option -Xbatch forcing the JIT to do
its work prior to running the code this effect can be avoided. Instead
we chose to run some tests without recording prior to the recorded
tests since relying on -X JVM parameters isn't portable across JVMs.
Also improve formatting of performance readings.

Bug: 323766
Change-Id: I9a46d73f81a785f399d3cf5a90c8c0516526e048
Signed-off-by: Matthias Sohn <matthias.sohn@sap.com>",0,1,0,0,0,0,1,0,0
1450,I6266d0a449e55369d2d0a048694dca5565c5fcf3,https://git.eclipse.org/r/#/c/1450,1,0e103a49accd5b0fe5484d386891631230b2fbc5,9d9d5c28352a3a7ea1124d0afbaa054a74f0fb84,1,30/08/10,30/08/10,14,Add one more test to ReadTreeTest,"Add one more test to ReadTreeTest

Add an explicit test case to check that we don't
overwrite dirty files in case Head & Index are
equal.

Change-Id: I6266d0a449e55369d2d0a048694dca5565c5fcf3
Signed-off-by: Christian Halstrick <christian.halstrick@sap.com>",0,0,0,0,0,1,1,0,0
1452,I0a642f52def42d936869e4aaaeb6999567901001,https://git.eclipse.org/r/#/c/1452,5,a0bf616929b8f04e007723b9d4f6d250388e2502,ffb494d5835eba55a4c0f49b7a66a8a8c5c69b1d,1,01/09/10,01/09/10,38,Avoid double quotes in Git Config,"Avoid double quotes in Git Config

Currently, if a branch is created that has special chars ('#' in the bug),
Config will surround the subsection name with double quotes during
it's toText method which will result in an inavlid file after saving the
Config.

Bug: 318249
Change-Id: I0a642f52def42d936869e4aaaeb6999567901001
Signed-off-by: Mathias Kinzler <mathias.kinzler@sap.com>",0,1,0,0,0,0,1,0,0
1458,Ia5dc8d36ba65ad2552f683bb637e80b77a7d92f0,https://git.eclipse.org/r/#/c/1458,1,5b431846fc174306afe9690eb0fd89e8426fedde,f666ae645a6f9dbe49a73c5e39646e7eb96a2b02,1,30/08/10,30/08/10,4,Undo translation of protocol string 'unpack error',"Undo translation of protocol string 'unpack error'

This string is part of the network protocol, and isn't meant to
be translated into another language.  Clients actually scan for
the string ""unpack error "" off the wire and react magically to
this information.  If it were translated, they would instead have
a protocol exception, which isn't very useful when there is already
an error occurring.

Change-Id: Ia5dc8d36ba65ad2552f683bb637e80b77a7d92f0
Signed-off-by: Shawn O. Pearce <spearce@spearce.org>",1,0,0,0,0,0,1,0,0
1459,I33f12a8811cb6a4a67396174733f209db8119b42,https://git.eclipse.org/r/#/c/1459,1,f666ae645a6f9dbe49a73c5e39646e7eb96a2b02,15b02e2914c8502d6c8041436b40d7fd4c5f98f7,1,30/08/10,30/08/10,4,IndexPack: Use byte limited form of getCachedBytes,"IndexPack: Use byte limited form of getCachedBytes

Currently our algorithm requires that we have the delta base as
a contiguous byte array... but getCachedBytes() might not work
if the object is considered to be large by its underlying loader.
Use the limited form to obtain the object as a byte array instead.

Change-Id: I33f12a8811cb6a4a67396174733f209db8119b42
Signed-off-by: Shawn O. Pearce <spearce@spearce.org>",1,0,0,0,0,0,1,0,0
1460,I810c98d5691b74af9fc6cbd46fc9879e35a7bdca,https://git.eclipse.org/r/#/c/1460,1,15b02e2914c8502d6c8041436b40d7fd4c5f98f7,f4293177bf44e1c98723a5b7a4aa7010415c51b4,1,30/08/10,30/08/10,146,Improve LargeObjectException reporting,"Improve LargeObjectException reporting

Use 3 different types of LargeObjectException for the 3 major ways
that we can fail to load an object.  For each of these use a unique
string translation which describes the root cause better than just
the ObjectId.name() does.

Change-Id: I810c98d5691b74af9fc6cbd46fc9879e35a7bdca
Signed-off-by: Shawn O. Pearce <spearce@spearce.org>",1,0,0,0,0,0,1,0,0
1462,I6c6973a3397cca12bd8a6bd950d04b1766a08b4c,https://git.eclipse.org/r/#/c/1462,1,8657af0c58b2b7e7729c4556fa1aab431ba0458a,a46f0b477d12df77181f3ac9d1d16e88365d03b6,1,30/08/10,30/08/10,2,Let Resolve be the default Merge strategy,"Let Resolve be the default Merge strategy

the merge command should use by default the ""resolve"" merge strategy.

Change-Id: I6c6973a3397cca12bd8a6bd950d04b1766a08b4c
Signed-off-by: Christian Halstrick <christian.halstrick@sap.com>",1,0,0,0,0,0,1,0,0
1463,I300bfa84c5d8b5128026869b694ef5da7b0d3a4a,https://git.eclipse.org/r/#/c/1463,2,429055263e593e26ca0db7b7019ec19a5661cd75,f2c1cd982ef8ca7be66dbf57797560d48141b9f4,0,31/08/10,31/08/10,42,Fix build of JGit source bundle and feature,"Fix build of JGit source bundle and feature

Add local changes I missed to push with [1] which broke the JGit
build.

[1] http://egit.eclipse.org/r/#change,1442

Change-Id: I300bfa84c5d8b5128026869b694ef5da7b0d3a4a
Signed-off-by: Matthias Sohn <matthias.sohn@sap.com>",1,0,0,0,0,0,1,NA,NA
1465,I2eb5426aa95051e48d8feae3e90f710e6d1996ce,https://git.eclipse.org/r/#/c/1465,1,6b8087ab3094aa8b4f01ac0ec8355bf298460d0b,9fff620495216a3b9c651e0e7c101f3840763539,0,31/08/10,31/08/10,12,DirCacheEntry: UPDATE_NEEDED should be in-core flag.,"DirCacheEntry: UPDATE_NEEDED should be in-core flag.

In correspondance to CGit, UPDATE_NEEDED flag should not be
written to disk. Furthermore, it currently intersects CGit's
CE_EXTENDED flag.",0,0,0,0,0,0,0,NA,NA
1466,Iffa220de76c5e180796fa46c4d67f52a1b3b2e35,https://git.eclipse.org/r/#/c/1466,2,9fff620495216a3b9c651e0e7c101f3840763539,d361eb236d64170b876c2aa315dd2e581575b66c,1,31/08/10,31/08/10,2,Fix RawParseUtils.formatBase10 to work with negative values,Fix RawParseUtils.formatBase10 to work with negative values,0,0,0,1,0,0,1,0,0
1470,I4dc169b8ef7a66ec6b307e9a956feef906c9e15e,https://git.eclipse.org/r/#/c/1470,1,3ca82d9d4132d8ee2ff3ce00e7132296d74c4a34,64622b4b45e44969c163b819fd9c9d887f24d5b8,1,31/08/10,31/08/10,54,Improve MergeAlgorithm to produce smaller conflicts,"Improve MergeAlgorithm to produce smaller conflicts

The merge algorithm was reporting conflicts which where to big.

Example: The common base was ""ABC"", the ""ours"" version contained
""AB1C"" (the addition of ""1"" after pos 2) and the ""theirs"" version also
contained ""AB1C"". We have two potentially conflicting edits in the
same region which happen to bring in exactly the same content. This
should not be a conflict - but was previously reported as
""AB<<<1===1>>>C"".

This is fixed by checking every conflicting chunk whether the
conflicting regions have a common prefix or suffix and by removing
this regions from the conflict.

Change-Id: I4dc169b8ef7a66ec6b307e9a956feef906c9e15e
Signed-off-by: Christian Halstrick <christian.halstrick@sap.com>",0,0,0,0,0,0,0,0,0
1472,I3831de1b6df25a52df30d367f0216573e6ee6b53,https://git.eclipse.org/r/#/c/1472,1,64622b4b45e44969c163b819fd9c9d887f24d5b8,8966c377f72d9d4caba1d22c82ee5f7f7fe36283,1,31/08/10,31/08/10,24,Remove deprecated PersonIdent constructor,"Remove deprecated PersonIdent constructor

Change-Id: I3831de1b6df25a52df30d367f0216573e6ee6b53
Signed-off-by: Chris Aniszczyk <caniszczyk@gmail.com>",0,0,0,1,0,1,1,0,0
1473,I3ad3533d03990c9e84186e53b9d755784b2a3758,https://git.eclipse.org/r/#/c/1473,1,f513e07a62b1583319086e848876fc32eeca067e,4ed5f63090c06294963ef35680024ae13639b73b,1,31/08/10,31/08/10,70,Add test for RawParseUtils.formatBase10,"Add test for RawParseUtils.formatBase10

Change-Id: I3ad3533d03990c9e84186e53b9d755784b2a3758
Signed-off-by: Shawn O. Pearce <spearce@spearce.org>",1,0,0,1,0,0,1,0,0
1475,I6a05904e53bb60f96c344db33016b66f170cb9f0,https://git.eclipse.org/r/#/c/1475,1,23f3483f8a3a4669c5c3a543950eed7cac77ab63,8762d83815ffa14ccad24e245ddd2486f3126b62,1,31/08/10,31/08/10,7,"Extend DirCache test case to check ""intent to add"" flag.","Extend DirCache test case to check ""intent to add"" flag.",0,0,0,1,0,0,1,0,0
1477,Iac1781bd74fbd520dffac9d347616c3334994470,https://git.eclipse.org/r/#/c/1477,2,b63e8704040925aef5dcb291190055305d77d7da,232c3589c31e7b8aa130fd62c888eb822795bfb2,1,01/09/10,01/09/10,154,[DRAFT] Refactor Git API exceptions to a new package,"[DRAFT] Refactor Git API exceptions to a new package

Create a new 'org.eclipse.jgit.api.errors' package to contain
exceptions related to using the Git porcelain API.

Change-Id: Iac1781bd74fbd520dffac9d347616c3334994470
Signed-off-by: Chris Aniszczyk <caniszczyk@gmail.com>",0,0,0,0,0,1,1,0,0
1480,Ia46abab244cec1dfc52af861744e1e93efd8d314,https://git.eclipse.org/r/#/c/1480,1,5deeee62a0042f36472f8a3dc96b0509dd0e3aa1,8a103ed8ce4947111aec8e3c9b7353f5a88c9984,0,01/09/10,01/09/10,40,Add FS.detect() for detection of file system abstraction.,"Add FS.detect() for detection of file system abstraction.

To give the user more control on which file system abstraction
should be used on Windows, FS.detect() may be configured
to assume a Cygwin installation or nor.",0,0,0,0,0,0,0,NA,NA
1481,If92545b731ff80bff071aee9bbd852bbd187c7c5,https://git.eclipse.org/r/#/c/1481,1,5cad76925bfd2b28248c3f8aac539c95e0d23e72,713aad3480ca91f79add2af18bd7612c51534647,1,01/09/10,01/09/10,2,diff: Fix bad metaVar reference in --abbrev option,"diff: Fix bad metaVar reference in --abbrev option

Change-Id: If92545b731ff80bff071aee9bbd852bbd187c7c5
Signed-off-by: Shawn O. Pearce <spearce@spearce.org>",1,0,0,1,0,0,1,0,0
1482,I74467c9a53dc270ef8c84e7c75f388414ec8ba8f,https://git.eclipse.org/r/#/c/1482,1,713aad3480ca91f79add2af18bd7612c51534647,e8d74828024c578bd025b12aa2d35ec7d47df971,1,01/09/10,01/09/10,2,Correct Javadoc of DiffFormatter class,"Correct Javadoc of DiffFormatter class

This class does a lot more than just reflow a patch script, it now is
the primary means of creating a diff output.

Change-Id: I74467c9a53dc270ef8c84e7c75f388414ec8ba8f
Signed-off-by: Shawn O. Pearce <spearce@spearce.org>",1,0,0,0,0,0,1,0,0
1483,I49a007e97ba52faa6b89f7e4b1eec85dccac0fa4,https://git.eclipse.org/r/#/c/1483,1,e8d74828024c578bd025b12aa2d35ec7d47df971,d741a130a5f82cca886985b49500c00f77ebeb15,1,01/09/10,01/09/10,6,Move DiffFormatter default initialization to fields,"Move DiffFormatter default initialization to fields

Other fields in this class are initialized in their declaration, make
the code consistent with itself and use only one style.

Change-Id: I49a007e97ba52faa6b89f7e4b1eec85dccac0fa4
Signed-off-by: Shawn O. Pearce <spearce@spearce.org>",1,0,0,0,0,0,1,0,0
1484,Id14a527a74ee0bd7e07f46fdec760c22b02d5bdf,https://git.eclipse.org/r/#/c/1484,1,d741a130a5f82cca886985b49500c00f77ebeb15,c40dbef46a4182091422f5eed54005bfe77d54df,1,02/09/10,02/09/10,56,Remove duplicated code in DiffFormatter,"Remove duplicated code in DiffFormatter

Instead of trying to stream out the header, we can drop a redundant
code path by formatting the header into a temporary buffer and then
streaming out the actual line differences later.

Its a small amount of unnecessary work to buffer the file header,
but these are typically very tiny so the cost to format and reparse
is relatively low.

Change-Id: Id14a527a74ee0bd7e07f46fdec760c22b02d5bdf
Signed-off-by: Shawn O. Pearce <spearce@spearce.org>",0,0,0,0,0,0,0,0,0
1485,Ic46892dea935ee8bdee29088aab96307d7ec6d3d,https://git.eclipse.org/r/#/c/1485,1,c40dbef46a4182091422f5eed54005bfe77d54df,8d24588721cf708af27b2f5321de62d2de072079,1,02/09/10,02/09/10,319,Correct diff header formatting,"Correct diff header formatting

When adding or deleting a file, we shouldn't ever prefix /dev/null
with the a/ or b/ prefixes.  Doing so is a mistake and confuses a
patch parser which handles /dev/null magically, while a/dev/null is
a file called null in the dev directory of the project.

Also when adding or deleting the ""diff --git"" line has the ""real""
path on both sides, so we should see the following when adding the
file called foo:

  diff --git a/foo b/foo
  --- /dev/null
  +++ b/foo

The --- and +++ lines do not appear in a pure rename or copy delta,
C Git diff seems to omit these, so we now omit them as well.  We also
omit the index line when the ObjectIds are exactly equal.

Change-Id: Ic46892dea935ee8bdee29088aab96307d7ec6d3d
Signed-off-by: Shawn O. Pearce <spearce@spearce.org>",0,0,0,0,0,0,0,1,1
1486,I69553c9ef96db7f2058c6210657f1181ce882335,https://git.eclipse.org/r/#/c/1486,1,8d24588721cf708af27b2f5321de62d2de072079,c6ecfab0e41a3abddfe44395a335e8a06f24cc2f,1,02/09/10,02/09/10,113,Improve DiffFormatter text file access,"Improve DiffFormatter text file access

When we are asked to create a difference between two files the caller
really wants to see that output.  Instead of punting because a file
is too big to process, consider it to be binary.  This reduces the
accuracy of our output display, but makes it a lot more likely that
the formatter can still generate something semi-useful.

We set our default binary threshold to 50 MiB, which is the same
threshold that PackWriter uses before punting and deciding a file
is too big to delta compress.  Anything under this size we try to
load and process, anything over that size (or that won't allocate
in the heap) gets tagged as binary.

Change-Id: I69553c9ef96db7f2058c6210657f1181ce882335
Signed-off-by: Shawn O. Pearce <spearce@spearce.org>",0,0,0,0,0,0,0,1,1
1487,Ia26e6c852fdac8a0e9c80ac72c8cca9d897463f4,https://git.eclipse.org/r/#/c/1487,1,c6ecfab0e41a3abddfe44395a335e8a06f24cc2f,7f336038379f25a791db61231bcdc5676e551348,1,02/09/10,02/09/10,45,Add reset() to AbstractTreeIterator API,"Add reset() to AbstractTreeIterator API

This allows callers to force the iterator back to its starting point,
so it can be traversed again.  The default way to do this is to use
back(1) until first() is true, but this isn't very efficient for any
iterator.  All current implementations have better ways to implement
reset without needing to seek backwards.

Change-Id: Ia26e6c852fdac8a0e9c80ac72c8cca9d897463f4
Signed-off-by: Shawn O. Pearce <spearce@spearce.org>",0,0,0,0,0,0,0,1,1
1488,I4b54e987bb6dc804fb270cbc495fe4cae26c7b0e,https://git.eclipse.org/r/#/c/1488,2,7f336038379f25a791db61231bcdc5676e551348,cdec236822834f67bb80e6b234a2ded53225087f,1,02/09/10,02/09/10,588,"Move rename detection, path following into DiffFormatter","Move rename detection, path following into DiffFormatter

Applications just want a quick way to configure our diff
implementation, and then just want to use it without a lot of fuss.

Move all of the rename detection logic and path following logic
out of our pgm package and into DiffFormatter itself, making it
much easier for a GUI to take advantage of the features without
duplicating a lot of code.

Change-Id: I4b54e987bb6dc804fb270cbc495fe4cae26c7b0e
Signed-off-by: Shawn O. Pearce <spearce@spearce.org>",0,0,0,0,1,0,1,0,0
1489,I0c7154a51143d56362f12ee4fa93133778d3a9eb,https://git.eclipse.org/r/#/c/1489,2,0f414a169ffb0d9f74477ce8d96a0c1ef29c0991,375582407e5452c72e87cc84ed7bb8fb2ebeb5be,1,02/09/10,02/09/10,35,"log, diff: Add --src-prefix, --dst-prefix, --no-prefix","log, diff: Add --src-prefix, --dst-prefix, --no-prefix

Change-Id: I0c7154a51143d56362f12ee4fa93133778d3a9eb
Signed-off-by: Shawn O. Pearce <spearce@spearce.org>",0,0,0,1,0,0,1,0,0
1490,I695f7fafbeb452e8c0703a05c02921fae0822d3f,https://git.eclipse.org/r/#/c/1490,2,f6f9c110cd9e0c2e765d8fa3bf01269bfc80e855,d4f68c6f5f5eeec50ba41664e1f71b3d3ececd05,1,02/09/10,02/09/10,38,Fix TreeWalk bug comparing DirCache and WorkingTree with ANY_DIFF,"Fix TreeWalk bug comparing DirCache and WorkingTree with ANY_DIFF

When comparing a DirCache and a WorkingTree using ANY_DIFF we
sometimes didn't recursive into a subtree of both sides gave us
zeroId() back for the identity of a subtree.  This happens when the
DirCache doesn't have a valid cache tree for the subtree, as then
it uses zeroId() for the ObjectId of the subtree, which then appears
to be equal to the zeroId() of the WorkingTreeIterator's subtree.

We work around this by adding a hasId() method that returns true
only if this iterator has a valid ObjectId.  The idEquals method
on TreeWalk than only performs a compare between two iterators if
both iterators have a valid id.

Change-Id: I695f7fafbeb452e8c0703a05c02921fae0822d3f
Signed-off-by: Shawn O. Pearce <spearce@spearce.org>",0,0,0,0,0,0,0,0,0
1491,I4c0598afe48d8f99257266bf447a0ecd23ca7f5e,https://git.eclipse.org/r/#/c/1491,2,09419a3a87aa76e343591fd1efe9af5d5954ee9b,3902e29af8691f8ea1d2bf4c050fcb51831f5790,1,02/09/10,02/09/10,512,Support creating the working directory difference,"Support creating the working directory difference

If the iterators passed into a diff formatter are working tree
iterators, we should enable ignoring files that are ignored, as
well as actually pull up the current content from the working tree
rather than getting it from the repository.

Because we abstract away the working directory access logic,
we can now actually support rename detection between the working
directory and the local repository when using a DiffFormatter.
This means its possible for an application to show an unstaged
delete-add pair as a rename if the add path is not ignored.
(Because the ignored file wouldn't show up in our difference output.)

Even more interesting is we can now do rename detection between any
two working trees, if both input iterators are WorkingTreeIterators.

Unfortunately we don't (yet) optimize for comparing the working
tree with the index involved so we can take advantage of cached
stat data to rule out non-dirty paths.

Change-Id: I4c0598afe48d8f99257266bf447a0ecd23ca7f5e
Signed-off-by: Shawn O. Pearce <spearce@spearce.org>",0,0,0,0,1,0,1,0,0
1492,I2f19dad4e018404e280ea3e95ebd448a4b667f59,https://git.eclipse.org/r/#/c/1492,2,cb48f0b9e90445cc2b134ca0b6f2655632f5d92b,03cbbe098a391b791e20452121e22192bd296b38,1,02/09/10,02/09/10,41,"diff: Default arguments to HEAD, working directory","diff: Default arguments to HEAD, working directory

Similar to C Git, default our difference when no trees are given
to us to something that makes a tiny bit of sense to the human.

We also now support the --cached flag, and have its meaning work the
same way as C Git.

Change-Id: I2f19dad4e018404e280ea3e95ebd448a4b667f59
Signed-off-by: Shawn O. Pearce <spearce@spearce.org>",0,0,0,0,0,0,0,1,1
1493,If2c15235daa3e2d1f7167e781aa83fedb5af9a30,https://git.eclipse.org/r/#/c/1493,3,42618d44baea7cc790da61047c74d1a8e7a16b83,f6d2f83ba0a5bd0a4786808344d457442d06e261,1,06/09/10,06/09/10,30,Use 5 MiB for RevWalk default limit,"Use 5 MiB for RevWalk default limit

Instead of getting the limit from CoreConfig, use the larger of the
reader's limit or 5 MiB, under the assumption that any annotated tag
or commit of interest should be under 5 MiB.  But if a repository
was really insane and had bigger objects, the reader implementation
can set its streaming limit higher in order to allow RevWalk to
still process it.

Change-Id: If2c15235daa3e2d1f7167e781aa83fedb5af9a30
Signed-off-by: Shawn O. Pearce <spearce@spearce.org>",0,0,0,0,0,0,0,0,0
1494,I22eafb3e223bf8dea57ece82cd5df8bfe5badebc,https://git.eclipse.org/r/#/c/1494,3,b6ae04ea26f441912abb8d968a8c65e8f47e708b,6872548a3a20d6f391cebae81fa05674d8e918c5,1,02/09/10,02/09/10,65,Move ObjectDirectory streaming limit to WindowCacheConfig,"Move ObjectDirectory streaming limit to WindowCacheConfig

IDEs like Eclipse offer up the settings in WindowCacheConfig to the
user as a global set of options that are configured for the entire
JVM process, not per-repository, as the cache is shared across the
entire JVM.  The limit on how much we are willing to allocate for
an object buffer is similar to the limit on how much we can use for
data caches, allocating that much space impacts the entire JVM and
not just a single repository, so it should be a global limit.

Change-Id: I22eafb3e223bf8dea57ece82cd5df8bfe5badebc
Signed-off-by: Shawn O. Pearce <spearce@spearce.org>",0,0,0,0,0,0,0,0,0
1495,Iad433a1fa6b395dc1acb455aca268b9ce2f1d41b,https://git.eclipse.org/r/#/c/1495,1,bbbd0a5ab75fcfff7f5392f7f053a59c95692269,cf34939e708bdb8844d10a80bda8da37a2745c08,1,02/09/10,02/09/10,24,Add toString and improve Javadoc of NotIgnoredFilter,"Add toString and improve Javadoc of NotIgnoredFilter

Today while debugging some TreeWalk related code I noticed this
filter did not have a toString(), making it harder to see what the
filter graph was at a glance in the debugger.  Add a toString()
for debugging to match other TreeFilters, and clean up the Javadoc
slightly so its a bit more clear about the purpose of the filter.

While we are mucking about with some of this code, simplify
the logic of include so its shorter and thus faster to read.
The pattern now more closely matches that of SkipWorkTreeFilter.

Change-Id: Iad433a1fa6b395dc1acb455aca268b9ce2f1d41b
Signed-off-by: Shawn O. Pearce <spearce@spearce.org>",0,0,0,0,0,0,0,0,0
1498,I5c8c592514692a8abff51e5928aedcf71e100365,https://git.eclipse.org/r/#/c/1498,1,421efae09b3a9a2b6a5c1c87738845ac5d9b1626,0a7e3fdc3af7c9bb6b571feb7ef98eb3d2e14003,1,02/09/10,02/09/10,20,Use int[] rather than IntList for RawText hashes,"Use int[] rather than IntList for RawText hashes

We know exactly how many lines we need by the time we compute our
per-line hashes, as we have already built the lines IntList to give
us the starting position of each line in the buffer.  Using that
we can properly size the array, and don't need the dynamic growing
feature of IntList.  So drop the indirection and just use a fixed
size array.

Change-Id: I5c8c592514692a8abff51e5928aedcf71e100365
Signed-off-by: Shawn O. Pearce <spearce@spearce.org>",0,0,0,0,0,0,0,0,0
1499,Ic7a76df2861ea6c569ab9756a62018987912bd13,https://git.eclipse.org/r/#/c/1499,10,0a7e3fdc3af7c9bb6b571feb7ef98eb3d2e14003,fa53474973d67b991042abc5dea34bf956c1185b,1,21/09/10,21/09/10,925,Implement Bram Cohen's Patience Diff,"Implement Bram Cohen's Patience Diff

Change-Id: Ic7a76df2861ea6c569ab9756a62018987912bd13
Signed-off-by: Shawn O. Pearce <spearce@spearce.org>",0,1,0,1,1,0,1,3,1
1500,I2e346ef5c99ed1347ec0345b44cda0bc29d03e90,https://git.eclipse.org/r/#/c/1500,1,21ba66b1a1203b57cb359797e54234e94a6dadef,d2406c18496565f8ba4cf0bc8b50d252d6447679,1,02/09/10,02/09/10,7,Adding sorting to LongList,"Adding sorting to LongList

Sorting the array can be useful when its being used as a map of pairs
that are appended into the array and then later merge-joined against
another array of similar semantics.

Change-Id: I2e346ef5c99ed1347ec0345b44cda0bc29d03e90
Signed-off-by: Shawn O. Pearce <spearce@spearce.org>",0,0,0,0,0,0,0,0,0
1501,Id63d6476a7a6b23acb7ab237d414a0a1a7200290,https://git.eclipse.org/r/#/c/1501,3,d2406c18496565f8ba4cf0bc8b50d252d6447679,f909cdd8d33bcefaceb2ed5f86c041c9ec694dbd,1,06/09/10,06/09/10,66,Add helper methods to Edit,"Add helper methods to Edit

Exposing isEmpty, getLengthA, getLengthB make it easier to examine
the state of an edit and work with it from higher level code.

The before and after cut routines make it easy to split an edit that
contains another edit, such as to decompose a REPLACE that contains
a common sequence within it.

Change-Id: Id63d6476a7a6b23acb7ab237d414a0a1a7200290
Signed-off-by: Shawn O. Pearce <spearce@spearce.org>",0,0,0,0,0,0,0,0,0
1502,I559f494d81cdc6f06bfb4208f60780c0ae251df9,https://git.eclipse.org/r/#/c/1502,6,a72ee7294032b3c3fddac7cb4f662be773aaa595,d1e4ef2952b57893331a4ddbdf11864a22d57262,1,07/09/10,07/09/10,1361,Refactor diff sequence API,"Refactor diff sequence API

Instead of making the sequence itself responsible for the equivalence
function, use an external function that is supplied by the caller.
This cleans up the code because we now say cmp.equals(a, ai, b, bi)
instead of a.equals(ai, b, bi).

This refactoring also removes the odd concept of creating different
types of sequences to have different behaviors for whitespace
ignoring.  Instead DiffComparator now supports singleton functions
that apply a particular equivalence algorithm to a type of sequence.

Change-Id: I559f494d81cdc6f06bfb4208f60780c0ae251df9
Signed-off-by: Shawn O. Pearce <spearce@spearce.org>",0,1,0,0,1,0,1,4,1
1509,I1512145bbd831bb9734528ce8b71b1701e3e6aa9,https://git.eclipse.org/r/#/c/1509,1,4c2c6ea08c51d9f025a76cfdf69829fbd3cd957a,c8720ea93bc4d09f96ae0b9ec9a2256ff06a7c05,1,06/09/10,06/09/10,4,Fix RepositoryState.MERGING,"Fix RepositoryState.MERGING

canResetHead now returns true.
Resetting mixed / hard works in EGit in merging state.

Change-Id: I1512145bbd831bb9734528ce8b71b1701e3e6aa9
Signed-off-by: Jens Baumgart <jens.baumgart@sap.com>",0,0,0,0,0,0,0,0,0
1511,I62a04cc513a6d28c300d1c1496a8608d5df4efa6,https://git.eclipse.org/r/#/c/1511,2,e26921ff96f23ba96f768a0b10f429c1875d44cf,d50604ce1af314ff8545e3f7a142bf1562aa1a6b,1,07/09/10,07/09/10,19,Reduce compares in Edit.getType,"Reduce compares in Edit.getType

We can slightly optimize this method by removing some compares
based on knowledge of how the orderings have to work.  This way
a getType() invocation requires at most 2 int compares for any
result, vs. the 6 required to find REPLACE before.

Change-Id: I62a04cc513a6d28c300d1c1496a8608d5df4efa6
Signed-off-by: Shawn O. Pearce <spearce@spearce.org>",0,0,0,0,0,0,0,0,0
1524,Icad41148bbc0c76f284c7033a195a6b51911beab,https://git.eclipse.org/r/#/c/1524,1,91316033b1d763bcbc526109e69fa51500233127,549501cbe62dac9063ad89e59fd98305f3656b2a,1,03/09/10,03/09/10,128,ReceivePack: Rethrow exceptions caught during indexing,"ReceivePack: Rethrow exceptions caught during indexing

If we get an exception while indexing the incoming pack, its likely
a stream corruption.  We already report an error to the client, but
we eat the stack trace, which makes debugging issues related to a
bug inside of JGit nearly impossible.  Rethrow it under a new type
UnpackException, so embedding servers or applications can catch the
error and provide it to a human who might be able to forward such
traces onto a JGit developer for evaluation.

Change-Id: Icad41148bbc0c76f284c7033a195a6b51911beab
Signed-off-by: Shawn O. Pearce <spearce@spearce.org>",1,0,0,0,0,0,1,0,0
1525,I0d0239d69cb5cd1a622bdee879978f0299e0ca40,https://git.eclipse.org/r/#/c/1525,1,779f81975078e8fe5ffa9dc21801d37992d34977,f7e3bf7da96d27cf31e5b63efeb2f8fbc845a86d,0,03/09/10,03/09/10,0,Merge branch 'unpack-error',"Merge branch 'unpack-error'

* unpack-error:
  ReceivePack: Rethrow exceptions caught during indexing

Change-Id: I0d0239d69cb5cd1a622bdee879978f0299e0ca40",1,0,0,0,0,0,1,NA,NA
1527,I4d21d8e5c7da0d7df9792c01ce719548fa2df16b,https://git.eclipse.org/r/#/c/1527,1,f7e3bf7da96d27cf31e5b63efeb2f8fbc845a86d,8a283508bf9f37bcd9c7177ffaf1385938b807be,1,03/09/10,03/09/10,3,Remove costly quoting test in DiffFormatter,"Remove costly quoting test in DiffFormatter

QuotedString.GIT_PATH returns the input reference exactly if
the string does not require quoting, otherwise it returns a
copy that contains the quotes on either end, plus escapes in
the middle where necessary to meet conventions.

Testing the return against '""' + name + '""' is always false,
because GIT_PATH will never return it that way.  The only way
we have quotes on either end is if there is an escape in the
middle, in which case the string isn't equal anyway.

Change-Id: I4d21d8e5c7da0d7df9792c01ce719548fa2df16b
Signed-off-by: Shawn O. Pearce <spearce@spearce.org>",1,0,0,0,0,0,1,0,0
1528,I3a849a0d318e69b654f03fd559f5d7f99dd63e5c,https://git.eclipse.org/r/#/c/1528,1,8a283508bf9f37bcd9c7177ffaf1385938b807be,04bf92e7333fcc5533b421832bd27416065f072c,1,03/09/10,03/09/10,19,Fix QuotedString.GIT_PATH escaping rules,"Fix QuotedString.GIT_PATH escaping rules

We shouldn't escape non-special ASCII characters such as '@' or '~'.
These are valid in a path name on POSIX systems, and may appear as
part of a path in a GNU or Git style patch script.  Escaping them
into octal just obfuscates the user's intent, with no gain.

When parsing an escaped octal sequence, we must parse no more
than 3 digits.  That is, ""\1002"" is actually ""@2"", not the Unicode
character \u0202.

Change-Id: I3a849a0d318e69b654f03fd559f5d7f99dd63e5c
Signed-off-by: Shawn O. Pearce <spearce@spearce.org>",1,0,0,0,0,0,1,0,0
1529,I6cefab8d40e9d40c937e9deb12911188fec41b26,https://git.eclipse.org/r/#/c/1529,1,04bf92e7333fcc5533b421832bd27416065f072c,ce39bbbd6b26a14c226c7eeb0342a9f5532dd848,1,06/09/10,06/09/10,2,log: Fix commit headers and -p flag,"log: Fix commit headers and -p flag

We weren't flushing the commit message before the diff output, which
meant the headers and message showed randomly interleaved with the
diff rather than immediately before.

Change-Id: I6cefab8d40e9d40c937e9deb12911188fec41b26
Signed-off-by: Shawn O. Pearce <spearce@spearce.org>",1,0,0,0,0,0,1,0,0
1534,I1b239b587e1cc811bbd6e1513b07dc93a891a842,https://git.eclipse.org/r/#/c/1534,2,8512dd8456021f15c7ad873de8b56b469b646765,c3140a90f7711cf75402c16aa7766317d278036e,1,06/09/10,06/09/10,2,cleanup: Remove unnecessary @SuppressWarnings,"cleanup: Remove unnecessary @SuppressWarnings

Change-Id: I1b239b587e1cc811bbd6e1513b07dc93a891a842
Signed-off-by: Robin Rosenberg <robin.rosenberg@dewire.com>",0,0,0,1,0,0,1,0,0
1542,I69d53f273b870b841ced2be2e9debdfd987d98f4,https://git.eclipse.org/r/#/c/1542,1,962be8369f5c1819d319f47c46b01a4eb5d9dd6a,fb213bc70af44a6559f88a2212f47855423a3b8e,1,06/09/10,06/09/10,2,Use 8192 as default buffer size in ObjectLoader copyTo,"Use 8192 as default buffer size in ObjectLoader copyTo

As ObjectStreams are supposed to be buffered, most implementors will
be wrapping their underlying stream inside of a BufferedInputStream
in order to satisfy this requirement.  Because developers are by
nature lazy, they will use the default buffer size rather than
specify their own.

The OpenJDk JRE implementations use 8192 as the default buffer
size, and when the higher level reader uses the same buffer size
the buffers ""stack"" nicely by avoiding a copy to the internal
buffer array.  As OpenJDK is a popular virtual machine, we should
try to benefit from this nice stacking property during copyTo().

Change-Id: I69d53f273b870b841ced2be2e9debdfd987d98f4
Signed-off-by: Shawn O. Pearce <spearce@spearce.org>",1,0,0,0,0,0,1,0,0
1543,I240a3f722a3eda1ce8ef5db93b380e3bceb1e201,https://git.eclipse.org/r/#/c/1543,1,fb213bc70af44a6559f88a2212f47855423a3b8e,2d540760d3c9befe9ee5227932c2e12fdaeee970,1,06/09/10,06/09/10,23,DeltaStream: Fix data corruption when reading large copies,"DeltaStream: Fix data corruption when reading large copies

If the copy instruction was larger than the input buffer given to us,
we copied the wrong part of the base stream during the next read().

This occurred on really big binary files where a copy instruction
of 64k wasn't unreasonable, but the caller's buffer was only 8192
bytes long.  We copied the first 8192 bytes correctly, but then
reseeked the base stream back to the start of the copy region on
the second read of 8192 bytes.  Instead of a sequence like ABCD
being read into the caller, we read AAAA.

Change-Id: I240a3f722a3eda1ce8ef5db93b380e3bceb1e201
Signed-off-by: Shawn O. Pearce <spearce@spearce.org>",1,0,0,0,0,0,1,0,0
1544,I378920409b6acf04a35cdf24f81567b1ce030e36,https://git.eclipse.org/r/#/c/1544,1,2d540760d3c9befe9ee5227932c2e12fdaeee970,02ea1a5d2f1c68cf0f4d25c3b963739a66e46178,1,06/09/10,06/09/10,2,Discard object bodies when checking connectivity,"Discard object bodies when checking connectivity

Since we are only checking the links between objects we don't need
to hold onto commit messages after their headers have been parsed
by the walker.  Dropping them saves a bit of memory, which is always
good when accepting huge pack files.

Change-Id: I378920409b6acf04a35cdf24f81567b1ce030e36
Signed-off-by: Shawn O. Pearce <spearce@spearce.org>",1,0,0,0,0,0,1,0,0
1545,I14d0a326deb62a43f987b375cfe519711031e172,https://git.eclipse.org/r/#/c/1545,1,02ea1a5d2f1c68cf0f4d25c3b963739a66e46178,1f8f90fdbf97bd79881f1bcc99e7ccad18a483a5,1,06/09/10,06/09/10,48,Fix checkReferencedIsReachable to use correct base list,"Fix checkReferencedIsReachable to use correct base list

When checkReferencedIsReachable is set in ReceivePack we are trying
to prove that the push client is permitted to access an object that
it did not send to us, but that the received objects link to either
via a link inside of an object (e.g. commit parent pointer or tree
member) or by a delta base reference.

To do this check we are making a list of every potential delta base,
and then ensuring that every delta base used appears on this list.
If a delta base does not appear on this list, we abort with an error,
letting the client know we are missing a particular object.

Preventing spurious errors about missing delta base objects requires
us to use the exact same list of potential delta bases as the remote
push client used.  This means we must use TOPO ordering, and we
need to enable BOUNDARY sorting so that ObjectWalk will correctly
include any trees found during the enumeration back to the common
merge base between the interesting and uninteresting heads.

To ensure JGit's own push client matches this same potential delta
base list, we need to undo 60aae90d4d15 (""Disable topological
sorting in PackWriter"") and switch back to using the conventional
TOPO ordering for commits in a pack file.  This ensures that our
own push client will use the same potential base object list as
checkReferencedIsReachable uses on the receiving side.

Change-Id: I14d0a326deb62a43f987b375cfe519711031e172
Signed-off-by: Shawn O. Pearce <spearce@spearce.org>",1,0,0,0,0,0,1,0,0
1547,Id35ef478d5fa20fe10a1ba297f9436fd7adde9ce,https://git.eclipse.org/r/#/c/1547,2,2ad735252ca1209aeb3c19888ed6c58bb5203e85,5f09e15e930fba31fbd8a2d18e37625ccdfb89b2,1,17/09/10,17/09/10,131,Define DiffAlgorithm as an abstract function,"Define DiffAlgorithm as an abstract function

This makes it easier to parametrize DiffFormatter with a different
implementation, as we later plan to add PatienceDiff to JGit.

Change-Id: Id35ef478d5fa20fe10a1ba297f9436fd7adde9ce
Signed-off-by: Shawn O. Pearce <spearce@spearce.org>",0,0,0,0,0,0,0,0,0
1548,I4544467781233e21ac8b35081304b2bad7db00f6,https://git.eclipse.org/r/#/c/1548,2,3982893c713db6518b289bd190d16a8ec5664088,874d956b458b1d8a97fe94b158dc2196120c2c14,1,17/09/10,17/09/10,167,Define a subsequence utility type,"Define a subsequence utility type

A diff algorithm may find this type useful if it wants to delegate a
particular range of elements to another algorithm, without changing
the underlying sequence types.

Change-Id: I4544467781233e21ac8b35081304b2bad7db00f6
Signed-off-by: Shawn O. Pearce <spearce@spearce.org>",0,0,0,0,0,0,0,0,0
1550,Idd95664fd4e3bca03211e4ffda3e354849f92a35,https://git.eclipse.org/r/#/c/1550,7,e9c1b524bebd7a90b699f408485ed7075b0b3845,16dc7c551e7ff874d2b3844e5009c27619d4c631,1,17/09/10,17/09/10,435,Add FetchCommand,"Add FetchCommand

Adds API for performing git fetch operations.

Change-Id: Idd95664fd4e3bca03211e4ffda3e354849f92a35
Signed-off-by: Chris Aniszczyk <caniszczyk@gmail.com>",0,1,0,0,0,1,1,0,0
1552,I81b9e33087a33d2ef2eac89ba93b9e83b7ecc223,https://git.eclipse.org/r/#/c/1552,1,6a0f082f685e2a9f0ab34c70014fd52c7a26fc3c,1e1a6d48cc71d3daa0fbd76ab8bc16662f37c44d,1,08/09/10,08/09/10,198,Support core.autocrlf = input,"Support core.autocrlf = input

The core.autocrlf variable can take on three values: false, true,
and input.  Parsing it as a boolean is wrong, we instead need to
parse a tri-state enumeration.

Add support for parsing and setting enum values from Java from and
to the text based configuration file, and use that to handle the
autocrlf variable.

Bug: 301775
Change-Id: I81b9e33087a33d2ef2eac89ba93b9e83b7ecc223
Signed-off-by: Shawn O. Pearce <spearce@spearce.org>",0,0,0,0,0,0,0,1,1
1554,I121f356cf4eca7b80126497264eac22bd5825a1d,https://git.eclipse.org/r/#/c/1554,1,1e1a6d48cc71d3daa0fbd76ab8bc16662f37c44d,0f719fec76becd5db4f49924af088440804217b7,1,09/09/10,09/09/10,24,Correctly name DeltaBaseCache,"Correctly name DeltaBaseCache

This class is used only to cache the unpacked form of an object that
was used as a base for another object.  The theory goes that if an
object is used as a delta base for A, it will probably also be a
delta base for B, C, D, E, etc. and therefore having an unpacked copy
of it on hand will make delta resolution for the others very fast.

However since objects are usually only accessed once, we don't want
to cache everything we unpack, just things that we are likely to
need again.  The only things we need again are the delta bases.
Hence, its a delta base cache.

This gets us the class name UnpackedObjectCache back, so we can
use it to actually create a cache of unpacked object information.

Change-Id: I121f356cf4eca7b80126497264eac22bd5825a1d
Signed-off-by: Shawn O. Pearce <spearce@spearce.org>",0,0,0,0,0,0,0,0,0
1555,I18f483217412b102f754ffd496c87061d592e535,https://git.eclipse.org/r/#/c/1555,3,0f719fec76becd5db4f49924af088440804217b7,b7d453c7e93499e6af2dea418eb465dd43fd5ff7,1,09/09/10,09/09/10,178,Remember loose objects and fast-track their lookup,"Remember loose objects and fast-track their lookup

Recently created objects are usually what branches point to, and
are usually written out as loose objects.  But due to the high cost
of asking the operating system if a file exists, these are the last
thing that ObjectDirectory examines when looking for an object by
its ObjectId.

Caching recently seen loose objects permits the opening code to
jump directly to the loose object, accelerating lookup for branch
heads that are accessed often.

To avoid exploding the cache its limited to approximately 2048
entries.  When more ids are added, the table is simply cleared
and reset in size.

Change-Id: I18f483217412b102f754ffd496c87061d592e535
Signed-off-by: Shawn O. Pearce <spearce@spearce.org>",0,0,0,0,0,0,0,0,0
1556,I3668a3967c807010f48cd69f994dcbaaf582337c,https://git.eclipse.org/r/#/c/1556,4,1ae5b0dbb259d3324b32a56d58edda34b4dbacbe,0c221bfb2d9bfb39822de4a59b60979b7a08bfa6,1,09/09/10,09/09/10,166,Unpack and cache large deltas as loose objects,"Unpack and cache large deltas as loose objects

Instead of spooling large delta bases into temporary files and then
immediately deleting them afterwards, spool the large delta out to
a normal loose object.  Later any requests for that large delta can
be answered by reading from the loose object, which is much easier
to stream efficiently for readers.

Since the object is now duplicated, once in the pack as a delta and
again as a loose object, a `git prune-packed` will automatically
delete the loose object variant, releasing the wasted disk space.

As prune-packed is run automatically during repack and gc, and gc
--auto triggers automatically based on the number of loose objects,
we get automatic cache management almost for free.  Large objects
that were unpacked will be periodically cleared out, and will simply
be restored later if they are needed again.

After a short offline discussion with Junio Hamano today, we might
later want to propose a change to prune-packed to hold onto larger
loose objects which also exist in pack files as deltas if the loose
object was recently accessed in the last 2 days.

Change-Id: I3668a3967c807010f48cd69f994dcbaaf582337c
Signed-off-by: Shawn O. Pearce <spearce@spearce.org>",0,1,0,0,0,0,1,0,0
1557,I4dea84428d48b3de0e187c510b766f965323b21b,https://git.eclipse.org/r/#/c/1557,4,ae8f9b966de555e76234b83b131a95fe3d176ee1,4f6c227e26ffabbfe01311ff089f0b271b8ba4fc,1,10/02/12,17/07/12,323,show: Implement command line show for any object,"show: Implement command line show for any object

Change-Id: I4dea84428d48b3de0e187c510b766f965323b21b
Signed-off-by: Shawn O. Pearce <spearce@spearce.org>",0,1,1,1,0,0,1,1,1
1567,I86b693b2158cb38e60e3090ee1a0f7af4c56a886,https://git.eclipse.org/r/#/c/1567,1,17c59e89b22b82bc283ce7d8dc038259116678fa,52752f9a362250188aabc4c6f7e99ab9dcbda49f,0,08/09/10,08/09/10,5,Update .eclipse_iplog for 0.9,"Update .eclipse_iplog for 0.9

Signed-off-by: Matthias Sohn <matthias.sohn@sap.com>",0,0,0,0,0,0,0,NA,NA
1575,Ib74de0450a1c602b22884e19d994ce2f52634c77,https://git.eclipse.org/r/#/c/1575,2,b5c5f9741b951ab696a268250209936092abe42e,0a36ae12111a8777554b543f70e71b3bf0af3a34,1,10/09/10,10/09/10,17,Allow ../relative paths in remotes,"Allow ../relative paths in remotes

git allows remotes to be relative paths, but the regex
validating urls wouldn't accept anything starting with "".."".
Other functionality works fine with these paths.

Bug: 311300",0,0,0,0,0,0,0,0,0
1580,I267b97ecccb5251cec54cec90207e075ab50503e,https://git.eclipse.org/r/#/c/1580,5,0883703337c7e2d17a3e2f27882ca0f9df50ad81,ceff2c6d11f205cfd9cc0670f105710289d3f467,1,14/09/10,14/09/10,400,Fix PlotCommitList to set lanes on child-less commits,"Fix PlotCommitList to set lanes on child-less commits

In PlotCommitList.enter() commits are positioned on lanes for visual
presentation. This implementation was buggy: commits without
children (often the starting points for the RevWalk) are not positioned
on separate lanes.

The problem was that when handling commits with multiple children (thats
where branches fork out) it was not handled that some of the children
may not have been positioned on a lane yet. I fixed that and added a number
of tests which specifically test the layout of commits on lanes.

Bug: 300282
Bug: 320263
Change-Id: I267b97ecccb5251cec54cec90207e075ab50503e
Signed-off-by: Christian Halstrick <christian.halstrick@sap.com>
Signed-off-by: Matthias Sohn <matthias.sohn@sap.com>",0,1,0,0,0,1,1,1,1
1583,I8aa1e7c7ae192ed28b2c8aaa3c5884b7b4666e9c,https://git.eclipse.org/r/#/c/1583,1,50a2b84a1f24cba007e015227de187950bad0bd5,125cf78cda1df69865ada27f66988843d6232f7a,1,11/09/10,11/09/10,2,Correct Javadoc for WS_IGNORE_CHANGE comparator,"Correct Javadoc for WS_IGNORE_CHANGE comparator

Change-Id: I8aa1e7c7ae192ed28b2c8aaa3c5884b7b4666e9c
Signed-off-by: Shawn O. Pearce <spearce@spearce.org>",1,0,0,1,0,0,1,0,0
1584,I9d14f56442fe02bc3417b26c1211b9f1d0ee476a,https://git.eclipse.org/r/#/c/1584,1,7d78ed9aa7031643805f60b84fcb7125b9cc1e7a,17cf04ef7045a6f4e1f0fe785e740a3f266f25c0,0,11/09/10,11/09/10,0,Merge branch 'stable-0.9',"Merge branch 'stable-0.9'

* stable-0.9:
  Correct Javadoc for WS_IGNORE_CHANGE comparator",1,0,0,0,0,0,1,NA,NA
1585,If8623556da9419117b07c5073e8bce39de02570e,https://git.eclipse.org/r/#/c/1585,2,f119194d1ed6006e3cdfebbafd788e565b8f2498,9dcd71cccd0a1ae6fc25d2bdee9e8be98392c7e6,1,21/09/10,21/09/10,355,Move cached element hash codes to HashedSequence,"Move cached element hash codes to HashedSequence

Most diff implementations really want to use cached hash codes for
elements, rather than element equality, as they need to perform many
compares and unique hash codes for elements can really speed that
process up.

To make it easier to define element hash functions, move the caching
of hash codes into a wrapper sequence type, so that individual
sequence types like RawText don't need to do this themselves.  This
has a nice property of also allowing the sequence to no longer care
about the specific SequenceComparator that is going to be used, nad
permits the caching to only examine the middle region that isn't
common to the two inputs.

Change-Id: If8623556da9419117b07c5073e8bce39de02570e
Signed-off-by: Shawn O. Pearce <spearce@spearce.org>",0,0,0,0,0,0,0,1,1
1586,I1d501b4c3ff80ed086b20bf12faf51ae62167db7,https://git.eclipse.org/r/#/c/1586,3,42ded18c6d7a827b4111c8bc56ea8134f6a273ef,d8ee2b8c379b32dcf25c7f396a4d224d8519e512,1,21/09/10,21/09/10,109,Micro-optimize reduceCommonStartEnd for RawText,"Micro-optimize reduceCommonStartEnd for RawText

This is a faster exact match based form that tries to improve
performance for the common case of the header and trailer of
a text file not changing at all. After this fast path we use
the slower path based on the super class' using equals() to
allow for whitespace ignore modes to still work.

Change-Id: I1d501b4c3ff80ed086b20bf12faf51ae62167db7
Signed-off-by: Shawn O. Pearce <spearce@spearce.org>",0,0,0,0,0,0,0,1,1
1587,I6a0c84fc19e7fa80ddaa2315851c58ba89d43ca5,https://git.eclipse.org/r/#/c/1587,2,77bc5045af149977de9577997584a6f66ee59ed8,530d9c96769e778838b579b35aad2f2a2524ae86,1,16/09/10,16/09/10,17,Add --all option to RevWalkTextBuiltin,"Add --all option to RevWalkTextBuiltin

Allow our command line commands like Glog, Log to accept the
--all option to walk all known refs.

Change-Id: I6a0c84fc19e7fa80ddaa2315851c58ba89d43ca5
Signed-off-by: Christian Halstrick <christian.halstrick@sap.com>",0,0,0,0,0,0,0,0,0
1597,Ic411b1b8a7e6039ae3ff567e2c9cdd5db84f4d41,https://git.eclipse.org/r/#/c/1597,1,91781fc75c5b0f85fc1444630590f0f254716adc,0d2e036d4165fdff3f7dae6dded2b1bde74b2d05,0,15/09/10,15/09/10,336,JGit 0.9.1,"JGit 0.9.1

Change-Id: Ic411b1b8a7e6039ae3ff567e2c9cdd5db84f4d41
Signed-off-by: Matthias Sohn <matthias.sohn@sap.com>",0,0,0,1,0,0,1,NA,NA
1599,I07a3391de03379f32ecfd055d45750e3860b2be4,https://git.eclipse.org/r/#/c/1599,1,0d2e036d4165fdff3f7dae6dded2b1bde74b2d05,963f2bd8056972f6633268723dbb876041ed919a,0,15/09/10,15/09/10,336,Qualify post-0.9.1 builds,"Qualify post-0.9.1 builds

Change-Id: I07a3391de03379f32ecfd055d45750e3860b2be4
Signed-off-by: Matthias Sohn <matthias.sohn@sap.com>",0,0,0,1,0,0,1,NA,NA
1601,I551488ea8d352d2179c7b244f474d2e3d02567a2,https://git.eclipse.org/r/#/c/1601,1,12546ee10061dd8189d60c8d6843ea273113bc26,300e415b5dfe2a94d1fe5f02bfe2234ef15b400a,1,17/09/10,17/09/10,18,Probe filesystem and set core.filemode correctly,"Probe filesystem and set core.filemode correctly

When creating a new FileRepository, probe the capability of the
local filesystem and set core.filemode based on how it reacts.

We can't just rely on FS.supportsExecute() because a POSIX system
(which usually does support execute) might be storing the repository
on a partition that doesn't have execute support (e.g. plain FAT-32).

Creating a temporary file, setting both states, checking we get
the desired results will let us set the variable correctly on
all systems.

Change-Id: I551488ea8d352d2179c7b244f474d2e3d02567a2
Signed-off-by: Shawn O. Pearce <spearce@spearce.org>",0,0,0,0,0,0,0,0,0
1602,Idf0c76d4849d69aa415ead32e46a435622395d68,https://git.eclipse.org/r/#/c/1602,2,c0458ee8f13bd5c937d5edb34c0bdbc30fecd8f2,7e36a3678b2b3b488faaef41a655dea3f671175b,1,15/09/10,15/09/10,70,Fix cloning of repositories with big objects,"Fix cloning of repositories with big objects

When running IndexPack we use a CachedObjectDirectory, which
knows what objects are loose and tries to avoid stat(2) calls for
objects that do not exist in the repository, as stat(2) on Win32
is very slow.

However large delta objects found in a pack file are expanded into
a loose object, in order to avoid costly delta chain processing
when that object is used as a base for another delta.

If this expand occurs while working with the CachedObjectDirectory,
we need to update the cached directory data to include this new
object, otherwise it won't be available when we try to open it
during the object verify phase.

Change-Id: Idf0c76d4849d69aa415ead32e46a435622395d68
Signed-off-by: Shawn O. Pearce <spearce@spearce.org>",0,0,0,0,0,0,0,0,0
1603,I8bf0fd3f7dbecf9edf47419c46aed0493d405f9e,https://git.eclipse.org/r/#/c/1603,1,7e36a3678b2b3b488faaef41a655dea3f671175b,ae1be30498ba735e6a8e1f801cd75e070bbd1467,1,15/09/10,15/09/10,14,clone: Correct formatting of init message,"clone: Correct formatting of init message

We used the wrong format method, which lead to this confusing output:

  $ ./jgit clone git://...
  Initialized empty Git repository in {0}
  remote: Counting objects: 201783
  ...
  remote: {0}

We need to use MessageFormat.format() as the message translations
use {0} syntax and not %s syntax for placeholders.

Change-Id: I8bf0fd3f7dbecf9edf47419c46aed0493d405f9e
Signed-off-by: Shawn O. Pearce <spearce@spearce.org>",0,0,0,0,0,0,0,0,0
1604,I114106f3286c36f7d5e136748a7e5130f4da163f,https://git.eclipse.org/r/#/c/1604,1,0275918312d4d8b7f6b8d14034b897efb0a42e10,5b048172dd0545c7fe66140bac177c947539a42b,0,16/09/10,16/09/10,336,JGit 0.9.3,"JGit 0.9.3

Change-Id: I114106f3286c36f7d5e136748a7e5130f4da163f
Signed-off-by: Matthias Sohn <matthias.sohn@sap.com>",1,0,0,1,0,0,1,NA,NA
1606,Ideab4923a5d8055f0e8a36ddcf0bc8adbf71c329,https://git.eclipse.org/r/#/c/1606,1,5b048172dd0545c7fe66140bac177c947539a42b,d208e59de9567cad9230fcc9188c8c92af62116c,0,16/09/10,16/09/10,336,Qualify post-0.9.3 builds,"Qualify post-0.9.3 builds

Change-Id: Ideab4923a5d8055f0e8a36ddcf0bc8adbf71c329
Signed-off-by: Matthias Sohn <matthias.sohn@sap.com>",1,0,0,1,0,0,1,NA,NA
1608,I5deb5b9a4aebd562a8680167dc6aee93fd7bb5c5,https://git.eclipse.org/r/#/c/1608,1,31870036fb5b5438f0d58924b3f45d503b63f90e,23db44e91648687a5f43db31684d1df80786ee26,0,17/09/10,17/09/10,0,Merge branch 'stable-0.9',"Merge branch 'stable-0.9'

* stable-0.9:
  Qualify post-0.9.3 builds
  JGit 0.9.3
  clone: Correct formatting of init message
  Fix cloning of repositories with big objects
  Qualify post-0.9.1 builds
  JGit 0.9.1
  Fix PlotCommitList to set lanes on child-less commits",1,0,0,0,0,0,1,NA,NA
1609,I54815c85b32b9492c059064b39f48677e68c5e90,https://git.eclipse.org/r/#/c/1609,1,23db44e91648687a5f43db31684d1df80786ee26,7707c53a5abc3c4da7ce39ed20c976214b7c04f3,0,17/09/10,17/09/10,334,Qualify builds as 0.10.0,"Qualify builds as 0.10.0

Change-Id: I54815c85b32b9492c059064b39f48677e68c5e90
Signed-off-by: Shawn O. Pearce <spearce@spearce.org>",1,0,0,1,0,0,1,NA,NA
1610,Ief7a3896afce15073e80d3691bed90c6a3897307,https://git.eclipse.org/r/#/c/1610,2,7707c53a5abc3c4da7ce39ed20c976214b7c04f3,625472cad04963d9b4ce2c5af14dcffa34c30d6e,1,04/10/10,04/10/10,214,Increase core.streamFileThreshold default to 50 MiB,"Increase core.streamFileThreshold default to 50 MiB

Projects like org.eclipse.mdt contain large XML files about 6 MiB
in size.  So does the Android project platform/frameworks/base.
Doing a clone of either project with JGit takes forever to checkout
the files into the working directory, because delta decompression
tends to be very expensive as we need to constantly reposition the
base stream for each copy instruction.  This can be made worse by
a very bad ordering of offsets, possibly due to an XML editor that
doesn't preserve the order of elements in the file very well.

Increasing the threshold to the same limit PackWriter uses when
doing delta compression (50 MiB) permits a default configured
JGit to decompress these XML file objects using the faster
random-access arrays, rather than re-seeking through an inflate
stream, significantly reducing checkout time after a clone.

Since this new limit may be dangerously close to the JVM maximum
heap size, every allocation attempt is now wrapped in a try/catch
so that JGit can degrade by switching to the large object stream
mode when the allocation is refused.  It will run slower, but the
operation will still complete.

The large stream mode will run very well for big objects that aren't
delta compressed, and is acceptable for delta compressed objects that
are using only forward referencing copy instructions.  Copies using
prior offsets are still going to be horrible, and there is nothing
we can do about it except increase core.streamFileThreshold.

We might in the future want to consider changing the way the delta
generators work in JGit and native C Git to avoid prior offsets once
an object reaches a certain size, even if that causes the delta
instruction stream to be slightly larger.  Unfortunately native
C Git won't want to do that until its also able to stream objects
rather than malloc them as contiguous blocks.

Change-Id: Ief7a3896afce15073e80d3691bed90c6a3897307
Signed-off-by: Shawn O. Pearce <spearce@spearce.org>",0,0,0,0,0,0,0,0,0
1613,I96d2794dbc7db55bdd0fbfcf675aabb15cc8419f,https://git.eclipse.org/r/#/c/1613,2,ca757985431b019e4a41585313a323fd14488cef,0211c75b73327a6bca2ea75f82b59678128710c0,1,17/09/10,17/09/10,11,Fix JUnit-tests checking file mode,"Fix JUnit-tests checking file mode

This is a fast fix for the failing JUnit test after change 3fe5276. 
The code to get the file mode should be refactored to 
avoid code duplication.

Change-Id: I96d2794dbc7db55bdd0fbfcf675aabb15cc8419f
Signed-off-by: Stefan Lay <stefan.lay@sap.com>",0,0,0,0,0,0,0,0,0
1614,I05f3ce1861fbf9896b1bcb7816ba78af35f3ad3d,https://git.eclipse.org/r/#/c/1614,24,0d5313e78896b6f7cea8f673721e382e7405da5b,1bffa459ebf67e78d09912a06790796e4961952e,1,10/02/12,07/01/15,2113,[DRAFT] Attributes support,"[DRAFT] Attributes support

Core classes to parse and process .gitattributes files.",0,1,1,0,1,0,1,2,1
1619,I1d5886a6c3254c6dea2852d50b8614c31a93e615,https://git.eclipse.org/r/#/c/1619,1,6da489548236f1e498d6c785e718f283ce3cd985,33c8ae474a691c4282354acbeaa9311d685247dc,1,17/09/10,17/09/10,13,Fix UnsupportedOperationException while fixing thin pack,"Fix UnsupportedOperationException while fixing thin pack

If a thin pack has a large delta we need to be able to open
its cached copy from the loose object directory through the
CachedObjectDatabase handle.  Unfortunately that did not support the
openObject2 method, which the LargePackedDeltaObject used directly
to bypass looking at the pack files.

Bug: 324868
Change-Id: I1d5886a6c3254c6dea2852d50b8614c31a93e615
Signed-off-by: Shawn O. Pearce <spearce@spearce.org>",1,0,0,0,0,0,1,0,0
1620,I50e4955141ef9dd0e1293f8c8c2c0dc7c3c7fd3f,https://git.eclipse.org/r/#/c/1620,1,d6425b02d3ab686cf8e29fab2047d4ee93134916,84edb75d441cd099aacf149b9ac769bfa34c4688,0,17/09/10,17/09/10,2,Fix dependency to jgit source bundle,"Fix dependency to jgit source bundle

Missed to update version from 0.9.4 to 0.10.0

Change-Id: I50e4955141ef9dd0e1293f8c8c2c0dc7c3c7fd3f
Signed-off-by: Matthias Sohn <matthias.sohn@sap.com>",0,0,0,0,0,0,0,NA,NA
1628,Ifdf9fa5dd49bc3f4a0cc8a1ed505d77ec3fa526b,https://git.eclipse.org/r/#/c/1628,1,84edb75d441cd099aacf149b9ac769bfa34c4688,2280daa471773aae79c67d5c14469472820e51af,0,19/09/10,19/09/10,1,Remove duplicate resource bundle entry,"Remove duplicate resource bundle entry

Change-Id: Ifdf9fa5dd49bc3f4a0cc8a1ed505d77ec3fa526b
Signed-off-by: Matthias Sohn <matthias.sohn@sap.com>",0,0,0,1,0,0,1,NA,NA
1629,I5b873dead3682f79110f58d7806e43f50bcc5045,https://git.eclipse.org/r/#/c/1629,5,7cb186ba45ec3af25f451c42b1cdae5de723b3dc,8ebd7b9e3b10a5f4cb3d81ede92867773d16b118,1,27/09/10,27/09/10,172,Add Resolve-In-Core content merge strategy,"Add Resolve-In-Core content merge strategy

Used by tools performing automatic merging and cherry-picking
on bare repositores (e.x gerrit).",0,1,0,0,0,0,1,1,1
1635,I8d788e4d158b9f466fa9cb4a40865fb806376aee,https://git.eclipse.org/r/#/c/1635,1,583fe64ffad9e270b2035c84c62c6cb49530ddfd,3acf53ec2b4e1e4ae74c4c22da8b9be3f2f43c97,1,21/09/10,21/09/10,75,Add Subsequence utility methods,"Add Subsequence utility methods

DiffAlgorithm implementations may find it useful to construct an Edit
and use that to later subsequence the two base sequences, so define
two new utility methods a() and b() to construct the A and B ranges.

Once a subsequence has had Edits created for it the indexes are
within the space of the subsequence.  These must be shifted back to
the original base sequence's indexes.  Define toBase() as a utility
method to perform that shifting work in-place, so DiffAlgorithm
implementations have an efficient way to convert back to the caller's
original space.

Change-Id: I8d788e4d158b9f466fa9cb4a40865fb806376aee
Signed-off-by: Shawn O. Pearce <spearce@spearce.org>",0,0,0,0,0,0,0,0,0
1638,I80bf1e95094b7670e6c0acc26546364a1012d60e,https://git.eclipse.org/r/#/c/1638,2,e518b4cdc508aadf1005259864dc617c396e92d0,0a703552ef91028ec0304f332c49fcf3fa174508,1,22/09/10,22/09/10,55,Remove unnecessary hash cache from PatienceDiffIndex,"Remove unnecessary hash cache from PatienceDiffIndex

PatienceDiff always uses a HashedSequence, which we know promises
to provide constant time access for hash codes during the equals
method and abort fast if the hash codes don't match.  Therefore
we don't need to cache the hash codes inside of the index, which
saves us memory.

Change-Id: I80bf1e95094b7670e6c0acc26546364a1012d60e
Signed-off-by: Shawn O. Pearce <spearce@spearce.org>",0,0,0,0,0,0,0,-1,0
1639,I14004d771117e4a4ab2a02cace8deaeda9814bc1,https://git.eclipse.org/r/#/c/1639,2,0a703552ef91028ec0304f332c49fcf3fa174508,1f323ffad8aaf926e94ec47e9d9aec651796f7e2,1,22/09/10,22/09/10,222,Perform common start/end elimination by default for DiffAlgorithm,"Perform common start/end elimination by default for DiffAlgorithm

As it turns out, every single diff algorithm we might try to
implement can benfit from using the SequenceComparator's native
concept of the simple reduceCommonStartEnd() step.  For most inputs,
there can be a significant number of elements that can be removed
from the space the DiffAlgorithm needs to consider, which will
reduce the overall running time for the final solution.

Pool this logic inside of DiffAlgorithm itself as a default, but
permit a specific algorithm to override it when necessary.

Convert MyersDiff to use this reduction to reduce the space it
needs to search, making it perform slightly better on common inputs.

Change-Id: I14004d771117e4a4ab2a02cace8deaeda9814bc1
Signed-off-by: Shawn O. Pearce <spearce@spearce.org>",0,0,0,0,0,0,0,0,0
1640,I9a044330887c849ad4c78aa5c7aa04c783c10252,https://git.eclipse.org/r/#/c/1640,2,1f323ffad8aaf926e94ec47e9d9aec651796f7e2,15845921b218e8b8b3e3072f627684d947746c63,1,22/09/10,22/09/10,409,Define an abstract DiffAlgorithm test framework,"Define an abstract DiffAlgorithm test framework

For certain tiny input sequences, every DiffAlgorithm should produce
exactly the same results, as there should be no ambiguity.  Package
these up in an abstract TestCase that algorithms can extend from in
order to perform basic validation of their implementation.

Since these tests are more complete than what we used to have for
the MyersDiff algorithm, throw away Johannes' tests and only use
this new package.

Change-Id: I9a044330887c849ad4c78aa5c7aa04c783c10252
Signed-off-by: Shawn O. Pearce <spearce@spearce.org>",0,0,0,0,0,0,0,0,0
1641,I292f8fde0cec6a60a75ce09e70814a00ca47cb99,https://git.eclipse.org/r/#/c/1641,6,15845921b218e8b8b3e3072f627684d947746c63,eb8dc0d9c6b579179e31c9f081be580f8a2e9267,1,26/09/10,26/09/10,46,Reuse DiffPerformanceTest support code to validate algorithms,"Reuse DiffPerformanceTest support code to validate algorithms

Each algorithm should produce a particular number of results
given one of the standard inputs used during the performance
tests.  To help ensure those tests are accurate, assert that
the edit list length is correct.

Change-Id: I292f8fde0cec6a60a75ce09e70814a00ca47cb99
Signed-off-by: Shawn O. Pearce <spearce@spearce.org>",0,1,0,0,0,0,1,0,0
1642,I31c3261e895766f82c3c832b251a09f6e37e8860,https://git.eclipse.org/r/#/c/1642,3,c73b4b8e89e8b2408556b4f92a2d18230937c117,4c76def5c9ada0e9f1b62aee300e1282c7865676,1,26/09/10,26/09/10,6,Micro-optimize EditList.addAll,"Micro-optimize EditList.addAll

Pass through the addAll request to our underlying ArrayList.

This way the underlying ArrayList grows no more than once during the
call, which may be important if the list was originally allocated
at the default size of 16, but 64 Edits are being added.

Change-Id: I31c3261e895766f82c3c832b251a09f6e37e8860
Signed-off-by: Shawn O. Pearce <spearce@spearce.org>",0,0,0,0,0,0,0,0,0
1643,I1806cd708087e36d144fb824a0e5ab7cdd579d73,https://git.eclipse.org/r/#/c/1643,5,b33192fcfd7839a4192787be2f7c48227ae65a66,7637244077fd3af28c0f5a808d77e50925f417e0,1,26/09/10,26/09/10,679,Implement HistogramDiff,"Implement HistogramDiff

HistogramDiff is an alternative implementation of patience diff,
performing an O(N^2) search over all matching locations and picking
the longest common subsequence that has the lowest occurrence count.

Change-Id: I1806cd708087e36d144fb824a0e5ab7cdd579d73
Signed-off-by: Shawn O. Pearce <spearce@spearce.org>",0,1,0,0,1,0,1,1,1
1645,I43c3faefa8109f1a68ef57522bec9cf27b5df252,https://git.eclipse.org/r/#/c/1645,8,a0f27b51643ea0f32cedfa6e28bfc1980b437a3a,9768b1e67a4d68feb2817f205fcf7587a80e1bba,1,11/10/10,11/10/10,4,Use PatienceDiff by default in DiffFormatter,"Use PatienceDiff by default in DiffFormatter

Now that PatienceDiff has a reasonable default fallback by using
HistogramDiff we can start to rely upon it as our default algorithm
for DiffFormatter.

Change-Id: I43c3faefa8109f1a68ef57522bec9cf27b5df252
Signed-off-by: Shawn O. Pearce <spearce@spearce.org>",0,1,0,0,0,0,1,0,0
1648,I3f4a4d68cbfc62d2276e3a47e3e3720f02cb2522,https://git.eclipse.org/r/#/c/1648,1,2d937bbdfd4f61acc2cb1d47130777b0ef8179b9,f1105a54abc10a77aac947bb0bc3007ca5af3b80,1,29/09/10,29/09/10,1,Add reflog message to TagCommand,"Add reflog message to TagCommand

Ensure we update the reflog when tagging.

Change-Id: I3f4a4d68cbfc62d2276e3a47e3e3720f02cb2522
Signed-off-by: Chris Aniszczyk <caniszczyk@gmail.com>",1,0,0,0,0,0,1,0,0
1649,I4f7f8e29c47980536398d73f2a71ed2b2c00f4f2,https://git.eclipse.org/r/#/c/1649,1,47bb67949390f908d0db6c8c242d0580ea9a1517,795aa6b0570dbd32000f6a02c6cdf40a8d52c794,0,12/10/10,12/10/10,68,Update Tag to use TagCommand API,"Update Tag to use TagCommand API

Change-Id: I4f7f8e29c47980536398d73f2a71ed2b2c00f4f2
Signed-off-by: Chris Aniszczyk <caniszczyk@gmail.com>",0,0,0,1,0,1,1,NA,NA
1655,I5129faea1e763c74739118ca20d86bd62e0deaef,https://git.eclipse.org/r/#/c/1655,1,e87b4df28c647ce91c27b7e3f4e8521618e9cb54,1850f1363e50e481b42441f39a24b3acd99370c4,1,23/09/10,23/09/10,5,Fix PatienceDiffTest,"Fix PatienceDiffTest

Because PatienceDiff works by looking for common unique lines within
the region, the DiffTestDataGenerator needs to be modified to produce
a unique character for each region.  If we don't give PatienceDiff
a few unique points, it will just offer back a single REPLACE edit
that covers the entire files, and this doesn't tell us very much.

Change-Id: I5129faea1e763c74739118ca20d86bd62e0deaef
Signed-off-by: Shawn O. Pearce <spearce@spearce.org>",1,0,0,0,0,0,1,0,0
1656,Ia753b695de9526a157ddba265824240bd05dead1,https://git.eclipse.org/r/#/c/1656,1,1850f1363e50e481b42441f39a24b3acd99370c4,a957528a338443fadb94a375cacd870d624e60ef,1,24/09/10,24/09/10,91,Reduce content hash function collisions,"Reduce content hash function collisions

The hash code returned by RawTextComparator (or that is used
by the SimilarityIndex) play an important role in the speed of
any algorithm that is based upon them.  The lower the number of
collisions produced by the hash function, the shorter the hash
chains within hash tables will be, and the less likely we are to
fall into O(N^2) runtime behaviors for algorithms like PatienceDiff.

Our prior hash function was absolutely horrid, so replace it with
the proper definition of the DJB hash that was originally published
by Professor Daniel J. Bernstein.

To support this assertion, below is a table listing the maximum
number of collisions that result when hashing the unique lines in
each source code file of 3 randomly chosen projects:

  test_jgit: 931 files; 122 avg. unique lines/file
   Algorithm    | Collisions
   -------------+-----------
   prior_hash            418
   djb                     5
   sha1                    6
   string_hash31          11

  test_linux26: 30198 files; 258 avg. unique lines/file
   Algorithm    | Collisions
   -------------+-----------
   prior_hash           8675
   djb                    32
   sha1                    8
   string_hash31          32

  test_frameworks_base: 8381 files; 184 avg. unique lines/file
   Algorithm    | Collisions
   -------------+-----------
   prior_hash           4615
   djb                    10
   sha1                    6
   string_hash31          13

We can clearly see that prior_hash performed very poorly, resulting
in 8,675 collisions (elements in the same hash bucket) for at least
one file in the Linux kernel repository.  This leads to some very
bad O(N) style insertion and lookup performance, even though the
hash table was sized to be the next power-of-2 larger than the
total number of unique lines in the file.

The djb hash we are replacing prior_hash with performs closer to
SHA-1 in terms of having very few collisions.  This indicates it
provides a reasonably distributed output for this type of input,
despite being a much simpler algorithm (and therefore will be much
faster to execute).

The string_hash31 function is provided just to compare results with,
it is the algorithm commonly used by java.lang.String hashCode().

However, life isn't quite this simple.

djb produces a 32 bit hash code, but our hash tables are always
smaller than 2^32 buckets.  Mashing the 32 bit code into an array
index used to be done by simply taking the lower bits of the hash
code by a bitwise and operator.  This unfortuntely still produces
many collisions, e.g. 32 on the linux-2.6 repository files.

From [1] we can apply a final ""cleanup"" step to the hash code to
mix the bits together a little better, and give priority to the
higher order bits as they include data from more bytes of input:

  test_jgit: 931 files; 122 avg. unique lines/file
   Algorithm    | Collisions
   -------------+-----------
   prior_hash            418
   djb                     5
   djb + cleanup           6

  test_linux26: 30198 files; 258 avg. unique lines/file
   Algorithm    | Collisions
   -------------+-----------
   prior_hash           8675
   djb                    32
   djb + cleanup           7

  test_frameworks_base: 8381 files; 184 avg. unique lines/file
   Algorithm    | Collisions
   -------------+-----------
   prior_hash           4615
   djb                    10
   djb + cleanup           7

This is a massive improvement, as the number of collisions for
common inputs drops to acceptable levels, and we haven't really
made the hash functions any more complex than they were before.

[1] http://lkml.org/lkml/2009/10/27/404

Change-Id: Ia753b695de9526a157ddba265824240bd05dead1
Signed-off-by: Shawn O. Pearce <spearce@spearce.org>",0,0,0,0,0,0,0,1,1
1660,Iec0b176adb464cf95b06cda157932b79c0b59886,https://git.eclipse.org/r/#/c/1660,1,a957528a338443fadb94a375cacd870d624e60ef,0bbb379a10c8180d50a2d72ff0bb68ec31ba9418,1,26/09/10,26/09/10,508,debug-text-hashfunctions: Test suite for content hashes,"debug-text-hashfunctions: Test suite for content hashes

This is the test suite I was using to help understand why we had
such a high collision rate with RawTextComparator, and to select
a replacement function.

Since its not something we will run very often, lets make it a
program in the debug package rather than a JUnit test.  This way
we can run it on demand against any corpus of files we choose,
but we aren't bottlenecking our daily builds running tests with
no assertions.

Adding a new hash function to this suite is simple, just define
a new instance member of type ""Hash"" with the logic applied to
the region passed in.

Change-Id: Iec0b176adb464cf95b06cda157932b79c0b59886
Signed-off-by: Shawn O. Pearce <spearce@spearce.org>",0,0,0,0,1,0,1,2,1
1661,I0bef388a9b8f2e3a01ecc9e7782aaed7f9ac82ce,https://git.eclipse.org/r/#/c/1661,2,5d909d33399cf11d19eceba1e44242569328ed5b,0fbe8170c57eeaea7c342613e0fe6afd1189a968,0,27/09/10,27/09/10,46,Updated FetchCommand with dry run and thin options,"Updated FetchCommand with dry run and thin options

Change-Id: I0bef388a9b8f2e3a01ecc9e7782aaed7f9ac82ce
Signed-off-by: Chris Aniszczyk <caniszczyk@gmail.com>",0,0,0,1,0,1,1,NA,NA
1662,Ibf2e81be57c083862eeb134279aed676653bf9b5,https://git.eclipse.org/r/#/c/1662,3,d75d7db7eee5f7d7060d22a2f12f580595b3f6fa,1238169aeaa58854d1068223aaf58a77d68617c4,1,11/10/10,11/10/10,154,Define LowLevelDiffAlgorithm to bypass re-hashing,"Define LowLevelDiffAlgorithm to bypass re-hashing

When passing to a fallback algorithm, we can avoid creating a
new copy of the hash codes for each sequence by passing in the
hashed sequences directly.  This makes it cheaper to switch from
PatienceDiff to HistogramDiff to MyersDiff in a single pass.

Change-Id: Ibf2e81be57c083862eeb134279aed676653bf9b5
Signed-off-by: Shawn O. Pearce <spearce@spearce.org>",0,0,0,0,0,0,0,0,0
1663,I39b99cb1db4b3be74a764dd3d68cd4c9ecd91481,https://git.eclipse.org/r/#/c/1663,5,c7b46148001f2bd48b8d1582cc17ac01f095d9b1,8abba18ec26c60e8e098b9080aff2457cd41cd91,1,11/10/10,11/10/10,725,Delete PatienceDiff,"Delete PatienceDiff

HistogramDiff outperforms it for any case where PatienceDiff needs to
fallback to another algorithm.  Consequently its not worth keeping
around, because we would always want a fallback enabled.

Change-Id: I39b99cb1db4b3be74a764dd3d68cd4c9ecd91481
Signed-off-by: Shawn O. Pearce <spearce@spearce.org>",0,1,0,0,1,0,1,0,0
1664,I3aacda86251d511f6bbc2ed7481d561449ce3b6c,https://git.eclipse.org/r/#/c/1664,1,bffa4e2f57a7dc03f064e8d92241ced9bf50ae96,345dec64555d5ce1bdf6cc60bff7b4abdc376844,1,27/09/10,27/09/10,7,Use only a single instance for NLS translation  bundles,"Use only a single instance for NLS translation  bundles

As findbugs pointed out, there was a small risk for creating multiple instances of
translation bundles. If that happens, drop the second instance.

Change-Id: I3aacda86251d511f6bbc2ed7481d561449ce3b6c
Signed-off-by: Robin Rosenberg <robin.rosenberg@dewire.com>",0,0,0,0,0,0,0,0,0
1665,I29109344d2e8025fa2a3ccaf7c2c16469544ce05,https://git.eclipse.org/r/#/c/1665,2,345dec64555d5ce1bdf6cc60bff7b4abdc376844,a30608bcf8d61e7142391a15ed613f9a59b109e2,0,29/09/10,29/09/10,21,Shut up findbugs/protect the shutdownHook in LocalDiskRepositoryTestcase,"Shut up findbugs/protect the shutdownHook in LocalDiskRepositoryTestcase

Singleton references should protected from multiple threads. As far as we
know this cannot happen as JUnit is used today since we currently don't run
tests in parallel, but now this code will not prevent anyone.

Change-Id: I29109344d2e8025fa2a3ccaf7c2c16469544ce05
Signed-off-by: Robin Rosenberg <robin.rosenberg@dewire.com>",0,0,0,0,0,0,0,NA,NA
1666,Ic5e9bda4275006ef3bf6ea6255ddf1c0eecc3770,https://git.eclipse.org/r/#/c/1666,2,7dcc2395fe3f0eec4db90a3964c17d9e79a061e5,2fcdcc4f6164de651e5d48959c06d75a6ffb6e24,0,29/09/10,29/09/10,5,Comment the use of System.gc in LocalDiskRepositoryTestCase,"Comment the use of System.gc in LocalDiskRepositoryTestCase

Change-Id: Ic5e9bda4275006ef3bf6ea6255ddf1c0eecc3770
Signed-off-by: Robin Rosenberg <robin.rosenberg@dewire.com>",0,0,0,1,0,0,1,NA,NA
1667,I34d773b18e6a1ee05774d7b9471f9915c48aa63e,https://git.eclipse.org/r/#/c/1667,2,b9c76735a8df62e2c0f54d91f7e485b2444b6da4,916076eb2b2a7c69683fd6a8dd5ba4e819871de0,1,27/09/10,27/09/10,2,Return the documented value from DirCacheCheckout.checkout,"Return the documented value from DirCacheCheckout.checkout

Change-Id: I34d773b18e6a1ee05774d7b9471f9915c48aa63e
Signed-off-by: Robin Rosenberg <robin.rosenberg@dewire.com>",0,0,0,1,0,0,1,0,0
1669,I06ddc74f1ef658f4876e2bbcc3eaad3475a5371e,https://git.eclipse.org/r/#/c/1669,2,bc61af8c46119a85e6ceabbd8c580da8b609b0fd,b37a7c19a8c8a47313a75a1cab7ef6ab28c660ec,1,01/10/10,01/10/10,49,Update Fetch to use FetchCommand API,"Update Fetch to use FetchCommand API

Change-Id: I06ddc74f1ef658f4876e2bbcc3eaad3475a5371e
Signed-off-by: Chris Aniszczyk <caniszczyk@gmail.com>",0,0,0,1,0,1,1,0,0
1670,Ibf83fea57cfb17964020d6aeb3363982be944f87,https://git.eclipse.org/r/#/c/1670,1,763fec8a4e6c4725c5fb5b53d30fe0f0fe732645,bc07b60132aa99e1011ae34abc800fff537daccb,1,07/10/10,07/10/10,391,Support HTTP basic and digest authentication,"Support HTTP basic and digest authentication

Natively support the HTTP basic and digest authentication methods
by setting the Authorization header without going through the JREs
java.net.Authenticator API.  The Authenticator API is difficult to
work with in a multi-threaded server environment, where its using
a singleton for the entire JVM.  Instead compute the Authorization
header from the URIish user and pass, if available.

Change-Id: Ibf83fea57cfb17964020d6aeb3363982be944f87
Signed-off-by: Shawn O. Pearce <spearce@spearce.org>
Signed-off-by: Matthias Sohn <matthias.sohn@sap.com>",0,0,0,0,0,0,0,1,1
1671,Ibe13e546b45eed3e193c09ecb414bbec2971d362,https://git.eclipse.org/r/#/c/1671,3,bc07b60132aa99e1011ae34abc800fff537daccb,1c40c4077f65eabf27938783e0acae85d37fcc00,1,11/11/10,11/11/10,620,Enable providing credentials for HTTP authentication,"Enable providing credentials for HTTP authentication

Bug: 296201
Change-Id: Ibe13e546b45eed3e193c09ecb414bbec2971d362
Signed-off-by: Matthias Sohn <matthias.sohn@sap.com>",0,0,0,0,1,0,1,0,0
1672,Iff144a51fdc9a1112a21492c390a873a2b293bc9,https://git.eclipse.org/r/#/c/1672,3,884c4ba378903aefe5af765490ad825c6c48a61a,1ff83b215ce1b1f00cf7970428f22b600ea3c57e,1,05/10/10,05/10/10,462,Add PushCommand API,"Add PushCommand API

Change-Id: Iff144a51fdc9a1112a21492c390a873a2b293bc9
Signed-off-by: Chris Aniszczyk <caniszczyk@gmail.com>",0,0,0,1,0,0,1,0,0
1690,If72576576ebb6b9d9dc8b7e51ddd87c9909e8b62,https://git.eclipse.org/r/#/c/1690,5,891d3aaef1f77d0b077533c4f1d8bc558fc02572,18eb22dee41931c18a5eb1bde7c0ce1e7499e6ef,1,08/10/10,08/10/10,110,Refactor pattern construction in URIish,"Refactor pattern construction in URIish

There are quite some bugs related to our URI parsing in class URIish (see list
of referenced bugs). When trying to solve those and understand our parsing I
detected that we need more documention on the patterns we are using and maybe a
refactoring on how we construct those. Also the detection of wrong URIish
when the URIish was a local file reference has to be enhanced.

I extracted String constants for nearly every interesting part of our pattern
and documented each part. To detect wrong local file references I had to use
different patterns for standard URIs, local file references, SCP URIs and those
URIs created by java.io.File.toURI.toString().

I added more tests for file:// URIs and for wrong ssh URIs.

Bug: 315571
Bug: 292897
Bug: 307017
Bug: 323571
Bug: 317388
Change-Id: If72576576ebb6b9d9dc8b7e51ddd87c9909e8b62
Signed-off-by: Christian Halstrick <christian.halstrick@sap.com>",0,1,0,0,0,1,1,0,0
1696,I7fe09029996d0cfc09a7d8f097b5d6af1488fa93,https://git.eclipse.org/r/#/c/1696,4,f70f3a0e0bf2417805f9ce1af9b619be49406025,60cbd47f9dbe873c968ef5d9ae900408e3ab92f5,1,08/10/10,08/10/10,772,"Add ""Pull"" command","Add ""Pull"" command

This is the minimal implementation of a ""Pull"" command. It does not
have any parameters besides the generic progress monitor and timeout.
It works on the currently checked-out branch and assumes that the
configuration contains the keys ""branch.<branch name>.remote"" and
""branch.<branch name>.merge"" to determine the remote configuration
for the fetch and the remote branch name for the merge.

Bug: 303404
Change-Id: I7fe09029996d0cfc09a7d8f097b5d6af1488fa93
Signed-off-by: Mathias Kinzler <mathias.kinzler@sap.com>",0,1,0,0,1,0,1,2,1
1699,I9355fd42e57e0983204465c5d6fe5b6b93655074,https://git.eclipse.org/r/#/c/1699,2,9df7a3c352c408352d99acc4c3c7fb941f117f65,f02f4e9019c9736628f659e6323352434340c58a,0,06/10/10,06/10/10,25,Split URI regex strings differently,"Split URI regex strings differently

The strings used to construct the regex to parse
URIs are split differently. This makes it easier
to introduce meaningfull String constants later on.

Change-Id: I9355fd42e57e0983204465c5d6fe5b6b93655074
Signed-off-by: Christian Halstrick <christian.halstrick@sap.com>",0,0,0,0,0,1,1,NA,NA
1700,If8b9dbaaf57ca333ac0b6c9610c3d3a515c540f9,https://git.eclipse.org/r/#/c/1700,3,b3f9ad2d2ddf4a70aecafcf215137011c9176ddd,9f28236beb50e9ae2ae7178174736b94ba61d304,0,08/10/10,08/10/10,57,Introduce commented constants for the segments of an URI regex,"Introduce commented constants for the segments of an URI regex

The regular expressions used to parse URI's are constructed by
concatenating different segments to a big String. Introduce
String constants for these segements and document them.

Change-Id: If8b9dbaaf57ca333ac0b6c9610c3d3a515c540f9
Signed-off-by: Christian Halstrick <christian.halstrick@sap.com>",0,0,0,0,0,1,1,NA,NA
1701,Ia3b8b681ad6592f03b090a874a6e91068a8301fe,https://git.eclipse.org/r/#/c/1701,3,e35c36f4e75ae5e99c5ab2855e24ba50c8fdd2af,693c091661476b36aec49c8508c7a3197f05c0e8,0,08/10/10,08/10/10,5,Fix URIish tests to contain a hostname for git protocol,"Fix URIish tests to contain a hostname for git protocol

The supported protocols for git transports expect always
a hostname to be present. Some tests tested URIs like git:/abc.git
which is not allowed.

Change-Id: Ia3b8b681ad6592f03b090a874a6e91068a8301fe
Signed-off-by: Christian Halstrick <christian.halstrick@sap.com>",0,0,0,0,0,1,1,NA,NA
1702,I87db02494c4b367283e1d00437b1c06d2c8fdd28,https://git.eclipse.org/r/#/c/1702,4,4ad54833d56d6f2505cd7af63f1a625d78774e38,2ba7675fe5fe7666be187130d6e3e6cdc24550b6,1,08/10/10,08/10/10,26,Fixed URI regexp regarding user/password part,"Fixed URI regexp regarding user/password part

The regular expression which should handle the
user/password part in an URI was potentially
processing to many chars. This lead to problems
when user/pwd and port was specified

Change-Id: I87db02494c4b367283e1d00437b1c06d2c8fdd28
Signed-off-by: Christian Halstrick <christian.halstrick@sap.com>",0,1,0,0,0,1,1,0,0
1703,I866a76a4fcd0c3b58e0d26a104fc4564e7ba5999,https://git.eclipse.org/r/#/c/1703,4,d41605b81a0de2fc61caba55158ffeb4bf71c402,12fc77cbf112cef4dca7bc589b5d0981108381b2,1,08/10/10,08/10/10,92,Add support for single-slash URI,"Add support for single-slash URI

In bug 323571 it is mentioned that if you call
'toURI().toURL().toString()' on a java.io.File you cannot pass
that string to jgit as an URIish. Problem is that the passed
URI looks like 'file:/C:/a/b.txt' and that we where expecting
double slashes after scheme':'. This fix adds support for this
single-slash file URLs.

Bug: 323571
Change-Id: I866a76a4fcd0c3b58e0d26a104fc4564e7ba5999
Signed-off-by: Christian Halstrick <christian.halstrick@sap.com>",0,1,0,0,0,0,1,0,0
1704,I00bcc19476e835d6fd78fd188acde64946c1505c,https://git.eclipse.org/r/#/c/1704,6,8f633a75850ea55350d57d2f1bfa84691fc18cd9,ab051c66404fe19b4663da21f2b17b32261d593b,1,10/10/10,10/10/10,1643,"Add ""Branch"" command","Add ""Branch"" command

The need for this becomes more pressing with the addition of ""Pull""
support: we need to make sure the upstream configuration entries
are written correctly when creating branches (and of course are cleaned
up when deleting them).
This adds support for listing, adding, deleting, and renaming branches
including the more common options.
There is one TODO left as an Exception should be re-used which
comes as part of the ""Pull"" support (change 1696).

Bug: 326938
Change-Id: I00bcc19476e835d6fd78fd188acde64946c1505c
Signed-off-by: Mathias Kinzler <mathias.kinzler@sap.com>",0,1,0,0,1,0,1,4,1
1706,Idb7526800e80e17624ec05fb10bbc19e7f744f49,https://git.eclipse.org/r/#/c/1706,1,11bbed1a909434da3a6bfcd7eb239805c9a91bf9,499f532cad77071ee005c3ad0d68e9635ad074c6,0,06/10/10,06/10/10,14,Add pull operation related constants,"Add pull operation related constants

Change-Id: Idb7526800e80e17624ec05fb10bbc19e7f744f49
Signed-off-by: Chris Aniszczyk <caniszczyk@gmail.com>",0,0,0,1,0,1,1,NA,NA
1707,I01d1b20a3d7be1c0b480c7fb5c9773c161fe5c15,https://git.eclipse.org/r/#/c/1707,5,49509ed7e40724d3440336f24c6bf317789dc789,0a29fc2b19dae12bbc0b239812248a263c31b7af,1,27/10/10,27/10/10,335,Call ProgressMonitor.update() from main thread.,"Call ProgressMonitor.update() from main thread.

This fix IOException(""Write end dead"") during local repository fetch.
The exception was thrown because we write to ProgressMonitor's
PipedOutputStream from several threads. When we read from a connected
PipedInputStream a writing thread could already be dead.

Bug: 326557",0,1,0,0,0,0,1,0,0
1709,Ie08c1ec37e497c2a6f70a75f7c59f0805812a5cc,https://git.eclipse.org/r/#/c/1709,1,1689875c6ea04e5efa51d7f060a5b66729e6e553,a5e1e8d439dd511208a098ba80760593ab3307fa,1,07/10/10,07/10/10,6,Fix HTTP tests,"Fix HTTP tests

Since 858b2c92 we have a HTTP authentication implementation hence
we now get different exception messages when required authentication
headers are not available. This broke the HTTP tests.

Change-Id: Ie08c1ec37e497c2a6f70a75f7c59f0805812a5cc
Signed-off-by: Matthias Sohn <matthias.sohn@sap.com>",0,0,0,0,0,0,0,0,0
1710,Id02717176557e7d57e676e1339cd89f2be88d330,https://git.eclipse.org/r/#/c/1710,1,a5e1e8d439dd511208a098ba80760593ab3307fa,87d00eaf68b90d11a0540cf66a1ba3b808ccca43,1,08/10/10,08/10/10,84,Externalize strings in TransportHttp,"Externalize strings in TransportHttp

Some strings were not externalized. Also use them in HTTP tests to
ensure that they will also succeed when message bundles are
translated.

Change-Id: Id02717176557e7d57e676e1339cd89f2be88d330
Signed-off-by: Matthias Sohn <matthias.sohn@sap.com>",0,0,0,0,0,0,0,0,0
1712,Ib3328379841fa79641fe1cd70cd87ee057eefb1a,https://git.eclipse.org/r/#/c/1712,1,87d00eaf68b90d11a0540cf66a1ba3b808ccca43,ba335aac838218e1c8c4d651c3a841ae9d4642da,0,08/10/10,08/10/10,2,Update build to use tycho 0.10.0,"Update build to use tycho 0.10.0

Change-Id: Ib3328379841fa79641fe1cd70cd87ee057eefb1a
Signed-off-by: Matthias Sohn <matthias.sohn@sap.com>",0,0,0,1,0,0,1,NA,NA
1717,I5b31813484eaa306e9bc4de9622dd5bd4846b16d,https://git.eclipse.org/r/#/c/1717,1,9b2147c41b8490f0753b07778754a39cbe29039f,b70200b83a6942132d9f32293de982932b27407c,1,10/10/10,10/10/10,42,Cleanup RefUpdateTest,"Cleanup RefUpdateTest

Application code, including unit tests for storage implementations,
should not extend RevCommit outside of the scope of using it for a
RevWalk.  Its a lot of overhead and unlikely to work long-term.

Instead for the one test that matters, use a custom subclass of the
ObjectId type.  This lets us measure exactly what we are looking for,
which is that the subclass isn't retained.

A lot of other tests were unnecessarily wrapping an object with a
RevCommit and storing that back into the RefUpdate.  This is just
retesting what the earlier no-cache test was doing, and complicated
the test considerably.  Drop that code and just rely on the value that
was configured by the helper method.

Change-Id: I5b31813484eaa306e9bc4de9622dd5bd4846b16d
Signed-off-by: Shawn O. Pearce <spearce@spearce.org>",0,0,0,0,0,0,0,0,0
1718,I57ea8634a46472f40046f4ec69de505abbf5f6cf,https://git.eclipse.org/r/#/c/1718,1,e502d00ad4ba7e907b5da7ee99657680dc57861b,1cb193ffa2b423437d4f97ca7aaf829129c7aa5a,1,11/10/10,11/10/10,48,Update Push to use latest API,"Update Push to use latest API

Change-Id: I57ea8634a46472f40046f4ec69de505abbf5f6cf
Signed-off-by: Chris Aniszczyk <caniszczyk@gmail.com>",0,0,0,1,0,1,1,0,0
1719,Ieab28bb3485a914eeddc68aa38c256f255dd778c,https://git.eclipse.org/r/#/c/1719,1,dbb55c6f4154b61eeeda53342c1377e4ffd8b412,ff6b859c825607b50f25fe7efda92d7175b58bb6,1,11/10/10,11/10/10,15,Fix infinite loop in PatienceDiff,"Fix infinite loop in PatienceDiff

Certain inputs caused an infinite loop because the prior match data
couldn't be used as expected.  Rather than incrementing the match
pointer before looking at an element, do it after, so the loop breaks
when we wrap around to the starting point.

Change-Id: Ieab28bb3485a914eeddc68aa38c256f255dd778c
Signed-off-by: Shawn O. Pearce <spearce@spearce.org>",0,0,0,0,0,0,0,0,0
1720,I50dcec81ecba763072bb739adfab5879fb48b23a,https://git.eclipse.org/r/#/c/1720,1,ff6b859c825607b50f25fe7efda92d7175b58bb6,20fee7c1c5851af0954d210a88cd60ac7ba5a558,0,11/10/10,11/10/10,2,Fix empty block corner case in PatienceDiff,"Fix empty block corner case in PatienceDiff

There is a corner case where we get an EMPTY region during recursion,
but we didn't expect to receive that.  Its harmless to ignore the
region since the region is empty and has no content, so do so rather
than throwing an exception

Change-Id: I50dcec81ecba763072bb739adfab5879fb48b23a
Signed-off-by: Shawn O. Pearce <spearce@spearce.org>",0,0,0,0,0,0,0,NA,NA
1721,I2502684d31f7851e720356820d04d8cf767f7229,https://git.eclipse.org/r/#/c/1721,3,043fdba5ce11af4c0fb7d82fcf75156445c69081,f280d6e5929c1e2874228b2e40477f82a33aa22f,1,11/10/10,11/10/10,401,debug-diff-algorithms: Real world performance test implementations,"debug-diff-algorithms: Real world performance test implementations

When working on a difference algorithm's implementation, its generally
more important to care about how it behaves on real-world inputs than
it does on fake inputs created for unit test cases.  Run each
implementation against a number of real-world repositories, looking at
changes between files in each commit.  This gives a better picture of
how a particular algorithm performs.

This test suite run against JGit and linux-2.6 with the current
available algorithms shows HistogramDiff always out-performs
MyersDiff, and by a wide margin on the linux-2.6 sources.  Since
histogram diff has similar properties as patience diff, the resulting
edits are probably also more human-readable.  These test results show
that HistogramDiff is a good choice for the default implementation.

  jgit: start at 8cccdb4
            2636 files,      733 commits
  Algorithm                    Time (ns) ( N=3          N=3016       )
  -----------------------------------------------------
  histogram_myers              306629400 (         3800       296700 )
  histogram                    307899900 (         3800       301500 )
  patience                     749800000 (         3900       351800 )
  patience_histogram_myers     761312100 (         3900       346500 )
  myers                        805993900 (         4000       376500 )
  patience_myers               817961600 (         3900       346200 )

  linux-2.6.git: start at 85a3318
            4001 files,     2680 commits
  Algorithm                    Time (ns) ( N=2          N=39098      )
  -----------------------------------------------------
  histogram                   1192496300 (         5800      2658200 )
  histogram_myers             1195983700 (         7700      2654600 )
  patience                    3816785200 (         6000      2747600 )
  patience_histogram_myers    3827027700 (         7100      2660100 )
  patience_myers              3961634600 (         7900      2684500 )
  myers                       9670506600 (         7000      2686500 )

Change-Id: I2502684d31f7851e720356820d04d8cf767f7229
Signed-off-by: Shawn O. Pearce <spearce@spearce.org>",0,0,0,0,0,0,0,3,1
1722,I539fabb339e60896165619c307dec71e3317b0d8,https://git.eclipse.org/r/#/c/1722,2,f74d366ee79b8da307bced597c52cd315dc7083f,318cc2a792ba5acdf8ecb35fb94bdbe887645f8a,1,13/10/10,13/10/10,1,Fix three-word command names,"Fix three-word command names

Command names like MakeCacheTree weren't coming up with hypens between
every word, so they read ""debug-make-cachetree"" rather than the
expected ""debug-make-cache-tree"".  On each lowercase character reset
the lastWasDash flag so the next uppercase will insert a hypen before
the next word.

Change-Id: I539fabb339e60896165619c307dec71e3317b0d8
Signed-off-by: Shawn O. Pearce <spearce@spearce.org>",0,0,0,0,0,0,0,0,0
1723,I3ce1fd9f3dc5bd195249c7872b3bec49570424a2,https://git.eclipse.org/r/#/c/1723,1,123470609ceb50dfefaab264c847dee53043bfae,9d56c3d671c4c38431667d31f4d88f89fa6d81a4,1,11/10/10,11/10/10,2,Fix corrupted large deltas,"Fix corrupted large deltas

Large objects stored as deltas get unpacked by JGit into a loose
object, so they are cheaper to access later on.  This unpacking was
broken because TeeInputStream copied the wrong length into the loose
object, sometimes copying too many bytes into the result.  This
created a loose object that did not have the correct content, and
whose length did not match the length denoted in the object header.

Change-Id: I3ce1fd9f3dc5bd195249c7872b3bec49570424a2
Signed-off-by: Shawn O. Pearce <spearce@spearce.org>",1,0,0,0,0,0,1,0,0
1727,Ie386a128a6c6beccc20bafd15c2e36254c5f560d,https://git.eclipse.org/r/#/c/1727,2,a625df1c214dbd2c569ad6441e06daaa34024239,9bcf3e4faaa2183bf115da10b540cfeff201a712,1,12/10/10,12/10/10,33,DeleteBranchCommand does not clean up upstream configuration,"DeleteBranchCommand does not clean up upstream configuration

It wrongly uses the full name of the branch to remove the
configuration entries but must use the shortened one.

Change-Id: Ie386a128a6c6beccc20bafd15c2e36254c5f560d
Signed-off-by: Mathias Kinzler <mathias.kinzler@sap.com>",0,0,0,0,0,0,0,0,0
1731,Ie140e99574fb004137c66e80fb92eb6c6d0fa5e1,https://git.eclipse.org/r/#/c/1731,1,a34da4184cb265338b046245287f96b40eef9b43,0fbafed7025d9579f6779e93627e7d030580961f,1,12/10/10,12/10/10,10,Remove AmbiguousObjectException from BranchCreateCommand.call(),"Remove AmbiguousObjectException from BranchCreateCommand.call()

We wanted to wrap all LowLevel JGit excpetions into a
JGitInternalException so that users of this high-level interface
don't have to explicitly catch all of them. This
was forgotten on BranchCreateCommand.call() and I added
it.

Change-Id: Ie140e99574fb004137c66e80fb92eb6c6d0fa5e1
Signed-off-by: Christian Halstrick <christian.halstrick@sap.com>",0,0,0,0,0,0,0,0,0
1732,I7edea779a83528beee34a1753026288c384881ce,https://git.eclipse.org/r/#/c/1732,1,0fbafed7025d9579f6779e93627e7d030580961f,d9f285b921713506f454120c78feb7a5f9ee2f3f,1,12/10/10,12/10/10,3,Remove wrong comment in MergeCommand,"Remove wrong comment in MergeCommand

There was a wrong javadoc comment telling that MergeCommand
only supports fast-forward merges. This has been fixed.

Change-Id: I7edea779a83528beee34a1753026288c384881ce
Signed-off-by: Christian Halstrick <christian.halstrick@sap.com>",0,0,0,0,0,1,1,0,0
1733,Ic0a5dc1f33a0987d66c09996c8012c45785500ff,https://git.eclipse.org/r/#/c/1733,1,d9f285b921713506f454120c78feb7a5f9ee2f3f,26e69390541ce18cf956a7f5c90763ae93fe078d,1,12/10/10,12/10/10,13,Fix NPE when calling CreateBranch without explict startpoint,"Fix NPE when calling CreateBranch without explict startpoint

When creating a branch with CreateBranchCommand.call() without
specifying an explicit startPoint HEAD should be used as startPoint.
There was a bug leading to an NPE in such a case.

Change-Id: Ic0a5dc1f33a0987d66c09996c8012c45785500ff
Signed-off-by: Christian Halstrick <christian.halstrick@sap.com>",0,0,0,0,0,0,0,0,0
1734,I235c0eb3a7a2d5bdfe40400f1deed06f29d746e1,https://git.eclipse.org/r/#/c/1734,3,26e69390541ce18cf956a7f5c90763ae93fe078d,1e6e92bcc90a2f45a9ca3eb5086fbe5f828662f7,1,15/10/10,15/10/10,403,Add Cherry-Pick command,"Add Cherry-Pick command

Implemented the initial version of a cherry-pick command.
A correct error handling is missing (what happens if the
checkout fails, the cherry-pick leads to conflicts etc).
But straightforward cherry-picks works.

Change-Id: I235c0eb3a7a2d5bdfe40400f1deed06f29d746e1
Signed-off-by: Christian Halstrick <christian.halstrick@sap.com>
Signed-off-by: Matthias Sohn <matthias.sohn@sap.com>",0,0,0,0,0,1,1,1,1
1738,I26bda06ef64b8644fd3a555dc55dff43cdb56a71,https://git.eclipse.org/r/#/c/1738,1,977d2468694ff3eb187e54da89d3e25758f2bf31,674ec288044c90470d00f95ffa53cb30a0e23ea3,1,13/10/10,13/10/10,16,Rename method to ResolveMerger.setWorkingTreeIterator(),"Rename method to ResolveMerger.setWorkingTreeIterator()

renamed an ugly methodname

Change-Id: I26bda06ef64b8644fd3a555dc55dff43cdb56a71
Signed-off-by: Christian Halstrick <christian.halstrick@sap.com>",0,0,0,0,0,0,0,0,0
1739,Ic27c763ae9a4bcbb5bd6ed9562cd98bb4da3386b,https://git.eclipse.org/r/#/c/1739,2,674ec288044c90470d00f95ffa53cb30a0e23ea3,023285a2aa8b117047e7299c3bdd832460e31363,0,13/10/10,13/10/10,94,Generate correct version for jgit source bundle,"Generate correct version for jgit source bundle

The maven 2 build for jgit source bundle didn't create a correct
OSGi version string, instead of
    org.eclipse.jgit.source_0.10.0.<timestamp>
the generated OSGi version was
    org.eclipse.jgit.source_0.10.0.SNAPSHOT
This caused trouble when trying to install it from p2 repository.

Bug: 327616
Change-Id: Ic27c763ae9a4bcbb5bd6ed9562cd98bb4da3386b
Signed-off-by: Matthias Sohn <matthias.sohn@sap.com>",0,0,0,0,0,0,0,NA,NA
1741,I003b601f384ff1213da6750dd13846367a511d0b,https://git.eclipse.org/r/#/c/1741,1,09331724f814657fea442fa8e1494cd3aa3c3cd2,2ccbd9a21b3895c0cf3c572fa52a39b9fd3a7a45,1,14/10/10,14/10/10,4,Correct spelling of tests in HistogramDiffTest,"Correct spelling of tests in HistogramDiffTest

Change-Id: I003b601f384ff1213da6750dd13846367a511d0b
Signed-off-by: Shawn O. Pearce <spearce@spearce.org>",0,0,0,1,0,0,1,0,0
1742,I2108570eb2929803b9a56f9fb9c400c758e7156b,https://git.eclipse.org/r/#/c/1742,1,2ccbd9a21b3895c0cf3c572fa52a39b9fd3a7a45,9fc772cb1733b1186354e8260960c7948c3b2d69,1,14/10/10,14/10/10,27,Fix RawTextComparator reduceCommonStartEnd at empty lines,"Fix RawTextComparator reduceCommonStartEnd at empty lines

When an empty line was inserted at the beginning of the common end
part of a RawText the comparator incorrectly considered it to be
common, which meant the DiffAlgorithm would later not even have it be
part of the region it examines.  This would cause JGit to skip a line
of insertion, which later confused Gerrit Code Review when it tried to
match up the pre and post RawText files for a difference that had this
type of insertion.

Define two new unit tests to check for this insertion of a blank line
condition and correct for it by removing the LF from the common region
when the condition is detected.

Change-Id: I2108570eb2929803b9a56f9fb9c400c758e7156b
Signed-off-by: Shawn O. Pearce <spearce@spearce.org>",0,0,0,0,0,0,0,0,0
1743,Iaab34611d60eee4a2036830142b089b2dae81842,https://git.eclipse.org/r/#/c/1743,1,9fc772cb1733b1186354e8260960c7948c3b2d69,655c52531c9384a9983c401c43bdf770df2a52af,1,14/10/10,14/10/10,47,Remove dead RawText(RawTextComparator) constructor,"Remove dead RawText(RawTextComparator) constructor

Since the introduction of HashedSequence we no longer need to supply
the RawTextComparator at the time of constructing a RawText.  Drop the
definition from the constructor, because it doesn't make sense as part
of our public API.

Change-Id: Iaab34611d60eee4a2036830142b089b2dae81842
Signed-off-by: Shawn O. Pearce <spearce@spearce.org>",0,0,0,0,0,0,0,0,0
1744,I20a6b112e3403ecfc1c2715ae75dcecc1a85b167,https://git.eclipse.org/r/#/c/1744,1,655c52531c9384a9983c401c43bdf770df2a52af,8be3b65ce2563705721838c5c57a699ecbb282bd,1,14/10/10,14/10/10,65,Add getString utility functions to RawText,"Add getString utility functions to RawText

These routines can be useful when debugging, because we can add an
expression to the Eclipse ""Expressions"" panel to show the text that
appears on a line.  Gerrit Code Review also uses these in its own
subclass of RawText in order to format patch files, so pulling it up
to be part of core JGit may help other applications too.

Change-Id: I20a6b112e3403ecfc1c2715ae75dcecc1a85b167
Signed-off-by: Shawn O. Pearce <spearce@spearce.org>",0,0,0,0,0,0,0,0,0
1747,I260a1771aeeffca5b0161d1494fd63c672ecc2a6,https://git.eclipse.org/r/#/c/1747,4,b174926c329141f4a70dc3c4503d9a66fb52982b,d4a0b5447308a8dc89321ad122df1ea146b04401,1,28/10/10,28/10/10,124,PullCommand: support upstream configuration for local branches,"PullCommand: support upstream configuration for local branches

When creating a local branch based on another local branch, the
upstream configuration contains ""."" as origin and the source branch
as ""merge"". The PullCommand should support this by skipping the
fetch step altogether and use the base branch to merge with.

Change-Id: I260a1771aeeffca5b0161d1494fd63c672ecc2a6
Signed-off-by: Mathias Kinzler <mathias.kinzler@sap.com>",0,1,0,0,0,0,1,0,0
1755,Ie3b8cae21dcd90ba8352823ea94a700f8ee9221a,https://git.eclipse.org/r/#/c/1755,2,9d935bbc30f349f35634ba91fe6ffc0b0c514ea4,0efdfb85538896df91c201aec3e7466c5700bcea,1,17/10/10,17/10/10,11,Fix possible NPE in Dircacheckout,"Fix possible NPE in Dircacheckout

There was a chance that we hit a NPE which doing a checkout
with DirCacheCheckout when there is no HEAD (e.g. initial
checkout). This is fixed here.

Change-Id: Ie3b8cae21dcd90ba8352823ea94a700f8ee9221a
Signed-off-by: Christian Halstrick <christian.halstrick@sap.com>",0,0,0,0,0,0,0,0,0
1757,Id30e168da16341e5da43365688a63aa30c7b7e2c,https://git.eclipse.org/r/#/c/1757,2,d45bd3c3de06cf3b8142d78fa49ac4e3767b85ae,9b5736e5c688b70a38a6ecc914d944f690e8c0c5,0,17/10/10,17/10/10,72,Allow pgm Main to be extended,"Allow pgm Main to be extended

3rd party packages that use repository types other than FileRepository
may wish to extend our pgm package and implement their own resolution
scheme for repository ""names"" that are passed in by the --git-dir
command line option.  Make that possible by allowing the package to
extend the Main class and override the lookup.

This is primarily useful when developing new storage implementations
and trying to experiment with the results, without linking all of it
into the core JGit package.

Change-Id: Id30e168da16341e5da43365688a63aa30c7b7e2c
Signed-off-by: Shawn O. Pearce <spearce@spearce.org>",0,0,0,0,0,0,0,NA,NA
1758,I93d7b1bca422d905948e8e83b2afa83c8894a68b,https://git.eclipse.org/r/#/c/1758,3,b0b1791d221617aca29ea6153bd2f093f0c5dd70,fd84f189cd559798bcbe542a43c5486e50c24010,0,19/10/10,19/10/10,5,Make ObjectDirectory getPacks() work the first time,"Make ObjectDirectory getPacks() work the first time

If an object hasn't been accessed yet the pack list for a repository
may not have been scanned from disk.  If an application (e.g. the dumb
transport servlet support code) asks for the pack list for an
ObjectDirectory, we should load it immediately.

Change-Id: I93d7b1bca422d905948e8e83b2afa83c8894a68b
Signed-off-by: Shawn O. Pearce <spearce@spearce.org>",0,0,0,0,0,0,0,NA,NA
1759,I96751a63852ec9c4bf6c47edadcf8752700543df,https://git.eclipse.org/r/#/c/1759,1,7cb97f4a36f43bbec5e3d95328bf8f975ac956c9,75b766ec38312a39b00c077af46b6fa2997c416a,1,18/10/10,18/10/10,11,IndexPack: Make translated progress messages non-static,"IndexPack: Make translated progress messages non-static

These messages may need to change depending on the current
thread's configured locale, and thus cannot be static.

Change-Id: I96751a63852ec9c4bf6c47edadcf8752700543df
Signed-off-by: Shawn O. Pearce <spearce@spearce.org>",0,0,0,0,0,0,0,0,0
1760,I1f7bdfacc7ad77ebdb885f655e549cc570652225,https://git.eclipse.org/r/#/c/1760,1,75b766ec38312a39b00c077af46b6fa2997c416a,347a0a870e3936214ef9c2bbb9dca5c3d18c3ed3,1,19/10/10,19/10/10,52,Update CachedObjectDirectory when inserting objects,"Update CachedObjectDirectory when inserting objects

If an ObjectInserter is created from a CachedObjectDirectory, we need
to ensure the cache is updated whenever a new loose object is actually
added to the loose objects directory, otherwise a future read from an
ObjectReader on the CachedObjectDirectory might not be able to open
the newly created object.

We mostly had the infrastructure in place to implement this due to the
injection of unpacked large deltas, but we didn't have a way to pass
the ObjectId from ObjectDirectoryInserter to CachedObjectDirectory,
because the inserter was using the underlying ObjectDirectory and not
the CachedObjectDirectory.  Redirecting to CachedObjectDirectory
ensures the cache is updated.

Change-Id: I1f7bdfacc7ad77ebdb885f655e549cc570652225
Signed-off-by: Shawn O. Pearce <spearce@spearce.org>",0,0,0,0,0,0,0,0,0
1770,I1c57f81cf6f0450e56411881488c4ee754e458e3,https://git.eclipse.org/r/#/c/1770,5,347a0a870e3936214ef9c2bbb9dca5c3d18c3ed3,e2e426d48690a5207747ba5cce2d81db8c5918dd,0,23/10/10,23/10/10,159,Add FindBugs and CPD to the build.,"Add FindBugs and CPD to the build.

Signed-off-by: Chris Aniszczyk <caniszczyk@gmail.com>",0,1,0,0,0,0,1,NA,NA
1772,Ie114ca92e9d5e7d61d892f4413ade65acdc08c32,https://git.eclipse.org/r/#/c/1772,3,29220b884a41939fd3478fe8ff02c400965382dc,ee23c4a1746c0defd72190016b6bd5bcb39fa9e0,1,25/10/10,25/10/10,40,Add support for special symref FETCH_HEAD and MERGE_HEAD,"Add support for special symref FETCH_HEAD and MERGE_HEAD

the RefDirectory class was not returning FETCH_HEAD and
MERGE_HEAD when trying to get all refs via getRefs(RefDatabase.ALL).
This fix adds a constant for FETCH_HEAD (MERGE_HEAD already
existed) and makes RefDirectory look for these two new
refs.

Change-Id: Ie114ca92e9d5e7d61d892f4413ade65acdc08c32
Signed-off-by: Christian Halstrick <christian.halstrick@sap.com>",0,0,0,0,0,0,0,0,0
1779,I642de17e74b997fa0c5878c90631f6640ed70bdd,https://git.eclipse.org/r/#/c/1779,3,13b8842d0c1eb90de2e15964c2cf2b84d5bf935c,7050178b07c637ef603c97bb5aeb67dbc704abcb,1,25/10/10,25/10/10,25,Allow setting a filter in IndexDiff,"Allow setting a filter in IndexDiff

IndexDiff now allows to set an additional filter. This can be used
e.g. for restricting the tree walk to a given set of files.

Change-Id: I642de17e74b997fa0c5878c90631f6640ed70bdd
Signed-off-by: Jens Baumgart <jens.baumgart@sap.com>",0,0,0,0,0,0,0,0,0
1782,I9e025a53facd42410796eae821baaeff684a25c5,https://git.eclipse.org/r/#/c/1782,4,d7328724579c60bdc3e91b77010384c9ca699d44,71a6e8f2b385c2494f97cd61f06e9f64ae6ed0d0,1,27/10/10,27/10/10,9,Optimize DirCacheCheckout by only updating files that have changed,"Optimize DirCacheCheckout by only updating files that have changed

When checking out a tree, files that are identical to the file in
the current index and working directory don't need to be updated.",0,1,0,0,0,0,1,0,0
1784,Ic69e6f6425e0a8950ce809eb3894f48a33e860aa,https://git.eclipse.org/r/#/c/1784,1,51f63924eda04dd89134c3f848b3b52d94adc24c,f0c05d322aa2e10145a6742eedfc19dc9fa37bbf,1,23/10/10,23/10/10,2,[findbugs] Static comparator made final,"[findbugs] Static comparator made final

Fixing FindBugs warning MS_SHOULD_BE_FINAL.

Change-Id: Ic69e6f6425e0a8950ce809eb3894f48a33e860aa
Signed-off-by: Matthias Sohn <matthias.sohn@sap.com>",0,0,0,0,0,0,0,0,0
1785,I4738c64c1153a8d4ef5430e15d0fe54f0a37949f,https://git.eclipse.org/r/#/c/1785,2,f0c05d322aa2e10145a6742eedfc19dc9fa37bbf,197c0f7f33090de6e0da1810bfbdea616b83fbe8,1,23/10/10,23/10/10,2,[findbugs] Fix illegal format specifier,"[findbugs] Fix illegal format specifier

For integral arguments the precision is not applicable, would cause a
runtime exception when executed, see
http://download.oracle.com/javase/1.5.0/docs/api/java/util/Formatter.html#syntax

Change-Id: I4738c64c1153a8d4ef5430e15d0fe54f0a37949f
Signed-off-by: Matthias Sohn <matthias.sohn@sap.com>",0,0,0,0,0,0,0,0,0
1786,Ic29310dc14f120ebdb49d33cbf4bd6d380ae1393,https://git.eclipse.org/r/#/c/1786,1,556172a022a63bbb89122f156d1b25cdf96c5437,896edb750a9347294111ab728a8bcefedee9dd0e,0,25/10/10,25/10/10,1,[findbugs] Respect exclude filter in maven build,"[findbugs] Respect exclude filter in maven build

Change-Id: Ic29310dc14f120ebdb49d33cbf4bd6d380ae1393
Signed-off-by: Matthias Sohn <matthias.sohn@sap.com>",0,0,0,1,0,0,1,NA,NA
1803,I72083e78fb5c92868eb5d8ec512277d212a39349,https://git.eclipse.org/r/#/c/1803,1,f6340f820b220793cc075703f8460c2ee89c38cb,aea6ea0354c897d490e550e568715a81583d3b2a,1,26/10/10,26/10/10,19,Add option to select diff algorithm for diff command,"Add option to select diff algorithm for diff command

The diff command in the pgm package was enhanced to allow
choosing the diff algorithm (currently myers or histogram)

Change-Id: I72083e78fb5c92868eb5d8ec512277d212a39349
Signed-off-by: Christian Halstrick <christian.halstrick@sap.com>",0,0,0,0,0,0,0,0,0
1804,Icb9398b55a8c6bbf03e38f6670feb67754ce91e0,https://git.eclipse.org/r/#/c/1804,1,a2c899bafd8e4f6e86312fc38e89d3b7ed2b993f,057d70be9cbb3519d596246f0c9f04cf471ecba2,0,27/10/10,27/10/10,7,Prevent endless loop of events fired by RefsDirectory,"Prevent endless loop of events fired by RefsDirectory

RefsDirectory fires a RefsChangedEvent when it detect that one
ref changed (new, modified, deleted). But there was a potential
of wrong events beeing fired leading to a endless loop in EGit.
Problem is that when calling getRefs(ALL) we don't want to report
additional refs and by that we remove the additional refs from
the list of ""refs reported upwards last time"". We fire an
RefsChangedEvent because we think that the special refs are not
there anymore.
I fixed this by removing eventing for the additional refs. Another
alternative would be to always scan also for additional refs and
put them in the list of refs. But getRefs(ALL) would then remove
the additional refs again. I didn't do that for performance reasons
and also because I am not sure whether we want evnting for
additional refs.

Change-Id: Icb9398b55a8c6bbf03e38f6670feb67754ce91e0
Signed-off-by: Christian Halstrick <christian.halstrick@sap.com>",0,0,0,0,0,0,0,NA,NA
1809,Iec6c9055d00e5049938484a27ab98dda2577afc4,https://git.eclipse.org/r/#/c/1809,3,d79ac7caf63576b1fec4b60fde3195dfebd9972f,ab88ea262b8fae6ebec2c4f674450502c4941ac7,1,28/10/10,28/10/10,38,Fix Severe Bug in Merge Algorithm,"Fix Severe Bug in Merge Algorithm

As described in Bug 328551 there was a bug that the merge algorithm
was not always reporting conflicts when the same line was deleted
and modified. This problem was introduced during commit
017188b4d41cc80c297e35097095026734b3d4 when reported conflicts have
been checked for common pre- and suffixes.
This was fixed here by better determining whether after stripping
off common prefixes and suffixes from a conflicting region there
is still some conflicting part left.
I also added a unit test to test this situation.

Change-Id: Iec6c9055d00e5049938484a27ab98dda2577afc4
Signed-off-by: Christian Halstrick <christian.halstrick@sap.com>",0,0,0,0,0,1,1,0,0
1810,I9658ce2817adc90d2df1060e8ac508d7bd0571cb,https://git.eclipse.org/r/#/c/1810,3,d3f586c1479f2caa78c903b39427204f8b01aada,e5bc53edb45e9fd37f4d48ceedca7eaa2e0da72e,1,09/11/10,09/11/10,339,Format merge commit messages like C Git,"Format merge commit messages like C Git

The automatically generated commit message of a merge should have the
same structure as in C Git for consistency (as per git fmt-merge-msg).

Before this change:

  merging refs/heads/a into refs/heads/master

After:

  Merge branch 'a'

Plurals, ""into"" and joining by "","" and ""and"" also work.

Change-Id: I9658ce2817adc90d2df1060e8ac508d7bd0571cb",0,0,0,0,0,0,0,0,0
1811,Ieccadbf11fd55853541c04857d8e79a4db014cb4,https://git.eclipse.org/r/#/c/1811,1,50148fe1962161b0a2d23561bcc3f266cedbe5fd,6abc47995966ec851f418a3b834ca1d1bfaa1b59,0,28/10/10,28/10/10,4,Fix FQCN of moved classes in FindBugsExcludeFilter.xml,"Fix FQCN of moved classes in FindBugsExcludeFilter.xml

FindBugs would generate warnings for these even though they should
be ignored.

Change-Id: Ieccadbf11fd55853541c04857d8e79a4db014cb4",0,0,0,0,0,0,0,NA,NA
1812,I8056e78aee20fdd3cb9600b52cd8ed988544293d,https://git.eclipse.org/r/#/c/1812,1,a8bfb4b1aacecb11fff0caed833751336c00b971,09e41f5d13471d30c89a14ceddeae555e0fceb2a,1,28/10/10,28/10/10,5,Make AbbreviatedObjectId serializable,"Make AbbreviatedObjectId serializable

AmbiguousObjectException contains an AbbreviatedObjectId and is
supposed to be serializable, so it should be serializable as well.

Change-Id: I8056e78aee20fdd3cb9600b52cd8ed988544293d",0,0,0,0,0,0,0,0,0
1813,Ifbce4e2c787fb9a7cd309c605e8d86211ef8a352,https://git.eclipse.org/r/#/c/1813,1,88956d48f71eb8ab534058b23d77079993d6fab4,8f25784c2f16cb59b0dc1dc286853e4759bf2a83,0,28/10/10,28/10/10,6,Fix oddness check in MyersDiff for negative numbers,"Fix oddness check in MyersDiff for negative numbers

It's probably not possible that these numbers are negative in the
algorithm, but it's cleaner this way and gets rid of three more
FindBugs warnings.

Change-Id: Ifbce4e2c787fb9a7cd309c605e8d86211ef8a352",0,0,0,0,0,0,0,NA,NA
1814,Ie6b3ff7d470cc9b7044fd6288cbf86dcc58220eb,https://git.eclipse.org/r/#/c/1814,1,fad8ebd6fd30cefd909a707cc87051cfa1e9c9f8,28ada6b4d6762fa10ae46ca07bd3fd4c2f29608e,1,28/10/10,28/10/10,16,Fix FindBugs and Eclipse warnings in org.eclipse.jgit.ui,"Fix FindBugs and Eclipse warnings in org.eclipse.jgit.ui

Change-Id: Ie6b3ff7d470cc9b7044fd6288cbf86dcc58220eb",0,0,0,1,0,0,1,0,0
1817,I7a6b9a20451dc5ba9a61553248b5f4b6c6c7a78b,https://git.eclipse.org/r/#/c/1817,1,415d33bf4df7c092af19644c6a8b1c689068a1f7,d3e0cf9cc133a72229feb08b68739886e0e6a25d,0,29/10/10,29/10/10,7,Exclude FindBugs warnings about Cloneable,"Exclude FindBugs warnings about Cloneable

This was already disabled in the Eclipse preferences for the project.
With this, Hudson should also ignore it.

Change-Id: I7a6b9a20451dc5ba9a61553248b5f4b6c6c7a78b",0,0,0,0,0,0,0,NA,NA
1818,I950de82db15c4610dc5a94f304279971daef971e,https://git.eclipse.org/r/#/c/1818,1,7e86ac8d06886de12c59d0b1d17f8228936b57fb,3eb543584d7d0399e481e11ba8f8f00d579e9a7e,1,29/10/10,29/10/10,3,"Remove two ""Dead store to local variable"" warnings","Remove two ""Dead store to local variable"" warnings

Change-Id: I950de82db15c4610dc5a94f304279971daef971e",0,0,0,1,0,0,1,0,0
1819,I91d90cbd0b0d03ca4a3db986c58b8d80d80f40a4,https://git.eclipse.org/r/#/c/1819,1,aebd1f3f0961c60ccc493fa3510b1beae6d6105b,2c9629e87724a178f56c69a129e2950e26cdc735,0,29/10/10,29/10/10,5,Use entrySet() instead of keySet(),"Use entrySet() instead of keySet()

The value was accessed every time in the loop body with get(),
so use the more efficient entrySet().

Change-Id: I91d90cbd0b0d03ca4a3db986c58b8d80d80f40a4",0,0,0,0,0,0,0,NA,NA
1820,I859404a7d80449c538a552427787f3e57d7c92b4,https://git.eclipse.org/r/#/c/1820,1,f9315f14dc568eeca67983d4685467fe961b42da,0d3e53588ea0cb7d2fa1ae94514d7d8147e0d1e1,1,29/10/10,29/10/10,2,Use readFully() instead of read(),"Use readFully() instead of read()

Fixes the ""Method ignores results of InputStream.read()"" warning.

This is the only place where read() was used instead of readFully()
and the return value was not checked. So it was either an oversight
or should be documented. This change assumes it was an oversight.

Change-Id: I859404a7d80449c538a552427787f3e57d7c92b4",0,0,0,0,0,0,0,0,0
1821,I648d0b012f66ba9dc46a37a390986f9c61e5a19c,https://git.eclipse.org/r/#/c/1821,1,47c33d5c6d93d90039fb65f0f49d8e6a99c1c7b0,dac1ba4b88aa0e6061ac05c19a8d0655a47efaee,1,29/10/10,29/10/10,2,Use Character.valueOf instead of new Character,"Use Character.valueOf instead of new Character

Otherwise a new Character is allocated each time instead of
using the cache.

Change-Id: I648d0b012f66ba9dc46a37a390986f9c61e5a19c",0,0,0,0,0,0,0,0,0
1822,I8ce703a32c28ce5c3455efeb7ed5f5c9a443cbef,https://git.eclipse.org/r/#/c/1822,1,f7f6293d80bc928c485db3bbb9eae6fe413f0ecc,ae7bf25af96ed15369ac1e0835fd259c64f1cd57,0,29/10/10,29/10/10,3,Remove unnecessary null check,"Remove unnecessary null check

The field monitor is never null, it's a NullProgressMonitor when not
explicitly set.

Change-Id: I8ce703a32c28ce5c3455efeb7ed5f5c9a443cbef",0,0,0,0,0,0,0,NA,NA
1823,Ieb31b5059d7b9a6adff2251baf179bda5f82e7a5,https://git.eclipse.org/r/#/c/1823,2,b72fdee10fcca26b5bcf2ce0949b7d028d9661c6,ad3d9ea13d5907409fc740101ce01b65f05c0d85,0,01/11/10,01/11/10,7,Explicitly initialize int fields,"Explicitly initialize int fields

This gets rid of the ""Uninitialized read of blockIndex"" warning.

Change-Id: Ieb31b5059d7b9a6adff2251baf179bda5f82e7a5",0,0,0,0,0,0,0,NA,NA
1824,Ic267e8cb5b62228de15e134cd80725df592a0171,https://git.eclipse.org/r/#/c/1824,1,c145f8b9816402d57c83eb103f8a2b9c3fecfee8,3bbcf00496ba443d455d117f01ba450f4de840c2,1,29/10/10,29/10/10,2,Make private final field static,"Make private final field static

It's used as a constant.

Change-Id: Ic267e8cb5b62228de15e134cd80725df592a0171",0,0,0,0,0,0,0,0,0
1828,I8bd2e81fcc14aa86919c504f1d0001944dea50b2,https://git.eclipse.org/r/#/c/1828,1,76608e865a13a1ee1943969ce0e5ff357958deec,8b455caaaf67189c4961b0f6710884587d4d379b,1,30/10/10,30/10/10,2,Correct typo in HistogramDiffIndex Javadoc,"Correct typo in HistogramDiffIndex Javadoc

Change-Id: I8bd2e81fcc14aa86919c504f1d0001944dea50b2
Signed-off-by: Shawn O. Pearce <spearce@spearce.org>",1,0,0,1,0,0,1,0,0
1829,Id170783b891f645b6a8cf6f133c6682b8de40aaf,https://git.eclipse.org/r/#/c/1829,2,8b455caaaf67189c4961b0f6710884587d4d379b,e7d982b73f9e5e6a595adaeed7aedb150ebb8e33,1,01/11/10,01/11/10,50,Fix broken HistogramDiff,"Fix broken HistogramDiff

HistogramDiff failed on cases where the initial element for the LCS
was actually very common (e.g. has 20 occurrences), and the first
element of the inserted region after the LCS was also common but
had fewer occurrences (e.g. 10), while the LCS also contained a
unique element (1 occurrence).

This happens often in Java source code.  The initial element for
the LCS might be the empty line (""\n""), and the inserted but common
element might be ""\t/**\n"", with the LCS being a large span of
lines that contains unique method declarations.  Even though ""/**""
occurs less often than the empty line its not a better LCS if the
LCS we already have contains a unique element.

The logic in HistogramDiff would normally have worked fine, except I
tried to optimize scanning of B by making tryLongestCommonSequence
return the end of the region when there are matching elements
found in A.  This allows us to skip over the current LCS region,
as it has already been examined, but caused us to fail to identify
an element that had a lower occurrence count within the region.

The solution used here is to trade space-for-time by keeping a
table of A positions to their occurrence counts.  This allows the
matching logic to always use the smallest count for this region,
even if the smallest count doesn't appear on the initial element.

The new unit test testEdit_LcsContainsUnique() verifies this new
behavior works as expected.

Bug: 328895
Change-Id: Id170783b891f645b6a8cf6f133c6682b8de40aaf
Signed-off-by: Shawn O. Pearce <spearce@spearce.org>",0,0,0,0,0,0,0,0,0
1830,I0beed3a5a8a537c958a5a6438a1283f97fa2097a,https://git.eclipse.org/r/#/c/1830,2,ab5b1d8332ea3e9f6f87e4dff216d4abca0702e9,c13199a24df70577382196c1ec0e625ede8875a3,1,01/11/10,01/11/10,358,Delete DiffPerformanceTest,"Delete DiffPerformanceTest

This test isn't that useful.  The better way to evaulate diff
algorithm performance is to run `jgit debug-diff-algorithms` over
real-world repositories, such as linux-2.6.git.  Whenever we modify
an algorithm we should manually verify that its runtime performance
doesn't get any worse than it already is.

Change-Id: I0beed3a5a8a537c958a5a6438a1283f97fa2097a
Signed-off-by: Shawn O. Pearce <spearce@spearce.org>",0,0,0,0,0,0,0,0,0
1831,I233bc40445fb5452863f5fb082bc3097433a8da6,https://git.eclipse.org/r/#/c/1831,3,97d84d0898d8d1cd85b02afd35b9b41313504b0a,cd44ae2be458bcd63f5fd1f1b5bd28850cae85c4,1,01/11/10,01/11/10,26,Fix ugly diff showing insertion of new method,"Fix ugly diff showing insertion of new method

When adding a new method near the end of the sequence we want to
show the full method inserted, and not tear the prior method due
to the common trailing curly brace being consumed as part of the
common end region of the sequences.

Bug: 328895
Change-Id: I233bc40445fb5452863f5fb082bc3097433a8da6
Signed-off-by: Shawn O. Pearce <spearce@spearce.org>",0,0,0,0,0,0,0,0,0
1832,Ie06b9e799a9e1be384da0b8996efa7209b32eac3,https://git.eclipse.org/r/#/c/1832,5,89da16b4edaa21b5462f3ac66ca309fdc138dba9,587cc20fffaf109c124264ffbfc505406cde38b9,1,23/11/10,23/11/10,410,[DRAFT] Add CheckoutCommand,"[DRAFT] Add CheckoutCommand

- doesn't fully compile yet
- need to finish tests

Change-Id: Ie06b9e799a9e1be384da0b8996efa7209b32eac3
Signed-off-by: Chris Aniszczyk <caniszczyk@gmail.com>",0,1,0,0,0,1,1,1,1
1833,I93704bd84ebf650d51de34da3f1577ef0f7a9144,https://git.eclipse.org/r/#/c/1833,5,97219345adb18762e2c3a5e257db0508606f2484,56f9ab5162974589e23e07a8d95437d4e764cc99,1,11/11/10,11/11/10,556,"Define NoteMap, a simple note tree reader","Define NoteMap, a simple note tree reader

The NoteMap makes it easy to read a small notes tree as created by
the `git notes` command in C Git.  To make the initial implementation
simple a notes tree is read recursively into a map in memory.
This is reasonable if the application will need to access all notes,
or if there are less than 256 notes in the tree, but doesn't behave
well when the number of notes exceeds 256 and the application
doesn't need to access all of them.

We can later add support for lazily loading different subpaths,
thus fixing the large note tree problem described above.

Currently the implementation only supports reading.  Writing notes
is more complex because trees need to be expanded or collapsed at
the exact 256 entry cut-off in order to retain the same tree SHA-1
that C Git would use for the same content.  It also needs to retain
non-note tree entries such as "".gitignore"" or "".gitattribute"" files
that might randomly appear within a notes tree.  We can also add
writing support later.

Change-Id: I93704bd84ebf650d51de34da3f1577ef0f7a9144
Signed-off-by: Shawn O. Pearce <spearce@spearce.org>
CC: Sasa Zivkov <sasa.zivkov@sap.com>",0,1,0,0,1,0,1,0,0
1842,I2beb4db5a93bd8c0c1238d5d3039cbd6719eee90,https://git.eclipse.org/r/#/c/1842,1,e3d3a92915431ea8608efb992a88060ba4e2471f,81df4437d09dfe9d2f04c354ffb3d88649f10a17,1,05/11/10,05/11/10,114,Cleaned up MergeAlgorithmTest,"Cleaned up MergeAlgorithmTest

Introduced similar helper methods than in AbstractDiffTestCase.
Then the test cases are much smaller and better understandable.

Change-Id: I2beb4db5a93bd8c0c1238d5d3039cbd6719eee90
Signed-off-by: Christian Halstrick <christian.halstrick@sap.com>",0,0,0,0,0,0,0,0,0
1843,I8d77cb59e82638214e45b3cf9ce3a1f1e9b35c70,https://git.eclipse.org/r/#/c/1843,1,81df4437d09dfe9d2f04c354ffb3d88649f10a17,16e50faf41a093809c47acad17df5ab249b925cb,1,05/11/10,05/11/10,22,Fixed merge algorithm regarding adjacent modifications,"Fixed merge algorithm regarding adjacent modifications

JGit merge algorithm behaved differently from C Git when
we had adjacent modifications. If line 9 was modified by
OURS and line 10 by theirs then C Git will return a
conflict while JGit was seeing this as independent
modifications. This change is not only there to achieve
compatibility, but there where also some really wrong
merge results produced by JGit in the area of adjacent
modifications.

Change-Id: I8d77cb59e82638214e45b3cf9ce3a1f1e9b35c70
Signed-off-by: Christian Halstrick <christian.halstrick@sap.com>",0,0,0,0,0,0,0,0,0
1844,Idf7f10e736d4a44ccdf8afe060535d7b0554a92f,https://git.eclipse.org/r/#/c/1844,2,62fa3f078d93dc7195e759245539b44cde30a7f5,ebeef1b1d04901335fedf4d9bc8e24832e076c40,1,10/11/10,10/11/10,396,Refactor tree entry formatting into a common class,"Refactor tree entry formatting into a common class

Instead of burying this logic inside of DirCacheTree and the legacy
Tree type, pull it into a common place where we can reuse it for
creating tree records in a buffer that can be passed directly into
the ObjectInserter.

Because we trust these two callers to feed us records in the proper
order, without '/' in the names, and without duplicate names in the
same tree, we don't do any validation inside of the formatter itself.
To protect themselves from making ordering errors, developers should
continue to use DirCache to process edits to source code trees.

Change-Id: Idf7f10e736d4a44ccdf8afe060535d7b0554a92f
Signed-off-by: Shawn O. Pearce <spearce@spearce.org>",0,0,0,0,0,0,0,0,0
1845,Id6aa49136996b29047c340994fe7faba68858e8c,https://git.eclipse.org/r/#/c/1845,1,f98d11cc3abfb41334fc8bf23399a14dc521a623,99a0b9e3efb68e0692f13073a3a24f9bf14d5129,0,05/11/10,05/11/10,52,Add a test for merging deleted files,"Add a test for merging deleted files

The JGit merge algorithm or the Merge Command may have problems with handling
deletions always correctly. Therefore one additional test is added to check
this.

Change-Id: Id6aa49136996b29047c340994fe7faba68858e8c
Signed-off-by: Christian Halstrick <christian.halstrick@sap.com>",0,0,0,0,0,0,0,NA,NA
1846,I7f4c94ab54138e1b2f3fcdf34fb803d68e209ad0,https://git.eclipse.org/r/#/c/1846,2,f5f3cd646034040f423b6192db58f5188e4bc390,e4f3234847e5c0b165ad6369a6ae2b84e0c4eb5a,1,07/11/10,07/11/10,78,Fixed handling of ResolveMerger regarding deletions,"Fixed handling of ResolveMerger regarding deletions

There was a bug in ResolveMerger which is one reason for
bug 328841. Deletions where not handled correctly if the
merge was failing because of conflicts. If the merge was
succesfull then deletions are handled correctly but if
collisions exist and the merge fails files which have
to be deleted (because there was a non-conflicting deletion
coming in from THEIRS) are not deleted. In theory that's
also true in the non-conflicting case but since in this
case we explicitly checkout in the end these files get
deleted during that checkout.

This is fixed by handling incoming deletions explicitly.

Bug: 328841
Change-Id: I7f4c94ab54138e1b2f3fcdf34fb803d68e209ad0
Signed-off-by: Christian Halstrick <christian.halstrick@sap.com>",0,0,0,0,0,1,1,1,1
1847,I99e64700b27fc0c95aa14ef8ad46a0e8832d4441,https://git.eclipse.org/r/#/c/1847,2,bc0187aa84b53e206436cab4f4fe0dbb7b0c502e,2eada4d88438530f3c78b0bd6fc91dd183d7baa3,1,10/11/10,10/11/10,66,Add ObjectId getByte for random access,"Add ObjectId getByte for random access

Processing git notes requires random access to part of the raw data
of each ObjectId... which isn't easy because ObjectIds are stored
with an internal representation of 5 ints.  Expose random access
to the individual data bytes through new methods, avoiding the
need to convert first to a byte[20].

Change-Id: I99e64700b27fc0c95aa14ef8ad46a0e8832d4441
Signed-off-by: Shawn O. Pearce <spearce@spearce.org>",0,0,0,0,0,0,0,0,0
1848,I57fa8420011fe5ed5fc6bfeb26f87a02b3197dab,https://git.eclipse.org/r/#/c/1848,2,2eada4d88438530f3c78b0bd6fc91dd183d7baa3,7c3c5515e17dabc1227fd29e13a036d5ba3f0907,1,11/11/10,11/11/10,83,Add MutableObjectId setByte to modify a mutable id,"Add MutableObjectId setByte to modify a mutable id

This mirrors the getByte() API in ObjectId and allows the caller to
modify a single byte, which is useful when updating it as part of a
loop walking through 0x00..0xff inside of a range of objects.

Change-Id: I57fa8420011fe5ed5fc6bfeb26f87a02b3197dab
Signed-off-by: Shawn O. Pearce <spearce@spearce.org>",0,0,0,0,0,0,0,0,0
1849,I6099b35916a8404762f31e9c11f632e43e0c1bfd,https://git.eclipse.org/r/#/c/1849,4,7b16e6d130075710a61e144b986f4dd5eadd5e9a,9a0ef4644fe2855c1a5cf4f7ab57058cc803ff47,1,11/11/10,11/11/10,626,Lazy load note subtrees from fanout levels,"Lazy load note subtrees from fanout levels

Instead of reading a note tree recursively up front when the NoteMap
is loaded, read only the root tree and load subtrees on demand when
they are accessed by the application.  This gives a lower latency
to read a note for the recent commits on a branch, as only the paths
that are needed get read.

Given a 2/38 style fanout, the tree will fully load when 256 objects
have been accessed by the application.  But unlike the prior version
of NoteMap, the NoteMap will load faster and answer lookups sooner,
as the loading time for all 256 levels is spread out across each of
the get() requests.

Given a 2/2/36 style fanout, the tree won't need to fully load until
about 65,536 objects are accessed.

Change-Id: I6099b35916a8404762f31e9c11f632e43e0c1bfd
Signed-off-by: Shawn O. Pearce <spearce@spearce.org>",0,1,0,0,1,0,1,0,0
1850,Ia284af7e7866da35db35374c6c5869f00c857944,https://git.eclipse.org/r/#/c/1850,4,03dc8ed1fbc5b82e81db72403e5d78f0a6fcc993,8eccd8933669e45e3aef7613598789be018cd944,1,13/11/10,13/11/10,117,Remember non-note tree entries when reading,"Remember non-note tree entries when reading

In order to safely edit a notes tree, NoteMap needs to retain any
non-note tree entries it read from the source tree and put them
back out into the modified tree when it commits a new version of
the note branch.

Remember any tree entries that didn't look like a note during
the parsing of the tree, so they can be put into a TreeFormatter
later when the tree writes to the repository.

Change-Id: Ia284af7e7866da35db35374c6c5869f00c857944
Signed-off-by: Shawn O. Pearce <spearce@spearce.org>",0,1,0,0,0,0,1,0,0
1851,I63448954abfca2a8e3e95369cd84c0d1176cdb79,https://git.eclipse.org/r/#/c/1851,5,7cfe124961e8b81fc855cc3e074f490166a15112,4050e1314ce5bb5587162e07cc26c10967ef1871,1,13/11/10,13/11/10,497,Add in-memory updating support to NoteMap,"Add in-memory updating support to NoteMap

NoteMap now supports editing in-memory, allowing applications to
modify the NoteMap once it has been loaded from the branch.  The
ability to write the branch back to tree objects is not yet done,
so the edits are strictly transient.

Change-Id: I63448954abfca2a8e3e95369cd84c0d1176cdb79
Signed-off-by: Shawn O. Pearce <spearce@spearce.org>",0,1,0,0,0,0,1,0,0
1852,Idbd7ead4a1b16ae2b64a30a4a01a29cfed548cdf,https://git.eclipse.org/r/#/c/1852,5,ff0e2fd52c991c8ba88a4e4c615e322fc579c066,75d7ac112fa9d090403cb9423914044000a3232b,1,13/11/10,13/11/10,251,Allow writing a NoteMap back to the repository,"Allow writing a NoteMap back to the repository

This is necessary to allow applications to wrap the note tree in
a commit and update the note branch with the new state.

Change-Id: Idbd7ead4a1b16ae2b64a30a4a01a29cfed548cdf
Signed-off-by: Shawn O. Pearce <spearce@spearce.org>",0,1,0,0,0,0,1,0,0
1853,I3d5279b11984f44dcf0ddb14a82a4b4e51d4632d,https://git.eclipse.org/r/#/c/1853,4,ff23802ac8bb21160510b5e44b04326d9072a21e,47469f49bfe1c6a92b91b4e4a6f505b04e8d577d,1,13/11/10,13/11/10,85,Add internal API for note iteration,"Add internal API for note iteration

Some algorithms need to be able to iterate through all notes within a
particular bucket, such as when splitting or combining a bucket.
Exposing an Iterator<Note> makes this traversal possible.

For a LeafBucket the iteration is simple, its over the sorted array of
elements.  For FanoutBucket its a bit more complex as the iteration
needs to union the iterators of each fanout bucket, lazily loading any
buckets that aren't already in-memory.

Change-Id: I3d5279b11984f44dcf0ddb14a82a4b4e51d4632d
Signed-off-by: Shawn O. Pearce <spearce@spearce.org>",0,1,0,0,0,0,1,0,0
1854,I2d7d98f35108def9ec49936ddbdc34b13822a3c7,https://git.eclipse.org/r/#/c/1854,4,1d0a718fee13c81523745d48d336fa415ef75745,24ed0b9cd8b57a14ac3fec70ed5948a872c7ee5c,1,13/11/10,13/11/10,106,Split note leaf buckets at 256 elements,"Split note leaf buckets at 256 elements

Leaf level notes trees are split into a new fan-out tree if an
insertion occurs and the tree already contains >= 256 notes in it.

The splitting may occur multiple times if all of the notes have the
same prefix; in the worst case this produces a tree path such as
""00/00/00/00/00/00/00/00/00/00/00/00/00/00/00/00/00/00/00/be"" if all
of the notes begin with zeros.

Change-Id: I2d7d98f35108def9ec49936ddbdc34b13822a3c7
Signed-off-by: Shawn O. Pearce <spearce@spearce.org>",0,1,0,0,0,0,1,0,0
1855,Ia9d145ffd5454982509fc40906bc4dbbf2b13952,https://git.eclipse.org/r/#/c/1855,4,fa92bb14a4f5f7922b19ce945ba6925cb35a6ff3,4a5f88c561420fc8749bb9a713833f93f2bb713a,1,13/11/10,13/11/10,49,Remove unnecessary note fanout when removing notes,"Remove unnecessary note fanout when removing notes

Fanout level notes trees are combined back together into a flat leaf
level tree if during a removal of a subtree there are less than 3/4 of
the fanout subtrees still existing, and the size of the combined leaf
is under the 256 split limit noted above.

This rule is used because deletes are less common than insertions, and
SHA-1's relatively uniform distribution suggests that with only 192
subtrees existing in the fanout, there should be approximately 192
names in the combined replacement leaf tree.

Change-Id: Ia9d145ffd5454982509fc40906bc4dbbf2b13952
Signed-off-by: Shawn O. Pearce <spearce@spearce.org>",0,1,0,0,0,0,1,0,0
1857,I4827d37e08b4c988c2458d9ba60a61b6ad414d10,https://git.eclipse.org/r/#/c/1857,2,54f09dee00db439f46cbb41dfd76655cdb79b184,9ea011b8a624aae8e7cf727c320d95792f4c97e0,1,07/11/10,07/11/10,86,Implemented the git add commandline command.,"Implemented the git add commandline command.

Implementation delegates all work to the AddCommand class and,
therefore, supports only those options currently supported by the
AddCommand which means: --update and the filepattern... arguments.

Signed-off-by: Sasa Zivkov <sasa.zivkov@sap.com>",0,0,0,0,0,0,0,0,0
1858,Iaf4f6c512530f90b1ed1590f4bc88b7aa690182e,https://git.eclipse.org/r/#/c/1858,1,a61b3000aea3fd74ce8ac918e971daeac4e1f999,7efbd1b917955913c4314bd6fc8dba8596b42558,0,05/11/10,05/11/10,3,Fixed the git init to properly set bare=true,"Fixed the git init to properly set bare=true

When --git-dir=X is given JGit creates a bare repository in the
directory X. However, when the --bare option is not explicitly
given, this is not properly reflected in the X/config file i.e.
the bare=true is missing.  This change fixes this minor issue.

Signed-off-by: Sasa Zivkov <sasa.zivkov@sap.com>",0,0,0,0,0,0,0,NA,NA
1859,I1c09e074395d49cee0e6e53679b499d1f0c351ea,https://git.eclipse.org/r/#/c/1859,1,32fa64210a93ff45797e17d9892d3d77f2344013,60edb096b3817aba4c31763784bc17bb4e4ec9b5,1,08/11/10,08/11/10,9,Make Repository.shortenRefName static,"Make Repository.shortenRefName static

The method has no reason to be non-static.

Change-Id: I1c09e074395d49cee0e6e53679b499d1f0c351ea",0,0,0,0,0,0,0,0,0
1861,I68bb1c57fac2e138eece4503ca5bda8f69261083,https://git.eclipse.org/r/#/c/1861,2,629756a2a76c32bd39b42e33575d16d8bbba9c77,a616567de90db499deda9446fc4eb5184bf9efb3,0,08/11/10,08/11/10,8,[findBugs] Silence DM_STRING_CTOR on PacketLineIn,"[findBugs] Silence DM_STRING_CTOR on PacketLineIn

We don't want to pool this String.

Change-Id: I68bb1c57fac2e138eece4503ca5bda8f69261083
Signed-off-by: Matthias Sohn <matthias.sohn@sap.com>",0,0,0,0,0,0,0,NA,NA
1862,I8db6f8014de6c00dd95974d60f61ecc66191e6d4,https://git.eclipse.org/r/#/c/1862,1,c93208c01819aea02e98183fb6113ada4e81d74c,363bdcc5f427c8533b81f6d84e87d8db9d64e7ef,1,07/11/10,07/11/10,2,[findBugs] Fix NP_LOAD_OF_KNOWN_NULL_VALUE,"[findBugs] Fix NP_LOAD_OF_KNOWN_NULL_VALUE

The code analyzer can't know that passing a value known to be null is
not a problem. Hence better pass null explicitly instead of the
parameters being null.

Change-Id: I8db6f8014de6c00dd95974d60f61ecc66191e6d4
Signed-off-by: Matthias Sohn <matthias.sohn@sap.com>",0,0,0,0,0,0,0,0,0
1863,I0ab7e35006b6aa7d4326a634309dddfcdb78f2a6,https://git.eclipse.org/r/#/c/1863,2,c7fddb50cce58fd35b48d3df7484c092cbf421aa,52444857dc6687825bb1d0bc61ac66c42f063a78,1,08/11/10,08/11/10,8,Fixed help of Diff and ShowCommands commands,"Fixed help of Diff and ShowCommands commands

jgit.sh <command> --help was not working for the commands Diff
and ShowCommands because of missing metaVar information. Missing
information is added here.

Change-Id: I0ab7e35006b6aa7d4326a634309dddfcdb78f2a6
Signed-off-by: Christian Halstrick <christian.halstrick@sap.com>",0,0,0,0,0,1,1,0,0
1864,I24d60c0214e71e5572955f8261e10a42e9e95298,https://git.eclipse.org/r/#/c/1864,10,6ae25b1fb2f23102d8e1857c2830766e81d15be7,25c1c023c4e910a6a4d7fe8e525ef2744d1b543d,1,22/11/10,22/11/10,1016,[RFC] Start implementation of a Rebase command,"[RFC] Start implementation of a Rebase command

This is a first try to implement Rebase. At the moment, this does not
try to implement --continue and --skip, so if the first conflict is found,
the only option is to --abort the command.
The --abort must still be re-implemented in order to succeed in case
of checkout conflicts.

Change-Id: I24d60c0214e71e5572955f8261e10a42e9e95298
Signed-off-by: Mathias Kinzler <mathias.kinzler@sap.com>",0,1,0,0,1,0,1,6,1
1865,I165bcddcdfacd34f020d1b938a41954916eb106e,https://git.eclipse.org/r/#/c/1865,1,a9d773c273335f1dbbcc553a0159ab7089bf2525,94a0633b6a445d507174b41230274d4db5752622,1,08/11/10,08/11/10,40,CommitAndLogCommandTests: add a test for LogCommand.addRange(),"CommitAndLogCommandTests: add a test for LogCommand.addRange()

There were also some compiler warning due to empty catch blocks that
were fixed.

Change-Id: I165bcddcdfacd34f020d1b938a41954916eb106e
Signed-off-by: Mathias Kinzler <mathias.kinzler@sap.com>",0,0,0,0,0,0,0,0,0
1867,I971d8261d2e8932039fce462b59c12e143f79f90,https://git.eclipse.org/r/#/c/1867,2,a0476165bad7bae7045c3cc6db49b4303a6e42b8,374671948b675e781d867faee9e833714bf14934,1,08/11/10,08/11/10,34,"IndexDiff: support state [removed, untracked]","IndexDiff: support state [removed, untracked]

IndexDiff was extended to detect files which are both removed from
the index and untracked.
Before this change these files were only added to the collection
removed.

Change-Id: I971d8261d2e8932039fce462b59c12e143f79f90
Signed-off-by: Jens Baumgart <jens.baumgart@sap.com>",0,0,0,0,0,0,0,0,0
1870,If139509e769d649609c62eff359ebaea5dd286b2,https://git.eclipse.org/r/#/c/1870,1,b37c435023692bad3ddf56c8fce61ffb97998b11,c60472afead8df7f435d62b207c3f0f5065b1b39,1,09/11/10,09/11/10,11,"Revert ""[findBugs] Silence DM_STRING_CTOR on PacketLineIn""","Revert ""[findBugs] Silence DM_STRING_CTOR on PacketLineIn""

This reverts commit 1e510ec20e0391010419b17e9a9095ad54941d3c.

Instead work around the warning by defining our constant by
constructing it through a StringBuilder.

Change-Id: If139509e769d649609c62eff359ebaea5dd286b2
Signed-off-by: Shawn O. Pearce <spearce@spearce.org>
CC: Matthias Sohn <matthias.sohn@sap.com>
CC: Chris Aniszczyk <caniszczyk@gmail.com>",0,0,0,0,0,0,0,0,0
1874,I9ab049bc9aad2d8d42a78c7ab34fa317a28efc1a,https://git.eclipse.org/r/#/c/1874,1,30cdc2e212dbe4b691ddb11bfa843b967b2ffc16,287a4bf502d59536082e98c6d040d16d1b6867df,1,09/11/10,09/11/10,46,Fix URIish parsing of absolute scp-style URIs,"Fix URIish parsing of absolute scp-style URIs

We stopped handling URIs such as ""example.com:/some/p ath"", because
this was confused with the Windows absolute path syntax of ""c:/path"".
Support absolute style scp URIs again, but only when the host name
is more than 2 characters long.

Change-Id: I9ab049bc9aad2d8d42a78c7ab34fa317a28efc1a
Signed-off-by: Shawn O. Pearce <spearce@spearce.org>",0,0,0,0,0,0,0,0,0
1875,I98b1b936b9b6cbaa50fbc59d243a43e66a6ee9f9,https://git.eclipse.org/r/#/c/1875,1,690a0908ffeb3ec799b7a4f4b5833e926083cc9c,9d0b51fd0055b3fb622038e4f41709b4c8a5955f,0,09/11/10,09/11/10,4,Fix broken MergeCommandTest,"Fix broken MergeCommandTest

Test was broken by commit b087bba3 changing formatting of merge
commit messages.

Change-Id: I98b1b936b9b6cbaa50fbc59d243a43e66a6ee9f9
Signed-off-by: Matthias Sohn <matthias.sohn@sap.com>",0,0,0,0,0,0,0,NA,NA
1876,I635a94eb0a741abcb3e68195da6913753bdbd889,https://git.eclipse.org/r/#/c/1876,2,febecaef14ba87dd6610a153f5036d201e6ad70f,e68f8403842a6e22942c499abec7bb60c0bca9ff,1,10/11/10,10/11/10,8,Fix WWW-Authenticate auth-scheme comparison,"Fix WWW-Authenticate auth-scheme comparison

The auth-scheme token (like ""Basic"" or ""Digest"") is not specified in a
case sensitive way. RFC2617 (http://tools.ietf.org/html/rfc2617) specifies
in section 1.2 the use of a ""case-insensitive token to identify the
authentication scheme"". Jetty, for example, uses ""basic"" as token.

Change-Id: I635a94eb0a741abcb3e68195da6913753bdbd889
Signed-off-by: Stefan Lay <stefan.lay@sap.com>",0,0,0,0,0,0,0,0,0
1877,I3b4dcb3c02b2d91182148caa83b6492664718500,https://git.eclipse.org/r/#/c/1877,1,0936e8e9d0a2ecb11702179e0e5e97985a87484f,5150fd87f405b46cce530782e9028ee4bbfccebd,1,12/11/10,12/11/10,5,Fix null ref exception in DirCacheCheckout,"Fix null ref exception in DirCacheCheckout

Added missing null check for getDirCacheEntry(). This method may
return null for example if the curernt entry is a subtree.",0,0,0,0,0,0,0,1,1
1879,I010550de1a6becab27f7aa5a9901df5a1c7e74bd,https://git.eclipse.org/r/#/c/1879,1,872b516b2a41962c61a5e1256219f6f3b70f472b,5361632946555447d702924d1c28cb9fd45aaf35,1,11/11/10,11/11/10,18,Define a default CredentialsProvider,"Define a default CredentialsProvider

This permits applications to set their preferred credentials UI
implementation once, rather than needing to define it on every
single Transport instance they open.

Change-Id: I010550de1a6becab27f7aa5a9901df5a1c7e74bd
Signed-off-by: Shawn O. Pearce <spearce@spearce.org>",0,0,0,0,0,0,0,0,0
1880,Id3b4cf5bfd27a23207cdfb188bae3b78e71e02c0,https://git.eclipse.org/r/#/c/1880,1,5361632946555447d702924d1c28cb9fd45aaf35,f90e0f12635eb35a680861497e4f7a0138a2caff,1,11/11/10,11/11/10,239,Support CredentialsProvider for SSH connections,"Support CredentialsProvider for SSH connections

When setting up an SSH connection, use the caller supplied
CredentialsProvider, if one has been given to the Transport
or was defined as the default.

The CredentialsProvider is re-wrapped as a JSch UserInfo,
allowing the connection to use this for user interactive
prompts.  This give a unified API for authentication on
any transport type.

Change-Id: Id3b4cf5bfd27a23207cdfb188bae3b78e71e02c0
Signed-off-by: Shawn O. Pearce <spearce@spearce.org>",0,0,0,0,0,0,0,0,0
1881,I22b13303c17e654ba6720edf4be2ef15fe29537a,https://git.eclipse.org/r/#/c/1881,1,f90e0f12635eb35a680861497e4f7a0138a2caff,438eadba95aeed3b79b573f6d3718e09018cbab4,1,11/11/10,11/11/10,721,Implement command line support for CredentialsProvider,"Implement command line support for CredentialsProvider

Instead of configuring the JSch session factory, configure a more
generic CredentialsProvider, which will work for other transport
types such as http, in addition to the existing ssh.

Change-Id: I22b13303c17e654ba6720edf4be2ef15fe29537a
Signed-off-by: Shawn O. Pearce <spearce@spearce.org>",0,0,0,0,1,0,1,1,1
1882,I09740658e070d5f22682333a2e0d325fd1c4a6cb,https://git.eclipse.org/r/#/c/1882,1,3bf2519284f79909693066782cd2c2130423bcac,e0773d437e834ce6d995d05db7a682e85a6d084a,1,13/11/10,13/11/10,25,Simplify LockFile write(ObjectId) case,"Simplify LockFile write(ObjectId) case

The ObjectId (for a ref) can be easily reformatted into a temporary
byte[] and then passed off to write(byte[]), removing the duplicated
code that existed in both write methods.

Change-Id: I09740658e070d5f22682333a2e0d325fd1c4a6cb
Signed-off-by: Shawn O. Pearce <spearce@spearce.org>",0,0,0,0,0,0,0,0,0
1883,I57f6b6bb7e403c07fbae989dbf3758eaf5edbc78,https://git.eclipse.org/r/#/c/1883,3,e0773d437e834ce6d995d05db7a682e85a6d084a,24169d32d90ff89328eaf9dc29deec07431144a1,1,13/11/10,13/11/10,96,Support core.fsyncObjectFiles option,"Support core.fsyncObjectFiles option

Some repositories may be on really unstable filesystems, but still
want to have good reliability when objects are written to disk.  If
core.fsyncObjectFiles is set to true, request the JVM to ensure the
data is written before returning success to the caller of insert.

The option defaults to false because it should be useless on any
filesystem that orders writes and metadata, such as ext3 mounted with
data=ordered (or data=journal).  But it may be useful on some systems
(especially HFS+) where file content may flush to the disk
independently of filesystem structure changes.

Because FileChannel.force(boolean) only claims to ensure data is
written if it was written using the write(ByteBuffer) method of
FileChannel, redirect all writes when using fsyncObjectFiles to go
through the FileChannel interface instead of through the older style
OutputStream interface.  This may not be necessary on all JVMs, but
its more portable to follow the definition than the common behavior.

Change-Id: I57f6b6bb7e403c07fbae989dbf3758eaf5edbc78
Signed-off-by: Shawn O. Pearce <spearce@spearce.org>",0,0,0,0,0,0,0,0,0
1884,Ie508a974da50f63b0409c38afe68772322dc19f1,https://git.eclipse.org/r/#/c/1884,2,99f1859133dbe8c4a1f7edf1e97caffa7a22cccc,39285377fa8ccf9befe8b5a6c3fe45e2fefab147,1,13/11/10,13/11/10,95,Support core.fsyncRefFiles option,"Support core.fsyncRefFiles option

If core.fsyncRefFiles is set to true, fsync is used whenever a
reference file is updated, ensuring the file contents are also
written to disk.  This can help to prevent empty ref files after
a system crash when using a filesystem such as HFS+ where data
writes may be delayed.

Change-Id: Ie508a974da50f63b0409c38afe68772322dc19f1
Signed-off-by: Shawn O. Pearce <spearce@spearce.org>",0,0,0,0,0,0,0,2,1
1885,Ice312b6fb4fdf9d36c734c3624c6d0537903913b,https://git.eclipse.org/r/#/c/1885,2,2a78eac59373beb2c21124d3506e7b2f5a554e08,d912968918ed0d90c8332a9454a96154482ef3e9,1,13/11/10,13/11/10,31,Remove unnecessary region locking from LockFile,"Remove unnecessary region locking from LockFile

The lock file protocol relies on the atomic creation of a standardized
name in the parent directory of the file being updated.  Since the
creation is atomic, at most one thread in any process can succeed on
this creation, and all others will fail.  While the lock file exists,
that file is private to the thread that is writing it, and no others
will attempt to read or modify the file.

Consequently the use of the region level locks around the file are
unnecessary, and may actually reduce performance when using NFS, SMB,
or some other sort of remote filesystem that supports locking.

Change-Id: Ice312b6fb4fdf9d36c734c3624c6d0537903913b
Signed-off-by: Shawn O. Pearce <spearce@spearce.org>",0,0,0,0,0,0,0,0,0
1886,I144af9db4714acabd796880be73bd50d84b92efe,https://git.eclipse.org/r/#/c/1886,2,b847d9364c3ad096e87a489748aadc4d9b78680d,9785dff3297f2bcee8a150dc5a7f35adde4817bc,1,13/11/10,13/11/10,6,Remove unnecessary flush calls from LockFile,"Remove unnecessary flush calls from LockFile

Change-Id: I144af9db4714acabd796880be73bd50d84b92efe
Signed-off-by: Shawn O. Pearce <spearce@spearce.org>",0,0,0,1,0,0,1,0,0
1888,Iffbddccaa588cf0d1460a5e44dabaf540d996e26,https://git.eclipse.org/r/#/c/1888,3,7cac032da4b0da34bdd8a13cdd63ad9055db68a8,0214775678ae4e98562c8196752cc6470f59f575,1,13/11/10,13/11/10,102,Fixed checkouts when HEAD is ignored,"Fixed checkouts when HEAD is ignored

In the case where DirCacheCheckout was used to checkout a tree
without taking HEAD into account (e.g. during a clone or hard reset)
we didn't handle conflicts correctly. E.g. if there are conflicts
(entries with stage != 0) in the index and we tried to hard reset
we have been processing the conflicting pathes multiple times (once
for every stage). With this fix we will update the index with the
entry from the ""merge"" state (the state we want checkout) when we
detect existing conflicts.

Change-Id: Iffbddccaa588cf0d1460a5e44dabaf540d996e26
Signed-off-by: Christian Halstrick <christian.halstrick@sap.com>",0,0,0,0,0,0,0,0,0
1889,Ibb4d756844f4667e181e24a34a468dc3655863ac,https://git.eclipse.org/r/#/c/1889,2,44bdc94b800f6e34a41f20424602f7a5b534ab7e,add80c2f1ed6d64eb8af3f29f871e83effebc029,1,13/11/10,13/11/10,126,SimilarityIndex: accept files larger than 8 MB,"SimilarityIndex: accept files larger than 8 MB

Files bigger than 8 MB (2^23 bytes) tended to overflow the internal
hashtable, as the table was capped in size to 2^17 records.  If a
file contained 2^17 unique data blocks/lines, the table insertion
got stuck in an infinite loop as the able couldn't grow, and there
was no open slot for the new item.

Remove the artifical 2^17 table limit and instead allow the table
to grow to be as big as 2^30.  With a 64 byte block size, this
permits hashing inputs as large as 64 GB.

If the table reaches 2^30 (or cannot be allocated) hashing is
aborted.  RenameDetector no longer tries to break a modify file pair,
and it does not try to match the file for rename or copy detection.

Change-Id: Ibb4d756844f4667e181e24a34a468dc3655863ac
Signed-off-by: Shawn O. Pearce <spearce@spearce.org>",1,0,0,0,0,0,1,2,1
1890,I93509b28b61a9bba8f681a7b4df4c6127bca2a09,https://git.eclipse.org/r/#/c/1890,2,989f1359e70d467aaceee2eb9f60df58b94b4907,3a9bdca5d6d0701dfb952e6d27baeb22615084c9,1,13/11/10,13/11/10,10,SimilarityIndex: Only attempt to index large files once,"SimilarityIndex: Only attempt to index large files once

If a file fails to index the first time the loop encounters it, the
file is likely to fail to index again on the next row.  Rather than
wasting a huge amount of CPU to index it again and fail, remember
which destination files failed to index and skip over them on each
subsequent row.

Because this condition is very unlikely, avoid allocating the BitSet
until its actually needed.  This keeps the memory usage unaffected
for the common case.

Change-Id: I93509b28b61a9bba8f681a7b4df4c6127bca2a09
Signed-off-by: Shawn O. Pearce <spearce@spearce.org>",1,0,0,0,0,0,1,0,0
1891,I11ae37edb80a7be1eef8cc01d79412017c2fc075,https://git.eclipse.org/r/#/c/1891,2,a0a9b38db3b3f22d8d09ad24f2082c778e213b5c,ba452bca019af56d7d351d1bdb5500a02b5f0c9a,1,13/11/10,13/11/10,19,SimilarityIndex: Avoid allocating source index,"SimilarityIndex: Avoid allocating source index

If the only file added is really small, and all of the deleted
files are really big, none of the permutations will match up due
to the sizes being too far apart to fit the current rename score.

Avoid allocating the really big deleted SimilarityIndex by deferring
its construction until at least one add along that row has a
reasonable chance of matching it.

This avoids expending a lot of CPU time looking at big deleted
binary files when a small modified text file was broken due to a
high percentage of changed lines.

Change-Id: I11ae37edb80a7be1eef8cc01d79412017c2fc075
Signed-off-by: Shawn O. Pearce <spearce@spearce.org>",1,0,0,0,0,0,1,0,0
1892,Iad859e910655675b53ba70de8e6fceaef7cfcdd1,https://git.eclipse.org/r/#/c/1892,2,0e1939d1cbc3d3fc94fd702760fc8aa435f6e1d1,9c0653826d2fb8819e9e167dd5d04b06727b9548,1,13/11/10,13/11/10,13,SimilarityRenameDetector: Initialize sizes to 0,"SimilarityRenameDetector: Initialize sizes to 0

Setting the array elements to -1 is more expensive than relying on
the allocator to zero the array for us first.  Shifting the code to
always add 1 to the size (so an empty file is actually 1 byte long)
allows us to detect an unloaded size by comparing to 0, thus saving
the array fill calls.

Change-Id: Iad859e910655675b53ba70de8e6fceaef7cfcdd1
Signed-off-by: Shawn O. Pearce <spearce@spearce.org>",1,0,0,0,0,0,1,0,0
1893,I00fb90c509fa26a053de561dd8506cc1e0f5799a,https://git.eclipse.org/r/#/c/1893,2,2f1b1f269fa94f97c13b1798185a0ec9444d508d,7793290951fcfc353c818d17a970c93c8738f990,1,13/11/10,13/11/10,17,RenameDetector: Only scanning deletes if adds exist,"RenameDetector: Only scanning deletes if adds exist

If there are only deletes, don't need perform rename or copy
detection.  There are no adds (aka destinations) for the deletes
to match against.

Change-Id: I00fb90c509fa26a053de561dd8506cc1e0f5799a
Signed-off-by: Shawn O. Pearce <spearce@spearce.org>",1,0,0,0,0,0,1,1,1
1895,Ib7b8c5f982dc72c68cf3d81e45a536c464837f7d,https://git.eclipse.org/r/#/c/1895,1,593c02a6a5a768d3f7ce0dfae9f6f9821317766f,37e7df185bfdcf46cc507b55ee3169a16f989d22,1,12/11/10,12/11/10,16,Use capital L for long constants,"Use capital L for long constants

Change-Id: Ib7b8c5f982dc72c68cf3d81e45a536c464837f7d
Signed-off-by: Robin Rosenberg <robin.rosenberg@dewire.com>",0,0,0,1,0,0,1,0,0
1897,I07c1fba7dee093a1eeffcf7e0c7ec85446777ffb,https://git.eclipse.org/r/#/c/1897,1,ae8ef31399a7ca0124106c4466f650a9b4010873,849b047830e3ecb0ae6806c936cfec6b9639607e,1,13/11/10,13/11/10,4,SimilarityIndex: Correct comment explaining the logic,"SimilarityIndex: Correct comment explaining the logic

This comment was wrong, due to a copy-and-paste error.  Here the
code is looking at records of dst that do not exist in src, and
are skipping past them to find another match.

Change-Id: I07c1fba7dee093a1eeffcf7e0c7ec85446777ffb
Signed-off-by: Shawn O. Pearce <spearce@spearce.org>",1,0,0,0,0,0,1,0,0
1898,I14e6dbc88d54ead19336a4c0c25eae18e73e6ec2,https://git.eclipse.org/r/#/c/1898,1,2533dbf2b39a9a38827e31b5b622e9fcd3c02700,221d1f6c65b0bce389d212eb89f1fd9481e46ca2,1,13/11/10,13/11/10,29,SimilarityIndex: Don't overflow internal counter fields,"SimilarityIndex: Don't overflow internal counter fields

The counter portion of each pair is only 32 bits wide, but is part
of a larger 64 bit integer.  If the file size was larger than 4 GB
the counter could overflow and impact the key, changing the hash,
and later resulting in an incorrect similarity score.

Guard against this overflow condition by capping the count for each
record at 2^32-1.  If any record contains more than that many bytes
the table aborts hashing and throws TableFullException.

This permits the index to scan and work on files that exceed 4 GB
in size, but only if the file contains more than one unique block.
The index throws TableFullException on a 4 GB file containing all
zeros, but should succeed on a 6 GB file containing unique lines.

The index now uses a 64 bit accumulator during the common scoring
algorithm, possibly resulting in slower summations.  However this
index is already heavily dependent upon 64 bit integer operations
being efficient, so increasing from 32 bits to 64 bits allows us
to correctly handle 6 GB files.

Change-Id: I14e6dbc88d54ead19336a4c0c25eae18e73e6ec2
Signed-off-by: Shawn O. Pearce <spearce@spearce.org>",1,0,0,0,0,0,1,0,0
1899,I484807e82be790e4fe7cbe84f680aaccd662d433,https://git.eclipse.org/r/#/c/1899,1,8ca759ea6caff993e6853758b0fc57bb72f39912,d7fe6e25b011f6a2d1f84c2b5879ad53f52f7df4,1,13/11/10,13/11/10,54,Added one-tree constructor to DirCacheCheckout,"Added one-tree constructor to DirCacheCheckout

When DirCacheCheckout should be used to checkout only one
tree (reset --hard, clone) then we had to use the standard
constructor and specify null as value for head. This change
adds explicit constructors not taking HEAD and documents
that.

Bug: 330021
Signed-off-by: Christian Halstrick <christian.halstrick@sap.com>",0,0,0,0,0,0,0,0,0
1900,I2996aaa704e9d6182e5500c7a63240d5e9d722cc,https://git.eclipse.org/r/#/c/1900,1,db6e30cce2a918d4047a881ebcdf3827c72f5251,21bcd7df435b35c3aee9aeeb52147e3d983d626b,1,13/11/10,13/11/10,1124,Base64: Strip out code JGit doesn't use,"Base64: Strip out code JGit doesn't use

Since we have already modified this class to localize an error
message, we might as well strip it down to contain only the
functionality we need, or might ever use.

To keep this simple to review we don't adjust formatting right
away, so code that was buried inside of an if or else block whose
condition was removed might not have the correct indentation anymore.
We can fix this with a later reformatting change.

Change-Id: I2996aaa704e9d6182e5500c7a63240d5e9d722cc
Signed-off-by: Shawn O. Pearce <spearce@spearce.org>",0,0,0,0,1,0,1,-5,0
1901,I0c7f89b6ab82dcf71525ffb69a388c312c195913,https://git.eclipse.org/r/#/c/1901,1,21bcd7df435b35c3aee9aeeb52147e3d983d626b,c771c7b60dab527dbe5873420cbbe5aa59b2e30f,1,13/11/10,13/11/10,619,Base64: Reformat to match JGit style,"Base64: Reformat to match JGit style

Rewrite the initialization of the encoding tables to be more clear,
but slightly slower to setup.  We generally perfer a clear definition
of the data over a slightly slower class load time.

Change-Id: I0c7f89b6ab82dcf71525ffb69a388c312c195913
Signed-off-by: Shawn O. Pearce <spearce@spearce.org>",0,0,0,0,1,0,1,0,0
1902,I22ef1eb63ae8ddb9884526099013979856ab7bd9,https://git.eclipse.org/r/#/c/1902,1,c771c7b60dab527dbe5873420cbbe5aa59b2e30f,79b97f8edbd0922abd8e40cb135d9c4c6d4c9b20,1,13/11/10,13/11/10,96,Add simple unit tests for Base64,"Add simple unit tests for Base64

Change-Id: I22ef1eb63ae8ddb9884526099013979856ab7bd9
Signed-off-by: Shawn O. Pearce <spearce@spearce.org>",0,0,0,1,0,0,1,0,0
1903,Ic35f98b226a42aee77a08d4f973dc024beb6d26d,https://git.eclipse.org/r/#/c/1903,1,a353987c03971b9aae9ec5375865a48932b2e105,179a0dccec13848f5e9b548300dbfda4235a04fc,0,13/11/10,13/11/10,0,Merge branch 'fs-fsync',"Merge branch 'fs-fsync'

* fs-fsync:
  Remove unnecessary flush calls from LockFile
  Remove unnecessary region locking from LockFile
  Support core.fsyncRefFiles option
  Support core.fsyncObjectFiles option
  Simplify LockFile write(ObjectId) case",1,0,0,0,0,0,1,NA,NA
1904,I51bf8ea2a4ad2b4b5d5ed68e03d03754389d1f83,https://git.eclipse.org/r/#/c/1904,1,179a0dccec13848f5e9b548300dbfda4235a04fc,21d400e4fd47503754c737f351f216440a15d086,0,13/11/10,13/11/10,0,Merge branch 'rename-detection',"Merge branch 'rename-detection'

* rename-detection:
  RenameDetector: Only scan deletes if adds exist
  SimilarityRenameDetector: Initialize sizes to 0
  SimilarityRenameDetector: Avoid allocating source index
  SimilarityRenameDetector: Only attempt to index large files once
  SimilarityIndex: Don't overflow internal counter fields
  SimilarityIndex: Accept files larger than 8 MB
  SimilarityIndex: Correct comment explaining the logic",1,0,0,0,0,0,1,NA,NA
1906,I2054c3fb8aeb19337caea5129003b6145c82ea1b,https://git.eclipse.org/r/#/c/1906,1,22cd4b72dffb0b114d3abecbf30e5a487ce4cef1,aa0e803ae585cd5d7e7e077aff891085a7cc6bf1,1,15/11/10,15/11/10,11,Add core.filemode to CoreConfig,"Add core.filemode to CoreConfig

Let CoreConfig cache the value of core.filemode so
clients like EGit can take advantage of it.

Signed-off-by: Chris Aniszczyk <caniszczyk@gmail.com>",0,0,0,0,0,1,1,0,0
1909,I0b74bb92254d0ee988139d25022d06d16ed89d58,https://git.eclipse.org/r/#/c/1909,3,b966d803fc87f9f0d222f0f208052b08ead4b650,d36a9c926e1190448d3ee00553e3144ef337ef36,1,22/11/10,22/11/10,238,Add RmCommand to Git API,"Add RmCommand to Git API

Change-Id: I0b74bb92254d0ee988139d25022d06d16ed89d58
Signed-off-by: Chris Aniszczyk <caniszczyk@gmail.com>",0,0,0,1,0,1,1,0,0
1910,I6e2cb37573cc8a29846f01e09e8c07e0dc279dbe,https://git.eclipse.org/r/#/c/1910,2,c81e0cee673eb0ec5c9c4b89ab1147221d9370f8,2c1ffdd1ab2ced31c06639c5efabd76fdd202cdb,0,22/11/10,22/11/10,52,Update Rm in the JGit CLI,"Update Rm in the JGit CLI

Since we have the RmCommand API now, update Rm to use it.

Change-Id: I6e2cb37573cc8a29846f01e09e8c07e0dc279dbe
Signed-off-by: Chris Aniszczyk <caniszczyk@gmail.com>",0,0,0,0,0,0,0,NA,NA
1925,Ia6a75fdb382ff6461e02054d94baf011bdeee5aa,https://git.eclipse.org/r/#/c/1925,1,608e3f8d18c3dcfcc37559cfd91318eb542dff02,4137f1e89b645a3d021f8380f2d2e706f5c271da,1,19/11/10,19/11/10,36,Name TreeFilter and MergeFilter implementations,"Name TreeFilter and MergeFilter implementations

Naming these inner classes ensures that stack traces which contain
them will give us useful information about which filter is involved in
the trace, rather than the generated names $1, $2, etc.  This makes it
much easier to understand a stack trace at a glance.

Change-Id: Ia6a75fdb382ff6461e02054d94baf011bdeee5aa
Signed-off-by: Shawn O. Pearce <spearce@spearce.org>",1,0,0,0,0,0,1,0,0
1926,Ic4603c33b772d7a45f9c81140537d51945688fcb,https://git.eclipse.org/r/#/c/1926,1,4137f1e89b645a3d021f8380f2d2e706f5c271da,72ab4aea9508ec7474f3e538c5061712636340e6,0,19/11/10,19/11/10,77,Move WorkingTreeIterator inherited state into an object,"Move WorkingTreeIterator inherited state into an object

Instead of copying up to 4 fields from the parent iterator each time a
child iterator is initialized and used, construct a single state
object that contains the 4 fields, and pass that one state object
through to the child.  This makes it easier to add additional state
fields that must be inherited, at the slight expense of an extra
object allocation per TreeWalk, and an extra level of field
indirection whenever the options, nameEncoder, or read buffer is
required by the iterator.

Change-Id: Ic4603c33b772d7a45f9c81140537d51945688fcb
Signed-off-by: Shawn O. Pearce <spearce@spearce.org>",0,0,0,0,0,0,0,NA,NA
1927,I2b2170c29017993d8cb7a1d3c8cd94fb16c7dd02,https://git.eclipse.org/r/#/c/1927,7,72ab4aea9508ec7474f3e538c5061712636340e6,854fd6555e9168e38a31d57c5750176e0d03f31b,0,03/02/11,03/02/11,40,Reuse cached SHA-1 when computing from WorkingTreeIterator,"Reuse cached SHA-1 when computing from WorkingTreeIterator

Change-Id: I2b2170c29017993d8cb7a1d3c8cd94fb16c7dd02
Signed-off-by: Shawn O. Pearce <spearce@spearce.org>",0,1,0,1,0,0,1,NA,NA
1929,I4385d3c990db11d62e371a385dc8ee89841db84a,https://git.eclipse.org/r/#/c/1929,2,edafd3a339bf174f4794b61bf9cf167dcd586dac,0851790a53f63d68299e5f8b3c315128141beb59,1,22/11/10,22/11/10,52,Fix bug regarding handling of unversioned files during merge,"Fix bug regarding handling of unversioned files during merge

There was a bug introduced by commit 0e815fe. For unversioned files
the merge algorithm detected a incoming deletion from THEIRS.
Consequently that file was deleted. That's a severe bug fixed by
better detecting incoming deletions.


Change-Id: I4385d3c990db11d62e371a385dc8ee89841db84a
Signed-off-by: Christian Halstrick <christian.halstrick@sap.com>
Signed-off-by: Philipp Thun <philipp.thun@sap.com>",0,0,0,0,0,1,1,0,0
1937,Ic441380f9cf6a294f6353ff35526a367f950004f,https://git.eclipse.org/r/#/c/1937,1,c2e81a7faf437d113c7b828a7d46cd31e537f510,f8151d9db188ed3056e1696eccc87e9838ae9e86,1,23/11/10,23/11/10,74,Add the Checkout command to the Git CLI,"Add the Checkout command to the Git CLI

The implementation delegates to the CheckoutCommand and
therefore only supports some of the options supported by
the CheckoutCommand.

Signed-off-by: Chris Aniszczyk <caniszczyk@gmail.com>",1,0,0,0,0,0,1,0,0
1938,Ia4a272d26cde7e1861dac30496e4b6799fc8187a,https://git.eclipse.org/r/#/c/1938,2,4387e59e92c698330cc44b80a57c89242a8e2eb0,df761981f8d73f123fae6900ea33235ed7e9617f,1,24/11/10,24/11/10,104,Add more tests for rebase and externalized missing Strings,"Add more tests for rebase and externalized missing Strings

Coverage tests showed that we are missing to test certain areas
in the rebase command. Add the missing tests.

Change-Id: Ia4a272d26cde7e1861dac30496e4b6799fc8187a
Signed-off-by: Christian Halstrick <christian.halstrick@sap.com>",0,0,0,0,0,0,0,0,0
1939,I21cb23f852965b82fb82ccd66ec961c7edb3ac3d,https://git.eclipse.org/r/#/c/1939,3,1e48f3a553de0bde45b09ec91cf95fff6a47c054,ad7d587257b1391d5c8fd6329d7d07d004c04b2b,1,03/12/10,03/12/10,90,Fixed Merge Algorithm regarding concurrent file creations,"Fixed Merge Algorithm regarding concurrent file creations

When in OURS and THEIRS a new file is created we want a conflict
when the two contents differ. If on two branches the same file
with the same content is created this should not be a conflict.
But: the current merge algorithm is throwing NPEs in this case.
Fix this by choosing an empty RawText as common base if the
base is empty.

Change-Id: I21cb23f852965b82fb82ccd66ec961c7edb3ac3d
Signed-off-by: Christian Halstrick <christian.halstrick@sap.com>",0,0,0,0,0,1,1,0,0
1940,Ie2f5799037a60243bb4fac52346908ff85c0ce5d,https://git.eclipse.org/r/#/c/1940,4,a5ffea59eb53ae4d407860493b21d54bab61271a,21e341465ca544de2665f34bc095f0aaeafd007d,1,27/11/10,27/11/10,9,RebaseCommand: trim line endings when reading files,"RebaseCommand: trim line endings when reading files

In order to enable interoperability with the command line, we need to
remove line feeds when reading the files.

Change-Id: Ie2f5799037a60243bb4fac52346908ff85c0ce5d
Signed-off-by: Mathias Kinzler <mathias.kinzler@sap.com>",0,1,0,0,0,0,1,0,0
1948,If55d955e37235d4d00f5b0febd6aa10c0e27814e,https://git.eclipse.org/r/#/c/1948,3,6e9528284bc283ba17ebc9e9c374196caadfac0d,69d5a1101b271222323b553de16011e5b4904060,1,29/11/10,29/11/10,104,"Fix DiffConfig to understand ""copy"" resp. ""copies"" for diff.renames property.","Fix DiffConfig to understand ""copy"" resp. ""copies"" for diff.renames property.

Rename detection should be considered enabled if
diff.renames config property is set to ""copy"" or ""copies"", instead of
throwing IllegalArgumentException.",0,0,0,0,0,0,0,1,1
1953,I60b0b2975724f2e3582e8674d9f876dcbf62b350,https://git.eclipse.org/r/#/c/1953,2,c0f63677b268324146529d6ee15cc5e07ca87b9c,66d9b194f35b6445b37aad6f3ff5a9cce1080bb6,1,26/11/10,26/11/10,123,Do some more tests for rebase --abort,"Do some more tests for rebase --abort

Check for deletion of temporary files in .git folder.
Check for deletion and creation of files.

Change-Id: I60b0b2975724f2e3582e8674d9f876dcbf62b350
Signed-off-by: Stefan Lay <stefan.lay@sap.com>
Signed-off-by: Mathias Kinzler <mathias.kinzler@sap.com>",0,0,0,0,0,0,0,0,0
1957,I2549c992e478d991c61c9508ad826d1a9e539ae3,https://git.eclipse.org/r/#/c/1957,2,640eac598d9aacf81a6c253085404c0244b5b70b,d373c6b75ad5f7462c34d470de2526de2585109a,1,26/11/10,26/11/10,105,Make diff algorithm configurable,"Make diff algorithm configurable

The diff algorithm which is used by Merge, Cherry-Pick, Rebase
should be configurable. A new configuration parameter ""diff.algorithm""
is introduced which currently accepts the values ""myers"" or
""histogram"". Based on this parameter for example the ResolveMerger
will choose a diff algorithm. The reason for this is bug 331078.
This bug shows that JGit is more compatible with C Git when
histogram diff is in place. But since histogram diff is quite new we
need an easy way to fall back to Myers diff.

Bug: 331078
Change-Id: I2549c992e478d991c61c9508ad826d1a9e539ae3
Signed-off-by: Christian Halstrick <christian.halstrick@sap.com>
Signed-off-by: Philipp Thun <philipp.thun@sap.com>",0,0,0,0,0,0,0,0,0
1958,I54f30afb3a9fef1dbca365ca5f98f4cc846092e3,https://git.eclipse.org/r/#/c/1958,2,dfd753a9cd177ff87373a57453d7b54a752d76f3,a6731f9c3e06d12aae6723b8591611ad4b14e442,1,26/11/10,26/11/10,27,Change default diff algorithm to histogram and add tests,"Change default diff algorithm to histogram and add tests

The referenced bug showed that JGit produced different merge results
compared to C Git. Unit test was added to reproduce the issue. The
problem can be solved by switching to histogram diff algorithm.

Bug: 331078
Change-Id: I54f30afb3a9fef1dbca365ca5f98f4cc846092e3
Signed-off-by: Christian Halstrick <christian.halstrick@sap.com>
Signed-off-by: Philipp Thun <philipp.thun@sap.com>",0,0,0,0,0,0,0,0,0
1968,I14bb7b03247d6c0b429a9d8d3f6b10f21d8ddeb1,https://git.eclipse.org/r/#/c/1968,4,b9521f3f18b041ad6a77a6bfef2f97fbace69de5,67a4f074784d61255bc9c39e4ed5c8e8144f6e1d,1,30/11/10,30/11/10,78,Include list of assume unchanged files in IndexDiff,"Include list of assume unchanged files in IndexDiff

The IndexDiff had not collected the info if the flag
""assume-unchanged"" is set. This information is useful for clients
which may want to decide if specific actions are allowed on a file.

Bug:326213
Change-Id: I14bb7b03247d6c0b429a9d8d3f6b10f21d8ddeb1
Signed-off-by: Stefan Lay <stefan.lay@sap.com>",0,1,0,0,0,0,1,0,0
1970,I255870f689225a1d88971182e0eb377952641b42,https://git.eclipse.org/r/#/c/1970,2,e06fd00ef26bc40b0d52aa29c60de808ea8bd1ed,3973f6c788ec6f25a4a23b5f899d6f5215f2bcd0,1,29/11/10,29/11/10,77,Check assume unchanged flag in Add command,"Check assume unchanged flag in Add command

When the assume unchanged flag is set the Add command must not update
the index for this file if any changes are present in the working
directory.

Change-Id: I255870f689225a1d88971182e0eb377952641b42
Signed-off-by: Stefan Lay <stefan.lay@sap.com>",0,0,0,0,0,0,0,0,0
1971,Ib273c4980036f75bd4dad3ffe1c29a37b2df932a,https://git.eclipse.org/r/#/c/1971,1,cdb3887f9c1094f880abe109ed24cb1b72227fbf,b86f5671c37c036f390b7b7a38b0a88b942efaff,1,30/11/10,30/11/10,25,Use the Set interface in declarations and as return value,"Use the Set interface in declarations and as return value

Change-Id: Ib273c4980036f75bd4dad3ffe1c29a37b2df932a
Signed-off-by: Stefan Lay <stefan.lay@sap.com>",0,0,0,1,0,0,1,0,0
1984,I5d2de57f8670e1d4c71ed22509ab17f04e2561b5,https://git.eclipse.org/r/#/c/1984,1,35e9cf0f2d54bf1133bf8541d38172a48ed86092,a69f903b5cc1ee6dd3f6916cc7dd6ea528360b76,1,03/12/10,03/12/10,7,"Rebase Interoperability first part: write ""interactive"" file","Rebase Interoperability first part: write ""interactive"" file

The Repository is then in state ""Rebase interactive"".

Change-Id: I5d2de57f8670e1d4c71ed22509ab17f04e2561b5
Signed-off-by: Mathias Kinzler <mathias.kinzler@sap.com>",0,0,0,0,0,0,0,0,0
1985,I8640dda0cbb2a5271ecf75fcbad69410122eeab6,https://git.eclipse.org/r/#/c/1985,1,a69f903b5cc1ee6dd3f6916cc7dd6ea528360b76,b8687496a145e20a8304649e6f64368eeed0cdbd,1,07/12/10,07/12/10,50,"Rebase Interoperability second part: fix ""pop steps""","Rebase Interoperability second part: fix ""pop steps""

If the CLI stops a rebase upon conflict, the current
step is already popped from the git-rebase-todo and appended to the
""done"" file. The current implementation wrongly pops the step only
after successful cherry-pick.

Change-Id: I8640dda0cbb2a5271ecf75fcbad69410122eeab6
Signed-off-by: Mathias Kinzler <mathias.kinzler@sap.com>",0,0,0,0,0,0,0,1,1
1986,I3cb4dc98609c059bf0cf9fd5f9e47a9c681cea2d,https://git.eclipse.org/r/#/c/1986,2,b8687496a145e20a8304649e6f64368eeed0cdbd,a9120ab2ca747de06d2db395ba1e7cc43d3767f2,1,07/12/10,07/12/10,27,Rebase Interoperability third part: handle stop upon conflict,"Rebase Interoperability third part: handle stop upon conflict

There are some files that need to exist so that the CLI can continue
after the rebase has been stopped due to conflicts

Change-Id: I3cb4dc98609c059bf0cf9fd5f9e47a9c681cea2d
Signed-off-by: Mathias Kinzler <mathias.kinzler@sap.com>",0,0,0,0,0,0,0,0,0
1991,I200a874fd7e39e3adf2640b8cd0f53dcf91ef4c9,https://git.eclipse.org/r/#/c/1991,1,a2b351e3cb7b4a5b484e62b6ad9d625b7214df88,43c0e9a99fbb5c55d09edaeee99718329ddb5600,1,01/12/10,01/12/10,5,Remove unused 'shift' variable from PackFile,"Remove unused 'shift' variable from PackFile

This variable was not used for anything, but Eclipse's JDT failed to
notice because of the ""shift += "" operation within the body of the
while loop.  Here we don't need the shift because we do not decode the
length, but we do have to skip over the bytes that store the length to
locate the delta base.

Bug: 331319
Change-Id: I200a874fd7e39e3adf2640b8cd0f53dcf91ef4c9
Signed-off-by: Shawn O. Pearce <spearce@spearce.org>
CC: Remy Suen <remysuen@ca.ibm.com>",0,0,0,0,0,0,0,0,0
1992,I87029258e88924b3e5850bdd6c9006a366191d10,https://git.eclipse.org/r/#/c/1992,1,43c0e9a99fbb5c55d09edaeee99718329ddb5600,30342b8cba72d5c28a0b85968c41927b5d23ae0e,1,02/12/10,02/12/10,9,Avoid unnecessary decoding of length in PackFile,"Avoid unnecessary decoding of length in PackFile

If the object type is a whole object and all we want is the type,
there is no need to skip the length header.  The type is already known
and can be returned as-is.  Instead skip the length header only for
the two delta formats, where the delta base must itself be scanned.

Change-Id: I87029258e88924b3e5850bdd6c9006a366191d10
Signed-off-by: Shawn O. Pearce <spearce@spearce.org>",0,0,0,0,0,0,0,0,0
2014,I1428b861f22cabe4d92cadf3d9114dddeec75b40,https://git.eclipse.org/r/#/c/2014,3,cca97ef25e48b8e6bc6ef928c5c4f779eb00f7f4,19d285464e3eae42b887ca6fe990acfad98d0c19,1,06/12/10,06/12/10,235,Add InitCommand,"Add InitCommand

Adds git-init support to the Git API.

Change-Id: I1428b861f22cabe4d92cadf3d9114dddeec75b40
Signed-off-by: Chris Aniszczyk <caniszczyk@gmail.com>",0,0,0,0,0,1,1,0,0
2015,I3d704f663a776bb57e59f28a8200753fae5e9d25,https://git.eclipse.org/r/#/c/2015,1,db36cf42dea9d84c083532b1a2890208a72b965d,016982db61a45bbc665281eaba53f6cab44c90a9,1,03/12/10,03/12/10,2,Fix jgit build broken by deabacc4,"Fix jgit build broken by deabacc4

Since 049827d7 MergeAlgorithm isn't static anymore.

Change-Id: I3d704f663a776bb57e59f28a8200753fae5e9d25
Signed-off-by: Matthias Sohn <matthias.sohn@sap.com>",0,0,0,0,0,0,0,0,0
2026,I35042bdc95a955beeaee29e54bde10e4240b2a71,https://git.eclipse.org/r/#/c/2026,1,016982db61a45bbc665281eaba53f6cab44c90a9,de4edec2381704108a69cbecf002facaca1b40d8,1,05/12/10,05/12/10,20,"Correct CommitBuilder, TagBuilder method to be build()","Correct CommitBuilder, TagBuilder method to be build()

The correct names for these is build(), as that is what a Java
developer will expect given the ""builder"" pattern.

Bug: 323541
Change-Id: I35042bdc95a955beeaee29e54bde10e4240b2a71
Signed-off-by: Shawn O. Pearce <spearce@spearce.org>
Reviewed-by: Chris Aniszczyk <caniszczyk@gmail.com>",0,0,0,0,0,0,0,0,0
2027,Idc5f097de9f7beafc5e54e597383d82daf9d7db4,https://git.eclipse.org/r/#/c/2027,1,de4edec2381704108a69cbecf002facaca1b40d8,89dc50d4a46972545a2dd688764333e2632b125f,1,06/12/10,06/12/10,184,"Remove result id from CommitBuilder, TagBuilder","Remove result id from CommitBuilder, TagBuilder

These objects don't need to be updated with the resulting ObjectId of
the formatted content, callers can get that from the ObjectInserter on
their own.

Change-Id: Idc5f097de9f7beafc5e54e597383d82daf9d7db4
Signed-off-by: Shawn O. Pearce <spearce@spearce.org>
Reviewed-by: Chris Aniszczyk <caniszczyk@gmail.com>",0,0,0,0,0,0,0,0,0
2028,If5955757575d4c6053b6f8109e9dc2ecb0502446,https://git.eclipse.org/r/#/c/2028,1,89dc50d4a46972545a2dd688764333e2632b125f,e435fc2fc48449dc611da353f8dfb28b4bbf5191,1,06/12/10,06/12/10,19,Remove unused getTreeId from TreeFormatter,"Remove unused getTreeId from TreeFormatter

Change-Id: If5955757575d4c6053b6f8109e9dc2ecb0502446
Signed-off-by: Shawn O. Pearce <spearce@spearce.org>
Reviewed-by: Chris Aniszczyk <caniszczyk@gmail.com>",0,0,0,1,0,0,1,0,0
2029,I188f43acc34455e773d63836724b05e18f5c7a84,https://git.eclipse.org/r/#/c/2029,1,e435fc2fc48449dc611da353f8dfb28b4bbf5191,92edae3df4bf42e32dd27997de4162e338c98dd6,1,06/12/10,06/12/10,23,"Add toByteArray to CommitBuilder, TreeBuilder","Add toByteArray to CommitBuilder, TreeBuilder

This better matches the existing API of TreeFormatter, but is just a
simple delegation to build().

Change-Id: I188f43acc34455e773d63836724b05e18f5c7a84
Signed-off-by: Shawn O. Pearce <spearce@spearce.org>
Reviewed-by: Chris Aniszczyk <caniszczyk@gmail.com>",0,0,0,0,0,0,0,0,0
2030,I5a45ef3a35cc73f4905a34bc6f6228510df8eb2c,https://git.eclipse.org/r/#/c/2030,1,92edae3df4bf42e32dd27997de4162e338c98dd6,9be2ff9c42e3c4d1a7557d0578d6d8045d753099,1,06/12/10,06/12/10,26,Add insert(TreeFormatter) to ObjectInserter,"Add insert(TreeFormatter) to ObjectInserter

This makes usage of a TreeFormatter more similar to a CommitBuilder or
a TagBuilder: populate the formatter and pass to the ObjectInserter.

Change-Id: I5a45ef3a35cc73f4905a34bc6f6228510df8eb2c
Signed-off-by: Shawn O. Pearce <spearce@spearce.org>
Reviewed-by: Chris Aniszczyk <caniszczyk@gmail.com>",0,0,0,0,0,0,0,0,0
2031,If17c414db0d2e8d84e65de8bbcba7fd1b79aa311,https://git.eclipse.org/r/#/c/2031,1,9be2ff9c42e3c4d1a7557d0578d6d8045d753099,4df6c2d2a3869ec8c802aef4fb91de9e1105475c,1,06/12/10,06/12/10,36,Add debugging toString to TreeFormatter,"Add debugging toString to TreeFormatter

Displaying the current tree in the ls-tree style output makes it
easier to see what entries are currently stored.

Change-Id: If17c414db0d2e8d84e65de8bbcba7fd1b79aa311
Signed-off-by: Shawn O. Pearce <spearce@spearce.org>
Reviewed-by: Chris Aniszczyk <caniszczyk@gmail.com>",0,0,0,0,0,0,0,0,0
2032,Ifc3863461654df7f34fdecbd2abe1f4b5d2ffb8e,https://git.eclipse.org/r/#/c/2032,2,4df6c2d2a3869ec8c802aef4fb91de9e1105475c,e62b03ace9618d4991f75fc1f0b7368d1cab5bd3,0,05/12/10,05/12/10,21,Ensure stable tag sort in PlotWalk,"Ensure stable tag sort in PlotWalk

Because tags are more interesting here than local or remote branch
heads, tags get sorted earlier in the array than heads or remotes do.

Bug: 324939
Change-Id: Ifc3863461654df7f34fdecbd2abe1f4b5d2ffb8e
Signed-off-by: Shawn O. Pearce <spearce@spearce.org>
CC: Mathias Kinzler <mathias.kinzler@sap.com>
CC: Stefan Lay <stefan.lay@sap.com>",0,0,0,0,0,0,0,NA,NA
2033,I967590b6f233fd1c83d873075db01d653208b3b9,https://git.eclipse.org/r/#/c/2033,3,b4c0b80d9e93c85debbafe9cdd21322c23d80d3a,92bb913547987de76f1e43b585caa4bba9338950,1,04/12/10,04/12/10,17,Support checking out large files,"Support checking out large files

Bug: 321097
Change-Id: I967590b6f233fd1c83d873075db01d653208b3b9
Signed-off-by: Shawn O. Pearce <spearce@spearce.org>
CC: Chris Aniszczyk <caniszczyk@gmail.com>
CC: Christian Halstrick <christian.halstrick@sap.com>",0,0,0,0,0,0,0,-1,0
2034,Ibfd17951606f02283660befcff53ff9b73405dd9,https://git.eclipse.org/r/#/c/2034,1,2b634dfca96435c864c7e9bffdfb34263fd9a327,53d85c6aa1c38ed2f76154c581a37e031bba14b9,1,03/12/10,03/12/10,43,Add missing license header,"Add missing license header

Change-Id: Ibfd17951606f02283660befcff53ff9b73405dd9
Signed-off-by: Matthias Sohn <matthias.sohn@sap.com>",0,0,0,1,0,0,1,0,0
2035,I64205bb0315a725dfa523ccff1796de50f465162,https://git.eclipse.org/r/#/c/2035,3,c5044af6f22975faf36a8a41b6d4ba96f1090df2,8f77386b4267d5621f98e5c8b4ff358ed80ee26b,1,05/12/10,05/12/10,62,Fix findGitDir() with no ceiling directories,"Fix findGitDir() with no ceiling directories

Bug: 322866
Change-Id: I64205bb0315a725dfa523ccff1796de50f465162
Signed-off-by: Shawn O. Pearce <spearce@spearce.org>
CC: Ketan Padegaonkar <KetanPadegaonkar@gmail.com>",0,0,0,0,0,0,0,0,0
2036,I9d8ee1a95f1bac5013b33a4a42dcf1f98f92172f,https://git.eclipse.org/r/#/c/2036,1,7bd0f5b47f4c732b40f0e325a2e71aa8f6b56657,a1d9f91a31a92db29d1011529033f1b5c8884ddf,0,05/12/10,05/12/10,223,Abstract SSH setup to support GIT_SSH,"Abstract SSH setup to support GIT_SSH

In order to honor GIT_SSH the TransportGitSsh class needs to run the
process named by the GIT_SSH environment variable and use that as the
pipes for connectivity to the remote peer.  Refactor the current
transport code to support a different type of pipe connectivity, so we
can later add GIT_SSH.

Bug: 321062
Change-Id: I9d8ee1a95f1bac5013b33a4a42dcf1f98f92172f
Signed-off-by: Shawn O. Pearce <spearce@spearce.org>",0,0,0,0,0,0,0,NA,NA
2037,Ia18ea49d58f3ed657430067f1f72ef788a2dae4c,https://git.eclipse.org/r/#/c/2037,1,a1d9f91a31a92db29d1011529033f1b5c8884ddf,43767688ad9263589bcad598dd981e6392787d69,0,06/12/10,06/12/10,89,Honor GIT_SSH when opening SSH connections,"Honor GIT_SSH when opening SSH connections

If the environment variable GIT_SSH is set, use GIT_SSH for any remote
protocol connections, instead of the local JSch library.

Bug: 321062
Change-Id: Ia18ea49d58f3ed657430067f1f72ef788a2dae4c
Signed-off-by: Shawn O. Pearce <spearce@spearce.org>",0,0,0,0,0,0,0,NA,NA
2040,I862afd4cb78013ee033d4ec68c067b1774a05be8,https://git.eclipse.org/r/#/c/2040,5,d0ece86c995d85d37eeb9c852d633dc358d7bbfd,4adfcc7ea45f0ad69cd224d83ccca794d0f2c55d,1,08/12/10,08/12/10,113,IndexPack object-loading now uses streaming - it doesn't create a full object byte-array unless required,"IndexPack object-loading now uses streaming - it doesn't create a full object byte-array unless required

Here 'required' means that the object is of a type that can be structurally-checked (a Commit, Tag, or Tree - tiny objects) - but blobs can *not* be structually verified, and so we don't allocate large byte-arrays for those blobs.

Note that this commit takes a liberty, and also removes a different kind of check. Blob objects are no longer checked using byte-for-byte comparision with already-known blobs. We should probably add the option to check an object if it's smaller than a given size.",0,1,0,0,0,0,1,0,0
2048,I3ff700a87dfa6ac255c1aaf3fe11a07264594aab,https://git.eclipse.org/r/#/c/2048,1,7b04b417d8455af8952dbeb98be68bf619061733,fe57932b91751a5f5f9cbbef12082d3506eee9f3,0,07/12/10,07/12/10,16,Update Init to use InitCommand,"Update Init to use InitCommand

Change-Id: I3ff700a87dfa6ac255c1aaf3fe11a07264594aab
Signed-off-by: Chris Aniszczyk <caniszczyk@gmail.com>",0,0,0,1,0,1,1,NA,NA
2049,I68620c07f2d3ab7f3279c71a91e184e8eac69832,https://git.eclipse.org/r/#/c/2049,1,aabad883a505a979ca7fa2f5701e0a28ba9e8e02,bba5408adf233426f06cf90b5a24b40895e3ac3f,1,06/12/10,06/12/10,21,LockFile.commit: retry renaming,"LockFile.commit: retry renaming

Currently the following can happen in LockFile.commit: deletion of the
original file succeeds but renaming fails afterwards. In this case the
original file (e.g. branch file in refs/heads) is lost.
To workaround the issue the same retry logic as for file deletion is
applied to file renaming.

Bug: 331890
Change-Id: I68620c07f2d3ab7f3279c71a91e184e8eac69832
Signed-off-by: Jens Baumgart <jens.baumgart@sap.com>
Signed-off-by: Philipp Thun <philipp.thun@sap.com>",0,0,0,0,0,0,0,0,0
2053,Ibe1191498dceb9cbd1325aed85b4c403db19f41e,https://git.eclipse.org/r/#/c/2053,5,747f5cf019cf12c93b4909a7a0b2345fd9284b0d,2255e845e6c575a7dd9bd7c3fa452a0743b4266a,1,01/02/11,01/02/11,411,[DRAFT] Add git-clone to Git API,"[DRAFT] Add git-clone to Git API

Enhance the Git API to support cloning repositories.

Change-Id: Ibe1191498dceb9cbd1325aed85b4c403db19f41e
Signed-off-by: Chris Aniszczyk <caniszczyk@gmail.com>",0,1,0,0,0,1,1,0,0
2054,I430c77b5d2cffcf8b47584326ad4817a7291845e,https://git.eclipse.org/r/#/c/2054,4,b23553185f7a57463c63d70ed98752ddecb5e9b7,dd51ea7f58f1322461cf50f137455e87e45345b6,1,08/12/10,08/12/10,134,Provide file utilities for file deletion,"Provide file utilities for file deletion

Provide file helper methods in a reusable utility class to
replace many local implementations. java.io.File has some
methods reporting failure by returning false. We prefer to
throw IOException on failure so that callers can't forget
checking the return value.

Change-Id: I430c77b5d2cffcf8b47584326ad4817a7291845e
Signed-off-by: Matthias Sohn <matthias.sohn@sap.com>",0,1,0,0,0,0,1,0,0
2055,I80ed20ca1f07a2bc6e779957a4ad0c713789c5be,https://git.eclipse.org/r/#/c/2055,4,239021bc98b714ad227632a0b82b326a9fac19b0,3d8bc5fffb9ca926944fd99421fc85649c139b16,1,08/12/10,08/12/10,136,[findbugs] Do not ignore exceptional return value,"[findbugs] Do not ignore exceptional return value

java.io.File.delete() reports failure as an exceptional
return value false. Fix the code which silently ignored
this exceptional return value. Also remove some duplicate
deletion helper methods.

Change-Id: I80ed20ca1f07a2bc6e779957a4ad0c713789c5be
Signed-off-by: Matthias Sohn <matthias.sohn@sap.com>",0,1,0,0,0,0,1,1,1
2057,I649467c6d84bbc0d26a070d0d4ff1e6f81fd5bad,https://git.eclipse.org/r/#/c/2057,1,e8e770b9eea324594569d036e589f2c06637de1a,c980dc6d657e435dc256e6f3abe640175403c5c6,0,07/12/10,07/12/10,7,Avoid NPE in Init,"Avoid NPE in Init

We should grab the repository directory from the command to
avoid an NPE if no git directory is passed in via the CLI.

Change-Id: I649467c6d84bbc0d26a070d0d4ff1e6f81fd5bad
Signed-off-by: Chris Aniszczyk <caniszczyk@gmail.com>",1,0,0,0,0,0,1,NA,NA
2058,Iee1051ce4f2038f19a08741e7a3a33f06a97a3c0,https://git.eclipse.org/r/#/c/2058,1,22c21ebece1b32c79e68eb72833d443a06fac0f2,892f4b967e731fcd68e4b9c0a7e4a056f30974ad,1,07/12/10,07/12/10,26,Clean up Init API,"Clean up Init API

Static accessors should come before a constructor.

Change-Id: Iee1051ce4f2038f19a08741e7a3a33f06a97a3c0
Signed-off-by: Chris Aniszczyk <caniszczyk@gmail.com>",1,0,0,0,0,0,1,0,0
2063,I5a84b486901c2cf63fa6a3306dd5fb5c53b4056b,https://git.eclipse.org/r/#/c/2063,2,cf6ca762648ae3e3bbb06a81002f43f55c18ed92,dcc83c0fac1ab2612c89dd892e53a0936e89a602,1,08/12/10,08/12/10,181,Refactor IndexPack to use InputStream for inflation,"Refactor IndexPack to use InputStream for inflation

By inflating with an InputStream like API, it is possible to stream
through large objects rather than allocating the entire thing as
a byte[].  This change only refactors the inflation code within
IndexPack to use a streaming interface.

Change-Id: I5a84b486901c2cf63fa6a3306dd5fb5c53b4056b
Signed-off-by: Shawn O. Pearce <spearce@spearce.org>
CC: Roberto Tyley <roberto.tyley@guardian.co.uk>",0,0,0,0,0,0,0,-1,0
2064,I434e94ffa43491019e7dff52ca420a4d2245f48b,https://git.eclipse.org/r/#/c/2064,1,938052bb21fdbf6247d8395c8173631f53d0efe9,331b39e975e1b57045999cb30d996ad4022676cf,1,08/12/10,08/12/10,48,Remove empty iterator from TreeWalk,"Remove empty iterator from TreeWalk

Its confusing that a new TreeWalk() needs to have reset() invoked
on it before addTree().  This is a historical accident caused by
how TreeWalk was abused within ObjectWalk.

Drop the initial empty tree from the TreeWalk and thus remove a
number of pointless reset() operations from unit tests and some of
the internal JGit code.

Existing application code which is still calling reset() will simply
be incurring a few unnecessary field assignments, but they should
consider cleaning up their code in the future.

Change-Id: I434e94ffa43491019e7dff52ca420a4d2245f48b
Signed-off-by: Shawn O. Pearce <spearce@spearce.org>",0,0,0,0,0,0,0,0,0
2065,I7c449589283a4a6b6e23f2586cd784febdca8bcd,https://git.eclipse.org/r/#/c/2065,2,00c8fa19ca2e72d42150f7f8cf8aa1e77b13ca67,b109b3ef6d0e724f513a35c2814f7c630504043a,1,08/12/10,08/12/10,48,Removed unread parameters,"Removed unread parameters

Some method parameters in WorkingTreeIterator are never used. Remove
them. Especially the removal of the FS parameter in isModified()
simplifies upcoming performance optimizations.

Change-Id: I7c449589283a4a6b6e23f2586cd784febdca8bcd
Signed-off-by: Christian Halstrick <christian.halstrick@sap.com>",0,0,0,0,0,0,0,0,0
2066,I2a51816f4ed9df2900c6307a54cd09f50004266f,https://git.eclipse.org/r/#/c/2066,5,8832d7ad3468211ca8f0da4bfd86dbe4f941b45b,4ff76dffec17dd8874ca9eed0d68352c20118c88,1,09/12/10,09/12/10,304,Add a performance optimized variant of the ANY_DIFF filter,"Add a performance optimized variant of the ANY_DIFF filter

If a treewalk walks also over index and the workingtree then
the IndexWorkingTreeDiff filter can be used which works much
faster then the semantically equivalent ANY_DIFF filter. This
is because this filter can better avoid computing SHA-1 ids
over the content of working-tree files which is very costly.

This fix will significantly improve the performance of e.g.
EGits commit dialog.

Change-Id: I2a51816f4ed9df2900c6307a54cd09f50004266f
Signed-off-by: Christian Halstrick <christian.halstrick@sap.com>
Signed-off-by: Philipp Thun <philipp.thun@sap.com>",0,1,0,0,0,0,1,1,1
2067,Idb176736fa0dc97af372f1d652a94ecc72fb457c,https://git.eclipse.org/r/#/c/2067,2,40f5e6e559fcb61d399f6e01e3712885a7fc04ac,347020cfcca3b230456067dbe24c2fdf1495685a,1,08/12/10,08/12/10,174,Clarify WorkingTreeOptions and filemode usage,"Clarify WorkingTreeOptions and filemode usage

To improve runtime performance, caching the WorkingTreeOptions inside
of the Config object using the Config.SectionParser API allows
the WorkingTreeOptions to be accessed more efficiently whenever a
FileTreeIterator is constructed for the Repository.

Instead of passing the filemode handling option into isModified(),
the WorkingTreeIterator should always honor whatever setting has
been configured in this repository, as defined by its own copy of
the WorkingTreeOptions.  This simplifies all of the callers as they
no longer need to lookup core.filemode on their own.

A few locations were changed from always using a hardcoded ""true""
on the file mode to passing what is actually configured in the
repository.  This is a behavior change, but corrects what should be
considered to be bugs as the core.filemode variable wasn't always
being used.

Change-Id: Idb176736fa0dc97af372f1d652a94ecc72fb457c
Signed-off-by: Shawn O. Pearce <spearce@spearce.org>",0,0,0,0,0,0,0,0,0
2068,I7df29b414f6d5cfcf533edb1405083e6fcec32cf,https://git.eclipse.org/r/#/c/2068,2,6546edc6e5b08c8c01fdc1b348d93b9aa988fe69,c6995b369b4d2fccce42bb8f1f5dfad7e4a252d7,1,08/12/10,08/12/10,3,IndexDiff: Simplify allocation of filter list,"IndexDiff: Simplify allocation of filter list

We add either 3 or 4 filters.  If we are adding only 3 filters,
allocating the array for 4 isn't a huge waste of memory, but it
does simplify our code.

Change-Id: I7df29b414f6d5cfcf533edb1405083e6fcec32cf
Signed-off-by: Shawn O. Pearce <spearce@spearce.org>",0,0,0,0,0,0,0,0,0
2069,I9b827fbbafce1c78f09d5527cdc64fbe9022a16e,https://git.eclipse.org/r/#/c/2069,2,e80464e60d103781e565d1cc953b38bae0ba608a,0bd75047c62548e924d674dbdd886673a8e3c2a2,1,08/12/10,08/12/10,17,IndexDiff: Always use TreeWalk.getPathString(),"IndexDiff: Always use TreeWalk.getPathString()

Instead of asking the individual iterators for their path string, use
the TreeWalk's generic getPathString() method.  Its just as fast
because it uses the path of the current matching iterator.

Change-Id: I9b827fbbafce1c78f09d5527cdc64fbe9022a16e
Signed-off-by: Shawn O. Pearce <spearce@spearce.org>",0,0,0,0,0,0,0,0,0
2070,Ie842ddc147957d09205c0d2ce87b25c566862fd9,https://git.eclipse.org/r/#/c/2070,2,d79013eaecf45f6f21659c98b7c66f7b16b5ab40,0b4418ca55ab221dafb111f8c0460d8505ddf805,1,08/12/10,08/12/10,11,IndexDiff: Remove always true not-subtree check,"IndexDiff: Remove always true not-subtree check

The TreeWalk is configured to be recursive, which means subtrees are
never presented to the application.  Therefore the working tree file
mode can never be a subtree/subdirectory at this point in the code.

Change-Id: Ie842ddc147957d09205c0d2ce87b25c566862fd9
Signed-off-by: Shawn O. Pearce <spearce@spearce.org>",0,0,0,0,0,0,0,0,0
2071,I5f26c40dec5f0e4a47413af033dbedb0c252dd20,https://git.eclipse.org/r/#/c/2071,2,243df3487c686e1c2f3b63a24d4c9b5db70ae579,d57d23a07b285909c28a20b15c31dac6abe00f39,1,08/12/10,08/12/10,2,IndexDiff: Correct Javadoc for getUntracked() method,"IndexDiff: Correct Javadoc for getUntracked() method

Change-Id: I5f26c40dec5f0e4a47413af033dbedb0c252dd20
Signed-off-by: Shawn O. Pearce <spearce@spearce.org>",0,0,0,1,0,0,1,0,0
2072,Ibe464c1a0e51c19dc287a4bc5348b7b07f4d840b,https://git.eclipse.org/r/#/c/2072,2,feefdaa176437d151dd902841739c18d7b994572,1c5e4198fbe05a9f2960d711fa9a17a6ecee80f9,1,08/12/10,08/12/10,19,IndexDiff: Fix getAssumeUnchanged(),"IndexDiff: Fix getAssumeUnchanged()

If the caller really needs the list of files that are flagged as
assume-unchanged (aka assume-valid in the DirCache), we should give
them the complete list and not just those that we wrongly identified
as being modified during diff().

This change is necessary because diff() is slightly broken and is
discovering differences on files that it shouldn't have considered.

Change-Id: Ibe464c1a0e51c19dc287a4bc5348b7b07f4d840b
Signed-off-by: Shawn O. Pearce <spearce@spearce.org>",0,0,0,0,0,0,0,0,0
2073,I1a267254c04b3273a97f63c71d1e6718cd9d2fa8,https://git.eclipse.org/r/#/c/2073,2,0ff36e8569567970350c1ce95b1d8bbce1d4805e,945199eb8cf407e2ef3bb22c25398bb007fa2ef0,1,08/12/10,08/12/10,5,IndexDiff: Clean up tree-index compare for staged files,"IndexDiff: Clean up tree-index compare for staged files

When comparing the ObjectIds for two tree entries its faster
to use the raw buffer compares over allocating ObjectIds and
then performing equals on their contents.

However, this also needs to consider the raw modes.  It is possible
for a path to change modes but not ObjectId (e.g. making a file
executable), and in this case its still a staged change to report back
to the caller.

Change-Id: I1a267254c04b3273a97f63c71d1e6718cd9d2fa8
Signed-off-by: Shawn O. Pearce <spearce@spearce.org>",0,0,0,0,0,0,0,0,0
2074,I4418202e612f0571974e0898050d987c6c280966,https://git.eclipse.org/r/#/c/2074,2,e642eb6bc68faf1bd29a2147f7655bde11307698,d136545a798d3752a3736a82e2a96b3531c11a4a,1,08/12/10,08/12/10,10,IndexDiff: Use isModified() when comparing index-worktree,"IndexDiff: Use isModified() when comparing index-worktree

The isModified() is more efficient because it can skip over files that
are stat clean, without needing to scan them.

This is useful to efficently work on paths that were already staged
and thus differ between HEAD and the index, but not between the index
and the working tree.

Change-Id: I4418202e612f0571974e0898050d987c6c280966
Signed-off-by: Shawn O. Pearce <spearce@spearce.org>",1,0,0,0,0,0,1,0,0
2075,I555fef37adb764ce253481751071c53ad12cf416,https://git.eclipse.org/r/#/c/2075,2,0a6604c829d389e4d5b904f4086d9776da650de8,4c0a2ba80858f0eae40c5316292155225669b866,1,08/12/10,08/12/10,15,IndexDiff: Remove unnecessary changesExist flag,"IndexDiff: Remove unnecessary changesExist flag

Instead of setting a boolean when a difference record is found, return
false from diff() only if all of the collections are empty.  When all
of them are empty, no difference was found.

Change-Id: I555fef37adb764ce253481751071c53ad12cf416
Signed-off-by: Shawn O. Pearce <spearce@spearce.org>",0,0,0,0,0,0,0,0,0
2076,I13bfc4c6c47e27d8f97d3e9752347d6d23e553d4,https://git.eclipse.org/r/#/c/2076,3,12a47743b49f8c98bb239dc4c0bddcf2999a1630,ca928e7272dc8ae800ef6ac0eb686f9a861cfb25,1,08/12/10,08/12/10,869,Introduce http test bundle,"Introduce http test bundle

Introduce a http test bundle to make this functionality available for
EGit tests. A simple http server class is provided. The jetty version
was updated to a version that is also available via p2 (needed in EGit
UI tests).

Change-Id: I13bfc4c6c47e27d8f97d3e9752347d6d23e553d4
Signed-off-by: Jens Baumgart <jens.baumgart@sap.com>",0,0,0,0,1,0,1,0,0
2081,I72d9968535727046e737ec20e23239fe79976179,https://git.eclipse.org/r/#/c/2081,3,041a70eb05694557b2e52a62f3c2d919ce997f13,f8496a7075c6beae2d7014fa2b9bd26d084c318f,1,09/12/10,09/12/10,875,Implement rebase --continue and --skip,"Implement rebase --continue and --skip

For --continue, the Rebase command asserts that there are no unmerged
paths in the current repository. Then it checks if a commit is needed.
If yes, the commit message and author are taken from the author_script
and message files, respectively, and a commit is performed before the
next step is applied.
For --skip, the workspace is reset to the current HEAD before applying
the next step.

Includes some tests and a refactoring that extracts Strings in the
code into constants.


Change-Id: I72d9968535727046e737ec20e23239fe79976179
Signed-off-by: Mathias Kinzler <mathias.kinzler@sap.com>
Signed-off-by: Christian Halstrick <christian.halstrick@sap.com>",0,0,0,0,1,0,1,-1,0
2083,Icb21c15b8279ee8cee382e5e179e0cf8903aee4d,https://git.eclipse.org/r/#/c/2083,2,3914f1f920a2579db88609457462226c5a0ebf4e,4e75d848687dae88ad9da9b8050c7691d72fbaf3,1,13/12/10,13/12/10,42,DiffFormatter: Use IndexDiffFilter to speed up working tree,"DiffFormatter: Use IndexDiffFilter to speed up working tree

If DiffFormatter is asked to compare the index to the working tree,
it can go faster by using the cached stat information to compare
the two entries rather than relying on SHA-1 computation alone.

Change-Id: Icb21c15b8279ee8cee382e5e179e0cf8903aee4d
Signed-off-by: Shawn O. Pearce <spearce@spearce.org>",0,0,0,0,0,0,0,-1,0
2093,I410fbca8592cac6e58c651c4d086573820e777a5,https://git.eclipse.org/r/#/c/2093,1,0bb022e18fe6a584ad81aba83008ce89ad806e87,bba9a0af01c116b81736b9872bbfb36cc3058224,0,09/12/10,09/12/10,46,JGit Build: use jetty 7.1.6,"JGit Build: use jetty 7.1.6

Jetty 7.1.6 is used because this version is also available in P2.

Change-Id: I410fbca8592cac6e58c651c4d086573820e777a5
Signed-off-by: Jens Baumgart <jens.baumgart@sap.com>",0,0,0,0,0,0,0,NA,NA
2095,I087314b1834a3f11a4561f04ca5c21411d54d993,https://git.eclipse.org/r/#/c/2095,1,c20e73348a58b7a15f9b012fb19ed4e583abc49a,3041755871144ede0090576b26fd9097f6b59e7f,1,09/12/10,09/12/10,82,Rebase: fix wrong update if original HEAD after Merge+Skip,"Rebase: fix wrong update if original HEAD after Merge+Skip

Rebase would update the original HEAD to the wrong commit when
""skipping"" the last commit after a merged commit.

Includes a test for the specific situation.

Change-Id: I087314b1834a3f11a4561f04ca5c21411d54d993
Signed-off-by: Mathias Kinzler <mathias.kinzler@sap.com>",0,0,0,0,0,0,0,0,0
2096,Ie0d40b2dd15605785eff453a846b1d20a2d021fc,https://git.eclipse.org/r/#/c/2096,1,d9d3cbd021b96021540ca7737ba9b33e673e462d,eac6dc997329f7d8af525fba8057ac29cc26f669,1,09/12/10,09/12/10,10,Simplify logic in StrategySimpleTwoWayInCore,"Simplify logic in StrategySimpleTwoWayInCore

Sasa and I were reviewing this code today and Sasa pointed out we
can simplify the conflict logic, as the two cases (subtree and file)
are logically identical.

Change-Id: Ie0d40b2dd15605785eff453a846b1d20a2d021fc
Signed-off-by: Shawn O. Pearce <spearce@spearce.org>
Reviewed-by: Sasa Zivkov <zivkov@gmail.com>",0,0,0,0,0,0,0,0,0
2097,Ib248d1cd16084f9c8e099006af151814c63c5941,https://git.eclipse.org/r/#/c/2097,1,a0ee2203da105a774961e2d7f8b0c97ad60e26c2,a2846739e2672fcdbfe877ecfcd4545c23cb3ff8,1,09/12/10,09/12/10,541,Add further unit tests for IndexDiffFilter,"Add further unit tests for IndexDiffFilter

This change contains a bunch of unit tests for the newly introduced
IndexDiffFilter. With these tests the code coverage of
IndexDiffFilter.include() is now 100%, i.e. every special case is
tested at least once.

Change-Id: Ib248d1cd16084f9c8e099006af151814c63c5941
Signed-off-by: Philipp Thun <philipp.thun@sap.com>",0,0,0,0,1,0,1,2,1
2099,I33e355cfcdc19367d50208150ee49a4a06394890,https://git.eclipse.org/r/#/c/2099,2,9c8f25f8260c107c057f7db130171acb3aa260b6,f8f599a000f6b05c3fe12b77d054cf7059d3c6d2,1,09/12/10,09/12/10,103,Add option to skip deletion of non-existing files,"Add option to skip deletion of non-existing files

For convenience provide an option to skip deletion of non-existing
files. Also add some tests for deletion methods in FileUtils.

Change-Id: I33e355cfcdc19367d50208150ee49a4a06394890
Signed-off-by: Matthias Sohn <matthias.sohn@sap.com>",0,0,0,0,0,0,0,0,0
2100,I941b3d8a8105333ccbc15e3b57574fce6da6f006,https://git.eclipse.org/r/#/c/2100,1,7b5dc1b71be641db9d827cde66c3f3946f56a281,ce2cabd6f4f2958e52dd236c41574c1806f77aa3,1,10/12/10,10/12/10,10,IndexPack: Remove blob-streaming size threshold,"IndexPack: Remove blob-streaming size threshold

Always use streaming (for SHA-checksum & collision detection)
when indexing whole blobs, regardless of their size.

Positives:
* benefits of bugfix #312868 will apply to all runtimes, without
  additional conf for mem-constrained JVMs (5MB huge for some)
* no byte array allocation
  (re-uses readBuffer instead of allocating new full-size array)
* mildly better overall performance
  (given the usual blob-does-not-need-collision-checking case)
* removes unnecessary code

Negative:
* doubles the disk IO for a blob comparision
  (comparitively rare occurance)

I perf-tested a range of threshold sizes against a random selection
of packfiles I found on my harddrive, the results are here:

https://spreadsheets.google.com/ccc?key=tLCQElyyd2RKN9QevfvgwGQ&hl=en_GB#gid=1

My interpretation of the results is that the streaming size threshold
isn't beneficial (actually seems to be very slightly detrimental) -so
we should just get rid of it. This tallies with some of the comments
Shawn & I had for the default value of streamFileThreshold in the
review for I862afd4c:

http://egit.eclipse.org/r/#patch,sidebyside,2040,2,org.eclipse.jgit/src/org/eclipse/jgit/transport/IndexPack.java

The perf-test code is here: https://gist.github.com/735402
It's a bit scruffy but basically does 10 runs (in randomised order)
for each threshold size on various packfiles, waiting a second
between each pack-indexing to allow GC to catch up. I know it's not
perfect - proper perf testing is hard to do :-)",0,0,0,0,0,0,0,0,0
2101,I09c7f9909caf7e25feabda9d31e21ce154e7fcd5,https://git.eclipse.org/r/#/c/2101,5,e2923a6f687d4af053202a5a49084f8d6dae138e,c3f260a7d6b536336ff37c9a0f1ea77f455af9bf,1,13/12/10,13/12/10,171,File utilities for creating directories,"File utilities for creating directories

The java.io.File methods for creating directories report failure by
returning false. To ease proper checking of return values provide
utility methods wrapping mkdir() and mkdirs() which throw IOException
on failure.

Also fix the tests to store test data under a trash folder and cleanup
after test.

Change-Id: I09c7f9909caf7e25feabda9d31e21ce154e7fcd5
Signed-off-by: Matthias Sohn <matthias.sohn@sap.com>",0,1,0,0,0,0,1,0,0
2102,I2322014f69460361f7fc09da223e8a5c31f100dd,https://git.eclipse.org/r/#/c/2102,1,60d468f808484e1d52cd5233151a51963e442ca4,86f0563c963a5784cfbc862471f0e29f80f1d63b,1,10/12/10,10/12/10,24,Rebase: abort on unknown/unsupported command in git-rebase-todo,"Rebase: abort on unknown/unsupported command in git-rebase-todo

This is needed to ensure interoperability with the command line: if
the git-rebase-todo file was created manually (by git rebase -i in the
command line), and any commands other than pick are used (reword,
edit, fixup, squash) JGit must abort as it does not understand these
commands yet.
The same is true if an unknown command is found (e.g. due to a typo);
this is the same behavior as shown by the command line.

Change-Id: I2322014f69460361f7fc09da223e8a5c31f100dd
Signed-off-by: Mathias Kinzler <mathias.kinzler@sap.com>",0,0,0,0,0,0,0,0,0
2104,I41244f4b9d66176e68e2c07e2329cf08492f8619,https://git.eclipse.org/r/#/c/2104,8,2123cee69a0f4dc0caf8e597c92705d8c5f284d8,6a6d98872592df976c1a75465947f3fadca1c671,1,28/01/11,28/01/11,176,[findbugs] Do not ignore exceptional return value of mkdir,"[findbugs] Do not ignore exceptional return value of mkdir

java.io.File.mkdir() and mkdirs() report failure as an exceptional
return value false. Fix the code which silently ignored this
exceptional return value.

Change-Id: I41244f4b9d66176e68e2c07e2329cf08492f8619
Signed-off-by: Matthias Sohn <matthias.sohn@sap.com>",0,1,0,0,0,0,1,2,1
2105,I42a3dc9d8ff70af62e84de396e6a740050afa896,https://git.eclipse.org/r/#/c/2105,5,7dab86fe57ad5de07bfa59f6adb7a690b143ae84,7e10d0be34c05bd398443c8f2041e305886d7f18,1,16/01/11,16/01/11,40,File utility for creating a new empty file,"File utility for creating a new empty file

The java.io.File.createNewFile() method for creating new empty files
reports failure by returning false. To ease proper checking of return
values provide a utility method wrapping createNewFile() throwing
IOException on failure.

Change-Id: I42a3dc9d8ff70af62e84de396e6a740050afa896
Signed-off-by: Matthias Sohn <matthias.sohn@sap.com>",0,1,0,0,0,0,1,0,0
2106,I3a74cc84cd126ca1a0eaccc77b2944d783ff0747,https://git.eclipse.org/r/#/c/2106,8,8a39c655285e04ddd48a5d7d77fc17e5387aa7e2,25c61c9ce771d1c421872f1e8b3531e8dd656e18,1,29/01/11,29/01/11,15,[findbugs] Do not ignore exceptional return value,"[findbugs] Do not ignore exceptional return value

Properly handle return value of java.io.File.createNewFile().

Change-Id: I3a74cc84cd126ca1a0eaccc77b2944d783ff0747
Signed-off-by: Matthias Sohn <matthias.sohn@sap.com>",0,1,0,0,0,0,1,0,0
2109,I367c807df5a7e85e828ddacff7fee7901441f187,https://git.eclipse.org/r/#/c/2109,2,02a940e0037413b90c9ab5756903da2cd6556a33,ec91de705385c65282acf9907a8609c9cf341dfa,1,15/12/10,15/12/10,43,Do not rely on filemode differences in case of symbolic links,"Do not rely on filemode differences in case of symbolic links

When checking whether a file in the working tree has been modified -
WorkingTreeIterator.isModified() - we should not trust the filemode
in case of symbolic links, but check the timestamp and also the
content, if requested. Without this fix symlinks will always be shown
in EGit as modified files on Windows systems.

Change-Id: I367c807df5a7e85e828ddacff7fee7901441f187
Signed-off-by: Philipp Thun <philipp.thun@sap.com>",0,0,0,0,0,0,0,0,0
2110,If41b5c2cbdd59ddd6b2dea143f325e42cd58c395,https://git.eclipse.org/r/#/c/2110,1,3f284b0f86750d8d86bd724374520b857055901a,37899ef571cabbffbe562c3963a6a7d177a1cd32,1,13/12/10,13/12/10,68,Fix HTTP digest authentication,"Fix HTTP digest authentication

JGit's internal implementation of the HTTP digest authentication
method wasn't conforming to RFC 2617 (HTTP Authentication: Basic
and Digest Access Authentication), resulting in authentication
failures when connecting to a digest protected site.

The code now more accurately matches section 3.2.2 (The Authorization
Request Header) from the standards document.

Change-Id: If41b5c2cbdd59ddd6b2dea143f325e42cd58c395
Signed-off-by: Shawn O. Pearce <spearce@spearce.org>",0,0,0,0,0,0,0,1,1
2111,I2444f59f9fe5ddcaea4a3537d3f1064736ae3215,https://git.eclipse.org/r/#/c/2111,2,37899ef571cabbffbe562c3963a6a7d177a1cd32,6207015e1d4c7ddc402f32fa2abf8ec34824f1da,1,13/12/10,13/12/10,18,Simplify NoteParser use of prefix.length(),"Simplify NoteParser use of prefix.length()

Sasa pointed out we only ever use the length here, so instead of
holding onto the AbbreviatedObjectId, lets just hold onto the lenght
as a primitive int.

Change-Id: I2444f59f9fe5ddcaea4a3537d3f1064736ae3215
Signed-off-by: Shawn O. Pearce <spearce@spearce.org>
CC: Sasa Zivkov <zivkov@gmail.com>",0,0,0,0,0,0,0,0,0
2112,I75bb9f962ee230b73ca3a942bffd7a8a28674ba5,https://git.eclipse.org/r/#/c/2112,2,6207015e1d4c7ddc402f32fa2abf8ec34824f1da,961f5f3b3f7a2a2177fe91b751c03ddb437cc21e,1,13/12/10,13/12/10,26,Remove remaining uses of FileWriter,"Remove remaining uses of FileWriter

FileWriter uses the platform default encoding, which might not
be UTF-8.  JGit prefers UTF-8 everywhere for string encodings,
so make the unit tests more predictable by ensuring use of UTF-8.

Change-Id: I75bb9f962ee230b73ca3a942bffd7a8a28674ba5
Signed-off-by: Shawn O. Pearce <spearce@spearce.org>",0,0,0,0,0,0,0,0,0
2114,If2f27a89fc3b7adde7e65ff40bbca5d55b98b772,https://git.eclipse.org/r/#/c/2114,2,14fb2abc5f048c1b490671589d681590ab7b3c07,28e60f20c244590f7e62eb30e7fdb43d4f810c32,1,20/12/10,20/12/10,285,Extract pack directory last modified check code,"Extract pack directory last modified check code

Pulling the last modified checking logic out of ObjectDirectory
makes it possible to reuse this code for other files, such as
the $GIT_DIR/config or $GIT_DIR/packed-refs files.

Change-Id: If2f27a89fc3b7adde7e65ff40bbca5d55b98b772
Signed-off-by: Shawn O. Pearce <spearce@spearce.org>",0,0,0,0,0,0,0,0,0
2115,I5888dd97bac20ddf60456c81ffc1eb8df04ef410,https://git.eclipse.org/r/#/c/2115,2,f763832b9487c1a5385a3d5c061a666be62ec98f,1b110de3901f3ae9dece9812ccdbe1ef14a4a2db,1,15/12/10,15/12/10,56,Reduce calls to Repository.getConfig,"Reduce calls to Repository.getConfig

Each time getConfig() is called on FileRepository, it checks the
last modified time of both ~/.gitconfig and $GIT_DIR?config.  If
$GIT_DIR/config appears to have been modified, it is read back in
from disk and the current config is wiped out.

When mutating a configuration file, this may cause in-memory edits
to disappear.  To avoid that callers need to avoid calling getConfig
until after the configuration has been saved to disk.

Unfortunately the API is still horribly broken.  Configuration should
be modified only while a lock is held on the configuration file, very
similar to the way a ref is updated via its locking protocol.  But our
existing API is really broken for that so we'll have to defer cleaning
up the edit path for a future change.

Change-Id: I5888dd97bac20ddf60456c81ffc1eb8df04ef410
Signed-off-by: Shawn O. Pearce <spearce@spearce.org>",0,0,0,0,0,0,0,0,0
2116,Id46d3f85d1c9b377f63ef861b72824e1aa060eee,https://git.eclipse.org/r/#/c/2116,2,38d2d38f0c27224fbc8439ed25e6583322356496,bba25d2807c6a4ec1acac597d1483a0476e110b4,1,15/12/10,15/12/10,71,Save StoredConfig after modifications,"Save StoredConfig after modifications

When the Config is changed, it should be saved back to its local
file.  This ensure that a future call to getConfig() won't wipe
out the edits that were just made.

Change-Id: Id46d3f85d1c9b377f63ef861b72824e1aa060eee
Signed-off-by: Shawn O. Pearce <spearce@spearce.org>",0,0,0,0,0,0,0,0,0
2117,Ib6312fdd3b2403eee5af3f8ae711294b0e5f9035,https://git.eclipse.org/r/#/c/2117,3,6c95cf78518346b527447678a8e6262d04f5692e,1ffb7334767ac838c9863bb2005b5940b60fdb2d,1,20/12/10,20/12/10,73,FileBasedConfig: Use FileSnapshot for isOutdated(),"FileBasedConfig: Use FileSnapshot for isOutdated()

Relying only on the last modified time for a file can be tricky.
The ""racy git"" problem may cause some modifications to be missed.

Use the new FileSnapshot code to track when a configuration file
has been modified, and needs to be reloaded in memory.

Change-Id: Ib6312fdd3b2403eee5af3f8ae711294b0e5f9035
Signed-off-by: Shawn O. Pearce <spearce@spearce.org>",0,0,0,0,0,0,0,0,0
2118,I067d268dfdca1d39c72dfa536b34e6a239117cc3,https://git.eclipse.org/r/#/c/2118,4,750259fb052d1f4404f2bca5cb0e206219ad4562,eb1a7bf2493110527db838b5598ff1864116bbbe,1,01/04/11,01/04/11,73,RefDirectory: Use FileSnapshot for packed-refs,"RefDirectory: Use FileSnapshot for packed-refs

Instead of tracking the length and modification time by hand, rely
on FileSnapshot to tell RefDirectory when the $GIT_DIR/packed-refs
file has been changed or should be re-read from disk.

Change-Id: I067d268dfdca1d39c72dfa536b34e6a239117cc3
Signed-off-by: Shawn O. Pearce <spearce@spearce.org>",0,1,0,0,0,0,1,0,0
2120,I3b2335c76c766fd7ea25752e54087f9b19d69c88,https://git.eclipse.org/r/#/c/2120,10,0626f2096519f0648f83f7e824e3aab19467b966,56028ef5b071e83422a2727a7c6b736d961afe1d,1,10/01/11,10/01/11,1459,RFC: Merging Git notes,"RFC: Merging Git notes

Merging Git notes branches has several differences from merging ""normal""
branches. Although Git notes are initially stored as one flat tree the
tree may fanout when the number of notes becomes too large for efficient
access. In this case the first two hex digits of the note name will be
used as a subdirectory name and the rest 38 hex digits as the file name
under than directory. Similarly, when number of notes decreases a fanout
tree may collapse back into a flat tree.  The Git notes merge algorithm
must take into account possibly different tree structures in different
note branches and must properly match them against each other.

Any conflict on a Git note is, by default, resolved by concatenating
the two conflicting verions of the note. A delete-edit conflict is, by
default, resolved by keeping the edit version.

The note merge logic is pluggable and the caller may provide custom
note merger that will perform different merging strategy.

Additionally, it is possible to have non-note entries inside a notes
tree. The merge algorithm must also take this fact into account and
will try to merge such non-note entries. However, in case of any merge
conflicts the merge operation will fail. Git notes merge algorithm is
currently not trying to do content merge of non-note entries.

Thanks to Shawn Pierce for patiently answering my questions related to
this topic, giving hints and providing code snippets.

Signed-off-by: Sasa Zivkov <sasa.zivkov@sap.com>",0,1,0,0,1,0,1,2,1
2127,I037930da7b1a4dfb24cfa3205afb51dc29e4a5b8,https://git.eclipse.org/r/#/c/2127,3,a47683d05c10f891afa21d0a11236ebdad711344,5172aa284e44df2e302ff8a212f7b370bb63e361,1,20/12/10,20/12/10,254,Checkout: expose a CheckoutResult,"Checkout: expose a CheckoutResult

This is needed by callers to determine checkout conflicts and
possible files that were not deleted during the checkout so that they
can present the end user with a better Exception description and retry
to delete the undeleted files later, respectively.

This also fixes a small bug in DirCacheCheckout

Change-Id: I037930da7b1a4dfb24cfa3205afb51dc29e4a5b8
Signed-off-by: Mathias Kinzler <mathias.kinzler@sap.com>",0,0,0,0,0,0,0,0,0
2129,I391660e38f5d208bba11e3f2a8f25922de2af878,https://git.eclipse.org/r/#/c/2129,1,601b5f9e2fc2719f3a0a72c8d7cfbebb1cd6fd66,403ad67618300498050774e566072814f9111d08,0,15/12/10,15/12/10,2,Correct plink -batch option,"Correct plink -batch option

When GIT_SSH is set to use plink, the correct option name is ""-batch""
and not ""--batch"".  This was a typo introduced when we added support
for plink via GIT_SSH.

Change-Id: I391660e38f5d208bba11e3f2a8f25922de2af878
Signed-off-by: Shawn O. Pearce <spearce@spearce.org>",1,0,0,0,0,0,1,NA,NA
2130,I638532a02faa2caf8c39d482094e7ff4f4ec7e78,https://git.eclipse.org/r/#/c/2130,1,403ad67618300498050774e566072814f9111d08,69bcfd2da0935837ad63038848fd768dbd38aa19,0,15/12/10,15/12/10,2,Support GIT_SSH=tortoiseplink,"Support GIT_SSH=tortoiseplink

The tortoiseplink command does not understand -batch, even though
it smells like the putty plink command that does use it.  Don't add
-batch if GIT_SSH is tortoiseplink.

Change-Id: I638532a02faa2caf8c39d482094e7ff4f4ec7e78
Signed-off-by: Shawn O. Pearce <spearce@spearce.org>",1,0,0,0,0,0,1,NA,NA
2132,Idb20bf5849138b34a7277250fe0795c2a1f22447,https://git.eclipse.org/r/#/c/2132,1,f166291eb8efdf9dbec359310a1bc2b999081deb,29b3da2e2730b2343f2c75c09cad2ed51fbe029a,1,18/12/10,18/12/10,4,Move TransferConfig to transport package,"Move TransferConfig to transport package

This doesn't belong in the main lib package.

Change-Id: Idb20bf5849138b34a7277250fe0795c2a1f22447
Signed-off-by: Shawn O. Pearce <spearce@spearce.org>",0,0,0,0,0,0,0,0,0
2133,I89cd8ab54c66964a5fddc0a045f1c0f1c7c49055,https://git.eclipse.org/r/#/c/2133,2,29b3da2e2730b2343f2c75c09cad2ed51fbe029a,960b26f1ca60505201d981f1d610da671302ca2c,1,20/12/10,20/12/10,309,Remove deprecated WriteTree from tests,"Remove deprecated WriteTree from tests

These tests doesn't need to use WriteTree anymore.  There are
other means of creating tree objects in the repository that aren't
deprecated, so use those instead.

Change-Id: I89cd8ab54c66964a5fddc0a045f1c0f1c7c49055
Signed-off-by: Shawn O. Pearce <spearce@spearce.org>",0,0,0,0,0,0,0,0,0
2134,I1a5aabe9ab4a2b156fd37cc7e9ededb4ed70f53a,https://git.eclipse.org/r/#/c/2134,2,1af63d543b3920cdf3ea07ef909b6ca7b889b2d3,56ca8055221aa9eb6910a1a08baa9443ce030bef,1,20/12/10,20/12/10,13,clone: Use DirCacheCheckout,"clone: Use DirCacheCheckout

This simple change lets us get rid of WorkDirCheckout from JGit,
and all of its supporting code.

Change-Id: I1a5aabe9ab4a2b156fd37cc7e9ededb4ed70f53a
Signed-off-by: Shawn O. Pearce <spearce@spearce.org>",0,0,0,0,0,0,0,0,0
2137,Id37c625458fc5a9b3987f05b684620e24fdfe852,https://git.eclipse.org/r/#/c/2137,1,9997b6b6ea5d3b5fd515c661c6d55ed6d132e921,529224c4a6180492d2f3b6c3bcb73c84570be435,1,16/12/10,16/12/10,2,DirCacheCheckout: fix getToBeDeleted(),"DirCacheCheckout: fix getToBeDeleted()

This wrongly returns the same as getConflicts()
Signed-off-by: Mathias Kinzler <mathias.kinzler@sap.com>

Change-Id: Id37c625458fc5a9b3987f05b684620e24fdfe852",0,0,0,0,0,0,0,1,1
2139,I5d55177f4029bcc34fc2649fd564b125a2929cc4,https://git.eclipse.org/r/#/c/2139,5,c7ce1d47da2c7bac49b7f2fb942e7268fc8d6d24,19ba49e257ca4e01df983885b821b329b58f44de,1,20/12/10,20/12/10,38,Checkout: fix NullPointer when checking out commit,"Checkout: fix NullPointer when checking out commit

Signed-off-by: Mathias Kinzler <mathias.kinzler@sap.com>

Change-Id: I5d55177f4029bcc34fc2649fd564b125a2929cc4",0,1,0,0,0,0,1,0,0
2142,I4a46d35d354193e5d4f28ef7dfae75944be8ffcf,https://git.eclipse.org/r/#/c/2142,2,07d618cda9e641d76f9bc2ac33a7d2b285624638,09c0ae15d8190578554ecb71e41374c49a2b58a6,0,17/12/10,17/12/10,384,JGit 0.10.1,"JGit 0.10.1

Change-Id: I4a46d35d354193e5d4f28ef7dfae75944be8ffcf
Signed-off-by: Matthias Sohn <matthias.sohn@sap.com>",0,0,0,1,0,0,1,NA,NA
2145,I320f1f739f3689daf11d532a55ae1133785aec8e,https://git.eclipse.org/r/#/c/2145,1,09c0ae15d8190578554ecb71e41374c49a2b58a6,b6de403fa38dbbf2b28ac164da2ec342181df517,0,17/12/10,17/12/10,384,Qualify post 0.10.1 builds,"Qualify post 0.10.1 builds

Change-Id: I320f1f739f3689daf11d532a55ae1133785aec8e
Signed-off-by: Matthias Sohn <matthias.sohn@sap.com>",1,0,0,1,0,0,1,NA,NA
2148,I67d8f3a3388ca6c8fba8d794053a75c4dfd2754a,https://git.eclipse.org/r/#/c/2148,1,3f78ba78f204df257410fa85c52c9e51809c6495,ae055188a07665e5e55792d0a793c3a27b5fd4c2,0,17/12/10,17/12/10,0,Merge branch 'stable-0.10',Merge branch 'stable-0.10',1,0,0,1,0,0,1,NA,NA
2149,Ifcb8fdea95286779c8aea6bf4d7647e8c1c98d63,https://git.eclipse.org/r/#/c/2149,1,ae055188a07665e5e55792d0a793c3a27b5fd4c2,8102bb35ae9f165b245620b777eadecadaf5a815,0,17/12/10,17/12/10,384,Qualify post 0.10 builds,"Qualify post 0.10 builds

Change-Id: Ifcb8fdea95286779c8aea6bf4d7647e8c1c98d63
Signed-off-by: Matthias Sohn <matthias.sohn@sap.com>",1,0,0,1,0,0,1,NA,NA
2153,I9fc084b48418884ce1ccf16d56e800f1d3594885,https://git.eclipse.org/r/#/c/2153,1,14a57bfe8320aa6a68595ca7cba798fc2c3a38f4,7fc23930b18caa7cebe6f27bf01d84711456f8d1,0,19/12/10,19/12/10,2,Fix wrong javadoc comment in Repository,"Fix wrong javadoc comment in Repository

Change-Id: I9fc084b48418884ce1ccf16d56e800f1d3594885
Signed-off-by: Robin Rosenberg <robin.rosenberg@dewire.com>",0,0,0,1,0,0,1,NA,NA
2158,I619b00d8a3b0770c9fd1dc3314794f915ea80604,https://git.eclipse.org/r/#/c/2158,1,6debb16d8684b874ef2a19de244fdbe41ad50eba,415b87ccfe1109611e72d79c4d71aa2b36c64215,1,20/12/10,20/12/10,3,Fix JDK 6 Usage of String.getBytes(Charset),"Fix JDK 6 Usage of String.getBytes(Charset)

Change-Id: I619b00d8a3b0770c9fd1dc3314794f915ea80604
Signed-off-by: Mathias Kinzler <mathias.kinzler@sap.com>",0,0,0,1,0,0,1,0,0
2159,Ieacae01de20d7729ef34e6e6a1523fbaf9db41a8,https://git.eclipse.org/r/#/c/2159,1,415b87ccfe1109611e72d79c4d71aa2b36c64215,cd7f3f5d374146b7de1afba99061019a3ac3a88c,1,20/12/10,20/12/10,7,Fix CheckoutCommandTest,"Fix CheckoutCommandTest

Change-Id: Ieacae01de20d7729ef34e6e6a1523fbaf9db41a8
Signed-off-by: Mathias Kinzler <mathias.kinzler@sap.com>",0,0,0,1,0,0,1,0,0
2161,I034c7bd846f0df78d97bc246f38d411f29713dde,https://git.eclipse.org/r/#/c/2161,1,0d00b8cb957cb157bda069f14af7a3cef4644ee3,5579763842eac63f198a97cfb8b3c43f57e10df6,1,29/12/10,29/12/10,41,CheckoutResult: return paths instead of Files,"CheckoutResult: return paths instead of Files

As discussed in

http://egit.eclipse.org/r/#change,2127

we should use paths relative the working directory instead of Files to
notify the caller about conflicts and nondeleted files.

Change-Id: I034c7bd846f0df78d97bc246f38d411f29713dde
Signed-off-by: Mathias Kinzler <mathias.kinzler@sap.com>",0,0,0,0,0,0,0,0,0
2166,Ib3af28ba196f74c8cb4d318b57ea346bb90f9a1e,https://git.eclipse.org/r/#/c/2166,1,42bbd064604bdfce86552612fe61039eb8e81d35,3d92b2661abfad41c61c6f163fc65e87e9690112,1,22/12/10,22/12/10,6,Correct GIT_INDEX_FILE environment variable,"Correct GIT_INDEX_FILE environment variable

This is GIT_INDEX_FILE, not GIT_INDEX.

Change-Id: Ib3af28ba196f74c8cb4d318b57ea346bb90f9a1e
Signed-off-by: Shawn O. Pearce <spearce@spearce.org>",1,0,0,0,0,0,1,0,0
2167,I5decf6bffc3ed35bf1d3e4ad5cc095891c80b772,https://git.eclipse.org/r/#/c/2167,1,3d92b2661abfad41c61c6f163fc65e87e9690112,d30c957bba88e3b1e31b94881292b68e1d773035,1,23/12/10,23/12/10,16,DirCacheIteratorTest: Use newInCore instead of disk,"DirCacheIteratorTest: Use newInCore instead of disk

Avoid the dependency on the local filesystem by using only an in-core
DirCache instance.  Each test case builds up the index from scratch
anyway through a DirCacheBuilder.

Change-Id: I5decf6bffc3ed35bf1d3e4ad5cc095891c80b772
Signed-off-by: Shawn O. Pearce <spearce@spearce.org>",0,0,0,0,0,0,0,0,0
2168,I7a0f78fc48a36b1a83252d354618f6807fca0426,https://git.eclipse.org/r/#/c/2168,1,d30c957bba88e3b1e31b94881292b68e1d773035,47995a84626692b789cbe40d27ec31b568dea3ec,1,24/12/10,24/12/10,38,Fix ArrayIndexOutOfBoundsException in DirCacheIterator,"Fix ArrayIndexOutOfBoundsException in DirCacheIterator

If the 'TREE' extension contains an invalid subtree that has
been removed, DirCacheIterator still tried to access it due to
an invalid childCnt field within the parent DirCacheTree object.
This is easy for a user to do, they just need to move all files
out of a subdirectory.

For example, the input for the JUnit test case for this bug was
built using the following C Git sequence:

  mkdir -p a/b
  touch a/b/c q
  git add a/b/c q
  git write-tree
  git mv a/b/c a/a

After the last step, the subdirectory a/b is empty, as its only
file was moved into the parent directory.  Because of the earlier
`git write-tree` operation, there is a 'TREE' extension present, but
the a and a/b subdirectories have been marked invalid by the rename.

When JGit tried to iterate over the a tree, it tried to correct
childCnt to be zero as a/b no longer exists, but it failed to
update childCnt.

Change-Id: I7a0f78fc48a36b1a83252d354618f6807fca0426
Signed-off-by: Shawn O. Pearce <spearce@spearce.org>",0,0,0,0,0,0,0,0,0
2171,If4f9d6ef6b45c94f8bb097f8b02c10317b47547b,https://git.eclipse.org/r/#/c/2171,2,c837ec8486d5bbe6de8cba7232dac6b3a06fad19,478415889ef2e73d8409951062aa84af6bb54337,0,04/03/11,04/03/11,4,Adapt to Jetty 7.2 API changes coming with Indigo,"Adapt to Jetty 7.2 API changes coming with Indigo

Indigo comes with Jetty 7.2 bringing some API changes. This still
works with Jetty 7.1.6 shipped with Helios.

Change-Id: If4f9d6ef6b45c94f8bb097f8b02c10317b47547b
Signed-off-by: Matthias Sohn <matthias.sohn@sap.com>",0,0,0,0,0,0,0,NA,NA
2172,I1d9b3a8ba3c6d874d83cb93ebf171c6ab193e6cc,https://git.eclipse.org/r/#/c/2172,5,269bb4c5b3af050acd90826dc2d767d48fa5945b,14bf18af1ba926aa0d27a3e7aa3af0302528e8e6,1,31/12/10,31/12/10,183,IndexPack: Use stack-based recursion for delta resolution,"IndexPack: Use stack-based recursion for delta resolution

Replace 'method' with 'stack' -based recursion for resolving deltas.
Git packfile delta-chain depth can exceed 50 levels in certain files
(the packfile of the JGit project itself has >800 objects with
chain-length >50). Using method-based recursion on such packfiles
will quickly throw a StackOverflowError on VMs with constrained
stack.

Benefits:
* packfile delta-resolution no longer limited by the maximum number
  of stack frames permitted on the heap
* slight performance improvement
  (2.4% speed increase on the packfile of the JGit project)

I had to introduce a new DeltaVisit object to hold the state on the
java.util.Stack, as obviously there's no appropriate tuple already
available that corresponds to the args of the recursive resolveDelta
methods. The DeltaVisit object is composed in part from new TypedData
and DeltaIdentifier objects which are re-used as appropriate when
following delta-chains, on the grounds that it's better to pass a
single object reference than a pair of references to e.g. an 'int'
and a 'long'. The additonal object allocation hasn't hurt
performance, in fact perf-testing (https://gist.github.com/756740)
shows a small performance improvement:

https://spreadsheets.google.com/ccc?key=0AsR1d5Zpes8HdHFwY1FLOENqWUFDeDE3ZkVmSU11b3c",0,1,0,0,0,0,1,0,0
2173,I6922a2f40eb0c077a8ade5ed073ecf0e90425544,https://git.eclipse.org/r/#/c/2173,1,e5eddf5f922ad337522f782d754cc11a43411f0b,a47d3055d5d4e8cd687bb939fdd38064c6ef2f91,0,29/12/10,29/12/10,7,Enable use of JUnit 4 with the jgit.test project,"Enable use of JUnit 4 with the jgit.test project

Some enablement was done earlier, but we need to add the org.junit package
and hamcrest to make it work.

junit.textui removed, probably a mistake at some time in the past.

Change-Id: I6922a2f40eb0c077a8ade5ed073ecf0e90425544",0,0,0,0,0,0,0,NA,NA
2174,I1894b032b9bd359d1b5325e5472d48e372599e4c,https://git.eclipse.org/r/#/c/2174,2,a47d3055d5d4e8cd687bb939fdd38064c6ef2f91,7c5d917299742ec30398c4874cbecdf2e784c81c,1,10/02/12,10/02/12,166,Fix FileSnapShot,"Fix FileSnapShot

We cannot use SystemReader to get the time, unless we do that consistently,
which is harder to do and be sure we are really testing what we want.

Then we need to update our lastRead variable whenever we conclude that
our file is not racily clean according to lastRead. It may well be clean,
but we do not know that until we check the system clock again.

Finally add a test for this class.

Change-Id: I1894b032b9bd359d1b5325e5472d48e372599e4c
Signed-off-by: Robin Rosenberg <robin.rosenberg@dewire.com>",0,0,0,0,0,0,0,0,0
2175,I785ab6bf1823d174394b1d2b25c5bb202535e943,https://git.eclipse.org/r/#/c/2175,3,2520ec9013cc0658f8a767c81375821f616d48af,318c5826996d66d6258671a60eded9c3b1ef59ba,1,30/12/10,30/12/10,23,Refactor search for a file within a PATH,"Refactor search for a file within a PATH

Change-Id: I785ab6bf1823d174394b1d2b25c5bb202535e943",0,0,0,1,0,0,1,0,0
2176,Ia9e5afe7f29c3e5e74b8d226441ed429fb229c82,https://git.eclipse.org/r/#/c/2176,3,8ee4b67ab521cd7e2ff19356051f2e3fda760e9f,42cef26f6565ca99143f343d81ced10466c7550a,1,30/12/10,30/12/10,80,Refactor exec of a command and reading one line into utility,"Refactor exec of a command and reading one line into utility

Change-Id: Ia9e5afe7f29c3e5e74b8d226441ed429fb229c82
Signed-off-by: Robin Rosenberg <robin.rosenberg@dewire.com>",0,0,0,1,0,0,1,0,0
2177,I1bbee9fb123a81714a34a9cc242b92beacfbb4a8,https://git.eclipse.org/r/#/c/2177,4,086fbf931683f108603a5cbbf26dc7d8ec96c517,fd105f3d85b1dc5ddc2e86b928c44fd2ba6dc522,1,31/12/10,31/12/10,226,Add support for getting the system wide configuration,"Add support for getting the system wide configuration

These settings are stored in <prefix>/etc/gitconfig. The C Git
binary is instaled in <prefix>/bin, so we look for the C Git
executable to find this location, first by looking at the PATH
environment variable and then by attemting to launch bash as
a login shell to find out.

Bug 333216
Change-Id: I1bbee9fb123a81714a34a9cc242b92beacfbb4a8",0,1,0,0,0,0,1,1,1
2183,If1948232ae73bc9cf1ce6ce1e953172e0a8bcee6,https://git.eclipse.org/r/#/c/2183,1,d3fb7c9c13e04fd028f4c3475ae26d2fd5f8c9fd,0694a06adfc395641b9325899f2e36a7644f5d44,0,30/12/10,30/12/10,2,Enable use of JUnit 4 with maven,"Enable use of JUnit 4 with maven

Change-Id: If1948232ae73bc9cf1ce6ce1e953172e0a8bcee6
Signed-off-by: Robin Rosenberg <robin.rosenberg@dewire.com>",0,0,0,1,0,0,1,NA,NA
2184,Ic910df1705fa8d6ac26e97a41947cb8e5526d334,https://git.eclipse.org/r/#/c/2184,1,467fa24cd5b7b687de823fda6aafdc1e85afe559,74af96394986a62a051b92bddfbf62969353672d,0,30/12/10,30/12/10,6,Enable JUnit4 in the jgit.http package too,"Enable JUnit4 in the jgit.http package too

There are currently no JUnit4 tests here, but since we made JUnit4
the default for maven, it should be for Eclipse builds too.

Change-Id: Ic910df1705fa8d6ac26e97a41947cb8e5526d334
Signed-off-by: Robin Rosenberg <robin.rosenberg@dewire.com>",0,0,0,0,0,0,0,NA,NA
2185,I8bb5cb5342ab86fbc586d879dc56f70f4c0e6ace,https://git.eclipse.org/r/#/c/2185,2,74af96394986a62a051b92bddfbf62969353672d,ca11f769d0d34a625cf3be926a1e4fd27fc468d3,0,30/12/10,30/12/10,40,Add launchers for the JGit HTTP package,"Add launchers for the JGit HTTP package

Change-Id: I8bb5cb5342ab86fbc586d879dc56f70f4c0e6ace
Signed-off-by: Robin Rosenberg <robin.rosenberg@dewire.com>",0,0,0,1,0,0,1,NA,NA
2195,I9117f212e2ad7051fdc6e7417ebc7c2d15b357a8,https://git.eclipse.org/r/#/c/2195,1,34e4f35656ddfae95e558570aa94ecb3b8b58192,e869c2478cb82bd1e25ee2f1d5f53b69a011150d,1,31/12/10,31/12/10,7,[findbugs] Make CheckoutResult constants final,"[findbugs] Make CheckoutResult constants final

Change-Id: I9117f212e2ad7051fdc6e7417ebc7c2d15b357a8
Signed-off-by: Matthias Sohn <matthias.sohn@sap.com>",0,0,0,1,0,0,1,0,0
2196,Iddcd3da6ca927a7be773a9c63ebf8bb2147e2d13,https://git.eclipse.org/r/#/c/2196,3,8e2902a4a264399533a3bcf470193627b41d6213,b59967cefe32aa8f7b781660eff49544ed428ecb,1,31/12/10,31/12/10,3560,Convert all JGit unit tests to JUnit 4,"Convert all JGit unit tests to JUnit 4

Eclipse has some problem re-running single JUnit tests if
the tests are in Junit 3 format, but the JUnit 4 launcher
is used. This was quite unnecessary and the move was not
completed. We still have no JUnit4 test.

This completes the extermination of JUnit3. Most of the
work was global searce/replace using regular expression,
followed by numerous invocarions of quick-fix and organize
imports and verification that we had the same number of
tests before and after.

- Annotations were introduced.
- All references to JUnit3 classes removed
- Half-good replacement for getting the test name. This was
  needed to make the TestRngs work. The initialization of
  TestRngs was also made lazily since we can not longer find
  out the test name in runtime in the @Before methods.
- Renamed test classes to end with Test, with the exception
  of TestTranslateBundle, which fails from Maven
- Moved JGitTestUtil to the junit support bundle

Change-Id: Iddcd3da6ca927a7be773a9c63ebf8bb2147e2d13
Signed-off-by: Robin Rosenberg <robin.rosenberg@dewire.com>",0,0,0,0,1,0,1,0,0
2197,I74a7ef1373cd902e1d05ff6ea38f8648b5fc5700,https://git.eclipse.org/r/#/c/2197,2,c87d6a309fe9d33459756b4f46a6fede44c18c34,8e1034cd5de6a9366eead36d3c32f6c8431097d5,1,31/12/10,31/12/10,2,Fix TestTranslationBundle,"Fix TestTranslationBundle

The test was never run from maven, because its name did not end
in a way that was recognized by the pom. After rename it failed
because it did not find its resources.

Rename test class and move resources to the resources folder

Change-Id: I74a7ef1373cd902e1d05ff6ea38f8648b5fc5700
Signed-off-by: Robin Rosenberg <robin.rosenberg@dewire.com>",0,0,0,0,0,0,0,0,0
2198,I3a5b877efd3a58ad463c47bb663d073baea81dda,https://git.eclipse.org/r/#/c/2198,2,b39a845bbdbd58b96f08b1fa541e51679de40dae,f0f324f4905cb32d9992b792dac049297f4d5d67,0,31/12/10,31/12/10,5,Drop unneccessary @SuppressWarnings,"Drop unneccessary @SuppressWarnings

Change-Id: I3a5b877efd3a58ad463c47bb663d073baea81dda
Signed-off-by: Robin Rosenberg <robin.rosenberg@dewire.com>",0,0,0,1,0,0,1,NA,NA
2199,I4de7501d159889fbac5ae6951f4fef8340461b47,https://git.eclipse.org/r/#/c/2199,4,4ee198ec2ec1d9732410f2ac490cdb223e3369b8,2ba1a457441d007eca60298a28ad1d66d705a29b,1,21/01/11,21/01/11,113,introduce pure metaData comparision between WorkingTree- and index-entries,"introduce pure metaData comparision between WorkingTree- and index-entries

Instead of offering only a high-level isModified() method a new
method compareMetadata() is introduced which compares a working tree entry
and a index entry by looking at metadata only. Some use-cases
(e.g. computing the content-id in idBuffer()) may use this new method
instead of isModified().

Change-Id: I4de7501d159889fbac5ae6951f4fef8340461b47",0,1,0,0,0,0,1,0,0
2200,I59873618f86d02e8439d40c1f322ea8e5c4fe3fc,https://git.eclipse.org/r/#/c/2200,3,ef54e5a0270932a00c5ee414af6c953b0264802b,125c7f6c49f66812174f7883c1c7eb1a1a8d3b2e,0,02/01/11,02/01/11,11,Require the hamcrest packaging that comes with Eclipse,"Require the hamcrest packaging that comes with Eclipse

The other one gets installed with SWTBot, but you do not
need it if you do not hack EGit.

Change-Id: I59873618f86d02e8439d40c1f322ea8e5c4fe3fc
Signed-off-by: Robin Rosenberg <robin.rosenberg@dewire.com>",0,0,0,0,0,0,0,NA,NA
2201,I39970091d9f7406ae7168b8efaab23a5e2c16bad,https://git.eclipse.org/r/#/c/2201,1,72262777a7dcbe7b75d9a59277bfc172c06bf5f6,a8adb16e03278bde36626e8447e7cb4e5264ecf9,1,02/01/11,02/01/11,385,Implement a revert command,"Implement a revert command

This is almost reverted cherry-pick, and the implementation is
almost identical. It orders the input to merge differently to get
the effect and produces a different commit message with the
default author, rather than the original author.

Change-Id: I39970091d9f7406ae7168b8efaab23a5e2c16bad
Signed-off-by: Robin Rosenberg <robin.rosenberg@dewire.com>",0,0,0,0,0,0,0,1,1
2203,I61b6a8ebd468fa2d13fad5bf9cbd8f81a6f67e41,https://git.eclipse.org/r/#/c/2203,1,5dc4d2e10963166e88989a7079bcb30dfe8d88a3,c21f7a4255efd3a9aee6f1f7810c1f21d647eca0,1,03/01/11,03/01/11,63,Fix NLSTest and RootLocalTest for JUnit 4,"Fix NLSTest and RootLocalTest for JUnit 4

These test classes needed new @Test annotations to be found by the
JUnit 4 test runner.

Change-Id: I61b6a8ebd468fa2d13fad5bf9cbd8f81a6f67e41
Signed-off-by: Shawn O. Pearce <spearce@spearce.org>",0,0,0,0,0,0,0,0,0
2204,Ib2c180bf531e1a97e31979fcc281fa0fc5a1abb3,https://git.eclipse.org/r/#/c/2204,1,c21f7a4255efd3a9aee6f1f7810c1f21d647eca0,46238bccc55bc1e48ac721496542e499a36367d0,0,03/01/11,03/01/11,10,Cleanup configuration of Maven JUnit runner,"Cleanup configuration of Maven JUnit runner

Set the plugin version in the top-level pom, not the unit test pom.
This ensures the same plugin is used for all JUnit tests within the
overall project.

Drop the include **/*Test.java definition, as its no longer necessary
with the JUnit 4 based test suite.  All of the test classes now end
with ""Test"" and include @Test annotations on the test methods.

Change-Id: Ib2c180bf531e1a97e31979fcc281fa0fc5a1abb3
Signed-off-by: Shawn O. Pearce <spearce@spearce.org>",0,0,0,0,0,0,0,NA,NA
2205,I6faca2a440020309658ca23fbec4c95aa637051c,https://git.eclipse.org/r/#/c/2205,6,02b29c283bdec251854843e31a00472081e8a6a4,58256d14c87f500efd5be810015683d23947af87,1,10/01/11,10/01/11,271,Use heap based stack for PackFile deltas,"Use heap based stack for PackFile deltas

Instead of using the current thread's stack to recurse through
the delta chain, use a stack that is stored in the heap.  This
permits the current thread to load a longer delta chain without
running out of stack space.

Change-Id: I6faca2a440020309658ca23fbec4c95aa637051c
Signed-off-by: Shawn O. Pearce <spearce@spearce.org>",0,1,0,0,0,0,1,1,1
2207,I9b0639f9843f457ee9de43504b2499a673cd0e77,https://git.eclipse.org/r/#/c/2207,3,433c9383039d785c7d78f7f6c86a0013c5173074,0e7ec0b785894b892ba3a668fd7a436474b72369,1,05/01/11,05/01/11,108,NoteMap implements Iterable<Note>,"NoteMap implements Iterable<Note>

We will need to iterate over all notes of a NoteMap, at least this will be
needed for testing purposes. This change also implied making the Note class
public.

Signed-off-by: Sasa Zivkov <sasa.zivkov@sap.com>",0,0,0,0,0,0,0,0,0
2211,I7de63cb3482488ac938566706edebee8a1cdad3a,https://git.eclipse.org/r/#/c/2211,4,9be057f8ff6ebe1afde9e6dfdc376510334578e2,d74b09574b21db49fb1b8b5c4aeaf4a734796e2f,0,31/03/11,31/03/11,3,Bump jsch to 0.1.44,"Bump jsch to 0.1.44

It fixes 'Corrupted MAC on input' ssh issue.",0,1,0,0,0,0,1,NA,NA
2214,Ie4e060ef7772958b2062679e462c34c506371740,https://git.eclipse.org/r/#/c/2214,1,63dd9a54798095125cd9f645a08d5c8b5607a077,6ee7c9279e3d26265cd1d7ebf2ffe14385482fc0,1,10/01/11,10/01/11,80,Config: Preserve existing case of names in sections,"Config: Preserve existing case of names in sections

When an application asks for the names in a section, it may want to
see the existing case that was stored by the user.  For example,
Gerrit Code Review wants to store a configuration block like:

  [access ""refs/heads/master""]
    label-Code-Review = group Developers

and although the name label-Code-Review is case-insensitive, it wants
to display the case as it appeared in the configuration file.

When enumerating section names or variable names (both of which are
case-insensitive), Config now keeps track of the string that first
appeared, and presents them in file order, permitting applications to
use this information.  To maintain case-insensitive behavior, the
contains() method of the returned Set<String> still performs a
case-insensitive compare.

This is a behavior change if the caller enumerates the returned
Set<String> and copies it to his own Set<String>, and then performs
contains() tests against that, as the strings are now the original
case from the configuration block.  But I don't think anyone actually
does this, as the returned sets are immutable and are cached.

Change-Id: Ie4e060ef7772958b2062679e462c34c506371740
Signed-off-by: Shawn O. Pearce <spearce@spearce.org>",0,0,0,0,0,0,0,1,1
2216,Ic87ae94c70158ba2bcb310aa242102853d221f11,https://git.eclipse.org/r/#/c/2216,1,1872c904453ea962dbd08c9dc21daa22eebf6b60,5cc1333538f257b76d400c88bf3770d87c37bf93,1,07/01/11,07/01/11,49,Fix IgnoreRule for directory-only patterns,"Fix IgnoreRule for directory-only patterns

Patterns containing only a trailing slash have to be treated
as ""global"" patterns. For example: ""classes/"" matches ""classes""
as well as ""dir/classes"" directory.",0,0,0,0,0,0,0,0,0
2219,Ie7267776e988a48a5443f0f3fe4eb43e79eee4b1,https://git.eclipse.org/r/#/c/2219,2,447d585998eb988ddd4c47f7dc02a1e9c40627ee,856ef4ed48c830ffbbf6659978523253d7fe078c,1,10/01/11,10/01/11,58,Using java.util.concurrent in NLSTest instead of handling threads directly.,"Using java.util.concurrent in NLSTest instead of handling threads directly.

A test in NLSTest was mixing the ""old"" and the ""new"" way of handling
concurrency. This change makes use of the java.util.concurrent facilities to
control concurrency and removes the code that was directly dealing with Thread
objects.

Signed-off-by: Sasa Zivkov <sasa.zivkov@sap.com>",0,0,0,0,0,0,0,0,0
2223,I67db2b77b52c43932436d22a8daa5a6556423484,https://git.eclipse.org/r/#/c/2223,1,dc05753d91b275251ccafea12467cf0910eb8b62,5d3f6513fdbff631a65920b2e42eab4d67841ef4,1,10/01/11,10/01/11,10,Do not cherry-pick or revert commit more than once,"Do not cherry-pick or revert commit more than once

Instead just return success. In the case that no commit has been
cherry-picked or reverted, just return the old HEAD.
    
Bug: 333814
Change-Id: I67db2b77b52c43932436d22a8daa5a6556423484
Signed-off-by: Robin Rosenberg <robin.rosenberg@dewire.com>",0,0,0,0,0,0,0,0,0
2228,I219f864f2ed8d68051d7b5955d0659964fa27274,https://git.eclipse.org/r/#/c/2228,4,e1b67931f2ca8632afc7865d37900fc7e8fa78fa,59dcb793c0ed336ad07ed8f298788daf86b4b52c,1,29/01/11,29/01/11,1,Do not create files to be updated before checkout of DirCache entry,"Do not create files to be updated before checkout of DirCache entry

DirCacheCheckout.checkoutEntry() prepares the new file content using a
temporary file and then renames it to the file to be written during
checkout. For files to be updated checkout() created each file before
calling checkoutEntry(). Hence renaming the temporary file always
failed which was corrected in exception handling by retrying to rename
the file after deleting the just newly created file.

Change-Id: I219f864f2ed8d68051d7b5955d0659964fa27274
Signed-off-by: Matthias Sohn <matthias.sohn@sap.com>",0,1,0,0,0,0,1,0,0
2231,I3d62f904b769fc2f1b7b8f0f24f7dd757fc9c379,https://git.eclipse.org/r/#/c/2231,2,ac6d70055d912ca04e0cb2624faa5220571247f0,ee5e10276e116752bf66017d4466a51432939098,0,12/01/11,12/01/11,9,ConfigConstants: expose some constants for user name and email.,"ConfigConstants: expose some constants for user name and email.

This is needed by a EGit change.

Change-Id: I3d62f904b769fc2f1b7b8f0f24f7dd757fc9c379
Signed-off-by: Mathias Kinzler <mathias.kinzler@sap.com>",0,0,0,0,0,0,0,NA,NA
2236,I3dc57ab0a6589292db77a17d9029ee9499dfc725,https://git.eclipse.org/r/#/c/2236,1,3c0fbbc3d5aab04b589cd7c81479420f34096046,c074d9c5150ad96eba57cb9f10385cff5e7e6550,1,12/01/11,12/01/11,2,CheckoutCommand: fix reflog message,"CheckoutCommand: fix reflog message

There is a space missing between <from> and ""to"" in the reflog
message produced by the CheckoutCommand, which is of the form

moving from <from> to <to>

Change-Id: I3dc57ab0a6589292db77a17d9029ee9499dfc725
Signed-off-by: Mathias Kinzler <mathias.kinzler@sap.com>",0,0,0,0,0,0,0,0,0
2237,Id54fc5292bf8c5a67177f9097ee692717a7df336,https://git.eclipse.org/r/#/c/2237,1,ff0a1a8ab3cecf54b114adddb666f38c12bdcfc3,cdbdf07b344003a22ee06944d8350c5adaee7d0d,0,12/01/11,12/01/11,18,Locate $HOME like C Git does on Windows,"Locate $HOME like C Git does on Windows

Java's user.home is not the same as $HOME so EGit did see the
same global configuration as C Git does.

Bug: 333269
Change-Id: Id54fc5292bf8c5a67177f9097ee692717a7df336
Signed-off-by: Robin Rosenberg <robin.rosenberg@dewire.com>",0,0,0,0,0,0,0,NA,NA
2240,I944fcdae66bb4de712e2eadec73d8008d3a9bace,https://git.eclipse.org/r/#/c/2240,1,b3f64303352bb6752fa975ab1a998febe8468d5a,0c76a7f8c422e40f1d16fb4eec81c657d6f337d2,1,12/01/11,12/01/11,10,Fix API ListBranchCommand for listmode 'all',"Fix API ListBranchCommand for listmode 'all'

If remote branches are present they can not be added
to the RefMap from the local branches - the two RefMaps
have a different value of 'prefix' and consequently an
IllegalArgumentException is thrown.",0,0,0,0,0,0,0,0,0
2252,I5b167c9cc6d7a7c56d0197c62c0fd0036a83ec6c,https://git.eclipse.org/r/#/c/2252,3,d3804146547db5c302c9fbdef12fd780bd96bfaa,9e94e410441590c58c81e2b2f73ae1270c5b47d1,1,25/01/11,25/01/11,3730,Refactor IndexPack to not require local filesystem,"Refactor IndexPack to not require local filesystem

By moving the logic that parses a pack stream from the network (or
a bundle) into a type that can be constructed by an ObjectInserter,
repository implementations have a chance to inject their own logic
for storing object data received into the destination repository.

The API isn't completely generic yet, there are still quite a few
assumptions that the PackParser subclass is storing the data onto
the local filesystem as a single file.  But its about the simplest
split of IndexPack I can come up with without completely ripping
the code apart.

Change-Id: I5b167c9cc6d7a7c56d0197c62c0fd0036a83ec6c
Signed-off-by: Shawn O. Pearce <spearce@spearce.org>",0,0,0,0,1,0,1,0,0
2262,I24552443710075856540696717ac4068dfe6a7f2,https://git.eclipse.org/r/#/c/2262,1,6afc97aac9a6bac027322c445907ff5b2fa80f16,89b6da51361ea219c324d409d3422f9eeb5066cb,1,17/01/11,17/01/11,34,Fix misc spelling errors in comments and method names,"Fix misc spelling errors in comments and method names

Change-Id: I24552443710075856540696717ac4068dfe6a7f2
Signed-off-by: Robin Rosenberg <robin.rosenberg@dewire.com>",0,0,0,1,0,0,1,0,0
2263,I4f05bdb0c58b039bd379341a6093f06a2cdfec6e,https://git.eclipse.org/r/#/c/2263,5,89b6da51361ea219c324d409d3422f9eeb5066cb,c3496b68a1d37c066a12304dd3f700dd87fe977e,1,21/01/11,21/01/11,95,Add progress reporting to IndexDiff,"Add progress reporting to IndexDiff

Change-Id: I4f05bdb0c58b039bd379341a6093f06a2cdfec6e
Signed-off-by: Robin Rosenberg <robin.rosenberg@dewire.com>",0,1,0,1,0,0,1,0,0
2292,I459de081fd518abfa50dd812c68eed4d1c7f8a0b,https://git.eclipse.org/r/#/c/2292,1,a3a4d841c368dcf573f6fc2000e19c472a621fe7,5f08393a129327da41f96ed9b7be30d8550cc5bf,0,21/01/11,21/01/11,20,Build http.server source JAR,"Build http.server source JAR

Change-Id: I459de081fd518abfa50dd812c68eed4d1c7f8a0b
Signed-off-by: Shawn O. Pearce <spearce@spearce.org>",0,0,0,1,0,0,1,NA,NA
2293,I07540f0ae1144ef6f3bda48774dbdefb8876e1d3,https://git.eclipse.org/r/#/c/2293,2,299c8ee7a5c404d8061b7bbd28970810bbe7ea13,5ae2fd0611caade180278f97e3dd817561d1113c,1,25/01/11,25/01/11,6,Ensure all deltas were resolved in a pack,"Ensure all deltas were resolved in a pack

If a pack uses OFS_DELTA only (e.g. its an initial push to a
repository) and PackParser's implementation is broken such that the
delta chain that hangs below a particular object offset is empty, the
entryCount won't match the expected objectCount.  Fail fast rather
than claiming the stream was parsed correctly.

The current implementation is not broken as described above.  I broke
the code when I implemented my own new subclass of PackParser (which
incorrectly mucked with the object offset information), leading me to
discover this consistency check was missing.

Change-Id: I07540f0ae1144ef6f3bda48774dbdefb8876e1d3
Signed-off-by: Shawn O. Pearce <spearce@spearce.org>",0,0,0,0,0,0,0,0,0
2294,I90c801bb40e86412209de0c43e294a28f6a767a5,https://git.eclipse.org/r/#/c/2294,2,47d334acb80af533fc90841dffcdc79bdb9171db,22d03e176420d64304decde89cc86d1642112d27,1,25/01/11,25/01/11,57,Permit disabling birthday attack checks in PackParser,"Permit disabling birthday attack checks in PackParser

Reading a repository for millions of missing objects might be very
expensive to perform, especially if the repository is on a network
filesystem or some other costly RPC backend.  A repository owner
might choose to accept some risk in return for better performance,
so allow disabling collision checking when receiving a pack.

Currently there is no way for an end-user to disable this feature.
This is intentional, because it is generally *NOT* a good idea to
skip this check.  Instead this feature is supplied for storage
implementations to bypass the default checking logic, should they
have their own custom routines that is just as effective but can
be handled more efficiently.

Change-Id: I90c801bb40e86412209de0c43e294a28f6a767a5
Signed-off-by: Shawn O. Pearce <spearce@spearce.org>",0,0,0,0,0,0,0,0,0
2295,I0aa4072781f5ccc019ca421c036adff2c40c4295,https://git.eclipse.org/r/#/c/2295,24,0892a09722252bcfa210ff5c82d77fda4860eed1,37713e08adcca450d069d7799d253d544f6e558a,1,05/05/11,05/05/11,21720,RFC Store Git on any DHT,"RFC Store Git on any DHT

jgit.storage.dht is a new storage provider implementation for JGit
that permits storing the Git repository into a distributed hashtable,
NoSQL system, or traditional database.  The actual underlying storage
system is completely undefined, and can be plugged in by implementing
7 small interfaces:

  *  Database
  *  RepositoryTable
  *  RefTable (and RefTransaction)
  *  ChunkTable
  *  ObjectIndexTable
  *  WriteBuffer

The storage provider interface tries to assume very little about the
underlying storage system, and requires only three key features:

  *  key -> value lookup (a hashtable is suitable)
  *  atomic updates on single rows
  *  asynchronous operations (Java's ExecutorService is easy to use)

Most NoSQL database products offer all 3 of these features in their
clients, and so does any decent network based cache system like the
open source memcache product.  Relying only on key equality for data
retrevial makes it simple for the storage engine to distribute across
multiple machines.  Traditional SQL systems could also be used with a
(yet to be written) JDBC based spi implementation.

Thus far I have implemented two storage systems for the spi layer:
Apache Cassandra [1] and Google Bigtable.  Both systems weigh in with
an spi layer around 1000 lines of code to implement the above 7
interfaces.  This is a huge reduction in size compared to prior
attempts to implement a new JGit storage layer.  As this package
shows, a complete JGit storage implementation is closer to 7000 lines
of relatively complex code.

[1] https://github.com/spearce/jgit_cassandra

Change-Id: I0aa4072781f5ccc019ca421c036adff2c40c4295
Signed-off-by: Shawn O. Pearce <spearce@spearce.org>",0,1,0,0,1,0,1,39,1
2304,I627aefcedcd3434deecd63fa1d3e90e303b385ac,https://git.eclipse.org/r/#/c/2304,3,f746bd6ca72cd3d5cc83135adca6ef4c87409cdf,830b96595c7d710b02e581e42e77bd28c6f723aa,1,25/01/11,25/01/11,150,Exposed the constructor of Note class as public.,"Exposed the constructor of Note class as public.

Additionally, defined the NoteMap.getNote method which returns a Note
instance.  These changes were necessary to enable implementation of
the NoteMerger interface (the merge method needs to instantiate a
Note) and to enable direct use of NoteMerger which expects instances
of Note class as its paramters.  Implementing creation of code review
summary notes in Gerrit [1] will make use of both of these features.

[1] https://review.source.android.com/#change,20045

Change-Id: I627aefcedcd3434deecd63fa1d3e90e303b385ac
Signed-off-by: Sasa Zivkov <sasa.zivkov@sap.com>",0,0,0,0,0,0,0,0,0
2309,Ie5cafde09ae870712b165d8a97a2c9daf90b1dbd,https://git.eclipse.org/r/#/c/2309,4,afb45c77858e335f7bdc6a906d05c4838deb31bd,d1cba9cc572c496614c39333275265081e651153,1,25/01/11,25/01/11,121,Parsing RevCommit bodies before calling RevFilter.include(),"Parsing RevCommit bodies before calling RevFilter.include()

Previously, RevFilter.include() may be passed RevCommit's with unparsed
bodies when a RevFilter is being reused after it is reset.

Change-Id: Ie5cafde09ae870712b165d8a97a2c9daf90b1dbd",0,1,0,0,0,0,1,0,0
2310,I0752a1f5fc7fef32064d8f921b33187c0bdc7227,https://git.eclipse.org/r/#/c/2310,7,9ce91d2acf952b9080d0ee2ab1f1deb33ad3302c,10fda8e11d1dde7a2a51ed65989c2bd7b41ec51c,1,18/02/11,18/02/11,187,Added TreeWalk.findObject() utility method.,"Added TreeWalk.findObject() utility method.

This method allows a provided path to be searched for in a provided tree
object.  The method will search subtrees accordingly to find the path.

Change-Id: I0752a1f5fc7fef32064d8f921b33187c0bdc7227",0,1,0,0,0,0,1,0,0
2316,I8990004d08074657f467849dabfdaa7e6674e69a,https://git.eclipse.org/r/#/c/2316,2,6ea97dd6e3c7e7a3ddfc4a49cdcb12b00b696b90,c1b72de60c412ba56b4bba91bc684cd4a6ec86d5,0,27/01/11,27/01/11,18,"Remove getObjectsDirectory, openPack from base API","Remove getObjectsDirectory, openPack from base API

These two methods are specific to the FileRepository implementation
and should not be exposed as part of the base Repository API.  Now
that PackParser is generic and does not require these two methods
to import a pack stream into a repostiory, it is safe to remove
these and get them out of the public view.

Change-Id: I8990004d08074657f467849dabfdaa7e6674e69a
Signed-off-by: Shawn O. Pearce <spearce@spearce.org>",0,0,0,0,0,0,0,NA,NA
2318,I2a1b8098b5890bf512b8dbe07da41036c0fc9b72,https://git.eclipse.org/r/#/c/2318,2,165448e11d32753de05fbb9f648f9699c3e03fec,19b131673f36b5ae220814fcf88f2e7f4b23a225,1,27/01/11,27/01/11,48,Support for self signed certificate (HTTPS),"Support for self signed certificate (HTTPS)

Add possibility to disable ssl verification, just as i can do with git
using: git config --global http.sslVerify false

To enable the feature, configure
Window->Preferences->Team->Git->Configuration
and add a new key/value: http.sslVerify=false

When handling repos over https, JGit will then check that flag to see
if security is loose and the ssl verification should be ignored.

Having it implemented as a key/value makes it not too obvious in the
GUI - so the user must know what he/she is doing when adding it. Being
aware of the risks etc.

Bug: 332487
Change-Id: I2a1b8098b5890bf512b8dbe07da41036c0fc9b72
Signed-off-by: Matthias Sohn <matthias.sohn@sap.com>",0,0,0,0,0,0,0,1,1
2327,I9417c85255b160723968c647063b9c7e05995ea4,https://git.eclipse.org/r/#/c/2327,2,c649a8493ded9e1436b6840cc513637e8efe9755,78bc2b2b59a0ee756c792729ed157fc8986dca8f,1,25/01/11,25/01/11,22,JGit API: allow to set a CredentialsProvider on relevant commands,"JGit API: allow to set a CredentialsProvider on relevant commands

This is needed for commands that use Transport internally.

Change-Id: I9417c85255b160723968c647063b9c7e05995ea4
Signed-off-by: Mathias Kinzler <mathias.kinzler@sap.com>",0,0,0,0,0,0,0,0,0
2328,I170685e70d9ac09a010df69d26ec1c38bde60174,https://git.eclipse.org/r/#/c/2328,2,afc5b77a72f00bd22ec2e0a4bcec61208c723778,713365bc2560741282bbeaa3feb0ceae224afc98,0,27/01/11,27/01/11,4,Rename PlotWalk.getTags() to getRefs() - it returns all Ref types,"Rename PlotWalk.getTags() to getRefs() - it returns all Ref types

Spent some time going ""where's the getBranches() method?""",0,0,0,0,0,0,0,NA,NA
2333,Ie0350e032a97e0d09626d6143c5c692873a5f6a2,https://git.eclipse.org/r/#/c/2333,2,bca275665f2ef5d9f3f69a72692f58bb8b682230,37f41c8222dabe9f703bf9c270a279176f3c90f4,0,26/01/11,26/01/11,3,Fix adding files in a network share,"Fix adding files in a network share

We cannot always rename read-only files on network shares,
so rename the temp file for a new loose object first, and
then rename it.

Bug: 335388
Change-Id: Ie0350e032a97e0d09626d6143c5c692873a5f6a2
Signed-off-by: Robin Rosenberg <robin.rosenberg@dewire.com>",0,0,0,0,0,0,0,NA,NA
2337,I79b3ddd6f390152aa49e6b7a4c72a4aca0d6bc72,https://git.eclipse.org/r/#/c/2337,2,94c3f081ea860620d92425b92fb9f0a54358c06f,8f76cbb9efb8705a56d0282775c0e994f1843cb9,1,27/01/11,27/01/11,23,Provide access to the Refs of a PlotCommit,"Provide access to the Refs of a PlotCommit

This information is generally useful - have followed the
accessor pattern of 'children' and 'parents'",0,0,0,0,0,0,0,0,0
2340,Ia876fda0d4cf91b5326d48014e88503de93a1f38,https://git.eclipse.org/r/#/c/2340,1,c39492eb44bba18e071259430149fa65bf16fea5,13e8abb86f29d355ad817534c78b6a14f5b9fbf4,1,26/01/11,26/01/11,12,Remove unneeded interface from test class,"Remove unneeded interface from test class

Change-Id: Ia876fda0d4cf91b5326d48014e88503de93a1f38
Signed-off-by: Christian Halstrick <christian.halstrick@sap.com>",0,0,0,1,0,0,1,0,0
2341,Id4a0d56d944e0acebd4b3157428bb50bd3fdd872,https://git.eclipse.org/r/#/c/2341,1,1254c2e6ce4143800ea91439e24c0eb4a3f47516,0dd771c1be913534fe6730204945b5e2ff72eef9,1,26/01/11,26/01/11,27,MergeCommand should create missing branches,"MergeCommand should create missing branches

If HEAD exists but points to an not-existing branch the merge
command should silently create the missing branch and check
it out. This happens if you pull into freshly initalized repo.
HEAD points to refs/heads/master but refs/heads/master doesn't
exist. If you know merge a commit X into HEAD then the branch
master should be created (pointing to X) the working tree should
be updated to reflect X. That is achieved by checkout with one
tree only (HEAD is missing).

A test for this functionality will come the the next proposal
in PullCommandTest.

Change-Id: Id4a0d56d944e0acebd4b3157428bb50bd3fdd872
Signed-off-by: Christian Halstrick <christian.halstrick@sap.com>",0,0,0,0,0,0,0,0,0
2342,I670ff08310b72c858709b9e395f0aebb4b290a56,https://git.eclipse.org/r/#/c/2342,1,0dd771c1be913534fe6730204945b5e2ff72eef9,1555dbd243ceba7662b6c0e3a03bfdc443257dcc,1,26/01/11,26/01/11,43,Refactor and comment complicated if statements,"Refactor and comment complicated if statements

When debugging and enhancing DirCacheCheckout.processEntry() I found
that some of if-statements where hard to read/understand. This
change just splits some long if statements and adds more comments
explaining in which state we are. This change is only a preparation
for followup commits which introduce checks for untracked+ignored
files.

Change-Id: I670ff08310b72c858709b9e395f0aebb4b290a56
Signed-off-by: Christian Halstrick <christian.halstrick@sap.com>",0,0,0,0,0,0,0,0,0
2343,I26806d2108ceb64c51abaa877e11b584bf527fc9,https://git.eclipse.org/r/#/c/2343,2,1555dbd243ceba7662b6c0e3a03bfdc443257dcc,233849597be6e589f3d878ca7ba9b44252115bb3,1,27/01/11,27/01/11,68,Make sure not to overwrite untracked not-ignored files,"Make sure not to overwrite untracked not-ignored files

When DirCacheCheckout was checking out it was silently
overwriting untracked files. This is only ok if the
files are also ignored. Untracked and not ignored files
should not be overwritten. This fix adds checks for
this situation.
Because this change in the behaviour also broke tests
which expected that a checkout will overwrite untracked
files (PullCommandTest) these tests have to be modified
also.

Bug: 333093
Change-Id: I26806d2108ceb64c51abaa877e11b584bf527fc9
Signed-off-by: Christian Halstrick <christian.halstrick@sap.com>",0,0,0,0,0,0,0,0,0
2345,I2c67e2e1a03044284d183d73f0b82bb7ff79de95,https://git.eclipse.org/r/#/c/2345,2,7794dc7136791dcec844c0c75896547aa8521a84,76c07f6c5f4c1628c56c7a7090f40dcb8358c6e8,1,26/01/11,26/01/11,15,Fixed several NPEs in the Fetch CLI.,"Fixed several NPEs in the Fetch CLI.

The Fetch command line was failing with NPE in case some options were omitted.
Additionally, it was setting a negative timeout when no timeout option was used
which caused HttpURLConnection to throw an IllegalArgumentException.

Change-Id: I2c67e2e1a03044284d183d73f0b82bb7ff79de95
Signed-off-by: Sasa Zivkov <sasa.zivkov@sap.com>",0,0,0,0,0,0,0,0,0
2346,I984836ea7d6a67fd2d1d05f270afa7c29f30971c,https://git.eclipse.org/r/#/c/2346,1,37004982192f62f34ea89da61215aca74f7709e3,b13e7ed4d3481a147d9baa22594654668a5ef97d,1,27/01/11,27/01/11,12,Make setCredentialsProvider more convenient to use,"Make setCredentialsProvider more convenient to use

Change-Id: I984836ea7d6a67fd2d1d05f270afa7c29f30971c
Signed-off-by: Mathias Kinzler <mathias.kinzler@sap.com>",0,0,0,1,0,0,1,0,0
2348,I89b881a8b5ef39f609437546310463ed4f6e1fb5,https://git.eclipse.org/r/#/c/2348,2,4a46acb403f3720b7195032f395107831bdb9b6b,60999a39ea9a522837225dab87ea21eaa70c0997,1,26/01/11,26/01/11,4,Fixed NLS in JGit command line interface.,"Fixed NLS in JGit command line interface.

There was one place where the parameter substitution wasn't done which caused
text fragments like ""{0}"" to appear in JGits output.

Bug: 325025
Change-Id: I89b881a8b5ef39f609437546310463ed4f6e1fb5
Signed-off-by: Sasa Zivkov <sasa.zivkov@sap.com>",0,0,0,0,0,0,0,0,0
2350,Ibdcc95906ef0f93e3798ae20d4de353fb394f2e2,https://git.eclipse.org/r/#/c/2350,2,8f73b2c56893fbd8f8443f06e4965547555b7452,79027b1bf67becbe75058c996cd62406f24fb873,0,26/01/11,26/01/11,16,"FetchCommand: allow to set ""TagOpt""","FetchCommand: allow to set ""TagOpt""

This is needed for implementing Fetch in EGit using the API.

Change-Id: Ibdcc95906ef0f93e3798ae20d4de353fb394f2e2
Signed-off-by: Mathias Kinzler <mathias.kinzler@sap.com>",0,0,0,0,0,0,0,NA,NA
2351,I41b2235b7677bc5fddc70dda2a56cdd2cb53ce5d,https://git.eclipse.org/r/#/c/2351,2,9bbf618b17e438ec9e82525b73adf680dfee2cd0,5bf76ff514ed608d8905f13c1b3b1ada6eadbe2e,0,26/01/11,26/01/11,3,Fix for fix for adding files in a network share,"Fix for fix for adding files in a network share

The change Ie0350e032a97e0d09626d6143c5c692873a5f6a2 was not
done properly. The renamed fie wsas not write protected, and
this broke a test.

Bug: 335388
Change-Id: I41b2235b7677bc5fddc70dda2a56cdd2cb53ce5d
Signed-off-by: Robin Rosenberg <robin.rosenberg@dewire.com>",0,0,0,0,0,0,0,NA,NA
2353,Icc8e1c548ecf6ed48bd2979c81eeb6f578d347bd,https://git.eclipse.org/r/#/c/2353,1,ec26440c260a9c8b295803239bb1aa328f422fc1,2f730a5ad217d2e0fa3148aaa942077c659d99a1,1,27/01/11,27/01/11,15,Hard reset should not report conflict on untracked file,"Hard reset should not report conflict on untracked file

This problem surfaced since EGit Core ResetOperationTest is failing
since change I26806d21. JGit detected checkout conflict for untracked
files which never were tracked by the repository. 

""git reset --hard"" in c git also doesn't remove such untracked files.

Change-Id: Icc8e1c548ecf6ed48bd2979c81eeb6f578d347bd
Signed-off-by: Matthias Sohn <matthias.sohn@sap.com>",0,0,0,0,0,0,0,0,0
2357,If2b6a9903b536c7fb3c45f85d0a67ff6c6e66f22,https://git.eclipse.org/r/#/c/2357,1,4b8258417117b4c6ad4b3af2b38c16fa8c8fbfbc,5a3f3ff8e23559103a8378fab1027b4c51a0548a,1,27/01/11,27/01/11,5,PackWriter: Use TOPO order only for incremental packs,"PackWriter: Use TOPO order only for incremental packs

When performing an initial clone of a repository there are no
uninteresting commits, and the resulting pack will be completely
self-contained.  Therefore PackWriter does not need to honor C
Git standard TOPO ordering as described in JGit commit ba984ba2e0a
(""Fix checkReferencedIsReachable to use correct base list"").

Switching to COMMIT_TIME_DESC when there are no uninteresting commits
allows the ""Counting objects"" phase to emit progress earlier, as the
RevWalk will not buffer the commit list.  When TOPO is set the RevWalk
enumerates all commits first, before outputing any for PackWriter to
mark progress updates from.

Change-Id: If2b6a9903b536c7fb3c45f85d0a67ff6c6e66f22
Signed-off-by: Shawn O. Pearce <spearce@spearce.org>",0,0,0,0,0,0,0,0,0
2358,I3f51cf4388898917b2be36670587a5aee902ff10,https://git.eclipse.org/r/#/c/2358,1,5a3f3ff8e23559103a8378fab1027b4c51a0548a,7e9ccdd8ea087f8999f3d71982fd42de0394d8de,1,27/01/11,27/01/11,9,Allow ObjectReuseAsIs to resort objects during writing,"Allow ObjectReuseAsIs to resort objects during writing

It can be very handy for the implementation to resort the
object list based on data locality, improving prefetch in
the operating system's buffer cache.

Export the list to the implementation was a proper List,
and document that its mutable and OK to be modified.  The
only caller in PackWriter is already OK with these rules.

Change-Id: I3f51cf4388898917b2be36670587a5aee902ff10
Signed-off-by: Shawn O. Pearce <spearce@spearce.org>",0,0,0,0,0,0,0,0,0
2359,Ie99ed4d969a6bb20cc2528ac6b8fb91043cee071,https://git.eclipse.org/r/#/c/2359,1,7e9ccdd8ea087f8999f3d71982fd42de0394d8de,998f34d41224386a0a5dfb16228ec7a1adb1d96e,1,27/01/11,27/01/11,292,Teach PackWriter how to reuse an existing object list,"Teach PackWriter how to reuse an existing object list

Counting the objects needed for packing is the most expensive part of
an UploadPack request that has no uninteresting objects (otherwise
known as an initial clone).  During this phase the PackWriter is
enumerating the entire set of objects in this repository, so they can
be sent to the client for their new clone.

Allow the ObjectReader (and therefore the underlying storage system)
to keep a cached list of all reachable objects from a small number of
points in the project's history.  If one of those points is reached
during enumeration of the commit graph, most objects are obtained from
the cached list instead of direct traversal.

PackWriter uses the list by discarding the current object lists and
restarting a traversal from all refs but marking the object list name
as uninteresting.  This allows PackWriter to enumerate all objects
that are more recent than the list creation, or that were on side
branches that the list does not include.

However, ObjectWalk tags all of the trees and commits within the list
commit as UNINTERESTING, which would normally cause PackWriter to
construct a thin pack that excludes these objects.  To avoid that,
addObject() was refactored to allow this list-based enumeration to
always include an object, even if it has been tagged UNINTERESTING by
the ObjectWalk.  This implies the list-based enumeration may only be
used for initial clones, where all objects are being sent.

The UNINTERESTING labeling occurs because StartGenerator always
enables the BoundaryGenerator if the walker is an ObjectWalk and a
commit was marked UNINTERESTING, even if RevSort.BOUNDARY was not
enabled.  This is the default reasonable behavior for an ObjectWalk,
but isn't desired here in PackWriter with the list-based enumeration.
Rather than trying to change all of this behavior, PackWriter works
around it.

Because the list name commit's immediate files and trees were all
enumerated before the list enumeration itself starts (and are also
within the list itself) PackWriter runs the risk of adding the same
objects to its ObjectIdSubclassMap twice.  Since this breaks the
internal map data structure (and also may cause the object to transmit
twice), PackWriter needs to use a new ""added"" RevFlag to track whether
or not an object has been put into the outgoing list yet.

Change-Id: Ie99ed4d969a6bb20cc2528ac6b8fb91043cee071
Signed-off-by: Shawn O. Pearce <spearce@spearce.org>",0,0,0,0,0,0,0,1,1
2361,Ib599ab4de13ad67665ccfccf3ece52ba3222bcba,https://git.eclipse.org/r/#/c/2361,2,998f34d41224386a0a5dfb16228ec7a1adb1d96e,847920d14eaf843e4517f5ca144b3176b35f16a9,1,28/01/11,28/01/11,271,ObjectIdSubclassMap: Support duplicate additions,"ObjectIdSubclassMap: Support duplicate additions

The new addIfAbsent() method combines get() with add(), but does it in
a single step so that the common case of get() returning null for a
new object can immediately insert the object into the map.

Change-Id: Ib599ab4de13ad67665ccfccf3ece52ba3222bcba
Signed-off-by: Shawn O. Pearce <spearce@spearce.org>",0,0,0,0,0,0,0,0,0
2363,Iec349fc7be9e9fbaeb53841894883c47a98a7b29,https://git.eclipse.org/r/#/c/2363,1,01c7805734700f342a8e4de38ebbc1d54ed62ec6,b15f34af9f84f4e30d2eb6d6d09954b1cab858d6,1,28/01/11,28/01/11,4,TransportHttp wrongly uses JDK 6 constructor of IOException,"TransportHttp wrongly uses JDK 6 constructor of IOException

IOException constructor taking Exception as parameter is
new for JDK 6.

Change-Id: Iec349fc7be9e9fbaeb53841894883c47a98a7b29
Signed-off-by: Mathias Kinzler <mathias.kinzler@sap.com>",0,0,0,0,0,0,0,0,0
2364,Ib9898fe0f982fa08e41f1dca9452c43de715fdb6,https://git.eclipse.org/r/#/c/2364,3,b15f34af9f84f4e30d2eb6d6d09954b1cab858d6,a583b6efa20dce758db783c1ec1cda969029edf5,1,28/01/11,28/01/11,146,RebaseCommand: detect and handle fast-forward properly,"RebaseCommand: detect and handle fast-forward properly

This bug was hidden by an incomplete test: the current Rebase
implementation using the ""git rebase -i"" pattern does not work
correctly if fast-forwarding is involved. The reason for this is that
the log command does not return any commits in this case.
In addition, a check for already merged commits was introduced to
avoid spurious conflicts.

Change-Id: Ib9898fe0f982fa08e41f1dca9452c43de715fdb6
Signed-off-by: Mathias Kinzler <mathias.kinzler@sap.com>",0,0,0,0,0,0,0,2,1
2365,Ic94f263d3f47b630ad75bd5412cb4741bb1109ca,https://git.eclipse.org/r/#/c/2365,4,b4b03c5194a09dcff217652102b76eb7806eaeca,8014a5a4deb0d939393c9729d3a8efb21203f3dd,1,28/01/11,28/01/11,412,Make PullCommand work with Rebase,"Make PullCommand work with Rebase

Rebase must honor the upstream configuration

branch.<branchname>.rebase

Change-Id: Ic94f263d3f47b630ad75bd5412cb4741bb1109ca
Signed-off-by: Mathias Kinzler <mathias.kinzler@sap.com>",0,1,0,0,0,0,1,1,1
2367,I065a0a8122be356d1f898321763d3518b504b075,https://git.eclipse.org/r/#/c/2367,1,20245416244aa30cf32d77de9dbb482ca57621f8,a91d4b654e1380c1da3fe4d3c0cb5dfee8a5f48b,1,28/01/11,28/01/11,294,"Revert ""Teach PackWriter how to reuse an existing object list""","Revert ""Teach PackWriter how to reuse an existing object list""

This reverts commit f5fe2dca3cb9f57891e1a4b18832fcc158d0c490.

I regret adding this feature to the public API.  Caches aren't always
the best idea, as they require work to maintain.  Here the cache is
redundant information that must be computed, and when it grows stale
must be removed.  The redundant information takes up more disk space,
about the same size as the pack-*.idx files are.  For the linux-2.6
repository, that's more than 40 MB for a 400 MB repository.  So the
cache is a 10% increase in disk usage.

The entire point of this cache is to improve PackWriter performance,
and only PackWriter performance, and only when sending an initial
clone to a new client.  There may be better ways to optimize this, and
until we have a solid solution, we shouldn't be using a separate cache
in JGit.",0,0,0,0,0,0,0,-1,0
2369,Ie48d655698dc1f4cd4f00606436a57c451c13179,https://git.eclipse.org/r/#/c/2369,2,3de13ee5287265d2c67791f2c325d5f9149d0dff,69f30b254691104ef0c7cbd5b7d6c477840e4290,0,31/01/11,31/01/11,2,Fix incorrect review url in IP log file,"Fix incorrect review url in IP log file

Change-Id: Ie48d655698dc1f4cd4f00606436a57c451c13179",0,0,0,1,0,0,1,NA,NA
2371,Id9713a4849c772e030fca23dd64b993264f28366,https://git.eclipse.org/r/#/c/2371,2,2156bc7710f0cae8eb659a5c93529a9c978a966b,112b1afd38318e02a81f854bf53ea3041ec56faa,0,28/01/11,28/01/11,17,Bug 335703 - Add setCredentialsProvider to org.eclipse.jgit.api.PullCommand,Bug 335703 - Add setCredentialsProvider to org.eclipse.jgit.api.PullCommand,0,0,0,1,0,0,1,NA,NA
2376,I40f03409e080cdfeceb21460150f5e02a016e7f4,https://git.eclipse.org/r/#/c/2376,1,930bfebeb95d84426156c5881d960ccf4e7efa7b,993dcb6c1e047dc20c893a16e164cba77a4ffd52,1,31/01/11,31/01/11,99,Proper handling of rebase during pull,"Proper handling of rebase during pull

After consulting with Christian Halstrick, it turned out that the
handling of rebase during pull was implemented incorrectly.

Change-Id: I40f03409e080cdfeceb21460150f5e02a016e7f4
Signed-off-by: Mathias Kinzler <mathias.kinzler@sap.com>",0,0,0,0,0,0,0,0,0
2379,Iec2dbf5e077f29c0e0686cab11ef197ffc705012,https://git.eclipse.org/r/#/c/2379,1,b966320bd217bdc97ef7da6850a985a106552a3a,dd353282735e316e09bea5b89a9698e78369bf3e,0,31/01/11,31/01/11,2,Revert Ie48d6556,"Revert Ie48d6556

This was a mistake that was missed due to historical reasons.

""The first /r/ tells our Apache to redirect the request to Gerrit.
The second /r/ tells Gerrit that the thing following is a Git SHA-1
and it should try to locate the changes that use that commit object.
Nothing I can easily do about it now. The second /r/ is historical
and comes from Gerrit 1.x days.""

Change-Id: Iec2dbf5e077f29c0e0686cab11ef197ffc705012
Signed-off-by: Chris Aniszczyk <caniszczyk@gmail.com>",0,0,0,0,0,0,0,NA,NA
2381,I99e1832bf204eac5a424fdb04f327792e8cded4a,https://git.eclipse.org/r/#/c/2381,1,dd353282735e316e09bea5b89a9698e78369bf3e,e07311592afce32d2a6308b47124bb84178f48c9,0,01/02/11,01/02/11,11,ObjectWalk: Fix reset for non-commit objects,"ObjectWalk: Fix reset for non-commit objects

Non-commits are added to a pending queue, but duplicates are
removed by checking a flag.  During a reset that flag must be
stripped off the old roots, otherwise the caller cannot reuse
the old roots after the reset.

RevWalk already does this correctly for commits, but ObjectWalk
failed to handle the non-commit case itself.

Change-Id: I99e1832bf204eac5a424fdb04f327792e8cded4a
Signed-off-by: Shawn O. Pearce <spearce@spearce.org>",0,0,0,0,0,0,0,NA,NA
2382,I429c825e5a724d2f21c66f95526d9c49edcc6ca9,https://git.eclipse.org/r/#/c/2382,1,e07311592afce32d2a6308b47124bb84178f48c9,5de7190b4e80e6f0c1d9b76058ddd39f0ab591df,1,01/02/11,01/02/11,78,Show resolving deltas progress to push clients,"Show resolving deltas progress to push clients

CGit push clients 1.6.6 and later support progress messages on the
side-band-64k channel during push, as this was introduced to handle
server side hook errors reported over smart HTTP.

Since JGit's delta resolution isn't always as fast as CGit's is,
a user may think the server has crashed and failed to report
status if the user pushed a lot of content and sees no feedback.
Exposing the progress monitor during the resolving deltas phase
will let the user know the server is still making forward progress.

This also helps BasePackPushConnection, which has a bounded timeout
on how long it will wait before assuming the remote server is dead.
Progress messages pushed down the side-band channel will reset the
read timer, helping the connection to stay alive and avoid timing
out before the remote side's work is complete.

Change-Id: I429c825e5a724d2f21c66f95526d9c49edcc6ca9
Signed-off-by: Shawn O. Pearce <spearce@spearce.org>",0,0,0,0,0,0,0,0,0
2383,I7ea19f0263e463c65da34a7e92718c6db1d4a131,https://git.eclipse.org/r/#/c/2383,2,5de7190b4e80e6f0c1d9b76058ddd39f0ab591df,12d57a5ed37b0a087917d2ed873576e6891ceb29,1,01/02/11,01/02/11,11,PackWriter: Don't include edges in progress meter,"PackWriter: Don't include edges in progress meter

When compressing objects, don't include the edges in the progress
meter.  These cost almost no CPU time as they are simply pushed into
and popped out of the delta search window.

Change-Id: I7ea19f0263e463c65da34a7e92718c6db1d4a131
Signed-off-by: Shawn O. Pearce <spearce@spearce.org>",0,0,0,0,0,0,0,0,0
2384,Ida0a052ad2f6e994996189ca12959caab9e556a3,https://git.eclipse.org/r/#/c/2384,2,ba3d1d7477d8ea497fc94605e5a959f69aaecce8,73ebcb0a92b328743cb6d5d07eff4dcdb0fa86bb,1,01/02/11,01/02/11,4,PackWriter: Correct 'Compressing objects' progress message,"PackWriter: Correct 'Compressing objects' progress message

The first 'Compressing objects' progress message is wrong, its
actually PackWriter looking up the sizes of each object in the
ObjectDatabase, so objects can be sorted correctly in the later
type-size sort that tries to take advantage of ""Linus' Law"" to
improve delta compression.

Rename the progress to say 'Getting sizes', which is an accurate
description of what it is doing.

Change-Id: Ida0a052ad2f6e994996189ca12959caab9e556a3
Signed-off-by: Shawn O. Pearce <spearce@spearce.org>",0,0,0,0,0,0,0,0,0
2385,I0f4cf9997cd66d8b6e7f80873979ef1439e507fe,https://git.eclipse.org/r/#/c/2385,2,0d268b50eeb12356ab93a2a2dd855e8fe1aa13a7,5c31b3d16adf3b22534728e154cad96cb5c6f13a,1,01/02/11,01/02/11,50,PackWriter: Cleanup findObjectToPack method,"PackWriter: Cleanup findObjectToPack method

Some of this code predates making ObjectId.equals() final
and fixing RevObject.equals() to match ObjectId.equals().
It was therefore more complex than it needs to be, because
it tried to work around RevObject's broken equals() rules
by converting to ObjectId in a different collection.

Also combine setUpWalker() and findObjectsToPack() methods,
these can be one method and the code is actually cleaner.

Change-Id: I0f4cf9997cd66d8b6e7f80873979ef1439e507fe
Signed-off-by: Shawn O. Pearce <spearce@spearce.org>",0,0,0,0,0,0,0,0,0
2386,Id01271950432c6960897495b09deab70e33993a9,https://git.eclipse.org/r/#/c/2386,2,5e3903e941a48ae79930d62aff0e113767fc30fd,b26f6c28841621d353ff1a676ae42b9f2445ea0f,1,12/02/11,12/02/11,478,PackWriter: Make thin packs more efficient,"PackWriter: Make thin packs more efficient

There is no point in pushing all of the files within the edge
commits into the delta search when making a thin pack.  This floods
the delta search window with objects that are unlikely to be useful
bases for the objects that will be written out, resulting in lower
data compression and higher transfer sizes.

Instead observe the path of a tree or blob that is being pushed
into the outgoing set, and use that path to locate up to WINDOW
ancestor versions from the edge commits.  Push only those objects
into the edgeObjects set, reducing the number of objects seen by the
search window.  This allows PackWriter to only look at ancestors
for the modified files, rather than all files in the project.
Limiting the search to WINDOW size makes sense, because more than
WINDOW edge objects will just skip through the window search as
none of them need to be delta compressed.

To further improve compression, sort edge objects into the front
of the window list, rather than randomly throughout.  This puts
non-edges later in the window and gives them a better chance at
finding their base, since they search backwards through the window.

These changes make a significant difference in the thin-pack:

  Before:
    remote: Counting objects: 144190, done
    remote: Finding sources: 100% (50275/50275)
    remote: Getting sizes: 100% (101405/101405)
    remote: Compressing objects: 100% (7587/7587)
    Receiving objects: 100% (50275/50275), 24.67 MiB | 9.90 MiB/s, done.
    Resolving deltas: 100% (40339/40339), completed with 2218 local objects.

    real    0m30.267s

  After:
    remote: Counting objects: 61549, done
    remote: Finding sources: 100% (50275/50275)
    remote: Getting sizes: 100% (18862/18862)
    remote: Compressing objects: 100% (7588/7588)
    Receiving objects: 100% (50275/50275), 11.04 MiB | 3.51 MiB/s, done.
    Resolving deltas: 100% (43160/43160), completed with 5014 local objects.

    real    0m22.170s

The resulting pack is 13.63 MiB smaller, even though it contains the
same exact objects.  82,543 fewer objects had to have their sizes
looked up, which saved about 8s of server CPU time.  2,796 more
objects from the client were used as part of the base object set,
which contributed to the smaller transfer size.

Change-Id: Id01271950432c6960897495b09deab70e33993a9
Signed-off-by: Shawn O. Pearce <spearce@spearce.org>",0,0,0,0,0,0,0,1,1
2387,If3b039017a984ed5d5ae80940ce32bda93652df5,https://git.eclipse.org/r/#/c/2387,2,3062ccce3b129af899f4045e3886d7c77c575702,1e4d2f7bef3b431dd9d714103b74313548917a50,1,03/02/11,03/02/11,58,PackWriter: Display totals after sending objects,"PackWriter: Display totals after sending objects

CGit pack-objects displays a totals line after the pack data
was fully written.  This can be useful to understand some of
the decisions made by the packer, and has been a great tool
for helping to debug some of that code.

Track some of the basic values, and send it to the client when
packing is done:

  remote: Counting objects: 1826776, done
  remote: Finding sources: 100% (55121/55121)
  remote: Getting sizes: 100% (25654/25654)
  remote: Compressing objects: 100% (11434/11434)
  remote: Total 1861830 (delta 3926), reused 1854705 (delta 38306)
  Receiving objects: 100% (1861830/1861830), 386.03 MiB | 30.32 MiB/s, done.

Change-Id: If3b039017a984ed5d5ae80940ce32bda93652df5
Signed-off-by: Shawn O. Pearce <spearce@spearce.org>",0,0,0,0,0,0,0,0,0
2388,Ib87131d5c4b5e8c5cacb0f4fe16ff4ece554734b,https://git.eclipse.org/r/#/c/2388,4,aa440eddec21e4c401ba975d8c7753fbb6f37f77,c107dabaf76ad4474ffe5c7d8b70337ae46f8658,1,03/02/11,03/02/11,719,PackWriter: Support reuse of entire packs,"PackWriter: Support reuse of entire packs

The most expensive part of packing a repository for transport to
another system is enumerating all of the objects in the repository.
Once this gets to the size of the linux-2.6 repository (1.8 million
objects), enumeration can take several CPU minutes and costs a lot
of temporary working set memory.

Teach PackWriter to efficiently reuse an existing ""cached pack""
by answering a clone request with a thin pack followed by a larger
cached pack appended to the end.  This requires the repository
owner to first construct the cached pack by hand, and record the
tip commits inside of $GIT_DIR/objects/info/cached-packs:

  cd $GIT_DIR
  root=$(git rev-parse master)
  tmp=objects/.tmp-$$
  names=$(echo $root | git pack-objects --keep-true-parents --revs $tmp)
  for n in $names; do
    chmod a-w $tmp-$n.pack $tmp-$n.idx
    touch objects/pack/pack-$n.keep
    mv $tmp-$n.pack objects/pack/pack-$n.pack
    mv $tmp-$n.idx objects/pack/pack-$n.idx
  done

  (echo ""+ $root"";
   for n in $names; do echo ""P $n""; done;
   echo) >>objects/info/cached-packs

  git repack -a -d

When a clone request needs to include $root, the corresponding
cached pack will be copied as-is, rather than enumerating all of
the objects that are reachable from $root.

For a linux-2.6 kernel repository that should be about 376 MiB,
the above process creates two packs of 368 MiB and 38 MiB[1].
This is a local disk usage increase of ~26 MiB, due to reduced
delta compression between the large cached pack and the smaller
recent activity pack.  The overhead is similar to 1 full copy of
the compressed project sources.

With this cached pack in hand, JGit daemon completes a clone request
in 1m17s less time, but a slightly larger data transfer (+2.39 MiB):

  Before:
    remote: Counting objects: 1861830, done
    remote: Finding sources: 100% (1861830/1861830)
    remote: Getting sizes: 100% (88243/88243)
    remote: Compressing objects: 100% (88184/88184)
    Receiving objects: 100% (1861830/1861830), 376.01 MiB | 19.01 MiB/s, done.
    remote: Total 1861830 (delta 4706), reused 1851053 (delta 1553844)
    Resolving deltas: 100% (1564621/1564621), done.

    real  3m19.005s

  After:
    remote: Counting objects: 1601, done
    remote: Counting objects: 1828460, done
    remote: Finding sources: 100% (50475/50475)
    remote: Getting sizes: 100% (18843/18843)
    remote: Compressing objects: 100% (7585/7585)
    remote: Total 1861830 (delta 2407), reused 1856197 (delta 37510)
    Receiving objects: 100% (1861830/1861830), 378.40 MiB | 31.31 MiB/s, done.
    Resolving deltas: 100% (1559477/1559477), done.

    real 2m2.938s

Repository owners can periodically refresh their cached packs by
repacking their repository, folding all newer objects into a larger
cached pack.  Since repacking is already considered to be a normal
Git maintenance activity, this isn't a very big burden.

[1] In this test $root was set back about two weeks.

Change-Id: Ib87131d5c4b5e8c5cacb0f4fe16ff4ece554734b
Signed-off-by: Shawn O. Pearce <spearce@spearce.org>",0,1,0,0,1,0,1,4,1
2396,I28ae5713b7e8123a0176fc6d7356e469900e7e97,https://git.eclipse.org/r/#/c/2396,1,6e28f4db303f2ef22fc39f8562fe870c2bff58df,2b85acad486b3c5aeb799d293cda6b357b2f8315,1,02/02/11,02/02/11,13,"Don't print ""into HEAD"" when merging refs/heads/master","Don't print ""into HEAD"" when merging refs/heads/master

When MergeMessageFormatter was given a symbolic ref HEAD which points to
refs/heads/master (which is the case when merging a branch in EGit), it
would result in a merge message like the following:

  Merge branch 'a' into HEAD

But it should print the following (as C Git does):

  Merge branch 'a'

The solution is to use the leaf ref when checking for refs/heads/master.

Change-Id: I28ae5713b7e8123a0176fc6d7356e469900e7e97",0,0,0,0,0,0,0,0,0
2400,I7a7a9221afcfebe2e1595a5e59641e6c1ae4a207,https://git.eclipse.org/r/#/c/2400,1,2b85acad486b3c5aeb799d293cda6b357b2f8315,385ca8cf82a6e98c85be6ef2575c1d5700bee50f,0,02/02/11,02/02/11,3,PushCommand: do not set a null credentials provider,"PushCommand: do not set a null credentials provider

PushCommand now does not set a null credentials provider on
Transport because in this case the default provider is replaced with
null and the default mechanism for providing credentials is not
working.

Bug: 336023
Change-Id: I7a7a9221afcfebe2e1595a5e59641e6c1ae4a207
Signed-off-by: Jens Baumgart <jens.baumgart@sap.com>",0,0,0,0,0,0,0,NA,NA
2402,I72cb1cc718800c09366306ab2eebd43cd82023ff,https://git.eclipse.org/r/#/c/2402,1,b302a659b01711d1c71b246a0903b219d7cd08d4,d95fc3bb00efffa22ccfbdaec01e49a310b605c0,0,02/02/11,02/02/11,20,Expose some constants needed for reading the Pull configuration,"Expose some constants needed for reading the Pull configuration

Change-Id: I72cb1cc718800c09366306ab2eebd43cd82023ff
Signed-off-by: Mathias Kinzler <mathias.kinzler@sap.com>",0,0,0,1,0,0,1,NA,NA
2403,Ifac0138c6c6d66c40d7295b5e11ff3cd98bc9e0c,https://git.eclipse.org/r/#/c/2403,1,85db9f34d5a4ac9793c9d3ed948292c563ea9d6e,13d7f0e385d901fdb5c23bbbe1dfc6bd874957e1,0,02/02/11,02/02/11,4,Adapt expected commit message in tests,"Adapt expected commit message in tests

Because of change I28ae5713, the commit message lost the ""into HEAD"" and
caused the MergeCommandTest to fail. This change fixes it.

Bug: 336059
Change-Id: Ifac0138c6c6d66c40d7295b5e11ff3cd98bc9e0c",0,0,0,0,0,0,0,NA,NA
2410,Iee70ead0d3ed2d2fcc980417d09d7a69b05f5c2f,https://git.eclipse.org/r/#/c/2410,1,0755cf11f24d911b0f767c6928ff9874feef4485,206e6446689962d3141eb5af05d73b5a46e7ac33,1,03/02/11,03/02/11,183,RefAdvertiser: Avoid object parsing,"RefAdvertiser: Avoid object parsing

It isn't strictly necessary to validate every reference's target
object is reachable in the repository before advertising it to a
client. This is an expensive operation when there are thousands of
references, and its very unlikely that a reference uses a missing
object, because garbage collection proceeds from the references and
walks down through the graph. So trying to hide a dangling reference
from clients is relatively pointless.

Even if we are trying to avoid giving a client a corrupt repository,
this simple check isn't sufficient.  It is possible for a reference to
point to a valid commit, but that commit to have a missing blob in its
root tree.  This can be caused by staging a file into the index,
waiting several weeks, then committing that file while also racing
against a prune.  The prune may delete the blob, since its
modification time is more than 2 weeks ago, but retain the commit,
since its modification time is right now.

Such graph corruption is already caught during PackWriter as it
enumerates the graph from the client's want list and digs back
to the roots or common base.  Leave the reference validation also
for that same phase, where we know we have to parse the object to
support the enumeration.

Change-Id: Iee70ead0d3ed2d2fcc980417d09d7a69b05f5c2f
Signed-off-by: Shawn O. Pearce <spearce@spearce.org>",0,0,0,0,0,0,0,0,0
2411,I9c30d34f8e344da05c8a2c041a6dc181d8e8bc19,https://git.eclipse.org/r/#/c/2411,3,981bb390bdc19ff12400aac682e9c67fe6bbf2b2,ee13ce2ef4befa0e111c8201ce33b2974b2a2b50,1,13/02/11,13/02/11,106,UploadPack: Avoid parsing want list on clone,"UploadPack: Avoid parsing want list on clone

If a client wants to perform a clone of the repository, it sends
wants, but no haves.  There is no point in parsing the want list
within UploadPack, as there won't be a common merge base search.
Instead just defer the parsing to PackWriter, which will do its
own parsing and object enumeration.

If the client does have a ""have"" set, defer parsing of the want list
until the have list is also parsed, and parse them together in a
single batch queue.  This lets the underlying storage system use a
larger lookup batch if there is significant latency involved when
resolving an ObjectId to a RevObject.

Change-Id: I9c30d34f8e344da05c8a2c041a6dc181d8e8bc19
Signed-off-by: Shawn O. Pearce <spearce@spearce.org>",0,0,0,0,0,0,0,1,1
2416,I22e5e3492fdebbae092d1ce6b47ad411e57cc1ba,https://git.eclipse.org/r/#/c/2416,4,f2998ac5ea3768febb8d1b47e7a70303f0251b67,2eed8d9646d31c344867a10e52a8a04c82a2a5f7,1,06/02/11,06/02/11,90,"Fix JGit --upload-pack, --receive-pack options","Fix JGit --upload-pack, --receive-pack options

JGit did not use sh -c to run the receive-pack or upload-pack programs
locally, which caused errors if these strings contained spaces and
needed the local shell to evaluate them.

Bug: 336301
Change-Id: I22e5e3492fdebbae092d1ce6b47ad411e57cc1ba
Signed-off-by: Shawn O. Pearce <spearce@spearce.org>",0,1,0,0,0,0,1,0,0
2426,I69c60576ae648fea2a730c9e9f042004bccecc90,https://git.eclipse.org/r/#/c/2426,1,e718af8c157c64f24c2c006e257f35f239aa8f28,1d9b5e193d584d15c44173394280888efbef3061,1,06/02/11,06/02/11,9,"In iplog list approved CQs as ""active""","In iplog list approved CQs as ""active""

Change-Id: I69c60576ae648fea2a730c9e9f042004bccecc90
Signed-off-by: Matthias Sohn <matthias.sohn@sap.com>",0,0,0,1,0,0,1,0,0
2427,Ifdbe0b22c9cd0a9181546d090b4990d792d70c82,https://git.eclipse.org/r/#/c/2427,1,4de3cc3aa4778fdcacc07c7acda8ac2a1aad0a4b,5f3596afcc0095b343dcafc95556e07957a1d74b,1,13/02/11,13/02/11,2,UploadPack: Fix want-is-satisfied test,"UploadPack: Fix want-is-satisfied test

okToGiveUpImp() has been missing a ! for a long time.  This loop over
wantAll() is looking for an object where wantSatisfied() returns
false, because there is no common merge base present.  Unfortunately
it was missing a !, causing the loop to break and return false after
at least one want was satisified.

Bug: 301639
Change-Id: Ifdbe0b22c9cd0a9181546d090b4990d792d70c82
Signed-off-by: Shawn O. Pearce <spearce@spearce.org>",0,0,0,0,0,0,0,0,0
2428,I3bb67d68212e4f579e8c5dfb138f007b406d775f,https://git.eclipse.org/r/#/c/2428,1,5f3596afcc0095b343dcafc95556e07957a1d74b,23312f2d551e1ee5f4298d53ad93685cfd9f88e1,1,13/02/11,13/02/11,2,"UploadPack: Don't discard COMMON, SATISIFIED flags","UploadPack: Don't discard COMMON, SATISIFIED flags

When the walker resets, its going to scrub the COMMON and SATISIFIED
flags off a commit if the commit is contained within another commit
the client wants.  This is common if the client asks for both a
'maint' and 'master' branch, and 'maint' is also fully merged into
'master'.

COMMON shouldn't be scrubbed during reset because its used to control
membership of the commonBase collection, which is a List.  commonBase
should technically be a set, but membership is cheaper with a RevFlag.
COMMON appears on a commit reachable from a WANT when there is also a
PEER_HAS flag present, as this is a merge base.  Scrubbing this off
when another branch is tested isn't useful.

SATISIFIED is a cache to tell us if wantSatisified() has already
completed for this particular WANT.  If it has, there isn't a need to
recompute on that branch.  Scrubbing it off 'maint' when we test
'master' just means we would later need to re-test 'maint', wasting
CPU time on the server.

Bug: 301639
Change-Id: I3bb67d68212e4f579e8c5dfb138f007b406d775f
Signed-off-by: Shawn O. Pearce <spearce@spearce.org>",0,0,0,0,0,0,0,0,0
2429,I1ef354fbf2e2ed44c9020a4069d7179f2159f19f,https://git.eclipse.org/r/#/c/2429,1,23312f2d551e1ee5f4298d53ad93685cfd9f88e1,20812cf21a6818edd3b0303940e8db6e3d992c23,1,13/02/11,13/02/11,8,UploadPack: Tag non-commits SATISIFIED earlier,"UploadPack: Tag non-commits SATISIFIED earlier

This gets non-commits out of the wantSatisfied() main loop by making
use of the cached SATISIFIED flag and its existing bypass.  Anything
that isn't a commit cannot be discovered by the have negotiation, so
its always assumed to be SATISIFIED by the server.

Bug: 301639
Change-Id: I1ef354fbf2e2ed44c9020a4069d7179f2159f19f
Signed-off-by: Shawn O. Pearce <spearce@spearce.org>",0,0,0,0,0,0,0,0,0
2430,Iffaaa2250907150d6efa1cf2f2fcf59851d5267d,https://git.eclipse.org/r/#/c/2430,2,20812cf21a6818edd3b0303940e8db6e3d992c23,c08cda692fdaeef11e3c4d7218771c91dfc29f20,1,13/02/11,13/02/11,53,UploadPack: Avoid walking the entire project history,"UploadPack: Avoid walking the entire project history

If the client presents a common commit on a side branch, and there is
a want for a disconnected branch UploadPack was walking back on the
entire history of the disconnected branch because it never would find
the common commit.

Limit our search back along any given want to be no earlier than the
oldest common commit received via a ""have"" line from our client.  This
prevents us from looking at all of the project history.

Bug: 301639
Change-Id: Iffaaa2250907150d6efa1cf2f2fcf59851d5267d
Signed-off-by: Shawn O. Pearce <spearce@spearce.org>",0,0,0,0,0,0,0,0,0
2431,I98a82a5424fd4c9995924375c7910f76ca4f03af,https://git.eclipse.org/r/#/c/2431,2,55d560530f73dca5ec5c976d04fd5a90f6727c36,d52e34cf4ae5245567a89412fab93de7a6269466,1,13/02/11,13/02/11,2,UploadPack: Assume okToGiveUp is initially false,"UploadPack: Assume okToGiveUp is initially false

When negotiate() starts there is at least one want, but no haves, and
thus no common base exists.  Its not ok to give up yet, the client
should try to find a common base with the server.  Avoid scanning our
history along the want chains until we have found at least one commit
in common with the client, this will trigger okToGiveUp to be set to
null, enabling okToGiveUp() to perform the scan.

Bug: 301639
Change-Id: I98a82a5424fd4c9995924375c7910f76ca4f03af
Signed-off-by: Shawn O. Pearce <spearce@spearce.org>",0,0,0,0,0,0,0,0,0
2432,I97ef52a0b79d78229c272880aedb7f74d0f7532f,https://git.eclipse.org/r/#/c/2432,4,82e3533e415216ff6e4c185e484904eab80376a2,97acd4ba4faed409564f3470cf46e8bb3d8009d9,1,14/02/11,14/02/11,83,UploadPack: Donate parsed commits to PackWriter,"UploadPack: Donate parsed commits to PackWriter

When UploadPack has computed the merge base between the client's have
set and the want set, its already loaded and parsed all of the
interesting commits that PackWriter needs to transmit to the client.
Switching the RevWalk and its object pool over to be an ObjectWalk
saves PackWriter from needing to re-parse these same commits from the
ObjectDatabase, reducing the startup latency for the enumeration
phase of packing.

UploadPack doesn't want to use an ObjectWalk for the okToGiveUp()
tests because its slower, during each commit popped it needs to cache
the tree into the pendingObjects list, and during each reset() it
discards a bunch of ObjectWalk specific state and reallocates some
internal collections.  ObjectWalk was never meant to be rapidly
reset() like UploadPack does, so its perhaps somewhat cleaner to allow
""upgrading"" a RevWalk to an ObjectWalk.

Bug: 301639
Change-Id: I97ef52a0b79d78229c272880aedb7f74d0f7532f
Signed-off-by: Shawn O. Pearce <spearce@spearce.org>",0,1,0,0,0,0,1,0,0
2433,I3ad188a719e8d7f6bf27d1a7ca16d465534713f4,https://git.eclipse.org/r/#/c/2433,4,47cc47f106e52965f49d0890fa6467d51f52748d,d5fe33e670e9767036c9e3894ea0e4bb8ede5b1d,1,14/02/11,14/02/11,4,RevWalk: Don't reset ObjectReader when stopping,"RevWalk: Don't reset ObjectReader when stopping

Applications like UploadPack reset() and reuse the same RevWalk
multiple times in very rapid succession.  Releasing the ObjectReader's
internal state on each use, only to allocate it again on the next
cycle kills performance if the ObjectReader has internal caches, or
even if the Inflater gets returned and pulled from the InflaterCache
too frequently.

Making releasing the ObjectReader the application's responsibility
when it is done with the RevWalk, which most already do by wrapping
their loop in a try/finally block.

Change-Id: I3ad188a719e8d7f6bf27d1a7ca16d465534713f4
Signed-off-by: Shawn O. Pearce <spearce@spearce.org>",0,1,0,0,0,0,1,0,0
2435,Ib5d88f0b2151df2d1d2b4e08d51ee979f6da67b5,https://git.eclipse.org/r/#/c/2435,1,4c9015de14641fef4c4ec94af7d8a2625fc742b5,cb7eb7354ab69332540138b707455b64256d13be,0,07/02/11,07/02/11,35,Remove quoting of command over SSH,"Remove quoting of command over SSH

If the command contains spaces, it needs to be evaluated by the remote
shell.  Quoting the command breaks this, making it impossible to run a
remote command that needs additional options.

Bug: 336301
Change-Id: Ib5d88f0b2151df2d1d2b4e08d51ee979f6da67b5
Signed-off-by: Shawn O. Pearce <spearce@spearce.org>",0,0,0,0,0,0,0,NA,NA
2439,I1d36b060eb3385339d5f986e68192789ef70fc4e,https://git.eclipse.org/r/#/c/2439,3,e6ff7713d0174814378504944dd6bfb532426b6a,913702608643a05838d13806ba3b670caa4c2ced,1,14/02/11,14/02/11,277,UploadPack: Expose PackWriter activity to a logger,"UploadPack: Expose PackWriter activity to a logger

The UploadPackLogger interface allows applications that embed
GitServlet or otherwise use UploadPack to service clients to
track and log how PackWriter was used, and what it sent.  This
provides more granularity into the request activity than might
be available from the HTTP server logs, helping administrators
to better understand utilization and Git server performance.

Change-Id: I1d36b060eb3385339d5f986e68192789ef70fc4e
Signed-off-by: Shawn O. Pearce <spearce@spearce.org>",0,0,0,0,0,0,0,1,1
2440,I1efa6b2bd7c6567e983fbbf346947238ea2e847e,https://git.eclipse.org/r/#/c/2440,5,4b8ef9e82bdc77c879deaf2f3eb1fd7c1ae2820f,056f0d72afcaebab30e7866f0013cb883c6d27bd,1,15/02/11,15/02/11,939,daemon: Use HTTP'sresolver and factory pattern,"daemon: Use HTTP'sresolver and factory pattern

Using a resolver and factory pattern for the anonymous git:// Daemon
class makes transport.Daemon more useful on non-file storage systems,
or in embedded applications where the caller wants more precise
control over the work tasks constructed within the daemon.

Rather than defining new interfaces, move the existing HTTP ones
into transport.resolver and make them generic on the connection
handle type.  For HTTP, continue to use HttpServletRequest, and
for transport.Daemon use DaemonClient.

To remain compatible with transport.Daemon, FileResolver needs to
learn how to use multiple base directories, and how to export any
Repository instance at a fixed name.

Change-Id: I1efa6b2bd7c6567e983fbbf346947238ea2e847e
Signed-off-by: Shawn O. Pearce <spearce@spearce.org>",0,1,0,0,1,0,1,0,0
2441,I262ccc8c01cd6db88f832ef317b0e1e5db2d016a,https://git.eclipse.org/r/#/c/2441,6,5f27ff8033798529396e829d3b3da0b8b8701bf0,62883b551ee61b274d4cc1dbcc28657d9cea3462,1,15/02/11,15/02/11,45,pgm: Make --git-dir a string,"pgm: Make --git-dir a string

DHT based repository types don't use a java.io.File to name the
repository.  Moving the type to a string starts to open up more types
of repository names, making the standard pgm package easier to reuse
on other storage systems.

Change-Id: I262ccc8c01cd6db88f832ef317b0e1e5db2d016a
Signed-off-by: Shawn O. Pearce <spearce@spearce.org>",0,1,0,0,0,0,1,0,0
2443,Ice404629687d7f2a595d8d4eccf471b12f7e32ec,https://git.eclipse.org/r/#/c/2443,4,0a90b596be1c1c8bf06bc563e29f581ce6cb8031,82f9359b24dec215a54ae4bc9a4a020782ca8aef,1,17/02/11,17/02/11,480,[DRAFT] Add git-reset to the Git API,"[DRAFT] Add git-reset to the Git API

TODO - need to add tests

Bug: 334764
Change-Id: Ice404629687d7f2a595d8d4eccf471b12f7e32ec
Signed-off-by: Chris Aniszczyk <caniszczyk@gmail.com>",0,1,0,0,0,1,1,1,1
2449,I6714a8560a1c04b5578e9c5b469ea3c77188dff3,https://git.eclipse.org/r/#/c/2449,2,19f83c4c5e7c4ad29459e396ad917169c42dbfb0,fdc3d420a22c37a9f34549f3c57781eb23e9bb0f,1,13/02/11,13/02/11,31,UploadPack: Rely on peeled ref data for include-tag,"UploadPack: Rely on peeled ref data for include-tag

The peeled reference information for tags is more efficient to
work with than parsing the tag objects, as usually its coming from
the packed-refs file, which stores the peeled information for us.
Rely on the peeled information to decide if the tag should be
included or not, instead of using our RevWalk to parse the object.

Change-Id: I6714a8560a1c04b5578e9c5b469ea3c77188dff3
Signed-off-by: Shawn O. Pearce <spearce@spearce.org>",0,0,0,0,0,0,0,0,0
2450,I87b6b6a5fb269669867047698abf718d366bd002,https://git.eclipse.org/r/#/c/2450,2,81fe3fb75577b1277c89bc9763104f84744255fb,7b2a9a1810b84a43fefd1457e0e4d87de6552c82,1,14/02/11,14/02/11,123,RevWalk: Avoid unnecessary re-parsing of commit bodies,"RevWalk: Avoid unnecessary re-parsing of commit bodies

If the RevFilter doesn't actually require the commit body,
we shouldn't reparse it if the body was disposed.  This happens
often inside of UploadPack during common ancestor negotation, the
RevWalk is reset and re-run over roughly the same commit space,
but the bodies are discarded because the commit message is not
relevant to the process.

Change-Id: I87b6b6a5fb269669867047698abf718d366bd002
Signed-off-by: Shawn O. Pearce <spearce@spearce.org>",0,0,0,0,0,0,0,0,0
2453,Ife75858e89ea79c0d6d88ba73877fe8400448e34,https://git.eclipse.org/r/#/c/2453,1,ecfa4c29fe52a0bc6cce636aab05aa1ed8af456c,6ad2878b5ec3f2952d91be0e69cb51fa302e7430,0,08/02/11,08/02/11,11,PullCommand: use default remote instead of throwing Exception,"PullCommand: use default remote instead of throwing Exception

When pulling into a local branch that has no upstream configuration,
pull should try to used the default remote (""origin"") instead of
throwing an Exception.

Bug: 336504
Change-Id: Ife75858e89ea79c0d6d88ba73877fe8400448e34
Signed-off-by: Mathias Kinzler <mathias.kinzler@sap.com>",0,0,0,0,0,0,0,NA,NA
2456,I8c889d7b42f6f121d096acad1fada8e3752d74f9,https://git.eclipse.org/r/#/c/2456,3,d654c75c03c69fd5baf1cf646cf756d3decf4fac,ca4a3f6a18cf6f0d72af0aa4c6e5f9ccce0a89a7,1,13/02/11,13/02/11,9,Setup the default remote and merge config in CloneCommand,"Setup the default remote and merge config in CloneCommand

Bug: 336621
Change-Id: I8c889d7b42f6f121d096acad1fada8e3752d74f9
Signed-off-by: Chris Aniszczyk <caniszczyk@gmail.com>",0,0,0,0,0,0,0,0,0
2462,I1f85890fe718f38ef4b62ebe711f0668267873a2,https://git.eclipse.org/r/#/c/2462,2,efdf0eca712972fddc64c54e46d4193ae04cf261,76e1696fd407434dc41359df60654a8a38298aa1,0,15/02/11,15/02/11,12,Fix processing of broken symbolic references in RefDirectory,Fix processing of broken symbolic references in RefDirectory,0,0,0,1,0,0,1,NA,NA
2467,If35db06743f5f588ab19d360fd2a18a07c918edb,https://git.eclipse.org/r/#/c/2467,1,5525b7eda8ba67356ede09766ea5f630921db90d,59f875d9baac6cd4b5dac6e95cb9739fdff610a7,1,09/02/11,09/02/11,10,Add isOutdated method to DirCache,"Add isOutdated method to DirCache

isOutdated returns true iff the memory state differs from the index
file.

Change-Id: If35db06743f5f588ab19d360fd2a18a07c918edb
Signed-off-by: Jens Baumgart <jens.baumgart@sap.com>",0,0,0,0,0,0,0,0,0
2469,Iefcb85e791723801faa315b3ee45fb19e3ca52fb,https://git.eclipse.org/r/#/c/2469,1,ef04bb25d415948789f703027ab6da235ec8ac40,a1f589cc72106e8c074eeab68cbfff350848335e,1,09/02/11,09/02/11,7,Fix NPE on reading global config on MAC,"Fix NPE on reading global config on MAC

Bug: 336610

Change-Id: Iefcb85e791723801faa315b3ee45fb19e3ca52fb
Signed-off-by: Jens Baumgart <jens.baumgart@sap.com>",0,0,0,0,0,0,0,0,0
2481,Ia010c9cecefbfb90ae54786adc7c8d838525d2f3,https://git.eclipse.org/r/#/c/2481,1,cdd9d57808de8207381b3a267275ed2524f3c3ae,9d20f95c77a5829aa8c70e46f4af1ddead8ced3c,0,12/02/11,12/02/11,19,Fix version.sh,"Fix version.sh

Change-Id: Ia010c9cecefbfb90ae54786adc7c8d838525d2f3
Signed-off-by: Matthias Sohn <matthias.sohn@sap.com>",0,0,0,1,0,0,1,NA,NA
2482,I9ac2fdfb4326536502964ba614d37d0bd103f524,https://git.eclipse.org/r/#/c/2482,1,9d20f95c77a5829aa8c70e46f4af1ddead8ced3c,fc24e7b053deda6e247a8f7f881110b68be2e9fb,0,12/02/11,12/02/11,384,JGit 0.11.1,"JGit 0.11.1

Change-Id: I9ac2fdfb4326536502964ba614d37d0bd103f524
Signed-off-by: Matthias Sohn <matthias.sohn@sap.com>",0,0,0,1,0,0,1,NA,NA
2487,Ibcef4fc4c986c2cda01e943d16aa1c53eff99f25,https://git.eclipse.org/r/#/c/2487,1,9103c258454b3b3a8222a861ce0eed746be5f448,f8c3516ac7901d82bbcac895866591877cfa6740,0,12/02/11,12/02/11,384,Qualify post 0.11 builds,"Qualify post 0.11 builds

Change-Id: Ibcef4fc4c986c2cda01e943d16aa1c53eff99f25
Signed-off-by: Matthias Sohn <matthias.sohn@sap.com>",0,0,0,1,0,0,1,NA,NA
2492,I6a1154551435cf0da6c2b4a7f4dce266abea5dff,https://git.eclipse.org/r/#/c/2492,4,7cc3dbecd74814aae00650e14c9cff1e473bc499,97556c0acf9b29776058ea804fc0c039971055e7,1,16/02/11,16/02/11,33,RepositoryBuilder: Allow callers to require repository exists,"RepositoryBuilder: Allow callers to require repository exists

The setMustExist() method allows callers to require the repository
exists in order for build() to succeed. This is useful within a
RepositoryResolver where existance is required.

Change-Id: I6a1154551435cf0da6c2b4a7f4dce266abea5dff
Signed-off-by: Shawn O. Pearce <spearce@spearce.org>",0,1,0,0,0,0,1,0,0
2495,I3bc42fea1f552f10d4729999cab6fb4241b70325,https://git.eclipse.org/r/#/c/2495,1,2663e67a971cb144f6ca69722d95ea37c4c7a809,27bd2df9a9cd12738015ffe3ce433215102c145a,0,14/02/11,14/02/11,4,CreateBranchCommand: Wrong existence check,"CreateBranchCommand: Wrong existence check

Bug: 337044
Change-Id: I3bc42fea1f552f10d4729999cab6fb4241b70325
Signed-off-by: Mathias Kinzler <mathias.kinzler@sap.com>",0,0,0,0,0,0,0,NA,NA
2507,I123b23e475860d5bb968906bef59068985088b7b,https://git.eclipse.org/r/#/c/2507,1,63628d4a78325806fc3fc792f93405a9fcc78dbd,862510b2aced4f2679582588d6884e61d0ca0732,1,16/02/11,16/02/11,5,UploadPack: Expose advertised refs to callers,"UploadPack: Expose advertised refs to callers

Like ReceivePack, callers that embed UploadPack within their
service may wish to see the set of references that were sent
to the client. We already have the map on hand, it just needs
to be exposed with a getter.

Change-Id: I123b23e475860d5bb968906bef59068985088b7b
Signed-off-by: Shawn O. Pearce <spearce@spearce.org>",0,0,0,0,0,0,0,0,0
2508,I1c61fb817305a95eeac654cccf132cba20b2339c,https://git.eclipse.org/r/#/c/2508,1,862510b2aced4f2679582588d6884e61d0ca0732,414a79b48c8e10f45cff792a22572c685849bb4c,1,16/02/11,16/02/11,22,PackWriter: Try for accurate delta reuse on cached pack,"PackWriter: Try for accurate delta reuse on cached pack

If a cached pack is used, it might know how many deltas are contained
within it.  Record that count as part of our reusedDeltas field
for the stats line we show clients.

Change-Id: I1c61fb817305a95eeac654cccf132cba20b2339c
Signed-off-by: Shawn O. Pearce <spearce@spearce.org>",0,0,0,0,0,0,0,0,0
2509,I8600a343f6a85d21dc07bda68a8cb834c82946b5,https://git.eclipse.org/r/#/c/2509,1,414a79b48c8e10f45cff792a22572c685849bb4c,23fadcf11dde83c0741d0c02a7e31fbbb35f8442,0,16/02/11,16/02/11,40,http.test: Delete badly named JUnit configurations,"http.test: Delete badly named JUnit configurations

We also have org.eclipse.jgit.http--All-Tests, which matches the
style of the org.eclipse.jgit.core--All-Tests name. Drop the others
as these are just redundant duplicates.

Change-Id: I8600a343f6a85d21dc07bda68a8cb834c82946b5
Signed-off-by: Shawn O. Pearce <spearce@spearce.org>",0,0,0,0,0,0,0,NA,NA
2510,I30cda8a6d11ad235b56457adf54a2d27095d964e,https://git.eclipse.org/r/#/c/2510,1,23fadcf11dde83c0741d0c02a7e31fbbb35f8442,df996c67f739c250624e523c0e18efbd555a25a1,1,16/02/11,16/02/11,83,smart-http: Fix recognition of gzip encoding,"smart-http: Fix recognition of gzip encoding

Some clients coming through proxies may advertise a different
Accept-Encoding, for example ""Accept-Encoding: gzip(proxy)"".
Matching by substring causes us to identify this as a false positive;
that the client understands gzip encoding and will inflate the
response before reading it.

In this particular case however it doesn't.  Its the reverse proxy
server in front of JGit letting us know the proxy<->JGit link can
be gzip compressed, while the client<->proxy part of the link is not:

  client <-- no gzip --> proxy <-- gzip --> JGit

Use a more standard method of parsing by splitting the value into
tokens, and only using gzip if one of the tokens is exactly the
string ""gzip"".  Add a unit test to make sure this isn't broken in
the future.

Change-Id: I30cda8a6d11ad235b56457adf54a2d27095d964e
Signed-off-by: Shawn O. Pearce <spearce@spearce.org>",0,0,0,0,0,0,0,0,0
2511,Ibd88022a298c5fed0edb23dfaf2e90278807ba8b,https://git.eclipse.org/r/#/c/2511,1,df996c67f739c250624e523c0e18efbd555a25a1,0464d2905ca746e9c0f4baae395b00e3d21e4d75,1,16/02/11,16/02/11,90,smart-http: Support progress in ReceivePack,"smart-http: Support progress in ReceivePack

As PackParser supports a progress meter for the ""Resolving deltas""
phase of its work, we should export this to smart HTTP clients so
they know the server is still working on their (large) upload.

However this isn't as simple as just dropping in a binding for
the SmartOutputStream to flush when its told to.  We want to
avoid spurious flushes triggered by the use of sideband, or the
status report formatting in the send-pack/receive-pack protocol.

Change-Id: Ibd88022a298c5fed0edb23dfaf2e90278807ba8b
Signed-off-by: Shawn O. Pearce <spearce@spearce.org>",0,0,0,0,0,0,0,0,0
2514,I71e56ffb90e11e6e3c1bbd964ad63972d67990c0,https://git.eclipse.org/r/#/c/2514,1,dea5ffb4b3fecb16705d612c946ba2d4ed0ba0f9,0a0b2d517b316d2713ae0b1c9c1b5d9635185d74,0,16/02/11,16/02/11,5,Fix NullPointer when pulling from a deleted local branch,"Fix NullPointer when pulling from a deleted local branch

A checked Exception is thrown instead. 

The reason for throwing an Exception is that the state of the
repository is inconsistent in this case: There is a merge
configuration containing a non-existing local branch. Ideally the
deletion of a local branch should also delete the corresponding
merge configuration.

Bug: 337315
Change-Id: I71e56ffb90e11e6e3c1bbd964ad63972d67990c0
Signed-off-by: Stefan Lay <stefan.lay@sap.com>",0,0,0,0,0,0,0,NA,NA
2523,I85368c849c0964b9a539fa1991920adb2ace94df,https://git.eclipse.org/r/#/c/2523,2,3f83c64f6b0e562f225c9744ccc2e19a6517b713,01bc3bd2c3ead858a7b16a999440b3ba14a04281,0,17/02/11,17/02/11,93,Add Reset to the JGit CLI,"Add Reset to the JGit CLI

Change-Id: I85368c849c0964b9a539fa1991920adb2ace94df
Signed-off-by: Chris Aniszczyk <caniszczyk@gmail.com>",0,0,0,1,0,1,1,NA,NA
2529,I80f9e64cafa2e8f082776b43845edf23065386a2,https://git.eclipse.org/r/#/c/2529,1,23e2f213c33197e8ada6cecec02bbe824abbfc54,8739af544b4da95c18e104d14c25236cea4da604,1,18/02/11,18/02/11,41,PackWriter: Sort commits by parse order to improve locality,"PackWriter: Sort commits by parse order to improve locality

RevWalk in JGit and the revision code in C Git both parse commits out
of the pack file in an order that differs from strict timestamp and
topological sorting.  Both implementations pop a commit from the head
of a date queue, and then immediately parse all of its parents in
order to insert those into the date queue at the proper positions as
determined by their committer timestamp field.  This implies that the
parents are parsed when their most recent child is popped from the
queue, and not where they are popped during traversal.

Hoisting a parent commit to be immediately behind its child improves
locality by making sure all parents of a merge are clustered together,
and thus can be paged into the parser by the pack file buffering
system (aka WindowCache in JGit) together.

Change-Id: I80f9e64cafa2e8f082776b43845edf23065386a2
Signed-off-by: Shawn O. Pearce <spearce@spearce.org>",0,0,0,0,0,0,0,0,0
2531,Ib2f31d621caa5f8b24ce74ce82499889d4f30550,https://git.eclipse.org/r/#/c/2531,2,cea0e33307d695758326d894f9368b4c7f7718e1,f6f80de3fced27d41fb305907b12ad8465dfe789,1,18/02/11,18/02/11,4,Wrong constant used when configuring a repository,Wrong constant used when configuring a repository,0,0,0,1,0,0,1,0,0
2535,I44f9921494798ea0c99e16eab58b87bebeb9aff5,https://git.eclipse.org/r/#/c/2535,2,340a7e4bb792ff91ea1e6f9101433f2766300a9d,c9dff09ec0011aca5dd1fec0fc3206f55dd3c71b,1,20/02/11,20/02/11,1,BundleWriter: Always use OFS_DELTA,"BundleWriter: Always use OFS_DELTA

CGit just learned to always use OFS_DELTA when writing out bundle
files.  This makes sense because bundle came about well after
OFS_DELTA was established, so any version of CGit that can read a
bundle file can also read OFS_DELTA.  Since OFS_DELTA is smaller,
always use it when writing bundles.

Change-Id: I44f9921494798ea0c99e16eab58b87bebeb9aff5
Signed-off-by: Shawn O. Pearce <spearce@spearce.org>",0,0,0,0,0,0,0,0,0
2537,I44699d8ab9768844ba91f7224a7d4ee685c93ce6,https://git.eclipse.org/r/#/c/2537,1,c9dff09ec0011aca5dd1fec0fc3206f55dd3c71b,3b550b4035316f14d860f1b70f80922a819ddec0,1,20/02/11,20/02/11,4,PackWriter: Fix warning about untyped collection,"PackWriter: Fix warning about untyped collection

Change-Id: I44699d8ab9768844ba91f7224a7d4ee685c93ce6
Signed-off-by: Shawn O. Pearce <spearce@spearce.org>",0,0,0,1,0,0,1,0,0
2538,I70113609c22476ce7f1e4d9a92f486e9b0f59e44,https://git.eclipse.org/r/#/c/2538,1,3b550b4035316f14d860f1b70f80922a819ddec0,c14b5401e9b43aa27158819e84e8d66fb3297c1d,1,20/02/11,20/02/11,4,PackWriter: Correct total delta count when reusing pack,"PackWriter: Correct total delta count when reusing pack

If the CachedPack knows its delta count, we need to increment both
the totalDeltas and reusedDeltas fields of the stats object.

Change-Id: I70113609c22476ce7f1e4d9a92f486e9b0f59e44
Signed-off-by: Shawn O. Pearce <spearce@spearce.org>",0,0,0,0,0,0,0,0,0
2539,I9062a5ac2f71b525322590209664a84051fd5f8a,https://git.eclipse.org/r/#/c/2539,1,c14b5401e9b43aa27158819e84e8d66fb3297c1d,42cafd8c1ae0779773a68e10d0be3f946efe53fe,1,22/02/11,22/02/11,19,PackWriter: Short-circuit counting on full cached pack reuse,"PackWriter: Short-circuit counting on full cached pack reuse

If one or more cached packs fully covers the request, don't bother
with looking up the objects and trying to walk the graph.  Just use
the cached packs and return immediately.

This helps clones of quiet repositories that have not been modified
since their last repack, its likely the cached packs are accurate
and no graph walking is required.

Change-Id: I9062a5ac2f71b525322590209664a84051fd5f8a
Signed-off-by: Shawn O. Pearce <spearce@spearce.org>",0,0,0,0,0,0,0,0,0
2540,I94beef3f14281406f15c8cf9fa02d83faf102a19,https://git.eclipse.org/r/#/c/2540,1,42cafd8c1ae0779773a68e10d0be3f946efe53fe,5aa54655a8184d4e4f3b6a003edee576bf46b641,1,22/02/11,22/02/11,25,PackWriter: Parse tag target objects in a batch,"PackWriter: Parse tag target objects in a batch

If the underlying storage has a high latency per SHA-1 lookup
(e.g. the DHT support we are working on), parsing each wanted
annotated tag object back to its underlying commit is too slow,
its a sequential lookup for each tag.  With hundreds of tags in
a repository this takes far too long.

Instead queue up a list of the tags whose objects need to be found,
and then locate all of those in one parseAny batch.  This works
for the common case of annotated tag to single tree or commit.
For the less often used tag->tag->commit, it at least gets us
one level parsed in the larger batch before we have to go back to
sequential lookups.

Change-Id: I94beef3f14281406f15c8cf9fa02d83faf102a19
Signed-off-by: Shawn O. Pearce <spearce@spearce.org>",0,0,0,0,0,0,0,0,0
2541,If3052e430d305e17878d94145c93754f56b74c61,https://git.eclipse.org/r/#/c/2541,1,5aa54655a8184d4e4f3b6a003edee576bf46b641,133bb2c0bdb3263414736aef3e756536bb2e68de,1,22/02/11,22/02/11,62,PackWriter: Hoist and cluster reference targets,"PackWriter: Hoist and cluster reference targets

Many source browsers and network related tools like UploadPack need
to find and parse the target of all branches and annotated tags
within the repository during their startup phase.  Clustering these
together into the same part of the pack file will improve locality,
reducing thrashing when an application starts and needs to load
all of these into memory at once.

To prevent bottlenecking basic log viewing tools that are scannning
backwards from the tip of a current branch (and don't need tags)
we place this cluster of older targets after 4096 newer commits
have already been placed into the pack stream.  4096 was chosen as
a rough guess, but was based on a few factors:

  - log viewers typically show 5-200 commits per page
  - users only view the first page or two

  - DHT can cram 2200-4000 commits per 1 MiB chunk
    thus these will fall into the second commit chunk (roughly)

Unfortunately this placement hurts history tools that are scanning
backwards through the commit graph and completely ignored tags or
branch heads when they started.

An ancient tagged commit is no longer positioned behind its first
child (its now much earlier), resulting in a page fault for the
parser to reload this cluster of objects on demand.  This may be
an acceptable loss.  If a user is walking backwards and has already
scanned through more than 4096 commits of history, waiting for the
region to reload isn't really that bad compared to the amount of
time already spent.

If the repository is so small that there are less than 4096 commits,
this change has no impact on the placement of objects.

Change-Id: If3052e430d305e17878d94145c93754f56b74c61
Signed-off-by: Shawn O. Pearce <spearce@spearce.org>",0,0,0,0,0,0,0,1,1
2542,I48cca12fcc6212fbe6c42109e44e4a2dc20ecada,https://git.eclipse.org/r/#/c/2542,1,7b2f77df33f0b1afe259ee89682a6e59dad9590d,0b951466768febe9e482d58fd8cb2bf846e460fa,0,21/02/11,21/02/11,384,Qualify post 0.11.1 builds,"Qualify post 0.11.1 builds

Change-Id: I48cca12fcc6212fbe6c42109e44e4a2dc20ecada
Signed-off-by: Matthias Sohn <matthias.sohn@sap.com>",0,0,0,1,0,0,1,NA,NA
2543,I89224719712c1f1ab80ea34280139dfeb00be3d0,https://git.eclipse.org/r/#/c/2543,1,0b951466768febe9e482d58fd8cb2bf846e460fa,00c8ec38f4ab1e2040f90495dd249491a599a2dc,0,21/02/11,21/02/11,4,CreateBranchCommand: Wrong existence check,"CreateBranchCommand: Wrong existence check

Bug: 337044
Change-Id: I89224719712c1f1ab80ea34280139dfeb00be3d0
Signed-off-by: Mathias Kinzler <mathias.kinzler@sap.com>
Signed-off-by: Matthias Sohn <matthias.sohn@sap.com>",0,0,0,0,0,0,0,NA,NA
2544,Ic1ceb9c99dca2c69e61ea0ef03ec64f13714b80a,https://git.eclipse.org/r/#/c/2544,1,00c8ec38f4ab1e2040f90495dd249491a599a2dc,bdddd816e360595f1b43423eaeaa1b8fe688f773,0,21/02/11,21/02/11,12,Fix processing of broken symbolic references in RefDirectory,"Fix processing of broken symbolic references in RefDirectory

Change-Id: Ic1ceb9c99dca2c69e61ea0ef03ec64f13714b80a
Signed-off-by: Matthias Sohn <matthias.sohn@sap.com>",0,0,0,1,0,0,1,NA,NA
2545,Ib4c40f9db177322c7a2640808a6c10b3c4a73819,https://git.eclipse.org/r/#/c/2545,1,bdddd816e360595f1b43423eaeaa1b8fe688f773,b7e8ef93f741a8d454cac59594656e429cb61b64,1,21/02/11,21/02/11,83,smart-http: Fix recognition of gzip encoding,"smart-http: Fix recognition of gzip encoding

Some clients coming through proxies may advertise a different
Accept-Encoding, for example ""Accept-Encoding: gzip(proxy)"".
Matching by substring causes us to identify this as a false positive;
that the client understands gzip encoding and will inflate the
response before reading it.

In this particular case however it doesn't.  Its the reverse proxy
server in front of JGit letting us know the proxy<->JGit link can
be gzip compressed, while the client<->proxy part of the link is not:

  client <-- no gzip --> proxy <-- gzip --> JGit

Use a more standard method of parsing by splitting the value into
tokens, and only using gzip if one of the tokens is exactly the
string ""gzip"".  Add a unit test to make sure this isn't broken in
the future.

Change-Id: Ib4c40f9db177322c7a2640808a6c10b3c4a73819
Signed-off-by: Shawn O. Pearce <spearce@spearce.org>
Signed-off-by: Matthias Sohn <matthias.sohn@sap.com>",0,0,0,0,0,0,0,0,0
2546,I8ed57d5aaed60aaab685fc11a8695e474e60215f,https://git.eclipse.org/r/#/c/2546,1,b7e8ef93f741a8d454cac59594656e429cb61b64,14b168a2dd1529186b0cd5728eb03ec4239fc3ae,0,21/02/11,21/02/11,5,Fix NullPointer when pulling from a deleted local branch,"Fix NullPointer when pulling from a deleted local branch

A checked Exception is thrown instead.

The reason for throwing an Exception is that the state of the
repository is inconsistent in this case: There is a merge
configuration containing a non-existing local branch. Ideally the
deletion of a local branch should also delete the corresponding
merge configuration.

Bug: 337315
Change-Id: I8ed57d5aaed60aaab685fc11a8695e474e60215f
Signed-off-by: Stefan Lay <stefan.lay@sap.com>
Signed-off-by: Matthias Sohn <matthias.sohn@sap.com>",0,0,0,0,0,0,0,NA,NA
2547,I0a3d4d4400e7643c43d64bf60e566d533b5dcee1,https://git.eclipse.org/r/#/c/2547,1,14b168a2dd1529186b0cd5728eb03ec4239fc3ae,3bcb7f2c5588ce0640dabc2a2abed5c2686e0b30,0,21/02/11,21/02/11,384,JGit 0.11.3,"JGit 0.11.3

Change-Id: I0a3d4d4400e7643c43d64bf60e566d533b5dcee1
Signed-off-by: Matthias Sohn <matthias.sohn@sap.com>",1,0,0,1,0,0,1,NA,NA
2556,Ib7f661a259561251e74337fa233036e041c42423,https://git.eclipse.org/r/#/c/2556,2,e6a9ac5f25119e421dc93bcdd03ea22809c314a7,21f906ff76e1c78075360653ef7df07e1a30bd9b,1,22/02/11,22/02/11,3,Fix potential NullPointerException in PlotCommit,"Fix potential NullPointerException in PlotCommit

Change-Id: Ib7f661a259561251e74337fa233036e041c42423
Signed-off-by: Mathias Kinzler <mathias.kinzler@sap.com>",0,0,0,1,0,0,1,0,0
2564,I4e7940804ed9d388b625b8e8a8e25bfcf5ee15a6,https://git.eclipse.org/r/#/c/2564,3,53f7082c2331fd393e31e84817f95dee27b1ca0e,915d57472acffd8dd8eed130fd823ff71d4fc9d8,1,24/02/11,24/02/11,130,Show notes in Log command,"Show notes in Log command

Support for --no-standard-notes and --show-notes=REF options is added
to the Log command. The --show-notes option can be specified more than
once if more than one notes branch should be used for showing notes.

The notes are displayed from note branches in the order how the note
branches are specified in the command line. However, the stanard note,
from the refs/notes/commits, is always displayed as first unless
the --no-standard-notes options is given.

Change-Id: I4e7940804ed9d388b625b8e8a8e25bfcf5ee15a6",0,0,0,0,0,0,0,1,1
2566,I5e0c4d838a211509fb4cc7e048dba6efaec15d5c,https://git.eclipse.org/r/#/c/2566,1,df31bd3d9cd46bd8ad027f3d6b1d0319c90c37ce,9b9962bee8e482ca7773d311036b71ab60b9f50a,1,22/02/11,22/02/11,3,Create empty GIT_DIR/hooks directory,"Create empty GIT_DIR/hooks directory

Bug: 337801
Change-Id: I5e0c4d838a211509fb4cc7e048dba6efaec15d5c
Signed-off-by: Shawn O. Pearce <spearce@spearce.org>",0,0,0,0,0,0,0,0,0
2572,I98cbdcef80d59714a4f62ff322e7b709b08b6d26,https://git.eclipse.org/r/#/c/2572,1,637d5775ef9a4cf94a8afc822861467cba9c2dc9,07ee57a7da97b04b57fc2e9cb0798a536adc6482,1,23/02/11,23/02/11,4,PackWriter: Fix total delta count,"PackWriter: Fix total delta count

The total delta count is supposed to include reused deltas, not
just newly created deltas.

Change-Id: I98cbdcef80d59714a4f62ff322e7b709b08b6d26
Signed-off-by: Shawn O. Pearce <spearce@spearce.org>",0,0,0,0,0,0,0,0,0
2575,I41d94694f220dcb85605c9acadfffb1fa23beaeb,https://git.eclipse.org/r/#/c/2575,2,778473bfb93f916b1f7ca4c8eec1e955fcb385ae,8d89a163454f9b3dd6f1be147850c60690f50230,1,23/02/11,23/02/11,41,Respect core.excludesfile to enable global ignore rules,"Respect core.excludesfile to enable global ignore rules 

Bug: 328428 (partial fix)
Change-Id: I41d94694f220dcb85605c9acadfffb1fa23beaeb
Signed-off-by: Matthias Sohn <matthias.sohn@sap.com>",0,0,0,0,0,0,0,0,0
2581,I89084acfc598bb6533d75d90cb8de459f0ed93be,https://git.eclipse.org/r/#/c/2581,1,7a2b92f890297423128870099d1c33b42847ac9e,f9cec1275cc505fea2d1f5ad0fed437d8a2faf12,1,23/02/11,23/02/11,27,PackWriter: Add missing timers to Statistics,"PackWriter: Add missing timers to Statistics

We did not record the time spent on the object reuse search or the
object size lookup, both of which occur between the counting phase and
the compressing phase.  If there are enough objects involved, these
times can be significant so its worth timing them and recording it.

Change-Id: I89084acfc598bb6533d75d90cb8de459f0ed93be
Signed-off-by: Shawn O. Pearce <spearce@spearce.org>",0,0,0,0,0,0,0,0,0
2582,I8328f43f02cba06fd545e22134872e781b9d4d36,https://git.eclipse.org/r/#/c/2582,2,f9cec1275cc505fea2d1f5ad0fed437d8a2faf12,a9580c3fad9668f9ad1df2e632d062d5aaef5002,1,24/02/11,24/02/11,1,RevWalk: Don't release during inMergeBase(),"RevWalk: Don't release during inMergeBase()

In bc1af8459e (""RevWalk: Don't reset ObjectReader when stopping"") we
stopped releasing the reader when the current log traversal as over.
This should have also been applied to the merge base logic that is
buried within MergeGenerator, but got missed.

Change-Id: I8328f43f02cba06fd545e22134872e781b9d4d36
Signed-off-by: Shawn O. Pearce <spearce@spearce.org>",0,0,0,0,0,0,0,0,0
2583,Iece43632086afadf175af6638255041ccaf2bfbb,https://git.eclipse.org/r/#/c/2583,5,a0974bb1a086414ca108d80a27e43e07b0c5967b,bedd95e85d7429c6ac47d0030e634ca1700d47c6,1,23/03/11,23/03/11,733,Create generic connection class and change TransportGitSsh to use it.,"Create generic connection class and change TransportGitSsh to use it.

The new RemoteCommandConnection class replaces
TransportGitSsh.Connection, which has been removed. Also added
RemoteCommandConnectionFactory class.  Callers can set this factory
with TransportGitSsh.setConnectionFactory.  (In
TransportGitSsh.newConnection, this factory is used before the
previous methods if it has been set.)

Minor changes were made to TransportGitSsh to use the new class, such
as easing some access restrictions. Some interface changes were made
as well. Both RemoteCommandConnection.exec and .connection now expect
the URI. (Note the parameter name change from ""uri"" to ""uriLocal
inside JschConnection and ExtConnection to prevent clashing with
TransportGitSsh.uri.) More importantly, exec now expects the exact
command to be executed.  Previously, JschConnection and ExtConnection
had to call ""commandFor"" to complete the command. Now the commandFor
is executed by TransportGitSsh before calling exec.

We attempted to pull out JschConnection from TransportGitSsh but ran
into a dependency problem for the ""sock"" variable, which is the Jsch
session from TransportGitSsh. To fix this dependency would require
creating a session abstraction, such as an abstract
""RemoteCommandSession"" class. But even if we added an abstract
interface for sock than the SftpObjectDB in sftp transport would
still be Jsch dependent, because it uses the ChannelSftp. Thus to
allow other ssh libraries SftpObjectDB has to be made an abstract
class the same way as this patch introduces the abstract
RemoteCommandConnection.

Bug: 336749",0,1,0,0,1,0,1,0,0
2586,I44096aa856f031545df39d4b09af198caa2c21f6,https://git.eclipse.org/r/#/c/2586,2,d207c0309ebb8f9a5a8a617f82a4e35a6d6d92bd,2159423315891e85af88b960bc0793ccc61f488a,0,24/02/11,24/02/11,3,FetchCommand: do not set a null credentials provider,"FetchCommand: do not set a null credentials provider

FetchCommand now does not set a null credentials provider on
Transport because in this case the default provider is replaced with
null and the default mechanism for providing credentials is not
working.

Change-Id: I44096aa856f031545df39d4b09af198caa2c21f6
Signed-off-by: Matthias Sohn <matthias.sohn@sap.com>",0,0,0,0,0,0,0,NA,NA
2587,I508def09cb2d4e5bd27b412f4ad5d43984388749,https://git.eclipse.org/r/#/c/2587,2,cf3af298c7a626429202f6298b26a7b4fe67c540,7aae843d6208c31212aae4e7869abc2a55f8d388,0,24/02/11,24/02/11,70,Fix formatting of pom.xml,"Fix formatting of pom.xml

Change-Id: I508def09cb2d4e5bd27b412f4ad5d43984388749
Signed-off-by: Matthias Sohn <matthias.sohn@sap.com>",0,0,0,1,0,0,1,NA,NA
2597,Idbd935f5f60ad043faa0d4982b3e101ef7c07d60,https://git.eclipse.org/r/#/c/2597,2,a71af407fe4fcf6426cd509b75ba9972b10e1a9b,fb4764424b47f8af3d4274008f1e130843cc100f,1,01/03/11,01/03/11,68,Show notes in Log CLI command - Part 2,"Show notes in Log CLI command - Part 2

This change fixes issues identified in the commit
5f3d577e5a1e8f23a2b6ea6a2bf24516806e01b8.

Change-Id: Idbd935f5f60ad043faa0d4982b3e101ef7c07d60
Signed-off-by: Sasa Zivkov <sasa.zivkov@sap.com>",0,0,0,0,0,0,0,0,0
2604,I222fb2f993cd9b637b6b8d93daab5777ef7ec7a6,https://git.eclipse.org/r/#/c/2604,1,d5d3ecf265541960a199b1a142ee7235fdbb8721,110fb5724fd4b98b6ecb2b798efd6070445da615,0,26/02/11,26/02/11,1,UnpackedObject: Fix readSome() when initial read is short,"UnpackedObject: Fix readSome() when initial read is short

JDK7 changed behavior slightly on some InputStream types, resulting in
the first read being shorter than the count requested.  That caused us
to overwrite the earlier part of the buffer with later data, as the
offset index wasn't updated in the loop.

Fix the loop to increment offset by the number of bytes read in this
iteration, so the next read appends to the buffer rather than doing an
overwrite.

Bug: 338119
Change-Id: I222fb2f993cd9b637b6b8d93daab5777ef7ec7a6
Signed-off-by: Shawn O. Pearce <spearce@spearce.org>",1,0,0,0,0,0,1,NA,NA
2605,I08067c028666f194687943a574512f5bc5ca9552,https://git.eclipse.org/r/#/c/2605,1,110fb5724fd4b98b6ecb2b798efd6070445da615,110fb5724fd4b98b6ecb2b798efd6070445da615,0,26/02/11,26/02/11,354,Merge branch 'stable-0.11',"Merge branch 'stable-0.11'

* stable-0.11:
  JGit 0.11.3
  Fix NullPointer when pulling from a deleted local branch
  smart-http: Fix recognition of gzip encoding
  Fix processing of broken symbolic references in RefDirectory
  CreateBranchCommand: Wrong existence check
  Qualify post 0.11.1 builds

Conflicts:
	org.eclipse.jgit.console/META-INF/MANIFEST.MF
	org.eclipse.jgit.console/pom.xml
	org.eclipse.jgit.http.server/META-INF/MANIFEST.MF
	org.eclipse.jgit.http.server/pom.xml
	org.eclipse.jgit.http.test/META-INF/MANIFEST.MF
	org.eclipse.jgit.http.test/pom.xml
	org.eclipse.jgit.iplog/META-INF/MANIFEST.MF
	org.eclipse.jgit.iplog/pom.xml
	org.eclipse.jgit.junit.http/META-INF/MANIFEST.MF
	org.eclipse.jgit.junit.http/pom.xml
	org.eclipse.jgit.junit/META-INF/MANIFEST.MF
	org.eclipse.jgit.junit/pom.xml
	org.eclipse.jgit.packaging/org.eclipse.jgit.feature/feature.xml
	org.eclipse.jgit.packaging/org.eclipse.jgit.feature/pom.xml
	org.eclipse.jgit.packaging/org.eclipse.jgit.junit.feature/feature.xml
	org.eclipse.jgit.packaging/org.eclipse.jgit.junit.feature/pom.xml
	org.eclipse.jgit.packaging/org.eclipse.jgit.source.feature/feature.xml
	org.eclipse.jgit.packaging/org.eclipse.jgit.source.feature/pom.xml
	org.eclipse.jgit.packaging/org.eclipse.jgit.updatesite/pom.xml
	org.eclipse.jgit.packaging/pom.xml
	org.eclipse.jgit.pgm/META-INF/MANIFEST.MF
	org.eclipse.jgit.pgm/pom.xml
	org.eclipse.jgit.test/META-INF/MANIFEST.MF
	org.eclipse.jgit.test/pom.xml
	org.eclipse.jgit.ui/META-INF/MANIFEST.MF
	org.eclipse.jgit.ui/pom.xml
	org.eclipse.jgit/META-INF/MANIFEST.MF
	org.eclipse.jgit/META-INF/SOURCE-MANIFEST.MF
	org.eclipse.jgit/pom.xml
	pom.xml

Change-Id: I08067c028666f194687943a574512f5bc5ca9552",1,0,0,0,0,0,1,NA,NA
2614,Idf4c05bdf23b5161688818342b2bf9a45b49f479,https://git.eclipse.org/r/#/c/2614,1,a48a6af1615ce8599ccbfa0624fbc31d1c960f6c,e327364fa555b28622b2cc5aca670a5e872df393,1,01/03/11,01/03/11,108,Fix NPE on checkout of remote tracking branch,"Fix NPE on checkout of remote tracking branch

Checkout of remote tracking branch failed when no local branch
existed. Also enhance RepositoryTestCase to enable checking index
state of another test repository.

Bug: 337695
Change-Id: Idf4c05bdf23b5161688818342b2bf9a45b49f479
Signed-off-by: Matthias Sohn <matthias.sohn@sap.com>",0,0,0,0,0,0,0,0,0
2615,I8fdd7e31c37bef39a5d1b3da7105da0ef879eb84,https://git.eclipse.org/r/#/c/2615,1,e327364fa555b28622b2cc5aca670a5e872df393,7f5f90f67e53318310636bc6c3970bc94475020a,1,01/03/11,01/03/11,591,ProgressMonitor: Refactor to use background alarms,"ProgressMonitor: Refactor to use background alarms

Instead of polling the system clock on every update(1) method call,
use a scheduled executor to toggle a volatile once per second until
the task is done.  Check the volatile on each update(int), looking
to see if output should occur.

This limits progress output to either once per 1% complete, or once
per second.  To save time during update calls the timer isn't reset
during each 1% of output, which means we may see one unnecessary
output trigger if at least 1% completed during the one second of the
alarm time.

Change-Id: I8fdd7e31c37bef39a5d1b3da7105da0ef879eb84
Signed-off-by: Shawn O. Pearce <spearce@spearce.org>",0,0,0,0,1,0,1,0,0
2617,I2a9b5fe9c2bdff4a5e0f7ec7ad41a54b41a4ddd6,https://git.eclipse.org/r/#/c/2617,1,5d4e1dd65abdd10d4949319961541b7bbbb35a21,d63eadf97b51e600b68a4109a2d21f1abbe84ecf,1,01/03/11,01/03/11,7,Paper bag fix BatchingProgressMonitor alarm queue,"Paper bag fix BatchingProgressMonitor alarm queue

The alarm queue threads were started with an empty task body, which
meant the thread started and terminated immediately, leaving the
queue itself with no worker.

Change-Id: I2a9b5fe9c2bdff4a5e0f7ec7ad41a54b41a4ddd6
Signed-off-by: Shawn O. Pearce <spearce@spearce.org>",1,0,0,0,0,0,1,0,0
2619,Ied757363f775058177fc1befb8ace20fe9759bac,https://git.eclipse.org/r/#/c/2619,1,d63eadf97b51e600b68a4109a2d21f1abbe84ecf,0141284b047266b8f5dc122153df26f7688b338a,1,02/03/11,02/03/11,4,PackWriter: Do not delta compress already packed objects,"PackWriter: Do not delta compress already packed objects

This is a tiny optimization to how delta search works.  Checking for
isReuseAsIs() avoids doing delta compression search on non-delta
objects already stored in packs within the repository.  Such objects
are not likely to be delta compressable, as they were already delta
searched when their containing pack was generated and they were
not delta compressed at that time.  Doing delta compression now is
unlikely to produce a different result, but would waste a lot of CPU.

The isReuseAsIs() flag is checked before isDoNotDelta() because it
is very common to reuse objects in the output pack.  Most objects
get reused, and only a handful have the isDoNotDelta() bit set.
Moving the check earlier allows the loop to more quickly skip
through objects that will never need to be considered.

Change-Id: Ied757363f775058177fc1befb8ace20fe9759bac
Signed-off-by: Shawn O. Pearce <spearce@spearce.org>",0,0,0,0,0,0,0,0,0
2620,I749407e7c5c677e05e4d054b40db7656cfa7fca8,https://git.eclipse.org/r/#/c/2620,1,0141284b047266b8f5dc122153df26f7688b338a,82f4e8e1036eda1d8c54dff504daa02e393db2ca,1,02/03/11,02/03/11,41,PackWriter: Don't reuse commit or tag deltas,"PackWriter: Don't reuse commit or tag deltas

JGit doesn't generate deltas for commit or tag objects when it packs
a repository from scratch.  This is an explicit design decision that
is (mostly) justified by the fact that these objects do not delta
compress well.

Annotated tags are made once on stable points of the project history,
it is unlikely they will ever appear again with sufficient common
text to justify using a delta over just deflating the raw content.
JGit never tries to delta compress annotated tags and I take the
stance that these are best stored as non-deltas given how frequently
they might be accessed by repository viewers.

Commits only have sufficient common text when they are cherry-picked
to forward-port or back-port a change from one branch to another.
Even in these cases the distance between the commits as returned
by the log traversal has to be small enough that they would both
appear in the delta search window at the same time in order to
delta compress one of the messages against the other.  JGit never
tries to delta compress commits, as it requires a lot of CPU time
but typically does not produce a smaller pack file.

Avoid reusing deltas for either of these types when constructing a
new pack.  To avoid killing performance during serving of network
clients, UploadPack disables this code change by allowing PackWriter
to reuse delta commits.  Repositories that were already repacked by
C Git will not have their delta commits decompressed and recompressed
on the fly during object writing, saving server-side CPU resources.

Change-Id: I749407e7c5c677e05e4d054b40db7656cfa7fca8
Signed-off-by: Shawn O. Pearce <spearce@spearce.org>",0,0,0,0,0,0,0,0,0
2621,Iea95e5ecbc7374f6bcbb43d1c75285f4f564d09d,https://git.eclipse.org/r/#/c/2621,1,82f4e8e1036eda1d8c54dff504daa02e393db2ca,a516e6c4483db11c99a7f262a36685ce1ce552da,1,02/03/11,02/03/11,15,PackWriter: Refactor object writing loop,"PackWriter: Refactor object writing loop

This simple refactoring makes it easier to pre-process each of the
object lists before its handed into the actual write routine.

Change-Id: Iea95e5ecbc7374f6bcbb43d1c75285f4f564d09d
Signed-off-by: Shawn O. Pearce <spearce@spearce.org>",0,0,0,0,0,0,0,0,0
2622,Ibbabdd94e7d563901c0309c79a496ee049cdec50,https://git.eclipse.org/r/#/c/2622,1,a516e6c4483db11c99a7f262a36685ce1ce552da,c51352d360ade9b9817c2231ba8f7736d2e62254,1,02/03/11,02/03/11,6,PackWriter: Position tags after commits,"PackWriter: Position tags after commits

Annotated tags need to be parsed by many viewing tools, but putting
them at the end of the pack hurts because kernel prefetching might
not have loaded them, since they are so far from the commits they
reference.

Position tags right behind the commits, but before the trees.
Typically the annotated tag set for a repository is very small,
so the extra prefetch burden it puts on tools that don't need
annotated tags (but do need commits and trees) is fairly low.

Change-Id: Ibbabdd94e7d563901c0309c79a496ee049cdec50
Signed-off-by: Shawn O. Pearce <spearce@spearce.org>",0,0,0,0,0,0,0,0,0
2629,Iabb78eec45898e4a17f7aab3fb94c004d8d69af6,https://git.eclipse.org/r/#/c/2629,1,4fe11ff1c8a023ed5ecb63e8d30227561421fde9,5949b3c4d67e3b1659da8cac5e6f2be0959acf11,1,02/03/11,02/03/11,102,PackWriter: Avoid CRC-32 validation when feeding IndexPack,"PackWriter: Avoid CRC-32 validation when feeding IndexPack

There is no need to validate the object contents during
copyObjectAsIs if the result is going to be parsed by unpack-objects
or index-pack.  Both programs will compute the SHA-1 of the object,
and also validate most of the pack structure.  For git daemon
like servers, this work is already done on the client end of the
connection, so the server doesn't need to repeat that work itself.

Disable object validation for the 3 transport cases where we know
the remote side will handle object validation for us (push, bundle
creation, and upload pack).  This improves performance on the server
side by reducing the work that must be done.

Change-Id: Iabb78eec45898e4a17f7aab3fb94c004d8d69af6
Signed-off-by: Shawn O. Pearce <spearce@spearce.org>",0,0,0,0,0,0,0,0,0
2630,If89d0d4e429d9f4c86f14de6c0020902705153e6,https://git.eclipse.org/r/#/c/2630,1,5949b3c4d67e3b1659da8cac5e6f2be0959acf11,242362a2936957e25374860c2113ed5ea23ab79d,1,02/03/11,02/03/11,99,PackWriter: Validate reused cached packs,"PackWriter: Validate reused cached packs

If object reuse validation is enabled, the output pack is going to
probably be stored locally.  When reusing an existing cached pack
to save object enumeration costs, ensure the cached pack has not
been corrupted by checking its SHA-1 trailer.  If it has, writing
will abort and the output pack won't be complete.  This prevents
anyone from trying to use the output pack, and catches corruption
before it can be carried any further.

Change-Id: If89d0d4e429d9f4c86f14de6c0020902705153e6
Signed-off-by: Shawn O. Pearce <spearce@spearce.org>",0,0,0,0,0,0,0,1,1
2631,I6fb17ec7f04f8bfaf1253b2ff08200ef9fc51898,https://git.eclipse.org/r/#/c/2631,1,242362a2936957e25374860c2113ed5ea23ab79d,7cb30f8081f52f42ae5a68dd78518fc89a26a021,1,03/03/11,03/03/11,4,Enhance debug-show-dir-cache command to show stage,"Enhance debug-show-dir-cache command to show stage

Change-Id: I6fb17ec7f04f8bfaf1253b2ff08200ef9fc51898
Signed-off-by: Matthias Sohn <matthias.sohn@sap.com>",0,0,0,1,0,0,1,0,0
2632,I27f3a7dbd92b26256993d27d5223b743fef70902,https://git.eclipse.org/r/#/c/2632,2,7cb30f8081f52f42ae5a68dd78518fc89a26a021,ff53e525e53363faadd3467c876e6b7d0e709504,1,03/03/11,03/03/11,2,Improve readability of timestamps shown by debug-show-dir-cache,"Improve readability of timestamps shown by debug-show-dir-cache

Change-Id: I27f3a7dbd92b26256993d27d5223b743fef70902
Signed-off-by: Matthias Sohn <matthias.sohn@sap.com>",0,0,0,1,0,0,1,0,0
2635,I44352d56877f8204d985cb7a35a2e0faffb7d341,https://git.eclipse.org/r/#/c/2635,5,ff53e525e53363faadd3467c876e6b7d0e709504,589ca6786b7a96e4c3bf2870fb2c0169c69182ca,1,11/03/11,11/03/11,1489,Add -o option to commit command,"Add -o option to commit command

This change adds the --only / -o option to the commit command.

Change-Id: I44352d56877f8204d985cb7a35a2e0faffb7d341
Signed-off-by: Philipp Thun <philipp.thun@sap.com>",0,1,0,0,1,0,1,7,1
2637,If5865ac9eb069de1c8f224090b6020fc422f9f12,https://git.eclipse.org/r/#/c/2637,1,8212b777d713261a966254037597a757aaf5a7a4,a84560f8768104595cd03a9c34662dd46b390d46,1,04/03/11,04/03/11,122,RemoteRefUpdate: Accept Ref and ObjectId arguments for source,"RemoteRefUpdate: Accept Ref and ObjectId arguments for source

Applications may already have a Ref or ObjectId on hand that they want
the remote to be updated to.  Instead of converting these into a
String and relying on the parsing rules of resolve(), allow the
application to supply the Ref or ObjectId directly.

Bug: 338839
Change-Id: If5865ac9eb069de1c8f224090b6020fc422f9f12
Signed-off-by: Shawn O. Pearce <spearce@spearce.org>",0,0,0,0,0,0,0,1,1
2638,I52054d7b89628700c730f9a4bd7743b16b9042a9,https://git.eclipse.org/r/#/c/2638,1,a84560f8768104595cd03a9c34662dd46b390d46,e9fe610a14a87ac3d12fcb68364504950c362874,1,04/03/11,04/03/11,56,"resolve(): Fix wrong parsing of branch ""foo-gbed2-dev""","resolve(): Fix wrong parsing of branch ""foo-gbed2-dev""

When parsing a string such as ""foo-gbed2"" resolve() was assuming the
suffix was from git describe output.  This lead to JGit trying to find
the completion for the object abbreviation ""bed2"", rather than using
the current value of the reference.  If there was only one such object
in the repository, JGit might actually use the wrong value here, as
resolve() would return the completion of the abbreviation ""bed2""
rather than the current value of the reference ""refs/heads/foo-gbed2"".

Move the parsing of git describe abbreviations out of the operator
portion of the resolve() method and into the simple portion that is
supposed to handle only object ids or reference names, and only do the
describe parsing after all other approaches have already failed to
provide a resolution.

Add new unit tests to verify the behavior is as expected by users.

Bug: 338839
Change-Id: I52054d7b89628700c730f9a4bd7743b16b9042a9
Signed-off-by: Shawn O. Pearce <spearce@spearce.org>",0,0,0,0,0,0,0,0,0
2639,I8f632e3e6c8a4f16a1170b1dba92e8fd3d6267d0,https://git.eclipse.org/r/#/c/2639,2,a3eaef22a62fc11f2fab2b43eb4af9bf19415505,4ee7e71a8d8d10210f91e2683542c4ceaecebd01,1,04/03/11,04/03/11,53,PushCommand: Test for update of tracking branch,"PushCommand: Test for update of tracking branch

Bug 317411 (Push does not update remote tracking branch) is assigned to
JGit. This test verifies that JGit does the right thing.

Bug: 317411
Change-Id: I8f632e3e6c8a4f16a1170b1dba92e8fd3d6267d0",0,0,0,0,0,0,0,0,0
2640,I461786baffab15515365ead1d9c350a1880443ea,https://git.eclipse.org/r/#/c/2640,1,283e3580a010d92129917c43d658eb0237790eab,c86bb99b74ccb2763a06fc25fb24ce43d08b92b2,1,04/03/11,04/03/11,4,Use generics in RepositoryFilter constructor,"Use generics in RepositoryFilter constructor

Change-Id: I461786baffab15515365ead1d9c350a1880443ea",0,0,0,1,0,0,1,0,0
2641,Ib850f84398ef7d4b8a8a6f5a0ae6963e37f2b470,https://git.eclipse.org/r/#/c/2641,1,c86bb99b74ccb2763a06fc25fb24ce43d08b92b2,1b6a728c78d958c2f4fcedf1dd05c9445fe78962,1,04/03/11,04/03/11,29,Fix DirCache re-read.,"Fix DirCache re-read.

During unit tests and most likely elsewhere, updates come too fast for
a simple timestamp comparison (with one seconds resolution) to work.
I.e. DirCache thinks it hasn't changed. 

Use FileSnapshot instead which has more advanced logic.

Change-Id: Ib850f84398ef7d4b8a8a6f5a0ae6963e37f2b470
Signed-off-by: Robin Rosenberg <robin.rosenberg@dewire.com>",0,0,0,0,0,0,0,0,0
2642,Iea6eee5a05ae7402a7f256fd9c1e3d3b5ccb58dd,https://git.eclipse.org/r/#/c/2642,1,917f8551d61a447cfb42580614b69d5e95505a4f,4ec402394f5c6d37a01a2c825c416ef004383ca7,1,13/03/11,13/03/11,20,Don't auto follow non-annotated tags in fetch,"Don't auto follow non-annotated tags in fetch

When fetch TagOpt is AUTO_FOLLOW do not follow refs/tags/ names that
point directly to commits which are on unreleated side branches.

Change-Id: Iea6eee5a05ae7402a7f256fd9c1e3d3b5ccb58dd
Reported-by: Slawomir Ginter <sginter@atlassian.com>
Signed-off-by: Shawn O. Pearce <spearce@spearce.org>",0,0,0,0,0,0,0,1,1
2645,Idb8cf04c5cecfb6a12cb880e16febfc3b9358564,https://git.eclipse.org/r/#/c/2645,3,bb69e40ab03e01b36b52d95318c19399ed386151,158782cad8ad38e563554c3df00db24735353c02,1,21/03/11,21/03/11,81,Improve MergeResult,"Improve MergeResult

Add paths causing abnormal merge failures (e.g. due to unstaged
changes) to the MergeResult returned by MergeCommand. This helps
callers to better handle (e.g. present) merge results.

Change-Id: Idb8cf04c5cecfb6a12cb880e16febfc3b9358564
Signed-off-by: Philipp Thun <philipp.thun@sap.com>",0,0,0,0,0,0,0,0,0
2646,I5db57b9259e82ed118e4bf4ec94463efe68b8c1f,https://git.eclipse.org/r/#/c/2646,4,8bba1d1acfc6f39cabe38f842f4b50581f98186c,22f2e82d731c499171e3f2a114526d3dd5fe5fed,1,24/03/11,24/03/11,273,Introduce AbnormalMergeFailureException for CherryPickCommand,"Introduce AbnormalMergeFailureException for CherryPickCommand

In order to distinguish cherry-pick failures caused by conflicts vs.
'abnormal merge failures' (e.g. unstaged changes), a new exception
class is introduced that can be handled accordingly by callers. The
exception contains details on the 'abnormal failure', e.g. paths of
unstaged files.

Change-Id: I5db57b9259e82ed118e4bf4ec94463efe68b8c1f
Signed-off-by: Philipp Thun <philipp.thun@sap.com>",0,1,0,0,0,0,1,0,0
2647,Ic22eb047fb03ac2c8391f777036b7dbf22a1b061,https://git.eclipse.org/r/#/c/2647,3,c285a3d3e1ed0778b6579666795545dad60a4b79,5b44c1ab5a38c6dd0beea03594b82d1e9f23c51b,1,24/03/11,24/03/11,451,[DRAFT] Fix bug in RebaseCommand,"[DRAFT] Fix bug in RebaseCommand

Fail when there are conflicting, unstaged changes...

Change-Id: Ic22eb047fb03ac2c8391f777036b7dbf22a1b061
Signed-off-by: Philipp Thun <philipp.thun@sap.com>",0,0,0,0,0,0,0,0,0
2649,Ie26a2aaa885d0eee4888a9b12c222040ee4a8562,https://git.eclipse.org/r/#/c/2649,1,a9ca8699504aeda0a724c883f5c3e2d93eb7c9f9,b83f45dc081703105bb010ea0f15c3eea2c894af,1,05/03/11,05/03/11,10,PackFile: Fix copy as-is for small objects,"PackFile: Fix copy as-is for small objects

When I disabled validation I broke the code that handled copying small
objects whose contents were below 8192 bytes in size but spanned over
the end of one window and into the next window.  These objects did not
ever populate the temporary write buffer, resulting in garbage writing
into the output stream instead of valid object contents.

Change-Id: Ie26a2aaa885d0eee4888a9b12c222040ee4a8562
Signed-off-by: Shawn O. Pearce <spearce@spearce.org>",1,0,0,0,0,0,1,0,0
2655,I52bbf19416cba42340004f0235e17a436cad1058,https://git.eclipse.org/r/#/c/2655,3,d4dd46eebf947e7aa1cff90a144d42b0ce9464dd,bbba9b9ce838b0e606a71aa8704a32600db8f316,1,07/03/11,07/03/11,7,Enable test methods in org.eclipse.jgit.api.CommitAndLogCommandTests,"Enable test methods in org.eclipse.jgit.api.CommitAndLogCommandTests 

bug: 339086",0,0,0,0,0,0,0,0,0
2656,I57dc727688c4bb6968ac076b176661c857c05afa,https://git.eclipse.org/r/#/c/2656,3,9889798823fba532bf802e8e324cee93ce664151,652e9696e2e3e2d97693ebf5f91f419d7b676c02,1,07/03/11,07/03/11,45,Allow to amend a commit with CommitCommand,"Allow to amend a commit with CommitCommand

bug: 339088",0,0,0,0,0,0,0,0,0
2658,I29a938657e4637b2a9d0561940b38d70866613f7,https://git.eclipse.org/r/#/c/2658,1,652e9696e2e3e2d97693ebf5f91f419d7b676c02,abcaef59e09ff6bf6578b685b57f56b5bf356c6b,1,07/03/11,07/03/11,86,Remove deprecated Treeish interface,"Remove deprecated Treeish interface

This interface has been deprecated for a long time now.
Time to remove it.

Change-Id: I29a938657e4637b2a9d0561940b38d70866613f7
Signed-off-by: Shawn O. Pearce <spearce@spearce.org>",0,0,0,0,0,0,0,0,0
2659,Id66d29fcca5a7286b8f8838303d83f40898918d2,https://git.eclipse.org/r/#/c/2659,1,abcaef59e09ff6bf6578b685b57f56b5bf356c6b,3712225b634a0b41eb6c846baae39575838d50ac,1,07/03/11,07/03/11,644,Remove deprecated WorkDirCheckout,"Remove deprecated WorkDirCheckout

This class has been deprecated for a long time now.
Time to remove it.  Applications can use the newer
DirCacheCheckout class as a replacement.

Change-Id: Id66d29fcca5a7286b8f8838303d83f40898918d2
Signed-off-by: Shawn O. Pearce <spearce@spearce.org>",0,0,0,0,1,0,1,-1,0
2660,I91dc9507668d8a3ecadd6acd4f1c8b7bd7760cc3,https://git.eclipse.org/r/#/c/2660,1,3712225b634a0b41eb6c846baae39575838d50ac,6cb00f0be7faec1f08da7c48dca70d0993efa018,1,07/03/11,07/03/11,195,Remove deprecated WriteTree,"Remove deprecated WriteTree

This class has been deprecated for a long time now.
Time to remove it.  Applications can use the newer
DirCache.writeTree() as a replacement.

Change-Id: I91dc9507668d8a3ecadd6acd4f1c8b7bd7760cc3
Signed-off-by: Shawn O. Pearce <spearce@spearce.org>",0,0,0,0,0,0,0,0,0
2661,I8099d93f07139c33fe09bdeef8d739782397da17,https://git.eclipse.org/r/#/c/2661,1,6cb00f0be7faec1f08da7c48dca70d0993efa018,698293c8e7f93466951fd4943a8a350cfe157f7f,1,07/03/11,07/03/11,606,Remove deprecated IndexTreeVisitor,"Remove deprecated IndexTreeVisitor

This has been deprecated for some time now.  Applications should
instead use DirCache within a TreeWalk.

Change-Id: I8099d93f07139c33fe09bdeef8d739782397da17
Signed-off-by: Shawn O. Pearce <spearce@spearce.org>",0,0,0,0,1,0,1,0,0
2662,I751d6e919e4b501c36fc36e5f816b8a8c5379cb9,https://git.eclipse.org/r/#/c/2662,1,698293c8e7f93466951fd4943a8a350cfe157f7f,67a6442ff8318a5cb9d7751ca18447059744c1c4,1,07/03/11,07/03/11,670,Remove deprecated TreeIterator,"Remove deprecated TreeIterator

This interface has been deprecated for a while now.
Applications can use a TreeWalk instead.

Change-Id: I751d6e919e4b501c36fc36e5f816b8a8c5379cb9
Signed-off-by: Shawn O. Pearce <spearce@spearce.org>",0,0,0,0,1,0,1,-1,0
2663,I047e552ac77b77e2de086f63cb4fb318da57c208,https://git.eclipse.org/r/#/c/2663,1,67a6442ff8318a5cb9d7751ca18447059744c1c4,eeeb85ef40100d0af70241024c1e3b5311acc8ed,1,07/03/11,07/03/11,269,Remove deprecated TreeVisitor,"Remove deprecated TreeVisitor

This type and its associated methods has been deprecated for a while
now.  Time to remove it.  Applications can use a TreeWalk instead to
access the elements of any tree-like object.

Change-Id: I047e552ac77b77e2de086f63cb4fb318da57c208
Signed-off-by: Shawn O. Pearce <spearce@spearce.org>",0,0,0,0,0,0,0,0,0
2664,I85726413790fc87721271c482f6636f81baf8b82,https://git.eclipse.org/r/#/c/2664,1,eeeb85ef40100d0af70241024c1e3b5311acc8ed,316542e86d5c1d953a3bb488632557c244ed86b4,1,17/03/11,17/03/11,80,Remove deprecated Repository.mapTree,"Remove deprecated Repository.mapTree

The mapTree() routines have been deprecated for a long time, and their
sibilings for mapCommit() and mapTag() were already removed from the
main Repository API.

Remove mapTree().  Application callers who only need the tree's name
can use resolve(""^{tree}"") syntax to resolve to the tree ObjectId, or
fail if the input is not a tree.

Applications that want to read a tree should use DirCache or TreeWalk.

Change-Id: I85726413790fc87721271c482f6636f81baf8b82
Signed-off-by: Shawn O. Pearce <spearce@spearce.org>",0,0,0,0,0,0,0,0,0
2666,Iafd8e3a6285261412aac6cba8e2c333f8b7b76a5,https://git.eclipse.org/r/#/c/2666,2,c8ca39f9fbf2ccc9524dd72ade63f5fe983daf3d,bcb79d10801f02558c483fd66cedaef12cd38111,1,13/03/11,13/03/11,847,Make the supported Transports extensible and discoverable,"Make the supported Transports extensible and discoverable

The new TransportProtocol type describes what a particular Transport
implementation wants in order to support a connection.  3rd parties
can now plug into the Transport.open() logic by implementing their
own TransportProtocol and Transport classes, and registering with
Transport.register().

GUI applications can help the user configure a connection by looking
at the supported fields of a particular TransportProtocol type, which
makes the GUI more dynamic and may better support new Transports.

Change-Id: Iafd8e3a6285261412aac6cba8e2c333f8b7b76a5
Signed-off-by: Shawn O. Pearce <spearce@spearce.org>",0,0,0,0,1,0,1,2,1
2667,I7a82d8846e4c4ed012c769f03d4bb2461f1bd148,https://git.eclipse.org/r/#/c/2667,2,5a9ae0988da97f23d03971516f79854107a0b9a5,4b452f19dc01c890389bb6ce6f45e29a1c8240e8,1,13/03/11,13/03/11,101,Register TransportProtocols using services,"Register TransportProtocols using services

Use the Java 6 like services approach to find all supported
TransportProtocols within the CLASSPATH and load them all for use.

This allows users to inject additional protocol implementations simply
by putting their JARs on the application CLASSPATH, provided the
protocol author has written the proper services file.

Change-Id: I7a82d8846e4c4ed012c769f03d4bb2461f1bd148
Signed-off-by: Shawn O. Pearce <spearce@spearce.org>",0,0,0,0,0,0,0,0,0
2668,If9e4092eb502394c5d3d044b58cf49952772f6d6,https://git.eclipse.org/r/#/c/2668,1,11ccb6f164bd4941aa5e2cd37ceea9aec380ee36,acc6a6b220e8d7fb0a70f3fb244129dcbc790ad6,1,08/03/11,08/03/11,668,PackWriter: Reduce GC during enumeration,"PackWriter: Reduce GC during enumeration

Instead of resizing an ArrayList until all objects have been added,
append objects into a specialized List type that uses small arrays
of 1024 entries for each 1024 objects added.

For a large repository like linux-2.6, PackWriter will now allocate
1,758 smaller arrays to hold the object list, without creating any
garbage from the intermediate states due to list expansion.

1024 was chosen as the block size (and initial directory size) as this
is a reasonable balance for the PackWriter code.  Each block uses
approximately 4096 bytes in a 32 bit JVM, as does the default top
level block directory.  The top level directory doesn't expand until 1
million items have been added to the list, which for linux-2.6 won't
yet occur as the lists are per-object-type and are thus bounded to
about 1/3 of 1.8 million.

Change-Id: If9e4092eb502394c5d3d044b58cf49952772f6d6
Signed-off-by: Shawn O. Pearce <spearce@spearce.org>",0,0,0,0,1,0,1,0,0
2673,I8eccb7d6544aa6e27f5fa064c19dddb2a706523f,https://git.eclipse.org/r/#/c/2673,1,bb68c37743f3bb5781c20135956f61d4587cefb9,0366ed0c7eeda5c6057bb75604de7ef97fc352cd,1,08/03/11,08/03/11,1,[findbugs] Avoid futile attempt to change max pool size,"[findbugs] Avoid futile attempt to change max pool size

Javadoc for ScheduledThreadPoolExecutor says [1]:
While ScheduledThreadPoolExecutor inherits from ThreadPoolExecutor, a
few of the inherited tuning methods are not useful for it. In
particular, because it acts as a fixed-sized pool using corePoolSize
threads and an unbounded queue, adjustments to maximumPoolSize have no
useful effect. 

[1]
http://download.oracle.com/javase/6/docs/api/java/util/concurrent/ScheduledThreadPoolExecutor.html

Change-Id: I8eccb7d6544aa6e27f5fa064c19dddb2a706523f
Signed-off-by: Matthias Sohn <matthias.sohn@sap.com>",0,0,0,0,0,0,0,0,0
2674,I628b1f25f04c9297655d5ac451ae5a133db53896,https://git.eclipse.org/r/#/c/2674,1,0366ed0c7eeda5c6057bb75604de7ef97fc352cd,6640d7bd5cca7b937c1c2c336e0c9a1c14ac2eb7,1,08/03/11,08/03/11,2,[findbugs] ProgressReportingFilter can be a static inner class,"[findbugs] ProgressReportingFilter can be a static inner class

Change-Id: I628b1f25f04c9297655d5ac451ae5a133db53896
Signed-off-by: Matthias Sohn <matthias.sohn@sap.com>",0,0,0,1,0,0,1,0,0
2678,I2322d31b09ca63bdcee50e90340e326467dc5021,https://git.eclipse.org/r/#/c/2678,2,322b3d5eeb46c62713a45ed1b4146aa82d528913,39e55057581171865a40e2cc9836cb3185cc4e52,1,14/03/11,14/03/11,19,CommitCommand: set correct Reflog Message when amending,"CommitCommand: set correct Reflog Message when amending

Change-Id: I2322d31b09ca63bdcee50e90340e326467dc5021
Signed-off-by: Jens Baumgart <jens.baumgart@sap.com>",0,0,0,1,0,0,1,2,1
2679,I4251f95b8fe0ad59b07ff563c9ebb468f996c37d,https://git.eclipse.org/r/#/c/2679,1,ce7d94dd12f2a2b72ffe3c1fb37a856db62f9444,9899ad2ea2b31677088f6e8f7fc6ae7db02cb3fc,1,09/03/11,09/03/11,4,Fixed ordering of Config.getSubsections(...),"Fixed ordering of Config.getSubsections(...)

A standard HashSet was being used to store the list of subsections as
they were being parsed.  This was changed to use a LinkedHashSet so
that iterating over the set would return values in the same order as
they are listed in the config file.

Change-Id: I4251f95b8fe0ad59b07ff563c9ebb468f996c37d",0,0,0,0,0,0,0,0,0
2680,I72da199daccb60a98d17b6af1e498189bf149515,https://git.eclipse.org/r/#/c/2680,1,9899ad2ea2b31677088f6e8f7fc6ae7db02cb3fc,3dd5db9ab5c60599c927776e6ed4a6507e959ee9,1,10/03/11,10/03/11,42,ObjectIdSubclassMap: Fix non-standard naming conventions,"ObjectIdSubclassMap: Fix non-standard naming conventions

obj_hash doesn't match our naming conventions, camelCaseNames
are the preferred format.

Change-Id: I72da199daccb60a98d17b6af1e498189bf149515
Signed-off-by: Shawn O. Pearce <spearce@spearce.org>",0,0,0,0,0,0,0,0,0
2681,I83d01e5c74fd9e910c633a98ea6f90b59092ba29,https://git.eclipse.org/r/#/c/2681,1,3dd5db9ab5c60599c927776e6ed4a6507e959ee9,e90dd9ab29f962ed0e8fcced73b5d1f4f5bba10f,1,10/03/11,10/03/11,17,ObjectIdSubclassMap: Use & rather than % for hashing,"ObjectIdSubclassMap: Use & rather than % for hashing

Bitwise and is faster than integer modulus operations, and since
the table size is always a power of 2, this is simple to use for
index operation.

Change-Id: I83d01e5c74fd9e910c633a98ea6f90b59092ba29
Signed-off-by: Shawn O. Pearce <spearce@spearce.org>",0,0,0,0,0,0,0,0,0
2682,Ief6f81b91c10ed433d67e0182f558ca70d58a2b0,https://git.eclipse.org/r/#/c/2682,1,e90dd9ab29f962ed0e8fcced73b5d1f4f5bba10f,3b2c954dbc42bce9ea6536dc5b6adba0b690c83f,1,10/03/11,10/03/11,9,ObjectIdSubclassMap: Grow before insertions,"ObjectIdSubclassMap: Grow before insertions

If the table needs to be grown, do it before the current insertion
rather than after. This is a tiny micro-optimization that allows
the compiler to reuse the result of ""++size"" to compare against
previously pre-computed size at which the table should rehash itself.

Change-Id: Ief6f81b91c10ed433d67e0182f558ca70d58a2b0
Signed-off-by: Shawn O. Pearce <spearce@spearce.org>",0,0,0,0,0,0,0,0,0
2683,I6dd076ebc0b284f1755855d383b79535604ac547,https://git.eclipse.org/r/#/c/2683,1,3b2c954dbc42bce9ea6536dc5b6adba0b690c83f,c61aa250db7bfc7ff77aac88add10466fda37b31,1,10/03/11,10/03/11,2,ObjectIdSubclassMap: Change initial size to 2048,"ObjectIdSubclassMap: Change initial size to 2048

32 is way to small for the map. Most applications using the map
will need to load more than 16 objects just from the root refs
being read from the Repository.

Default the initial size to 2048. This cuts out 6 expansions in
the early life of the table, reducing garbage and rehashing time.

Change-Id: I6dd076ebc0b284f1755855d383b79535604ac547
Signed-off-by: Shawn O. Pearce <spearce@spearce.org>",0,0,0,0,0,0,0,0,0
2684,I128522af8167c07d2de6cc210573599038871dda,https://git.eclipse.org/r/#/c/2684,1,c61aa250db7bfc7ff77aac88add10466fda37b31,6b835ef3741aaf81ecc60eea7184e990ef457981,1,10/03/11,10/03/11,10,ObjectIdSubclassMap: Manually inline index(),"ObjectIdSubclassMap: Manually inline index()

This method is trivial in definition, and is called in only 3
places. Inline the method manually to ensure its really going
to be inlined by the JIT at runtime.

Change-Id: I128522af8167c07d2de6cc210573599038871dda
Signed-off-by: Shawn O. Pearce <spearce@spearce.org>",0,0,0,0,0,0,0,0,0
2685,I0d797533fc5327366f1207b0937c406f02cdaab3,https://git.eclipse.org/r/#/c/2685,1,6b835ef3741aaf81ecc60eea7184e990ef457981,d39789c1a68bd43a33a055b2044b38e4d87941ae,1,10/03/11,10/03/11,22,ObjectIdSubclassMap: Avoid field loads in inner loops,"ObjectIdSubclassMap: Avoid field loads in inner loops

Ensure the JIT knows the table cannot be changed during the critical
inner loop of get() or insert() by loading the field into a final
local variable.  This shouldn't be necessary, but the instance member
is declared non-final (to resizing) and it is not very obvious to the
JIT that the table cannot be modified by AnyObjectId.equals().

Simplify the JIT's decision making by making it obvious, these
values cannot change during the critical inner loop, allowing
for better register allocation.

Change-Id: I0d797533fc5327366f1207b0937c406f02cdaab3
Signed-off-by: Shawn O. Pearce <spearce@spearce.org>",0,0,0,0,0,0,0,0,0
2687,I6f066dec02052876493b4ca9f20b7bfa941b14ce,https://git.eclipse.org/r/#/c/2687,1,621e6183caebb447ece29b50214c10f1231e2348,ac506d2c4f2eb9c79c81db9087c82339ecf7e5f8,0,10/03/11,10/03/11,30,Cache gitPrefix in FS_Win32,"Cache gitPrefix in FS_Win32

readPipe() may consume rather much time, so
gitPrefix should be cached. If the git executable changes,
users should run FS.detect() again to get a new
instance of FS_Win32.",0,0,0,0,0,0,0,NA,NA
2688,Idaf965cb684d5ed3f3634b0f3d256c92182d7c58,https://git.eclipse.org/r/#/c/2688,1,ae28298c2ccbb7f93e74b6c89c1b0e25dc0e43bb,db3682a08017fab8cda84dc0a729fb580cd1a77f,0,10/03/11,10/03/11,2,Fix Bundle-Version of jgit source bundle,"Fix Bundle-Version of jgit source bundle

Bug: 339033
Change-Id: Idaf965cb684d5ed3f3634b0f3d256c92182d7c58
Signed-off-by: Matthias Sohn <matthias.sohn@sap.com>",0,0,0,0,0,0,0,NA,NA
2689,Ic88c00455ebc6adde9708563a6ad4d0377442bba,https://git.eclipse.org/r/#/c/2689,1,13ae278a4b54f59479d0d8c37f7f30e2ea5c3f4a,ae917f4d2e038b9b51d12c166d80c1f9a1f5eebc,1,13/03/11,13/03/11,24,ObjectIdSubclassMap: Micro-optimize wrapping at end of table,"ObjectIdSubclassMap: Micro-optimize wrapping at end of table

During a review of the class, Josh Bloch pointed out we can use
""i = (i + 1) & mask"" to wrap around at the end of the table, instead
of a conditional with a branch.  This is generally faster due to one
less branch that will be mis-predicted by the CPU.

Change-Id: Ic88c00455ebc6adde9708563a6ad4d0377442bba
Signed-off-by: Shawn O. Pearce <spearce@spearce.org>",0,0,0,0,0,0,0,0,0
2690,Ia4acf5cfbf7e9b71bc7faa0db9060f6a969c0c50,https://git.eclipse.org/r/#/c/2690,2,ae917f4d2e038b9b51d12c166d80c1f9a1f5eebc,c81cff7b9ce4e1925b056e1f18deb3c228295225,1,13/03/11,13/03/11,630,ObjectIdOwnerMap: More lightweight map for ObjectIds,"ObjectIdOwnerMap: More lightweight map for ObjectIds

OwnerMap is about 200 ms faster than SubclassMap, more friendly to the
GC, and uses less storage: testing the ""Counting objects"" part of
PackWriter on 1886362 objects:

  ObjectIdSubclassMap:
    load factor 50%
    table: 4194304 (wasted 2307942)
    ms spent 36998 36009 34795 34703 34941 35070 34284 34511 34638 34256
    ms avg 34800 (last 9 runs)

  ObjectIdOwnerMap:
    load factor 100%
    table: 2097152 (wasted 210790)
    directory: 1024
    ms spent 36842 35112 34922 34703 34580 34782 34165 34662 34314 34140
    ms avg 34597 (last 9 runs)

The major difference with OwnerMap is entries must extend from
ObjectIdOwnerMap.Entry, where the OwnerMap has injected its own
private ""next"" field into each object. This allows the OwnerMap to use
a singly linked list for chaining collisions within a bucket. By
putting collisions in a linked list, we gain the entire table back for
the SHA-1 bits to index their own ""private"" slot.

Unfortunately this means that each object can appear in at most ONE
OwnerMap, as there is only one ""next"" field within the object instance
to thread into the map. For types that are very object map heavy like
RevWalk (entity RevObject) and PackWriter (entity ObjectToPack) this
is sufficient, these entity types are only put into one map by their
container.  By introducing a new map type, we don't break existing
applications that might be trying to use ObjectIdSubclassMap to track
RevCommits they obtained from a RevWalk.

The OwnerMap uses less memory. Each object uses 1 reference more (so
we're up 1886362 references), but the table is 1/2 the size (2^20
rather than 2^21). The table itself wastes only 210790 slots, rather
than 2307942. So we're wasting around 200k fewer references in total.

OwnerMap is more friendly to the GC, because it hardly ever generates
garbage. As the map reaches its 100% load factor target, it doubles in
size by allocating additional segment arrays of 2048 entries. (So the
first grow allocates 1 segment, second 2 segments, third 4 segments,
etc.)  These segments are hooked into the pre-allocated directory of
1024 spaces. This permits the map to grow to 2 million objects before
the directory itself has to grow. By using segments of 2048 entries,
we are asking the GC to acquire 8,204 bytes in a 32 bit JVM. This is
easier to satisfy then 2,307,942 bytes (for the 512k table that is
just an intermediate step in the SubclassMap). By reusing the
previously allocated segments (they are re-hashed in-place) we don't
release any memory during a table grow.

When the directory grows, it does so by discarding the old one and
using one that is 4x larger (so the directory goes to 4096 entries on
its first grow). A directory of size 4096 can handle up to 8 millon
objects. The second directory grow (16384) goes to 33 million objects.
At that point we're starting to really push the limits of the JVM
heap, but at least its many small arrays. Previously SubclassMap would
need a table of 67108864 entries to handle that object count, which
needs a single contiguous allocation of 256 MiB. That's hard to come
by in a 32 bit JVM. Instead OwnerMap uses ~8192 arrays of about 2 MiB
each. This should be much easier to fit into a fragmented heap.

Change-Id: Ia4acf5cfbf7e9b71bc7faa0db9060f6a969c0c50
Signed-off-by: Shawn O. Pearce <spearce@spearce.org>",0,0,0,0,1,0,1,0,0
2698,I041a2368ae0cfe6f649ec28658d41a6355933900,https://git.eclipse.org/r/#/c/2698,2,be3642840894fa8812a75e664a27b76a066583c3,9e077224966029603090e96eecff90f0c36880eb,1,14/03/11,14/03/11,33,Fix dumb transport push,"Fix dumb transport push

PackWriter incorrectly returned 0 from getObjectsNumber() when the
pack has not been written yet. This caused dumb transports like
amazon-s3:// and sftp:// to abort early and never write out a pack,
under the assumption that the pack had no objects.

Until the pack header is written to the output stream, compute the
current object count each time it is requested. Once the header is
started, use the object count from the stats object.

Change-Id: I041a2368ae0cfe6f649ec28658d41a6355933900
Signed-off-by: Shawn O. Pearce <spearce@spearce.org>",0,0,0,0,0,0,0,0,0
2699,Idb9b7c71d2048dd2344a62c2cde20b4e34529ab7,https://git.eclipse.org/r/#/c/2699,2,dc63bfcc2a55a8017d08830db9fad507f5fe0cfb,c73b8e84ecbf79a149a7f1a5a560165f4deb03c2,1,14/03/11,14/03/11,22,PackWriter: Rename getObjectsNumber to getObjectCount,"PackWriter: Rename getObjectsNumber to getObjectCount

This better matches with PackFile and CachedPack's methods
that return the same value.

Change-Id: Idb9b7c71d2048dd2344a62c2cde20b4e34529ab7
Signed-off-by: Shawn O. Pearce <spearce@spearce.org>",0,0,0,0,0,0,0,0,0
2700,I2eaa4466d497cb2408ce61dc62ca26e0c32fe841,https://git.eclipse.org/r/#/c/2700,2,5fc1df3e76d80d847c42c4e8c3920bd21ce2b98a,6f3d72e18c96f8e5ed7427972219c224ead72ea9,0,15/03/11,15/03/11,8,PushCommand: Set force-update in-place,"PushCommand: Set force-update in-place

Rather than copying the entire list, just replace each element
with the version that has setForceUpdate(true) invoked on it.

Change-Id: I2eaa4466d497cb2408ce61dc62ca26e0c32fe841
Signed-off-by: Shawn O. Pearce <spearce@spearce.org>",0,0,0,0,0,0,0,NA,NA
2701,I6f13ef6346188698a14e000fc590850afbc34b21,https://git.eclipse.org/r/#/c/2701,2,b8cc40f192e38df8855b38ffc2302dc6c603e6e6,865e23d879941877634b54a4e616303bdfc14e1b,0,15/03/11,15/03/11,7,PushCommand: Default to pushing HEAD,"PushCommand: Default to pushing HEAD

If no RefSpec was specified, push the branch that is currently
checked out as HEAD.

Change-Id: I6f13ef6346188698a14e000fc590850afbc34b21
Signed-off-by: Shawn O. Pearce <spearce@spearce.org>",0,0,0,0,0,0,0,NA,NA
2702,Idf36f080ae6638c2bdbe11d69a4ad870851622b1,https://git.eclipse.org/r/#/c/2702,1,b20faddc0012e9d8adb3d4d2b1e625cf3a24f03c,249ec1e95d60db2902141b4db3c8272636e549e9,1,14/03/11,14/03/11,9,Avoid NullPointerException in PlotCommit,"Avoid NullPointerException in PlotCommit

Bug: 339289
Change-Id: Idf36f080ae6638c2bdbe11d69a4ad870851622b1
Signed-off-by: Mathias Kinzler <mathias.kinzler@sap.com>",0,0,0,0,0,0,0,-1,0
2704,Iaef200b17cce77604548dbfb15cf2499b10687b5,https://git.eclipse.org/r/#/c/2704,2,be1209e9ecbd9f62b71eda1bf41da3388997ff55,9ea1326fc6a3f8f8f59e6b9ea2d7e67b19d3c0a6,1,15/03/11,15/03/11,32,"PushCommand: Add utilities for --all, --tags","PushCommand: Add utilities for --all, --tags

The --all flag on the command line implies using refs/heads/* as
a push specification. Add this to the standard command object.

The --tags flag on the command line implies using refs/tags/* as
a push specification. Add this to the standard command object.

Change-Id: Iaef200b17cce77604548dbfb15cf2499b10687b5
Signed-off-by: Shawn O. Pearce <spearce@spearce.org>",0,0,0,0,0,0,0,0,0
2705,Ibd2e95852db0e52ea4a36032942c4c42a7fb4261,https://git.eclipse.org/r/#/c/2705,2,11ac4b97d995b81fac52f21e5a34a76cc2e1c8ae,b5dece00d91b44e1d57af6a90713da5be716d430,0,15/03/11,15/03/11,39,PushCommand: Allow adding any reference string,"PushCommand: Allow adding any reference string

The simplified form of add(String) makes it easier for applications
to pass down user input and allow PushCommand to convert it to the
internal RefSpec object.

Change-Id: Ibd2e95852db0e52ea4a36032942c4c42a7fb4261
Signed-off-by: Shawn O. Pearce <spearce@spearce.org>",0,0,0,0,0,0,0,NA,NA
2708,I81a82b7359a9649f18a172219da44ed54e77ca2f,https://git.eclipse.org/r/#/c/2708,1,21122358be4e075f36184b0d65e530a1eada3eb8,e77dadd6224f40d053e3b17a4a153798cb20ae8e,1,14/03/11,14/03/11,4,Always fetch tags during clone,"Always fetch tags during clone

C Git always fetches tags during clone, even if the tag doesn't
point to an object that was fetched by the branch specifications.
Match that behavior, as users expect it.

Bug: 326611
Change-Id: I81a82b7359a9649f18a172219da44ed54e77ca2f
Signed-off-by: Shawn O. Pearce <spearce@spearce.org>",0,0,0,0,0,0,0,0,0
2709,Id8517d131dcc3f675c60b2d935730872695ed1b0,https://git.eclipse.org/r/#/c/2709,1,d3a93e49e2f8e1a27e3a2aea97c8cbc5a21bda14,e57807cdfb60e8783ae828db83372da38221b66e,1,15/03/11,15/03/11,32,FS: Overload detect() with no arguments,"FS: Overload detect() with no arguments

This allows callers to perform the logic that constructed the
current FS.DETECTED value.

Change-Id: Id8517d131dcc3f675c60b2d935730872695ed1b0
Signed-off-by: Shawn O. Pearce <spearce@spearce.org>",0,0,0,0,0,0,0,0,0
2710,I07362a5772da4955e01406bdeb8eaf87416be1d6,https://git.eclipse.org/r/#/c/2710,1,e57807cdfb60e8783ae828db83372da38221b66e,dd28df55c97fb95ee69d6d9d56c266d8199c7ba2,1,15/03/11,15/03/11,67,FS: Allow gitPrefix to be set and cached,"FS: Allow gitPrefix to be set and cached

This permits callers to modify the meaning of gitPrefix, which
may be useful if their application allows the user to select
the location where C Git is installed.

Bug: 337101
Change-Id: I07362a5772da4955e01406bdeb8eaf87416be1d6
Signed-off-by: Shawn O. Pearce <spearce@spearce.org>",0,0,0,0,0,0,0,0,0
2711,I076815edeec1c20dea028f7840be3930337dff77,https://git.eclipse.org/r/#/c/2711,1,dd28df55c97fb95ee69d6d9d56c266d8199c7ba2,92131cefecd322013c2db2d2567ce16fd182f563,0,15/03/11,15/03/11,24,FS: Allow userHome to be set and cached,"FS: Allow userHome to be set and cached

This permits callers to modify the meaning of userHome, which
may be useful if their application allows the user to select
different user settings locations.

Bug: 337101
Change-Id: I076815edeec1c20dea028f7840be3930337dff77
Signed-off-by: Shawn O. Pearce <spearce@spearce.org>",0,0,0,0,0,0,0,NA,NA
2712,Ieea33c8d0ebdc801a4656b829d2a4b398559fd45,https://git.eclipse.org/r/#/c/2712,1,92131cefecd322013c2db2d2567ce16fd182f563,dd85a7f1516030cbff0d291f8b7d425078b98fa8,1,15/03/11,15/03/11,72,FS: Allow cloning an FS instance,"FS: Allow cloning an FS instance

This permits an application to create its own copy of FS.DETECTED
before manually setting the userHome or gitPrefix.

Bug: 337101
Change-Id: Ieea33c8d0ebdc801a4656b829d2a4b398559fd45
Signed-off-by: Shawn O. Pearce <spearce@spearce.org>",0,0,0,0,0,0,0,0,0
2713,Ifc76a4ba841f2e2e7354bd51306b87b3b9d7f6ab,https://git.eclipse.org/r/#/c/2713,2,a776ce45d3e78431964f0bb6e31d81ec66178b4b,9e46adaa7874c89b5e9ba9368874bcc362c7138b,1,15/03/11,15/03/11,69,TransportProtocol: Allow null Repository in canHandle(),"TransportProtocol: Allow null Repository in canHandle()

This allows callers to determine if a URI is supported, before
worrying about the local repository.

Suggested-by: Dariusz Luksza <dariusz@luksza.org>
Change-Id: Ifc76a4ba841f2e2e7354bd51306b87b3b9d7f6ab
Signed-off-by: Shawn O. Pearce <spearce@spearce.org>",0,0,0,0,0,0,0,0,0
2714,Ibf9a7caa84d99f39fca88bebc10c03b01955146d,https://git.eclipse.org/r/#/c/2714,1,62d6549a87c67014ca1cc0c1d4913d91626c7b60,6e8c358b3e7b085b58d61cf7e50767bb9d9ccca1,1,15/03/11,15/03/11,12,CloneCommand: add a test to ensure we fetch all tags,"CloneCommand: add a test to ensure we fetch all tags

Bug: 326611
Change-Id: Ibf9a7caa84d99f39fca88bebc10c03b01955146d
Signed-off-by: Chris Aniszczyk <caniszczyk@gmail.com>",0,0,0,0,0,1,1,0,0
2715,I64736318fd0abf9ee5e56bd0b737707adb580b37,https://git.eclipse.org/r/#/c/2715,1,38b935b64444b7403d6233054ca2f30cb9aae5ee,e7a71d5138ed5692b568fac663f5771693d76a85,1,15/03/11,15/03/11,12,Improve native Git transport when following repository,"Improve native Git transport when following repository

If the client is only following the remote repository and has not
created any new non-common commits, the client will wind up sending
a ""have %s"" line for each tag in the repository.  For some projects
like git.git, this is 339 tags and growing, resulting in more than
16 KiB needing to be POSTed over 12 HTTP requests.

Teach UploadPack (server side) to always execute the okToGiveUp()
logic at least once per negotiation round to determine if the server
can compute a pack right now.  If it can, shove in an ""ACK %s ready""
message to tell the client this and try to prevent receiving ancient
tags in future negotiation rounds.

Teach BasePackFetchConnection (client side) to honor a ""ACK %s ready""
from the remote and break out of its SEND_HAVE loop once the remote
knows it can create a pack.  This avoids sending the remaining 307
tags of git.git.

These two changes together reduce the number of HTTP RPCs from 13
down to 3 in order to fetch from git.git over smart HTTP.  If either
side is missing the change, the older behavior (and its 13 RPCs)
is used.

Change-Id: I64736318fd0abf9ee5e56bd0b737707adb580b37
Signed-off-by: Shawn O. Pearce <spearce@spearce.org>",0,0,0,0,0,0,0,0,0
2716,Ie0d0a39320202bc096fec2e97cb58e9efd061b2d,https://git.eclipse.org/r/#/c/2716,9,e7a71d5138ed5692b568fac663f5771693d76a85,570c48fea9ed718fa42fae08fd4249e492fb3407,1,21/04/11,21/04/11,118,Implement the no-done capability,"Implement the no-done capability

Native Git clients may request both multi_ack_detailed and no-done
in the same request to prevent the client from needing to send a
""done"" line to the server in response to a server's ""ACK %s ready"".

For smart HTTP, this can save 1 full HTTP RPC in the fetch exchange,
improving overall latency when incrementally updating a client that
has not diveraged very far from the remote repository.

Change-Id: Ie0d0a39320202bc096fec2e97cb58e9efd061b2d
Signed-off-by: Shawn O. Pearce <spearce@spearce.org>",0,1,0,0,0,0,1,0,0
2717,Iffb0b70e1223901ce2caac3b87ba7e0d6634d265,https://git.eclipse.org/r/#/c/2717,2,12fda86b6c250da1ddc04bc53ebc367fa695ac36,b9145df19cfde2aab77de4e8b66903b4e55f9353,1,17/03/11,17/03/11,39,Assume refs of alternates are reachable during fetch,"Assume refs of alternates are reachable during fetch

When fetching from a remote peer, consider all of the refs of any
alternate repository to be reachable locally, in addition to the refs
of the local repository.  This mirrors the push protocol and may avoid
unnecessary object transfer when the local repository is empty, but
its alternate and the remote share a lot of common history.

Junio C Hamano recently proposed a similar change to C Git's fetch
client, in order to work around a performance bug I identified when
fetching between two repositories that actually shared the same
alternate repository on the local system.

Change-Id: Iffb0b70e1223901ce2caac3b87ba7e0d6634d265
Signed-off-by: Shawn O. Pearce <spearce@spearce.org>",0,0,0,0,0,0,0,0,0
2719,I79ad15924acc2ba2412d5114c85db27f0f4aca22,https://git.eclipse.org/r/#/c/2719,1,e218623d303860d2458a82596411664fb29f57aa,63d7ac081a378979c02eeac6cb6b12060b2e104f,1,15/03/11,15/03/11,22,Replace 'occured' by 'occurred',"Replace 'occured' by 'occurred'

This change fixes a common typo.

Signed-off-by: Philipp Thun <philipp.thun@sap.com>",0,0,0,0,0,0,0,0,0
2720,Idb7d77e983a78c4b21fbf232fc1e75ef581e5ed1,https://git.eclipse.org/r/#/c/2720,1,b3180ba5d2a15c1cd7027b9af338a30673d7d918,7321087d559782aabcad088a5372282a9e5e28a1,1,15/03/11,15/03/11,5,Make --git-dir optional for 'jgit init',"Make --git-dir optional for 'jgit init'

For compatibility reasons with regards to native git and also to
make the init command easier to use from the command line,
argument --git-dir should not be required.

Additionally the path created in case --git-dir is not supplied now is
canonical and thus easier to read.

Change-Id: Idb7d77e983a78c4b21fbf232fc1e75ef581e5ed1
Signed-off-by: Philipp Thun <philipp.thun@sap.com>",0,0,0,0,0,0,0,0,0
2722,Iedc80e133e66d72e78ff0980b6e12634f75eca36,https://git.eclipse.org/r/#/c/2722,4,7dd217a06e1ede0d8bddfc6f1c43af41c7a4ef9c,8508eebe773bd556e4947c3c6ba117e4a6474299,1,25/05/11,25/05/11,16,Use the stored password instead of prompting for it all the time,"Use the stored password instead of prompting for it all the time

Change-Id: Iedc80e133e66d72e78ff0980b6e12634f75eca36
Signed-off-by: Carsten Pfeiffer <carsten.pfeiffer@gebit.de>",0,1,0,1,0,0,1,0,0
2728,I67cc4099238a40c6dca795e64f0155ced6008ef1,https://git.eclipse.org/r/#/c/2728,2,80fd211b3f53a1ab5e6213138a996efc8169f6e7,90f62da25c08f374bb7321dac9039aee43ee5293,1,17/03/11,17/03/11,118,Do not implicitly guess username or email,"Do not implicitly guess username or email

Instead provide separate methods trying to construct this information
using data provided by the operating system. This enables applications
to differentiate between explicitly set configuration parameters and
best effort attempts to guess these parameters from the operating
system.

Change-Id: I67cc4099238a40c6dca795e64f0155ced6008ef1
Signed-off-by: Matthias Sohn <matthias.sohn@sap.com>",0,0,0,0,0,0,0,-1,0
2730,I6245941395dae920e4f90b8985be6ef3cce570d3,https://git.eclipse.org/r/#/c/2730,1,7dd6c0d0ee4f81ad4cbb0d9578ba0dcc3c4d1825,9acdfd1ace55452cdcc08ef48de2df34b3913534,1,16/03/11,16/03/11,4,"Use parent directory in InitCommand if directory is "".""","Use parent directory in InitCommand if directory is "".""

If no directory is set before executing an InitCommand, the current
directory (""."") is used by default. By calling File.getParentFile() we
get the actual directory this points to. Using this directory makes it
easier to read paths.

Change-Id: I6245941395dae920e4f90b8985be6ef3cce570d3
Signed-off-by: Philipp Thun <philipp.thun@sap.com>",0,0,0,0,0,0,0,0,0
2731,Ib8773c14e2b7a650769bd578aad745e6651210cb,https://git.eclipse.org/r/#/c/2731,8,9a54c2e88a3117baaff1fb9219806c6db5877bb9,4627105647db7c5f881564b0396eebd602644c18,1,01/04/11,01/04/11,288,Allow application filters on smart HTTP operations,"Allow application filters on smart HTTP operations

Permit applications embedding GitServlet to wrap the
info/refs?service=$name and /$name operations with a
servlet Filter.

To help applications inspect state of the operation,
expose the UploadPack or ReceivePack object into a
request attribute.  This can be useful for logging,
or to implement throttling of requests like Gerrit
Code Review uses to prevent server overload.

Change-Id: Ib8773c14e2b7a650769bd578aad745e6651210cb
Signed-off-by: Shawn O. Pearce <spearce@spearce.org>",0,1,0,0,0,0,1,1,1
2732,Icf7c517f790a8fa79c8afd9b7f4a2805cf79196e,https://git.eclipse.org/r/#/c/2732,4,bccccfaec99231d749d20491804b66d16f6af108,5c9f7ec10ec1366b3d9644c633f2e35c1f6cf01b,1,18/03/11,18/03/11,2553,Moved tests for commit -o option to own test class,"Moved tests for commit -o option to own test class

We test the -o option of the commit command very accurate by
writing tests for each line of a decision table. In order to
still be able to point new jgit users to the CommitAndLogCommandTest
to find out how to use log() and commit() I factored out these 1200
lines of very specific tests into their own class.

Change-Id: Icf7c517f790a8fa79c8afd9b7f4a2805cf79196e
Signed-off-by: Christian Halstrick <christian.halstrick@sap.com>",0,1,0,0,1,0,1,0,0
2733,I17c24845584700aad953c3d4f2bea77a0d665ec4,https://git.eclipse.org/r/#/c/2733,3,1c2a171225ff460368c011eb651a464b17aead76,93ff0038b46989c93036dac219d07be1ce5a0d59,1,18/03/11,18/03/11,162,Abort merge when file to be checked out or modified is dirty,"Abort merge when file to be checked out or modified is dirty

In case a file needs to be checked out (from THEIRS) or modified (with
merged content) during a merge operation, it has to be checked if the
worktree version of this file is dirty. If this is true, merge shall
fail.

Change-Id: I17c24845584700aad953c3d4f2bea77a0d665ec4
Signed-off-by: Philipp Thun <philipp.thun@sap.com>",0,0,0,0,0,0,0,-1,0
2734,I56a46c31ee1661c7ce22eb755ab23da8bc9f5da2,https://git.eclipse.org/r/#/c/2734,2,b69fd2f990ece5a89c0d4d9d865de71c13814e43,29f66390194e111a689c5193195508dcc68ccda5,1,21/03/11,21/03/11,112,Refactor test cases,"Refactor test cases

This change moves commonly used methods into the RepositoryTestCase
base class.

Change-Id: I56a46c31ee1661c7ce22eb755ab23da8bc9f5da2
Signed-off-by: Philipp Thun <philipp.thun@sap.com>",0,0,0,0,0,0,0,0,0
2739,I11029b9b443f22019bf80bd3dd942b48b531bc11,https://git.eclipse.org/r/#/c/2739,3,2c8d61fcc127510cb2369c2996caa88c6c7a4b28,4f61186208c2f6f3ad3295853301831e03b7b6ac,1,02/04/11,02/04/11,47,Avoid reading huge files into memory,"Avoid reading huge files into memory

When reading refs, avoid reading huge files that were put there
accidentally, but still read the top of e.g. FETCH_HEAD, which
may be longer than our limit. We're only interested in the first line
anyway.

Change-Id: Change-Id: I969f39315216141f10d645d58120141b77b3b3cf
<carsten.pfeiffer@gebit.de>",0,0,0,0,0,0,0,0,0
2746,Id96f1885ac4d61f22c80b6418fff54184b7348ba,https://git.eclipse.org/r/#/c/2746,7,f9e0367f6a35814c0008252220a37c1281ecc6fe,6fc9f4eb4bc3f382c2fe20c91b15010540e7ce1b,1,01/04/11,01/04/11,376,UploadPack: Add a PreUploadHook to monitor and control behavior,"UploadPack: Add a PreUploadHook to monitor and control behavior

Embedding applications can use this hook to watch actions within
UploadPack and possibly reject them. This could be useful to prevent
clones of a large repository from this server, or to stop abusive
negotiation rounds that offer thousands of objects in a single batch.

Change-Id: Id96f1885ac4d61f22c80b6418fff54184b7348ba
Signed-off-by: Shawn O. Pearce <spearce@spearce.org>",0,1,0,0,0,0,1,0,0
2748,I57e8756d5026e885e0ca615979bfcd729703be6c,https://git.eclipse.org/r/#/c/2748,7,3bfd4e654ec80ba0ec98930c3b73a28679c3a25a,3044a788dad445c5170a039a2021a88d6df20c0b,1,01/04/11,01/04/11,102,smart HTTP: Return errors inside payload,"smart HTTP: Return errors inside payload

When the client is clearly making a smart HTTP request to our smart
HTTP server, return any errors like RepositoryNotFoundException or
ServiceNotEnabledException inside of the payload as a Git level ERR
message, rather than an HTTP error code.

This prevents the C Git command line client from retrying a failed
""$URL/info/refs?service=git-upload-pack"" request without the smart
service URL, only to fail again with ""403 Forbidden"" when the dumb
as-is service has been disabled by the server configuration, or is
unavailable because the repository is not on the local filesystem.

Change-Id: I57e8756d5026e885e0ca615979bfcd729703be6c
Signed-off-by: Shawn O. Pearce <spearce@spearce.org>",0,1,0,0,0,0,1,0,0
2749,Ibc778d9f7721943a065041d80fc427ea50d90fff,https://git.eclipse.org/r/#/c/2749,2,b45647537e38ef8352598c110860f20f23c04467,7cd776d9554ef7110647052d937a1c01ea6b975d,1,17/03/11,17/03/11,7,PacketLineIn: Reuse internal lineBuffer for small strings,"PacketLineIn: Reuse internal lineBuffer for small strings

Most ""ACK %s continue"", ""ACK %s common"", ""NAK"" strings that are read
by the readACK() method and readString() are shorter than the
lineBuffer already available.  Reuse that buffer when reading from
the network stream and converting to a string with RawParseUtils to
avoid unnecessary temporary byte array allocations.

Change-Id: Ibc778d9f7721943a065041d80fc427ea50d90fff
Signed-off-by: Shawn O. Pearce <spearce@spearce.org>",0,0,0,0,0,0,0,0,0
2750,I2fe818e75c7f46156744ef4f703c40173cbc76d0,https://git.eclipse.org/r/#/c/2750,2,9fb690e4968eaacc77d94d18e3dd2cf9f0111075,3d8c7adc925df98fed7af0675bb9325c94c70459,1,17/03/11,17/03/11,14,"Handle ""ERR %s"" when ACK/NAK is expected","Handle ""ERR %s"" when ACK/NAK is expected

If the remote peer replies with ""ERR %s"" instead of ""ACK %s common"" or
""NAK"" like the negotiate part of the fetch-pack/upload-pack protocol
treat that as an exception that aborts processing with the error text
as supplied by the remote system.

Change-Id: I2fe818e75c7f46156744ef4f703c40173cbc76d0
Signed-off-by: Shawn O. Pearce <spearce@spearce.org>",0,0,0,0,0,0,0,0,0
2751,I1879b38988ba66f648c069c10dbfa14c3f34adb2,https://git.eclipse.org/r/#/c/2751,2,ab6f3193c9a4b772d1cb988591545d75ee1fbeb6,c3481e5020dfd3840cfd3f2dd34bf4e8972421a6,1,17/03/11,17/03/11,20,UploadPack: Report invalid want lines with ERR,"UploadPack: Report invalid want lines with ERR

Instead of aborting hard with a server-side exception, report an error
to the client with ""ERR %s"" in a context where the client is expecting
ACK/NAK.  Older clients will report this text to the user, but newer
ones know how to format this message in a more user-friendly way.

Change-Id: I1879b38988ba66f648c069c10dbfa14c3f34adb2
Signed-off-by: Shawn O. Pearce <spearce@spearce.org>",0,0,0,0,0,0,0,0,0
2754,Ieb089668834d0a395c9ab192c555538917dfdc47,https://git.eclipse.org/r/#/c/2754,2,e910aff46a13d0ccafe5d3c9d696266d7b0268d7,669ea068b9ed24d13a5181c9588a2d264101ceb3,1,18/03/11,18/03/11,84,Refactor ResolveMerger,"Refactor ResolveMerger

1. Perform an explicit check for untracked files.
2. Extract 'dirty checks' into separate methods
3. Clean up comments.
4. Tests: also check contents of files not affected by merge.

Change-Id: Ieb089668834d0a395c9ab192c555538917dfdc47
Signed-off-by: Philipp Thun <philipp.thun@sap.com>",0,0,0,0,0,0,0,-1,0
2760,Iff9e26a8aaf21d8224bfd6ce3c98821c077bcd82,https://git.eclipse.org/r/#/c/2760,2,c46f2f9d105e0cfa805955ecb307fffc5213e970,b53f83e0c1137146aa8f14d86f21794977e36a95,1,17/03/11,17/03/11,97,CommitCommand: add option to insert a change id,"CommitCommand: add option to insert a change id

An option to insert a change id into the commit message was added
to CommitCommand.
This change is a prerequisite for removing GitIndex from EGit.

Signed-off-by: Jens Baumgart <jens.baumgart@sap.com>
Signed-off-by: Philipp Thun <philipp.thun@sap.com>",0,0,0,0,0,0,0,0,0
2767,I825b93b3412a3041aca225962fc8463a8f180650,https://git.eclipse.org/r/#/c/2767,2,6e466fc584999f3cf97fe82367dc2bc2d513fafc,b5689e74db135ecc8ff2c3ac18446e43e883e9e8,1,17/03/11,17/03/11,23,Add path filtering to LogCommand,"Add path filtering to LogCommand

Bug: 340049
Change-Id: I825b93b3412a3041aca225962fc8463a8f180650
Signed-off-by: Chris Aniszczyk <caniszczyk@gmail.com>",0,0,0,0,0,1,1,0,0
2773,I3803745e3a5dda7b5f0faf39aae9423e2c777e7f,https://git.eclipse.org/r/#/c/2773,1,cbf25b865a9823f7b7bc727612c275462be14c11,dd1c6acb642a9f1cee4178a19797d4f668215a70,1,18/03/11,18/03/11,16,PackFile: Cache the packName string,"PackFile: Cache the packName string

Instead of computing this on every request, compute it once and
hold onto the result. This improves performance for LocalCachedPack
which does a lot of tests against the pack name string.

Change-Id: I3803745e3a5dda7b5f0faf39aae9423e2c777e7f
Signed-off-by: Shawn O. Pearce <spearce@spearce.org>",0,0,0,0,0,0,0,0,0
2774,Icb50a8f87fe9180ea28b6920f473bb9e70c300f1,https://git.eclipse.org/r/#/c/2774,1,dd1c6acb642a9f1cee4178a19797d4f668215a70,d57d9ef7ddab4c300ceeb44f8d75346e22cbc947,1,19/03/11,19/03/11,64,BlockList: Micro-optimize appending from another BlockList,"BlockList: Micro-optimize appending from another BlockList

Simple variant of addAll() that knows how to copy large segments
quickly using System.arraycopy() rather than looping through with
an Iterator object.

Change-Id: Icb50a8f87fe9180ea28b6920f473bb9e70c300f1
Signed-off-by: Shawn O. Pearce <spearce@spearce.org>",0,0,0,0,0,0,0,0,0
2775,Id5e6b1902ea909c72f103a0fbca5d8bc316f9ab3,https://git.eclipse.org/r/#/c/2775,2,d57d9ef7ddab4c300ceeb44f8d75346e22cbc947,0bc73eb6b5d5806e2dc7e3fbddba953712008a6a,1,19/03/11,19/03/11,128,PackWriter: Collect stats by object type,"PackWriter: Collect stats by object type

Frequently enough I'm wondering how much of a pack is commits vs.
trees, and the total line doesn't really tell us this because its
a gross total from the pack. Computing the counts per object type
is simple during packing, as PackWriter already has everything in
memory broken up by object type.  Its virtually free to get these
values and track them.

Change-Id: Id5e6b1902ea909c72f103a0fbca5d8bc316f9ab3
Signed-off-by: Shawn O. Pearce <spearce@spearce.org>",0,0,0,0,0,0,0,0,0
2776,I6a07fc75d9075bf6233e967360b6546f9e9a2b33,https://git.eclipse.org/r/#/c/2776,4,aba018db353aba7a94221a0feb99c2f533117b2e,19893195d8a12ac0b623b3440b0db936312b61ae,1,01/04/11,01/04/11,166,PackWriter: Speed up pruning of objects from cached packs,"PackWriter: Speed up pruning of objects from cached packs

During object enumeration for the thin pack, very few objects come
out that are duplicated with the cached pack. Typically these are
only cases where a blob or tree was cherry-picked forward, got a
copy or rename, or was reverted... all relatively infrequent events.

Speed up pruning of the thin pack object list by combining the phase
with the object representation selection. Implementers should already
be offering to reuse the object from the cached pack if it is stored
there, at which point the implementation can perform a very fast type
of containment test using the cached pack's identity rather than yet
another index lookup.  For the local disk case this is probably not a
big improvement, but it does help on the DHT implementation where the
two passes combined into one reduces latency.

Change-Id: I6a07fc75d9075bf6233e967360b6546f9e9a2b33
Signed-off-by: Shawn O. Pearce <spearce@spearce.org>",0,1,0,0,0,0,1,0,0
2777,I5ad938501c1c61f637ffdaff0d0d88e3962d8942,https://git.eclipse.org/r/#/c/2777,4,78119730f1aff35b51dad840dba23273aaf1d564,8f7c91165380b0d23f4d0dc5e5e3ca05e6c5e1ea,1,01/04/11,01/04/11,66,PackWriter: Remove dummy list 0,"PackWriter: Remove dummy list 0

Instead of looping over the objectsLists array, always set slot 0 to
null and explicitly work on the 4 indexes that matter.  This kills
some loops and increases the length of the code slightly, but I've
always really disliked that dummy 0 slot.

Change-Id: I5ad938501c1c61f637ffdaff0d0d88e3962d8942
Signed-off-by: Shawn O. Pearce <spearce@spearce.org>",0,1,0,0,0,0,1,0,0
2778,I528daf9d2f7744dc4a6281750c2d61d8f9da9f3a,https://git.eclipse.org/r/#/c/2778,4,8770060a25f101ab7b0d666d5950feba14a03af5,b52003aa0e7be547cefb71e2bc3c954ef5fb68fa,1,01/04/11,01/04/11,28,PackWriter: Combine small reuse batches together,"PackWriter: Combine small reuse batches together

If the total number of objects to look for reuse on is under 4096
this is really close to a reasonable batch size for the DHT storage
system to lookup at once.  Combine all of the objects into a single
temporary list, perform reuse, and then prune the main lists if any
duplicate objects were detected from a selected CachedPack.

The intention here is to try and avoid 4 tiny sequential lookups
on the storage system when the time to wait for each of those to
finish is higher than the CPU time required to build (and later
GC) this temporary list.

Change-Id: I528daf9d2f7744dc4a6281750c2d61d8f9da9f3a
Signed-off-by: Shawn O. Pearce <spearce@spearce.org>",0,1,0,0,0,0,1,0,0
2782,I9953ab8be54ceb8b588e1280d6f7edd688887747,https://git.eclipse.org/r/#/c/2782,4,ed08a528ab06bf39ffa7fd66337ad8420672899a,b0551e89d4027a1116c2b4c05847e3f24bc09b39,1,01/04/11,01/04/11,107,PackWriter: Fix the way delta chain cycles are prevented,"PackWriter: Fix the way delta chain cycles are prevented

Take a very simple approach to avoiding delta chains during object
reuse: objects are now always selected from the oldest pack that
contains them.  This prevents cycles because a pack must not have
a cycle in the delta chain.  If both objects A and B are chosen
out of the same source pack then there cannot be an A->B->A cycle.

The oldest pack is also the most likely to have the smallest deltas.
Its the biggest pack in the system and probably came from the clone
(or last GC) of this repository, where all objects were previously
considered and packed tightly together.  If an object appears again
(for example due to a revert and a push into this repository) the
newer copy of won't be nearly as small as the older delta version
of it, even if the newer one is also itself a delta.

ObjectDirectory already enumerates objects during selection in this
newest->oldest order, so it already is supplying these assumptions
to PackWriter.  Taking advantage of this can speed up selection by
a tiny amount by avoiding some tests, but can also help to prevent
a cycle needing to be broken on the fly during writing.

The previous cycle breaking logic wasn't fully correct either.
If a different delta base was chosen, the new delta base might not
have been written into the output pack before the current object,
forcing the use of REF_DELTA when OFS_DELTA is always smaller.
This logic has now been reworked to always re-check the delta base
and ensure it gets written before the current object.

If a cycle occurs, it gets broken the same way as before, by
disabling delta reuse and finding an alternative form of the
object, which may require inflating/deflating in whole format.

Change-Id: I9953ab8be54ceb8b588e1280d6f7edd688887747
Signed-off-by: Shawn O. Pearce <spearce@spearce.org>",0,1,0,0,0,0,1,0,0
2783,I22a18bc7193962e5018c40a75337f9976b585c40,https://git.eclipse.org/r/#/c/2783,3,7ddc4bdc64df4b13f462eb332a731437da5c9213,4f081d7867975abde83f1d0b8fc4fb1333f2be43,1,27/03/11,27/03/11,39,Fix: possible NPE in ReflogReader,Fix: possible NPE in ReflogReader,0,0,0,1,0,0,1,0,0
2880,I7d30c3496c05e1fb6e9519f3af9f23c6adb93bf9,https://git.eclipse.org/r/#/c/2880,2,aa16de1eaafdf88dc1ecb98dac9da5229f969514,2564f4bbad14ccf8b234f68503276cc02ef78992,1,02/04/11,02/04/11,17,Enhance RefDatabase with a refresh() method,"Enhance RefDatabase with a refresh() method

There is the chance that RefDirectory (our only implementation of the
RefDatabase) doesn't notice updates to refs and therefore reports
outdated data. The problem is that RefDirectory caches LooseRef's
and relies on the filesystems lastModified data to detect whether
the ref has changed. If we manage to update a ref once and afterwards
update the ref externally (e.g. by a push operation) within one second
we may fail to detect this ref update on linux. Egit's
PusOperationTest.pushTest() was very unstable on linux without
explicit sleeps.
This change adds the possibility to clear all caches in RefDirectory
in case you know that you may run into this problem. If you are
writing tests against the JGit API which includes transports
(causing 'external' updates of refs) you wan't to clear the
cache of a receiving repo after a push.

Signed-off-by: Christian Halstrick <christian.halstrick@sap.com>",0,0,0,0,0,0,0,0,0
2886,I16cbbc88595f73e5512f984e67f93f87ee0fe242,https://git.eclipse.org/r/#/c/2886,1,2cdd16612ef57dff9211efbcbecdbd5b00d3f670,0834ee08e5aea8e5eeb33d6dbdb4b56ea12abbc7,1,22/03/11,22/03/11,45,PullCommand: Use short ref name in merge message,"PullCommand: Use short ref name in merge message

Add a test case for PullCommand for the successful merge case and test
that the short ref name is used.

Change-Id: I16cbbc88595f73e5512f984e67f93f87ee0fe242
Signed-off-by: Robin Stocker <robin@nibor.org>",0,0,0,0,0,0,0,0,0
2890,Idb390375a68611853c1c903299ec678c89b081dc,https://git.eclipse.org/r/#/c/2890,2,0834ee08e5aea8e5eeb33d6dbdb4b56ea12abbc7,f6903df8c1eda024cf57f5066a413c08ba744865,1,23/03/11,23/03/11,372,Add status command to GIT api,"Add status command to GIT api

Allow users of the GIT api to get to know the state of their
workingtree and index by adding a status command. The implementation
is mainly a wrapper around IndexDiff class. Better support for multiple
stages in the index (conflict situations) is still missing. An
appropriate change to IndexDiff and StatusCommand will come in a
subsequent commit.

Change-Id: Idb390375a68611853c1c903299ec678c89b081dc
Signed-off-by: Christian Halstrick <christian.halstrick@sap.com>",0,0,0,0,0,0,0,0,0
2904,I259773932fa9aec3bb29e215740e67c834566f6f,https://git.eclipse.org/r/#/c/2904,2,94d55e24a3367e06e3d0e0db1d1e0fda4267cfb7,7bffd864bebdd9855c8c3a39a0335fef07bd199a,1,27/03/11,27/03/11,3,Registering the Checkout command.,"Registering the Checkout command.

The Checkout command line command was added to JGit but it wasn't
registered in the list of available commands.

Change-Id: I259773932fa9aec3bb29e215740e67c834566f6f
Signed-off-by: Sasa Zivkov <sasa.zivkov@sap.com>",0,0,0,0,0,0,0,0,0
2922,I870b77eeffa70a57891d7253a06ad7d44d808ee4,https://git.eclipse.org/r/#/c/2922,1,b6eadc5e7ac847850f793863dab883b7ed89c549,45c4c718175060e0a74aab04f07558f19f861e5b,0,25/03/11,25/03/11,6,Prevent NPE during fetch and push via SSH,"Prevent NPE during fetch and push via SSH

Bug: 340928
Change-Id: I870b77eeffa70a57891d7253a06ad7d44d808ee4
Signed-off-by: Matthias Sohn <matthias.sohn@sap.com>",0,0,0,0,0,0,0,NA,NA
2925,I085c98b77ea8f9104a213978ea0d4ac6fd58f49b,https://git.eclipse.org/r/#/c/2925,2,04c4c925abccc27db665a2059991dd5ec6b1189e,6092824985411c0f9addbf69ad04c3000a529f3f,1,27/03/11,27/03/11,50,Detaching HEAD when checking out the same commit.,"Detaching HEAD when checking out the same commit.

Detaching HEAD didn't work in some corner checkout cases.  If, for example,
HEAD is symbolic ref to refs/heads/master, refs/heads/master is ref to commit
c0ffee... then:

    checkout c0ffee...

would leave the HEAD unchanged.

The same symptom occurs when checking out a remote tracking branch or a tag
that references the same commit as refs/heads/master.

In the above case, the RefUpdate class didn't have enough information to decide
if the update needed to detach symbolic ref because it dealt only with new/old
objectIDs. Therefore, this fix introduced the RefUpdate.detachingSymbolicRef
flag.

Bug: 315166
Change-Id: I085c98b77ea8f9104a213978ea0d4ac6fd58f49b
Signed-off-by: Sasa Zivkov <sasa.zivkov@sap.com>",0,0,0,0,0,0,0,0,0
2939,I5a58ee45c2d2ae5322f87fd6972526169b2918c8,https://git.eclipse.org/r/#/c/2939,3,0d559694b9f05c423768e4516821b3292c498cb0,c1bd8ff1f67070a56ebf940124730264fd596045,1,01/04/11,01/04/11,19,Fix broken git prefix detection,"Fix broken git prefix detection

If JGit got a cygwin path it would fail to resolve directories
relative to it.

Also add system property to debug problems with the FS utilities.
Enable debug using -Djgit.fs.debug=1

Furthermore use -Djgit.gitprefix=<path> to set the git prefix
manually.

Change-Id: I5a58ee45c2d2ae5322f87fd6972526169b2918c8
Signed-off-by: Robin Rosenberg <robin.rosenberg@dewire.com>",0,0,0,0,0,0,0,0,0
2941,Ica9e50c0d512865d217f55bf0d100f27878031b9,https://git.eclipse.org/r/#/c/2941,2,1c13639168ab3b1b246588a53fc809590edd30a2,453c13cf4ac5be2f2c8e4bc56a3af38d9b3a582d,0,01/04/11,01/04/11,4,Use Ignore to bypass unused test,"Use Ignore to bypass unused test

Change-Id: Ica9e50c0d512865d217f55bf0d100f27878031b9
Signed-off-by: Robin Rosenberg <robin.rosenberg@dewire.com>",0,0,0,1,0,0,1,NA,NA
2942,I2c8e917a086faabcd8749160c2acc9dd05a42838,https://git.eclipse.org/r/#/c/2942,2,efdc8c8758d531e451b2d43a788bb931f0f461d4,533ba7dbb08e3dee41ad99ff3c420e777e032203,1,01/04/11,01/04/11,31,Do not normalize URIishes,"Do not normalize URIishes

We used to normalize URI's since it seems simple. This however causes
inconsistencies to the user and to out tests. Just pass backslashes
through and make sure our parser can handle them.

Bug: 341062
Signed-off-by: Robin Rosenberg <robin.rosenberg@dewire.com>
Change-Id: I2c8e917a086faabcd8749160c2acc9dd05a42838",0,0,0,0,0,0,0,0,0
2948,I535acdc7d022543ed0f5ac6151b09a6985f4ef38,https://git.eclipse.org/r/#/c/2948,1,1c3b5819e0ed1b0d769e3d15d3dd4704c108c151,56983bbb1cc0d751d302eba287ea88d7039c0c56,1,29/03/11,29/03/11,44,Do not categorize merge failures as 'abnormal',"Do not categorize merge failures as 'abnormal'

This change contains a simple renaming. Instead of using the
expression 'abnormal failure', we just treat this kind of situation
as 'failure'. This is specific enough as conflicts are already handled
separately.

Change-Id: I535acdc7d022543ed0f5ac6151b09a6985f4ef38
Signed-off-by: Philipp Thun <philipp.thun@sap.com>",0,0,0,0,0,0,0,0,0
2951,I61a1b45db2d60fdcc0f87373ac6fd75ac4c4a202,https://git.eclipse.org/r/#/c/2951,1,71123b3c41771c72cdf438270bc28aba38e632d4,2e527d40c9af4b83817c353d70c5592f0b6df3ce,1,28/03/11,28/03/11,2,Fix possible NPE in DirCache.isModified(),"Fix possible NPE in DirCache.isModified()

The snapshot field of a DirCache object for a newly created repository
can be null. This fix prevents a NPE when isModified() is called in
such a situation.

Change-Id: I61a1b45db2d60fdcc0f87373ac6fd75ac4c4a202
Signed-off-by: Philipp Thun <philipp.thun@sap.com>",0,0,0,0,0,0,0,0,0
2955,I5b383eca980bd9e16a7dbdb5aed040c6586d4f46,https://git.eclipse.org/r/#/c/2955,2,4a3d231990696a5c0de8de9a221a06aa75685788,79a1096df96bab2e743eab0aece177751f0546de,1,01/04/11,01/04/11,50,Make PacketLineIn public,"Make PacketLineIn public

PacketLineOut is already public. Make PacketLineIn partially public
in case an application needs to use some of the pkt-line protocol.

Change-Id: I5b383eca980bd9e16a7dbdb5aed040c6586d4f46
Signed-off-by: Shawn O. Pearce <spearce@spearce.org>",0,0,0,0,0,0,0,0,0
2959,I833637842631b37dce96ed9729b3a6ed24054056,https://git.eclipse.org/r/#/c/2959,1,913c65a1f664d8209e3779f44d4e9de580f96ebe,ae9c151eb1661d468647ed3c5b94598f5e65806f,1,29/03/11,29/03/11,5,Allow InitCommand to run on existing git repos,"Allow InitCommand to run on existing git repos

To be more consistent with what native git does we should allow
to run the InitCommand also on existing git repos.

Change-Id: I833637842631b37dce96ed9729b3a6ed24054056
Signed-off-by: Christian Halstrick <christian.halstrick@sap.com>",0,0,0,0,0,0,0,1,1
2968,I359719d421b93c9d2e962e3c0eccc2b59235c3d1,https://git.eclipse.org/r/#/c/2968,1,d923dbac3a31b82f1424f470e886cac6a98ef1cb,02ab19c2e529dd895aa61696550f2a619ef16c34,1,30/03/11,30/03/11,9,Let CloneCommand not checkout HEAD on bare repos,"Let CloneCommand not checkout HEAD on bare repos

If the clone command clones into a bare repository it should not try
to checkout HEAD in the end. For bare repos checkout is not possible.

Change-Id: I359719d421b93c9d2e962e3c0eccc2b59235c3d1
Signed-off-by: Christian Halstrick <christian.halstrick@sap.com>",0,0,0,0,0,0,0,0,0
2969,I2970e4aa8d4602cb1298f01e5b76bf0f96c492e5,https://git.eclipse.org/r/#/c/2969,3,02ab19c2e529dd895aa61696550f2a619ef16c34,a9b04c3c9813104a48d81772aa2cf6e7e867c489,1,02/04/11,02/04/11,160,Add open(File) and wrap(Repository) to Git,"Add open(File) and wrap(Repository) to Git

When a new Git instance for an exisiting git repository should be
created there are two use-cases: either the application has already a
Repository instance in hand or the application knows where the
repository resides in the filesystem. Two methods are added to
explicitly support these use-cases: wrap(Repository db) and open(File
gitDir)

Change-Id: I2970e4aa8d4602cb1298f01e5b76bf0f96c492e5
Signed-off-by: Christian Halstrick <christian.halstrick@sap.com>",0,0,0,0,0,0,0,0,0
2970,Ie0fb79671e7a741eb85651f507b8ade930bfcc20,https://git.eclipse.org/r/#/c/2970,6,7fe96d0fb1808250e8a8434e69b0fd4e54f759e0,926fdedcb2b618e43d1a903c06ab6cc87db142b1,1,11/04/11,11/04/11,719,Add NotesCommand to the JGit API,"Add NotesCommand to the JGit API

Change-Id: Ie0fb79671e7a741eb85651f507b8ade930bfcc20
Signed-off-by: Chris Aniszczyk <caniszczyk@gmail.com>",0,1,0,1,1,1,1,0,0
2982,I9598edea9f2304fe12e6f470301211b503434848,https://git.eclipse.org/r/#/c/2982,2,4b2495a6a4eca6e56999d0dc373e7bb416881174,69275a33e4af6ffe3c8c35f07259a59c42469888,1,02/04/11,02/04/11,6,Let LockFile.unlock use FileUtils.delete(),"Let LockFile.unlock use FileUtils.delete()

On windows we face problems that the file .git/index.lock
sometimes can't deleted causing JGit operations to fail. Problem is
that LockFile.unlock() simply deletes the lockfile and ignores the
return value of File.delete(). This change proposes to use
FileUtils.delete() with retry option. This method will retry the
deletion of the file at most 10 times with sleeps inbetween.

Change-Id: I9598edea9f2304fe12e6f470301211b503434848
Signed-off-by: Christian Halstrick <christian.halstrick@sap.com>",0,0,0,0,0,1,1,0,0
2993,Ie39c6696f9d3ff147ef4405cd5624f6011700ce5,https://git.eclipse.org/r/#/c/2993,1,ae9ff8dc37118626ca54bc794e21f31093a68df7,64efeb000e334fbc7e6deccec38f0b56cbdfc81d,1,02/04/11,02/04/11,53,Fix ReceivePack connectivity validation with alternates,"Fix ReceivePack connectivity validation with alternates

If a repository has an alternate object database, the alternate has
its references advertised as "".have"" lines, which permits the client
to use these as delta base candidates when generating the pack.  If
setCheckReferencedObjectsAreReachable(true) is used, these additional
have lines need to be considered in addition to the advertised refs.

Change-Id: Ie39c6696f9d3ff147ef4405cd5624f6011700ce5
Signed-off-by: Shawn O. Pearce <spearce@spearce.org>",0,0,0,0,0,0,0,0,0
2994,If9d5ed06728e813632ae96dcfb811f4860b276e8,https://git.eclipse.org/r/#/c/2994,1,e73106afc141b3b3b221f202316a4a7219c5ca00,d7a740efd169364f4a637f08c0b104140b435677,1,02/04/11,02/04/11,85,Make DeltaBaseCache per-ObjectReader,"Make DeltaBaseCache per-ObjectReader

The 'Counting objects' phase of PackWriter requires good hit rates
from the DeltaBaseCache while walking trees, the deltas need to find
their bases in the cache in order to inflate in a reasonable time.

If JGit is running in a multi-threaded server, such as Gerrit Code
Review, each thread needs its own DeltaBaseCache to prevent one thread
from evicting the other thread's relevant bases.  Move the cache to be
per-ObjectReader, lazily allocated when required by a PackFile.

Change-Id: If9d5ed06728e813632ae96dcfb811f4860b276e8
Signed-off-by: Shawn O. Pearce <spearce@spearce.org>",0,0,0,0,0,0,0,0,0
2995,I310bc2093571bf22a58106f09706cc3eb43a2453,https://git.eclipse.org/r/#/c/2995,1,92bc824531ce3e77e0fa8ba275c3b37b03ae52e0,ec35d22d150c0b785ef86de12a135c2820d5c8b3,0,03/04/11,03/04/11,2,[findbugs] Make mutable static field final,"[findbugs] Make mutable static field final

Change-Id: I310bc2093571bf22a58106f09706cc3eb43a2453
Signed-off-by: Matthias Sohn <matthias.sohn@sap.com>",0,0,0,1,0,0,1,NA,NA
2996,I947967fdc2f1d55016c95106b104c2afcc9797a1,https://git.eclipse.org/r/#/c/2996,3,ec35d22d150c0b785ef86de12a135c2820d5c8b3,2acf87a38af45a6f9ae32e615008c75293cfc910,1,06/04/11,06/04/11,213,Add CHERRY_PICK_HEAD for cherry-pick conflicts,"Add CHERRY_PICK_HEAD for cherry-pick conflicts

Add handling of CHERRY_PICK_HEAD file in .git (similar to MERGE_HEAD),
which is written in case of a conflicting cherry-pick merge.

It is used so that Repository.getRepositoryState can return the new
states CHERRY_PICKING and CHERRY_PICKING_RESOLVED. These states, as well
as CHERRY_PICK_HEAD can be used in EGit to properly show the merge tool.

Also, in case of a conflict, MERGE_MSG is written with the original
commit message and a ""Conflicts"" section appended. This way, the
cherry-picked message is not lost and can later be re-used in the commit
dialog.

Bug: 339092
Change-Id: I947967fdc2f1d55016c95106b104c2afcc9797a1
Signed-off-by: Robin Stocker <robin@nibor.org>",0,0,0,0,0,0,0,0,0
2998,Ic1ff9011813cc02950a71df587f31ed9f8415b49,https://git.eclipse.org/r/#/c/2998,2,7ba7f28ed1ecdc9db27f39e5142a8b16d4eb7218,1ecf8e34367dfe3f836f738740adbd6a7d5ece1e,1,04/04/11,04/04/11,2,[findbugs] Explicitly initialize index,"[findbugs] Explicitly initialize index

Findbugs doesn't like using not explicitly initialized field.

Change-Id: Ic1ff9011813cc02950a71df587f31ed9f8415b49
Signed-off-by: Matthias Sohn <matthias.sohn@sap.com>",0,0,0,0,0,0,0,0,0
3002,I698f78112249f9924860fc58eb7eab7afdf87eb7,https://git.eclipse.org/r/#/c/3002,1,1ecf8e34367dfe3f836f738740adbd6a7d5ece1e,d68355085e7da6695b183ed4e85fe74224bd82ec,1,04/04/11,04/04/11,2,Fix DirCache.isModified(),"Fix DirCache.isModified()

Change I61a1b45db2d60fdcc0f87373ac6fd75ac4c4a202 fixed a possible NPE
occurring for newly created repositories - but in that case a wrong
value (false = not modified) was returned.

If a current version of the index file exists (liveFile), but there is
no snapshot, this means that there have been modifications (i.e. true
has to be returned).

Change-Id: I698f78112249f9924860fc58eb7eab7afdf87eb7
Signed-off-by: Philipp Thun <philipp.thun@sap.com>",0,0,0,0,0,0,0,0,0
3008,Ie3844465329f213dee4a8868dbf434ac3ce23a08,https://git.eclipse.org/r/#/c/3008,2,d68355085e7da6695b183ed4e85fe74224bd82ec,02f5c3d8c7b25da2b01e556972fab81d689aa064,1,06/04/11,06/04/11,71,Try to checkout branch after cloning,"Try to checkout branch after cloning

When no branch was specified in the clone command, HEAD pointed to a
commit after clone. Now the clone command tries to find a branch which
points to the same commit and checks out this branch.

Bug: 339354
Change-Id: Ie3844465329f213dee4a8868dbf434ac3ce23a08
Signed-off-by: Stefan Lay <stefan.lay@sap.com>",0,0,0,0,0,0,0,0,0
3009,I21453de22e9ca61919a7c3386fcc526024742f5f,https://git.eclipse.org/r/#/c/3009,2,be5cdbc0cc199432f5d4023210782294d4d6cb89,7a65e8e67cea8b0c6396ecb46cd25fb5bed14656,1,06/04/11,06/04/11,88,Add parameters for timeout and branches to clone,"Add parameters for timeout and branches to clone

The timeout is also used in the FetchCommand called by the
CloneCommand. 

The possibility to provide a list of branches to fetch initially is a
feature offered by EGit. To implement it here is a prerequisite for
EGit to be able to use the CloneCommand.

Change-Id: I21453de22e9ca61919a7c3386fcc526024742f5f
Signed-off-by: Stefan Lay <stefan.lay@sap.com>",0,0,0,0,0,0,0,0,0
3013,If4617a05ee57054b8b1fcba36a06a641340ecc0e,https://git.eclipse.org/r/#/c/3013,2,60e9a6327c82a26fe9d63bd3ff75177ce7d0a8d3,37118d2cb51841424fb3ea8f91eedda9125d095c,0,06/04/11,06/04/11,87,Refactor reading and writing heads in Repository,"Refactor reading and writing heads in Repository

Add private methods which are used for reading and writing MERGE_HEAD
and CHERRY_PICK_HEAD files, as suggested in the comments on change
I947967fdc2f1d55016c95106b104c2afcc9797a1.

Change-Id: If4617a05ee57054b8b1fcba36a06a641340ecc0e
Signed-off-by: Robin Stocker <robin@nibor.org>",0,0,0,0,0,0,0,NA,NA
3014,I6261dc898262322924af5ca1bef841a654b0df55,https://git.eclipse.org/r/#/c/3014,1,37118d2cb51841424fb3ea8f91eedda9125d095c,6c979b07b2a3fffa4484ecafae41d33231ce5f6f,1,06/04/11,06/04/11,46,"Add ""Conflicts"" section to merge message on conflict","Add ""Conflicts"" section to merge message on conflict

The same as with cherry-pick, the commit message of a merge should
include a ""Conflicts"" section when the merge resulted in conflicts.

Change-Id: I6261dc898262322924af5ca1bef841a654b0df55
Signed-off-by: Robin Stocker <robin@nibor.org>",0,0,0,0,0,0,0,0,0
3032,I1f9053fe2af39898851b41e1e86c9320ab5594ca,https://git.eclipse.org/r/#/c/3032,1,6c979b07b2a3fffa4484ecafae41d33231ce5f6f,009276e0f09aa7aa099436b8782c2e411accb905,0,09/04/11,09/04/11,2,Update to use Tycho 0.11,"Update to use Tycho 0.11

Change-Id: I1f9053fe2af39898851b41e1e86c9320ab5594ca
Signed-off-by: Matthias Sohn <matthias.sohn@sap.com>",0,0,0,1,0,0,1,NA,NA
3034,I55110442e365fc8fe610f1c372f72a71ee6e1412,https://git.eclipse.org/r/#/c/3034,2,e6a0519c782bca28d7eb6b07c37e1bf4e8a47e56,4a28e082f7789265dff9763a218504e8a02a4a80,1,09/04/11,09/04/11,25,Create all test data in trash folder,"Create all test data in trash folder

This ensures that all test data is separated from project sources and cleaned up after the test. Previously the cloned bare test repository
was created in org.eclipse.jgit.test/ and not deleted after the test
run.

Change-Id: I55110442e365fc8fe610f1c372f72a71ee6e1412
Signed-off-by: Matthias Sohn <matthias.sohn@sap.com>",0,0,0,0,0,0,0,0,0
3044,Ie285b8819b5ea6f9892ebafc4ebbd9c6d091d1fe,https://git.eclipse.org/r/#/c/3044,7,176190cc79f30584a5b6bf64b5b782dbaf1035e6,cdbbfd8c320f109d74e67611a5df496bb931c1fe,1,11/04/11,11/04/11,110,Bug 342259 Fixed handling latin-1 encoding string,Bug 342259 Fixed handling latin-1 encoding string,0,1,0,1,0,0,1,0,0
3082,I8f2ce63e039d5baabc1533477128470696a36ced,https://git.eclipse.org/r/#/c/3082,2,cdbbfd8c320f109d74e67611a5df496bb931c1fe,3d0ae149cc7614afffae783c7acda66f777da066,0,12/04/11,12/04/11,72,Update eclipse IP log for 0.12,"Update eclipse IP log for 0.12

Change-Id: I8f2ce63e039d5baabc1533477128470696a36ced
Signed-off-by: Matthias Sohn <matthias.sohn@sap.com>",0,0,0,1,0,0,1,NA,NA
3105,I43c13eb72a44f80135c93525fce0c0280b0e64a2,https://git.eclipse.org/r/#/c/3105,4,3d0ae149cc7614afffae783c7acda66f777da066,3480170d5cc211bcae881d677b4c7dc68f1afefb,1,19/04/11,19/04/11,63,Added support to IndexDiff to return information on conflicts,"Added support to IndexDiff to return information on conflicts

Change-Id: I43c13eb72a44f80135c93525fce0c0280b0e64a2",0,1,0,1,0,0,1,0,0
3119,I22fc46dff6cc5dfd975f6e82161d265781778cde,https://git.eclipse.org/r/#/c/3119,1,ff6954b458773b668a98b3f21db512735bcea517,709dc63abde168c3e2942f6a3bf70da7ed3aad7f,0,18/04/11,18/04/11,6,Add constants for gerrit change id configuration,"Add constants for gerrit change id configuration

Change-Id: I22fc46dff6cc5dfd975f6e82161d265781778cde
Signed-off-by: Stefan Lay <stefan.lay@sap.com>
Signed-off-by: Matthias Sohn <matthias.sohn@sap.com>",0,0,0,1,0,0,1,NA,NA
3147,I14077498a04be986ded123ddbfc97da8f9bc3130,https://git.eclipse.org/r/#/c/3147,2,60e6a97a29104e909afb2b3717460334c663537b,59d52c42bd62b2c44e17ae8a3972fe6d487a8bd7,0,18/04/11,18/04/11,188,Make running static checks configurable in maven build,"Make running static checks configurable in maven build

In order to run the static checks run:

mvn -P static-checks clean install

Change-Id: I14077498a04be986ded123ddbfc97da8f9bc3130
Signed-off-by: Matthias Sohn <matthias.sohn@sap.com>",0,0,0,0,0,0,0,NA,NA
3196,I92ae117f1dcfc569e27c66c191e090a60fbe2bb6,https://git.eclipse.org/r/#/c/3196,1,7a65b01067e1b3ee12bbb12b05283a5c76c4a268,86719a04c1049114cbadb346608ba0f98d8a414f,0,21/04/11,21/04/11,13,Enabled unit tests in HttpClientTests,"Enabled unit tests in HttpClientTests

Change-Id: I92ae117f1dcfc569e27c66c191e090a60fbe2bb6
Signed-off-by: Christian Halstrick <christian.halstrick@sap.com>",0,0,0,1,0,0,1,NA,NA
3198,I95056009072b99d32f288966302d0f8188b47836,https://git.eclipse.org/r/#/c/3198,6,1349ba53c03692c0e53022cccc273abb407b3ce8,375066fe32fc4754e5c2aba90b9ddf573e5ace57,1,08/05/11,08/05/11,19,Fix getHumanishName broken for windows paths,"Fix getHumanishName broken for windows paths

Since d1718a the method getHumanishName was broken on windows since
the URIish is not normalized anymore. For a path like
""C:\gitRepositories\egit"" the whole path was returned instead of
""egit"".

Bug: 343519
Change-Id: I95056009072b99d32f288966302d0f8188b47836
Signed-off-by: Stefan Lay <stefan.lay@sap.com>",0,1,0,0,0,0,1,1,1
3208,Ibad90017e3b2435b1396b69a22520db4b1b022bb,https://git.eclipse.org/r/#/c/3208,1,bf7d93f7c47cef8d868446bf167f2226e8dc90ea,37cd2acd4f1c0710640604d50a1f2f417e9e06da,1,21/04/11,21/04/11,15,Fix sorting of names in RefDirectory,"Fix sorting of names in RefDirectory

RefDirectory did not correctly follow the contract of RefList.  The
contract says if you use add() method of RefList builder, you MUST
sort() it afterwards, and later every other method assumes that list
is properly sorted (especially the binary search in the find() and
get() methods).  Instead RefDirectory class tried to scan the refs
recursively while sorting every folder in the process before
processing and did not call sort().

For example, when scanning the contents of refs/tags project1 string
is smaller than project1-*, so it will recursively go into the folder
and add these tags first and only then will add project-* ones. This
will result in a broken list (any project1-* string is less than
project1/* one, but they all appear after them in the list), that's
why binary search will fail making loose RefList and the whole local
RefMap completely unusable.

Change-Id: Ibad90017e3b2435b1396b69a22520db4b1b022bb
Signed-off-by: Shawn O. Pearce <spearce@spearce.org>",0,0,0,0,0,0,0,0,0
3212,Ib9691b94a3e35d8faf77b61e9ec34848e4aae310,https://git.eclipse.org/r/#/c/3212,1,10008118af6a640e70bad011fc74d0f04432e8c2,8fb825c6faabfb069367e21fdc7f56e74d3bbc81,0,21/04/11,21/04/11,0,Merge branch 'stable-0.12',"Merge branch 'stable-0.12'

* stable-0.12:
  Fix sorting of names in RefDirectory
  Make running static checks configurable in maven build
  Add constants for gerrit change id configuration",0,0,0,0,0,0,0,NA,NA
3215,Id05d351f3be5207a168c43b7cc52404195c2d567,https://git.eclipse.org/r/#/c/3215,1,8fb825c6faabfb069367e21fdc7f56e74d3bbc81,4a277e826a00895c81d2f18192912b5d9098e5bc,0,21/04/11,21/04/11,0,Merge branch 'stable-0.12',"Merge branch 'stable-0.12'

* stable-0.12:
  Implement the no-done capability",0,0,0,0,0,0,0,NA,NA
3261,I299555f09768c34d5868327e574326946ee265e1,https://git.eclipse.org/r/#/c/3261,4,c3f2d7d8609d863a32e6d780625306f438e8ca98,3fa4ed4d8edf9602bc27d7ff22701f55eb304a06,0,03/05/11,03/05/11,58,Attempt to make git prefix detection more reliable,"Attempt to make git prefix detection more reliable

This fix makes sure the readPipe methods drains the stderr
pipe and close the subprocess' stdin stream before reading
the process outputs.

I never managed to repeat the reported problem myself.

Change-Id: I299555f09768c34d5868327e574326946ee265e1
Signed-off-by: Robin Rosenberg <robin.rosenberg@dewire.com>",0,1,0,0,0,0,1,NA,NA
3273,Ie93b85df76fcb5c077b93f01ed1959eaeffb3c20,https://git.eclipse.org/r/#/c/3273,4,4943551d9897b388e96e8aa98684d5868baa5d62,83f6ec3c21aa4b210a629a7aaff119b503753070,0,05/05/11,05/05/11,114,Add pom.xml to org.eclipse.jgit.ant,"Add pom.xml to org.eclipse.jgit.ant

Also-by: Ketan Padegaonkar <KetanPadegaonkar@gmail.com>
Signed-off-by: Chris Aniszczyk <caniszczyk@gmail.com>",0,1,0,0,0,0,1,NA,NA
3277,I605da8150048158d918c577ef8ca4f6edbed0133,https://git.eclipse.org/r/#/c/3277,3,3af14fc69c38a0256d5c061be7dda27f4a4605e3,4a796d44964d4a509013c9effffe240dfdd87000,1,02/05/11,02/05/11,120,Bug 321237 - Initial pass at an ant task that clones a git repository (aka git clone),"Bug 321237 - Initial pass at an ant task that clones a git repository (aka git clone)

Change-Id: I605da8150048158d918c577ef8ca4f6edbed0133",0,0,0,1,0,0,1,0,0
3278,I5c4753f7b99d0be002b32e403f5dfff9353c57b0,https://git.eclipse.org/r/#/c/3278,4,e63d0a9f8d68210e0caf612d48c0950b2b3a14ed,f7c645c5074e1790bd4e78b7360ee69551033a64,1,02/05/11,02/05/11,129,Bug 321237 - Initial pass at an ant task that checks out a branch or a path (aka git checkout),"Bug 321237 - Initial pass at an ant task that checks out a branch or a path (aka git checkout)

Change-Id: I5c4753f7b99d0be002b32e403f5dfff9353c57b0",0,1,0,1,0,0,1,1,1
3280,I89e8edfc6dd87d5bf8fd08704df2432720084330,https://git.eclipse.org/r/#/c/3280,18,60f4e0a2f27b045a69d1d289b3aecd19b183ee01,9c2af7ba852595a3f9b880abdc9e2a2710af9a97,1,03/05/11,03/05/11,238,Add path support to checkout command.,"Add path support to checkout command.

Change-Id: I89e8edfc6dd87d5bf8fd08704df2432720084330
Signed-off-by: Kevin Sawicki <kevin@github.com>",0,1,0,1,0,1,1,1,1
3294,Ia2ab4f8dc95020f2914ff01c2bf3b1bc62a9d45d,https://git.eclipse.org/r/#/c/3294,2,0c2859a82c0d60a6a9dfd6056aa07c0215abdd2d,400e5186a8ae73452c126a7f75fbd450e293b485,1,12/05/11,12/05/11,88,Implemented merge for parallel delete/modification,"Implemented merge for parallel delete/modification

Duplicates cgit behaviour for merging the case where
OURS is deleted and THEIRS is modified as well as
OURS is modified and THEIRS id deleted.",0,0,0,0,0,0,0,1,1
3295,Ife9f2652685220bcfddc1f9820423acdcd5acfdc,https://git.eclipse.org/r/#/c/3295,3,8382f8e076238a7b093a9b7ad3d980d00021a231,5999df354b269c7c6cca553e5b0ce754920c1a98,1,05/05/11,05/05/11,98,Conflicting files from IndexDiff should not show up in other categories,"Conflicting files from IndexDiff should not show up in other categories

Before this change any files in the conflicting set would
also be listed in the the other IndexDiff Sets which is
confusing.  With this change a conflicting file will not
be included in any of the other sets.",0,0,0,0,0,0,0,1,1
3303,I2c5ae1024ea7bb57adf27072da6acc9643018eda,https://git.eclipse.org/r/#/c/3303,3,752c113929da57a28701d58e41147ef5df6487d8,37cc43b8212798405d77d84bb3c1bb75896ac0a7,1,05/05/11,05/05/11,6,Ignored submodule commits during checkout,"Ignored submodule commits during checkout

Submodules are supposed to be handled by separate operations, so
we should ignore them on checkout, just like C Git does.

This fix does not add submodule support. We just try harder
to ignore them.

Bug: 343566
Change-Id: I2c5ae1024ea7bb57adf27072da6acc9643018eda
Signed-off-by: Robin Rosenberg <robin.rosenberg@dewire.com>",0,0,0,0,0,0,0,0,0
3306,I06b94e0b42b20ecf51f86845e47d49913f3513c4,https://git.eclipse.org/r/#/c/3306,3,1f39bc091b5b1823bfdb852f2cf459fb720a49e9,1f34fd96e0894ab8d88e59d8ca0a4653275eae80,1,02/05/11,02/05/11,156,Add org.eclipse.jgit.ant,"Add org.eclipse.jgit.ant

Adds the initial project and a GitInitTask.

Bug: 321237
Signed-off-by: Chris Aniszczyk <caniszczyk@gmail.com>",0,0,0,0,0,0,0,0,0
3310,Ia6e58b466fa3ef7ddd61b40f2ad44141fe8786c4,https://git.eclipse.org/r/#/c/3310,1,70de55e03b92f75b4e627598ddbd455dcd0f8405,5eeaa86117a7019328a5f0bd819d0d16559d42dd,0,02/05/11,02/05/11,398,JGit 0.12.1,"JGit 0.12.1

Change-Id: Ia6e58b466fa3ef7ddd61b40f2ad44141fe8786c4
Signed-off-by: Matthias Sohn <matthias.sohn@sap.com>",0,0,0,1,0,0,1,NA,NA
3312,If41e5a9ab37533cce10ea1c1925d7bd3ece586ea,https://git.eclipse.org/r/#/c/3312,2,a66042ee84b57641ac0424e5d36b25fc017f68fb,533c4975db411f500570bb3b54ac957ce29bdb30,1,02/05/11,02/05/11,14,Add better javadoc to the git-init ant task.,"Add better javadoc to the git-init ant task.

Change-Id: If41e5a9ab37533cce10ea1c1925d7bd3ece586ea",0,0,0,1,0,0,1,0,0
3313,Ia935720fc9c09b427abb84be038c4dc74610850c,https://git.eclipse.org/r/#/c/3313,2,6e603e927ba47f6cd930e335c23e1bc778dc798f,4132855c573ec7f6f224f65b4185b9be2abc3ebc,1,03/05/11,03/05/11,11,Add better exception handling for the git-init ant task.,"Add better exception handling for the git-init ant task.

Change-Id: Ia935720fc9c09b427abb84be038c4dc74610850c",0,0,0,1,0,0,1,0,0
3316,Id085a8954f1f5999d2adf42ce6e89fd01714863b,https://git.eclipse.org/r/#/c/3316,1,8934030ca764cc10d0c6543da07cc67318dbc1c1,e92dc255f3ed750e2fd265bb5744fc74f3b57f98,0,03/05/11,03/05/11,0,Merge branch 'stable-0.12',"Merge branch 'stable-0.12'

* stable-0.12:
  JGit 0.12.1",0,0,0,0,0,0,0,NA,NA
3317,I70fe2671321efb5c3d271121ce00299533d1b388,https://git.eclipse.org/r/#/c/3317,1,e92dc255f3ed750e2fd265bb5744fc74f3b57f98,c72a7a95886f4d44c187c22b398306966aee3632,0,03/05/11,03/05/11,402,Qualify post-0.12 builds,"Qualify post-0.12 builds

Change-Id: I70fe2671321efb5c3d271121ce00299533d1b388
Signed-off-by: Matthias Sohn <matthias.sohn@sap.com>",0,0,0,1,0,0,1,NA,NA
3328,I4f1c3cd6b2cf543be213f061afb94223062dde51,https://git.eclipse.org/r/#/c/3328,1,ddc27fb477a23e283fdf87ce2839337f7540a75d,043add463a6528ae14843d3e9b20a615b6f98525,1,04/05/11,04/05/11,3,Present reset in the reflog like C Git does nowadays,"Present reset in the reflog like C Git does nowadays

Confirmed for v1.7.4.1

Change-Id: I4f1c3cd6b2cf543be213f061afb94223062dde51
Signed-off-by: Robin Rosenberg <robin.rosenberg@dewire.com>",0,0,0,0,0,0,0,0,0
3335,I42592378dc42fbe308ef30a2923786c690f668a9,https://git.eclipse.org/r/#/c/3335,1,043add463a6528ae14843d3e9b20a615b6f98525,b8bf80b1f14e05e1381353bb750579dd7ee68d28,1,05/05/11,05/05/11,9,Fix error handling in RepositoryFilter,"Fix error handling in RepositoryFilter

The filter did not correctly match smart HTTP client requests,
so it always fell back on HTTP status codes for errors. This
usually causes a smart client to retry a dumb request, which
is not what the server wants.

Change-Id: I42592378dc42fbe308ef30a2923786c690f668a9
Signed-off-by: Shawn O. Pearce <spearce@spearce.org>",0,0,0,0,0,0,0,0,0
3336,If203ce5aa1b4e5d4d7982deb621b710e71f4ee10,https://git.eclipse.org/r/#/c/3336,8,eccf3632e70bd399886b4b7252207ff720a4fafa,03f8fbc1ed604874d7fc8d5cdc9893b701302c16,1,18/05/11,18/05/11,117,Implement rebase fast forward for upstream branches with merge commits,"Implement rebase fast forward for upstream branches with merge commits

Change Ib9898fe0f982fa08e41f1dca9452c43de715fdb6 added support for
the 'cherry-pick' fast forward case where the upstream commit history
does not include any merge commits.  This change adds support for the
case where merge commits exist and the local branch has no changes.

Bug: 344779
Change-Id: If203ce5aa1b4e5d4d7982deb621b710e71f4ee10",0,1,0,0,0,0,1,0,0
3337,Idd106f2700740db07f41f6d31f50d6b2a30fa732,https://git.eclipse.org/r/#/c/3337,3,7cb6e67061c66436754fe9714268013650446137,b6f1e194d88064e99f263bcae8312f88f952632f,0,05/05/11,05/05/11,3,Add org.eclipse.jgit.ant to parent pom.xml,"Add org.eclipse.jgit.ant to parent pom.xml

Bug: 321237
Signed-off-by: Chris Aniszczyk <caniszczyk@gmail.com>",0,0,0,0,0,0,0,NA,NA
3338,I488f97190e4c1711c23a7a3cbd64f8b13a87bbac,https://git.eclipse.org/r/#/c/3338,2,594dad6f478f16fd67448885c811a176d72e0480,d6ae167464438be7f2d7c50b38f972ed9f5b1ddc,1,05/05/11,05/05/11,12,"Fix ""into"" part of merge message for HEAD","Fix ""into"" part of merge message for HEAD

Merging into a non-master branch would result in the following message:

  Merge branch 'a' into HEAD

Now the merge message is correct:

  Merge branch 'a' into b

Change-Id: I488f97190e4c1711c23a7a3cbd64f8b13a87bbac",0,0,0,0,0,0,0,0,0
3340,I953720b88d34e74509b115dcd2c1eb48d3587484,https://git.eclipse.org/r/#/c/3340,1,7afee0ad9267e3cfc7b0b38bb4d30707a54f83f8,c4204acec17eef39669d4f69fc8e114e447950d7,0,05/05/11,05/05/11,6,Update IP log to include Ant 1.8.2 (CQ 5111),"Update IP log to include Ant 1.8.2 (CQ 5111)

Change-Id: I953720b88d34e74509b115dcd2c1eb48d3587484
Signed-off-by: Shawn O. Pearce <spearce@spearce.org>",0,0,0,1,0,0,1,NA,NA
3341,I364d0725c46c5a19f7443642a40c89ba4d3fdd29,https://git.eclipse.org/r/#/c/3341,4,c4204acec17eef39669d4f69fc8e114e447950d7,7c0365e1672d282d830caa55d9ef2c0738384a37,1,25/05/11,25/05/11,645,Remove DHT per-process ChunkCache,"Remove DHT per-process ChunkCache

Performance testing has indicated the per-process ChunkCache isn't
very effective for the DHT storage implementation.  If a server is
using the DHT storage backend, it is most likely part of a larger
cluster where requests are distributed in a round-robin fashion
between the member servers.

In such a scenario there is insufficient data locality between
requests to get a good hit ratio on the per-process ChunkCache.  A low
hit ratio means the cache is actually hurting performance by eating up
memory that could otherwise be used for transient request data, and
increasing pressure on the GC when it needs to find free space.

Remove all of the ChunkCache code.  Installations that want to cache
(to reduce database usage) should wrap their Database with a
CacheDatabase and use a network based CacheServer.

I left the ChunkCache in the original DHT storage commit because I
wanted to document in the history of the project that its probably
worth *not* having, but leave open a door for someone to revert this
change if they find otherwise at a later date.

Change-Id: I364d0725c46c5a19f7443642a40c89ba4d3fdd29
Signed-off-by: Shawn O. Pearce <spearce@spearce.org>",0,1,0,0,1,0,1,-2,0
3342,I55900b335f2056093e0a32086afb429a4bc183d3,https://git.eclipse.org/r/#/c/3342,2,f96f221605f58785ec85f66a5195268d6e87827c,31f67163caa99746d03f5e9987ff70737496820f,0,05/05/11,05/05/11,4,Correct tabs in top-level pom.xml,"Correct tabs in top-level pom.xml

Change-Id: I55900b335f2056093e0a32086afb429a4bc183d3
Signed-off-by: Shawn O. Pearce <spearce@spearce.org>",0,0,0,1,0,0,1,NA,NA
3345,I53e11e82c186b9cf0d7b368e0276519e6a0b2893,https://git.eclipse.org/r/#/c/3345,7,2b3392261a0d26bb1825d7a552a7426e08ca946d,880a72f1c2267d60a99a42e9771c0b57cd634fac,1,25/05/11,25/05/11,14619,DRAFT Replace TinyProtobuf with Google Protocol Buffers,"DRAFT Replace TinyProtobuf with Google Protocol Buffers

Change-Id: I53e11e82c186b9cf0d7b368e0276519e6a0b2893",0,1,0,1,1,0,1,39,1
3346,Ic651e8e09143e15ed459461b50b2222e13da56c4,https://git.eclipse.org/r/#/c/3346,4,d216f8a1dc94c21a9325dfdd6a06506e8c11397d,c05d1468879b64b0a2689bbd6244681914215e79,1,19/05/11,19/05/11,200,Add LsRemoteCommand to JGit API,"Add LsRemoteCommand to JGit API

Bug: 343801
Also-by: Chris Aniszczyk <caniszczyk@gmail.com>
Signed-off-by: Chris Aniszczyk <caniszczyk@gmail.com>",0,1,0,0,0,0,1,1,1
3356,I1f0dd9f8062f2148a7c1341c9122202e082ad19d,https://git.eclipse.org/r/#/c/3356,6,72cec0b750c4dff0a35d46517c766f77ece7a0f6,a6e2dce12be4330c7a1ef852b6df75e503b8021e,1,15/05/11,15/05/11,68,org.eclipse.jgit.pgm.Diff gives strange result,"org.eclipse.jgit.pgm.Diff gives strange result

Change-Id: I1f0dd9f8062f2148a7c1341c9122202e082ad19d
bug: 344975",0,1,0,1,0,0,1,0,0
3361,I78b307177c68c578e10101a0ee7b6306880a08f7,https://git.eclipse.org/r/#/c/3361,4,8085c17c874768773cc0b01600dfa231bb272d16,847b684ddbab82d752e92673022d070b82983996,1,09/05/11,09/05/11,292,Formatter for relative dates,"Formatter for relative dates

Change-Id: I78b307177c68c578e10101a0ee7b6306880a08f7
Signed-off-by: Matthias Sohn <matthias.sohn@sap.com>",0,1,0,1,0,0,1,1,1
3365,I819e2ca88577382b54d38b7a1247e94a5127ef9e,https://git.eclipse.org/r/#/c/3365,1,771011d18b10accc74bf9f5866ec1a0db197538c,12b36faa87f2aa64ea6c728787eb1a6add51e26d,1,09/05/11,09/05/11,2,Remove unused serialVersionUID from non-serializable classes.,"Remove unused serialVersionUID from non-serializable classes.

Change-Id: I819e2ca88577382b54d38b7a1247e94a5127ef9e
Signed-off-by: Kevin Sawicki <kevin@github.com>",0,0,0,1,0,1,1,0,0
3374,I9e54f3e7e96892b64546270cbdf0308046e1d40c,https://git.eclipse.org/r/#/c/3374,3,46e988eb2b0ef3cc840db1281dabe5c93221eff8,f0304f8dec7b55fed09a0cc393c47596b8e70cbe,0,12/05/11,12/05/11,12,Update tycho version to 0.12,"Update tycho version to 0.12

Signed-off-by: Chris Aniszczyk <caniszczyk@gmail.com>",0,0,0,0,0,0,0,NA,NA
3376,I0ea6d9c8d93c9210ab65452d0d4b5fd195f41b0b,https://git.eclipse.org/r/#/c/3376,1,55dfefd16f67d24aa78c9d5ac842a25185aaf286,c8c2636e92b86b9a7b4fa5d89eab06853e5c8475,0,11/05/11,11/05/11,15,Update findbugs-maven-plugin to the official 2.3.2 release,"Update findbugs-maven-plugin to the official 2.3.2 release

Signed-off-by: Chris Aniszczyk <caniszczyk@gmail.com>",0,0,0,0,0,0,0,NA,NA
3409,I52acb81c1729b49c9fb3e7a477c6448d8e55c317,https://git.eclipse.org/r/#/c/3409,3,b05e15d302500f2f1582bef3880906e7e20a434c,00b93d4358a148deeb1ca4174a450705d9f2c121,1,19/05/11,19/05/11,54,Create a MergeResult for deleted/modified files during merge,"Create a MergeResult for deleted/modified files during merge

Change Ia2ab4f8dc95020f2914ff01c2bf3b1bc62a9d45d added merge
support for when OURS or THEIRS was simultaneously deleted
and modified.  That changeset however did not add create an
entry in the conflicts table so clients would see a CONFLICTING
result but getConflicts() would return null.

This change creates a MergeResult for the conflicting file.

Bug: 345684
Change-Id: I52acb81c1729b49c9fb3e7a477c6448d8e55c317",0,0,0,0,0,0,0,0,0
3410,Ie6a837260c19d808f0e99173f570ff96dd22acd3,https://git.eclipse.org/r/#/c/3410,3,d5380e952811bfc8723604f92242fe0ef53c8ea0,d07a92aef19152b43f0ac2f91630e2b5096842db,1,17/05/11,17/05/11,51,Optimize MergeAlgorithm if ours or theirs is empty,"Optimize MergeAlgorithm if ours or theirs is empty

Previously when merging two contents with a non-empty base and one of
the contents was empty (size == 0) and the other was modified there
was a potentially expensive calculation until we finally always come
to the same result -> the complete non-deleted content should collide
with the empty content.

This proposal adds an optimization to detect empty input content and
to produce the appropriate result immediatly.

Change-Id: Ie6a837260c19d808f0e99173f570ff96dd22acd3
Signed-off-by: Christian Halstrick <christian.halstrick@sap.com>",0,0,0,0,0,1,1,0,0
3411,I4c254c122277b127e7b039c0d1c7f7a0d691530d,https://git.eclipse.org/r/#/c/3411,1,21570868aa14a6d84ecfbf007cb9d69f3bfb73a6,73594b01f212cc9950acde28c5c2a5473b5abc90,1,13/05/11,13/05/11,9,"RevertCommand: Add ""."" after reverted commit id","RevertCommand: Add ""."" after reverted commit id

This makes the message look the same as in C Git (the "".""):

  This reverts commit <sha1>.

Change-Id: I4c254c122277b127e7b039c0d1c7f7a0d691530d
Signed-off-by: Robin Stocker <robin@nibor.org>",0,0,0,0,0,0,0,0,0
3413,Ic22eab4948fbeaa26f6b892b5061bb174496d1ca,https://git.eclipse.org/r/#/c/3413,1,73594b01f212cc9950acde28c5c2a5473b5abc90,9dbfcbec5347ad2577785e8816c3ae5bf575f9ae,1,13/05/11,13/05/11,3,Add RebaseResult.FAST_FORWARD_RESULT,"Add RebaseResult.FAST_FORWARD_RESULT

Signed-off-by: Chris Aniszczyk <caniszczyk@gmail.com>",0,0,0,0,0,0,0,0,0
3414,I44817ccf4bf226ed3e4ce6fb2d923e88788221dd,https://git.eclipse.org/r/#/c/3414,2,1575557f913696afc4e721fafb005e61b7926048,7d39bacf6b8009a39700ce17131c327f2c402057,0,13/05/11,13/05/11,33,Add test for reflog part of ResetCommand,"Add test for reflog part of ResetCommand

The reflog message fix was done in
I4f1c3cd6b2cf543be213f061afb94223062dde51

Change-Id: I44817ccf4bf226ed3e4ce6fb2d923e88788221dd
Signed-off-by: Robin Rosenberg <robin.rosenberg@dewire.com>",0,0,0,0,0,0,0,NA,NA
3433,I133b9dd3e9a9c3c749547a884df3ce371929f38e,https://git.eclipse.org/r/#/c/3433,2,4ac5b7f33020fc0c25ae58f48845e625b015e995,e0c7daac05866bc358ba52f87ada60c17d1a2643,0,16/05/11,16/05/11,8,New getConflicting() method in Status Command API (porcelain API),"New getConflicting() method in Status Command API (porcelain API)

Bug: 345899
Change-Id: I133b9dd3e9a9c3c749547a884df3ce371929f38e
Signed-off-by: Piotr Janik <janikpiotrek@gmail.com>",0,0,0,0,0,0,0,NA,NA
3435,I32b9e24f1e2980258b1b39dd1807919ab1c5f9b2,https://git.eclipse.org/r/#/c/3435,1,c9407e5afdf2e5707bd9a023276b3bd2c870f1df,d0e60b9fa4f9af9a08816314a6651619ba17a46f,1,17/05/11,17/05/11,12,Fix diff bug on inserted line,"Fix diff bug on inserted line

For the following patch on the linux 2.6.32 tag:
--- a/kernel/sched_fair.c
+++ b/kernel/sched_fair.c
@@ -685,6 +685,7 @@ static void enqueue_sleeper(struct cfs_rq *cfs_rq, struct sc

 static void check_spread(struct cfs_rq *cfs_rq, struct sched_entity *se)
 {
+#if 0
 #ifdef CONFIG_SCHED_DEBUG
        s64 d = se->vruntime - cfs_rq->min_vruntime;

@@ -694,6 +695,7 @@ static void check_spread(struct cfs_rq *cfs_rq, struct
sched
        if (d > 3*sysctl_sched_latency)
                schedstat_inc(cfs_rq, nr_spread_over);
 #endif
+#endif
 }

 static void

JGit produced an incorrect diff, attempting to add a new ""}"" instead
of the new ""#endif"" at the end of the hunk. This was caused by a prior
fix for bug 328895 where we wanted to ""slide"" a diff down in the file
when adding a new method/function and want to show the closing curly
brace as being added after the new method, rather than added onto the
end of the prior function or method just before the insertion point.

Bug: 345956
Change-Id: I32b9e24f1e2980258b1b39dd1807919ab1c5f9b2
Signed-off-by: Shawn O. Pearce <spearce@spearce.org>",0,0,0,0,0,0,0,0,0
3453,Id7cbce47131b459e632ddc2c9a94628c7d0b75cd,https://git.eclipse.org/r/#/c/3453,3,03dea954290bc1d1fb064ed7365c167d0e57c45b,adadf9e85f0ff6e1fbffed4dfdb5124ae63a8f17,1,19/05/11,19/05/11,162,[RFC] implement reset with paths,"[RFC] implement reset with paths

Bug: 338701 
Change-Id: Id7cbce47131b459e632ddc2c9a94628c7d0b75cd",0,0,0,0,0,0,0,0,0
3455,Ib897e1b4962162da9670164479a844aeea7dfcd1,https://git.eclipse.org/r/#/c/3455,3,9e2028f15df5b0112a62ac2a7567dca98c5ea7e4,909cab929f736ea9a42a1fc7ba4a3de974ea8333,1,18/05/11,18/05/11,60,Fix path filtering in LogCommand and add test covering this functionality,"Fix path filtering in LogCommand and add test covering this
functionality

Change-Id: Ib897e1b4962162da9670164479a844aeea7dfcd1
Signed-off-by: Piotr Janik <janikpiotrek@gmail.com>",0,0,0,1,0,0,1,0,0
3456,I1628984479d93665bf4987d6a4ff8e67ad73eb36,https://git.eclipse.org/r/#/c/3456,2,db4295e68c77c85f07ef237e26c356f66705f045,95e08eafd3779c8abca5dee1a48f6ede88ed8b2b,1,18/05/11,18/05/11,171,Add tests for change If203ce5,"Add tests for change If203ce5

Bug: 344779
Signed-off-by: Chris Aniszczyk <caniszczyk@gmail.com>",0,0,0,0,0,0,0,0,0
3465,I9bfb1298864294b8ce29b91660f1cf8316e5f620,https://git.eclipse.org/r/#/c/3465,2,95e08eafd3779c8abca5dee1a48f6ede88ed8b2b,8156fcb2d06b1525e5032277af631f77dc38c03f,0,19/05/11,19/05/11,67,Initial commit of an empty project that will contain unit tests for the ant task.,"Initial commit of an empty project that will contain unit tests for the ant task.

Change-Id: I9bfb1298864294b8ce29b91660f1cf8316e5f620",0,0,0,1,0,0,1,NA,NA
3466,Id1c42dc9843f62c581b9904b02150de53cf7777c,https://git.eclipse.org/r/#/c/3466,2,66edae89f85be0ac28db2263c462cfa243a42606,27c8997db9019ed8f28879975c0ad3dbb4104457,1,19/05/11,19/05/11,36,Fix an issue where URIish throws a NPE instead of a URISyntaxException when parsing an empty URI.,"Fix an issue where URIish throws a NPE instead of a URISyntaxException when parsing an empty URI.

Change-Id: Id1c42dc9843f62c581b9904b02150de53cf7777c",0,0,0,1,0,0,1,0,0
3467,I3f116f37045e83aba5c80d45b987ab075502dcc6,https://git.eclipse.org/r/#/c/3467,3,0abfc57101da8ed650ec4e7b22963020c6b12612,f6e2a472be65c88c8e0bb43d31d5878d35a7a338,0,31/05/11,31/05/11,71,Fix a complicated multi level nested if block structure to use a single level with multiple returns.,"Fix a complicated multi level nested if block structure to use a single level with multiple returns.

Change-Id: I3f116f37045e83aba5c80d45b987ab075502dcc6",0,0,0,1,0,0,1,NA,NA
3468,Iec8cd032d8d659a896d909f9094f76b7d35147e6,https://git.eclipse.org/r/#/c/3468,2,04cd2a6902c06571bd69cc7649835c181ae6d4c3,010a57f883599c137eadff2b23ff7785caa1e2ce,1,19/05/11,19/05/11,149,Add unit-tests for the git-clone ant task.,"Add unit-tests for the git-clone ant task.

Change-Id: Iec8cd032d8d659a896d909f9094f76b7d35147e6",0,0,0,1,0,0,1,0,0
3471,I3fd0b509e03cbd5f2bf3bd6377287dab14e8728e,https://git.eclipse.org/r/#/c/3471,3,010a57f883599c137eadff2b23ff7785caa1e2ce,3a281ead86d9f3e45d5814297806debd5a2c2829,0,19/05/11,19/05/11,103,Add org.eclipse.jgit.ant.test to parent pom.xml,"Add org.eclipse.jgit.ant.test to parent pom.xml

Signed-off-by: Chris Aniszczyk <caniszczyk@gmail.com>",0,0,0,0,0,0,0,NA,NA
3474,I4a91d93428bbf7f74033fcea5823266fa52d7a0c,https://git.eclipse.org/r/#/c/3474,3,a3c78ebe6a51ee8842a0fe9c7f7b51349811192a,a72d31559bae61c15e5cf7f7cb0853b3c9db6c95,0,19/05/11,19/05/11,160,Add LsRemoteCommandTest,"Add LsRemoteCommandTest

Bug: 343801
Signed-off-by: Chris Aniszczyk <caniszczyk@gmail.com",1,0,0,0,0,0,1,NA,NA
3479,Ia9a3c9f4728e13d1e62f530b1d843d09afb4eb42,https://git.eclipse.org/r/#/c/3479,2,9d855d0985e20f103c74d913dea2397a607fa4aa,168b256fed202fd88e1fd76acc1c0fb41f858702,1,23/05/11,23/05/11,157,Add an ant task wrapper for git-add.,"Add an ant task wrapper for git-add.

Change-Id: Ia9a3c9f4728e13d1e62f530b1d843d09afb4eb42",0,0,0,1,0,0,1,1,1
3481,I03b9a137af097ec69c4c5e2eaa512d2bdd7fe080,https://git.eclipse.org/r/#/c/3481,3,d1e8ac8659310c665c22f5a25b2d445d6688e7cf,fa3203ac9a8a226e57bc7af0706867424c2bf662,1,30/05/11,30/05/11,147,RFC: Let RefDirectory use FileSnapShot to handle fast updates,"RFC: Let RefDirectory use FileSnapShot to handle fast updates

Since this change may affect performance and memory consumption on every
access to a loose ref I explicitly made it a RFC to collect opinions. 

Previously RefDirectory.scanRef() was not detecting an update of a
loose ref when the update didn't changed the modification time of 
the backing file. RefDirectory cached loose refs and the way to detect
outdated cache entries was to compare lastmodification timestamp on the
file representing the ref. If two updates to the same ref happen faster
than the filesystem-timer granularity (for linux this is 2 seconds)
there is the possiblity that we don't detect the update.

Because of this bug EGit's PushOperationTest only works with 2 second
sleeps inside.

This change let RefDirectory use FileSnapshot to detect such situations.
FileSnapshot helps to remember when a file was last read from disk and
therefore enables to decide when to load a file from disk although
modification time has not changed.

Change-Id: I03b9a137af097ec69c4c5e2eaa512d2bdd7fe080
Signed-off-by: Christian Halstrick <christian.halstrick@sap.com>",0,0,0,0,0,0,0,0,0
3484,I2650c77bc4af2d8f401bbcce5384b44ff2a64ba2,https://git.eclipse.org/r/#/c/3484,6,4a29d5361dd7c711907d2b89c6db6df008931e3b,fd711aa6b4f345c2a3809f53322ef48e9b5d196e,1,24/05/11,24/05/11,123,First submission of CleanCommand,"First submission of CleanCommand

jGit implementation of CleanCommand

Conflicts:

	org.eclipse.jgit/src/org/eclipse/jgit/api/CleanCommand.java",0,1,0,0,0,0,1,0,0
3486,I421d15ea905e23df543082786786841cbe3ef10d,https://git.eclipse.org/r/#/c/3486,4,0284916cc945b4f3260daba357510abe1c6470c5,9d32e2cc31fefff856911690891c5dbf23d5ecbe,1,24/05/11,24/05/11,313,Add a DiffFormatter which calculates a patch-id,"Add a DiffFormatter which calculates a patch-id

Adds a class which can be used to calculates a SHA1 of the diff
associated with a patch, similar to git patch-id. 

In this version whitespace is not ignored.

Change-Id: I421d15ea905e23df543082786786841cbe3ef10d
Signed-off-by: Stefan Lay <stefan.lay@sap.com>",0,1,0,0,0,0,1,0,0
3499,If8b758fde73ed5a452a99a195a844825a03bae1a,https://git.eclipse.org/r/#/c/3499,2,6752ad54ba7ba3601ba5c84a276b4fad46083e2d,65da30310961c8532ca5400b8c5a31c442e6222f,1,23/05/11,23/05/11,52,Remove rebase temporary files on checkout failure,"Remove rebase temporary files on checkout failure

A checkout conflict during rebase setup should leave the repository
in SAFE state which means ensuring that the rebase temporary files
need to be removed.

Bug: 346813
Change-Id: If8b758fde73ed5a452a99a195a844825a03bae1a",0,0,0,0,0,0,0,0,0
3504,I224190bbb41c7cbea38388d0148ecc6dc68f3a14,https://git.eclipse.org/r/#/c/3504,3,3117bd9ee2daa885ee7d69ae425982653a4304bf,49e071f304cb17ea175d25805bab3621ffc316a7,1,23/05/11,23/05/11,21,Add notes support to Repository.shortenRefName,"Add notes support to Repository.shortenRefName

Change-Id: I224190bbb41c7cbea38388d0148ecc6dc68f3a14
Signed-off-by: Kevin Sawicki <kevin@github.com>",0,0,0,1,0,1,1,0,0
3517,I0a836451ceb668f943b1f353dc65420157810b23,https://git.eclipse.org/r/#/c/3517,5,17905afaf6ee85f72b6d9daad2edb739e82b9d68,029dc8b63b2fc7894bde95cc0ff47bf5d4d6c9e1,1,24/05/11,24/05/11,127,JUnit test for CleanCommand,JUnit test for CleanCommand,0,1,0,1,0,0,1,0,0
3518,If9e9919a5f92d13cf038dc470c21ee5967322dac,https://git.eclipse.org/r/#/c/3518,8,a70705c91a90a2ad21393f0c22e9dde536f1d3e0,d2a5bc26c934a4305dec14e4e9c145d537d0d0b1,1,06/07/11,06/07/11,48,Cloning should fail when destination directory exists and is not empty,"Cloning should fail when destination directory exists and is not empty

In msysgit, when I try to clone into a folder that already
contains a cloned repository it will fail with a message ""fatal:
destination path 'folder' already exists and is not an empty
directory."". I would expect JGit to throw an exception with a similar
message in that case.

Change-Id: If9e9919a5f92d13cf038dc470c21ee5967322dac",0,1,0,0,0,0,1,1,1
3521,I11cfff2a96ef962e57f29925a3eef41bdbf9f9bb,https://git.eclipse.org/r/#/c/3521,3,bb84442f41390dfdbb1ac4bbbd564ac2486a5917,89b83966a2dcec271631462c27bad08f0c812761,1,25/05/11,25/05/11,602,DHT: Add sequence RefData,"DHT: Add sequence RefData

RefData now uses a sequence number as part of the field, ensuring
that updates always increase the sequence number by one whenever
a reference is modified.

Attaching a sequence number to RefData will help with storing
reference log entries during updates. As the sequence number should
be unique within the reference name space, log entries can be keyed
by the sequence number and remain unique.  Making this work over
reference delete-create cycles will require an additional RefTable
API to return the oldest sequence number previously used in the
reference log to seed the recreated reference.

Change-Id: I11cfff2a96ef962e57f29925a3eef41bdbf9f9bb
Signed-off-by: Shawn O. Pearce <spearce@spearce.org>",0,0,0,0,1,0,1,-1,0
3533,I300cf2b5758c7da9c18494325f2f38bb3744e459,https://git.eclipse.org/r/#/c/3533,1,6e5ce54a343e6cace78799e91625e06011435896,acaf3477295f8f3163b14e264fbbaf646dd24cff,0,25/05/11,25/05/11,6,Update Eclipse IP log for 1.0,"Update Eclipse IP log for 1.0

CQ ""4876"" is jgit's CQ for usage of protobuf, CQ ""5135""
is the corresponding Orbit CQ.

Change-Id: I300cf2b5758c7da9c18494325f2f38bb3744e459
Signed-off-by: Matthias Sohn <matthias.sohn@sap.com>",0,0,0,0,0,0,0,NA,NA
3553,I7b81a7e34a771951e2e7b789b080b2bfb8656e5c,https://git.eclipse.org/r/#/c/3553,4,964b92d2adf8e908a2414592eb49e2103f109995,86558875088df1dd76536dbed27a2f8b71213f57,1,31/05/11,31/05/11,35,mend,mend,0,1,0,1,0,0,1,0,0
3556,Ib11a077adfbd525253e425d327f2e2c2380804c7,https://git.eclipse.org/r/#/c/3556,2,9ef507ddcc7b589802bf2a3fbe08faff61b66f33,5c28f9462a7d84869fc759424a332868f5e7a652,1,17/06/11,17/06/11,26,Report progress while updating references,"Report progress while updating references

If a fetch or push needs to apply more than a few references
to the local repository it may take more than 0.25 seconds to
process all of the updates.  This is especially true in the DHT
storage system during an initial push of a project with many tags.
The backend database may need to use a transaction to ensure each
tag reference creation is unique, and there may be large delays
caused by these transactions.

Change-Id: Ib11a077adfbd525253e425d327f2e2c2380804c7
Signed-off-by: Shawn O. Pearce <spearce@spearce.org>",0,0,0,0,0,0,0,0,0
3558,Ie393fb8bb55d2b79ab1276adf71c781c1807f9fe,https://git.eclipse.org/r/#/c/3558,2,8d59f5c6a18dce099bfbf8d59a3b2978017dea0d,fbf3642b66928bdfdc268b9cef61e3dd0b56d528,1,17/06/11,17/06/11,224,Push errors back over sideband when possible,"Push errors back over sideband when possible

If an internal exception occurs while packing and the request
needs to abort, the HTTP response might already be committed due
to progress message having already been delivered to the client.
This prevents UploadPackServlet from resetting the response and
sending back an HTTP 500 response.

Try to catch all exceptions and report internal errors over the
sideband stream or as an ERR command during the initial ACK/NAK
negotiation phase. This allows JGit to transmit an error message
that the user will receive on their console without needing to
worry about resetting the (already gone) HTTP response.

Change-Id: Ie393fb8bb55d2b79ab1276adf71c781c1807f9fe
Signed-off-by: Shawn O. Pearce <spearce@spearce.org>",0,0,0,0,0,0,0,2,1
3569,Ie1bd172ad9de586c3b60f0ee4a77a8f047364882,https://git.eclipse.org/r/#/c/3569,8,ccfbfd2613a27dfc66303481d40c9edb3b61b084,60f18a2e2c1f8ac2684c7f2c050a7c2e5bbc72b9,1,13/08/11,13/08/11,371,blame: Implement blame on the command line,"blame: Implement blame on the command line

Change-Id: Ie1bd172ad9de586c3b60f0ee4a77a8f047364882
Signed-off-by: Shawn O. Pearce <spearce@spearce.org>",0,1,0,1,0,0,1,3,1
3578,I16cf5645558680029682f898386b061796948237,https://git.eclipse.org/r/#/c/3578,1,1446c5e17ac7104015a0299bf6916330c9492609,150d6e1f5b7e5ad827466478b61bd84578c7e834,1,31/05/11,31/05/11,9,Fix GitConstructionTest teardown,"Fix GitConstructionTest teardown

The teardown faile on Windows because the repos were not closed.

Change-Id: I16cf5645558680029682f898386b061796948237
Signed-off-by: Robin Rosenberg <robin.rosenberg@dewire.com>",0,0,0,0,0,0,0,0,0
3581,Ifb6a59e87e8b058a398c38cdfb9d648f0bad4bf8,https://git.eclipse.org/r/#/c/3581,1,6d92960ccbb66798b2826e838cf9afa0a59fbe02,9057230f025c3bae0d051f5626803a1093cb6961,1,31/05/11,31/05/11,47,Fix usage of FileSnapshot in RefDirectory,"Fix usage of FileSnapshot in RefDirectory

RefDirectory was not using FileSnapshot correctly in all places. This
is fixed with this commit. Additionally the constructors for the
different types of refs have been changed to take a FileSnapshot
instead of a modification time.

Change-Id: Ifb6a59e87e8b058a398c38cdfb9d648f0bad4bf8
Signed-off-by: Christian Halstrick <christian.halstrick@sap.com>",0,0,0,0,0,0,0,0,0
3584,Ie65bd8b36f4c6a91602a94e9b54a04a4fb335897,https://git.eclipse.org/r/#/c/3584,1,96ced466305e52cf930355c4473a7ec37c314587,54febe3e2a571a3f2e40c4460122914d9f991f98,0,31/05/11,31/05/11,0,Merge 'Fix usage of FileSnapshot in RefDirectory' into stable-1.0,"Merge 'Fix usage of FileSnapshot in RefDirectory' into stable-1.0

* commit '475461d05266fe13b05bc2c6645b9ef928521b4c':
  Fix usage of FileSnapshot in RefDirectory

Change-Id: Ie65bd8b36f4c6a91602a94e9b54a04a4fb335897",1,0,0,0,0,0,1,NA,NA
3586,I5d4cc0389f3f30c53aa0065f38119af2a1430909,https://git.eclipse.org/r/#/c/3586,1,15b597a56b834c663ccce9e4a26f2924da79767d,bfff93f53044811c1c6fce66350ca880520ed0a5,1,31/05/11,31/05/11,94,Fix CloneCommand not to fetch into remote tracking branches when bare,"Fix CloneCommand not to fetch into remote tracking branches when bare

When cloning into a bare repository we should not create remote
tracking branches (e.g refs/remotes/origin/testX). Branches of the
remote repository should but fetched into into branches of the same
name (e.g refs/heads/testX). Also add the noCheckout option which
would prevent checkout after fetch.

Change-Id: I5d4cc0389f3f30c53aa0065f38119af2a1430909
Signed-off-by: Christian Halstrick <christian.halstrick@sap.com>",0,0,0,0,0,0,0,0,0
3587,I1261baeef4c7d9aaedd7c34b546393bfa005bbcc,https://git.eclipse.org/r/#/c/3587,1,bfff93f53044811c1c6fce66350ca880520ed0a5,668002692f5e5fa1a9691a9c1ce032a4a5701037,1,31/05/11,31/05/11,27,Make sure test repositories are closed,"Make sure test repositories are closed

Some repositories created during tests are not added to the 'toClose'
list in LocalDiskRepositoryTestCase. Therefore when the tests end
we may have open FileHandles and on Windows this may cause the
tests to fail because we can't delete those files.

This is fixed by adding the possibility to explicitly add
repositories to the list of repos which are closed automatically.

Change-Id: I1261baeef4c7d9aaedd7c34b546393bfa005bbcc
Signed-off-by: Christian Halstrick <christian.halstrick@sap.com>",0,0,0,0,0,0,0,0,0
3588,I131db9dea20b2324cb7c3272a814f21296bc64bd,https://git.eclipse.org/r/#/c/3588,1,668002692f5e5fa1a9691a9c1ce032a4a5701037,c1523b63bdbe7baa82d7ad745d919493b6fed510,1,31/05/11,31/05/11,80,Ensure the HTTP request is fully consumed,"Ensure the HTTP request is fully consumed

Some servlet containers require the servlet to read the EOF marker
from the input stream before a response can be output if the stream
is using ""Transfer-Encoding: chunked""... which is typical for any
sort of large push to a repository over smart HTTP.

Ensure the EOF is always read by the PackParser when it is handling
the stream, and fail fast if there is more data present than expected
since this does indicate a protocol error.

Also ensure the EOF is read by UploadPack before it starts to output
a partial response using packing progress meters.

Change-Id: I131db9dea20b2324cb7c3272a814f21296bc64bd
Signed-off-by: Shawn O. Pearce <spearce@spearce.org>",1,0,0,0,0,0,1,0,0
3589,Ifbb9c7060c2fe3d5a7397c1aa85fbade14088637,https://git.eclipse.org/r/#/c/3589,1,c1523b63bdbe7baa82d7ad745d919493b6fed510,611c768f08e9dacad96b1c2730b1f41a85483ee7,1,31/05/11,31/05/11,56,Change EditList to extend ArrayList,"Change EditList to extend ArrayList

There is no reason for this type to contain an ArrayList and try to
hide the implementation. It only slows down execution by adding an
extra layer of method dispatch to each invocation.

Instead subclass from ArrayList.

Change-Id: Ifbb9c7060c2fe3d5a7397c1aa85fbade14088637
Signed-off-by: Shawn O. Pearce <spearce@spearce.org>",1,0,0,0,0,0,1,0,0
3590,I18b87ea4acf404b94788f2ac2101812bd13e6a0f,https://git.eclipse.org/r/#/c/3590,1,611c768f08e9dacad96b1c2730b1f41a85483ee7,8869f52776e1cbc4b73b55ac3a2d47f86be902e4,0,31/05/11,31/05/11,37,jgit.sh: Implement pager support,"jgit.sh: Implement pager support

If the command is either `diff` or `log`, there is often a lot of
lines of output. Run these commands through $GIT_PAGER, $PAGER, or
`less` in order to make it easier to browse the output on a terminal.

Change-Id: I18b87ea4acf404b94788f2ac2101812bd13e6a0f
Signed-off-by: Shawn O. Pearce <spearce@spearce.org>",1,0,0,0,0,0,1,NA,NA
3591,I5ba78b98b6632965d677a9c8f209f0cf8320cc3d,https://git.eclipse.org/r/#/c/3591,1,8869f52776e1cbc4b73b55ac3a2d47f86be902e4,b2cec6acee33425f9d7f7463a6a1703f12ab8aac,1,31/05/11,31/05/11,25,DHT: Fix thread-safety issue in AbstractWriteBuffer,"DHT: Fix thread-safety issue in AbstractWriteBuffer

There is a data corruption issue with the 'running' list if a
background thread schedules something onto the buffer while the
application thread is also using it.

Change-Id: I5ba78b98b6632965d677a9c8f209f0cf8320cc3d
Signed-off-by: Shawn O. Pearce <spearce@spearce.org>",1,0,0,0,0,0,1,0,0
3592,I469bf92f4bf2f555a15949569b21937c14cb142b,https://git.eclipse.org/r/#/c/3592,1,b2cec6acee33425f9d7f7463a6a1703f12ab8aac,cb7e238316f3805c66fb87d3e65a19b180938054,1,31/05/11,31/05/11,43,DHT: Support removing a repository name,"DHT: Support removing a repository name

The first step to deleting a repository from the DHT storage is to
remove the name binding in the RepositoryIndexTable, making the
repository unavailable for lookup.

Change-Id: I469bf92f4bf2f555a15949569b21937c14cb142b
Signed-off-by: Shawn O. Pearce <spearce@spearce.org>",1,0,0,0,0,0,1,0,0
3593,I6340d551482e1dda01f82496296d2038b07fa68b,https://git.eclipse.org/r/#/c/3593,2,ea436e6987c8b0d6b8c6b4072b797048ab3ab488,bd18195507fa87d4abea3dc07d05918e494683fd,0,31/05/11,31/05/11,0,Merge branch 'stable-1.0',"Merge branch 'stable-1.0'

* stable-1.0:
  DHT: Support removing a repository name
  DHT: Fix thread-safety issue in AbstractWriteBuffer
  jgit.sh: Implement pager support
  Change EditList to extend ArrayList
  Ensure the HTTP request is fully consumed
  Make sure test repositories are closed
  Fix CloneCommand not to fetch into remote tracking branches when bare

Change-Id: I6340d551482e1dda01f82496296d2038b07fa68b",1,0,0,0,0,0,1,NA,NA
3597,I84b8ea4838bb7d25f4fcdd540547884704661b8f,https://git.eclipse.org/r/#/c/3597,1,18d2844b16489e121fc6a77b2337e65528edd0ab,e19f1bddceb72df956305bc02b1f0a0b7a3c3981,1,31/05/11,31/05/11,2606,blame: Compute the origin of lines in a result file,"blame: Compute the origin of lines in a result file

BlameGenerator digs through history and discovers the origin of each
line of some result file.  BlameResult consumes the stream of regions
created by the generator and lays them out in a table for applications
to display alongside of source lines.

Applications may optionally push in the working tree copy of a file
using the push(String, byte[]) method, allowing the application to
receive accurate line annotations for the working tree version.  Lines
that are uncommitted (difference between HEAD and working tree) will
show up with the description given by the application as the author,
or ""Not Committed Yet"" as a default string.

Applications may also run the BlameGenerator in reverse mode using the
reverse(AnyObjectId, AnyObjectId) method instead of push().  When
running in the reverse mode the generator annotates lines by the
commit they are removed in, rather than the commit they were added in.
This allows a user to discover where a line disappeared from when they
are looking at an older revision in the repository.  For example:

  blame --reverse 16e810b2..master -L 1080, org.eclipse.jgit.test/tst/org/eclipse/jgit/storage/file/RefDirectoryTest.java
           (                                              1080)   }
  2302a6d3 (Christian Halstrick 2011-05-20 11:18:20 +0200 1081)
  2302a6d3 (Christian Halstrick 2011-05-20 11:18:20 +0200 1082)   /**
  2302a6d3 (Christian Halstrick 2011-05-20 11:18:20 +0200 1083)    * Kick the timestamp of a local file.

Above we learn that line 1080 (a closing curly brace of the prior
method) still exists in branch master, but the Javadoc comment below
it has been removed by Christian Halstrick on May 20th as part of
commit 2302a6d3.  This result differs considerably from that of C
Git's blame --reverse feature.  JGit tells the reader which commit
performed the delete, while C Git tells the reader the last commit
that still contained the line, leaving it an exercise to the reader
to discover the descendant that performed the removal.

This is still only a basic implementation.  Quite notably it is
missing support for the smart block copy/move detection that the C
implementation of `git blame` is well known for.  Despite being
incremental, the BlameGenerator can only be run once.  After the
generator runs it cannot be reused.  A better implementation would
support applications browsing through history efficiently.

In regards to CQ 5110, only a little of the original code survives.

CQ: 5110
Bug: 306161
Change-Id: I84b8ea4838bb7d25f4fcdd540547884704661b8f
Signed-off-by: Kevin Sawicki <kevin@github.com>
Signed-off-by: Shawn O. Pearce <spearce@spearce.org>
Signed-off-by: Chris Aniszczyk <caniszczyk@gmail.com>",0,0,0,0,1,1,1,7,1
3599,I6018ce0cd3b7c8137e137848fe1f04551b257538,https://git.eclipse.org/r/#/c/3599,1,e19f1bddceb72df956305bc02b1f0a0b7a3c3981,e5492cb911a1e8f1dfb07b4032a4e27dc8f1bf45,0,01/06/11,01/06/11,62,Remove incubation marker,"Remove incubation marker

Change-Id: I6018ce0cd3b7c8137e137848fe1f04551b257538
Signed-off-by: Matthias Sohn <matthias.sohn@sap.com>",1,0,0,1,0,0,1,NA,NA
3618,I574a05200471c431b3a02ac6ff208dc6aa90f539,https://git.eclipse.org/r/#/c/3618,1,6577533470b41ee8cf5fcb7b19154885208afb97,48b9f769de10289d1d041ea28ecfa87991f8b1a5,0,01/06/11,01/06/11,138,JGit v1.0.0.201106011211-rc3,"JGit v1.0.0.201106011211-rc3

Change-Id: I574a05200471c431b3a02ac6ff208dc6aa90f539
Signed-off-by: Matthias Sohn <matthias.sohn@sap.com>",0,0,0,1,0,0,1,NA,NA
3619,I4dec8eba7e35858aef65fcc10f91fad3fe5b52b9,https://git.eclipse.org/r/#/c/3619,1,48b9f769de10289d1d041ea28ecfa87991f8b1a5,e0840dbf6e5391e692363b417a98c212dc8b7eb7,0,01/06/11,01/06/11,138,Prepare post v1.0.0.201106011211-rc3 builds,"Prepare post v1.0.0.201106011211-rc3 builds

Change-Id: I4dec8eba7e35858aef65fcc10f91fad3fe5b52b9
Signed-off-by: Matthias Sohn <matthias.sohn@sap.com>",0,0,0,1,0,0,1,NA,NA
3627,If0d62fc609e70200de1a7439cd89059dfe5740b2,https://git.eclipse.org/r/#/c/3627,1,6e0f6c946ee3e16bb795447fb1997b7d722041af,bac3260d161c38b8188642129ea661c418bd5c04,0,02/06/11,02/06/11,0,Merge branch 'stable-1.0',"Merge branch 'stable-1.0'

* stable-1.0:
  Prepare post v1.0.0.201106011211-rc3 builds
  JGit v1.0.0.201106011211-rc3
  Remove incubation marker
  blame: Compute the origin of lines in a result file",1,0,0,0,0,0,1,NA,NA
3632,I0d016ddaed85656c2e680d0bc99829c6ea13b968,https://git.eclipse.org/r/#/c/3632,2,262200520648d8bdff3e054942b067e93286d724,3adfcfdecbf8912064190138c1b738cd09627644,0,02/06/11,02/06/11,541,Update eclipse.org's latest SUA,"Update eclipse.org's latest SUA

Change-Id: I0d016ddaed85656c2e680d0bc99829c6ea13b968
Signed-off-by: Matthias Sohn <matthias.sohn@sap.com>",0,0,0,1,1,0,1,NA,NA
3636,Iba146ac842cc9ca0be43d3381b4082c9e92bf56f,https://git.eclipse.org/r/#/c/3636,3,c43994225ed134bfac31ff7e46ce1513f98cb5f1,503c860d3fd19fdbbad4da5b91f4672efad3a72b,1,22/06/11,22/06/11,202,Add ReflogCommand,"Add ReflogCommand

Bug: 347859
Change-Id: Iba146ac842cc9ca0be43d3381b4082c9e92bf56f
Signed-off-by: Chris Aniszczyk <caniszczyk@gmail.com>",0,0,0,0,0,1,1,0,0
3649,I39f4a23cf284505395d511dfedf02b7f5608df95,https://git.eclipse.org/r/#/c/3649,1,79868cb4aeca38606d2fa3a9fd311977e036b9ee,6ce0cdb9024479c7695809ff245c3d920e1b278a,0,05/06/11,05/06/11,138,JGit v1.0.0.201106051725-r,"JGit v1.0.0.201106051725-r

Change-Id: I39f4a23cf284505395d511dfedf02b7f5608df95
Signed-off-by: Matthias Sohn <matthias.sohn@sap.com>",1,0,0,1,0,0,1,NA,NA
3651,I4839877e1a6fa7782f37423213af8d579727a494,https://git.eclipse.org/r/#/c/3651,1,6ce0cdb9024479c7695809ff245c3d920e1b278a,390433c76e84f0e650cdeaedb336ff558dfa3694,0,05/06/11,05/06/11,138,Prepare post v1.0.0.201106051725-r builds,"Prepare post v1.0.0.201106051725-r builds

Change-Id: I4839877e1a6fa7782f37423213af8d579727a494
Signed-off-by: Matthias Sohn <matthias.sohn@sap.com>",1,0,0,1,0,0,1,NA,NA
3652,I2a1e20ead5b9333ecf5d299f95ae47321faa678b,https://git.eclipse.org/r/#/c/3652,1,aebcd5f1b26af69166219dca57d3721bb4af8e40,b9c8fa198b4af0b0e8c4aecd9e576c7a2e825dde,0,05/06/11,05/06/11,0,Merge branch 'stable-1.0',"Merge branch 'stable-1.0'

* stable-1.0:
  Prepare post v1.0.0.201106051725-r builds
  JGit v1.0.0.201106051725-r
  Update to eclipse.org's latest SUA",1,0,0,0,0,0,1,NA,NA
3653,I4cf017cd567543846839612ab3ace6d26233e01d,https://git.eclipse.org/r/#/c/3653,1,b9c8fa198b4af0b0e8c4aecd9e576c7a2e825dde,fdc849046926cf21729c81a329ac49dd7b4e7ccc,0,05/06/11,05/06/11,482,Prepare 1.1.0 builds,"Prepare 1.1.0 builds

Change-Id: I4cf017cd567543846839612ab3ace6d26233e01d
Signed-off-by: Matthias Sohn <matthias.sohn@sap.com>",1,0,0,1,0,0,1,NA,NA
3676,Ic8f49336ba96c8dcf4bab2f74c0f1efc1ab55131,https://git.eclipse.org/r/#/c/3676,1,579b84be6c120fef2fb40d6de7d4b09d43ab3da2,1efa9587c05e68df75158fbfcc706f1ee6bb49d6,0,07/06/11,07/06/11,138,JGit v1.0.0.201106071701-r,"JGit v1.0.0.201106071701-r

Change-Id: Ic8f49336ba96c8dcf4bab2f74c0f1efc1ab55131
Signed-off-by: Matthias Sohn <matthias.sohn@sap.com>",0,0,0,1,0,0,1,NA,NA
3682,Ifc35da608fbba652524c1b5b522e3c0d5369ad5e,https://git.eclipse.org/r/#/c/3682,8,197e6fc865b5056702291e55874b0a2cc7190512,746e987a0b548e823d53b097d9eb638810048c1a,1,10/02/12,11/09/12,450,Added new Status CLI command 'jgit status',"Added new Status CLI command 'jgit status'

This is a first simple implementation.
It's been helpful in the diagnostic of bug #347885.
Note that changes to CLIText.properties are not mingled with other
lines in order to respect alphabetical order.
If that's really important we can certainly apply sorting to my changes.
However it's nice to keep them together because some padding alignment
needs to be done across some of them. If later on one needs to change a
label, other labels will need to be changed accordingly so that padding
is respected.
Changes to CLIText.java are also kept together. It's less important to
keep them together in that file, but did so just because I kept them
together in the twin properties file.
Finally, it would be nice to also print the current branch like native
'git status'. However being new to git/egit/jgit I wasn't sure of
certain corner cases (headless state, etc.) so I preferred not adding
that feature. I'm sure someone else can easily add this.

Bug: 348318
Change-Id: Ifc35da608fbba652524c1b5b522e3c0d5369ad5e
Signed-off-by: Franois Rey <egit@francois.rey.name>",0,1,1,0,0,0,1,2,1
3684,I67ee2912ef54462cf860dc4ec0a6334e9c619384,https://git.eclipse.org/r/#/c/3684,1,b550f783d055d417f6c4b1732419db43f232a5f8,37c9a307a607ca0df9dc51d9b14e2963d49e0a15,0,08/06/11,08/06/11,138,Prepare post v1.0.0.201106071701-r builds,"Prepare post v1.0.0.201106071701-r builds

Change-Id: I67ee2912ef54462cf860dc4ec0a6334e9c619384
Signed-off-by: Matthias Sohn <matthias.sohn@sap.com>",0,0,0,1,0,0,1,NA,NA
3685,I5a4ad9493da3816f21d9fdd0b5b977388d074500,https://git.eclipse.org/r/#/c/3685,2,37c9a307a607ca0df9dc51d9b14e2963d49e0a15,a99b72e3a57d39c499fae3b0e4d806d75fda341a,0,08/06/11,08/06/11,563,Add missing about.html files to all shipped bundles,"Add missing about.html files to all shipped bundles

Change-Id: I5a4ad9493da3816f21d9fdd0b5b977388d074500
Signed-off-by: Matthias Sohn <matthias.sohn@sap.com>",0,0,0,1,1,0,1,NA,NA
3689,I629990189083bab4737938ad712080fba7917582,https://git.eclipse.org/r/#/c/3689,1,a99b72e3a57d39c499fae3b0e4d806d75fda341a,d411c196404cb2dfca3a95613d4322b064972c2e,0,08/06/11,08/06/11,138,JGit v1.0.0.201106081625-r,"JGit v1.0.0.201106081625-r

Change-Id: I629990189083bab4737938ad712080fba7917582
Signed-off-by: Matthias Sohn <matthias.sohn@sap.com>",0,0,0,1,0,0,1,NA,NA
3693,I5e6994844405f7839ad3b3439f98bcadb59d329b,https://git.eclipse.org/r/#/c/3693,1,d411c196404cb2dfca3a95613d4322b064972c2e,f1ab589db2c046420fcd0cbe6656c3e06fca9867,0,09/06/11,09/06/11,138,Prepare post v1.0.0.201106081625-r builds,"Prepare post v1.0.0.201106081625-r builds

Change-Id: I5e6994844405f7839ad3b3439f98bcadb59d329b
Signed-off-by: Matthias Sohn <matthias.sohn@sap.com>",0,0,0,1,0,0,1,NA,NA
3694,Ifa96090eb0fc336ee8080385f48212b5158dd9f7,https://git.eclipse.org/r/#/c/3694,1,f1ab589db2c046420fcd0cbe6656c3e06fca9867,9bfa47829ef90b2d31afa9a697be6336cfde6ca8,0,09/06/11,09/06/11,11,Include about.html files in maven build,"Include about.html files in maven build

Change-Id: Ifa96090eb0fc336ee8080385f48212b5158dd9f7
Signed-off-by: Matthias Sohn <matthias.sohn@sap.com>",1,0,0,1,0,0,1,NA,NA
3696,I35292f9f6fb5ebc591308fdd2d069203413e189d,https://git.eclipse.org/r/#/c/3696,1,19d77a73b779f53a7cdb80e47a350d27ab6c75a4,f940e84fdaf139e10ee6b6439d4bfdf3b8ef9eeb,0,09/06/11,09/06/11,138,Prepare post JGit v1.0.0.201106090707-r builds,"Prepare post JGit v1.0.0.201106090707-r builds

Change-Id: I35292f9f6fb5ebc591308fdd2d069203413e189d
Signed-off-by: Matthias Sohn <matthias.sohn@sap.com>",0,0,0,1,0,0,1,NA,NA
3698,I0ab7be9681912ef5d11fe10af1f7536c2feaa662,https://git.eclipse.org/r/#/c/3698,1,0116279aa3e8ce4023b4c86b9b1eac89a60ff569,0bbbdf86b94a8d2ea9b89f338d17f3e4b030dccb,0,09/06/11,09/06/11,0,Merge branch 'stable-1.0',"Merge branch 'stable-1.0'

* stable-1.0:
  Prepare post JGit v1.0.0.201106090707-r builds
  JGit v1.0.0.201106090707-r
  Include about.html files in maven build
  Prepare post v1.0.0.201106081625-r builds
  JGit v1.0.0.201106081625-r
  Add missing about.html files to all shipped bundles
  Prepare post v1.0.0.201106071701-r builds
  JGit v1.0.0.201106071701-r",0,0,0,0,0,0,0,NA,NA
3704,I6b65bfb4c14b6f7bd323c2bd0638b49d429245be,https://git.eclipse.org/r/#/c/3704,1,b3dad571b8b9fd788693943f32eadabd02ef9cd0,e3c47d016037082c14872357a7de427e97273acf,1,14/08/11,14/08/11,47,DHT: Drop leading hash digits from row keys,"DHT: Drop leading hash digits from row keys

Originally I put the first two digits of the object SHA-1 into the
start of a row key to try and spread the load of objects around a DHT
service. Unfortunately this tends to not work as well as I had hoped.

Servers reading a repository need to contact every node in a DHT
cluster if the cluster tries to evenly distribute the object rows.
This is a lot of connections, especially if the cluster has many
backend storage servers.  If the library has an open connection
limit (possibly due to JVM file descriptor limitations) it may need
to open and close a lot of connections to access a repository,
rather than being able to reuse the same connection to a handful
of backend servers.  This results in a lot of connection thrashing
for some DHT type databases, and is inefficient.

Some DHTs are able to operate even if part of the database space
is currently unavailable.  For example, a DHT service might assign
some section of the key space to a node, and then fail that section
over to another node when the primary is noticed as being offline.
During that failover period that section of the key space is not
available, but other sections hosted by other backends are still
ready for service. Spreading keys all over the cluster makes it
likely that any single backend being temporarily down means the
entire cluster is down, rather than only some.

This is a massive schema change, but it should improve relability
and performance for any DHT system.

Change-Id: I6b65bfb4c14b6f7bd323c2bd0638b49d429245be
Signed-off-by: Shawn O. Pearce <spearce@spearce.org>",0,0,0,0,0,0,0,0,0
3705,Ie2823724c289f745655076c5209acec32361a1ea,https://git.eclipse.org/r/#/c/3705,1,e3c47d016037082c14872357a7de427e97273acf,4fed5934fa89ec99406017fb25bc75d01a312838,1,14/08/11,14/08/11,2,DHT: Fix NPE during prefetch,"DHT: Fix NPE during prefetch

The Prefetcher may have loaded a chunk that is a fragment, if the
DhtReader is scanning the Prefetcher's chunks for a particular
object fragment chunks will be missing the index and NPE during
the findOffset() call into the index itself.

Change-Id: Ie2823724c289f745655076c5209acec32361a1ea
Signed-off-by: Shawn O. Pearce <spearce@spearce.org>",0,0,0,0,0,0,0,0,0
3706,I33b65286e8a4cbf6ef4ced28c547837f173e065d,https://git.eclipse.org/r/#/c/3706,1,4fed5934fa89ec99406017fb25bc75d01a312838,111614e0d61cc8941406878f9d3045d869ef09e3,1,14/08/11,14/08/11,2,DHT: Always have at least one recent chunk in DhtReader,"DHT: Always have at least one recent chunk in DhtReader

The RecentChunks cache assumes there is always at least one recent
chunk in the maxSize that it receives from the DhtReaderOptions.
Ensure that is true by requiring the size to be at least 1.

Running with 0 recent chunk cache is very a bad idea, often
during commit walking the parents of a commit will be found
on the same chunk as the commit that was just accessed. In
these cases its a good idea to keep that last chunk around
so the parents can be quickly accessed.

Change-Id: I33b65286e8a4cbf6ef4ced28c547837f173e065d
Signed-off-by: Shawn O. Pearce <spearce@spearce.org>",0,0,0,0,0,0,0,0,0
3707,Ia41b7a1cc69ad27b85749e3b74cbf8d0aa338044,https://git.eclipse.org/r/#/c/3707,1,111614e0d61cc8941406878f9d3045d869ef09e3,6b73d085cf257c20348532d093e3d8aff2aa55d1,1,14/08/11,14/08/11,28,DHT: Use a proper HashMap for RecentChunk lookups,"DHT: Use a proper HashMap for RecentChunk lookups

A linear search is somewhat acceptable for only 4 recent chunks, but
a HashMap based lookup would be better. The table will have 16 slots
by default and given the hashCode() of ChunkKey is derived from the
SHA-1 of the chunk, each chunk will fall into its own bucket within
the table and thus evaluate only 1 entry during lookup instead of 4.

Some users may also want to devote more memory to the recent chunks,
in which case expanding this list to a longer length will help to
reduce chunk faults, but would increase search time. Using a HashMap
will help this code to scale to larger sizes better.

Change-Id: Ia41b7a1cc69ad27b85749e3b74cbf8d0aa338044
Signed-off-by: Shawn O. Pearce <spearce@spearce.org>",0,0,0,0,0,0,0,0,0
3708,I1ca7acb4518e66eb9d4138fb753df38e7254704d,https://git.eclipse.org/r/#/c/3708,1,6b73d085cf257c20348532d093e3d8aff2aa55d1,405bdf51d11e25c0222a9e17fec4d1d1e6f896ed,1,14/08/11,14/08/11,212,DHT: Change DhtReadher caches to be dynamic by workload,"DHT: Change DhtReadher caches to be dynamic by workload

Instead of fixing the prefetch queue and recent chunk queue as
different sizes, allow these to share the same limit but be scaled
based on the work being performed.

During walks about 20% of the space will be given to the prefetcher,
and the other 80% will be used by the recent chunks cache. This
should improve cases where there is bad locality between chunks.

During writing of a pack stream, 90-100% of the space should be
made available to the prefetcher, as the prefetch plan is usually
very accurate about the order chunks will be needed in.

Change-Id: I1ca7acb4518e66eb9d4138fb753df38e7254704d
Signed-off-by: Shawn O. Pearce <spearce@spearce.org>",0,0,0,0,0,0,0,0,0
3713,I441db34f226be36548c61cef77958995971498de,https://git.eclipse.org/r/#/c/3713,4,5e4cd388e8e19269cccef94d328d9724a212cdd3,cdf4eb2936dc075f0eb472d41001450a97052dc1,1,12/07/11,12/07/11,61,RFC: Add support for reseting on dir's,"RFC: Add support for reseting on dir's

Reset command should works recursively and allows reset all changed
files in given directory.

TODO: I don't know why the testPathsReset() fails now. It passes when
repository does't contains 'dir/b.txt' file, but after it is created it
fails. This seams very odd to me.

Change-Id: I441db34f226be36548c61cef77958995971498de
Signed-off-by: Dariusz Luksza <dariusz@luksza.org>",0,1,0,0,0,0,1,0,0
3718,I23377f8df00c7252bf27dbcfba5da193c5403917,https://git.eclipse.org/r/#/c/3718,3,f32ffe4543b1b72b7185d0447d09f4acd4bd6554,f81bed4adbde77314f37bdc1564d6da4b3605133,1,10/08/11,10/08/11,41,Fix reading of ref names containing characters that sort before /,"Fix reading of ref names containing characters that sort before /

A set of ref names like ('a/b' and 'a+b') would cause the RefDirectory
to think that the set of refs have changed because it traversed the
'a' directory in the subtree before looking at 'a+b', but it then
compared with the know refs which are sorted with 'a+b' first.

Fix this by traversing the refs tree in another order. Treat a directory
as if they ends with a '/' before deciding on the order to traverse
the refs tree.

Bug: 348834
Change-Id: I23377f8df00c7252bf27dbcfba5da193c5403917
Signed-off-by: Robin Rosenberg <robin.rosenberg@dewire.com>",0,0,0,0,0,0,0,0,0
3731,I929862f322cf7ca4c13f9515d611a21e2680e2ba,https://git.eclipse.org/r/#/c/3731,1,c40c731b16db635f25bc07c25b10adcd5d35d00a,667ca064a0b324a599ec5ad918d4af9836e07a4d,1,14/06/11,14/06/11,19,Fix IndexOutOfBoundsException when parsing PersonIdent,"Fix IndexOutOfBoundsException when parsing PersonIdent

IndexOutOfBoundsException could occur when parsing
PersonIdent for which no name is present, as part of a
RevCommit (nameB > 0).",0,0,0,0,0,0,0,0,0
3755,I03044df9af9f9547777545b7c9b93bdf5f8b7cb5,https://git.eclipse.org/r/#/c/3755,1,fa96ac111149633dcc3db635f07505f963242e9f,8522035b1862b3a6dc98bb3fb50b3ab620470459,1,21/06/11,21/06/11,241,Refactor out ReflogEntry,"Refactor out ReflogEntry

It's useful to have ReflogEntry refactored out so it can be
used by clients via the JGit API.

Change-Id: I03044df9af9f9547777545b7c9b93bdf5f8b7cb5
Signed-off-by: Chris Aniszczyk <caniszczyk@gmail.com>",0,0,0,0,0,0,0,0,0
3756,I2aa5a1a7259889428e4845046b900538262f3c84,https://git.eclipse.org/r/#/c/3756,2,cdeb6e13734dd48443080f2be50a7bafba5b7397,44ade3043ebd8fb87224b5afe819f789c1349b2e,1,14/07/11,14/07/11,43,Merge doesn't remove empty folders,"Merge doesn't remove empty folders

Bug: 349848
Change-Id: I2aa5a1a7259889428e4845046b900538262f3c84",0,0,0,0,0,0,0,0,0
3758,I05d4ecf6bd25deec7fb2efbfa61913f4ec4e04e5,https://git.eclipse.org/r/#/c/3758,1,12ded991751a647fcd509b04d0581a01d6058265,fe154e0b4f128f3d4b97e0b2f331733d032b6b5e,1,24/06/11,24/06/11,67,RFC: Ugly fix for i18n of metaVar CLI arguments,"RFC: Ugly fix for i18n of metaVar CLI arguments

This patch possibly ties to a specific version of args4j.

Bug: 318286
Change-Id: I05d4ecf6bd25deec7fb2efbfa61913f4ec4e04e5
Signed-off-by: Robin Rosenberg <robin.rosenberg@dewire.com>",0,0,0,0,0,0,0,0,0
3777,I6811d6187a34eaf1fd6c5002550d631decdfc391,https://git.eclipse.org/r/#/c/3777,1,c650d89384128cd675a5004e006c3cfa2deaf2c8,2f6506437d3186f985549ba67b9289b4cdd32a82,1,01/07/11,01/07/11,20,TemporaryBuffer: Fix reading from in-memory InputStream,"TemporaryBuffer: Fix reading from in-memory InputStream

I had the conditions wrong here, causing the in-memory InputStream
to always appear to be at EOF.

Change-Id: I6811d6187a34eaf1fd6c5002550d631decdfc391
Signed-off-by: Shawn O. Pearce <spearce@spearce.org>",0,0,0,0,0,0,0,0,0
3778,I1d40364e8725468522435814631916d73174c92b,https://git.eclipse.org/r/#/c/3778,1,2f6506437d3186f985549ba67b9289b4cdd32a82,ecdb593879d7ecaa51323fcc841e00e2dd72d951,1,01/07/11,01/07/11,60,Improve performance when writing trees and small blobs,"Improve performance when writing trees and small blobs

ObjectDirectoryInserter was always creating a temporary file,
writing the complete compressed contents of a tree, fsync()'ing
that to stable storage, and only then checking to see if there
was already an object with the same SHA-1 in the repository.

For commits this strategy makes some sense, the commit is very
unlikely to exist in the repository, as there are embedded times
and these change with each commit.

However for trees coming out of DirCache, it is more common for the
tree to already exist in the repository. Most subdirectories are
not modified in any given commit.  Doing all of this local file IO
for things that already exist is very slow.

Try to detect cases where the object is ""small enough"" that it can
be processed entirely in memory, and avoid doing disk IO entirely
if the object already exists.

Also increase the size of the output buffer for the deflation.
This should boost the average write(2) syscall size from 512 bytes
to 8192 bytes, making streaming of large compressed contents to
disk slightly more efficient.

Change-Id: I1d40364e8725468522435814631916d73174c92b
Signed-off-by: Shawn O. Pearce <spearce@spearce.org>",0,0,0,0,0,0,0,0,0
3779,Ic6f260b6a5ba353af3b312b722f576155208eaa0,https://git.eclipse.org/r/#/c/3779,1,ecdb593879d7ecaa51323fcc841e00e2dd72d951,7b70eeea6bc48aab3217353c44e758828cbcf516,0,24/11/11,24/11/11,2,tools/release: Handle v1.0.0.201106090707-r-NN-gdeadbeef,"tools/release: Handle v1.0.0.201106090707-r-NN-gdeadbeef

The 1.0.0 release tags have a new suffix.
Account for this.

Change-Id: Ic6f260b6a5ba353af3b312b722f576155208eaa0
Signed-off-by: Shawn O. Pearce <spearce@spearce.org>",0,0,0,0,0,0,0,NA,NA
3795,I785f59fcf2018cd923d4d1617b923049dbde9809,https://git.eclipse.org/r/#/c/3795,3,c3fa5389f7d66551d208e94fda044b0e47d8ff4b,eba6576b715c6901bbe18eb970761cc53eed3cdb,1,01/07/11,01/07/11,4,fix compilation with Java 1.5,"fix compilation with Java 1.5

Change-Id: I785f59fcf2018cd923d4d1617b923049dbde9809",0,0,0,1,0,0,1,0,0
3799,Ie9fa09f7a404080da7cdccafb9be3a8c845e4869,https://git.eclipse.org/r/#/c/3799,1,a21a27a7e32adb2c74e4ebf7952b7f7ca0e90cee,303bb60e5d9c869894dfebea4b9a7b0c6e9b3892,1,29/06/11,29/06/11,10,DirCacheCheckout: unlock DirCache in case of failure,"DirCacheCheckout: unlock DirCache in case of failure

DirCacheCheckout did not unlock the index if e.g. an IOException occured
during checkout.

Bug: 350677
Change-Id: Ie9fa09f7a404080da7cdccafb9be3a8c845e4869
Signed-off-by: Jens Baumgart <jens.baumgart@sap.com>",0,0,0,0,0,0,0,0,0
3801,Ic85f8859571dc2aef7f146ce56a6c9b8ec142e60,https://git.eclipse.org/r/#/c/3801,3,303bb60e5d9c869894dfebea4b9a7b0c6e9b3892,ad52ae0b9d85ef109bbdf4a5e9b345ff1e908309,0,01/07/11,01/07/11,23,Enable PlotWalk to show additional refs,"Enable PlotWalk to show additional refs

Change-Id: Ic85f8859571dc2aef7f146ce56a6c9b8ec142e60
Signed-off-by: Stefan Lay <stefan.lay@sap.com>",0,0,0,1,0,0,1,NA,NA
3803,I3229f4ec85e7604cb45642813757975b30f1227e,https://git.eclipse.org/r/#/c/3803,1,f44553815549aa14f13da0dfd750e4c50346e615,b6d667debc32c54e39237f8570389fc898661bce,1,01/07/11,01/07/11,5,Implement Serializable interface in PersonIdent class.,"Implement Serializable interface in PersonIdent class.

Change-Id: I3229f4ec85e7604cb45642813757975b30f1227e
Signed-off-by: Kevin Sawicki <kevin@github.com>",0,0,0,1,0,1,1,0,0
3808,I2bc648abc517b1d01b2de15d383423ace2081e72,https://git.eclipse.org/r/#/c/3808,3,b07c7305b2ad15691bfc0f5a8001e582ee95f061,63a25aa89ef4bc22dba89404834590e7a1ede65b,1,06/07/11,06/07/11,77,Fix push refSpec handling if refSpec is not explicitly set,"Fix push refSpec handling if refSpec is not explicitly set

If no refSpec is explicitly set, the PushCommand should first check the
remote config and then as a fallback use the default (for every
branch that exists on the local side, the remote side is updated if a
branch of the same name already exists on the remote side).


Change-Id: I2bc648abc517b1d01b2de15d383423ace2081e72
Signed-off-by: Stefan Lay <stefan.lay@sap.com>",0,0,0,0,0,0,0,0,0
3809,I61ffcb7694eb8b99ebaf4d0d0acd63e0ee91bcb3,https://git.eclipse.org/r/#/c/3809,5,b3f13ae4cf8e56ba9233869fefc239fdd1681760,5bd105488bdc53bc091dbe6f012e2efefc2da542,1,02/08/11,02/08/11,190,Reuse ObjectReader for all objects touched during checkout,"Reuse ObjectReader for all objects touched during checkout

Change-Id: I61ffcb7694eb8b99ebaf4d0d0acd63e0ee91bcb3
Signed-off-by: Matthias Sohn <matthias.sohn@sap.com>
Signed-off-by: Christian Halstrick <christian.halstrick@sap.com>",0,1,0,1,0,0,1,0,0
3815,I3042951dc21860b4b85dd72a6bf41ee7cfe2aba4,https://git.eclipse.org/r/#/c/3815,5,91fffeff3cc5b4e3d2d2b2fa74d4777ed332f4c2,1491584ebf0438a46c9f3917810d3490daa616e3,1,08/07/11,08/07/11,76,Cleanup directories leftover by test.,"Cleanup directories leftover by test.

Use the temporary file management from superclass.

Change-Id: I3042951dc21860b4b85dd72a6bf41ee7cfe2aba4
Signed-off-by: Adrian Goerler <adrian.goerler@sap.com>",0,1,0,0,0,0,1,1,1
3816,I01c7325770ecb37f5bf8ddb2a22f802466524f24,https://git.eclipse.org/r/#/c/3816,3,bd7363a1cf46858840b041d41f0408fa22977f93,dda5400aa39a2df796ae70acf5a95318c5adde75,1,12/07/11,12/07/11,30,Fixed creation of branch from a tag.,"Fixed creation of branch from a tag.

Creation of a branch X from an annotated tag, as the starting point,
resulted into .git/refs/heads/X containing the ID of the annotated tag
instead of the ID of the tagged commit.

This fix peels the tag ref before using it as the starting point for
the newly created branch.

Bug: 340836
Change-Id: I01c7325770ecb37f5bf8ddb2a22f802466524f24",0,0,0,0,0,0,0,0,0
3819,I5a680a73e1cffa18ade3402cc86008f46c1da1f1,https://git.eclipse.org/r/#/c/3819,10,3e860bcc7ab52564837517605e02412968279112,65ff223624ad990a13be6b982d1c80cf5bf91dce,1,17/08/11,17/08/11,343,"Adds DiffEntry.scan(TreeWalk, boolean) method","Adds DiffEntry.scan(TreeWalk, boolean) method

Adds method into DiffEntry class that will include changed trees in
scanning result list.

This change is required by egit
I7ddb21e7ff54333dd6d7ace3209bbcf83da2b219

Signed-off-by: Dariusz Luksza <dariusz@luksza.org>
Change-Id: I5a680a73e1cffa18ade3402cc86008f46c1da1f1",0,1,0,0,0,0,1,1,1
3824,I2de6439a3ad951a99d89e4aee02006c745d16510,https://git.eclipse.org/r/#/c/3824,1,91b6b392a0e17c83ea2ef465f897715bd27f7459,623a682402fd8be49ca8f902f48c3829608b0419,0,06/07/11,06/07/11,25,Cleanup curly braces,"Cleanup curly braces

Change-Id: I2de6439a3ad951a99d89e4aee02006c745d16510
Signed-off-by: Adrian Goerler <adrian.goerler@sap.com>",0,0,0,1,0,0,1,NA,NA
3830,Ia25d768c311d384d728f281aced92f598e5e2041,https://git.eclipse.org/r/#/c/3830,2,71e32e87f9e222a0118ddf5438d7f8b34df8b329,a28f0aa56375e6e91954758b4b41b7c46418e8bc,1,06/07/11,06/07/11,256,Do not catch Exception in test cases,"Do not catch Exception in test cases

Exception handling is already done by JUnit.

Change-Id: Ia25d768c311d384d728f281aced92f598e5e2041
Signed-off-by: Stefan Lay <stefan.lay@sap.com>",0,0,0,0,0,0,0,0,0
3860,I4c1284b4e80d82638d0677a05e5d38182526d196,https://git.eclipse.org/r/#/c/3860,5,84fa9020ee41eda96d1b925ba93e6d7454fbba50,bd49611e8a7ed5508285616bb48502a48c8d4620,1,21/08/11,21/08/11,98,ClassCastException in MergeCommand was fixed.,"ClassCastException in MergeCommand was fixed.

Test were added which reproduce the ClassCastException when ours or
theirs merge strategy is set to MergeCommand. Merger and MergeCommand
were updated in order to avoid exception.

Signed-off-by: Denys Digtiar <duemir@gmail.com>
Change-Id: I4c1284b4e80d82638d0677a05e5d38182526d196",0,1,0,0,0,0,1,0,0
3865,I2095601b848e66e54d5dac828ef6ed1a4c5ae66c,https://git.eclipse.org/r/#/c/3865,2,186d853cd5a29ff15f4d1aade026600bbacd6e03,fd3c91975501aae4389d6bf9c05b280dc546c1e6,1,12/07/11,12/07/11,1,Merge in JGit CLI is missing break;,"Merge in JGit CLI is missing break;

Change-Id: I2095601b848e66e54d5dac828ef6ed1a4c5ae66c",0,0,0,1,0,0,1,0,0
3879,Iffcb4f2cca9f702176471d93c3a71e5cb3e700b1,https://git.eclipse.org/r/#/c/3879,4,5a9d24c87f6a9947f1043c6e55a0760430bfba53,2cc4849d7162042355cda88e43a4891ae71e754f,1,21/08/11,21/08/11,23,Throw JGit exception when ResetCommand got wrong ref,"Throw JGit exception when ResetCommand got wrong ref

If the ResetCommand should reset to a invalid ref (e.g. HEAD in a repo
whithout a single commit) it was throwing an NPE. This is fixed now by
throwing a JGitInternalExcpeption. It would be nicer if we could throw
a InvalidRefException, but this would modify our API.

Bug: 339610
Change-Id: Iffcb4f2cca9f702176471d93c3a71e5cb3e700b1
Signed-off-by: Christian Halstrick <christian.halstrick@sap.com>",0,1,0,0,0,0,1,0,0
3900,Iddf43533d133f8f22199ed6e2393a552670e7d1f,https://git.eclipse.org/r/#/c/3900,1,997e60f3b30b6f211633b24c5a207d032cde3f8d,d3a70fd30ee58d44e522ec485774d5cee68510af,0,13/08/11,13/08/11,2,Ignore missing MERGE_MSG when deleting MERGE_MSG,"Ignore missing MERGE_MSG when deleting MERGE_MSG

Repository.writeMergeCommitMsg(null) no longer fails if the MERGE_MSG
file is missing. This was done to avoid CommitCommand to fail in case of
a missing MERGE_MSG file.

Bug: 352243
Change-Id: Iddf43533d133f8f22199ed6e2393a552670e7d1f
Signed-off-by: Jens Baumgart <jens.baumgart@sap.com>",0,0,0,0,0,0,0,NA,NA
3901,I11e019f3c19b4340ac7160ac8fcbadd52499d322,https://git.eclipse.org/r/#/c/3901,3,8ec73e1610473235dcb53915bb8fe89ef302d493,47250884d346c1a4292e0b35b22e3516dfcb8f1d,1,21/08/11,21/08/11,154,Add a command to list all tags (aka. git-tag),"Add a command to list all tags (aka. git-tag)

Change-Id: I11e019f3c19b4340ac7160ac8fcbadd52499d322",0,0,0,1,0,0,1,0,0
3919,Iea74c599a956a058608e424d0274f879bc2f064a,https://git.eclipse.org/r/#/c/3919,2,e7ca3ca0028ca047f4f4237bf39a27170707fe69,328b5f02ab0238adc048f31d50dcb6dd2730d167,1,16/08/11,16/08/11,299,Add DiffCommand to JGit API,"Add DiffCommand to JGit API

Bug: 334766
Change-Id: Iea74c599a956a058608e424d0274f879bc2f064a",0,0,0,0,0,0,0,0,0
3923,Ia4a239093866e5b9faf82744f729fb73f4373f1a,https://git.eclipse.org/r/#/c/3923,1,20b4855162ee4fccbd457c81872a0305ff2047ed,4497be3201fe59e1ee9b8ed9fede9e976c7d227f,1,28/07/11,28/07/11,1,Don't close ObjectDatabase after parsing pack,"Don't close ObjectDatabase after parsing pack

The cached object databases should not require a close to release
their cached resources. Most object databases just return their
own reference for newCachedDatabase(), so a close() here kills
the real database's internal caches, and possibly underlying files,
resulting in poor performance for the callers of PackParser like
ReceivePack or FetchProcess trying to then go look up objects that
were just parsed, or that current references point to.

Change-Id: Ia4a239093866e5b9faf82744f729fb73f4373f1a
Signed-off-by: Shawn O. Pearce <spearce@spearce.org>",0,0,0,0,0,0,0,0,0
3924,I4463c95aeaf7d6536c3ab132dec9c50ee528d9e0,https://git.eclipse.org/r/#/c/3924,1,4497be3201fe59e1ee9b8ed9fede9e976c7d227f,2ce6b1bfc25e91e6bfc584d6fb43d0888af58ecf,1,28/07/11,28/07/11,23,Add copy constructor to PackConfig,"Add copy constructor to PackConfig

Some embeddings of UploadPack (e.g. Gerrit Code Review) set their own
PackConfig from a server-wide configuration, overriding any JGit
defaults or settings that may exist at the local repository level.

Make a copy constructor form of PackConfig so this server-wide
configuration object can be copied and then merged with repository
specific configuration data.

Change-Id: I4463c95aeaf7d6536c3ab132dec9c50ee528d9e0
Signed-off-by: Shawn O. Pearce <spearce@spearce.org>",0,0,0,0,0,0,0,0,0
3926,If065a9e33a8f3a03e9758eb7612af2fc460c87e5,https://git.eclipse.org/r/#/c/3926,2,7050610f7e1e4dcad026fe28a621e6299c1cfb21,60348fdd5b06f786dde784db00235bf671d0b54d,0,28/07/11,28/07/11,48,PackIndex: Support reading from any InputStream,"PackIndex: Support reading from any InputStream

Change-Id: If065a9e33a8f3a03e9758eb7612af2fc460c87e5
Signed-off-by: Shawn O. Pearce <spearce@spearce.org>",0,0,0,1,0,0,1,NA,NA
3927,I487bf32e85a8985cf8ab382d4c82fcbe1fc7da6c,https://git.eclipse.org/r/#/c/3927,2,9b0fae35a187ce2bbc4ad88c6ca8dca45e666609,5563213b79fb05adcd08568c5f343e35146e7a3c,1,28/07/11,28/07/11,8,Make PackReverseIndex a public structure,"Make PackReverseIndex a public structure

Repository inspection tools may find building a reverse index on a
pack useful, as they can then locate an object by offset. As both
C Git and JGit sometimes produce error messages with the offset
rather than the SHA-1, it may be useful to expose this type.

Change-Id: I487bf32e85a8985cf8ab382d4c82fcbe1fc7da6c",0,0,0,0,0,0,0,0,0
3928,I54d9bb9867556cd98b378c0762054b31497459cb,https://git.eclipse.org/r/#/c/3928,2,6882d44c4c0a9414ffc1ed10016aa0c390fe0c1d,d2a9b2f0cb246f084f33caaae6e06475e266c0a7,1,28/07/11,28/07/11,12,Add String form of PackInvalidException constructor,"Add String form of PackInvalidException constructor

This way the path can be supplied as a string, without first
converting to a java.io.File.

Change-Id: I54d9bb9867556cd98b378c0762054b31497459cb",0,0,0,0,0,0,0,0,0
3929,Ia418daf65d63e9e015b8dafdf3d06a1ed91d190b,https://git.eclipse.org/r/#/c/3929,2,7901e069d705f3e2e68ebf6aa716011ec39d1a48,dbd4073ce2013384e87f0515f292a3287e969a6e,1,28/07/11,28/07/11,68,Make lookup methods on PackIndex public,"Make lookup methods on PackIndex public

There isn't a good reason to hide all of these as package-private.
Make them public so applications can inspect pack files.

Change-Id: Ia418daf65d63e9e015b8dafdf3d06a1ed91d190b",0,0,0,0,0,0,0,0,0
3930,Iec524abdf172e9ec5485d6c88ca6512cd8a6eafb,https://git.eclipse.org/r/#/c/3930,8,6e36b36892453674297dc55be0069db7620f9cba,9963479f835f2c155bb487acf47c35406407a9ea,1,10/02/12,10/02/12,7775,DFS: A storage layer for JGit,"DFS: A storage layer for JGit

In practice the DHT storage layer has not been performing as well as
large scale server environments want to see from a Git server.

The performance of the DHT schema degrades rapidly as small changes
are pushed into the repository due to the chunk size being less than
1/3 of the pushed pack size.  Small chunks cause poor prefetch
performance during reading, and require significantly longer prefetch
lists inside of the chunk meta field to work around the small size.

The DHT code is very complex (>17,000 lines of code) and is very
sensitive to the underlying database round-trip time, as well as the
way objects were written into the pack stream that was chunked and
stored on the database.  A poor pack layout (from any version of C Git
prior to Junio reworking it) can cause the DHT code to be unable to
enumerate the objects of the linux-2.6 repository in a completable
time scale.

Performing a clone from a DHT stored repository of 2 million objects
takes 2 million row lookups in the DHT to locate the OBJECT_INDEX row
for each object being cloned. This is very difficult for some DHTs to
scale, even at 5000 rows/second the lookup stage alone takes 6 minutes
(on local filesystem, this is almost too fast to bother measuring).
Some servers like Apache Cassandra just fall over and cannot complete
the 2 million lookups in rapid fire.

On a ~400 MiB repository, the DHT schema has an extra 25 MiB of
redundant data that gets downloaded to the JGit process, and that is
before you consider the cost of the OBJECT_INDEX table also being
fully loaded, which is at least 223 MiB of data for the linux kernel
repository.  In the DHT schema answering a `git clone` of the ~400 MiB
linux kernel needs to load 248 MiB of ""index"" data from the DHT, in
addition to the ~400 MiB of pack data that gets sent to the client.
This is 193 MiB more data to be accessed than the native filesystem
format, but it needs to come over a much smaller pipe (local Ethernet
typically) than the local SATA disk drive.

I also never got around to writing the ""repack"" support for the DHT
schema, as it turns out to be fairly complex to safely repack data in
the repository while also trying to minimize the amount of changes
made to the database, due to very common limitations on database
mutation rates..

This new DFS storage layer fixes a lot of those issues by taking the
simple approach for storing relatively standard Git pack and index
files on an abstract filesystem. Packs are accessed by an in-process
buffer cache, similar to the WindowCache used by the local filesystem
storage layer. Unlike the local file IO, there are some assumptions
that the storage system has relatively high latency and no concept of
""file handles"". Instead it looks at the file more like HTTP byte range
requests, where a read channel is a simply a thunk to trigger a read
request over the network.

The DFS code in this change is still abstract, it does not store on
any particular filesystem, but is fairly well suited to the Amazon S3
or Apache Hadoop HDFS. Storing packs directly on HDFS rather than
HBase removes a layer of abstraction, as most HBase row reads turn
into an HDFS read.

Most of the DFS code in this change was blatently copied from the
local filesystem code. Most parts should be refactored to be shared
between the two storage systems, but right now I am hesistent to do
this due to how well tuned the local filesystem code currently is.

Change-Id: Iec524abdf172e9ec5485d6c88ca6512cd8a6eafb",0,1,0,0,1,0,1,23,1
3931,Ic77dcac542cfa97213a6b0194708f9d3c256d223,https://git.eclipse.org/r/#/c/3931,2,658742dd3ba8c00355fb7a09672f4b8726650645,9982e7459ee9677be01a0f792285a86976074488,1,06/08/11,06/08/11,20,"IndexPack: Fix ""Resolving deltas"" progress meter","IndexPack: Fix ""Resolving deltas"" progress meter

This progress meter never reached 100% as it did not update while
resolving the external bases in thin packs.

Instead of updating in batches at the top level, update once per delta
that is resolved. The batching progress meter type should smooth out
the frequent updates to an update rate that is more reasonable to send
to the UI, while also ensuring a successful pack parse always reaches
100% deltas resolved.

Change-Id: Ic77dcac542cfa97213a6b0194708f9d3c256d223
Signed-off-by: Shawn O. Pearce <spearce@spearce.org>",0,0,0,0,0,0,0,0,0
3932,I440baa64ab0dfa21be61deae8dcd3ca061bed8ce,https://git.eclipse.org/r/#/c/3932,2,653d682dcbec3a53cef1c0319dceb0faffe9764f,2d82a0697610d0aad47b3afea4cd6363ac9f83d4,1,06/08/11,06/08/11,7,"IndexPack: Defer the ""Resolving deltas"" progress meter","IndexPack: Defer the ""Resolving deltas"" progress meter

If delta resolution completes in < 1000 milliseconds, don't bother
showing the progress meter. This is actually very common for a Gerrit
Code Review server, where the client is probably sending 1 commit and
only a few trees/blobs modified... and the base objects are hot in the
process buffer cache.

The 1000 millisecond delay is just a guess at a reasonable time to wait.

Change-Id: I440baa64ab0dfa21be61deae8dcd3ca061bed8ce
Signed-off-by: Shawn O. Pearce <spearce@spearce.org>",0,0,0,0,0,0,0,0,0
3933,I58110f17e2a5ffa0134f9768b94804d16bbb8399,https://git.eclipse.org/r/#/c/3933,2,8fdd83a7d2b6edbae83034d0031ad1bad5a6503b,75a5535c8fe91d90b31de946353ca22f43687cea,1,06/08/11,06/08/11,16,PackWriter: Skip progress messages on fast operations,"PackWriter: Skip progress messages on fast operations

If the ""Finding sources"" phase will complete in <1 second with no
delta compression enabled, don't bother showing the progress meter for
this phase.  Small repositories on the local filesystem tend to rip
through this phase always subsecond and the ProgressMonitor display
can actually slow the operation down.

If delta compression is enabled, there are two phases that may run
very quickly. Set the timer to 500 milliseconds instead, reducing the
risk that the user has to wait longer than 1 second before any sort of
output from the packer occurs.

Change-Id: I58110f17e2a5ffa0134f9768b94804d16bbb8399
Signed-off-by: Shawn O. Pearce <spearce@spearce.org>",0,0,0,0,0,0,0,0,0
3947,Ie2dde43da491fa27b25a2ad8014866d77d484b24,https://git.eclipse.org/r/#/c/3947,2,256724f76f66acfc1a7d58adcb02b06ad1ac04cb,da4219cfb595417a61d378455d3cf155432e5114,0,02/08/11,02/08/11,3,"Don't hard-code section names, use ConfigConstants instead","Don't hard-code section names, use ConfigConstants instead

Change-Id: Ie2dde43da491fa27b25a2ad8014866d77d484b24",0,0,0,1,0,0,1,NA,NA
3949,Icfc9a9c76763f8a777087a1262c8d6ad251a9068,https://git.eclipse.org/r/#/c/3949,3,1e4f5a26f3d463ae72b4e8dbb47eb5d94682f4cd,a327c7d7aaa074595f27c2f60b97dc3e015b6afd,1,09/08/11,09/08/11,95,"Add isSuccessful to MergeStatus, RebaseResult.Status and PullResult","Add isSuccessful to MergeStatus, RebaseResult.Status and PullResult

This is useful when the result needs to be displayed and it's only of
interest if the operation was successful or not (in egit, it could be
used in MultiPullResultDialog).

Change-Id: Icfc9a9c76763f8a777087a1262c8d6ad251a9068
Signed-off-by: Robin Stocker <robin@nibor.org>",0,0,0,0,0,0,0,-1,0
3964,I11b81eb3125958af29247b485da56fd88c3bfdf5,https://git.eclipse.org/r/#/c/3964,2,a40a3d5279bfc4d9a8220600ab8b640009eed552,ab6c10b148798d20d2f5137547959552237bf6ee,1,13/08/11,13/08/11,7,Correct comment on CloneCommand.setRemote method.,"Correct comment on CloneCommand.setRemote method.

The previous comment stated that the value set was used
to keep track of the branch in the remote repository
which was incorrect.

Updated the method comment to match the format used
for the PushCommand.setRemote and FetchCommand.setRemote
methods.

Change-Id: I11b81eb3125958af29247b485da56fd88c3bfdf5
Signed-off-by: Kevin Sawicki <kevin@github.com>",0,0,0,0,0,1,1,0,0
3969,I293fac0e829c9baa12cb59411dffde666051d6c5,https://git.eclipse.org/r/#/c/3969,3,704cfae5f0a176272aac0d512755a832cf13d859,9a2cba033c7eb33cd7fcd2cad0d172d697179f11,1,10/08/11,10/08/11,9,Fix offset64 creation for objects at 2 GiB,"Fix offset64 creation for objects at 2 GiB

The offset32 format is used for objects before 2^31-1, while the
offset64 format is used for all other objects.  This condition was
missing the = needed to ensure an object placed exactly at 2^31
would have its 64 bit offset in the index.

Change-Id: I293fac0e829c9baa12cb59411dffde666051d6c5
Signed-off-by: Shawn O. Pearce <spearce@spearce.org>",0,0,0,0,0,0,0,0,0
3976,I6e1a1636f2634605d86671a83766cc1c42939821,https://git.eclipse.org/r/#/c/3976,1,dd705e69babf70cf30ec733119365c9b0f92a2bf,638c91b24278b9637d9b3568235af10bb45fc5c5,1,13/08/11,13/08/11,8,Fix jgit rev-list --objects master,"Fix jgit rev-list --objects master

This flag was not being honored due to a bug in createWalk().
argWalk is always non-null when there are commits passed in
on the command line. If --objects was specified, always make
a new ObjectWalk for the actual execution.

Change-Id: I6e1a1636f2634605d86671a83766cc1c42939821
Signed-off-by: Shawn O. Pearce <spearce@spearce.org>",0,0,0,0,0,0,0,0,0
3977,I16e30cd864f4189d4304e7957a7cd5bdb9e84528,https://git.eclipse.org/r/#/c/3977,1,638c91b24278b9637d9b3568235af10bb45fc5c5,11a7af3134eeb9c169cbe038923f4f91e124dfec,1,13/08/11,13/08/11,35,PackWriter: Only search for base objects on thin packs,"PackWriter: Only search for base objects on thin packs

A non-thin pack does not need to worry about preferred bases, the pack
will be self-contained and all required delta base objects will appear
within the pack itself. Obtaining the path buffer and length from the
ObjectWalk to build the preferred base table is ""expensive"", so avoid
the cost unless a thin pack is being constructed.

Change-Id: I16e30cd864f4189d4304e7957a7cd5bdb9e84528
Signed-off-by: Shawn O. Pearce <spearce@spearce.org>",0,0,0,0,0,0,0,0,0
3978,Ieb184bfaed8475d6960a494b1f3c870e0382164a,https://git.eclipse.org/r/#/c/3978,2,11a7af3134eeb9c169cbe038923f4f91e124dfec,b967b6dd0b1368ae3be14c8d658842f3bd4f008d,1,14/08/11,14/08/11,489,Speed up ObjectWalk by 6235 objects/sec,"Speed up ObjectWalk by 6235 objects/sec

The ""Counting objects"" phase of packing is the most time consuming
part for any server providing access to Git repositories. Scanning
through the entire project history, including every revision of
every tree that has ever existed is expensive and takes an incredible
amount of CPU time.

Inline the tree parsing logic, unroll a number of loops, and setup
to better handle the common case of seeing another occurrence of
an object that was already marked SEEN.

This change boosts the ""Counting objects"" phase when JGit is acting
as a server and is packing the linux-2.6 repository for its client.
Compared to CGit on the same hardware, a JGit daemon server is now
21883 objects/sec faster:

CGit:
  Counted 2058062 objects in 38981 ms at 52796.54 objects/sec
  Counted 2058062 objects in 38920 ms at 52879.29 objects/sec
  Counted 2058062 objects in 39059 ms at 52691.11 objects/sec

JGit (before):
  Counted 2058062 objects in 31529 ms at 65275.21 objects/sec
  Counted 2058062 objects in 30359 ms at 67790.84 objects/sec
  Counted 2058062 objects in 30033 ms at 68526.69 objects/sec

JGit (this commit):
  Counted 2058062 objects in 28726 ms at 71644.57 objects/sec
  Counted 2058062 objects in 27652 ms at 74427.24 objects/sec
  Counted 2058062 objects in 27528 ms at 74762.50 objects/sec

Above the first run was a ""cold server"". For JGit the JVM had just
started up with `jgit daemon`, and for CGit we hadn't touched the
repository ""recently"" (but it was certainly in kernel buffer cache).
The second and third runs were against the running JGit JVM, allowing
timing tests to better reflect the benefits of JGit's pack and index
caching, as well as any optimizations the JIT may have performed.

The timings are fair.  CGit is opening, checking and mmap'ing both
the pack and index during the timer.  JGit is opening, checking
and malloc+read'ing the pack and index data into its Java heap
during the timer. Both processes are walking the same graph space,
and are computing the ""path hash"" necessary to sort objects in the
object table for delta compression.  Since this commit only impacts
the ""Counting objects"" phase, delta compression was obviously not
included in the timings and JGit may still be performing delta
compression slower than CGit, resulting in an overall slower server
experience for clients.

Change-Id: Ieb184bfaed8475d6960a494b1f3c870e0382164a
Signed-off-by: Shawn O. Pearce <spearce@spearce.org>",0,0,0,0,0,0,0,0,0
3996,I7413a9ef89762208159b4a1adc5a22a4c9245611,https://git.eclipse.org/r/#/c/3996,1,b967b6dd0b1368ae3be14c8d658842f3bd4f008d,eee757d41ffa62a5aad27f5000de07eeea6ef6b7,1,14/08/11,14/08/11,4,"Revert ""PackWriter: Do not delta compress already packed objects""","Revert ""PackWriter: Do not delta compress already packed objects""

This reverts commit 67b064fc9fa7418fab83957b4f4e4baf9c6e08be.

The ""tiny optimization"" introduced by 67b0 turns out to have a big
savings on wall-clock time when the object store is very slow (e.g.
the DHT support in JGit), but comes with a much bigger penalty in
space used by the output stream.  CGit packed with 67b0 enabled is
7 MiB larger than it should be (36 MiB rather than 28/29 MiB).  The
much bigger Linux kernel repository gained over 200 MiB, though some
of this may have been caused by a smaller window setting.

Revert this patch as PackWriter should be optimizing for space used
rather than time spent, since its primary use is network transfer, and
that isn't free.

Change-Id: I7413a9ef89762208159b4a1adc5a22a4c9245611
Signed-off-by: Shawn O. Pearce <spearce@spearce.org>",0,0,0,0,0,0,0,0,0
3997,Id7f34df69df97be406bcae184308e92b0e8690fd,https://git.eclipse.org/r/#/c/3997,8,eee757d41ffa62a5aad27f5000de07eeea6ef6b7,041a668f79369024519c7d454cea8edd4942ca9f,1,21/08/11,21/08/11,50,PackWriter: support excluding objects already in other packs,"PackWriter: support excluding objects already in other packs

This can be useful when implementing garbage collection and there
are packs that should not be copied, such as huge packs that have
a sibling "".keep"" file alongside of them.

Callers driving PackWriter need to initialize the list of packs not
to include objects from by passing each index to excludeObjects().

Change-Id: Id7f34df69df97be406bcae184308e92b0e8690fd
Signed-off-by: Shawn O. Pearce <spearce@spearce.org>",0,1,0,0,0,0,1,0,0
3999,If948ae3bf1f46e756bd2d5db14795e12ba7a6207,https://git.eclipse.org/r/#/c/3999,4,35c9d7ef31d0c30d808ddb7271140bd8c5e607fa,598826e055324f09e729771dfa4da25d5cad3bd6,1,18/08/11,18/08/11,144,PackWriter: Make want/have actual sets,"PackWriter: Make want/have actual sets

During parsing these are used with contains(). If they are a List
type, the contains operation is not efficient. Some callers such
as UploadPack often pass a List here, so convert to Set when the
type isn't efficient for contains().

Change-Id: If948ae3bf1f46e756bd2d5db14795e12ba7a6207
Signed-off-by: Shawn O. Pearce <spearce@spearce.org>",0,1,0,0,0,0,1,0,0
4013,I7f60ae6848455a357b25feedb23743bbf6c153cf,https://git.eclipse.org/r/#/c/4013,5,561cde9bcfd1449329823b092b8fd420ef9391e9,d96deaa2ee25581f011eaa1268225956003229fe,1,07/10/11,07/10/11,24,PackWriter: Export more statistics,"PackWriter: Export more statistics

Export the shallow pack information, and also a handy function to
sum up the total times.  Include the time writing out the index file,
if it was created.

Change-Id: I7f60ae6848455a357b25feedb23743bbf6c153cf
Signed-off-by: Shawn O. Pearce <spearce@spearce.org>",0,1,0,0,0,0,1,0,0
4015,Ie5f137f0dda440f5879f6d5c62ebce0431530ad7,https://git.eclipse.org/r/#/c/4015,1,b0bf11c2a4c1362dae26e0f43cce7e863d79116a,eab7650598f72cfddf16733dfb6b36464177877a,1,17/08/11,17/08/11,2,Fix typo in IndexDiff.getModified() comment.,"Fix typo in IndexDiff.getModified() comment.

Removes an extra instance of the word 'on'.

Change-Id: Ie5f137f0dda440f5879f6d5c62ebce0431530ad7
Signed-off-by: Kevin Sawicki <kevin@github.com>",0,0,0,0,0,1,1,0,0
4020,I54ae237cab792742333a249eb5a774d5e1775af8,https://git.eclipse.org/r/#/c/4020,2,36cbc48e944f4219e04f60d7512ae80866e90cd9,4a57cf14e7822f575e1489fc9d62ab69363f5040,1,21/08/11,21/08/11,220,Add DeleteTagCommand to JGit API,"Add DeleteTagCommand to JGit API

Bug: 353226
Change-Id: I54ae237cab792742333a249eb5a774d5e1775af8",0,0,0,0,0,0,0,0,0
4023,I4f819410fa6df3064c560beb3184b61fd7bb1f15,https://git.eclipse.org/r/#/c/4023,4,ba09fa5ebb2a70cc5b60b127f5caf2709d85bbe4,27fc9379cc3f7997119f980c74750b1b23157e61,1,17/08/11,17/08/11,47,Use HEAD as default ref for RefLogCommand.,"Use HEAD as default ref for RefLogCommand.

This mirrors the command-line default behavior.

Change-Id: I4f819410fa6df3064c560beb3184b61fd7bb1f15
Signed-off-by: Kevin Sawicki <kevin@github.com>",0,1,0,0,0,1,1,0,0
4036,I710394fe6675e0e5aa66d9118c5b10d433aa30ea,https://git.eclipse.org/r/#/c/4036,2,892bbb3f4c3c81b7cd23bc0b2ecfcd7f3add3fad,b574fe569b40dd3aac093319ea495d8b421b61ed,1,23/12/11,23/12/11,145,"DiffFormatter#format(List) fails unless #scan(ATI, ATI) is called first","DiffFormatter#format(List) fails unless #scan(ATI, ATI) is called first

Bug: 354919
Change-Id: I710394fe6675e0e5aa66d9118c5b10d433aa30ea",0,0,0,0,0,0,0,0,0
4056,I2861b45fe083675e12ff47f591e104f8cf6dd216,https://git.eclipse.org/r/#/c/4056,1,56c5e8e4ce62ab34aa47baa520e83d19e84aefdd,7a49e54491001532bd0b59cdebfbcbf55c7f8b60,1,25/08/11,25/08/11,31,Unwind loop that iterates over fetch connection refs.,"Unwind loop that iterates over fetch connection refs.

Create separate loops based on whether the ref specs
collection is empty or not.

Change-Id: I2861b45fe083675e12ff47f591e104f8cf6dd216
Signed-off-by: Kevin Sawicki <kevin@github.com>",0,0,0,0,0,1,1,0,0
4057,I113bcf82c6292db5269271f799d09c80acc40bcd,https://git.eclipse.org/r/#/c/4057,2,e5572072e292072bf2033896984103c8484919a7,a30209c95193212082bc865f665ec31394ce40b7,1,24/08/11,24/08/11,11,"Use JGitText.refAlreadExists instead of ""ref exists""","Use JGitText.refAlreadExists instead of ""ref exists""

Change-Id: I113bcf82c6292db5269271f799d09c80acc40bcd",0,0,0,1,0,0,1,0,0
4062,I35cef13d8be4f06515668f710fd508700b90f44d,https://git.eclipse.org/r/#/c/4062,2,aa104e8dedafcdd3c5059c3f4879b47bb0759556,dd54d1491e9fb6a8371d4e6fbb18d2966e6e34af,1,04/10/11,04/10/11,2,Add missing comment text for mergeCommitTree parameter,"Add missing comment text for mergeCommitTree parameter

Change-Id: I35cef13d8be4f06515668f710fd508700b90f44d
Signed-off-by: Kevin Sawicki <kevin@github.com>",0,0,0,1,0,1,1,0,0
4064,I5114968536853fb530b8a96c10def675e39c884f,https://git.eclipse.org/r/#/c/4064,1,223b4fdbfe41a24cdce3ac850dc59a75970f9f05,e3ae1a67a6d5f0e20dd2d09a7bbfa7f829a76870,1,24/08/11,24/08/11,14,Fix boxing warnings in PushProcessTest,"Fix boxing warnings in PushProcessTest

Change-Id: I5114968536853fb530b8a96c10def675e39c884f",0,0,0,1,0,0,1,0,0
4066,I717d75d6f6154a6e0dc7cde3b72b0a59c68d955c,https://git.eclipse.org/r/#/c/4066,1,4e5c02b4326240f0a87d5599318fcfb239007bef,74fbe9196e011a17d1d989e3f3b9c7093f0ad30c,1,25/08/11,25/08/11,2,Reassign symbolic ref list after calling put.,"Reassign symbolic ref list after calling put.

This is required since RefList.put returns a new RefList.

Change-Id: I717d75d6f6154a6e0dc7cde3b72b0a59c68d955c
Signed-off-by: Kevin Sawicki <kevin@github.com>",0,0,0,0,0,1,1,0,0
4071,Ifd84cd2bd6b46f087c9984fb4cbd8309f483dec0,https://git.eclipse.org/r/#/c/4071,1,d5f0c654c2879e569f0b9fdf96375f6a68e221c5,75cfc9fbc68f46a1922cd39dd0c3150e975f70e1,0,25/08/11,25/08/11,35,Tolerate zlib deflation with window size < 32Kb,"Tolerate zlib deflation with window size < 32Kb

JGit currently identifies loose objects as 'corrupt' if they've been
deflated using a window size less than 32Kb, because the
isStandardFormat() function doesn't recognise the header
byte as a zlib header. This patch makes the method tolerant of
all valid window sizes (15-bit to 8-bit) - but doesn't sacrifice
it's accuracy in distingushing the standard loose-object format
from the experimental (now abandoned) format. It's based on a patch
which has been merged into C-Git master branch:

https://github.com/git/git/commit/7f684a2aff636f44a506

On memory constrained systems zlib may use a much smaller window
size - working on Agit, I found that Android uses a 4KB window;
giving a header byte of 0x48, not 0x78. Consequently all loose
objects generated by the Android platform appear 'corrupt' :(

It might appear that this patch changes isStandardFormat() to the
point where it could incorrectly identify the experimental format as
the standard one, but the two criteria (bitmask & checksum) can only
give a false result for an experimental object where both of the
following are true:

1) object size is exactly 8 bytes when uncompressed (bitmask)
2) [single-byte in-pack git type&size header] * 256
   + [1st byte of the following zlib header] % 31 = 0 (checksum)

As it happens, for all possible combinations of valid object type
(1-4) and window bits (0-7), the only time when the checksum will be
divisible by 31 is for 0x1838 - ie object type *1*, a Commit - which,
due the fields all Commit objects must contain, could never be as
small as 8 bytes in size.

Given this, the combination of the two criteria (bitmask & checksum)
always correctly determines the buffer format, and is more tolerant
than the previous version.

References:

Android uses a 4KB window for deflation:
http://android.git.kernel.org/?p=platform/libcore.git;a=blob;f=luni/src/main/native/java_util_zip_Deflater.cpp;h=c0b2feff196e63a7b85d97cf9ae5bb2583409c28;hb=refs/heads/gingerbread#l53

Code snippet searching for false positives with the zlib checksum:
https://gist.github.com/1118177

Change-Id: Ifd84cd2bd6b46f087c9984fb4cbd8309f483dec0",0,0,0,0,0,0,0,NA,NA
4076,I7cdb563bf9c55c83653f217f6e53c3add55a0541,https://git.eclipse.org/r/#/c/4076,2,75cfc9fbc68f46a1922cd39dd0c3150e975f70e1,cddcd48491e0170b9381a51d915db9db69e09df7,1,07/10/11,07/10/11,118,UploadPack: Fix races in smart HTTP negotiation,"UploadPack: Fix races in smart HTTP negotiation

Clients cache the set of advertised references at the start of a
negotiation, and keep replaying the same ""want SHA1"" list to the
server on each negotiation step.  If another client pushes into
a branch and moves it by fast-forward, any request to obtain that
branch's prior SHA-1 is still valid, the commit is reachable from
the new position of the reference.  Unfortunately the fast-forward
causes smart HTTP negotations to fail, as the server no longer is
advertising that prior SHA-1.

Instead of causing clients to fail out with a ""want invalid"" error
and forcing the end-user retry, possibly getting into a never ending
try-fail-retry race while other clients are pushing into the same
busy repository, allow the slightly stale want request so long as
it is still reachable.

C Git implemented this same change recently to fix races on the
smart HTTP protocol when the C Git git-http-backend is used.

The new RequestPolicy feature also allows server authors to make
an even more lenient configuration that exports any SHA-1 to the
client. This might be useful in certain settings where a server
has authenticated the client as the ""repository owner"" and wants
to allow them to grab any content from the server as a complete
unbroken history chain.

The new setAdvertisedRefs() method allows server authors to manually
fix the references that are advertised, possibly bypassing the
getAllRefs() call on the Repository object.

Change-Id: I7cdb563bf9c55c83653f217f6e53c3add55a0541
Signed-off-by: Shawn O. Pearce <spearce@spearce.org>",0,0,0,0,0,0,0,0,0
4077,I0946b4beb2d1c3af289ddbbb5641d2f4e4c49d3f,https://git.eclipse.org/r/#/c/4077,3,d323b06a60888b8ec9b648a329067c104a8015b5,323d6187d000a865211b4dafc5311516297aa210,1,28/08/11,28/08/11,4,"Use the appriopraye contsnat for "".git""","Use the appriopraye contsnat for "".git""

We have two constants with the smae content. DOT_GIT is intended
for the git repository below the work tree, while DOT_GIT_EXT is
the "".git"" directory extension usually associated with bare
repositories.

Change-Id: I0946b4beb2d1c3af289ddbbb5641d2f4e4c49d3f
Signed-off-by: Robin Rosenberg <robin.rosenberg@dewire.com>",0,0,0,0,0,0,0,0,0
4082,I8983c3627cdd7d7b2aeb0b6a3dadee553378b951,https://git.eclipse.org/r/#/c/4082,2,42d02e08c27b9cf813a3a25f24b73d2c0ff81a13,f570c4db7546a09a4cff99d9bfb90e01d2af8459,1,27/10/11,27/10/11,142,Enable full Transport configuration for JGit API commands,"Enable full Transport configuration for JGit API commands

Add a TransportConfigCallback parameter to JGit API commands to allow
transport-type-specific configuration to be set on the Transport
after it's been created.

My specific use-case is configuring additional properties on
SshTransport - I need to take over the SshSessionFactory used by the
transport. Using the TransportConfigCallback parameter I can simply
do this (rather than reimplement the commands):

public void configure(Transport tn) {
  if (tn instanceof SshTransport) {
    ((SshTransport) tn).setSshSessionFactory(factoryProvider.get());
  }
}

The Transport type is only known once the remote has been resolved
and the URI parsed, which is why it makes sense to have this as a
callback- passing the generated Transport object back to the user
allows them to easily configure it without restriction.

Alternatives to this approach:

- Specifically add a SshSessionFactory parameter to JGit API
commands, which would add nasty transport-specific code to the API
and set a bad precedent for ballooning the API with other transport-
specific parameters.

- Allow users to pre-create the Transport and set it on the command.
Not good: the user has to resolve the remote for themselves.

- A non-static Transport-factory approach, letting user supply the
command a TransportFactory. A larger change (removing all the static
'open()' methods from Transport) and more than I need for this use
case at least - I'm happy enough with the transport resolution, I
just want to configure the transport once it's generated.

-so the callback is the best option in my view.

A note about where this leaves the API - there are now 4 commands:

CloneCommand
PullCommand
FetchCommand
PushCommand

-that share 3 identical transport-related parameters:

timeout
credentialsProvider
transportConfigurator

I think there's potential for introducing an interface or val-object
to identify/encapsulate this repetition, which I'd be happy to do in
a subsequent commit.

Change-Id: I8983c3627cdd7d7b2aeb0b6a3dadee553378b951",0,0,0,0,0,0,0,1,1
4088,If43f5ee573c9abaa0359ea2386477b379012e834,https://git.eclipse.org/r/#/c/4088,3,c7e46deb6e791645de0206fc62d59c4cf0430a7c,b446434b5228db7ac7b8b5a1417dc6f5c2cf8719,0,05/09/11,05/09/11,29,Define os/ws/arch environments for tycho build,"Define os/ws/arch environments for tycho build

Explicitly define os/ws/arch environments for
target-platform-configuration to make build platform
independent.

Change-Id: If43f5ee573c9abaa0359ea2386477b379012e834
Signed-off-by: Matthias Sohn <matthias.sohn@sap.com>",0,0,0,0,0,0,0,NA,NA
4107,Ie6d65fe45ad92c813ce3a227729aa43681922249,https://git.eclipse.org/r/#/c/4107,1,fdd511200c287c11a9b3f270de7feea352692efc,5ad837bbc8866579a9d809344ce4028c1a6c012e,0,01/09/11,01/09/11,100,JGit v1.1.0.201109011030-rc2,"JGit v1.1.0.201109011030-rc2

Change-Id: Ie6d65fe45ad92c813ce3a227729aa43681922249
Signed-off-by: Matthias Sohn <matthias.sohn@sap.com>",1,0,0,1,0,0,1,NA,NA
4108,I8dda83cdbe88beba4a480df9846848bf3aceb9e2,https://git.eclipse.org/r/#/c/4108,1,5ad837bbc8866579a9d809344ce4028c1a6c012e,cb60f8f177bc5d9d537f1bade78167a9a7922a8c,0,01/09/11,01/09/11,100,Prepare post-v1.1.0.201109011030-rc2 builds,"Prepare post-v1.1.0.201109011030-rc2 builds

Change-Id: I8dda83cdbe88beba4a480df9846848bf3aceb9e2
Signed-off-by: Matthias Sohn <matthias.sohn@sap.com>",1,0,0,1,0,0,1,NA,NA
4118,I5e9c65a082d9dee1e87536c5cf2a8de75efa6a33,https://git.eclipse.org/r/#/c/4118,1,cb60f8f177bc5d9d537f1bade78167a9a7922a8c,b51f06967cda914865ae61f520d756e8ae00c634,1,03/09/11,03/09/11,1,[blame] Reset rename detector before computing renames.,"[blame] Reset rename detector before computing renames.

Bug: 354507
Change-Id: I5e9c65a082d9dee1e87536c5cf2a8de75efa6a33
Signed-off-by: Kevin Sawicki <kevin@github.com>",0,0,0,0,0,1,1,0,0
4127,I0bea130df611de3ef8c9251093b11c62b5442cd1,https://git.eclipse.org/r/#/c/4127,2,e8830d8af6634482bd55d5b60ecef2b61611ff46,3ae2edba99834e7714b605f40b98bd00270c3dd1,1,26/09/11,26/09/11,12,"Fix DirCache,getEntriesWithin when prefix is the empty string","Fix DirCache,getEntriesWithin when prefix is the empty string

Change-Id: I0bea130df611de3ef8c9251093b11c62b5442cd1",0,0,0,1,0,0,1,0,0
4135,I853774ecc1662d095a50a9668431c6e3ce4156c4,https://git.eclipse.org/r/#/c/4135,4,ddc8c649ba6d24eefa554c68328f72a2fb68fb0a,98d2ce5ba547bdfd74c396352b331692170bff56,0,30/09/11,30/09/11,42,Add blame unit test for file that is renamed twice.,"Add blame unit test for file that is renamed twice.

This test verifies the fix for bug354507.


Change-Id: I853774ecc1662d095a50a9668431c6e3ce4156c4
Signed-off-by: Kevin Sawicki <kevin@github.com>",0,1,0,0,0,1,1,NA,NA
4138,I91c7e08c4afd2562df2226887a933d93c78a0371,https://git.eclipse.org/r/#/c/4138,2,19338b69f676e3ffda4e0d789002b7a3fc1acdd9,59b199563bcdd0462b8886b2a300dc16415cc459,1,05/09/11,05/09/11,109,Add a helper for parsing branch switch info out of a reflog entry,"Add a helper for parsing branch switch info out of a reflog entry

Change-Id: I91c7e08c4afd2562df2226887a933d93c78a0371
Signed-off-by: Robin Rosenberg <robin.rosenberg@dewire.com>",0,0,0,1,0,0,1,-1,0
4139,Id973d9102593872e4df41d0788f0eb7c7fd130c4,https://git.eclipse.org/r/#/c/4139,2,66c5c1a68e3a57aa8a00036a68ab798519c98453,4c6244793464a1e76209867e95cd44d05fa9e93b,1,05/09/11,05/09/11,14,Fix the names in the reflog for checkouts,"Fix the names in the reflog for checkouts

We were diverging from the reference implementation. Always use the
ref we checkout to as the to-branch the reflog and avoid the
refs/heads both in the from-name and to-name.

Change-Id: Id973d9102593872e4df41d0788f0eb7c7fd130c4
Signed-off-by: Robin Rosenberg <robin.rosenberg@dewire.com>",0,0,0,0,0,0,0,0,0
4148,I54a8de885ae3e6c45a778171dad6f6e5e9322114,https://git.eclipse.org/r/#/c/4148,1,a0ca44fbcf59689f80ac65d0073b1b36084204f3,d0346f613e8cdbd02d158aefb1acb07ac9da6575,0,05/09/11,05/09/11,2,Remove workarounds for fixed Tycho bugs,"Remove workarounds for fixed Tycho bugs

This removes the workaround for Tycho bug
- http://issues.sonatype.org/browse/TYCHO-313
which has been fixed.

Change-Id: I54a8de885ae3e6c45a778171dad6f6e5e9322114
Signed-off-by: Matthias Sohn <matthias.sohn@sap.com>",0,0,0,0,0,0,0,NA,NA
4159,I05812abf0eb0651d22c439142640f173fc2f2ba0,https://git.eclipse.org/r/#/c/4159,1,728cf0bb0b7f2eb9ba87008c98f49feb9deffa07,3999fb40af26dc6ad4ada9da3d7630befc0c6814,0,07/09/11,07/09/11,133,Use commit message best practices for Mylyn Commit template,"Use commit message best practices for Mylyn Commit template

We should use a template for Mylyn commit messages that matches with our
guidelines for commit messages.

http://wiki.eclipse.org/EGit/Contributor_Guide#Commit_message_guidelines

Bug: 337401
Change-Id: I05812abf0eb0651d22c439142640f173fc2f2ba0
Signed-off-by: Matthias Sohn <matthias.sohn@sap.com>",1,0,0,0,0,0,1,NA,NA
4164,I1128c2cdfec9db3023d4d0f1f40d863e84b75950,https://git.eclipse.org/r/#/c/4164,1,2c500ebfed8cf0aa9f5093a09e97dce5a8e49e49,6d5a12fd50a53c5176b73ec82190650b1692158d,0,10/09/11,10/09/11,2,Fix IOOBE in Repository.resolveSimple(),"Fix IOOBE in Repository.resolveSimple()

IndexOutOfBoundException is thrown from Repository.resolveSimple() when
'-g' string is located less then 4 characters from the end of this
string.

Change-Id: I1128c2cdfec9db3023d4d0f1f40d863e84b75950
Signed-off-by: Dariusz Luksza <dariusz@luksza.org>",0,0,0,0,0,0,0,NA,NA
4168,Iea944e11e80134fbafc4c47383457d5ed11a4164,https://git.eclipse.org/r/#/c/4168,4,30d0d77beb8960296d32eceede256779947a01ba,0992216e0b0f96ffe8ff467dea6b5a4876fcee2f,0,30/09/11,30/09/11,6,New config constant for default source reference,"New config constant for default source reference

This constant will be read by the Create branch dialog to determine the
default source reference, if the user don't want to create the branch
from the current HEAD.

Change-Id: Iea944e11e80134fbafc4c47383457d5ed11a4164",0,1,0,0,0,0,1,NA,NA
4170,I21dcd3cca3b41102fd898238d8d640dea25e0caf,https://git.eclipse.org/r/#/c/4170,2,1ee5b86d64b4d900b1cf4bd77a602cb5f9149073,ad11928603d75e61a2fbbb491639bd32e2c7e13f,1,02/10/11,02/10/11,6,Do not attempt to resolve describe-labels with less than four digits,"Do not attempt to resolve describe-labels with less than four digits

Change-Id: I21dcd3cca3b41102fd898238d8d640dea25e0caf
Signed-off-by: Robin Rosenberg <robin.rosenberg@dewire.com>",0,0,0,1,0,0,1,0,0
4178,I865c4905997d9834c85a97fbe7287604daf99075,https://git.eclipse.org/r/#/c/4178,8,b770e18b1ebabba3df025eefc540644c5a1d3804,9036445e6317f0ce3924981d14a2620b625fc4d5,1,10/02/12,07/03/12,23,Remove ambiguous CheckoutConflictException,"Remove ambiguous CheckoutConflictException

Bug: 356922
Change-Id: I865c4905997d9834c85a97fbe7287604daf99075",0,1,0,0,0,0,1,3,1
4187,I1b989d3101272632eacabe25a0b111ad0ff5bb3b,https://git.eclipse.org/r/#/c/4187,1,650b11b738d363ae162ef63f437a9e0f650ff79f,5e31d742fda7df2017faec652a74438c3de089a8,0,07/09/11,07/09/11,98,JGit v1.1.0.201109071825-rc3,"JGit v1.1.0.201109071825-rc3

Change-Id: I1b989d3101272632eacabe25a0b111ad0ff5bb3b
Signed-off-by: Matthias Sohn <matthias.sohn@sap.com>",1,0,0,1,0,0,1,NA,NA
4189,I1244f6639263d156a6f9e4530167e5eb1826a535,https://git.eclipse.org/r/#/c/4189,1,5e31d742fda7df2017faec652a74438c3de089a8,fe8dbfa61b2d153d06355ee747c78b099a2663cc,0,07/09/11,07/09/11,98,Prepare post v1.1.0.201109071825-rc3 builds,"Prepare post v1.1.0.201109071825-rc3 builds

Change-Id: I1244f6639263d156a6f9e4530167e5eb1826a535
Signed-off-by: Matthias Sohn <matthias.sohn@sap.com>",1,0,0,1,0,0,1,NA,NA
4192,I202c695a57af99b13d0d7220803fd08def3d9b5e,https://git.eclipse.org/r/#/c/4192,5,f5c898ca403cb6c7b75cd4df61eb6042602773c5,ccc48e64d5fb0ad3fa8be97b53b2b608f6066519,1,09/09/11,09/09/11,55,Ignore submodule on checkout instead of deleting itt,"Ignore submodule on checkout instead of deleting itt

The purpose of this commit is to prevent destruction of
submodules on checkout from a tree with a submodule to
another. For consistency we handle the reverse case too,
when we checkout a branch that has a submodule and the
submodule directory exists. And finally we ignore the
case where the submodule changes.

We do not update the submodules, we just try to ignore
them harder.

Bug: 356664
Change-Id: I202c695a57af99b13d0d7220803fd08def3d9b5e
Signed-off-by: Robin Rosenberg <robin.rosenberg@dewire.com>",0,1,0,0,0,0,1,0,0
4194,I642ede382314bfbd1892dd509a2222885cc5350a,https://git.eclipse.org/r/#/c/4194,4,3a8a78cb1fd583d16159a426ac13925bfb0c4113,6ebefbff29745305410d95735567af31137bd7ee,0,09/09/11,09/09/11,28,Allow commit when submodule changes are present,"Allow commit when submodule changes are present

We do not yet check or validate submodules, but can accept that
someone staged a change in a submodule with other tools.

Change-Id: I642ede382314bfbd1892dd509a2222885cc5350a
Signed-off-by: Robin Rosenberg <robin.rosenberg@dewire.com>",0,1,0,0,0,0,1,NA,NA
4201,I107713ad0b356516d75c29203f945b056bad3ac7,https://git.eclipse.org/r/#/c/4201,2,8b83d332ddf527605d57cd8dd8ad1a3e5151786a,fd17a88a5d7600a60859693e06a1abcd69580a9c,1,08/09/11,08/09/11,18,cleanup: Use the local variable that we have for the DirCacheEntry,"cleanup: Use the local variable that we have for the DirCacheEntry

Change-Id: I107713ad0b356516d75c29203f945b056bad3ac7
Signed-off-by: Robin Rosenberg <robin.rosenberg@dewire.com>",0,0,0,1,0,0,1,0,0
4205,I82d8300cf3c53cb2bdcb6495386aadb803e0c6f7,https://git.eclipse.org/r/#/c/4205,2,4eff94a8265398f0145d72cfba260bacc0af9be5,d65184b3d4fe815a209e6e682238a960e384cc5e,1,21/09/11,21/09/11,42,"Fix the reflog prefix for cherry-pick, revert and merge commands","Fix the reflog prefix for cherry-pick, revert and merge commands

We should see whether the commit was a regular commit or something
else.

Change-Id: I82d8300cf3c53cb2bdcb6495386aadb803e0c6f7
Signed-off-by: Robin Rosenberg <robin.rosenberg@dewire.com>",0,0,0,0,0,0,0,0,0
4206,Ia0e73208b86c45a3d96698e973f6e70ec5cb7303,https://git.eclipse.org/r/#/c/4206,2,f15003ff898ab5c9d9825012091164d5f7bd6f87,60e751f984ce55b841fa4c3338acb6c19282874a,1,21/09/11,21/09/11,4,Append merge strategy to reflog message,"Append merge strategy to reflog message

Change-Id: Ia0e73208b86c45a3d96698e973f6e70ec5cb7303
Signed-off-by: Robin Rosenberg <robin.rosenberg@dewire.com>",0,0,0,1,0,0,1,0,0
4207,I319f09577b3e04f6c31399fe8e57e9a9ad2c8a6c,https://git.eclipse.org/r/#/c/4207,2,d4c969feb68d639c9b1bcdd338f7c4a5613dd9c2,45c30762cccf9149532064e3d38c70e1e5f2eb10,1,21/09/11,21/09/11,62,"Test the reflog message for commit, cherry-pick, revert and merge","Test the reflog message for commit, cherry-pick, revert and merge

Change-Id: I319f09577b3e04f6c31399fe8e57e9a9ad2c8a6c
Signed-off-by: Robin Rosenberg <robin.rosenberg@dewire.com>",0,0,0,1,0,0,1,0,0
4218,I4a679102c9a1bd8e82b9ca93eb9dbbde445e9be4,https://git.eclipse.org/r/#/c/4218,3,0e925b92fe024c71ffe80e122f6fac364adb0d82,7da1305f29f9b5ff2d9fda9ebbda16de71557caf,1,22/09/11,22/09/11,31,Remove use of GitIndex to detect index changes,"Remove use of GitIndex to detect index changes

We can detect index changes using FileSnapshot. This is more efficient
and removes usage of a deprecated class.

Change-Id: I4a679102c9a1bd8e82b9ca93eb9dbbde445e9be4
Signed-off-by: Matthias Sohn <matthias.sohn@sap.com>",0,0,0,0,0,0,0,1,1
4219,Id4311f7a7859ffe8738863b3d86c83c8b5f513af,https://git.eclipse.org/r/#/c/4219,9,2cf12e3ca686e13975ed016647044dffc8a451c2,2aed07885cc859209996bc43a4f9b787a9aadfc8,1,30/09/11,30/09/11,169,[RFC] Fire IndexChangedEvent on DirCache.commit(),"[RFC] Fire IndexChangedEvent on DirCache.commit()

Since we replaced GitIndex by DirCache JGit didn't fire
IndexChangedEvents anymore. For EGit this still worked with a high
latency since its RepositoryChangeScanner which is scheduled to
run each 10 seconds fires the event in case the index changes.
This scanner is meant to detect index changes induced by a different
process e.g. by calling ""git add"" from native git.

When the index is changed from within the same process we should fire
the event synchronously.

Change-Id: Id4311f7a7859ffe8738863b3d86c83c8b5f513af
Signed-off-by: Matthias Sohn <matthias.sohn@sap.com>",0,1,0,0,0,0,1,0,0
4229,I6ab9e5cb48c036d2ee2e548f5ec040d93672d8ad,https://git.eclipse.org/r/#/c/4229,1,874c570c047328219d6640ff9e4d5447d3138558,d0034ebef69582879417bf93d3df304ed5121c21,0,11/09/11,11/09/11,0,Merge branch 'stable-1.1',"Merge branch 'stable-1.1'

* stable-1.1:
  Allow commit when submodule changes are present
  Ignore submodule on checkout instead of deleting it
  cleanup: Reuse local variable for current DirCacheEntry
  Prepare post v1.1.0.201109071825-rc3 builds
  JGit v1.1.0.201109071825-rc3
  Use commit message best practices for Mylyn Commit template

Change-Id: I6ab9e5cb48c036d2ee2e548f5ec040d93672d8ad
Signed-off-by: Matthias Sohn <matthias.sohn@sap.com>",1,0,0,0,0,0,1,NA,NA
4240,I2b249a784f9e363430e288aad67fcefb7fac0a6e,https://git.eclipse.org/r/#/c/4240,1,d0034ebef69582879417bf93d3df304ed5121c21,6c24505fd6b7def6accea526d0e0a50b06c80511,1,25/09/11,25/09/11,9,Remove duplicate calls to DirCache.unlock on checkout,"Remove duplicate calls to DirCache.unlock on checkout

Calls to unlock the DirCache before throwing an exception
were not needed since checkout calls doCheckout wrapped
in a try block that calls DirCache.unlock in a finally
block.

Change-Id: I2b249a784f9e363430e288aad67fcefb7fac0a6e
Signed-off-by: Kevin Sawicki <kevin@github.com>",0,0,0,0,0,1,1,0,0
4249,Ia154da79926ce25731e856bed264dd19a76bc1f1,https://git.eclipse.org/r/#/c/4249,2,715be0b97c3b3bb9d1613d60407c51ba391cb443,2c30a994b6e3a2ea6ea016c8e0f21a4547641a06,1,22/09/11,22/09/11,6,Fix warnings in org.eclipse.jgit.pgm.RevWalkTextBuiltin,"Fix warnings in org.eclipse.jgit.pgm.RevWalkTextBuiltin

* warning about boxing into Long
* warning about unused params of #show

Change-Id: Ia154da79926ce25731e856bed264dd19a76bc1f1",0,0,0,0,0,0,0,0,0
4250,Iadcec7e5973600e005cbdeb837fa197d3ae2ea86,https://git.eclipse.org/r/#/c/4250,1,5b574ad450fdaaa4abf0606422c21f7c92dab3cf,f4b0d93d763d39ab38cfb60088a325daa1554740,0,15/09/11,15/09/11,98,JGit v1.1.0.201109151100-r,"JGit v1.1.0.201109151100-r

Change-Id: Iadcec7e5973600e005cbdeb837fa197d3ae2ea86
Signed-off-by: Matthias Sohn <matthias.sohn@sap.com>",1,0,0,1,0,0,1,NA,NA
4254,Ib099ec93d8243b238641d79328216874532ab5eb,https://git.eclipse.org/r/#/c/4254,1,f4b0d93d763d39ab38cfb60088a325daa1554740,bb9608695fc9ff868c16b436c8ac6186bdeec35b,0,15/09/11,15/09/11,98,Prepare post v1.1.0.201109151100-r build,"Prepare post v1.1.0.201109151100-r build

Change-Id: Ib099ec93d8243b238641d79328216874532ab5eb
Signed-off-by: Matthias Sohn <matthias.sohn@sap.com>",1,0,0,1,0,0,1,NA,NA
4255,I31a2e8d26d635ded9ea956a26ad9b2d9e20862a1,https://git.eclipse.org/r/#/c/4255,1,bb9608695fc9ff868c16b436c8ac6186bdeec35b,da807d97d2880ef5a94b7b63b58b0c655e6e0787,0,15/09/11,15/09/11,0,Merge branch 'stable-1.1',"Merge branch 'stable-1.1'

* stable-1.1:
  Prepare post v1.1.0.201109151100-r build
  JGit v1.1.0.201109151100-r

Change-Id: I31a2e8d26d635ded9ea956a26ad9b2d9e20862a1
Signed-off-by: Matthias Sohn <matthias.sohn@sap.com>",1,0,0,0,0,0,1,NA,NA
4256,I9ec247135d93ef28d732e94f18d0ec1d0e2e6d44,https://git.eclipse.org/r/#/c/4256,1,da807d97d2880ef5a94b7b63b58b0c655e6e0787,27b726b7cd5eb1a1950fa0244baf397abc5e4984,0,15/09/11,15/09/11,482,Prepare 1.2.0 builds,"Prepare 1.2.0 builds

Change-Id: I9ec247135d93ef28d732e94f18d0ec1d0e2e6d44
Signed-off-by: Matthias Sohn <matthias.sohn@sap.com>",1,0,0,1,0,0,1,NA,NA
4264,Ic704008cb215e1437c0a3fd1aec3aa38209ef3c7,https://git.eclipse.org/r/#/c/4264,1,6fa891145f8ca59a3e621aada507fd11a27a2174,566173edcc92b575dab9a1dc2565c4faf0855547,1,22/09/11,22/09/11,22,Document the show methods of RevWalkTextBuiltin,"Document the show methods of RevWalkTextBuiltin

Change-Id: Ic704008cb215e1437c0a3fd1aec3aa38209ef3c7
Signed-off-by: Robin Rosenberg <robin.rosenberg@dewire.com>",0,0,0,1,0,0,1,0,0
4290,I7425da91c0752ae82484e3c29d21b57402d30c61,https://git.eclipse.org/r/#/c/4290,2,689121273a6175516a1f364c5531bf649474ea8a,53600eeb600707907592dfd9fd704c9a1e364608,1,05/10/11,05/10/11,122,Fix DirCacheEdtor.DeleteTree for empty string argument,"Fix DirCacheEdtor.DeleteTree for empty string argument

Change-Id: I7425da91c0752ae82484e3c29d21b57402d30c61",0,0,0,1,0,0,1,0,0
4296,Ifc6d806fbf96f53c94d9ded0befcc932d943aa04,https://git.eclipse.org/r/#/c/4296,3,9ff8d325a90e5dee38efb95b21b1cf6889006d63,b8e90b1e3412d863a3527e9d8c486af2741995c6,1,28/09/11,28/09/11,99,Fix checkout of pathes,"Fix checkout of pathes

The checkout command was producing a inconsistent state of the index
which even confuses native git. The content sha1 of the touched index
entries was updated, but the length and the filemode was not updated.
Later in coding the index entries got automatically corrected (throught
Dircache.checkoutEntry()) but the correction was after persisting the
index to disk. So, the correction was lost and we ended up with a index
where length and sha1 doesn't fit together.
A similar problem is fixed with ""lastModified"" of DircacheEntry. When
checking out a path without specifying an explicit commit (you want to
checkout what's in the index) the index was not updated regarding
lastModified. Readers of the index will think the checked-out
file is dirty because the file has a younger lastmodified then what's
in the index.

Change-Id: Ifc6d806fbf96f53c94d9ded0befcc932d943aa04
Signed-off-by: Christian Halstrick <christian.halstrick@sap.com>
Signed-off-by: Jens Baumgart <jens.baumgart@sap.com>",0,0,0,0,0,1,1,0,0
4297,I7fc22ca9fc3048cdcf211c56612a3d1b8bed8f6e,https://git.eclipse.org/r/#/c/4297,2,e5e3d9aeef451a2fa162aa1281ddcceab20629c6,a65dcf785b9447f193755ecb0bb438a9caa0ee22,0,30/09/11,30/09/11,8,Use bundle dependency for org.hamcrest.org,"Use bundle dependency for org.hamcrest.org

This is required to make org.eclipse.jgit.test compile when SWTBot isn't
installed which should only be necessary for EGit
developers.

Change-Id: I7fc22ca9fc3048cdcf211c56612a3d1b8bed8f6e
Signed-off-by: Matthias Sohn <matthias.sohn@sap.com>",0,0,0,0,0,0,0,NA,NA
4302,Ie405f6de99b8fa632d7462400e647a37f30e2e31,https://git.eclipse.org/r/#/c/4302,1,04d528ad3d847c5e4863303b7310b7e3709697ba,ae97e8aed8e1b2a4617f68b9a74f36c154b073b6,1,28/09/11,28/09/11,1,Remove TODO for generated constructor.,"Remove TODO for generated constructor.

Change-Id: Ie405f6de99b8fa632d7462400e647a37f30e2e31
Signed-off-by: Kevin Sawicki <kevin@github.com>",0,0,0,1,0,1,1,0,0
4304,I68d6e127f018b24ee865865a2dd3011a0e21453c,https://git.eclipse.org/r/#/c/4304,12,4294500e259ee9ddc73a4e5f6efb91aed020796c,e8b21bc306edfe2407f5cd042aebf206bb986521,1,04/11/11,04/11/11,244,Support providing an id for submodule entries.,"Support providing an id for submodule entries.

Adds a method that can be overridden to WorkingTreeIterator that
allows subclasses to provide a byte array representing the id of
a submodule entry.  FileTreeIterator overrides this method and
provides the HEAD commit of the submodule repository.

Change-Id: I68d6e127f018b24ee865865a2dd3011a0e21453c
Signed-off-by: Kevin Sawicki <kevin@github.com>",0,1,0,0,0,1,1,0,0
4309,I589e758cc55873ce75614602e017ac793435e24d,https://git.eclipse.org/r/#/c/4309,4,463d08efd99c98badc7c91be9a7d22e849cda245,532bc3edb1d90430c57df98a517c521a4aed9f3f,0,30/09/11,30/09/11,27,Add varargs version of PathFilterGroup.createFromStrings,"Add varargs version of PathFilterGroup.createFromStrings

This allows the following usage pattern:

  PathFilterGroup.createFromStrings(""path1"", ""path2"");

Change-Id: I589e758cc55873ce75614602e017ac793435e24d
Signed-off-by: Kevin Sawicki <kevin@github.com>",0,1,0,0,0,1,1,NA,NA
4313,I0e51a8e6fea1647e4d2e08ac9cfc69c2945ce4cb,https://git.eclipse.org/r/#/c/4313,1,7d5b429c28ca08e1da40e11ac2feb43784b47f10,3512aa2acc8e9c85b018a1b2da7e55ffea70b81b,1,07/10/11,07/10/11,40,Fix smart HTTP client stream alignment errors,"Fix smart HTTP client stream alignment errors

The client's use of UnionInputStream was broken when combined with a
8192 byte buffer used by PackParser. A smart HTTP client connection
always pushes in the execute stateless RPC input stream after the
data stream has ended from the remote peer. At the end of the pack,
PackParser asked to fill a 8192 byte buffer, but if only e.g. 1000
bytes remained UnionInputStream went to the next stream and asked
it for input, which triggered a new RPC, and failed because there
was nothing pending in the request buffer.

Change UnionInputStream to only return what it consumed from a
single InputStream without invoking the next InputStream, just in
case that second InputStream happens to be one of these magical
ones that generates an RPC invocation.

Change-Id: I0e51a8e6fea1647e4d2e08ac9cfc69c2945ce4cb
Signed-off-by: Shawn O. Pearce <spearce@spearce.org>",0,0,0,0,0,0,0,0,0
4314,I926838058c1de2146e22faa08570406600457acb,https://git.eclipse.org/r/#/c/4314,1,3512aa2acc8e9c85b018a1b2da7e55ffea70b81b,2b5d78e9712cb6e8afbffd4d1ef263ae8b39c51f,1,07/10/11,07/10/11,4,Wrap excessively long line in BasePackFetchConnection,"Wrap excessively long line in BasePackFetchConnection

Change-Id: I926838058c1de2146e22faa08570406600457acb
Signed-off-by: Shawn O. Pearce <spearce@spearce.org>",0,0,0,1,0,0,1,0,0
4315,I7bd1e76957cb58c7ff1cdaeef227f1b02a7e5d24,https://git.eclipse.org/r/#/c/4315,1,2b5d78e9712cb6e8afbffd4d1ef263ae8b39c51f,16ee287b79f731c8c340e7ed1669d3d6503ef9c7,1,07/10/11,07/10/11,4,Do not requeue state vector in stateless RPC fetch,"Do not requeue state vector in stateless RPC fetch

If the no-done capability was enabled on the connection, don't
queue up the state vector again once the ACK %s ready message
is observed from the remote. The pack will be following in this
response stream, so the state vector is no longer required.

Change-Id: I7bd1e76957cb58c7ff1cdaeef227f1b02a7e5d24
Signed-off-by: Shawn O. Pearce <spearce@spearce.org>",0,0,0,0,0,0,0,0,0
4320,I8f09d6a4d61b64aeea80fd22bf3a2963c2bca347,https://git.eclipse.org/r/#/c/4320,4,e78a8388a4d15bf615bedff57716c04b0c291f31,fec69d9f752ec6d56ac75b4316afa0a94e489406,1,10/10/11,10/10/11,41,Extend IndexDiff to calculate ignored files and folders,"Extend IndexDiff to calculate ignored files and folders

IndexDiff was extended to calculate ignored files and folders.
This functionality is required by the new EGit decorator implementation.

Change-Id: I8f09d6a4d61b64aeea80fd22bf3a2963c2bca347
Signed-off-by: Jens Baumgart <jens.baumgart@sap.com>",0,1,0,0,0,0,1,0,0
4332,I2465c15c086497e0faaae5941159d80c028fa8b1,https://git.eclipse.org/r/#/c/4332,1,3f99b6188eaecbf2097f5cf0e4da84b03d986e3b,725f1c51d278802e8209fd44715ccb5eeb6902ce,1,04/11/11,04/11/11,975,Refactor HTTP server stack to use Filter as base,"Refactor HTTP server stack to use Filter as base

All Git URLs operate off a suffix approach, for example the default
binding is for paths such as:

  */info/refs
  */git-upload-pack
  */git-receive-pack

These names are not common on project hosting servers, especially
one like Gerrit Code Review.

In addition to offering Git-over-HTTP as a servlet, offer it as a
filter that triggers when a matching suffix appears, but otherwise
delegates the request through the chain.  This filter would permit
Gerrit Code Review to place projects at the root of the server,
rather than within the ""/p/"" subdirectory, making the HTTP and SSH
URL structure exactly match each other.

To prevent breakage with existing users, the MetaServlet and
GitServlet are kept as wrappers delegating to their filters,
returning 404 Not Found when the filter has no match.

Change-Id: I2465c15c086497e0faaae5941159d80c028fa8b1",0,0,0,0,1,0,1,0,0
4352,I0e65a5a6809a8d32d256322dbcae94b6aa603e5e,https://git.eclipse.org/r/#/c/4352,2,3d2e371013479d66166b2f26baaad14aec2210d8,745eda6a8a2c5d1ace4b567072022b4040674163,1,14/10/11,14/10/11,2,Correct typo in RevWalk.parseBody,"Correct typo in RevWalk.parseBody

Change-Id: I0e65a5a6809a8d32d256322dbcae94b6aa603e5e
Signed-off-by: Kevin Sawicki <kevin@github.com>",0,0,0,1,0,1,1,0,0
4355,I4be5357b7b3139dded17f77e07a140addb213ea7,https://git.eclipse.org/r/#/c/4355,5,8f0db094d062b3ee4f168fe5db82a3a2b5913253,205cacfeef24ab71ce9ef974a6d21e57d384b8d8,1,09/11/11,09/11/11,1592,Convert ReadTreeTest and IndexDiffTest to DirCache (killing GitIndex),"Convert ReadTreeTest and IndexDiffTest to DirCache (killing GitIndex)

ReadTreeTest and IndexDiffTest were still using it. There is however
a difference in test outcome in ReadTreeTest.testUntrackedConflicts.

I believe the new behavior is the right one, since we do not update
the index, nor data.

Change-Id: I4be5357b7b3139dded17f77e07a140addb213ea7
Signed-off-by: Robin Rosenberg <robin.rosenberg@dewire.com>",0,1,0,0,1,0,1,-6,0
4356,Id89262f7fbfee07871f444378f196ded444f2783,https://git.eclipse.org/r/#/c/4356,6,2c19196caa48c8c5b6510c95043f9f5175143968,15c96ba8dc93661d2d0d19849bf5fd1d8c813a6d,1,09/11/11,09/11/11,1656,Merge ReadTreeTest into DirCacheCheckoutTest,"Merge ReadTreeTest into DirCacheCheckoutTest

Since we have now dropped GitIndex we no longer need
two classes here.

Change-Id: Id89262f7fbfee07871f444378f196ded444f2783
Signed-off-by: Robin Rosenberg <robin.rosenberg@dewire.com>",0,1,0,0,1,0,1,0,0
4358,Ie66fa61303472422830f5e33614e93ad65094e5d,https://git.eclipse.org/r/#/c/4358,4,0cbeb3cfe9cd3d7c6514cb30246657729a4d4285,f013277aef8af0cbfbecf1289f673bb2ee57b5b6,1,20/10/11,20/10/11,40,"RFC, change behavior on checkout","RFC, change behavior on checkout

Why should we keep the loneley index entry?

Change-Id: Ie66fa61303472422830f5e33614e93ad65094e5d",0,1,0,0,0,0,1,0,0
4366,I8529697b197372a284bcd5ab2c9ba1adb925a520,https://git.eclipse.org/r/#/c/4366,3,b3540d721f593f22bafee9e143a07d4f9beffc97,4b4b918cace47f42c4fa1153799422764a9688cf,1,20/12/11,20/12/11,155,Refactor ResolveMerger,"Refactor ResolveMerger

The places where ResolveMerger was doing content-merges have been
refactored. Goal was to have one single method where content merge was
done and to factor out other topics (updating the index, updating the
working tree) into own methods. This was done to allow
adding pluggable content mergers in change 3874


Change: 
Change-Id: I8529697b197372a284bcd5ab2c9ba1adb925a520
Signed-off-by: Christian Halstrick <christian.halstrick@sap.com>",0,0,0,0,0,0,0,0,0
4368,I70867928eadf332b0942f8bf6877a3acb3828c87,https://git.eclipse.org/r/#/c/4368,4,f9729acf7e8a438ae980645dfd353f97eafce024,aded1d2d37d32469b2fb7bfee5ba2bffa12aff49,1,10/11/11,10/11/11,113,[blame] Attempt to fix blame following renames,"[blame] Attempt to fix blame following renames

Marking the treeWalk as recursive makes the egit blame view show
renames.

Bug: 302549
Change-Id: I70867928eadf332b0942f8bf6877a3acb3828c87
Signed-off-by: Carsten Pfeiffer <carsten.pfeiffer@gebit.de>",0,1,0,0,0,0,1,0,0
4369,I4761e9f5cfb4f0ef0b0e1e38991401a1d5003bea,https://git.eclipse.org/r/#/c/4369,3,fcbcbf7fbf50497b2eeb1e936b0f4077639e5bf6,d62ea6ecc74bd09ce953e5038f0cf01940a646f3,1,26/10/11,26/10/11,271,Allow detecting which files were renamed during a revwalk,"Allow detecting which files were renamed during a revwalk

The egit history view shows the files associated with a commit by using
a PathFilter. When following renames with a FollowFilter, the PathFilter
cannot be configured anymore because the affected files are simply not
known.

Thus, it should be possible to get to know which files are renamed.

Bug: 302549
Change-Id: I4761e9f5cfb4f0ef0b0e1e38991401a1d5003bea",0,0,0,0,0,0,0,0,0
4378,Ib79c0cc964bfe799b204419e552b9aa6243966ce,https://git.eclipse.org/r/#/c/4378,1,79b0137d67a0b1864b06f0ec7165b58a8a48a537,8841520d92403d3a71d44ea1f66cc2157f712ea0,1,21/10/11,21/10/11,13,Use the SystemReader to get system time,"Use the SystemReader to get system time

Change-Id: Ib79c0cc964bfe799b204419e552b9aa6243966ce",0,0,0,1,0,0,1,0,0
4379,Ifd31f408ed2c5b7869694b715fea3219e74963ef,https://git.eclipse.org/r/#/c/4379,1,8841520d92403d3a71d44ea1f66cc2157f712ea0,c8997bfcb9a6dd5553b130e855b2193b127c6bda,1,21/10/11,21/10/11,20,Add a method to SystemReader to get the time zone,"Add a method to SystemReader to get the time zone

Change-Id: Ifd31f408ed2c5b7869694b715fea3219e74963ef",0,0,0,1,0,0,1,0,0
4380,I5e9af40d38bb671cb9fcdb0fa3b4eb3af5f36f6c,https://git.eclipse.org/r/#/c/4380,1,c8997bfcb9a6dd5553b130e855b2193b127c6bda,de2978396a8380199aae7fbc9756053e53538b43,1,21/10/11,21/10/11,17,Add locale to the properties manageable by SystemReader,"Add locale to the properties manageable by SystemReader

Change-Id: I5e9af40d38bb671cb9fcdb0fa3b4eb3af5f36f6c",0,0,0,1,0,0,1,0,0
4381,I1c088dcec992c107e43f6c17be4ac9ed6eb428bf,https://git.eclipse.org/r/#/c/4381,4,de2978396a8380199aae7fbc9756053e53538b43,a87f59ca10ed42c48ce5e842204a4894c0fadc7a,1,26/10/11,26/10/11,326,Define a utility class for handling Git date formats,"Define a utility class for handling Git date formats

Besides the formats known by git-log(1) we also add ""locale"" and ""localelocal""
that formats dates according to the user's locale. ""locale"" does not translate
into local timezone, while localelocale does.

Change-Id: I1c088dcec992c107e43f6c17be4ac9ed6eb428bf",0,1,0,0,0,0,1,1,1
4382,I30f1049fce086f2cf7e39ba3ad8b335df3a7b827,https://git.eclipse.org/r/#/c/4382,6,f9cd4e0e92fc95b5dccd891395839e103c010fe5,91ee8c18a975cb7bab0db41fc72d0af2a06ecc17,1,26/10/11,26/10/11,27,Make use of the many date formatting options in the log command,"Make use of the many date formatting options in the log command

Change-Id: I30f1049fce086f2cf7e39ba3ad8b335df3a7b827",0,1,0,1,0,0,1,0,0
4383,I488e9c97656f9941788ae88d7c5c1562ab6c26f0,https://git.eclipse.org/r/#/c/4383,7,111dce0ef469af70051c0698bd1c0247e34789d2,d0eaa3dc9a57a3dbf8744c725dc07faf8609b33b,1,26/10/11,26/10/11,12,"Cosmetic adjustment of relative date format, do not display ""0 months""","Cosmetic adjustment of relative date format, do not display ""0 months""

Though it may seem less precise, ""0 months"" looks bad and the reference
Git implementation also does not display ""0 months""

Change-Id: I488e9c97656f9941788ae88d7c5c1562ab6c26f0",0,1,0,0,0,0,1,0,0
4385,I9298d1e3ccac0aec8bbd4e8ac867bc06a5c89c9f,https://git.eclipse.org/r/#/c/4385,6,e7cdd237bdfc81b390ee1d46d990ed9107ed0efd,3023193669f2d5405402f0ec1d7bab6548d10a76,1,10/11/11,10/11/11,160,Add detection of untracked folders to IndexDiffFilter,"Add detection of untracked folders to IndexDiffFilter

Decorators need to know whether folders in the working tree contain only
untracked files. This change enhances IndexDiffFilter to report such
folders. This works only together with treewalks which operate in
default traversal mode. For treewalks which process entries  in
postorder mode (files are walked before their parent folder is walked) 
this detection doesn't work.

Change-Id: I9298d1e3ccac0aec8bbd4e8ac867bc06a5c89c9f
Signed-off-by: Christian Halstrick <christian.halstrick@sap.com>",0,1,0,0,0,1,1,0,0
4398,I42cdfdcb6b29f7203697a23833dca85185b0b9b3,https://git.eclipse.org/r/#/c/4398,1,7bc632d0cbaa12f39766d93d0de094e5caf566db,9972d128a47aeb6e3f5ff88137207cd741cc1bc4,1,24/10/11,24/10/11,19,Fix compatibilty breakage for SystemReader,"Fix compatibilty breakage for SystemReader

Introducing a new abstract method is not nice when one
expects other to subclass them. Create default implementations
so old code that implements SystemReader does not break.
The default methods just delegate to the JVM.

Change-Id: I42cdfdcb6b29f7203697a23833dca85185b0b9b3
Signed-off-by: Robin Rosenberg <robin.rosenberg@dewire.com>",0,0,0,0,0,0,0,0,0
4401,I86f6359d955d39ab033848b87ed39d20378d3c1f,https://git.eclipse.org/r/#/c/4401,2,9972d128a47aeb6e3f5ff88137207cd741cc1bc4,1af75a9b06bed0b8c2e1cf43209a9d530a3a8ae3,1,03/11/11,03/11/11,15,Implement Config.Entry.toString() to help debugging,"Implement Config.Entry.toString() to help debugging

Change-Id: I86f6359d955d39ab033848b87ed39d20378d3c1f
Signed-off-by: Matthias Sohn <matthias.sohn@sap.com>",0,0,0,1,0,0,1,0,0
4410,Ibff5308b33deb73570626a08a04e86ad8f418023,https://git.eclipse.org/r/#/c/4410,1,6ef25ed041cd025baa23ff8b8ef096fe3ae450f2,89a40937ce123c4223aadd7c9bbcac9adf3f89f0,1,27/10/11,27/10/11,1,Close the repo in CloneCommandTest,"Close the repo in CloneCommandTest

The test failed on Windows only

Change-Id: Ibff5308b33deb73570626a08a04e86ad8f418023",0,0,0,0,0,0,0,0,0
4412,I347b3c3724db52c8a6c09f4804071497a3a377ab,https://git.eclipse.org/r/#/c/4412,2,771a123e02e3788906fdce22ec79fa6f57ee0788,6721b22fdf991a55a12f691a4e19c211d7e41fe3,1,29/10/11,29/10/11,5,Ensure the ObjectInserter flushes after a merge,"Ensure the ObjectInserter flushes after a merge

If this does not happen some databases may discard
objects and not make them available.

Change-Id: I347b3c3724db52c8a6c09f4804071497a3a377ab",0,0,0,0,0,0,0,0,0
4431,I2b5234c0ab936dac67d1e232f4cd28331bf3226d,https://git.eclipse.org/r/#/c/4431,1,eadb4e33300032e4aca58c8794443144640afbe3,2fd1e5d95f9a6e5de307023b5c32a4781332fd4c,1,04/11/11,04/11/11,13,Do not resolve path using cygwin unless told to,"Do not resolve path using cygwin unless told to

The system property jgit.cygpath must be set to true in order
for cygwin's cygpath to be used to translate path from cygwin
namespace to Windows namespace.

The cygwin path translation should be considered deprecated.

Bug: 353389
Change-Id: I2b5234c0ab936dac67d1e232f4cd28331bf3226d
Signed-off-by: Robin Rosenberg <robin.rosenberg@dewire.com>",0,0,0,0,0,0,0,0,0
4450,I986d5fff63ff1a86cca6bab49c744ea673fe4892,https://git.eclipse.org/r/#/c/4450,1,ecb8ec705eb6781dd498e544e492bc29a38578c5,ec9758eb277b7a5fe0deaf0bdf4cb36301a81976,0,03/11/11,03/11/11,22,DirCacheEntry: accessors for cached creation time (CTIME),"DirCacheEntry: accessors for cached creation time (CTIME)

Change-Id: I986d5fff63ff1a86cca6bab49c744ea673fe4892",0,0,0,1,0,0,1,NA,NA
4528,Ic27d509cd5e2d6c855e7d355fc308399d9dc01c9,https://git.eclipse.org/r/#/c/4528,5,db02c198caa5cc3a2c992f71a03d994b4e6dc549,f91d8a4c900de1f458947ff1268a063e77643acd,0,04/11/11,04/11/11,13,Fix NPE when PATH environment variable is empty,"Fix NPE when PATH environment variable is empty

Change-Id: Ic27d509cd5e2d6c855e7d355fc308399d9dc01c9",0,1,0,1,0,0,1,NA,NA
4529,I394fc1ef714c8465cbd5af9c73338b9a324ad9c4,https://git.eclipse.org/r/#/c/4529,2,c68d12110b2642e6081cc33762399467f44c72d6,4a94f0da8de6faf015452cfac3b5407d511d9ea2,1,10/11/11,10/11/11,18,Clean up tab usage in Directory/File conflict table,"Clean up tab usage in Directory/File conflict table

Change-Id: I394fc1ef714c8465cbd5af9c73338b9a324ad9c4",0,0,0,1,0,0,1,0,0
4530,I2280a2dc0698829475de6a662a6c6e80b1df7663,https://git.eclipse.org/r/#/c/4530,2,17dd369a0fe32a2fd3f299bce6699f25dac3a454,586e0b98723a1177bf8abfb826339b8d06c96861,1,16/01/12,16/01/12,519,RFC Support more of AutoCRLF,"RFC Support more of AutoCRLF

This patch introduces CRLF handling to the DirCacheCheckout and
WorkingTreeIterator supporting the AutoCRLF for add, checkout
reset and status and hopefully some other places.

The patch includes test cases for the Status command provided by
Tomasz Zarna for bug 353867.

Bug: 301775
Bug: 353867
Change-Id: I2280a2dc0698829475de6a662a6c6e80b1df7663",0,0,0,0,1,0,1,2,1
4532,I9f51cc749f5cb9d2e3aa86874e60fca29b779565,https://git.eclipse.org/r/#/c/4532,1,d24023f71465c6eab42784c823d7ab4f7138e80e,cd3ea701815cc676724cc09ef3ff16b34545885a,0,03/11/11,03/11/11,2,Suppress unused and unchecked warnings,"Suppress unused and unchecked warnings

Change-Id: I9f51cc749f5cb9d2e3aa86874e60fca29b779565
Signed-off-by: Kevin Sawicki <kevin@github.com>",0,0,0,1,0,1,1,NA,NA
4540,Ia0b01f5d6b6b3d3a68d65a5c229ff67c1cede5bc,https://git.eclipse.org/r/#/c/4540,2,deb6a161812c39ebefa2610472590b5d140c3fa6,b73e8fc2a812cf1e8842b17a4aaebf33fff8ccea,1,04/11/11,04/11/11,5,Clarify the docstring of DfsBlockCache.reconfigure(),"Clarify the docstring of DfsBlockCache.reconfigure()

The docstring was copied from the local filesystem cache code, which
actually attempted to reconfigure the cache on the fly. The DFS cache is
designed to be ""reconfigured"" exactly once.

Change-Id: Ia0b01f5d6b6b3d3a68d65a5c229ff67c1cede5bc",0,0,0,0,0,1,1,-1,0
4541,I890b5fccdda12c1090cfabf4083b5c0e98d717f6,https://git.eclipse.org/r/#/c/4541,3,ab1e110d297023246b31e8eeb11ef9bb1c2b49c0,9f362f8b6a8ccc5d17293f334f2372acd8ae6936,1,04/11/11,04/11/11,179,Add a DFS repository description and reference it in each pack,"Add a DFS repository description and reference it in each pack

Just as DfsPackDescription describes a pack but does not imply it is
open in memory, a DfsRepositoryDescription describes a repository at a
basic level without it necessarily being open.

Change-Id: I890b5fccdda12c1090cfabf4083b5c0e98d717f6",0,0,0,0,0,1,1,0,0
4542,Ifd78e8ce34e26e5cc33e9dd61d70c593ce479ee0,https://git.eclipse.org/r/#/c/4542,3,4c4689cab6c2deeca72abd939e9dbe2086a5f751,f78f807d9004ac04e6f9cc3a0675783db6be19f5,1,04/11/11,04/11/11,21,Expose the list of pack files in the DfsBlockCache,"Expose the list of pack files in the DfsBlockCache

Callers may want to inspect the contents of the cache, which this allows
them to do in a read-only fashion without any locking.

Change-Id: Ifd78e8ce34e26e5cc33e9dd61d70c593ce479ee0",0,0,0,0,0,1,1,-1,0
4543,I10cee76c92d65c68d1aa1a9dd0c4fd7173c4cede,https://git.eclipse.org/r/#/c/4543,3,881c7097287af3256fefce779a639111abb74f82,4ce5b76acf4ee9588baa79b544a797dd9d68e8b1,1,04/11/11,04/11/11,21,Add a DfsPackFile method to get the number of cached bytes,"Add a DfsPackFile method to get the number of cached bytes

The counter is actually stored in the DfsPackKey so it can be
manipulated by the cache.

Change-Id: I10cee76c92d65c68d1aa1a9dd0c4fd7173c4cede",0,0,0,0,0,1,1,-1,0
4544,I207c0c93f9145826d84b3610eb4319fca074ee0d,https://git.eclipse.org/r/#/c/4544,3,e40b7e52424c537f4190016ec20f06d4103b6cee,c4e99e78ffb3970df9892cf4a245a86048aa5d32,1,04/11/11,04/11/11,15,Expose the reverse index size in the DfsPackDescription,"Expose the reverse index size in the DfsPackDescription

This is analogous to the getPackSize() and getIndexSize() methods.

Change-Id: I207c0c93f9145826d84b3610eb4319fca074ee0d",0,0,0,0,0,1,1,0,0
4545,I2633e472c9264d91d632069f608d53d4bdd0fc09,https://git.eclipse.org/r/#/c/4545,3,9281a0c04e706677958f258d587c9c7f9033a375,03ad42ed0042544aec8489c8da23825d281647db,1,04/11/11,04/11/11,134,Add a listener for changes to a DfsObjDatabase's pack files,"Add a listener for changes to a DfsObjDatabase's pack files

Intended for cross-request use, so only refers to
DfsRepositoryDescriptions rather than DfsRepositorys.

Change-Id: I2633e472c9264d91d632069f608d53d4bdd0fc09",0,0,0,0,0,1,1,0,0
4546,Icea2572d62e59318133b0a88848019f34ad70975,https://git.eclipse.org/r/#/c/4546,2,d49c8799ec092588ef1260ab3324f32a4c4251d1,36aa8c45ac090f0c270d284d5d13b019abd2b4fe,1,04/11/11,04/11/11,35,DfsBlockCache: Update hits to not include contains(),"DfsBlockCache: Update hits to not include contains()

Also expose the underlying hit and miss counters, in
addition to the hit ratio.

Change-Id: Icea2572d62e59318133b0a88848019f34ad70975",0,0,0,0,0,0,0,-1,0
4548,If02f258c032486f1afd2e09592a3c7069942eb8b,https://git.eclipse.org/r/#/c/4548,1,15726469b9dbf39aa616bcaa73cd471089044008,70e2f7027ec84279f81e7a92e0fae58b44fb2393,1,04/11/11,04/11/11,68,Allow '\' in user names in URI-ish,"Allow '\' in user names in URI-ish

Actually this is not ok according to the RFC, but this implementation is
ment to be Git compatible. A '\' is needed when the authentication
requires or allows authentication to a Windows domain where the
user name can be specified as DOMAIN\user.

Change-Id: If02f258c032486f1afd2e09592a3c7069942eb8b",0,0,0,0,0,0,0,1,1
4549,Id2454d328d1aa665606ae002de2c3805fe7baa8e,https://git.eclipse.org/r/#/c/4549,1,c1624adc5fea22fcadb8777516e81eeb9efda619,be891a9399bc49554d503df9c8f25beb182e4920,1,07/11/11,07/11/11,190,Don't throw away the stack trace when tests fail,"Don't throw away the stack trace when tests fail

Most unexpected exceptions are completely useless yielding message
like ""null"" or ""3"" or in the best cases something reasonable, but
still out of context.

Just declare the test as throwing an exception. That will retain
the full stack trace leading to the point of failure without using
a debugger or changing the code.

Change-Id: Id2454d328d1aa665606ae002de2c3805fe7baa8e",0,0,0,0,0,0,0,0,0
4550,I82d1910df9472e21d7212a2b984ff7d8fb2cbf0f,https://git.eclipse.org/r/#/c/4550,8,be891a9399bc49554d503df9c8f25beb182e4920,20cddd7ba7f1c41c0cbc8013de98fdb230df6b21,1,02/12/11,02/12/11,404,Add percent-encoding of reserved characters in URIish,"Add percent-encoding of reserved characters in URIish

We do this for the the names that have an explicit scheme and
do it both ways. The URIish is parsed before decoding. Only
a few special characters are encoded for the path part of the
URI, i.e. space, non-ASCII and control characters. The percent
encoding is assumed to be a stream encoding so we interpret it
as UTF-8.

Change-Id: I82d1910df9472e21d7212a2b984ff7d8fb2cbf0f",0,1,0,0,0,0,1,0,0
4551,Ia354770cee5c68f19945279b34aef6de54697435,https://git.eclipse.org/r/#/c/4551,3,bedecc48c149c7f744cfb79f601e930cee6f5f60,2c0d990b1c56bed53d1091e01404305624c1ff35,1,09/11/11,09/11/11,82,Do not use the deprecated Tree class internally,"Do not use the deprecated Tree class internally

Replace it with DirCache, like we did to remove GitIndex.

Change-Id: Ia354770cee5c68f19945279b34aef6de54697435",0,0,0,0,0,0,0,0,0
4571,I90c2c14fb4e3cc4712905158f9047153a0c235c2,https://git.eclipse.org/r/#/c/4571,4,27134e062f368da7419b6a4bb796fad38d470607,b822f20b8168269c8cd2fe74089a77b9635e467e,1,10/11/11,10/11/11,408,Support a configured credentials provider in LsRemoteCommand,"Support a configured credentials provider in LsRemoteCommand

Refactored the three common transport configuration options:
credentials provider, timeout, and transport config callback
into a new TransportCommand base class which is now extended
by all commands that use a Transport object during execution.

Bug: 349188
Change-Id: I90c2c14fb4e3cc4712905158f9047153a0c235c2
Signed-off-by: Kevin Sawicki <kevin@github.com>",0,1,0,0,0,1,1,-2,0
4572,I2af99903e8039405ea6d67f383576ffa43839cff,https://git.eclipse.org/r/#/c/4572,1,dbb0f53631b92962ed7c93c58b808a195845d10c,48235145ce89ac82a34e5231d09c17ca28f2fb31,1,10/11/11,10/11/11,2,DfsBlockCache: Fix NPE when evicting empty cell,"DfsBlockCache: Fix NPE when evicting empty cell

The cache starts with a single empty Ref that has no data, as the
clock list does not support being empty. When this Ref is removed,
the size has to be decremented from the associated DfsPackKey,
which was previously null. Make it always be non-null.

Change-Id: I2af99903e8039405ea6d67f383576ffa43839cff",0,0,0,0,0,0,0,0,0
4573,Ibb3467f7ee4c06f617b737858b4be17b10d936e0,https://git.eclipse.org/r/#/c/4573,1,48235145ce89ac82a34e5231d09c17ca28f2fb31,a4dd6bfb0825557b83999c26f00a7f1883df3333,1,10/11/11,10/11/11,76,Always use try/finally around DfsBlockCache.clockLock,"Always use try/finally around DfsBlockCache.clockLock

Any RuntimeException or Error in this block will leave the lock
held by the caller thread, which can later result in deadlock or
just cache requests hanging forever because they cannot get to
the lock object.

Wrap everything in try/finally to prevent the lock from hanging,
even though a RuntimeException or Error should never happen in
any of these code paths.

Change-Id: Ibb3467f7ee4c06f617b737858b4be17b10d936e0",0,0,0,0,0,0,0,0,0
4593,Ic3622b4acea65d2b9b3551c668806981fa7293e3,https://git.eclipse.org/r/#/c/4593,2,e93cae414424167a9f2e7379784987680c1b1c85,28137fabef559d4d7060d81cd05cb1aab2bb5154,1,16/11/11,16/11/11,122,Add an object encapsulating the state of a PackWriter,"Add an object encapsulating the state of a PackWriter

Exposes essentially the same state machine to the programmer as is
exposed to the client via a ProgressMonitor, using a wrapper around
beginTask()/endTask().

Change-Id: Ic3622b4acea65d2b9b3551c668806981fa7293e3",0,0,0,0,0,1,1,0,0
4594,I23fe3cf9d260a91f1aeb6ea22d75af8ddb9b1939,https://git.eclipse.org/r/#/c/4594,2,c8d33e6d0eabe22d45aab59820e39d2a209c4054,99fb4110269078e03322da7ef6186316d79388c6,1,16/11/11,16/11/11,45,Estimate the amount of memory used by a PackWriter,"Estimate the amount of memory used by a PackWriter

Memory usage is dominated by three terms:
 - The maximum memory allocated to each delta window.
 - The maximum size of a single file held in memory during delta search.
 - ObjectToPack instances owned by the writer.

For the first two terms, rather than doing complex instrumentation of
the DeltaWindows, we just overestimate based on the config parameters
(though we may underestimate if the maximum size is not set).

For the ObjectToPack instances, we do some rough byte accounting of the
underlying Java object representation.

Change-Id: I23fe3cf9d260a91f1aeb6ea22d75af8ddb9b1939",0,0,0,0,0,1,1,0,0
4595,I337abb952ac6524f7f920fedf04065edf84d01d2,https://git.eclipse.org/r/#/c/4595,2,c53c84eba5afd4daae612b9021700ec4c89e3c53,7ec1a8da65c386b2836264ccc5eea459412aa262,1,16/11/11,16/11/11,52,Keep track of a static collection of all PackWriter instances,"Keep track of a static collection of all PackWriter instances

Stored in a weak concurrent hash map, which we clean up while iterating.
Usually the weak reference behavior should not be necessary because
PackWriters should be released with release(), but we still want to
avoid leaks when dealing with broken client code.

Change-Id: I337abb952ac6524f7f920fedf04065edf84d01d2",0,0,0,0,0,1,1,0,0
4596,I9aa1b5817a18fb340411f47b25b6711d533590fd,https://git.eclipse.org/r/#/c/4596,1,df4e721bbcf3aa679bf21a3f89fda45aa60a32e6,d27d6bd0ffd4d27b72f67ebd0a8a7d03270fdf8e,0,11/11/11,11/11/11,10,Implement DirCacheEntry.toString() to ease debugging,"Implement DirCacheEntry.toString() to ease debugging

Change-Id: I9aa1b5817a18fb340411f47b25b6711d533590fd
Signed-off-by: Matthias Sohn <matthias.sohn@sap.com>",0,0,0,1,0,0,1,NA,NA
4617,I86199105814b63d4340e5de0e471d0da6b579ead,https://git.eclipse.org/r/#/c/4617,16,dce6bd91fd66001d8841edc38d9051e87c324ed6,0240c7ec4bd6209f8f94c43e70671ed47b345634,1,10/02/12,23/04/12,643,Validate paths during DirCheckout,"Validate paths during DirCheckout

DirCacheCheckout and CanonicalTreeParser cooperate. CanonicalTreeParser
can detect malformed, potentially malicious tree entries and sets a
flag, while DirCacheCheckout refuses to work with such paths.

Malicious tree entries are ""."", "".."", "".git"" (case insensitive), any
name containing '/' and (on Windows '\') and also (on Windows)
any paths ending in a combination of '.' or space.

Some of the test can execute on any platform by enabling partial
platform emulation.

A new runtime exception, InvalidPathException, is introduced. For
backwards compatibility it extends InvalidArgumentException.

Change-Id: I86199105814b63d4340e5de0e471d0da6b579ead",0,1,0,0,1,0,1,3,1
4624,I0182c1f679ba879ca19dd81bf46924f415dc6003,https://git.eclipse.org/r/#/c/4624,5,4c0276e03b7b94b583ab38f59c2c14d32242062e,0fb1b05f49a7b0de60e5530e3af2a48b8ff6b0c9,1,19/11/11,19/11/11,14,Add missing '' characters around quoted variables,"Add missing '' characters around quoted variables

Double ' characters are needed for variables to appear in
single quotes.  Variables surrounded with a s single ' will
not be replaced when formatted

Change-Id: I0182c1f679ba879ca19dd81bf46924f415dc6003
Signed-off-by: Kevin Sawicki <kevin@github.com>",0,1,0,0,0,1,1,0,0
4629,I4ac42b0622b39d159a0f4f223e291c35c71f672c,https://git.eclipse.org/r/#/c/4629,2,a99ce4f2f44a93b038a6b5352d715d8c2071cbdd,16b48b40178df097a01d104cc7003ccf7e87f4c9,1,19/11/11,19/11/11,9,Refactor DfsReader selection of cached packs,"Refactor DfsReader selection of cached packs

Make the code more clear with a simple refactoring of the boolean
logic into a method that describes the condition we are looking
for on each pack file. A cached pack is possible if there exists
a tips collection, and the collection is non-empty.

Change-Id: I4ac42b0622b39d159a0f4f223e291c35c71f672c",0,0,0,0,0,0,0,0,0
4630,Ibf4a3e8ea5c42aef16404ffc42a5781edd97b18e,https://git.eclipse.org/r/#/c/4630,6,5ea146df80d2b83271c06f6afa48dddbdd6fe8d1,6bd26a72db1031f2de8ba76f4ca2557bae8a3258,1,19/11/11,19/11/11,43,"Fix duplicate objects in ""thin+cached"" packs from DFS","Fix duplicate objects in ""thin+cached"" packs from DFS

The DfsReader must offer every representation of an object that
exists on the local repository when PackWriter asks for them. This
is necessary to identify objects in the thin pack part that are also
in the cached pack that will be appended onto the end of the stream.

Without looking at all alternatives, PackWriter may pack the same
object twice (once in the thin section, again in the cached base
pack). This may cause the command line C version to go into an
infinite loop when repacking the resulting repository, as it may see
a delta chain cycle with one of those duplicate copies of the object.

Previously the DfsReader tried to avoid looking at packs that it
might not care about, but this is insufficient, as all versions
must be considered during pack generation.

Change-Id: Ibf4a3e8ea5c42aef16404ffc42a5781edd97b18e",0,1,0,0,0,0,1,0,0
4637,I64577f8fd19ee0d2d407479cc70e521adc367f37,https://git.eclipse.org/r/#/c/4637,1,13f3b52e8271eeb2c3f6f1625eb2caa3bd71dfb6,00ac76e6f9fad1c4b39d74e88998a0ff86f65cea,1,19/11/11,19/11/11,2,[findBugs] Prefer short-cut logic as it's more performant,"[findBugs] Prefer short-cut logic as it's more performant

Change-Id: I64577f8fd19ee0d2d407479cc70e521adc367f37
Signed-off-by: Matthias Sohn <matthias.sohn@sap.com>",0,0,0,1,0,0,1,0,0
4638,I366435e26eda5d910f5d1a907db51f08efd4bb8c,https://git.eclipse.org/r/#/c/4638,1,00ac76e6f9fad1c4b39d74e88998a0ff86f65cea,fbdc78bbd2630e09ef53fdbef64f03d5972209b8,0,18/11/11,18/11/11,7,[findBugs] Silence returning null for StringUtils.toBooleanOrNull(),"[findBugs] Silence returning null for StringUtils.toBooleanOrNull()

As the method name and its javadoc clearly state that this method can
return null we can ignore this FindBugs warning.

Change-Id: I366435e26eda5d910f5d1a907db51f08efd4bb8c
Signed-off-by: Matthias Sohn <matthias.sohn@sap.com>",0,0,0,0,0,0,0,NA,NA
4642,I97f815a0492c0957300475af409b6c6260008463,https://git.eclipse.org/r/#/c/4642,2,c366222faecacf19a46941c6aeee8549bc75c09e,d7c3449a46551df94ceffb5006c877ed0ffc8a9f,1,19/11/11,19/11/11,4,"Correct progress monitor on ""Getting sizes:"" phase","Correct progress monitor on ""Getting sizes:"" phase

This counter always was running 1 higher, because it incremented
after the queue was exhausted (and every object was processed). Move
increments to be after the queue has provided a result, to ensure
we do not show a higher in-progress count than total count.

Change-Id: I97f815a0492c0957300475af409b6c6260008463",0,0,0,0,0,0,0,0,0
4644,I425f1f63ef937b8447c396939222ea20fdda290f,https://git.eclipse.org/r/#/c/4644,2,7ca4ced7458a2ed3583d8a15b6f58446a382d4fa,35dcc7a4d50ee98e84ff20e6139e1d2dfce116b7,1,19/11/11,19/11/11,4,Search for annotated tag reuse first,"Search for annotated tag reuse first

Annotated tags are relatively rare and currently are scheduled in a
pack file near the commits, decreasing the time it takes to resolve
client requests reading tags as part of a history traversal.

Putting them first before the commits allows the storage system to
page in the tag area, and have it relatively hot in the LRU when
the nearby commit area gets examined too. Later looking at the
tree and blob data will pollute the cache, making it more likely
the tags are not loaded and would require file IO.

Change-Id: I425f1f63ef937b8447c396939222ea20fdda290f",0,0,0,0,0,0,0,0,0
4645,I8cd8146e97cd1c738ad5b48fa9e33804982167e7,https://git.eclipse.org/r/#/c/4645,4,4f4a303108b69431965037396cb4c4b03ce7d02a,e7933c1e402e0a3424f06223bfee2ae6bf60869b,1,19/11/11,19/11/11,10,Use long for more object counts in PackWriter,"Use long for more object counts in PackWriter

Packs can contain up to 2^32-1 objects, which exceeds the range of a
Java int. Try harder to accept higher object counts in some cases by
using long more often when we are working with the object count value.

This is a trivial refactoring, we may have to make even more changes
to the object handling code to support more than 2^31-1 objects.

Change-Id: I8cd8146e97cd1c738ad5b48fa9e33804982167e7",0,1,0,0,0,0,1,0,0
4646,Ifab6bfdf3c0aa93649468f49bcf91d67f90362ca,https://git.eclipse.org/r/#/c/4646,5,0d8eed97e23ba46d8bb24ec4e7dd1bacf0150eef,dc81ac7f49f3fee863339924720a8d5484a5eb1c,1,19/11/11,19/11/11,6,Do not write edge objects to the pack stream,"Do not write edge objects to the pack stream

Consider two objects A->B where A uses B as a delta base, and these
are in the same source pack file ordered as ""A B"".

If cached packs is enabled and B is also in the cached pack that
will be appeneded onto the end of the thin pack, and both A, B are
supposed to be in the thin pack, PackWriter must consider the fact
that A's base B is an edge object that claims to be part of the
new pack, but is actually ""external"" and cannot be written first.

If the object reuse system considered B candidates fist this bug
does not arise, as B will be marked as edge due to it existing in
the cached pack. When the A candidates are later examined, A sees a
valid delta base is available as an edge, and will not later try to
""write base first"" during the writing phase.

However, when the reuse system considers A candidates first they
see that B will be in the outgoing pack, as it is still part of
the thin pack, and arrange for A to be written first. Later when A
switches from being in-pack to being an edge object (as it is part
of the cached pack) the pointer in B does not get its type changed
from ObjectToPack to ObjectId, so B thinks A is non-edge.

We work around this case by also checking that the delta base B
is non-edge before writing the object to the pack. Later when A
writes its object header, delta base B's ObjectToPack will have
an offset == 0, which makes isWritten() = false, and the OBJ_REF
delta format will be used for A's header. This will be resolved by
the client to the copy of B that appears in the later cached pack.

Change-Id: Ifab6bfdf3c0aa93649468f49bcf91d67f90362ca",0,1,0,0,0,0,1,0,0
4650,I177ef24553faacda444ed5895e40ac8925ca0d1e,https://git.eclipse.org/r/#/c/4650,7,44ac541de42b1d6e2b971902de7ca0d20c8ba27e,44881bcbbdc5e4dbef4ebcde8eedcd2a5786f3d4,1,22/11/11,22/11/11,244,maxObjectSizeLimit for receive-pack.,"maxObjectSizeLimit for receive-pack.

ReceivePack (and PackParser) can be configured with the
maxObjectSizeLimit in order to prevent users from pushing too large
objects to Git. The limit check is applied too all object types
although it is most likely that a BLOB will exceed the limit.  In all
cases the size of the object header is excluded from the object size
which is checked against the limit as this is the size of which a BLOB
object would take in the working tree when checked out as a file.

Delta objects (both offset and ref delta) are also checked against the
limit.

When an object exceeds the maxObjectSizeLimit the receive-pack will
fail immediately. Therefore, we can only report the SHA1 of this (too
large) object back to the user. In order to help the user locate the
path to this object in his local repository we provide a Git command
for that in the error message.

Change-Id: I177ef24553faacda444ed5895e40ac8925ca0d1e
Signed-off-by: Sasa Zivkov <sasa.zivkov@sap.com>",0,1,0,0,0,0,1,1,1
4661,Ie44bb8523cac388b63748bc69ebdd3c3a3665d06,https://git.eclipse.org/r/#/c/4661,1,284b7c6e8f567f64a0fda2abd4f1579513387c0e,c67691eee4e4be5453c50dafe41c7c3f9a0ddcc5,1,22/11/11,22/11/11,22,Provide merge result when revert command fails,"Provide merge result when revert command fails

This allows callers to determine why the revert
did not complete successfully

Change-Id: Ie44bb8523cac388b63748bc69ebdd3c3a3665d06
Signed-off-by: Kevin Sawicki <kevin@github.com>",0,0,0,0,0,1,1,0,0
4665,Ifa2e7ed58c7f2bdfe3aafbd500b5a38c1f94c2ec,https://git.eclipse.org/r/#/c/4665,3,55a7b3f25b0a0f2460d7855c9d0d7d1ff383819c,cb69a6b9338b593edd4319ad9e9e30a11b4ad76a,1,23/11/11,23/11/11,110,Support adding all refs under 'refs/' to LogCommand,"Support adding all refs under 'refs/' to LogCommand

Bug: 353310
Change-Id: Ifa2e7ed58c7f2bdfe3aafbd500b5a38c1f94c2ec
Signed-off-by: Kevin Sawicki <kevin@github.com>",0,0,0,0,0,1,1,0,0
4666,I80e5b7cf25ae9f2164b5c396a29773e5c7d7286e,https://git.eclipse.org/r/#/c/4666,1,8cef42d697fc0592ee525093412921b1f1341bb6,22f64198324e60f1ffed030901f9560b9fa57405,1,23/11/11,23/11/11,4,Strip leading slashes in RepositoryFilter,"Strip leading slashes in RepositoryFilter

If removing the leading slash results in an empty string, return
with an HTTP 404 error before trying to use the RepositoryResolver.
Moving this into a loop ahead of the length check ensures there is
no empty string passed into the resolver.

Change-Id: I80e5b7cf25ae9f2164b5c396a29773e5c7d7286e",0,0,0,0,0,0,0,1,1
4667,I828ac2deb085af12b6689c10f86662ddd39bd1a2,https://git.eclipse.org/r/#/c/4667,1,22f64198324e60f1ffed030901f9560b9fa57405,cca0487f77fc1f3ecd68aa42714406c422107676,1,23/11/11,23/11/11,451,Add utilities for smart HTTP error handling,"Add utilities for smart HTTP error handling

The GitSmartHttpTools class started as utility functions to help report
useful error messages to users of the android.googlesource.com service.

Now that the GitServlet and GitFilter classes support filters before a
git-upload-pack or git-receive-pack request, server implementors may
these routines helpful to report custom messages to clients.  Using the
sendError() method to return an HTTP 200 OK with error text embedded in
the payload prevents native Git clients from retrying the action with a
dumb Git or WebDAV HTTP request.

Refactor some of the existing code to use these new error functions and
protocol constants.  The new sendError() function is very close to being
identical to the old error handling code in RepositoryFilter, however we
now use the POST Content-Type rather than the Accept HTTP header to check
if the client will accept the error data in the response body rather than
using the HTTP status code.  This is a more reliable way of checking for
native Git clients, as the Accept header was not always populated with the
correct string in older versions of Git smart HTTP.

Change-Id: I828ac2deb085af12b6689c10f86662ddd39bd1a2",0,0,0,0,0,0,0,0,0
4668,I666cd5b67781508a293ae553c6fe5c080c8f4d99,https://git.eclipse.org/r/#/c/4668,2,e68689776fbcb8de55bd1cf347a08079e4fa585b,113f7d32fb990d56959b5fa3602f32224231c191,1,23/11/11,23/11/11,20,Guard against null branch in PullCommand,"Guard against null branch in PullCommand

Throw a NoHeadException when Repository.getFullBranch
returns null

Bug: 351543
Change-Id: I666cd5b67781508a293ae553c6fe5c080c8f4d99
Signed-off-by: Kevin Sawicki <kevin@github.com>",0,0,0,0,0,1,1,0,0
4671,I7d9c5afa95771dbfe6079b5f89a10b248fee0172,https://git.eclipse.org/r/#/c/4671,1,113f7d32fb990d56959b5fa3602f32224231c191,ad4442d57ed1e56efb9bb37516bfac3dbb3e0c60,1,23/11/11,23/11/11,8,Adapt merge message to C Git for remote-tracking branch,"Adapt merge message to C Git for remote-tracking branch

Commit 13931236b9ee2895a98ffdbdacbd0f895956d8a8 in C Git (2011-11-02)
changed the message format:

-Merge remote branch 'origin/foo'
+Merge remote-tracking branch 'origin/foo'

This change does the same in EGit to be consistent.

Change-Id: I7d9c5afa95771dbfe6079b5f89a10b248fee0172
Signed-off-by: Robin Stocker <robin@nibor.org>",0,0,0,0,0,0,0,0,0
4674,Idd0c4eea83a23c41340789b7b877959b457d951e,https://git.eclipse.org/r/#/c/4674,3,6151d41145729c60f7602635fcf374e4091c9348,4d3046fd2d2b95f698976015555939c0cbeec303,1,30/11/11,30/11/11,18,RepositoryState: add method canAmend,"RepositoryState: add method canAmend

The method canAmend was added to RepositoryState. It returns true if
amending the HEAD commit is allowed in the current repository state.

Change-Id: Idd0c4eea83a23c41340789b7b877959b457d951e
Signed-off-by: Jens Baumgart <jens.baumgart@sap.com>",0,0,0,0,0,0,0,0,0
4676,I7d64c5f39b68a9687c858bb68a961616eabbc751,https://git.eclipse.org/r/#/c/4676,2,6f839eeb354580db9342c1f67f45280369bf5d14,ae58e795b9d9270272644d5d3a54d85c1107183a,1,03/12/11,03/12/11,75,"Reset SSH connection and credentials on ""Auth fail""","Reset SSH connection and credentials on ""Auth fail""

When SSH user/password authentication failed this may have been caused
by changed credentials on the server side. When the SSH credentials of a
user change the SSH connection needs to be re-established and
credentials which may have been stored by the credentials provider
need to be reset in order to enable prompting for the new credentials.

Bug: 356233
Change-Id: I7d64c5f39b68a9687c858bb68a961616eabbc751
Signed-off-by: Matthias Sohn <matthias.sohn@sap.com>",0,0,0,0,0,0,0,0,0
4681,I539da6cafb4f73610b8e00259e32bd4d57f4f4cc,https://git.eclipse.org/r/#/c/4681,1,9b365dfb86c39ffad4ec180959828c5939867114,6f95ce31c30907905aa4a8a859f66084bb2a2918,1,26/11/11,26/11/11,6,Don't iterate over advertised refs when HEAD is null,"Don't iterate over advertised refs when HEAD is null

Moves the check from inside the loop to outside the loop
and returns immediately if the HEAD advertisded ref is null

Change-Id: I539da6cafb4f73610b8e00259e32bd4d57f4f4cc",0,0,0,0,0,1,1,0,0
4687,I5a5cd1516b58d116e334056aba1ef7990697ec30,https://git.eclipse.org/r/#/c/4687,2,d71f8a5c5683676f499a81f00df7de91bbeed38e,d99eba52b3bfd66822bba091d054c2b963aa3d82,1,29/11/11,29/11/11,22,Always checkout master when it matches the advertised HEAD,"Always checkout master when it matches the advertised HEAD

Change-Id: I5a5cd1516b58d116e334056aba1ef7990697ec30",0,0,0,1,0,1,1,1,1
4688,Idf798dd3981bef3dc9e17c13c12809f89089e96f,https://git.eclipse.org/r/#/c/4688,1,59c0f359589c64f7ce1217e0716dd18c12a8904d,1b1cd7cdd42c2d20fc662b32e70bce885a0d0f08,1,29/11/11,29/11/11,6,Implement Serializable interface in ReflogEntry,"Implement Serializable interface in ReflogEntry

Change-Id: Idf798dd3981bef3dc9e17c13c12809f89089e96f",0,0,0,1,0,1,1,0,0
4689,I7400e08a1059f57c85a53aebe2719f81c00f58e8,https://git.eclipse.org/r/#/c/4689,1,ec47d1e5c7b8d6af82442095580b4fc65dbcfae0,8854a1b257d8d8201ac6f4b5d64dae73bab15a4d,0,29/11/11,29/11/11,24,Update maven plugin versions,"Update maven plugin versions

Change-Id: I7400e08a1059f57c85a53aebe2719f81c00f58e8
Signed-off-by: Matthias Sohn <matthias.sohn@sap.com>",0,0,0,1,0,0,1,NA,NA
4691,I7a4179f10a4841e80b6546e1e7662cab71eac5e9,https://git.eclipse.org/r/#/c/4691,1,bb2b2d971f0acec0950c2114762db9b3fabc6ea3,c11bde6d04afc80647fc21dca14853bb7f394e8f,1,29/11/11,29/11/11,7,Remove calls to printStackTrace in catch blocks,"Remove calls to printStackTrace in catch blocks

Change-Id: I7a4179f10a4841e80b6546e1e7662cab71eac5e9",0,0,0,1,0,1,1,0,0
4704,I53f8410ca0a52755d80473cd5cbcdb4d8502febf,https://git.eclipse.org/r/#/c/4704,1,e41ffe3f358bd67c1b0947e89098eb124ede24e4,755c1e20dcd0633c808b829519f2f7e68d4bb2de,0,01/12/11,01/12/11,3,Fix HTTP unit tests,"Fix HTTP unit tests

I modified the way errors are returned, and this particular test is
now getting a different access denied response. The new text happens
to be what I intended to have here, so update the test.

Change-Id: I53f8410ca0a52755d80473cd5cbcdb4d8502febf",0,0,0,0,0,0,0,NA,NA
4705,I14ea5cb7e0fd1b5c50b994fd77f4e05bfbb9d911,https://git.eclipse.org/r/#/c/4705,21,0afdc3e6d97c629c8d08ca3c28d9f744701f9bcf,6a6bb9e15699759fbbf1bf71962f749fd1615bb6,1,10/02/12,29/07/12,1370,[RFC] Garbage collector for FileRepositories,"[RFC] Garbage collector for FileRepositories

This is work in progress. It is mainly a copy what Shawn wrote in
DfsGarbageCollector which is enhanced by handling index and reflog
entries. It's not ready at all but I want to share it fast to see
whether I am heading in the right direction.


Change-Id: I14ea5cb7e0fd1b5c50b994fd77f4e05bfbb9d911
Signed-off-by: Christian Halstrick <christian.halstrick@sap.com>",0,1,1,0,1,1,1,7,1
4714,Ic31b5df563f19404ed4682556999f4332aa61562,https://git.eclipse.org/r/#/c/4714,1,422066e0ccd15214f09a645ea9b824abe3accd06,d9bb67c5f666066254b572364bf6ec0c1ae4e42a,1,02/12/11,02/12/11,7,Always close the GZIPOutputStream to release Deflater,"Always close the GZIPOutputStream to release Deflater

The stream must be closed to ensure the native resources associated
with its internal Deflater instance are cleaned up early, instead of
waiting for GC to identify the dead object and finialize it.

Change-Id: Ic31b5df563f19404ed4682556999f4332aa61562",0,0,0,0,0,0,0,0,0
4715,I5534b560697731121f48979ae077aa7c95b8e39c,https://git.eclipse.org/r/#/c/4715,1,d9bb67c5f666066254b572364bf6ec0c1ae4e42a,769e058f7c0abe240bed6b7aee2ac17cf073b5c6,1,05/12/11,05/12/11,224,Ensure all smart HTTP errors are sent to clients,"Ensure all smart HTTP errors are sent to clients

Error messages are typically short, below the 32 KiB in-memory buffer
size of the SmartOutputStream. When an error is queued up for sending
to a client and an exception is thrown up into the servlet handler we
discarded the message and sent nothing to the client, as the messages
were stuck inside of the SmartOutputStream buffer.

Hoist the creation of the output stream above the invocation of try
block of the service, and use close() in the few catch blocks that
assume there are buffered messages ready for transmission. This will
ensure errors from unpacking a stream in ReceivePack are sent off to
a client correctly, as previously these were causing no status report
to arrive at the client side as the data was stuck in the buffer.

Change-Id: I5534b560697731121f48979ae077aa7c95b8e39c",0,0,0,0,0,0,0,0,0
4716,I5381e110585f780c01a764df8e27c80aacf5146e,https://git.eclipse.org/r/#/c/4716,1,769e058f7c0abe240bed6b7aee2ac17cf073b5c6,963d0bbbca21528a1517c9b1cfbd4f3c488bb0cb,1,05/12/11,05/12/11,66,Discard request HTTP bodies for status code <400,"Discard request HTTP bodies for status code <400

The HTTP RFCs require a server to fully consume the request body before
it can return a non-error status code, which is any code below 400.

JGit returns most Git level errors inside of an HTTP 200 OK response,
and sometimes this happens before the entire request was consumed from
the servlet container. In such cases the body must be skipped or read
until EOF is reached, ensuring the HTTP keep-alive semantics will work
for the next request on the same TCP connection.

HTTP status codes >= 400 may be returned without consuming the body,
and a servlet container must set ""Connection: close"" in the response
headers when this happens, since the state of the request body is not
well defined with an early abort.

With the introduction of sendError() in GitSmartHttpTools there are
only a handful of locations that need to worry about the request body
being consumed, so sprinkle the call in as necessary.

Change-Id: I5381e110585f780c01a764df8e27c80aacf5146e",0,0,0,0,0,0,0,1,1
4717,I08e1369e142bb19f42a8d7bbb5a7d062cc8533fc,https://git.eclipse.org/r/#/c/4717,8,db46da038fb43eea21882a04151dbf52a55661af,8a829f0e0a9be6550b18150fc6e1542f75f51442,1,10/02/12,05/03/12,807,Add ApplyCommand to JGit API,"Add ApplyCommand to JGit API 

Bug: 361548
Change-Id: I08e1369e142bb19f42a8d7bbb5a7d062cc8533fc",0,1,0,0,1,0,1,3,1
4718,I79c284a720935814aef9767156106833f983bb8b,https://git.eclipse.org/r/#/c/4718,1,4a727d8a612bc2df0afb3015a1394df4ccfe4c49,2bbe4bf69d75449d9d2ac9a1c93142a5514591a3,0,25/01/12,25/01/12,27,Allow to list tags with org.eclipse.jgit.pgm.Tag,"Allow to list tags with org.eclipse.jgit.pgm.Tag

Change-Id: I79c284a720935814aef9767156106833f983bb8b",0,0,0,1,0,0,1,NA,NA
4719,Ic944193b2aca55ff3eb0235d46afa60b7896aa0f,https://git.eclipse.org/r/#/c/4719,1,cd6cb962a458a22f01bd9c247dfe4ae8c8eef933,062e66b970ae3b8a37479e9a7e55667de4d0aea9,1,03/12/11,03/12/11,72,Fix History rendering,"Fix History rendering

There was the possibility that during history rendering we draw a lane
""trough"" a passed commit. Vadim Dmitriev found that out in bug 335818. 
I added the needed check to that block of code where it was missing.

Bug: 335818
Change-Id: Ic944193b2aca55ff3eb0235d46afa60b7896aa0f
Signed-off-by: Christian Halstrick <christian.halstrick@sap.com>",0,0,0,0,0,0,0,0,0
4720,I86f382913bc47665c5b9a2827b878e7dbedce7b1,https://git.eclipse.org/r/#/c/4720,8,c3963d5a9d987d91e176fd81004f59b0ca4d47e3,dbf41cefd1aac1d6f1013c136626246069d6a873,1,10/02/12,22/03/12,1305,Allow to write tests with CLI syntax,"Allow to write tests with CLI syntax 

Bug: 365444
Change-Id: I86f382913bc47665c5b9a2827b878e7dbedce7b1",0,1,0,0,1,0,1,1,1
4730,I896a2384217936c8b672df8b81c9599f5c350458,https://git.eclipse.org/r/#/c/4730,4,589ce1cd7f18cbfa4f5a5b80f08509be1de22a7b,6035914c6ecd7ebce35f839480a5d2a72f53d4a1,1,16/01/12,16/01/12,230,Add BranchConfig helper for easier access to branch config section,"Add BranchConfig helper for easier access to branch config section

Getting the name of the remote-tracking branch given a branch is not so
easy to get right. This class provides a way to do that and could be
used for more branch config related things (e.g. in PullCommand).

Change-Id: I896a2384217936c8b672df8b81c9599f5c350458
Signed-off-by: Robin Stocker <robin@nibor.org>",0,1,0,0,0,0,1,0,0
4731,I09f7d9b049beea417da7ff32c9f8bf0d4ed46a7f,https://git.eclipse.org/r/#/c/4731,4,fd456e1cc575c6eaab27cbf409b7c67b066f39e6,933092842d2c7bca25d968f0e80700805021f247,1,16/01/12,16/01/12,199,"Add count(start, end) convenience method to RevWalk","Add count(start, end) convenience method to RevWalk

It returns the number of commits that are in start and not in end.
Useful for calculating how much a branch is ahead of another one.

Change-Id: I09f7d9b049beea417da7ff32c9f8bf0d4ed46a7f
Signed-off-by: Robin Stocker <robin@nibor.org>",0,1,0,0,0,0,1,0,0
4732,I8d2b108c89905c3f0496f3d517879596740787c0,https://git.eclipse.org/r/#/c/4732,4,f6664d403191d4c65060f1ef6b4a9d9062ae2c93,a27e4df6a07851528964a820f7efa2508942a2d8,1,16/01/12,16/01/12,244,Add BranchTrackingStatus for getting remote tracking status,"Add BranchTrackingStatus for getting remote tracking status

This is used by EGit change I1e1caca561d1b0a0c194bfc42e64b698f42c6e6a to
show branch status in decoration.

It can also be used for providing the same output as C Git in ""git
status"".

Change-Id: I8d2b108c89905c3f0496f3d517879596740787c0
Signed-off-by: Robin Stocker <robin@nibor.org>",0,1,0,0,0,0,1,0,0
4735,Ic944193b2aca55ff3eb0235d46afa60b7896aa0f,https://git.eclipse.org/r/#/c/4735,1,07b41c039babff84e537fcb5c417003c934158ef,05c7e8fa164b7607ad706d328a110a538d39ed68,1,05/12/11,05/12/11,72,Fix History rendering,"Fix History rendering

There was the possibility that during history rendering we draw a lane
""trough"" a passed commit. Vadim Dmitriev found that out in bug 335818. 
I added the needed check to that block of code where it was missing.

Bug: 335818
Change-Id: Ic944193b2aca55ff3eb0235d46afa60b7896aa0f
Signed-off-by: Christian Halstrick <christian.halstrick@sap.com>",0,0,0,0,0,0,0,0,0
4744,I6024265b7a593dcfd4fc612d0baf6652a0092ff4,https://git.eclipse.org/r/#/c/4744,2,f107c861ba481c39af5adc8f65e8ab3ecf6c9fdf,455f4238a2adbafa98b24446f979038fa277734e,1,06/12/11,06/12/11,2,Fix history rendering not to occupy to many lanes,"Fix history rendering not to occupy to many lanes

There was a bug in history rendering which caused jgit to use too
many lanes in case lanes get repositioned. Looking at commit
90c11cbaeb83ee9b02238cbd2c0e5bcf68068772 in JGit was one example. Vadim
Dmitriev found the problem and the solution.

Bug: 365460
Change-Id: I6024265b7a593dcfd4fc612d0baf6652a0092ff4
Signed-off-by: Christian Halstrick <christian.halstrick@sap.com>",0,0,0,0,0,1,1,0,0
4745,I17c2709f2613536c02c9ea2977d936b87029ac0d,https://git.eclipse.org/r/#/c/4745,1,b6f7384dfddb4917413e2a60f1fa049ff6bfaf54,d7271dffc9ef6732274888aa6338e5fee39a10fa,0,08/12/11,08/12/11,6,Stream left open in WorkingTreeIterator#filterClean,"Stream left open in WorkingTreeIterator#filterClean

Change-Id: I17c2709f2613536c02c9ea2977d936b87029ac0d",0,0,0,1,0,0,1,NA,NA
4747,Ie139133bcbe1ca61c85e86b3484f858bc065821f,https://git.eclipse.org/r/#/c/4747,4,d3637150e35c12fe40196d1b2ac8ce7a91dcaa9c,ee089d963f533863c668e3e09fde5f191d63d892,1,09/12/11,09/12/11,3,Use constants for logs directory,"Use constants for logs directory

Change-Id: Ie139133bcbe1ca61c85e86b3484f858bc065821f",0,1,0,1,0,1,1,0,0
4749,I9f1842c2d414d3e9c658843f9b448bc18891748e,https://git.eclipse.org/r/#/c/4749,6,aff748e207d2faa3a135e7a336bbb304bbfc94d0,54f9dc8f0cc2238cc8f98d6c8b954f35e286dc1f,1,09/12/11,09/12/11,14,Throw invalid ref exception instead of invalid remote exception,"Throw invalid ref exception instead of invalid remote exception

ReflogCommand command was throwing a confusing exception type
when an IOException was wrapped and rethrown from the underlying
ReflogReader

Change-Id: I9f1842c2d414d3e9c658843f9b448bc18891748e",0,1,0,0,0,1,1,0,0
4750,I34a8c251b89abcdb67565ca49bee02e5e2113593,https://git.eclipse.org/r/#/c/4750,10,396f65f4b9ac6bf9e7aebd3f03eea8f1ee6e90c6,a7ee32b02aa5ba48c61fce4550d913c34d469ee6,1,20/01/12,20/01/12,270,Add command support for listing stashed commits,"Add command support for listing stashed commits

Change-Id: I34a8c251b89abcdb67565ca49bee02e5e2113593",0,1,0,1,0,1,1,0,0
4752,I1efcd93a43ecbf4a40583e0fc9d8d53cffc98cae,https://git.eclipse.org/r/#/c/4752,2,2a6170ddf31ab3275fe36360fb90c3da8aaabaf1,f7c2516976639a317c340a4d3304cd19c2862eed,1,08/12/11,08/12/11,27,Throw API exception when MergeCommand hits checkout conflicts,"Throw API exception when MergeCommand hits checkout conflicts 

When MergeCommand hit checkout conflicts it did throw an internal JGit
exception org.eclipse.jgit.errors.CheckoutConflictException instead of
org.eclipse.jgit.api.errors.CheckoutConflictException which it
declares to throw. Hence translate the internal exception to the
exception declared in the API.

Bug: 327573
Change-Id: I1efcd93a43ecbf4a40583e0fc9d8d53cffc98cae
Signed-off-by: Matthias Sohn <matthias.sohn@sap.com>",0,0,0,0,0,0,0,0,0
4754,I08182c2f8512f799178cee70bcc28d6ee2b9c2b0,https://git.eclipse.org/r/#/c/4754,1,398a7b297763bd144edd01dd27ac1e210e716588,00a9bf225a694565823c7e0c9aeeb0d1330a544c,0,09/12/11,09/12/11,1,Force jgit.sh to use UTF-8 encoding on Mac,"Force jgit.sh to use UTF-8 encoding on Mac

For some obscure reason the platform encodng in Java on Macs
is MacRoman. OS X used UTF-8 as the default encoding so set
the encoding property in jgit.sh.

Change-Id: I08182c2f8512f799178cee70bcc28d6ee2b9c2b0",0,0,0,0,0,0,0,NA,NA
4755,Iaa06e47e6e8cc4a0281c7683b367d4806dd980ea,https://git.eclipse.org/r/#/c/4755,2,0cbbe0f30222c176f1c9d68117873bc92f97ce87,170917a67c6f780e43e546347c72d322511a2445,0,08/12/11,08/12/11,5,Set expected id to all zeros when head id is null,"Set expected id to all zeros when head id is null

This will be the case on the initial commit to a repository
and the ref update should expect a non-existent ref

Change-Id: Iaa06e47e6e8cc4a0281c7683b367d4806dd980ea",0,0,0,0,0,1,1,NA,NA
4757,I7a00fe1a6c610679be475cab8a3f8aa4c08811a1,https://git.eclipse.org/r/#/c/4757,7,8448f5e4cb571bdf22e7264ac75ab0d90f903c57,4b9fea2b120fd2cd34ea74e9516f2404a9dfe6ce,1,11/12/11,11/12/11,157,Fix ResolveMerger not to add pathes with FileMode 0,"Fix ResolveMerger not to add pathes with FileMode 0

When ResolveMerger finds a path where he has to do a content merge he
will try the content merge and if that succeeds he'll add the newly
produced content to the index. For the FileMode of this new index entry 
he blindly copies the FileMode he finds for that path in the common base
tree. If by chance the common base tree does not contain this path he'll
try to add FileMode 0 (MISSING) to the index.

One could argue that this can't happen: how can the ResolveMerger
successfully (with not conflicts) merge two contents if there is no
common base? This was due to another bug in ResolveMerger. He failed to
find out that for two files which differ only in the FileMode (e.g. 644
vs. 755) he should not try a content merge. 

Change-Id: I7a00fe1a6c610679be475cab8a3f8aa4c08811a1
Signed-off-by: Christian Halstrick <christian.halstrick@sap.com>",0,1,0,0,0,1,1,0,0
4759,Iee475584f0a65b8b77610cd277f15295b68dfe80,https://git.eclipse.org/r/#/c/4759,1,32c22fc750ed8c50165ac854e03aa6ce5aa2460c,6e638c86f528d4434baaae1d54a3726d08945663,1,08/12/11,08/12/11,3,Use System.arraycopy to copy parent object id array,"Use System.arraycopy to copy parent object id array

Change-Id: Iee475584f0a65b8b77610cd277f15295b68dfe80",0,0,0,1,0,1,1,0,0
4760,I2ce85b1601b74b07e286a3f99feb358dfbdfe29c,https://git.eclipse.org/r/#/c/4760,17,230298a37f08c80a662f23f6828bee1622bb483c,8bf2e0c903e533f576293ec7ba122f5ebf5713ed,1,10/02/12,28/02/12,726,[RFC] Add support for create a stashed commit,"[RFC] Add support for create a stashed commit

Change-Id: I2ce85b1601b74b07e286a3f99feb358dfbdfe29c",0,1,1,1,1,1,1,0,0
4761,Ib02be417c4915350dfec64fda3face1138552871,https://git.eclipse.org/r/#/c/4761,1,381b11c8f2e702fd5f5100fa66c129d275552f49,2001295d496bc913525e9682e6b0b39741ef64e6,1,08/12/11,08/12/11,30,Add methods for configuring platform emulation,"Add methods for configuring platform emulation

Specifically we support setting system properties for Windows, generic
Unix and current test platform.

Change-Id: Ib02be417c4915350dfec64fda3face1138552871",0,0,0,0,0,0,0,0,0
4766,I7886e5b8f775fa8e8478ac5af37d90b6ef677d8b,https://git.eclipse.org/r/#/c/4766,2,baf952601ee7d6dba0019d5f107b7c6816a42870,77d8cd26ae900064ae035c12438d58feb1a09c96,0,08/12/11,08/12/11,13,Add toString() to HunkHeader,"Add toString() to HunkHeader

Since FileHeader provides toString() method (via DiffEntry) we could add
a similar method to HunkHeader.

Change-Id: I7886e5b8f775fa8e8478ac5af37d90b6ef677d8b",0,0,0,0,0,0,0,NA,NA
4768,I21277e52ee9452237d87084f06bb140dfa6bf608,https://git.eclipse.org/r/#/c/4768,2,bd098ceb464650d377710ec07e93fc5e279a1b61,e0c967caf22f5cd6d857b4b5534661d15f77eef7,1,09/12/11,09/12/11,16,Add a no-op UploadPackLogger and use it by default,"Add a no-op UploadPackLogger and use it by default

This matches the behavior of the hooks in UploadPack.

Change-Id: I21277e52ee9452237d87084f06bb140dfa6bf608",0,0,0,0,0,1,1,0,0
4769,I5b388816b63036ffff08ef3a9b857ccb764cb8c4,https://git.eclipse.org/r/#/c/4769,3,eb1f3cf8d22b0d812fae18ff12b13d30b8cb74a5,9f0816c538262a2f73fa719163415a67e9958219,1,09/12/11,09/12/11,384,Add simple chain implementations of transport hooks and loggers,"Add simple chain implementations of transport hooks and loggers

Allows callers to effectively run multiple hooks and loggers without
modifying the UploadPack/ReceivePack interface.

Change-Id: I5b388816b63036ffff08ef3a9b857ccb764cb8c4",0,0,0,0,0,1,1,0,0
4770,If79b6a593dc53fbb7c4f0a69a9d0dca02a8cb63c,https://git.eclipse.org/r/#/c/4770,1,e99c0612da71ef017a276fd563ab9aeba89691d3,c718f84cf44d9c75cd99966faf06690008c4a1e5,1,08/12/11,08/12/11,6,[findBugs] Implement Serializable interface in PlotLane,"[findBugs] Implement Serializable interface in PlotLane

This class is referenced by PlotCommit which is Serializable

Change-Id: If79b6a593dc53fbb7c4f0a69a9d0dca02a8cb63c",0,0,0,0,0,1,1,0,0
4776,Icdf5d9ea3ca62839cbf7de13dfee9682056b7cef,https://git.eclipse.org/r/#/c/4776,1,7cb8f3792321670f1c8d919fc891523caba2ef6e,f0e1261268bb06d49443bb0944093f524de567a5,0,10/12/11,10/12/11,2,Fix version.sh,"Fix version.sh

Change-Id: Icdf5d9ea3ca62839cbf7de13dfee9682056b7cef
Signed-off-by: Matthias Sohn <matthias.sohn@sap.com>",0,0,0,1,0,0,1,NA,NA
4777,If71cc760423ae2b76c7435ca4830edc1745556de,https://git.eclipse.org/r/#/c/4777,1,dfe47b7a4a22c170807322d262657a4abe0ac6c8,22a773cb752191e63c5c20aa22e7460e21e039a4,1,10/12/11,10/12/11,4,Merge branch 'stable-1.2',"Merge branch 'stable-1.2'

* stable-1.2:
  Fix version.sh
  Throw API exception when MergeCommand hits checkout conflicts
  Add methods for configuring platform emulation
  Fix history rendering not to occupy too many lanes
  Fix History rendering

Change-Id: If71cc760423ae2b76c7435ca4830edc1745556de
Signed-off-by: Matthias Sohn <matthias.sohn@sap.com>",0,0,0,0,0,0,0,0,0
4778,I7a1ae73783c95041b59f047a7330e62e7f642149,https://git.eclipse.org/r/#/c/4778,1,22a773cb752191e63c5c20aa22e7460e21e039a4,431fc6c5fa57531730412bc74d40c5b2f62c6fd1,0,12/12/11,12/12/11,484,Prepare 1.3.0 builds,"Prepare 1.3.0 builds

Change-Id: I7a1ae73783c95041b59f047a7330e62e7f642149
Signed-off-by: Matthias Sohn <matthias.sohn@sap.com>",0,0,0,1,0,0,1,NA,NA
4785,I3c0ad460874a21c073f5ac047146cbf5d31992b4,https://git.eclipse.org/r/#/c/4785,3,72b03a6d02328661f3c17898fc36a2ec0e3c286d,acf57946781e702d91586fecfdd66bc3164db81b,0,19/12/11,19/12/11,1554,Enforce the use of Java5 API:s only (with a few exceptions),"Enforce the use of Java5 API:s only (with a few exceptions)

This only works with Eclipse 3.6 and newer and requires installation
of new package. Documentation is not very good, but there is a blog
about it here: http://eclipseandjazz.blogspot.com/2011/10/of-invalid-references-to-system.html

API checking is especially useful on OS X where Java5 is not readily
available.

Change-Id: I3c0ad460874a21c073f5ac047146cbf5d31992b4",0,0,0,0,1,0,1,NA,NA
4791,Id2bbc3f1300bb179887c4d2d6dd72925bde55f24,https://git.eclipse.org/r/#/c/4791,2,b3bf345408b7d18f805aa64ab8033956e2161e0c,f8e780ea4b650999aa508af7d0c9ad8183bd20bb,1,12/12/11,12/12/11,5,StatusCommand#setWorkingTreeIt should return 'this',"StatusCommand#setWorkingTreeIt should return 'this'

All setters for JGit API commands return the command instance, follow
the builder pattern.

Change-Id: Id2bbc3f1300bb179887c4d2d6dd72925bde55f24",0,0,0,0,0,0,0,0,0
4800,I95bc59e1330a7af71ae3b0485c4516299193f504,https://git.eclipse.org/r/#/c/4800,2,f8e780ea4b650999aa508af7d0c9ad8183bd20bb,dc7257d743e7e32394abafbd7694dde6d0378566,1,18/12/11,18/12/11,108,Add exception class for when locking a file fails,"Add exception class for when locking a file fails

This will allows calling classes to handle lock failures
without checking against the message and will also provide
access to the file that could not be locked.

Change-Id: I95bc59e1330a7af71ae3b0485c4516299193f504",0,0,0,0,0,1,1,0,0
4807,Ia7b35df4442a5f5dfe7e817edcc77b44b5410d08,https://git.eclipse.org/r/#/c/4807,2,3c9eb4c5f455c89a973da82065730cdcd7e2673f,d8f8fc2b99c8e62d8816bea39c3aaa785a97d491,1,13/12/11,13/12/11,26,Fire DfsPacksChangedEvents when committing packs.,"Fire DfsPacksChangedEvents when committing packs.

Once a pack has been committed with commitPack(), we know that the pack
list has changed but we don't re-scan the underlying storage.

Change-Id: Ia7b35df4442a5f5dfe7e817edcc77b44b5410d08",0,0,0,0,0,1,1,0,0
4819,I6162777d6510e083565a77cac4545cda5a9aefb3,https://git.eclipse.org/r/#/c/4819,4,3bddf3c19026eb21a7707a5a5b7b9e9c59a04215,dbb52a2287183b7e705f0f02bccc664762b8e1f1,1,17/12/11,17/12/11,169,Support resolving reflog-based revisions,"Support resolving reflog-based revisions

Revision strings such as 'master@{0}' can now be resolved
by Repository.resolve by reading the reflog for the ref and
returning the commit for the entry number specified.

This still throws an exception for cases not supported
such as master@{yesterday}.

Change-Id: I6162777d6510e083565a77cac4545cda5a9aefb3",0,1,0,0,0,1,1,0,0
4820,I2f85cf88650594eca7df6aa0e26bea329674f08e,https://git.eclipse.org/r/#/c/4820,2,f53f14e2d75b6cd82886f9bbc5e2f58f99f9686f,aa8f9fedcab84d1be0f6a4bd3c66cc1294e715e8,1,27/12/11,27/12/11,16,Add commit id and parent count to exception message,"Add commit id and parent count to exception message

Bug: 357312
Change-Id: I2f85cf88650594eca7df6aa0e26bea329674f08e",0,0,0,0,0,1,1,1,1
4822,Ie4dd03370bb0d475a0e89d3015113ca98920100f,https://git.eclipse.org/r/#/c/4822,4,efbb5a3b8bc4151059d85c41cb85ff49c37dfd87,6fe19464762d7ce27d3fa31ef7f33897fb3e8f09,1,22/12/11,22/12/11,82,Support getting specific entry in reflog,"Support getting specific entry in reflog

The number specified is interpreted as relative to the
last entry in the reflog.

Change-Id: Ie4dd03370bb0d475a0e89d3015113ca98920100f",0,1,0,0,0,1,1,0,0
4823,I02678aeb31a62668ae2b0342a6dae721e043dc5e,https://git.eclipse.org/r/#/c/4823,3,1b5b8994f6cd294594228ebac0f2fcb271804ec0,ac7bb6477a11c81836edb07d490dac167067df55,1,19/12/11,19/12/11,10,Expose unmerged paths when revert fails,"Expose unmerged paths when revert fails

Change-Id: I02678aeb31a62668ae2b0342a6dae721e043dc5e",0,0,0,1,0,1,1,0,0
4826,I830a78e2babf472503630a7aa020ebfd5c7e69c6,https://git.eclipse.org/r/#/c/4826,4,7e400ec2c39caa50c22029f3eaa55d636087c5fd,34a489b9cbf4e2c820170cc5fec99912fd6c00df,1,16/12/11,16/12/11,48,Report diff entries for files that only change mode,"Report diff entries for files that only change mode

Change-Id: I830a78e2babf472503630a7aa020ebfd5c7e69c6",0,1,0,1,0,1,1,0,0
4827,I88cf7aac6b5763cc94421433dd4bbd42f81e0e69,https://git.eclipse.org/r/#/c/4827,4,db2219c844be55bd63ea13a11d22a35cd9e47ee4,32b18e350bb7eb9cd1d11fe55b7946295b8a0ac9,1,23/12/11,23/12/11,226,jgit-cli log command should support --maxcount,"jgit-cli log command should support --maxcount 

Bug: 316680
Change-Id: I88cf7aac6b5763cc94421433dd4bbd42f81e0e69",0,1,0,0,0,0,1,0,0
4828,Iae496baa011b8a59d9329ec73615482b03d34a5a,https://git.eclipse.org/r/#/c/4828,14,83da2fbe043b12c09e838f02748770b257aee5da,98ecd1acf0323a907456eee630e1777152222ea4,1,08/01/12,08/01/12,290,[RFC] Retain executable mode of existing files on Windows,"[RFC] Retain executable mode of existing files on Windows

Currently files in a repository marked as executable will have
that mode unset when modified and committed on systems that
do not support detection of this mode since the working tree
iterator will never report this mode for any entries.

This change updates AddCommand to check if the index file
mode should be used instead of the working tree file mode
when adding files to the index.

There are still other areas that need updating, but I wanted
to first get feedback on one potential approach for fixing this
issue.

Bug: 364956
Change-Id: Iae496baa011b8a59d9329ec73615482b03d34a5a",0,1,0,0,0,1,1,0,0
4830,If11080ed6e53d9df88a1ae42f48ee8914d54669b,https://git.eclipse.org/r/#/c/4830,1,ed30f707d8c0ff4a19af1cc286f3f81083d1fa02,9a11d76cc24fea3e6c641efa4ddd32ed6197d349,0,15/12/11,15/12/11,16,Fix MergeCommandTest to pass if File.executable is not supported,"Fix MergeCommandTest to pass if File.executable is not supported

Change-Id: If11080ed6e53d9df88a1ae42f48ee8914d54669b",0,0,0,1,0,0,1,NA,NA
4831,I21baaf3a6883c5b4db263f712705cc7b8ab6d888,https://git.eclipse.org/r/#/c/4831,3,9c510c7e92334454eee905043eb8972981e8826f,7d35e19636f464eb82525e8b5481826c01138038,0,15/12/11,15/12/11,115,Add API checking using clirr,"Add API checking using clirr

In order to generate API reports run: mvn clirr:clirr

The reports are generated to the folder
target/site/clirr-report.html under the respective
project.

I order to check API compatibility and fail the build
on incompatible changes run: mvn clirr:check

For now we compare the API against the latest release
1.1.0.201109151100-r.

Bug: 336849
Change-Id: I21baaf3a6883c5b4db263f712705cc7b8ab6d888
Signed-off-by: Matthias Sohn <matthias.sohn@sap.com>",0,0,0,0,0,0,0,NA,NA
4838,I86e7194a40acd6dfa3d433f1d17c01bdf5bb0d9c,https://git.eclipse.org/r/#/c/4838,1,d8b6f010579717791a12d38635bdfc4be38c1000,cab7742443a064f75a461a5e1c69766aeb3cf89b,0,16/12/11,16/12/11,0,Merge branch 'stable-1.2',"Merge branch 'stable-1.2'

* stable-1.2:
  Add API checking using clirr
  Fix MergeCommandTest to pass if File.executable is not supported
  Fix ResolveMerger not to add paths with FileMode 0

Change-Id: I86e7194a40acd6dfa3d433f1d17c01bdf5bb0d9c
Signed-off-by: Matthias Sohn <matthias.sohn@sap.com>",0,0,0,0,0,0,0,NA,NA
4841,I74a82b31505fadf8378069c5f6554f1033c28f9b,https://git.eclipse.org/r/#/c/4841,3,20cf10a69e9c8f801f650914e8880a2fe62048a1,f6e12c100a8e32272a9fb941a91a966addb3ea5e,1,15/01/12,15/01/12,149,"Make sure all bytes are written to files on close, or get an error.","Make sure all bytes are written to files on close, or get an error.

Java's BufferedOutputStream swallows any errors that occur when flushing
the buffer in close().

This class overrides close to make sure an error during the final
flush is reported back to the caller.

Change-Id: I74a82b31505fadf8378069c5f6554f1033c28f9b",0,0,0,0,0,0,0,0,0
4851,Ie64039793ab6ba4748731320399f03301b6282ec,https://git.eclipse.org/r/#/c/4851,4,0dba59056d32954900bda7bbc5293b47fa9df59d,e90ae7ff21edbc8e4082e8d4a35099c41f18d8c2,1,13/01/12,13/01/12,36,Cannot commit file with only file permission change,"Cannot commit file with only file permission change

Bug 345076

Change-Id: Ie64039793ab6ba4748731320399f03301b6282ec",0,1,0,0,0,0,1,0,0
4854,I0e8d365b56e079ac4ccece7fcf80ea140c319c78,https://git.eclipse.org/r/#/c/4854,1,c023b525df3d08778b3e44feb8ac055955becc72,9e901e0c1cfee4aa545929705d39850da3021309,1,18/12/11,18/12/11,5,Allow to amend commits with JGit CLI,"Allow to amend commits with JGit CLI

Change-Id: I0e8d365b56e079ac4ccece7fcf80ea140c319c78",0,0,0,1,0,0,1,0,0
4861,Ie5112aa26430e5a2a3acd65a7b0e1d76067dc545,https://git.eclipse.org/r/#/c/4861,6,97e699e2fde4f9564135949d1311a5dc3a7fabab,6a4384d8b7856f493f7dcd32048cfa815c945d0d,1,28/12/11,28/12/11,2672,Add comand support for git-submodule,"Add comand support for git-submodule

Adds the following commands:
    - Add
    - Init
    - Status
    - Sync
    - Update

This also updates AddCommand so that file patterns added that
are submodules can be staged in the index.

Change-Id: Ie5112aa26430e5a2a3acd65a7b0e1d76067dc545
Signed-off-by: Kevin Sawicki <kevin@github.com>
Signed-off-by: Chris Aniszczyk <zx@twitter.com>",0,1,0,0,1,1,1,5,1
4869,I231d902d52e3e5e9a7748eedaa63a2bb889ebb13,https://git.eclipse.org/r/#/c/4869,2,cc097dd74f7d684c7905c7f1a80202efc835ac25,825bba3d179709ad2bea3b07c94316e8226f06cd,1,10/02/12,03/04/12,22,Unlock DirCache in case of occurring exception,"Unlock DirCache in case of occurring exception

A DirCache was not unlocked if an exception occurred in the
DirCacheCheckout constructor.

Bug: 365449
Change-Id: I231d902d52e3e5e9a7748eedaa63a2bb889ebb13
Signed-off-by: Jens Baumgart <jens.baumgart@sap.com>",0,0,0,0,0,0,0,1,1
4873,Icc0b09324f205d93929af8cf522a99ad00cf7591,https://git.eclipse.org/r/#/c/4873,1,f2344cd293eec9f83a199bc8604c264f91266459,275cda21c3e49ce70f2ae853dad84755a61b07a8,0,23/12/11,23/12/11,100,JGit v1.2.0.201112221803-r,"JGit v1.2.0.201112221803-r

Change-Id: Icc0b09324f205d93929af8cf522a99ad00cf7591
Signed-off-by: Matthias Sohn <matthias.sohn@sap.com>",0,0,0,1,0,0,1,NA,NA
4879,Ib18d41a65e68cc47fb63114fcce27a16820d0692,https://git.eclipse.org/r/#/c/4879,1,fd774643aeea1919a7fd05baf12ba74380de8853,a115e17cb64060f7aebbbacda5708d0b65eaa471,0,26/12/11,26/12/11,199,Merge branch 'stable-1.2',"Merge branch 'stable-1.2'

* stable-1.2:
  JGit v1.2.0.201112221803-r
  Expose unmerged paths when revert fails
  Enforce the use of Java5 API:s only (with a few exceptions)

Change-Id: Ib18d41a65e68cc47fb63114fcce27a16820d0692
Signed-off-by: Matthias Sohn <matthias.sohn@sap.com>",0,0,0,0,0,0,0,NA,NA
4883,Id18de9660f0dc2fb6c30db9770f31f26c874022d,https://git.eclipse.org/r/#/c/4883,1,a115e17cb64060f7aebbbacda5708d0b65eaa471,67c3d19a8122d5efc6e0583f1557225d994f448d,0,27/12/11,27/12/11,6,Only print stack trace to Sytem.err when debug flag is set,"Only print stack trace to Sytem.err when debug flag is set

Bug: 362100
Change-Id: Id18de9660f0dc2fb6c30db9770f31f26c874022d",0,0,0,0,0,1,1,NA,NA
4884,Id2666d897d29b6371f7a6cf241cfda02964b4971,https://git.eclipse.org/r/#/c/4884,9,5820ed875ed94801bc582d78c411c43780b35bd5,e68b57e0481ff44fc6a3df25ec401b1e50645f12,1,02/01/12,02/01/12,261,Skip a number commits before starting to show the commit output,"Skip a number commits before starting to show the commit output 

Change-Id: Id2666d897d29b6371f7a6cf241cfda02964b4971",0,1,0,1,0,0,1,1,1
4885,I88d34eec8307231f89343ead06858d1df4ac0886,https://git.eclipse.org/r/#/c/4885,1,40ead1a61e2895ebe46cc4f9201a77bc32ba656f,c36530b331034047e4c7c81ac040890a2956543d,1,27/12/11,27/12/11,10,Fix typo in RebaseResult#mySatus,"Fix typo in RebaseResult#mySatus

Change-Id: I88d34eec8307231f89343ead06858d1df4ac0886",0,0,0,1,0,0,1,0,0
4890,I539f3531e94c11c0f0a3e7096c0eb1b1c309898a,https://git.eclipse.org/r/#/c/4890,2,2fabee1677a6bba3c0421daf0f8ea8545c76b116,fdb310c5a1ff82729eaab5eead82b3d7a52fd4b2,1,09/01/12,09/01/12,92,Add options for setting context lines and prefixes to DiffCommand,"Add options for setting context lines and prefixes to DiffCommand 

Change-Id: I539f3531e94c11c0f0a3e7096c0eb1b1c309898a",0,0,0,1,0,0,1,1,1
4892,Icb56610241c80d6ca8a980f6d419f4934579d441,https://git.eclipse.org/r/#/c/4892,1,3a12e35be9b91b48f19f4de6da5a6a8cda205ccc,72248b01a85e12fa146d908c86af7ec1d1a6ef69,0,30/12/11,30/12/11,2,Update base version for clirr API check to latest release,"Update base version for clirr API check to latest release

Change-Id: Icb56610241c80d6ca8a980f6d419f4934579d441
Signed-off-by: Matthias Sohn <matthias.sohn@sap.com>",0,0,0,1,0,0,1,NA,NA
4895,I83e26531ea924178ba43fa82b3c1fe02afd23eca,https://git.eclipse.org/r/#/c/4895,3,72248b01a85e12fa146d908c86af7ec1d1a6ef69,20d476c41d3445ea79538541cb64b319bc879c64,1,02/01/12,02/01/12,160,Sort translation bundle keys in alphabetical order.,"Sort translation bundle keys in alphabetical order.

Change-Id: I83e26531ea924178ba43fa82b3c1fe02afd23eca",0,0,0,1,0,0,1,0,0
4897,I5a6ef686c444fb1e46c9f784bad01165471ef372,https://git.eclipse.org/r/#/c/4897,2,1117513c5e69c1b24eb0588b7341feb538b507d6,50f9d48c739a3083f8fe771f311cdd4b7c9100a0,1,02/01/12,02/01/12,23,"Add constant for default name for the Git repo configuration ie ""config""","Add constant for default name for the Git repo configuration ie ""config""

Change-Id: I5a6ef686c444fb1e46c9f784bad01165471ef372",0,0,0,1,0,0,1,0,0
4898,I9b179b162996520e95c4e001dccd65c566a4bd27,https://git.eclipse.org/r/#/c/4898,4,74bd791a815ddfccf3be75460850077f3ec128a6,bd5efb11e8f2b1439bb6661cd40e9938ee9ac323,1,10/02/12,23/05/12,193,Add pgm-config command,"Add pgm-config command

Currently, only --list option is supported with --global, --system,
--local and --config-file switches. I'm planning to add more options in
the future. Not necessarily as part of this change, so it doesn't grow
over 250 lines.

Change-Id: I9b179b162996520e95c4e001dccd65c566a4bd27",0,1,1,0,0,0,1,0,0
4900,Ib1f82206fa14be75e2080f95db9f2d178e876453,https://git.eclipse.org/r/#/c/4900,7,0b8ddc6fc70c5aa10ed85209036ffa74efb2abb3,5c46f62dbb464a9460e1bd98b0d3c1ecd8726244,1,03/01/12,03/01/12,73,Add support for cloning submodules to CloneCommand,"Add support for cloning submodules to CloneCommand 

Change-Id: Ib1f82206fa14be75e2080f95db9f2d178e876453",0,1,0,1,0,1,1,0,0
4901,I649d96617072db68ab15aa2569836fa783577424,https://git.eclipse.org/r/#/c/4901,1,fb9cfffdfa938cd9f9da2c845021ea649da83714,76962379ff521528d8947a3424abce2f8839e633,1,03/01/12,03/01/12,51,Add submodule command helpers to Git class,"Add submodule command helpers to Git class

Change-Id: I649d96617072db68ab15aa2569836fa783577424",0,0,0,1,0,1,1,0,0
4902,I93bfe5a91d430200de8c7f1e32a60cb990aa58ea,https://git.eclipse.org/r/#/c/4902,2,76962379ff521528d8947a3424abce2f8839e633,b78c3ac35d8012b04513bfc8668635bb3180e35b,1,03/01/12,03/01/12,40,Extend TransportCommand in submodule add/update commands,"Extend TransportCommand in submodule add/update commands

This allows all the settings of a TransportCommand to be
configured on the clone commands that are run by submodule
add/update

Change-Id: I93bfe5a91d430200de8c7f1e32a60cb990aa58ea",0,0,0,0,0,1,1,0,0
4904,I1d543e2f721987114cc1e1cb0848c234470df794,https://git.eclipse.org/r/#/c/4904,8,b26affe855c8eb0e1c4c3591f3475fd32ec8a3c4,519cb04cf655b102b1c7d137c0411a3c09331844,1,03/01/12,03/01/12,11,Support checking if index diff entries are submodules,"Support checking if index diff entries are submodules

Change-Id: I1d543e2f721987114cc1e1cb0848c234470df794",0,1,0,1,0,1,1,0,0
4908,I580166d386126bfb54a318a65253070a6e325936,https://git.eclipse.org/r/#/c/4908,4,87bce8c3c68ad013a8145b33edef5e46a189c25f,3eccb21981e0334e48d5f1fedab26bfcc1e5523b,1,10/01/12,10/01/12,119,Provide helper for obtaining a handle on the '.lock' file,"Provide helper for obtaining a handle on the '.lock' file

This will allow recovery from a LockFailedException where
the path that could not be locked is known and the '.lock'
file could be deleted and the operation retried.

Change-Id: I580166d386126bfb54a318a65253070a6e325936",0,1,0,0,0,1,1,0,0
4913,Ic1253498ecdd7545c6b1f114f4c83a3b77273874,https://git.eclipse.org/r/#/c/4913,1,0031d1a2b665278ad89a9bf754dbb68b8c42c7a6,13e9847c257d7e27de5f61a826a976ebd833b24a,1,05/01/12,05/01/12,18,Use constants from ConfigConstants in CoreConfig,"Use constants from ConfigConstants in CoreConfig

Change-Id: Ic1253498ecdd7545c6b1f114f4c83a3b77273874",0,0,0,1,0,1,1,0,0
4916,I0c342ab70dc36c1fd70acb4f8a924bb207d62f47,https://git.eclipse.org/r/#/c/4916,1,ba6d216505da1279f62a0984772b6dad4f4d1a7d,e989d5c22efdb66e4755a7b83f06677a8cd7c95d,0,09/01/12,09/01/12,19,Add helper for determining if status is clean,"Add helper for determining if status is clean

This checks if all collections that Status exposes are
empty or not

Change-Id: I0c342ab70dc36c1fd70acb4f8a924bb207d62f47",0,0,0,0,0,1,1,NA,NA
4919,I93c609235dec4e5e3a2ddc275c28b202bf868d40,https://git.eclipse.org/r/#/c/4919,3,b37128f6d05e3b8060bd1c1e903ac6b930fec783,9c60a00d602ed5fc14c1a17f1b746494817f43fa,1,10/02/12,23/02/12,61,Add support for autosetuprebase to the CloneCommand,"Add support for autosetuprebase to the CloneCommand

Bug: 345536
Change-Id: I93c609235dec4e5e3a2ddc275c28b202bf868d40
Signed-off-by: Stefan Lay <stefan.lay@sap.com>",0,0,1,0,0,0,1,0,0
4932,I9a3b302e1b3f373ee11a977a0e3d6213bfbd3cdf,https://git.eclipse.org/r/#/c/4932,7,aa76723d43e1b0fe5fa43ae7a3b61f59b99fb559,0c3b3bd5410a2d284d4ef7410e9a58f19da6e4e9,1,09/01/12,09/01/12,87,Narrow exceptions declared by LsRemoteCommand,"Narrow exceptions declared by LsRemoteCommand

API commands either throw GitAPIException or JGitInternalException.
Also add missing javadoc and reduce nesting of catch blocks.

Change-Id: I9a3b302e1b3f373ee11a977a0e3d6213bfbd3cdf
Signed-off-by: Matthias Sohn <matthias.sohn@sap.com>",0,1,0,0,0,0,1,0,0
4934,I34f8b77a461e165d7d624dbd9a6944feadc57b8e,https://git.eclipse.org/r/#/c/4934,2,776d19aa1fe1fcf33b706dfdefe0c28ef791d0f0,6fb01a91a80e57697014e0d45348270f5c3e52f3,1,10/01/12,10/01/12,20,Add setter for ProgressMonitor to DiffCommand,"Add setter for ProgressMonitor to DiffCommand

Change-Id: I34f8b77a461e165d7d624dbd9a6944feadc57b8e",0,0,0,1,0,0,1,0,0
4935,I81735ba0394ef6794e9b2b8bdd8bd7e8b9c6460f,https://git.eclipse.org/r/#/c/4935,2,7c63d3ef88f75aba9876d6c4eaad295f2fa4645a,412814e201c4367116730db77719aa9e5020a1d7,1,10/02/12,10/07/13,4,Make sure checkout is not deleting folders outside the workingtree,"Make sure checkout is not deleting folders outside the workingtree

There was a chance that jgit deletes symbolic links which point to the
folder on top of the working tree. Make sure not to touch these
resources.

Thanks to Cedric Darloy who reported this bug on
http://www.eclipse.org/forums/index.php/m/776910/#msg_776910

Change-Id: I81735ba0394ef6794e9b2b8bdd8bd7e8b9c6460f
Signed-off-by: Christian Halstrick <christian.halstrick@sap.com>",0,0,0,0,0,1,1,2,1
4945,Ie321c572284a6f64765a81674089fc408a10d059,https://git.eclipse.org/r/#/c/4945,6,0e02259cbe8ec3eb71330af3e318cb63de4e99b5,d3964f08b72d06e16bb6d71ca909e3a35e227029,1,10/02/12,04/04/13,253,Add the no-commit option to MergeCommand,"Add the no-commit option to MergeCommand

Added also tests and the associated option the command line Merge
command.

Bug: 335091
Change-Id: Ie321c572284a6f64765a81674089fc408a10d059
Signed-off-by: Christian Halstrick <christian.halstrick@sap.com>",0,1,0,0,0,1,1,0,0
4949,I64b885ecfb1a35bd93c89026c6298d1820ba69d0,https://git.eclipse.org/r/#/c/4949,3,e0eb1d8d45dada80097f77d7b577f76964f09d64,7307c0fac647b94216518c910ab546187b3ac7f4,1,15/01/12,15/01/12,72,Throw API exception when LsRemoteCommand fails with TransportException,"Throw API exception when LsRemoteCommand fails with TransportException

In many cases applications want to handle TransportException hence
expose it as an API exception.

Change-Id: I64b885ecfb1a35bd93c89026c6298d1820ba69d0
Signed-off-by: Matthias Sohn <matthias.sohn@sap.com>",0,0,0,0,0,0,0,0,0
4955,I42b4988c7f6c6454e2ebda13914260e25ac1a889,https://git.eclipse.org/r/#/c/4955,6,46206a56f975c77946d74432bb7319f953e9efca,acd4367accd91335e28de0b7b13d19c59f8e754b,1,15/01/12,15/01/12,22,Resolve '^' as the first parent of a commit,"Resolve '^' as the first parent of a commit

This would previously throw a RevisionSyntaxException

Change-Id: I42b4988c7f6c6454e2ebda13914260e25ac1a889",0,1,0,0,0,1,1,0,0
4956,I7c7617a77bd418bad4e570be2d1e9002ad280762,https://git.eclipse.org/r/#/c/4956,4,bae3e83ef47cfd1ddc161cdbe099f5c96fc05222,32e09e1a097c5f6c8b6ef93ca9f5fffe0706e43f,1,15/01/12,15/01/12,6,Return resolved tree when path is empty,"Return resolved tree when path is empty

Revision strings that end with a ':' with no trailing path
should return the tree associated with the current ref parsed

Bug: 368370
Change-Id: I7c7617a77bd418bad4e570be2d1e9002ad280762",0,1,0,0,0,1,1,0,0
4959,If2665005cf54a5b51c0fe80bad019fa42b0205af,https://git.eclipse.org/r/#/c/4959,7,f28fd699c0bdd1019e6f4ce085962758ff7ae6ab,f0b92563aadda00fcc4100e9e3db4dbf5d365383,1,10/02/12,09/03/12,85,Fix rebase > continue when nothing left to commit.,"Fix rebase > continue when nothing left to commit.

If after resolving all conflicts nothing is left to commit, behave like
cgit, and display a nice message informing the user.

Currently, EGit displays a ""HEAD advanced fast forward"" message, which
is absolutely not helpful at all.

This is the basic API revamping required to get that state communicated
to the outside world (EGit). Another possibility would be to ""abuse""
some other state (I didn't see a cleaner way to do it).

I know this breaks public APIs, but still this is the best way i saw.

Change-Id: If2665005cf54a5b51c0fe80bad019fa42b0205af",0,1,0,0,0,0,1,1,1
4962,Id4985824023b75cd45cd64a4dd9d421166391e10,https://git.eclipse.org/r/#/c/4962,3,59556c27720629719c6f969d8100002338ec1ac2,d7c84960888a7d8d24aae7450897f13cd008810f,1,18/01/12,18/01/12,454,Support relative submodule URLs on init/add/sync,"Support relative submodule URLs on init/add/sync

Interpret submodule URLs that start with './' or '../' as
relative to either the configured remote for the HEAD branch,
or 'origin', or the parent repository working directory if no
remote URL is configured

Bug: 368536
Change-Id: Id4985824023b75cd45cd64a4dd9d421166391e10",0,0,0,0,0,1,1,1,1
4966,I6be9e07af804a08f3f3ac2d2d526ef594eed19e3,https://git.eclipse.org/r/#/c/4966,4,b9c9316a67991dc4188f38fd363c36d1dae94723,03e893dfee1790c8e7bf41d4d9c9ae807f026ecd,1,10/02/12,25/02/12,56,Let the date formatter pick the locale.,"Let the date formatter pick the locale.

Instead of using the locale from the SystemReader we let the
SystemReader create the date formats without passing the locale.

Bug 368756
Change-Id: I6be9e07af804a08f3f3ac2d2d526ef594eed19e3
Signed-off-by: Daniel Megert <daniel_megert@ch.ibm.com>",0,1,1,0,0,0,1,0,0
4969,I82b107ec76e66367e55e2cc20233a7924bf7be9f,https://git.eclipse.org/r/#/c/4969,2,6eae0e0c1218d4b597f1d49de19a895a08879c3b,8f33ca1ac060f40a2b8d6060ece85b2dcc225362,0,20/01/12,20/01/12,58,org.eclipse.jetty.http.security package is not available in Jetty 7.6.0,"org.eclipse.jetty.http.security package is not available in Jetty 7.6.0

Compare docs for the package in 7.5.4
(http://download.eclipse.org/jetty/7.5.4.v20111024/apidocs/)
and missing part in 7.6.0
(http://download.eclipse.org/jetty/7.6.0.RC4/apidocs/). To fix, set
the maximum version to 7.6.0 exclusive.

Change-Id: I82b107ec76e66367e55e2cc20233a7924bf7be9f",0,0,0,0,0,0,0,NA,NA
4972,Ibed0459005a5e306c010b9932f5b5fd107fb5448,https://git.eclipse.org/r/#/c/4972,17,cf7cf98606faeb9d605750b4211e75c6640373d1,fcbedd553291519ba8fa38a35c25dce234f99fdb,1,10/02/12,16/11/12,212,Adapt Status and CleanCommand to support cleaning directories,"Adapt Status and CleanCommand to support cleaning directories

This adds the possibility to:

 * retrieve untracked directories from the status
 * instruct the CleanCommand to clean those directories.

Bug-Id: 338717
Change-Id: Ibed0459005a5e306c010b9932f5b5fd107fb5448",0,1,1,0,0,0,1,1,1
4982,I6fc62c8e6626f907e544b5bbe5d64e864a2c323f,https://git.eclipse.org/r/#/c/4982,2,6bd66eeafba0e4bc10c5139465d3ca59d25c6377,4e79520df70ae46cebe4aa0fbfef9956c6749076,1,25/01/12,25/01/12,64,Move writeTrashFile and deleteFile into JGitTestUtil,"Move writeTrashFile and deleteFile into JGitTestUtil

Moves RepositoryTestCase.writeThashFile, RepositoryTestCase.deleteFile
and dependencies into JGitTestUtil for further reuse.

Required-by-EGit: If8dfa0251797aca56ddc825619500dc21885ba26
Change-Id: I6fc62c8e6626f907e544b5bbe5d64e864a2c323f
Signed-off-by: Dariusz Luksza <dariusz@luksza.org>",0,0,0,0,0,0,0,0,0
4983,I8a0d91e908145168c32589600bd1598826511ae3,https://git.eclipse.org/r/#/c/4983,1,b5e3c70d5fbf44248b56aeeec7de65dffba40e95,d75d6d6ee1f4551c82f60e060ba49da65e9d50f5,1,23/01/12,23/01/12,3,Really close output stream when core.autocrlf is true,"Really close output stream when core.autocrlf is true

Change-Id: I8a0d91e908145168c32589600bd1598826511ae3",0,0,0,1,0,0,1,0,0
4984,I23db67685a7b6a481961eb6ed6b4b80b2d0cace8,https://git.eclipse.org/r/#/c/4984,1,d75d6d6ee1f4551c82f60e060ba49da65e9d50f5,b747d2c8fa7862521d9b4d793bb08c1815533dc0,0,24/01/12,24/01/12,5,Add scm section to root POM file,"Add scm section to root POM file

Change-Id: I23db67685a7b6a481961eb6ed6b4b80b2d0cace8",0,0,0,1,0,1,1,NA,NA
4995,I5e47810376419264ecf4247b5a333af5c8945080,https://git.eclipse.org/r/#/c/4995,12,6da71af7579fde57c534cd0edad7fc11eef0ed3b,3e6c2aa4e317abce955bc40c0896b7099c21ddf4,1,10/02/12,15/06/12,825,"Add ""--squash"" option to MergeCommand","Add ""--squash"" option to MergeCommand 

Bug: 351806
Change-Id: I5e47810376419264ecf4247b5a333af5c8945080",0,1,1,0,1,0,1,1,1
4997,Ib758cfe0a574aa3e80af9d289bec1a74d9b78d25,https://git.eclipse.org/r/#/c/4997,2,ae1d8dc127acb3d82892eb8696728605b6f25b2d,7132839e2ef01960bdc4be85b58d11cbe23b5652,0,26/01/12,26/01/12,33,Add developers section to root POM file,"Add developers section to root POM file

This section contains the names of the current committers
and is required for acceptance to the Maven Central repository

Change-Id: Ib758cfe0a574aa3e80af9d289bec1a74d9b78d25",0,0,0,0,0,1,1,NA,NA
4998,Ifc34ad204fbf5986b257a5c616e4a8c601e8261a,https://git.eclipse.org/r/#/c/4998,4,4a46875dd0f123e2ff70074bcf29880456d99df3,e4236377454f1cb2970a03cf1a90831e1ab551eb,1,10/02/12,06/03/12,62,Workaround for AutoCRLF handling,"Workaround for AutoCRLF handling

CRLF only works for small files, where small is the size of the
buffer. This QD fix redefines the size of ""small"" to be something
that covers the usual file sizes. It is too small to be a general
solution.

Change-Id: Ifc34ad204fbf5986b257a5c616e4a8c601e8261a",0,1,0,0,0,0,1,0,0
5005,I0a6d770b0c4deb11fea23b875ef5449c619c05a1,https://git.eclipse.org/r/#/c/5005,1,5630e6b94f26a8b9719d44bc27ec9d60cbe18b5c,df51afe2c8744f663d027300b037615f43545429,0,27/01/12,27/01/12,12,Update iplog tool's README,"Update iplog tool's README

Change-Id: I0a6d770b0c4deb11fea23b875ef5449c619c05a1
Signed-off-by: Matthias Sohn <matthias.sohn@sap.com>",0,0,0,1,0,0,1,NA,NA
5028,I9f5ff3640a4f69c0b48c97609728d7672e63e6ab,https://git.eclipse.org/r/#/c/5028,4,2c2904f46f6e2b2ab1ec49d91918edd166b29e98,d162712e2ffa87477f150b09acfda6708f975941,1,10/02/12,18/03/12,38,"LogCommand#setMaxCount affects all commits, not only from specified path","LogCommand#setMaxCount affects all commits, not only from specified path

Bug: 370132
Change-Id: I9f5ff3640a4f69c0b48c97609728d7672e63e6ab",0,1,0,0,0,0,1,0,0
5029,I73c538f6d845bdbc0c4e2bce5a77f900cf36e1a9,https://git.eclipse.org/r/#/c/5029,4,feaf3ae559b83cc0f33940d17d8c65e268a4b7d5,1b53cdc9ee7348bc3f2c441f179529abfc48fe27,1,08/02/12,08/02/12,224,Support submodule '.git' repository references,"Support submodule '.git' repository references

A '.git' file in a submodule's working tree root is now parsed
as a ref to a folder located elsewhere.  This supports submodules
having their repository location outside of the parent repository's
working directory such as in the parent repository's '.git/modules'
directory.

Change-Id: I73c538f6d845bdbc0c4e2bce5a77f900cf36e1a9",0,1,0,0,0,0,1,1,1
5030,Ibf82f56c04cb9c91b2b309cf0cfa3f638539e23c,https://git.eclipse.org/r/#/c/5030,1,b1def6ab04f371e7adeaedc565a97d860d7c851d,e28607e12b70e8d2f4c71a03f7f1393ed7fb9631,1,08/02/12,08/02/12,115,Support committing submodule updates,"Support committing submodule updates

Use the submodule object id provided by the working
tree iterator

Change-Id: Ibf82f56c04cb9c91b2b309cf0cfa3f638539e23c",0,0,0,0,0,0,0,0,0
5044,Iaf9282ba55ee3bb4e2c27fb71c598b308771bf57,https://git.eclipse.org/r/#/c/5044,2,7bb85c45574e37d31d5a2245fdafa29b8f4cbb7a,d3f9cebc42cd4e4c2109eda8dcb0ec2c208ef2aa,1,02/02/12,02/02/12,18,Add getters for old and new prefixes in DiffFormater,"Add getters for old and new prefixes in DiffFormater 

Bug: 370318
Change-Id: Iaf9282ba55ee3bb4e2c27fb71c598b308771bf57",0,0,0,0,0,0,0,0,0
5045,I18adc63596f4657516ccc6d704a561924c79d445,https://git.eclipse.org/r/#/c/5045,7,c7f165bcac54910b49538c8d21e5a4acd9624a8f,bd983f6830c0f9a60e7e0144ac5f8e79a658530e,1,10/02/12,02/03/12,58,Allow to get end-of-line chars for a RawText,"Allow to get end-of-line chars for a RawText 

Bug: 370320
Change-Id: I18adc63596f4657516ccc6d704a561924c79d445",0,1,0,0,0,0,1,0,0
5066,If37f3b90f21f875cee7165e17a17adfda446384d,https://git.eclipse.org/r/#/c/5066,1,31968c0c1a07dc52d107c0481245af4aa7fc3907,6879978e81990d6e1169e7f7f656ce2ecdbd8070,1,12/02/12,09/03/12,8,Revert non-sense logic in IO.readFully,"Revert non-sense logic in IO.readFully

This was introduced in alleged support for autocrlf, but the
logic makes no sense here.

Change-Id: If37f3b90f21f875cee7165e17a17adfda446384d",1,0,0,0,0,0,1,0,0
5069,I82c6c0c175ab6fb4e2113101f36c8d2ddf4a13c1,https://git.eclipse.org/r/#/c/5069,1,e72451ce407b5af26b618794ac75ab80c88a9ce7,67a9df930f37e5ad5d79bed1b59ef81da72a0105,0,13/02/12,13/02/12,100,JGit 1.3.0.201202121842-rc4,"JGit 1.3.0.201202121842-rc4

Change-Id: I82c6c0c175ab6fb4e2113101f36c8d2ddf4a13c1
Signed-off-by: Matthias Sohn <matthias.sohn@sap.com>",1,0,0,1,0,0,1,NA,NA
5072,I50e0e6c2bccab5f3da62cbfe976f065169426906,https://git.eclipse.org/r/#/c/5072,1,67a9df930f37e5ad5d79bed1b59ef81da72a0105,82d538aaed48b33f103df6da742570daf0342491,0,13/02/12,13/02/12,100,Prepare post 1.3.0.201202121842-rc4 builds,"Prepare post 1.3.0.201202121842-rc4 builds

Change-Id: I50e0e6c2bccab5f3da62cbfe976f065169426906
Signed-off-by: Matthias Sohn <matthias.sohn@sap.com>",1,0,0,1,0,0,1,NA,NA
5073,Id70f4d4b059b03d4fa6fbd9137b81a337e9c48e8,https://git.eclipse.org/r/#/c/5073,1,8cc79f67ae0d05e0dd9e594908d120a6e7ff246f,fe59b3ab385c63ac0716fbbb1f25138f15913dc3,0,13/02/12,13/02/12,0,Merge branch 'stable-1.3',"Merge branch 'stable-1.3'

* stable-1.3:
  Prepare post 1.3.0.201202121842-rc4 builds
  JGit 1.3.0.201202121842-rc4
  Support gitdir references in working tree .git file
  Support committing submodule updates
  Update iplog tool's README

Change-Id: Id70f4d4b059b03d4fa6fbd9137b81a337e9c48e8
Signed-off-by: Matthias Sohn <matthias.sohn@sap.com>",1,0,0,0,0,0,1,NA,NA
5078,I224602d68228eb419813986807f1eeab77e9c302,https://git.eclipse.org/r/#/c/5078,1,1cf0c374fb80cff273cda16b178f46a07717b0b0,4f303c7cb07d43ca30f0ab1ef913d427419ef781,1,13/02/12,13/02/12,244,Generate conflicts and index updates on file mode changes,"Generate conflicts and index updates on file mode changes

Handle more cases for file mode changes. Especially make sure that the
following cases are handled correctly.

Case 1)

  An entry in the working tree, HEAD tree, and merge tree have
  different modes and different content.

  Prior Outcome:
    Dirty working tree content is replaced and file mode
    changes are lost.

  New Outcome:
    Conflict is generated.

Case 2)

  An entry in the index and merge tree have the same content
  but different modes but both modes are file type modes.

  Prior Outcome:
    File mode in working tree is not updated and the working
    directory is dirty.

  New Outcome:
    Index is updated and the working directory is clean.

Bug: 363772
Change-Id: I224602d68228eb419813986807f1eeab77e9c302
Signed-off-by: Christian Halstrick <christian.halstrick@sap.com>
Also-by: Kevin Sawicki <kevin@github.com>
Signed-off-by: Matthias Sohn <matthias.sohn@sap.com>",0,0,0,0,0,0,0,1,1
5081,I2a8c1fc44e8dcadf22cd97a8ec4ee79d4d9d08f1,https://git.eclipse.org/r/#/c/5081,7,823a40bd4de961b94ef8eebb794061a75e065407,e70b8f7393f39381e3d0489d3dfe81406ac7aab3,1,13/02/12,01/03/12,146,Execute ReceiveCommands via a method rather than in ReceivePack,"Execute ReceiveCommands via a method rather than in ReceivePack

This allows a PreReceiveHook to easily ""take over"" all of the
ReceiveCommands passed to it, preventing any of them from being handled
within the ReceivePack core.

Change-Id: I2a8c1fc44e8dcadf22cd97a8ec4ee79d4d9d08f1",0,1,0,0,0,1,1,0,0
5083,I173efca7540b522d386216d1bd229e9a061263b2,https://git.eclipse.org/r/#/c/5083,6,c7daca7ad1f7890472eaf839a22aa7f4e633921a,cd8409e72dfd050dc391bfd24521ae741ebe1693,0,14/02/12,01/03/12,2,Fix a typo referring to RevFilter as RefFilter.,"Fix a typo referring to RevFilter as RefFilter.

Change-Id: I173efca7540b522d386216d1bd229e9a061263b2",0,1,0,1,0,1,1,NA,NA
5084,I0067019a191c8148af2cfb71a675f2258c5af0ca,https://git.eclipse.org/r/#/c/5084,9,44c7bff30b75070e590007ab4ad8193cee5fad07,d2b104d60483747ecd351197790139ec6cf26ccb,1,14/02/12,01/03/12,574,Modify refs in UploadPack/ReceivePack using a hook interface,"Modify refs in UploadPack/ReceivePack using a hook interface

This replaces the RefFilter interface. That interface required lots of
extra scanning and copying in filter cases such as only advertising a
subtree of the refs directory. Instead, execute the hook right before
ref advertisement, using the public methods on UploadPack/ReceivePack to
explicitly set the map of advertised refs.

Change-Id: I0067019a191c8148af2cfb71a675f2258c5af0ca",0,1,0,0,1,1,1,0,0
5085,Id2d1ebb2503c9ba79eda58aaea2fd76ec233427f,https://git.eclipse.org/r/#/c/5085,5,3e3457037c4ac29a4a16a75a552dc192d5329d98,9580a0289913dd0c464ff8db00f183efb01bd68d,1,14/02/12,01/03/12,27,Remove PreUploadHook.onPreAdvertiseRefs,"Remove PreUploadHook.onPreAdvertiseRefs

AdvertiseRefsHook.advertiseRefs subsumes this behavior.

Change-Id: Id2d1ebb2503c9ba79eda58aaea2fd76ec233427f",0,1,0,0,0,1,1,0,0
5086,I3bb0dc86047fe0446d18e0055f714092a658d228,https://git.eclipse.org/r/#/c/5086,6,88ce5a65434fcbb94ba2172666f13ec19bd07e7e,d32ed4b13609d9ce9f86bac5c497ecdec7d9d938,1,15/02/12,01/03/12,98,"Add an AdvertiseRefsHookChain, similar to the other hook chains","Add an AdvertiseRefsHookChain, similar to the other hook chains

Change-Id: I3bb0dc86047fe0446d18e0055f714092a658d228",0,1,0,1,0,1,1,0,0
5088,I58994d8c481e591dcbb0f2be7dfa562e125f0f08,https://git.eclipse.org/r/#/c/5088,2,954817948632663ee9dd0acff681c6d171b41940,7967ebb8f7739cae8f82da07f9bce4f4f1019178,0,15/02/12,21/02/12,13,Add IGNORE_ERRORS to FileUtils.delete(),"Add IGNORE_ERRORS to FileUtils.delete()

There are a few situations where you want to delete files or folders but
where you are not interested in getting exceptions if this doesn't
succeed. E.g. if you delete garbage in the GC class you want that if
certain files can't be deleted the command succeeds. Maybe the next
garbage collector run has more luck not to interfere with a virus
scanner run on Windows. Therefore an option is added to
FileUtils.delete() not to report errors in such cases.

Change-Id: I58994d8c481e591dcbb0f2be7dfa562e125f0f08
Signed-off-by: Christian Halstrick <christian.halstrick@sap.com>",0,0,1,0,0,1,1,NA,NA
5090,Iae483594a4ff370ff75d17a7b0648c5590b3d1bd,https://git.eclipse.org/r/#/c/5090,3,c27df6d0f07b1f4f4ddfd25533b695938656d643,7961a7819081acd6b81ef320d0c92cdd3f11371c,1,15/02/12,01/03/12,22,Allow creating ReceiveCommands with a specified type,"Allow creating ReceiveCommands with a specified type

This allows callers who know in advance whether a command is UPDATE or
UPDATE_NONFASTFORWARD to specify this in the constructor rather than
with a separate method call.

Change-Id: Iae483594a4ff370ff75d17a7b0648c5590b3d1bd",0,0,0,0,0,1,1,0,0
5091,I663208919f297836a9c16bf458e4a43ffaca4c12,https://git.eclipse.org/r/#/c/5091,1,0658e9c0340a9b819663c2e981f43b0ecdb027a5,120a83426f2cd5ac55a6b029f16eef22bcdb1d04,0,15/02/12,15/02/12,100,JGit 1.3.0.201202151440-r,"JGit 1.3.0.201202151440-r

Change-Id: I663208919f297836a9c16bf458e4a43ffaca4c12
Signed-off-by: Matthias Sohn <matthias.sohn@sap.com>",1,0,0,1,0,0,1,NA,NA
5100,I4d695273e3151c22f2df9a58725cc7ba21ab6043,https://git.eclipse.org/r/#/c/5100,1,120a83426f2cd5ac55a6b029f16eef22bcdb1d04,fb9f3268e10c605a2d157fcc670702fbbff4f1a8,0,16/02/12,16/02/12,100,Prepare post 1.3.0.201202151440-r build,"Prepare post 1.3.0.201202151440-r build

Change-Id: I4d695273e3151c22f2df9a58725cc7ba21ab6043
Signed-off-by: Matthias Sohn <matthias.sohn@sap.com>",1,0,0,1,0,0,1,NA,NA
5101,Ie99780ef5cdea7b3ea1ea076282fe0a25f14f469,https://git.eclipse.org/r/#/c/5101,1,7fced2756220377ee71f34e29ff4b7e2f2fb9cc6,944f584357e980d86a576d903496157aa04ec2a2,0,16/02/12,16/02/12,0,Merge branch 'stable-1.3',"Merge branch 'stable-1.3'

* stable-1.3:
  Prepare post 1.3.0.201202151440-r build
  JGit 1.3.0.201202151440-r
  Generate conflicts and index updates on file mode changes

Change-Id: Ie99780ef5cdea7b3ea1ea076282fe0a25f14f469
Signed-off-by: Matthias Sohn <matthias.sohn@sap.com>",1,0,0,0,0,0,1,NA,NA
5102,I946e315af04227727ac937ebe9d70ae1ea4e8936,https://git.eclipse.org/r/#/c/5102,1,944f584357e980d86a576d903496157aa04ec2a2,9a8c8a80964a483be98707b7019f0391eed8a5f9,0,16/02/12,16/02/12,490,Prepare 2.0.0-SNAPSHOT builds,"Prepare 2.0.0-SNAPSHOT builds

Change-Id: I946e315af04227727ac937ebe9d70ae1ea4e8936
Signed-off-by: Matthias Sohn <matthias.sohn@sap.com>",1,0,0,1,0,0,1,NA,NA
5130,Ie4ccdfc5cb91fbd55e06f51146cf5c7c84b8e18b,https://git.eclipse.org/r/#/c/5130,1,9a8c8a80964a483be98707b7019f0391eed8a5f9,37453c3728b89eca6cdc42f43a6f74e5b94e98e6,1,21/02/12,09/03/12,47,EolCanonicalizingInputStream: binary detection should be optional,"EolCanonicalizingInputStream: binary detection should be optional

EolCanonicalizingInputStream may also be used in combination with
.gitattributes. If .gitattributes states that a file is of type text, line
endings have to be canonicalized even if the actual file content seems
to be binary.

Change-Id: Ie4ccdfc5cb91fbd55e06f51146cf5c7c84b8e18b",0,0,0,0,0,0,0,0,0
5135,If45d809e4ffa11a3572d958ce121422fb03cf8f3,https://git.eclipse.org/r/#/c/5135,3,9a1f64ac54138a1ae2b1e0c267c9f1c08bfeb9c2,15b02449ae8afbf0cbe39c053b76eff61fb6bffd,1,22/02/12,23/09/12,56,The constructor CmdLineException(String) is deprecated,"The constructor CmdLineException(String) is deprecated

Use CmdLineException(CmdLineParser, String) instead.

Change-Id: If45d809e4ffa11a3572d958ce121422fb03cf8f3",0,0,1,0,0,0,1,0,0
5152,I3e2dd563700999bc063effdd3640499c8ed08136,https://git.eclipse.org/r/#/c/5152,7,2c20a60ca36aa56187cc6b81982e1c9c10c455ba,89e32d0ae938064461e811e4e52939e8bf05da79,1,24/02/12,26/02/12,35,Add all paths option to CheckoutCommand,"Add all paths option to CheckoutCommand

This will perform the equivalent running 'git checkout -- .'
at the root of a repository.

Change-Id: I3e2dd563700999bc063effdd3640499c8ed08136",0,1,0,0,0,0,1,0,0
5170,I57b6d6cad2542aaa93dcadc06cb3e933e81bcd3d,https://git.eclipse.org/r/#/c/5170,5,335b45cb91a74df31957da7c2726be524a040a72,6af9f00a3224df7b06beb241025e1a1b45036e45,1,27/02/12,01/03/12,67,Allow ReceivePack's message output to be set separately,"Allow ReceivePack's message output to be set separately

Callers may want to use some of ReceivePack's functionality, including
sendMessage()/sendError(), without having a full session where the
ReceivePack is connected to input/output streams.

Change-Id: I57b6d6cad2542aaa93dcadc06cb3e933e81bcd3d",0,1,0,0,0,1,1,0,0
5171,I5b409ef39aee890bcd7d4277e36b85ac4dc48281,https://git.eclipse.org/r/#/c/5171,5,f3b5f63ab5d3348abbb44796cdf2ad28902b4a1e,1d5876cfff50db5881fc2f446d2629f8e6b250f6,1,27/02/12,01/03/12,4,Minor javadoc wording fixes in ReceivePack,"Minor javadoc wording fixes in ReceivePack

Change-Id: I5b409ef39aee890bcd7d4277e36b85ac4dc48281",0,1,0,1,0,1,1,0,0
5172,I24501f95185878d09b54562e48cb4e7e45dd3968,https://git.eclipse.org/r/#/c/5172,5,dfdd8e519b48dfa87d6cca05c57b31bb931071d8,fda2724b7b229a43f471f9f165ce6d671d5cd52a,1,27/02/12,01/03/12,41,Extract filterCommands as a static method on ReceiveCommand,"Extract filterCommands as a static method on ReceiveCommand

Change-Id: I24501f95185878d09b54562e48cb4e7e45dd3968",0,1,0,1,0,1,1,0,0
5173,I9fd5ede8affc7f0060ffa7c5cec34573b6fa2b1b,https://git.eclipse.org/r/#/c/5173,2,73c72a9806fd9e37ebdec215612a43897b678ab6,df81c0246bc22c62f75b0d4327afb7c85b68f24a,1,27/02/12,28/02/12,577,Add command support for applying a stashed commit,"Add command support for applying a stashed commit

Applies the changes in a stashed commit to the local working
directory and index

Change-Id: I9fd5ede8affc7f0060ffa7c5cec34573b6fa2b1b",0,0,0,0,1,0,1,1,1
5191,Idb81dfc7bb097306f0c5d6e34f91a2bbab501668,https://git.eclipse.org/r/#/c/5191,2,df81c0246bc22c62f75b0d4327afb7c85b68f24a,b05cd12538bccece5c2f803867852e7e4dac9611,0,29/02/12,06/03/12,8,Return command from StashCreateCommand setters,"Return command from StashCreateCommand setters

Previously were void which made them inconsistent with
the fluid setter pattern used in other commands.

Change-Id: Idb81dfc7bb097306f0c5d6e34f91a2bbab501668",0,0,0,0,0,0,0,NA,NA
5192,I2501b080f6b94e826cf7dba3fd526ae5c1d969d1,https://git.eclipse.org/r/#/c/5192,2,ea422c580ddbb68e77933859130a62ac8b5e4ba8,70b8fe5ab69e4ea1534799e7dda6c7203de6ead7,1,29/02/12,06/03/12,31,Set person and message on stash ref update,"Set person and message on stash ref update

This will be the message and person used for the commit
of stashed working directory changes.

Bug: 372884
Change-Id: I2501b080f6b94e826cf7dba3fd526ae5c1d969d1",0,0,0,0,0,0,0,0,0
5193,Id0e032d7886dfa6a3288321503a02743413f707d,https://git.eclipse.org/r/#/c/5193,2,438ad2ba5b6f2ffb7f05f5be3e90a8aabd8031b6,bbeba89c7ea77cf22659598f733a240cb7ca5c07,0,29/02/12,06/03/12,18,Reuse Git object created in setUp,"Reuse Git object created in setUp

Removes unneeded calls to Git.wrap in test cases where a valid
Git object already exists as an instance variable.

Change-Id: Id0e032d7886dfa6a3288321503a02743413f707d",0,0,0,0,0,0,0,NA,NA
5194,Ica65f162132c00a16964e838de66fc8b5cd0b0aa,https://git.eclipse.org/r/#/c/5194,8,ddf62f25ae56f71c6fb982932646b6fbb871eb7c,66f46c426cf8cb0da5211c3107fdeaee17a4f795,1,29/02/12,14/03/12,391,Only unstash files changes when originally stashes,"Only unstash files changes when originally stashes

Previously a DirCacheCheckout was done using a merge tree reflected
the state of the repository when the stash was originally done.
This was wrong since unstashing after making subsequent commits
would revert changes already committed.

The new approach is to scan for conflicts initially using a 6-way
tree walk that contains the trees for the stashed HEAD, stashed
index, stashed working directory, current HEAD, current index, and
current working directory.  Then perform a subsequent scan of the
stashed HEAD, index, and working directory trees and apply all
the stashed differences to the current index and working directory.

Bug: 372882
Change-Id: Ica65f162132c00a16964e838de66fc8b5cd0b0aa",0,1,0,0,0,0,1,0,0
5195,I75d1edfdd192a009fc916102ec052434c6302d00,https://git.eclipse.org/r/#/c/5195,2,24dd320f546cb6c260154b1e52d7998cbee976bb,248dd8023e6d1c05e7206c50f5623568c02243b4,1,29/02/12,02/03/12,28,Reuse existing modes and ids,"Reuse existing modes and ids

This changes replaces calls to getEntryObjectId and getEntryFileMode
with the existing method local variables for the index, merge, and
head tree iterators.

Change-Id: I75d1edfdd192a009fc916102ec052434c6302d00",0,0,0,0,0,0,0,0,0
5217,I4a93117afca37e591e8e0ab4d2f2eef4273f0cc9,https://git.eclipse.org/r/#/c/5217,5,ee32e12012b8bc6fc4e16d2e31dddf3c3243e232,d8793a9f20764cc79c9241b8a463bd4127bcaa93,1,02/03/12,21/03/12,61,Compare repository format version as parsed long,"Compare repository format version as parsed long

This allows repository's with a missing repositoryformatversion
config value to be successfully read and still throws exceptions
when the value is a non-long or greater than zero

Bug: 368697
Change-Id: I4a93117afca37e591e8e0ab4d2f2eef4273f0cc9",0,1,1,0,0,0,1,0,0
5218,I4116328f93f411da56a633bc32fd064b2ac083f2,https://git.eclipse.org/r/#/c/5218,3,0a08a0ab562df17c36e391dadb946e68b9eb6b7f,c5a57e7c6703b258588244a22f98ab6edfc19cf6,1,02/03/12,06/03/12,106,Support insteadOf and pushInsteadOf URL replacement,"Support insteadOf and pushInsteadOf URL replacement

Bug: 327235
Bug: 346873
Bug: 371410
Change-Id: I4116328f93f411da56a633bc32fd064b2ac083f2",0,0,1,0,0,0,1,0,0
5219,I2e3d20645ac49125472ddc235afbe9f3c7480caf,https://git.eclipse.org/r/#/c/5219,1,df5bf20344d823d9a8ea2eef35ed15f08b201064,570afd00c3e06e8ca5b8696b1a51278227b820db,0,02/03/12,02/03/12,2,Exclude org.eclipse.jgit from pack200 packing,"Exclude org.eclipse.jgit from pack200 packing

It seems pack200 became unable to correctly pack the bundle
org.eclipse.jgit (see bug 372845). Hence mark it to be excluded from
this packing step following the workaround which worked for
org.eclipse.jst.jsf.core (bug 335806).

Bug: 372845
Change-Id: I2e3d20645ac49125472ddc235afbe9f3c7480caf
Signed-off-by: Matthias Sohn <matthias.sohn@sap.com>",0,0,0,0,0,0,0,NA,NA
5225,I66841f5e758a7527e2e6e25cf1318e5fea91a909,https://git.eclipse.org/r/#/c/5225,2,454a72c02f3ab244b74ef5ccf90bbb50bab390d5,23c3ae4002faf41ca6ad38ee25d35c9fe05d441b,1,02/03/12,02/03/12,53,Fix: SubmoduleAddCommand deletes existing entries from .gitmodules,"Fix: SubmoduleAddCommand deletes existing entries from .gitmodules

Change-Id: I66841f5e758a7527e2e6e25cf1318e5fea91a909",0,0,0,1,0,0,1,0,0
5229,I16f388a16636aefdb07d66dae5d05655009e2a0e,https://git.eclipse.org/r/#/c/5229,2,25c05b0d9a248e6a6883a614b0655f1d6e9da18e,55f229c12668787b22020be5d3023e0f7b2983f5,1,02/03/12,04/03/12,26,Remove null access warning in DirCacheCheckout,"Remove null access warning in DirCacheCheckout

Fill in the DirCacheEntry field initially guarding against
a null index tree and use that over calling getDirCacheEntry
on a possibly null DirCacheBuildIterator.

Change-Id: I16f388a16636aefdb07d66dae5d05655009e2a0e",0,0,0,0,0,0,0,0,0
5230,I864842c58df4f116b318dc4a150b789745769a0d,https://git.eclipse.org/r/#/c/5230,1,a7188c89ff7ff1f40456e9a116f80005874f442a,08bc058f897a42c9661f578ebb67704e4764424d,0,02/03/12,05/03/12,2,Update example code for obtaining a locked DirCache,"Update example code for obtaining a locked DirCache

Previous example was calling a method that no longer exists
on DirCache.

Change-Id: I864842c58df4f116b318dc4a150b789745769a0d",0,0,1,0,0,0,1,NA,NA
5233,I6cb12327a237d69fbfe3d5e77d8a6ad7de442ad5,https://git.eclipse.org/r/#/c/5233,1,575f2c01a35ff534a56c30a3ad64a174b2db3330,0074f43b7ab7e47dced5cce6c947cdee69f1cb87,0,02/03/12,03/03/12,1,Include eclipse.inf,"Include eclipse.inf

Commit 9169e7f9ec281740b6d55586d91a82e4ea6d7399 failed to add
org.eclipse.jgit/META-INF/eclipse.inf in order to fix bug 372845 since
JGit is not yet built by Tycho. Hence explicitly including it.

Bug: 372845
Change-Id: I6cb12327a237d69fbfe3d5e77d8a6ad7de442ad5
Signed-off-by: Matthias Sohn <matthias.sohn@sap.com>",1,0,0,0,0,0,1,NA,NA
5240,I18fe6108220f964524fb16b719604222aa7abee6,https://git.eclipse.org/r/#/c/5240,1,cd1adcc6ad2a5c59a9008de1140155f93f396974,4ad33033e42f243f44b598493ef63666fa1ab633,1,05/03/12,05/03/12,23,RawText#getEOL() does the same thing as RawText#getLineDelimiter(),"RawText#getEOL() does the same thing as RawText#getLineDelimiter()

The duplication has been introduced when merging
I08e1369e142bb19f42a8d7bbb5a7d062cc8533fc and
I18adc63596f4657516ccc6d704a561924c79d445. The former should have been
manually rebased. It also missed a copyright update in ApplyCommandTest.

Change-Id: I18fe6108220f964524fb16b719604222aa7abee6",0,0,0,0,0,0,0,0,0
5253,Id799ac6da65e6789e48e28efbdb455153b34ff2e,https://git.eclipse.org/r/#/c/5253,2,4ad33033e42f243f44b598493ef63666fa1ab633,5669e40f00fa6e02f81a9ce64048114e7b856475,0,05/03/12,06/03/12,1,Ignore /target,"Ignore /target

Maven seems to be creating target/antrun/build-main.xml.
This isn't a tracked file. Elsewhere we blanket ignore
/target inside of each plugin/component directory so do
the same at the top level.

Change-Id: Id799ac6da65e6789e48e28efbdb455153b34ff2e",0,0,0,0,0,0,0,NA,NA
5254,I8e1674f091e05e24e3ff56ccbc687a6d18a6a61e,https://git.eclipse.org/r/#/c/5254,2,11fce3e67fad794ce6363800bc906d48afb0e720,c541a5af346c58f013803bf5a5adb5f7e4e3bd82,1,05/03/12,05/06/12,363,Batch reference updates together for storage,"Batch reference updates together for storage

clone, fetch and push can all update multiple references in a single
command invocation. Rather than performing sequential iteration
of each reference change inside of the application code, push this
down into the reference database where the implementation can take
advantage of the batch size and optimize itself.

For the local filesystem implementation the obvious optimization
is to write a packed-refs file when the repository is completely
empty. The initial clone, fetch or push into the destination may
have hundreds of new references. Writing all of these as loose
files is not efficient.

To make the API changes simple, define the BatchRefUpdate type and
implementation using the existing sequential behavior.

Change-Id: I8e1674f091e05e24e3ff56ccbc687a6d18a6a61e",0,0,1,0,0,0,1,7,1
5255,I04fb8dbda16b7df3b82fc579088a303b2fd21e87,https://git.eclipse.org/r/#/c/5255,3,ca31ded41df77ce06758393a8581c55f6230433a,03c4bbec1728eb2372a108bb2e93f60dd441b319,1,06/03/12,06/03/12,6,Check connection error stream before reading from it,"Check connection error stream before reading from it

Change-Id: I04fb8dbda16b7df3b82fc579088a303b2fd21e87",0,0,0,1,0,0,1,0,0
5276,Ic7aa6c3337480879efcce4a3058b548cd0e2cef0,https://git.eclipse.org/r/#/c/5276,11,eb6e9973e949750951279033cfd75685349f5e5b,9be8def4b7199c5ead1ef0674d17863c3f4e5b2e,1,07/03/12,02/04/12,32,don't use java.nio channel for file site determination,"don't use java.nio channel for file site determination

java NIO has some problems (like files closing unexpectedly because the
thread was interrupted). to avoid those problems, don't use a NIO
channel to determine the size of a file, but rather ask the File itself.

Change-Id: Ic7aa6c3337480879efcce4a3058b548cd0e2cef0",0,1,0,0,0,0,1,1,1
5290,I90565c8626aa5ab58ed3ff1dafa8bd21c9a79c62,https://git.eclipse.org/r/#/c/5290,1,2b5109f837b12a56dca8de31550edb8c33c889d7,427cb18b1a408f6e9e5466b97010b0afd5327195,0,07/03/12,10/03/12,5,Export all packages from org.eclipse.jgit.pgm,"Export all packages from org.eclipse.jgit.pgm

Change-Id: I90565c8626aa5ab58ed3ff1dafa8bd21c9a79c62",0,0,1,1,0,0,1,NA,NA
5293,Ib26adf954dcb90403be9d6ed3b7a425a724c67d0,https://git.eclipse.org/r/#/c/5293,1,fa191a71693db2928da8c9d912da41a5d2b9ecfd,18139806cbf426580aed34cd612a1f247ca126e8,1,07/03/12,08/03/12,12,"Fix a typo in ""capabilities"" in ReceivePack","Fix a typo in ""capabilities"" in ReceivePack

Change-Id: Ib26adf954dcb90403be9d6ed3b7a425a724c67d0",0,0,0,1,0,1,1,0,0
5294,Ib475dfc087705ea40e1db37ec9ef28a67fde6d72,https://git.eclipse.org/r/#/c/5294,1,18139806cbf426580aed34cd612a1f247ca126e8,f84f145f753cb73df2baed4811620a75cee7f1ca,1,07/03/12,08/03/12,42,"Make capability strings in BasePack{Fetch,Push}Connection public","Make capability strings in BasePack{Fetch,Push}Connection public

Change-Id: Ib475dfc087705ea40e1db37ec9ef28a67fde6d72",0,0,0,1,0,1,1,0,0
5295,I7ac4e0ae98872a74b01162b5ca936fb15e2f8cff,https://git.eclipse.org/r/#/c/5295,1,f84f145f753cb73df2baed4811620a75cee7f1ca,57b22a909a20090543c486979bec6535c9e58ae1,1,07/03/12,08/03/12,92,"Extract the capability parsing logic in {Upload,Receive}Pack","Extract the capability parsing logic in {Upload,Receive}Pack

Change-Id: I7ac4e0ae98872a74b01162b5ca936fb15e2f8cff",0,0,0,1,0,1,1,0,0
5296,I8277fd45a4ec3b71fa8f87404b4f5d1a09e0f384,https://git.eclipse.org/r/#/c/5296,2,57b22a909a20090543c486979bec6535c9e58ae1,4a27a7a883736685bfa9bd35c1bce151363aefc9,1,07/03/12,08/03/12,250,Try to send HTTP error messages over sideband,"Try to send HTTP error messages over sideband

When a client POSTs to /git-{upload,receive}-pack, the first line
includes their client capabilities. As soon as the C git client sends
side-band(-64k), it goes into a state where it chokes on data not sent
in a valid sideband channel.

GitSmartHttpTools.sendError() is called early in the request, likely
before a {Upload,Receive}Pack handler is assigned and certainly before
it has read the request. So we must read the first line manually within
sendError() to tell whether sideband is needed.

Change-Id: I8277fd45a4ec3b71fa8f87404b4f5d1a09e0f384",0,0,0,0,0,1,1,0,0
5297,I6ef946bb6124fa72c52bd5320187eaac3ed906e7,https://git.eclipse.org/r/#/c/5297,1,eaf058669c9509b62c8db573715f442da8ab53db,cbd8747a09d6079cf8b373ed1003b39082f2a455,1,08/03/12,08/03/12,4,Use readString() to trim trailing LF from first line,"Use readString() to trim trailing LF from first line

The fetch-pack/upload-pack stream usually has an LF at the
end of the first ""want"" line. Trim this when checking to
see if side-band or side-band-64k was used.

Perform the same trim for send-pack/receive-pack, as it is
harmless in this context to ignore an LF just before doing
an error report.

Change-Id: I6ef946bb6124fa72c52bd5320187eaac3ed906e7",1,0,0,0,0,0,1,0,0
5301,I763590a45d75f00a09097ab6f89581a3bbd3c797,https://git.eclipse.org/r/#/c/5301,3,cbd8747a09d6079cf8b373ed1003b39082f2a455,d34cad110a50d0ac0d4db44c6f7420e9a9924232,1,09/03/12,12/03/12,407,Move JGitTest to an internal package,"Move JGitTest to an internal package

Change-Id: I763590a45d75f00a09097ab6f89581a3bbd3c797",0,0,1,1,0,0,1,1,1
5302,I06309c45c0a896fe2a0a874700febf78c9fb87e8,https://git.eclipse.org/r/#/c/5302,2,38ec8618aea639062af4fd5c4f9704aab88a92dc,6659af716e18f45007fd747cc611b2dc85b62400,1,09/03/12,06/04/12,111,Fix broken TagCommand API,"Fix broken TagCommand API

Tags can be un-annotated whereby there is no RevTag object, only
a ref pointing to the tagged object.

Bug: 360650
Change-Id: I06309c45c0a896fe2a0a874700febf78c9fb87e8",0,0,0,0,0,0,0,0,0
5303,Ie22ac47e315bff76f224214bc042fc483eb01550,https://git.eclipse.org/r/#/c/5303,1,3e08e4ce63952de55ade5ea4c9544ccbcc872db1,b4f15083f56040c50e95dcecc4b6092d0d4c595d,1,09/03/12,12/03/12,5,cleanup: Remove unnecessary @SuppressWarnings,"cleanup: Remove unnecessary @SuppressWarnings

Change-Id: Ie22ac47e315bff76f224214bc042fc483eb01550
Signed-off-by: Robin Rosenberg <robin.rosenberg@dewire.com>",0,0,1,1,0,0,1,0,0
5304,I45823b0c1ad5d249d539d7c8e1180ad7432abb3e,https://git.eclipse.org/r/#/c/5304,1,b4f15083f56040c50e95dcecc4b6092d0d4c595d,582bc06211695a37d492cc04d17422fcb75b5343,1,09/03/12,12/03/12,18,cleanup: Remove unneeded parameter to private method in RefUpdateTest,"cleanup: Remove unneeded parameter to private method in RefUpdateTest

Change-Id: I45823b0c1ad5d249d539d7c8e1180ad7432abb3e",0,0,1,1,0,0,1,0,0
5305,I8f2cd0a04cc95a02c49c16dade1b3509cba02e2d,https://git.eclipse.org/r/#/c/5305,1,582bc06211695a37d492cc04d17422fcb75b5343,ce96102334be281319494638e25c6eaa6085a1ac,1,09/03/12,12/03/12,8,cleanup: Drop unused parameter on DhtPackParser,"cleanup: Drop unused parameter on DhtPackParser

Change-Id: I8f2cd0a04cc95a02c49c16dade1b3509cba02e2d",0,0,1,1,0,0,1,0,0
5306,I8d8ab54736c6d57e6211928def8632acb1f5b621,https://git.eclipse.org/r/#/c/5306,1,ce96102334be281319494638e25c6eaa6085a1ac,36ceeae6a37048c9a7eb263c4846507a24898f16,0,09/03/12,12/03/12,16,cleanup: Remove unused parameter in ConsoleCredentialsProvider,"cleanup: Remove unused parameter in ConsoleCredentialsProvider

Change-Id: I8d8ab54736c6d57e6211928def8632acb1f5b621",0,0,1,1,0,0,1,NA,NA
5307,Ia3e82682781c6b5bc3141b3e27db67b93c3162cd,https://git.eclipse.org/r/#/c/5307,1,36ceeae6a37048c9a7eb263c4846507a24898f16,3c506a5319e5f260a3236f3e5dacd24494e0e7f0,1,09/03/12,12/03/12,6,cleanup: Get rid of some unused-warnings,"cleanup: Get rid of some unused-warnings

Change-Id: Ia3e82682781c6b5bc3141b3e27db67b93c3162cd",0,0,1,1,0,0,1,0,0
5309,Ic0ee9c08642d4efc6ef1f2333ebe6614e9c2df87,https://git.eclipse.org/r/#/c/5309,2,59359f01bf92025049d335eea1023a4338d9c847,358a1b4a4841b425a2dab585957034517283e191,0,09/03/12,12/03/12,1,cleanup: Silence an unused-parameter warning,"cleanup: Silence an unused-parameter warning

Change-Id: Ic0ee9c08642d4efc6ef1f2333ebe6614e9c2df87",0,0,1,1,0,0,1,NA,NA
5313,Iee508a67f9621269d1c28d422f88c6b8dd9f8e6e,https://git.eclipse.org/r/#/c/5313,1,eecf8dc2cd8b874894f559fba7a1741677f3cf4d,58573788ff9e2e2863287023030e55d1a0d1036f,1,10/03/12,11/03/12,42,Keep submodules in index that are missing in working directory,"Keep submodules in index that are missing in working directory

Submodules present in the index but missing from the working
directory should not be staged for deletion when AddCommand
is called with the update flag set to true.

This mirrors the behavior of CGit.  Submodules can still be
staged for deletion by running by using the RmCommand.

Change-Id: Iee508a67f9621269d1c28d422f88c6b8dd9f8e6e",0,0,0,0,0,0,0,0,0
5314,I30082514c23fc65968bb78add5ad69a1ca95cf3a,https://git.eclipse.org/r/#/c/5314,1,58573788ff9e2e2863287023030e55d1a0d1036f,45af49c625e1f3e55375f243dfc386488d8c8acf,1,10/03/12,12/03/12,20,Use object id provided by working tree iterator for submodules,"Use object id provided by working tree iterator for submodules

The working tree iterator now supports providing an object id
for submodule entries and this value should be used instead
of recomputing it again in AddCommand.

Change-Id: I30082514c23fc65968bb78add5ad69a1ca95cf3a",0,0,0,0,0,0,0,0,0
5325,I81e3ceeb02f7a2119b2a6cfefb7fbd9e83771fc9,https://git.eclipse.org/r/#/c/5325,1,da301388be61d11f09adf38be13b94f060f1b42f,463a669087299a08f079d3e8c9ce4ee3daba3997,0,12/03/12,12/03/12,4,Fix compilation error due to missing javadoc.,"Fix compilation error due to missing javadoc.

Another change introduced this problem. With default JGit project
settings there is a compilation problem as javadoc problems are set to
Error in the project preferences.

Change-Id: I81e3ceeb02f7a2119b2a6cfefb7fbd9e83771fc9",0,0,0,0,0,0,0,NA,NA
5337,I53c50ee09bc0d3ff501bdc25196e52e739c3f1f9,https://git.eclipse.org/r/#/c/5337,9,d23cb84790a0b340c3db8fa09330a789005d8232,d13ab07efecf82e8670b14d84a7cfbc9da3b5457,1,13/03/12,08/08/12,73,Make CheckoutCommand pass modified files through result,"Make CheckoutCommand pass modified files through result

This change makes CheckoutCommand pass the list of modified files
through the OK result, enabling outside world to react in a smaller
scope (for example refresh only resources containing the modified
files).

Change-Id: I53c50ee09bc0d3ff501bdc25196e52e739c3f1f9",0,1,1,0,0,0,1,1,1
5339,Ifa9e75714f85d17609f9bf61581aaed0631a6fa7,https://git.eclipse.org/r/#/c/5339,2,0f21ecc633effb4d9bf18e474c891e174b2e1ef8,d236c9e0905444c3346e92c6f77f35fb896c28aa,0,13/03/12,13/03/12,7,Do not export/import empty packages i.e. org.eclipse.jgit,"Do not export/import empty packages i.e. org.eclipse.jgit

The package has been emptied in
I763590a45d75f00a09097ab6f89581a3bbd3c797

Change-Id: Ifa9e75714f85d17609f9bf61581aaed0631a6fa7",0,0,0,0,0,0,0,NA,NA
5348,I975f1ab1c81ab1c1af925716970088bc7b8d6b1a,https://git.eclipse.org/r/#/c/5348,2,aff8287892221ad02b965c5eadb0ed3f6c06c478,a660ad8a6b17537528d3432df705395ba2e8a29d,1,13/03/12,13/03/12,42,Enable smart HTTP transport to place EOF at end of pack,"Enable smart HTTP transport to place EOF at end of pack

When fetching over smart HTTP the InputStream that gets fed into
a PackParser doesn't really support EOF at the end of the pack. It
instead tries to make a new HTTP request, which fails because there
is no request body currently buffered by the client.

Make EOF work correctly on the end of an HTTP derived InputStream
for the pack by denoting no more requests are expected as the higher
level code is now consuming the pack (or side-band embedded pack).
Smart HTTP support doesn't automatically enqueue execute support onto
the end of the UnionInputStream, which allows the UnionInputStream
to correctly reflect EOF when the HTTP response is consumed.

Change-Id: I975f1ab1c81ab1c1af925716970088bc7b8d6b1a",0,0,0,0,0,0,0,0,0
5366,Ida4aaa80d0f9f78035f3d2a9ebdde904c980f89a,https://git.eclipse.org/r/#/c/5366,1,f37ab639b92cbbfc0971685d8156f28c34e55448,fecd2b716c1d9322ae70c05f4d83bed8be11b873,1,15/03/12,15/03/12,62,"Revert ""Quickfix for AutoCRLF handling""","Revert ""Quickfix for AutoCRLF handling""

This reverts commit 88fe2836edab8d8ce82d28acd9d07b061988ff3a.

Auto CRLF isn't special enough to be screwing around with the buffers
used for raw byte processing of the ObjectInserter API. If it needs a
buffer to process a file that is bigger than the buffer allocated by
an ObjectInserter, it needs to do its own buffer management.

Change-Id: Ida4aaa80d0f9f78035f3d2a9ebdde904c980f89a",0,0,0,0,0,0,0,0,0
5367,Ic6898530d10fcd7e59f90397117a4a0d97e1f031,https://git.eclipse.org/r/#/c/5367,2,fecd2b716c1d9322ae70c05f4d83bed8be11b873,0158a1fd34f6af7962d37abe98e3bfa749828c71,0,15/03/12,18/03/12,32,Clarify the purpose of ObjectInserter.buffer(),"Clarify the purpose of ObjectInserter.buffer()

Recently Robin tried to increase the size of the buffer used by
ObjectInserter to fix a bug in the InputStream that handles AutoCRLF.
The purpose of this buffer is NOT to make a random InputStream work
correctly by passing it a larger buffer during read(byte[],int,int).

Clarify the Javadoc on the buffer() method to reduce the risk
someone tries to abuse it again.

While we are here, modify the method to load the field into a local
variable before returning. This should cut down 1 field load during
the common case of the buffer being already allocated.

Change-Id: Ic6898530d10fcd7e59f90397117a4a0d97e1f031",0,0,1,0,0,0,1,NA,NA
5368,I97cebfe5d7db6247fe899075d917b82955906f85,https://git.eclipse.org/r/#/c/5368,2,afd90a67fa2f22d10dddf419382ed4ac05c80b45,fc444602102a172469fbe3fe826c10e22620ee00,0,15/03/12,11/05/12,14,Cleanup MergeResult constructors.,"Cleanup MergeResult constructors.

'mergeStrategy' should be 5th argument, after 'mergeStatus'. Pass
'description' if available.

Change-Id: I97cebfe5d7db6247fe899075d917b82955906f85",0,0,0,0,0,0,0,NA,NA
5370,I5e0e9f22ebf707c11d0581511c7a56b182188f77,https://git.eclipse.org/r/#/c/5370,1,e44a835a14e77f3771269e88cd1419ac1407bcf2,5257d489224626a2d6a0826369b54b84358d9c12,1,15/03/12,15/03/12,4,Pass a DfsRepositoryDescription to InMemoryRepository,"Pass a DfsRepositoryDescription to InMemoryRepository

This was likely intended originally, but this class had never been
used, so the mistake went unnoticed.

Change-Id: I5e0e9f22ebf707c11d0581511c7a56b182188f77",0,0,0,0,0,1,1,0,0
5373,I48d9bdcc1e98095576513a54a225a42409f301f3,https://git.eclipse.org/r/#/c/5373,9,f542b5b7bf1ff80f06b9ecde482450301dd024ec,0fe4494eeed7cde44d321b249e3de09a4ce70c04,1,16/03/12,20/01/13,156,Fix handling of CCE when rebasing and merging,"Fix handling of CCE when rebasing and merging

This propperly converts a CCE into a RebaseResult/MergeResult containing
the conflicting paths, which enables EGit (or others) to handle the
situation in a user-friendly way

Change-Id: I48d9bdcc1e98095576513a54a225a42409f301f3",0,1,0,0,0,0,1,4,1
5387,I72a83215a679a713138da31f5ab838f14388d4bd,https://git.eclipse.org/r/#/c/5387,3,5bf4e4e2db4582d5f9cc688b647d09d17c1183d3,0c517d72420a21defbca683fa825604ace590540,1,20/03/12,21/03/12,242,Copy all branch configuration values when renaming,"Copy all branch configuration values when renaming

Previously only certain values were copied over which caused
divergence in behavior between the JGit command and corresponding
CGit command.

Bug:  372051
Change-Id: I72a83215a679a713138da31f5ab838f14388d4bd",0,0,0,0,0,0,0,0,0
5388,If36cb62c07ecea78ba0f326a87edf1d80b7b42b6,https://git.eclipse.org/r/#/c/5388,5,a4229f7f97fa8c896856d04110868841c166f682,db2ad88895a85f1032f19b53ece4412eb3e79378,1,20/03/12,21/03/12,132,Ignore trailing comments in transport SPI parsing,"Ignore trailing comments in transport SPI parsing

Check for a '#' character in each line read and parse
just the leading characters as the class name of a
TransportProtocol being registered via SPI.

Bug: 373439
Change-Id: If36cb62c07ecea78ba0f326a87edf1d80b7b42b6",0,1,0,0,0,0,1,0,0
5393,Icfcbc70e838666769a742a94196eb8dc9c7efcc7,https://git.eclipse.org/r/#/c/5393,8,003a4a048209e42f66e3866d4adae435c51652ca,6e6fa176c40837bf22c27e44c6279e57b3172d97,1,21/03/12,21/03/12,964,Add support for dropping a stashed commit,"Add support for dropping a stashed commit

This extracts the logic for writing to the reflog from
RefDirectory into a new ReflogWriter class.  This class
creates a public API for writing reflog entries similar
to ReflogReader for reading reflog entries.

Change-Id: Icfcbc70e838666769a742a94196eb8dc9c7efcc7",0,1,0,0,1,0,1,0,0
5407,I303515d78116f0591a2911dbfb9f857738f086a9,https://git.eclipse.org/r/#/c/5407,1,4387c8174c47ccfd8be050d364c29c38c7b99fcd,9aa025fd3ade79b3c7ca9974ba987507dbc06d41,1,22/03/12,22/03/12,1305,"Revert ""Allow to write tests with CLI syntax""","Revert ""Allow to write tests with CLI syntax""

This reverts commit bf845c126d53f07de103e03b68ddb7f24014cee5 since this
change needs to go through a formal IP review and Chris missed to file a
CQ for that.

Change-Id: I303515d78116f0591a2911dbfb9f857738f086a9
Signed-off-by: Matthias Sohn <matthias.sohn@sap.com>",0,0,0,0,1,0,1,-1,0
5408,I2d5164cd92429673fe3c37e9f5f9bc565192cc12,https://git.eclipse.org/r/#/c/5408,2,9aa025fd3ade79b3c7ca9974ba987507dbc06d41,f6a00f490bf13455d044ee82e64fc8ebf56ed4b2,1,23/03/12,18/04/12,1305,Allow to write tests with CLI syntax,"Allow to write tests with CLI syntax

CQ: 6385
Bug: 365444
Change-Id: I2d5164cd92429673fe3c37e9f5f9bc565192cc12
Signed-off-by: Matthias Sohn <matthias.sohn@sap.com>",0,0,0,0,1,0,1,2,1
5411,Ic98e17aff4e4b3c3fa0359082bab689e4522e3d7,https://git.eclipse.org/r/#/c/5411,1,f6fea8ab3e1128f4a25971176f18b30537ddcde9,f5122a5ba04db91b9a1c6343cd891df5bcda5542,1,23/03/12,23/03/12,5,Properly parse first line in ReceivePack with no '\0',"Properly parse first line in ReceivePack with no '\0'

Change-Id: Ic98e17aff4e4b3c3fa0359082bab689e4522e3d7",0,0,0,1,0,1,1,0,0
5412,I1b6bbb643101a00db94e5514b5e2b069f338907a,https://git.eclipse.org/r/#/c/5412,2,f5122a5ba04db91b9a1c6343cd891df5bcda5542,d5751dc16ae520b926daf6b96f88fd4a8c8ac788,1,25/03/12,05/04/12,190,Handle content length in WorkingTreeIterator,"Handle content length in WorkingTreeIterator

Content length is computed and cached (short term) in the working
tree iterator when core.autocrlf is set.

Hopefully this is a cleaner fix than my previous attempt to make
autocrlf work.

Change-Id: I1b6bbb643101a00db94e5514b5e2b069f338907a",0,0,0,0,0,0,0,0,0
5413,I4dfecf5c93993ef690e7f0dddb3f3e6125daae15,https://git.eclipse.org/r/#/c/5413,9,b880a19bb264744e2aa65bf8448baa49afada45a,d61aa81f7b3fce1a74abebf1a64cbabe881ce458,1,25/03/12,21/05/12,84,A new index may require smudged entries,"A new index may require smudged entries

That happens when the index and a new file is created within the same
second and becomes a problem if we then modify the newly created file
within the same second after adding it to the index. Without smuding
JGit will, on later reads thing the file is unchanged.

Change-Id: I4dfecf5c93993ef690e7f0dddb3f3e6125daae15",0,1,0,0,0,0,1,0,0
5476,Idf805f76f24bfa1f3552366197e0ed4e45cb2b74,https://git.eclipse.org/r/#/c/5476,1,3e84660a9da4967aac528c75aaa96aac48a2d281,436c849685b76b959230e25e19ffb722e1786190,0,26/03/12,26/03/12,9,Clarify documentation of exceptions in RepositoryResolver,"Clarify documentation of exceptions in RepositoryResolver

Change-Id: Idf805f76f24bfa1f3552366197e0ed4e45cb2b74",0,0,0,1,0,1,1,NA,NA
5477,I362e67ea46102a145bf2c6284d38788537c9735f,https://git.eclipse.org/r/#/c/5477,1,436c849685b76b959230e25e19ffb722e1786190,cc4347ad1fe927c719495b0b63e951fdf18f63d4,1,26/03/12,26/03/12,26,Allow RepositoryResolver to throw ServiceMayNotContinueException,"Allow RepositoryResolver to throw ServiceMayNotContinueException

Implementations may want to send an error message to the user, which
doesn't really fit with any of the existing exception types.
ServiceMayNotContinueException, on the other hand, is documented as
always containing a user-visible error string, so use that.

Modify the git and HTTP transport mechanisms to properly relay this
message to the end user.

Change-Id: I362e67ea46102a145bf2c6284d38788537c9735f",0,0,0,0,0,1,1,0,0
5485,I693148a5ae2977378789bf455c880a6fd856c0f0,https://git.eclipse.org/r/#/c/5485,1,e9bc8c19a296ca529c7ceb70f2b92816fe4c02aa,3107a3736e0be9cb2524262d7180c160fca3abd8,1,27/03/12,30/03/12,376,Extract inner classes from Config,"Extract inner classes from Config

The Config class is getting very large. Extract two of its inner
classes into new top level types to reduce the size of Config.
Rename them slightly in the process.

Change-Id: I693148a5ae2977378789bf455c880a6fd856c0f0",0,0,1,0,0,0,1,0,0
5486,Ic8907231868c18eb946b72f341a6b58666b70324,https://git.eclipse.org/r/#/c/5486,1,3107a3736e0be9cb2524262d7180c160fca3abd8,396d50c3ec982a78c6798c86721362d08ea29bb2,1,27/03/12,30/03/12,204,Sort Config entries and use O(log N) lookup,"Sort Config entries and use O(log N) lookup

Decrease running time for getStringList (and all other get methods) by
looking for configuration entries using binary search rather than
linear search through the configuration file.

Configuration lines are sorted by section, subsection, name in a
sorted list whenever the snapshot is rebuilt. Binary search is used to
locate an index in the middle of the values, then walk backwards to
find the first value in the range.

Given a configuration of file of 5000 distinct section/subsection/name
triplets (e.g. a Gerrit Code Review project.config configuration file
with 5000 unique access control rules), this new code is faster to
lookup each rule individually using getStringList():

  old setStringList() 194 usec avg
      getStringList() 196 usec avg

  new setStringList() 188 usec avg
      getStringList()  24 usec avg

Change-Id: Ic8907231868c18eb946b72f341a6b58666b70324",0,0,1,0,0,0,1,0,0
5487,I7b3269565b1308f69d20dc3f3fe917aea00f8a73,https://git.eclipse.org/r/#/c/5487,2,396d50c3ec982a78c6798c86721362d08ea29bb2,713de017f19ee3b086004018c78c22ff57818314,1,27/03/12,02/04/12,286,Index config section and subsection names in one pass,"Index config section and subsection names in one pass

Instead of indexing the subsection nmaes on each request for a given
section name, index both the section and subsection names in a single
scan through the entry list. This should improve lookup time for
reading the section names out of the configuration, especially for the
url.*.insteadof type of processing performed in RemoteConfig.

Change-Id: I7b3269565b1308f69d20dc3f3fe917aea00f8a73",0,0,0,0,0,0,0,-1,0
5490,I04008728ed828f18202652c3d5401cf95a441d0a,https://git.eclipse.org/r/#/c/5490,2,c14a39d48417b9b606d0f3ccce0d7e8cd41e7d27,56a12a783933cf161fc73d4e55fcc3cefee6d048,1,28/03/12,30/03/12,44,Fix loading packed objects >2G,"Fix loading packed objects >2G

Parsing the size from a packed object header was incorrectly computing
the total inflated length when the length exceeded the range of a Java
int. The next 7 bits of size information was shifted left as an int
using a shift of 25 bits, placing the higher bits of the size into the
sign position. When this size was extended to a long to be added to
the current size accumulator the size went negative, resulting in
NegativeArraySizeException being thrown.

Fix all places where this particular pattern of code is used to read a
pack size field, or a binary delta header, as they both use the same
variable length encoding scheme.

Change-Id: I04008728ed828f18202652c3d5401cf95a441d0a",0,0,0,0,0,0,0,0,0
5493,I1c28ff6251fdbc95f7c40fc3e401f1b41157a9f6,https://git.eclipse.org/r/#/c/5493,5,6ed7a8cfac6196ce46a091bb8577dae034c45653,be118e6f7538cbfe8bfa5c3d1f710ccad8c8196b,1,30/03/12,17/04/12,81,RFC Update DirCacheEntry's copyMetaData to not copy stage info,"RFC Update DirCacheEntry's copyMetaData to not copy stage info

The original user of this, i.e. DirCacheCheckout, should not copy
the stage.

There are other users though, which I believe should never be used
with anything but stage 0, hence this change in behaviour should be
non-dangerous.

As an alternative we could create a new method to do the copy
or add a setStage for DirCacheCheckout.

Change-Id: I1c28ff6251fdbc95f7c40fc3e401f1b41157a9f6",0,1,0,0,0,0,1,0,0
5494,I1cb7cdb81481019f4a55221d38d771fcc9451529,https://git.eclipse.org/r/#/c/5494,4,33fa02ecf9754825729d1686addad875b42d0651,0d3798be7a5d0768f33b63878b09494dd08ecf0a,0,30/03/12,16/04/12,2,Hide two warning about boxing,"Hide two warning about boxing

Change-Id: I1cb7cdb81481019f4a55221d38d771fcc9451529",0,1,0,1,0,0,1,NA,NA
5497,Icbeb62680b018a92673faa58828b5e850564c7a8,https://git.eclipse.org/r/#/c/5497,1,4c1b4c4d05888c179fd9d599fe5b213403f9b0c6,d8f3ce1d2c63e0f77cd85f5dcb142ba20f7c33ce,1,01/04/12,17/04/12,11,"Fix tests for Ant task ""git-clone""","Fix tests for Ant task ""git-clone""

If project.init() isn't called GitCloneTaskTest fails when started from
Eclipse, according to [1] calling init() is necessary to properly
initialize the Ant project programmatically.

Always set the destination folder in order to ensure that all test
resources are created under the project's target folder and do not
pollute the project's source tree with test data.

[1]
http://ant.1045680.n5.nabble.com/project-createTask-not-working-with-ant-1-8-2-td3385716.html

Change-Id: Icbeb62680b018a92673faa58828b5e850564c7a8
Signed-off-by: Matthias Sohn <matthias.sohn@sap.com>",0,0,1,0,0,0,1,0,0
5498,Ifb99e41e2deb0c369442bca3c0f5f072dd006816,https://git.eclipse.org/r/#/c/5498,1,13f1f8935fc54ca0895343859580c27639c38548,b4ceafc2b86e824a5ef2956d6b0e667dcf9a81c7,1,02/04/12,03/04/12,99,Recurse into cloned submodules,"Recurse into cloned submodules

Iterate over all successfully cloned submodules recursively
and continue initializing and updating until no more are found.

Bug: 375426
Change-Id: Ifb99e41e2deb0c369442bca3c0f5f072dd006816",0,0,0,0,0,0,0,0,0
5514,I8fa3b89a6349c1231251b346cae12c1c4f095929,https://git.eclipse.org/r/#/c/5514,1,eec510f0cc47cd9221fd02cd5019efb397fc918f,ac03e329cfc96851d6acf47de703bfe88ca1040b,1,02/04/12,02/04/12,111,Add @Override annotations to enums,"Add @Override annotations to enums

Change-Id: I8fa3b89a6349c1231251b346cae12c1c4f095929",0,0,0,1,0,0,1,0,0
5515,Id0d7801e4de98bf118dbecadf623c9ffd7ab7554,https://git.eclipse.org/r/#/c/5515,1,617886e168c3ada30cd3d753ef4f1b4b2a073cad,21c24b2b7468243171fe57a3688b5e80933b07b3,1,02/04/12,02/04/12,10,Externalize parsing exception message for RebaseCommand#Action,"Externalize parsing exception message for RebaseCommand#Action

Change-Id: Id0d7801e4de98bf118dbecadf623c9ffd7ab7554",0,0,0,1,0,0,1,0,0
5524,I63058026295fec34157b5687ae87ae9cb0c27c86,https://git.eclipse.org/r/#/c/5524,3,4a63d94d11ad2f649364087a237c1bad3995e2db,6993c70bd9ec7e4c16fb8bee9fd2253ff424fd44,1,03/04/12,26/08/12,3,Enable rebase to continue for all rebase stages,"Enable rebase to continue for all rebase stages

EGit should be able to continue a rebase started by C Git.

Change-Id: I63058026295fec34157b5687ae87ae9cb0c27c86",0,0,1,0,0,0,1,1,1
5529,Ic758456c21c8d68d1b3d7f56228beb7535b11735,https://git.eclipse.org/r/#/c/5529,2,ec7c6464d532be5edb33e263e4dcfd5dc6da2c0f,3dfd4730739cf9bd98e759141724a38c1bbade3c,1,05/04/12,09/04/12,21,UnsupportedCredentialItem with password authentication,"UnsupportedCredentialItem with password authentication

If the server prompts for password, it comes as a StringType prompt.

Bug: 360862
Change-Id: Ic758456c21c8d68d1b3d7f56228beb7535b11735",1,0,1,0,0,0,1,0,0
5539,I3b5048f9f5cfdfd01f916af550722532db3f9bb3,https://git.eclipse.org/r/#/c/5539,1,0d7de0cb4cfe3d250d6e09a38453b5a3a1fba8ae,0be24ed762c39b096b5d0f07bbaef32a7107f404,0,05/04/12,06/04/12,57,Cleanup possiblyFilteredInputStream() in WorkingTreeIterator,"Cleanup possiblyFilteredInputStream() in WorkingTreeIterator

Use early return instead of nested if/else

Change-Id: I3b5048f9f5cfdfd01f916af550722532db3f9bb3",0,0,0,0,0,0,0,NA,NA
5583,I874afee6a9114698805e36813781547e6aa328a5,https://git.eclipse.org/r/#/c/5583,2,6df6e3ec7ef3fda5df25f0f1935dd97e5dee6a9e,f783e316644aef0c731b8b41401e102c71ac1005,0,13/04/12,14/04/12,5,Fix constructor for SafeBufferedOutputStream,"Fix constructor for SafeBufferedOutputStream

The size shoould be passed to BufferedOutputStream's constructor.
All callers seem to use the default, but that could change.

Change-Id: I874afee6a9114698805e36813781547e6aa328a5",1,0,0,0,0,0,1,NA,NA
5589,I5788e8009899203b346f353297166825b3744575,https://git.eclipse.org/r/#/c/5589,4,7d07b4c76e2a0527792ca124a9657ced3bfe720a,44280f690aabff806d7a74c91a51d7fe3a7cb7fc,1,15/04/12,18/04/12,253,Enable large file support,"Enable large file support

Allow adding files with size over 2 GB. The drawback is that the tests
for huge file support takes about 15 minutes on a MacBook pro.

Change-Id: I5788e8009899203b346f353297166825b3744575",0,1,1,0,0,0,1,1,1
5595,I4c07112a6723d90d3677761f5476af00ead58282,https://git.eclipse.org/r/#/c/5595,2,2dfdc47532b3e0c053686d9ef0baa84f470df844,557911329d6c0c687b298fbfc43ca2db633d0cde,0,16/04/12,09/05/12,4,Update packaging project to build using Indigo platform,"Update packaging project to build using Indigo platform

Change-Id: I4c07112a6723d90d3677761f5476af00ead58282
Signed-off-by: Matthias Sohn <matthias.sohn@sap.com>",1,0,0,1,0,0,1,NA,NA
5596,I99fc6c2bbb20efbd6514bdd9940f3535707c21bc,https://git.eclipse.org/r/#/c/5596,2,7d446d48ded813b00ff13c29937ed29bd0d148a5,01581259d63a2a11a694d5fe61439a515abdd531,0,16/04/12,09/05/12,363,Update tycho version to 0.14.1,"Update tycho version to 0.14.1

Tycho 0.14.1 enforces that artifactId and feature/bundle SymbolicName
must match, hence follow recommended migration practice and change
groupId of feature projects in order not to change the feature names as
this would require a feature migration.

Also migrate the p2 repository build from the deprecated packaging type
eclipse-update-site to packaging type eclipse-repository.

Change-Id: I99fc6c2bbb20efbd6514bdd9940f3535707c21bc
Signed-off-by: Matthias Sohn <matthias.sohn@sap.com>",1,0,0,0,0,0,1,NA,NA
5653,Id3b97d88d3b4b2d67561b11f8810cb88fe040823,https://git.eclipse.org/r/#/c/5653,7,b9c2eebcbbc55d5766af833ed6163313cb8ccd04,8b1462902a2b6d6eb9ffba4d0c1686147b9c59f0,1,24/04/12,25/05/12,206,Enable loading history until a given commit,"Enable loading history until a given commit

This is needed to allow jumping to a selected commit when loading
history incrementally.

Change-Id: Id3b97d88d3b4b2d67561b11f8810cb88fe040823
Signed-off-by: Matthias Sohn <matthias.sohn@sap.com>",0,1,0,0,0,0,1,2,1
5759,I3c41a8ee7f500e2c39df94eaf5d87c234934b741,https://git.eclipse.org/r/#/c/5759,1,ec77d9531c060b44d0224891b1bbd7ad97538145,bc9da9707dd59f550cd6f743f0052f59a4ce0fd9,0,28/04/12,30/04/12,19,"Update README regarding CRLF conversion, /etc and $HOME","Update README regarding CRLF conversion, /etc and $HOME

Change-Id: I3c41a8ee7f500e2c39df94eaf5d87c234934b741",0,0,0,1,0,0,1,NA,NA
5763,Iab52f995676daf60e0dfa043cc9e022f6e32a758,https://git.eclipse.org/r/#/c/5763,2,fbd3736f64c639c8b50a8171359942c29c20b73d,22165dfb704f3f7e372b5503e7fd208aeaa68bdf,1,30/04/12,11/05/12,13,Add --all switch to org.eclipse.jgit.pgm.Commit,"Add --all switch to org.eclipse.jgit.pgm.Commit

Change-Id: Iab52f995676daf60e0dfa043cc9e022f6e32a758",0,0,0,1,0,0,1,0,0
5764,I9829950b686ce3b8c70b8f7a1774d5e2b55cd00a,https://git.eclipse.org/r/#/c/5764,8,c6fa745cd0de0e5b5b2997ccb4bdeec0b90693a2,3171233d8e8a89a187706684a40108af882ce857,1,30/04/12,05/09/12,165,Output result of switching branch -- o.e.jgit.pgm.Checkout,"Output result of switching branch -- o.e.jgit.pgm.Checkout

Change-Id: I9829950b686ce3b8c70b8f7a1774d5e2b55cd00a",0,1,1,1,0,0,1,0,0
5780,Id1429d52c88a9e2b888e6c6906cf8148945bd2ca,https://git.eclipse.org/r/#/c/5780,1,f6e64e6134708e138e16a5983993cba4edddd153,6f96c3ff7545765aa62b3aa49ddf1393bca66333,0,02/05/12,02/05/12,4,Fix two typos in CLIText.properties,"Fix two typos in CLIText.properties

Change-Id: Id1429d52c88a9e2b888e6c6906cf8148945bd2ca",0,0,0,1,0,0,1,NA,NA
5818,I5567aad6ae77951f73f59c1f91996d934ea88334,https://git.eclipse.org/r/#/c/5818,4,6f96c3ff7545765aa62b3aa49ddf1393bca66333,168a0078589b1338bec7c1e05626a01cdf9b9b63,1,04/05/12,14/05/12,2454,Factor a base class out of ReceivePack,"Factor a base class out of ReceivePack

We are working on a publish/subscribe based git protocol, and we want to
reuse several parts of the ReceivePack-like code for reading commands
and processing a pack. In this new implementation, the connection
management will be very different, in particular, a there may be
multiple packs received on a single open connection. So, hoist out as
much as we can from ReceivePack, mostly just leaving behind the
single-connection version in that class.

Change-Id: I5567aad6ae77951f73f59c1f91996d934ea88334",0,1,1,0,1,1,1,0,0
5832,If2ee1f3eff3849f8da51eab825057fc56e166a94,https://git.eclipse.org/r/#/c/5832,1,d141968ab6deb48befac3b634e63b921090ba645,b4af52cb68a181d41f741f928f112dff060d8125,1,04/05/12,05/05/12,16,Remove unneeded catch block and null checks,"Remove unneeded catch block and null checks

The catched exception was just rethrown and the
null check of the locked dir cache was unneeded if
the assignment was done outside the try block.

Change-Id: If2ee1f3eff3849f8da51eab825057fc56e166a94",0,0,0,0,0,0,0,0,0
5839,Ic4a7584811a2b0bf24e4f6b3eab2a7c022eabee8,https://git.eclipse.org/r/#/c/5839,3,fe47e6f24f3c9de87b0a9184292ba51304064889,c52d486fbf6f1b75766defd239cbb40388dae82b,1,05/05/12,21/08/12,73,Refactored method to find branches from which a commit is reachable,"Refactored method to find branches from which a commit is reachable

The method uses some heuristics to obtain much better performance
than isMergeBase.

Since I wrote the relevant code in the method I approve the license
change from EPL to EDL implied by the move.

Change-Id: Ic4a7584811a2b0bf24e4f6b3eab2a7c022eabee8
Signed-off-by: Robin Rosenberg <robin.rosenberg@dewire.com>",0,0,1,0,0,0,1,0,0
5873,I0a86ce0e393dfde9bb27f0b29e036e76c856396e,https://git.eclipse.org/r/#/c/5873,2,b25ccbbcddae45538f02ba62050c31389eb993b2,c88558f76f8d840497c4824a811e8bee78c4c73b,1,07/05/12,11/05/12,133,Add missing @since tags to mark API added in 2.0,"Add missing @since tags to mark API added in 2.0

Change-Id: I0a86ce0e393dfde9bb27f0b29e036e76c856396e
Signed-off-by: Matthias Sohn <matthias.sohn@sap.com>",0,0,1,1,0,0,1,0,0
5875,Id0047098393641ccba784c58b8325175c22fcece,https://git.eclipse.org/r/#/c/5875,2,5db9772e2c9e51906d0052803d52a448e224f6be,28748dc732c48f84411f26a337bcd7e506e3fb63,1,08/05/12,04/06/12,69,fix PackWriter excluded objects handling,"fix PackWriter excluded objects handling

PackWriter supports excluding objects from being written to the pack.
You may specify a PackIndex which lists all those objects which should
not go into the new pack. This feature was broken because not all
commits have been checked whether they should be excluded or not. For
other object types the exclude algorithm worked. This commit adds the
missing check.

Change-Id: Id0047098393641ccba784c58b8325175c22fcece
Signed-off-by: Christian Halstrick <christian.halstrick@sap.com>
Signed-off-by: Matthias Sohn <matthias.sohn@sap.com>",0,0,0,0,0,1,1,0,0
5891,Id8a6d9f96860742f9094efdb4f31a952be7d3025,https://git.eclipse.org/r/#/c/5891,1,20f9af76c9dd5546e2277ffda384c86684dc549b,a26a9aee551e796138fd4d16cf1c2797e8812c3c,0,09/05/12,09/05/12,1,Remove unnecessary boxing SuppressWarnings annotation,"Remove unnecessary boxing SuppressWarnings annotation

Change-Id: Id8a6d9f96860742f9094efdb4f31a952be7d3025",0,0,0,1,0,0,1,NA,NA
5893,I5942fbdbca6a378136c00d951ce61167f2366ca4,https://git.eclipse.org/r/#/c/5893,2,a26a9aee551e796138fd4d16cf1c2797e8812c3c,73137877e5f9e7376632287e215c1862e9814cd3,1,09/05/12,09/05/12,256,Remove ~90 boxing warnings,"Remove ~90 boxing warnings

Use Integer, Character, and Long valueOf methods when
passing parameters to MessageFormat and other places
that expect objects instead of primitives

Change-Id: I5942fbdbca6a378136c00d951ce61167f2366ca4",0,0,0,0,0,0,0,0,0
5901,I1135ed01af4e274b26d6b07d1a50f48ef0a30d91,https://git.eclipse.org/r/#/c/5901,2,73137877e5f9e7376632287e215c1862e9814cd3,6a69cf227b21f013c084296f46df4fee36bd9865,1,09/05/12,09/05/12,7,Remove 4 unboxed warnings,"Remove 4 unboxed warnings

Use Integer.intValue to explicitly convert to an int

Change-Id: I1135ed01af4e274b26d6b07d1a50f48ef0a30d91",0,0,0,0,0,0,0,0,0
5902,I806732cee24349c75c0357a655df55b070f2f213,https://git.eclipse.org/r/#/c/5902,3,7155bc1880de57b474fea2a5a86999b2600431d7,755d3db2caccd009eea2d1c92ba91bf975374e1b,1,09/05/12,09/05/12,2,Add Object type to Comparable template implementation,"Add Object type to Comparable template implementation

This removes unchecked warnings when a List of
AnyObjectId objects or any of its subclasses are
passed to Collections.sort such as in PackWriter

Change-Id: I806732cee24349c75c0357a655df55b070f2f213",0,0,0,0,0,0,0,0,0
5903,Icae8b80006c5e3ffcf3b69790a1a45c505be0f05,https://git.eclipse.org/r/#/c/5903,2,5980fe54272570dee091d63554d188ae1cd3fc78,10be8e459cdae33e580a3aa88423d74354e6ea28,0,09/05/12,09/05/12,2,Remove throws IOException declaration on filterClean,"Remove throws IOException declaration on filterClean

This method only creates an EolCanonicalizingInputStream
which does not throw an IOException and so the throws
declaration on the method is unneeded.

Change-Id: Icae8b80006c5e3ffcf3b69790a1a45c505be0f05",0,0,0,0,0,0,0,NA,NA
5908,I333cfcc82ee746f3c6a8e94c09dcc803ffbb4b3a,https://git.eclipse.org/r/#/c/5908,2,0e9b5576c860bfeda2ef517ff1e32505a257e1a2,49aa64ce5b80ba54e175b4db96b88251c96c8148,1,09/05/12,09/05/12,43,Make output stream optional in DiffCommand,"Make output stream optional in DiffCommand

Use the NullOutputStream.INSTANCE value when the
configured output stream is null or the command is
configured to only show name and status.

Also only set the context and prefix options if
formatting is actually being performed.

Bug: 377157
Change-Id: I333cfcc82ee746f3c6a8e94c09dcc803ffbb4b3a",0,0,0,0,0,0,0,0,0
5909,I671eda51c74a411cc27de9d6077cc76e816ebe2b,https://git.eclipse.org/r/#/c/5909,1,6944b7466f4a102e00ca6173a1a988b26448b3b5,3185eda2136d3b1a80968e1a49ffcf2b129cd441,1,09/05/12,09/05/12,4,Compare modes before comparing ids in ResolveMerger,"Compare modes before comparing ids in ResolveMerger

Comparing ids can be more expensive so do the cheap
mode check first and short circuit the id comparison
when modes are non-equal

Change-Id: I671eda51c74a411cc27de9d6077cc76e816ebe2b",0,0,0,0,0,0,0,0,0
5963,Ia66dc449d3f6fb861c300fef8b56fba83a56c94c,https://git.eclipse.org/r/#/c/5963,6,d951f6bda7ce89ff819560d7e18b79f9b8a35158,27b0084904f3affd9d1c7adf468fd953621ed5c3,1,13/05/12,27/03/13,104,New functions to facilitate the writing of CLI test cases.,"New functions to facilitate the writing of CLI test cases.

These functions generate snippet of java code to compare CLI output
with expected output. A task that is otherwise tedious because of all
the formatting and escaping subtleties.

Change-Id: Ia66dc449d3f6fb861c300fef8b56fba83a56c94c",0,1,0,0,0,0,1,1,1
5974,I706332386415892d7a964b241442832ad79fa223,https://git.eclipse.org/r/#/c/5974,1,85e67267a3932e09fca9268812b8e270a668783f,8a10cd15162a767888522240dbd4efd201c3e73b,1,14/05/12,14/05/12,14,Enable call chaining on LsRemoteCommand methods,"Enable call chaining on LsRemoteCommand methods

Change-Id: I706332386415892d7a964b241442832ad79fa223",0,0,0,1,0,1,1,0,0
5988,Id8d9e83b10f4f2a01e0cf89819190bb23a04a2b9,https://git.eclipse.org/r/#/c/5988,3,8a10cd15162a767888522240dbd4efd201c3e73b,0a31be74e6caceae2c25d8157006d27d79f01dc9,1,15/05/12,16/05/12,3,"Don't swallow JSchException ""Auth fail"" exception","Don't swallow JSchException ""Auth fail"" exception

""Auth fail"" exception was swallowed during retrying, this leads to
""Session down"" exception during clone operation with invalid SSH keys.

Bug: 336795
Change-Id: Id8d9e83b10f4f2a01e0cf89819190bb23a04a2b9
Signed-off-by: Dariusz Luksza <dariusz@luksza.org>",0,0,0,0,0,0,0,0,0
6003,I697e2fc82a46c03762111eb1de93e673a2643b4f,https://git.eclipse.org/r/#/c/6003,4,0a31be74e6caceae2c25d8157006d27d79f01dc9,34ad96398b3b87cd8861e7ad612a0cf4333111f0,1,16/05/12,16/11/12,122,Add support for pull with --rebase and --no-rebase,"Add support for pull with --rebase and --no-rebase

New method: PullCommand.setRebase(boolean)
New Test Case: testPullFastForwardWithLocalCommitAndRebaseFlagSet()
 in class PullCommandWithRebaseTest

Change-Id: I697e2fc82a46c03762111eb1de93e673a2643b4f",0,1,1,0,0,0,1,0,0
6028,I03f59d07bcc3338ef8d392cbd940799186ca03bd,https://git.eclipse.org/r/#/c/6028,3,ebadbaa7d8225c45d044e304d41516e1a526bad6,73ec5e3605f7799c0809e1fd80484614259c0e8f,1,18/05/12,06/08/12,41,Allow detecttion of case insensitive file systems,"Allow detecttion of case insensitive file systems

Change-Id: I03f59d07bcc3338ef8d392cbd940799186ca03bd
Signed-off-by: Matthias Sohn <matthias.sohn@sap.com>
Signed-off-by: Christian Halstrick <christian.halstrick@sap.com>",0,0,1,1,0,0,1,0,0
6034,I9ec3eb02eb001813fa15ac6f90a606223dcdafdc,https://git.eclipse.org/r/#/c/6034,1,f44f411b11e00d3112da17aeaf3131499cf2614c,712cf0cee319538f4cb142d74fc43914b0b1eea9,1,18/05/12,21/05/12,7,Add user friendly output from jgit commit command,"Add user friendly output from jgit commit command

Instead of printing the stack trace from the JGitInternalException
thrown from CommitMessage.call(), print just the exception
message, using the Die exception.

Change-Id: I9ec3eb02eb001813fa15ac6f90a606223dcdafdc",0,0,1,0,0,0,1,0,0
6040,I4d4aa59723d6422ff755165e45f368da76d309ab,https://git.eclipse.org/r/#/c/6040,2,38f1f6d2c644607107efc39dd13b77690eeb1f84,2c91bf3e43df4f985cb9d848801eacf463b1974c,1,20/05/12,14/07/12,6,"Typo in CLIText#unknownMergeStratey, should be #unknownMergeStrategy","Typo in CLIText#unknownMergeStratey, should be #unknownMergeStrategy

Change-Id: I4d4aa59723d6422ff755165e45f368da76d309ab",0,0,0,1,0,0,1,0,0
6046,I3192dbd00b51e6ee6596d2301050b2a6f7028e3b,https://git.eclipse.org/r/#/c/6046,2,30d72a23d538fb83e5486a9337cdefa11b8a4fdc,57fcf8639ef3d354f46b53b9208bc4f9f34aa55b,0,21/05/12,21/05/12,42,Fix JGit source bundle packaging,"Fix JGit source bundle packaging

Due to Tycho bug 368596 we didn't package the correct JGit source bundle
anymore. Instead of sources it contained the binary bundle. As a
workaround fall back to use packaging type eclipse-update-site which
doesn't seem to have this problem.

Bug: 368596
Bug: 379402
Change-Id: I3192dbd00b51e6ee6596d2301050b2a6f7028e3b
Signed-off-by: Matthias Sohn <matthias.sohn@sap.com>",1,0,0,0,0,0,1,NA,NA
6080,I219b898c620a75c497c8652dbf4735fd094c4d7c,https://git.eclipse.org/r/#/c/6080,2,57fcf8639ef3d354f46b53b9208bc4f9f34aa55b,4bd7749582485993a424b30680832aff4a36eb09,1,22/05/12,23/05/12,22,Ensure reseting on commit id,"Ensure reseting on commit id

When reset command was called with tag name as parameter reset results
in tag sha-1 set as HEAD with is a bug. This patch ensures that
repository.resolve() call will always return commit id.

Change-Id: I219b898c620a75c497c8652dbf4735fd094c4d7c
Signed-off-by: Dariusz Luksza <dariusz@luksza.org>",0,0,0,0,0,0,0,0,0
6083,Ie0528c4d1c755823303d138e327a3a2f4caccc32,https://git.eclipse.org/r/#/c/6083,1,78887cec61215c2f5e4b0f462535219e145c0fcc,b33eac3b661768e4dd75112505c63f2dd1990500,1,22/05/12,22/05/12,73,Move NLS test for HttpServerText to http.test,"Move NLS test for HttpServerText to http.test

This never should have been in the core library test suite, as that
test suite never should depend upon the HTTP server module.

Change-Id: Ie0528c4d1c755823303d138e327a3a2f4caccc32",1,0,0,0,0,0,1,0,0
6084,I3bb28e4dd6d17cb31ede09eb84ceb67cdb17ea5d,https://git.eclipse.org/r/#/c/6084,1,b33eac3b661768e4dd75112505c63f2dd1990500,23957f0c1b6e58fe495b47ff0b1f7688821c3cfc,1,22/05/12,05/06/12,12,Reject non-fast-forwards earlier in BaseReceivePack,"Reject non-fast-forwards earlier in BaseReceivePack

If BaseReceivePack has setAllowNonFastForwards(false) configured
(such as by receive.denynonfastforwards), automatically reject
any command that attempts a non-fast-forward update before it goes
further in processing.

This matches with other checks in validateCommands(), such as the
early failure of delete attempts when isAllowDeletes() is false.

Change-Id: I3bb28e4dd6d17cb31ede09eb84ceb67cdb17ea5d",1,0,0,0,0,0,1,0,0
6085,If5a6fcc50dc4d6f96e9bb0bb7bba15ebe8b86377,https://git.eclipse.org/r/#/c/6085,1,23957f0c1b6e58fe495b47ff0b1f7688821c3cfc,3c0e2a985cd4de3cc7a77750fbb19aa370698868,1,22/05/12,05/06/12,51,Expose ReceiveCommand.updateType to check for UPDATE_NONFASTFORWARD,"Expose ReceiveCommand.updateType to check for UPDATE_NONFASTFORWARD

When a command's type is UPDATE, JGit might not yet be sure if it
is a fast-forward or not. Expose a utility method to compute the
exact type by performing the merge base test, allowing the type
to be switched to UPDATE_NONFASTFORWARD if old ObjectId is not
contained in new ObjectId.

BaseReceivePack already does this test when validating the incoming
command list, so provide a package level backdoor to set the type
and avoid needing to redo the merge test later.

Change-Id: If5a6fcc50dc4d6f96e9bb0bb7bba15ebe8b86377",1,0,0,0,0,0,1,0,0
6087,Iee9af8d5fa19080077d88357c18853540936e940,https://git.eclipse.org/r/#/c/6087,2,45504da162d8b60f9c320657ba1139d34847ba9a,61d2bd56016ce2758f66e6d2718269df7256a7e2,1,23/05/12,05/06/12,292,Use BatchRefUpdate for tracking refs in FetchProcess,"Use BatchRefUpdate for tracking refs in FetchProcess

If there are a lot of references to modify, using BatchRefUpdate can
save time if the underlying storage is able to combine these updates
together. This should speed up initial clone or fetch into an empty
repository, as some projects can have hundreds of release tags, or
hundreds of branch heads.

Change-Id: Iee9af8d5fa19080077d88357c18853540936e940",1,0,0,0,0,0,1,3,1
6097,Ifc4bfbb3efbab0f5bfbde74f0b2ddc5a2f9ee6a5,https://git.eclipse.org/r/#/c/6097,1,b631ebfed96b6fcff1775bd888f0a069f02ed5f6,2e0715242440de3d17574101dd72fd5ed8aaf9ed,1,23/05/12,23/05/12,140,Update Jetty to 8.1.3.v20120416,"Update Jetty to 8.1.3.v20120416

Jetty 8.1.3 comes with Juno M7 and this version can be installed from
http://download.eclipse.org/jetty/updates/jetty-bundles-8.x/8.1.3.v20120416/

Change-Id: Ifc4bfbb3efbab0f5bfbde74f0b2ddc5a2f9ee6a5
Signed-off-by: Matthias Sohn <matthias.sohn@sap.com>",1,0,0,0,0,0,1,0,0
6100,I50380f13fc82c22d0036f47c7859cc3a77e767c5,https://git.eclipse.org/r/#/c/6100,11,d99ef45dbaf665aeca5a6315a7992f5df129af37,cca28c82668565f81fbe32ddcd286b0b6017a39d,1,23/05/12,30/05/12,578,Git API does not declare GitAPIException call() and related cleanups,"Git API does not declare GitAPIException call() and related cleanups

All commands should throw a GitAPIException so new exceptions can be
added without breaking the builds of old code, i.e. anyone that calls
a Git API should catch GitAPIException and not just the currently known
exceptions.

Now the only checked exceptions on Git API calls are GitException and
subclasses of it. New checked exceptions that are subclasses of
GitException may be added without breaking the API.

Unfortunately this change itself breaks the API.

Bug: 366914
EGit-Change-Id: I50380f13fc82c22d0036f47c7859cc3a77e767c5
Change-Id: I50380f13fc82c22d0036f47c7859cc3a77e767c5
Signed-off-by: Matthias Sohn <matthias.sohn@sap.com>",0,1,1,0,1,0,1,0,0
6105,I8f8ae7a8bc0793643184bc0e7afa9f4e2c5ff1a1,https://git.eclipse.org/r/#/c/6105,3,c95a9fafb6a9cce8aab940c68644c18c66ed6732,c24b8066281ea6a356eddbc1b2cb993a73ec2ff4,0,24/05/12,15/06/12,18,In org.eclipse.jgit.pgm.ConfigTest expect core.filemode=false on Windows,"In org.eclipse.jgit.pgm.ConfigTest expect core.filemode=false on Windows

Change-Id: I8f8ae7a8bc0793643184bc0e7afa9f4e2c5ff1a1",0,0,0,1,0,0,1,NA,NA
6107,Ie6ae7ade36a117c22c656f792266d4116d52b9bc,https://git.eclipse.org/r/#/c/6107,2,558be3f48fca5784c67207fc323b5fe93f208036,e72af788c3be3e22209c0ec6451753be7c785678,1,24/05/12,18/06/12,8,Fix boxing warnings in org.eclipse.jgit.lib.ConfigTest,"Fix boxing warnings in org.eclipse.jgit.lib.ConfigTest

Change-Id: Ie6ae7ade36a117c22c656f792266d4116d52b9bc",0,0,0,1,0,0,1,0,0
6112,I1c748cd5987b30f25aca3ca8eb593448bcf128ae,https://git.eclipse.org/r/#/c/6112,3,cc28e024eb1891ae3abeba51b056d3f29e8e9c5e,f0d2f80464f8b230931ac961555846d45a554d0b,0,24/05/12,16/07/12,4,"Fix ""description"" in o.e.jgit.source.feature/feature.properties","Fix ""description"" in o.e.jgit.source.feature/feature.properties

Currently, update manager displays the comment message (starting with
""###..."") which should not be part of the description.

Change-Id: I1c748cd5987b30f25aca3ca8eb593448bcf128ae",0,0,0,0,0,0,0,NA,NA
6121,I627bdc387754a626ed8b1839494c05dfd5950d11,https://git.eclipse.org/r/#/c/6121,2,6da7d0faab2cecd9a53d5262e00754735e885cc1,9b1cf496a9434af1ca793f5bf9fe5cb69990f2af,1,25/05/12,13/06/12,4,Fix GitDateFormatter javadoc.,"Fix GitDateFormatter javadoc.

Change-Id: I627bdc387754a626ed8b1839494c05dfd5950d11",0,0,0,1,0,0,1,0,0
6127,Idddd86818858b229e68b4a46597fc67547bcce17,https://git.eclipse.org/r/#/c/6127,3,4acef85ccf66e048f8caa276ebc47c32674a8209,119b57f35e46098829fc6d132e483435f8478c73,1,26/05/12,31/05/12,65,Remove obsolete GitlinksNotSupportedException,"Remove obsolete GitlinksNotSupportedException

Change-Id: Idddd86818858b229e68b4a46597fc67547bcce17",0,0,1,1,0,0,1,0,0
6128,Ide46eeb6cddcf3111f7c237ba8425a0854a90bfd,https://git.eclipse.org/r/#/c/6128,3,75fc86065cadb267f6845bdf578539453cfce02b,01fdde2b57404814d64226bfd35ad47005b80ae0,1,26/05/12,04/06/12,3,Relax RevisionSyntaxException to an IllegalArgumentException,"Relax RevisionSyntaxException to an IllegalArgumentException

Change-Id: Ide46eeb6cddcf3111f7c237ba8425a0854a90bfd",0,0,0,1,0,0,1,0,0
6136,I11a762f54cc8b059eff3bd99138a7efa9723b19f,https://git.eclipse.org/r/#/c/6136,2,5145166c12a12afdcaef2a5dc9a2410f548e350e,36f5fdb53544dd03f56c34130f59f3bc0db5a0d3,0,28/05/12,04/06/12,14,Configure maven-source-plugin execution in parent POM,"Configure maven-source-plugin execution in parent POM

This ensures all modules will have source jars built

Change-Id: I11a762f54cc8b059eff3bd99138a7efa9723b19f",0,0,0,0,0,0,0,NA,NA
6137,I88689f26000e4e57e77931e5ace7c804d92af1b6,https://git.eclipse.org/r/#/c/6137,1,0cedb81d4edb2a75eafcad4c9941a7ad3644efd7,536091a59f313d121e58a8f2bbfa350809eabd55,1,28/05/12,30/05/12,293,Update smudged entries when writing index,"Update smudged entries when writing index

Overload DirCache.lock to take a repository that is
used for updating smudged index entries with information
from the repository's working tree.

New unit tests are also added for updating smudged index
entries on reset, checkout, and commit.

Change-Id: I88689f26000e4e57e77931e5ace7c804d92af1b6",0,0,0,0,0,0,0,0,0
6138,Iaf9e624efb0bf90f9e05fcb0587dde4dec50000c,https://git.eclipse.org/r/#/c/6138,1,536091a59f313d121e58a8f2bbfa350809eabd55,a9b44f3d7f3502ce2b624317b78cb23de81f1534,1,28/05/12,30/05/12,49,Retain file length and mod time when doing a mixed reset,"Retain file length and mod time when doing a mixed reset

Previously the index was cleared and updated with a new tree.

Now the commit being reset to and the index are iterated over
in a tree walk and the current index mod time and file length
are copied over to the new dir cache entry being written if
the object ids are the same.

Change-Id: Iaf9e624efb0bf90f9e05fcb0587dde4dec50000c",0,0,0,0,0,0,0,0,0
6139,I2f1ec7215a2208aa90511c065cadc7e816522f62,https://git.eclipse.org/r/#/c/6139,2,041bf4fb05a71abe1290ab9bb802077e3113a9f4,2e8eb71c627a763557e57687ed547005a56db159,1,28/05/12,04/06/12,114,Support gitdir: refs in BaseRepositoryBuilder.findGitDir,"Support gitdir: refs in BaseRepositoryBuilder.findGitDir

This allows findGitDir to be used for repositories containing
a .git file with a gitdir: ref to the repository's directory
such as submodule repositories that point to a folder under the
parent repository's .git/modules folder

Change-Id: I2f1ec7215a2208aa90511c065cadc7e816522f62",0,0,0,0,0,0,0,-1,0
6140,I120b3b2cd3b1ddae88fce435285bae15cbf96f5e,https://git.eclipse.org/r/#/c/6140,5,d90b95872502dcb2193513b65f3046ba81295b72,5f1952370175380687a0feeba034c36b00e018f2,1,28/05/12,31/05/12,49,Update ORIG_HEAD when resetting,"Update ORIG_HEAD when resetting

Write the old object id from the RefUpdate to the
ORIG_HEAD file after the update completes.

Add two new convenience methods to Repository to read
and write the ORIG_HEAD reference similar to the methods
for reading/writing CHERRY_PICK_HEAD and MERGE_HEAD.

Bug: 375525
Change-Id: I120b3b2cd3b1ddae88fce435285bae15cbf96f5e",0,1,1,0,0,0,1,0,0
6141,I8cab6e5929479ed748812b8598c7628370e79697,https://git.eclipse.org/r/#/c/6141,1,7a2f57c47dce41d83ae7b4b26364e3e86af3755c,33a38e7d33c2acb62c2caa7f91dcf625d1d303c4,1,28/05/12,04/06/12,62,Only increment mod count if packed-refs file changes,"Only increment mod count if packed-refs file changes

Previously if a packed-refs file was racily clean then there
was a 2.5 second window in which each call to getPackedRefs
would increment the mod count causing a RefsChangedEvent to be
fired since the FileSnapshot would report the file as modified.

If a RefsChangedListener called getRef/getRefs from the
onRefsChanged method then a StackOverflowError could occur
since the stack could be exhausted before the 2.5 second
window expired and the packed-refs file would no longer
report being modified.

Now a SHA-1 is computed of the packed-refs file and the
mod count is only incremented when the packed refs are
successfully set and the id of the new packed-refs file
does not match the id of the old packed-refs file.

Change-Id: I8cab6e5929479ed748812b8598c7628370e79697",0,0,0,0,0,0,0,0,0
6142,I07335300d787a69c3d1608242238991d5b5214ac,https://git.eclipse.org/r/#/c/6142,6,3094d650740540226c4a5915acea85dd24fc2ca1,26c33bf814d78986dbf8a00e060aaafa15d838e4,1,28/05/12,06/06/12,105,Special case file mode handling on non-executable filesystems,"Special case file mode handling on non-executable filesystems

Do not report the worktree version of the file being merged
as dirty if the modes differ only in the executable bit and
the working tree iterator is on a filesystem that does not
support executable files.

Bug: 379004
Change-Id: I07335300d787a69c3d1608242238991d5b5214ac",0,1,0,0,0,0,1,0,0
6150,I9291ba8c34c8744bc009b1bd302ed28bfa4e9476,https://git.eclipse.org/r/#/c/6150,3,0ba521bcfcd2c835bc5e90aa3dd8807edbe24bc2,50a182b58d6a3679a7c72740ace7d2d3202e6ce8,0,29/05/12,04/06/12,5,Add lazy loading of body for tags to PlotWalk,"Add lazy loading of body for tags to PlotWalk

This change is required by egit's lazy loading of the body in the
history view when the walk is started with setRetainBody(false).

Change-Id: I9291ba8c34c8744bc009b1bd302ed28bfa4e9476
Signed-off-by: Stefan Lay <stefan.lay@sap.com>",0,0,0,0,0,0,0,NA,NA
6167,Id3b97d88d3b4b2d67561b11f8810cb88fe040823,https://git.eclipse.org/r/#/c/6167,1,c0543ab444247b80921819fba4b754c5e0779c87,851b117b71cf60c4a0cb29d708ead9094aeb8643,1,30/05/12,30/05/12,206,Enable loading history until a given commit,"Enable loading history until a given commit

This is needed to allow jumping to a selected commit when loading
history incrementally.

Change-Id: Id3b97d88d3b4b2d67561b11f8810cb88fe040823
Signed-off-by: Matthias Sohn <matthias.sohn@sap.com>",0,0,0,0,0,0,0,2,1
6183,Ic4f84f1a11c93863c229c0089f2e4edc7c7a36b7,https://git.eclipse.org/r/#/c/6183,1,8a2662f8cd02952ddf90634a4250ec6def012f4e,38e8fdff304effef31510b19af1e86f88180e883,0,30/05/12,30/05/12,102,JGit v2.0.0.201205301645-rc2,"JGit v2.0.0.201205301645-rc2

Change-Id: Ic4f84f1a11c93863c229c0089f2e4edc7c7a36b7
Signed-off-by: Matthias Sohn <matthias.sohn@sap.com>",1,0,0,1,0,0,1,NA,NA
6188,Iffc57d6b25dafb72272d1957116c19ab45ba2c54,https://git.eclipse.org/r/#/c/6188,1,38e8fdff304effef31510b19af1e86f88180e883,3b2c08c3601a399d92828472b7a285efe1e7ea9d,0,30/05/12,31/05/12,102,Prepare next 2.0.0-SNAPSHOT builds,"Prepare next 2.0.0-SNAPSHOT builds

Change-Id: Iffc57d6b25dafb72272d1957116c19ab45ba2c54
Signed-off-by: Matthias Sohn <matthias.sohn@sap.com>",1,0,0,1,0,0,1,NA,NA
6189,I0f2e910423d3db081b644968cd0d6a89178ba12a,https://git.eclipse.org/r/#/c/6189,1,3b2c08c3601a399d92828472b7a285efe1e7ea9d,aa9d4ec19a2743441c9c399ade0579fb5f210e1c,0,30/05/12,31/05/12,18,Reduce number of hard-coded maven artifact versions,"Reduce number of hard-coded maven artifact versions

This reduces the number of hard-coded version numbers we have to touch
with every release.

Change-Id: I0f2e910423d3db081b644968cd0d6a89178ba12a
Signed-off-by: Matthias Sohn <matthias.sohn@sap.com>",0,0,0,0,0,0,0,NA,NA
6207,I9044cf86d2b0bcc8b63b7cc016e1bf0055a62053,https://git.eclipse.org/r/#/c/6207,9,7dae373192400060b0933170aea4fe01703c8508,aa92d004c176356ac1cbcd8b25404db10b481a56,1,31/05/12,05/06/12,194,Make transport exceptions appear as transport exception in Git API,"Make transport exceptions appear as transport exception in Git API

Change-Id: I9044cf86d2b0bcc8b63b7cc016e1bf0055a62053",0,1,0,1,0,0,1,1,1
6213,I343273d994dc7b6e0287c604e5926ff77d5b585b,https://git.eclipse.org/r/#/c/6213,4,6d26fc35c619cb8f68c4069994b24e3a59e336da,a83052b00505286886cfcc5582009155b146c20a,1,01/06/12,03/06/12,107,Revert Jetty from 8.1.3.v20120416 to 7.6.0.v20120127,"Revert Jetty from 8.1.3.v20120416 to 7.6.0.v20120127

This reverts commit 24a0f47e32ab7cdf20c2201d7100599ea057f8a3 and updates
JGit dependencies to use the latest available Jetty 7.6.0.v20120127
release. We can't use Jetty 8.x since it depends on Servlet API 3.0
which requires Java 6 but JGit still wants to support Java 5.
Use one of the target platforms defined in
Ibf67a6d3539fa0708a3e5dbe44fb899c56fbd8ed to work with that in Eclipse.

Change-Id: I343273d994dc7b6e0287c604e5926ff77d5b585b
Signed-off-by: Matthias Sohn <matthias.sohn@sap.com>",1,1,0,0,0,0,1,0,0
6226,Ie66d495481776469ff2aa603c550557cff82cafc,https://git.eclipse.org/r/#/c/6226,1,af3e7bf4505a6a2be76fb58fc25d80efe8eede03,4ba8722d45be00f810033929b7528b37bbe7ec2f,1,03/06/12,03/06/12,18,Use default thread pool to prevent thread pool starvation,"Use default thread pool to prevent thread pool starvation

Bug: 380302
Change-Id: Ie66d495481776469ff2aa603c550557cff82cafc
Suggested-By: Joakim Erdfelt <joakim@intalio.com>
Signed-off-by: Matthias Sohn <matthias.sohn@sap.com>",1,0,0,0,0,0,1,0,0
6227,I26c38ec9f51b0a4fb62e1aa9f2266ada7bb2fa0c,https://git.eclipse.org/r/#/c/6227,1,550793b268ddde822b7fdb2990ac84f9b2428b17,44a89d71d9f4cda275d64a2e240e5685ab366762,0,03/06/12,03/06/12,1,Fix compile error when using Jetty 7.5,"Fix compile error when using Jetty 7.5

Class Constraint was moved from package org.eclipse.jetty.http.security
in Jetty 7.5 to package org.eclipse.jetty.util.security in Jetty 7.6.
Hence also import package org.eclipse.jetty.security, then also Jetty
7.5, coming with Indigo, can be used to run JGit HTTP tests.

Change-Id: I26c38ec9f51b0a4fb62e1aa9f2266ada7bb2fa0c
Signed-off-by: Matthias Sohn <matthias.sohn@sap.com>",1,0,0,0,0,0,1,NA,NA
6229,I7eb6413ecf2bc4ad7bef0c70cde45ae3fde02b2f,https://git.eclipse.org/r/#/c/6229,1,44a89d71d9f4cda275d64a2e240e5685ab366762,210b07799984b181d7b04bcba3c15e6064e9510e,0,03/06/12,03/06/12,55,Set minimum Jetty version to 7.6,"Set minimum Jetty version to 7.6

This reverts commit 0c6e7d71273b2b899f35e974d5a1463ce110fa7e which
didn't work since package imports need to be different with Jetty 7.5
and 7.6. Jetty 7.6 can be installed into Eclipse SDK 3.7.2 so rather
require Jetty 7.6 instead of adding a lot of reflective code to
workaround these incompatible changes.

Change-Id: I7eb6413ecf2bc4ad7bef0c70cde45ae3fde02b2f
Signed-off-by: Matthias Sohn <matthias.sohn@sap.com>",1,0,0,0,0,0,1,NA,NA
6232,I18047f5725f22811bb4194ca1d3a3cac56074183,https://git.eclipse.org/r/#/c/6232,6,c5a0135ca1603bf1e1cec3fbd3f7d8c99d5dea4b,66eb02854cd416e1453aa74163549fba7449b232,1,04/06/12,06/06/12,100,Make DirCacheCheckout update timestamps in the index.,"Make DirCacheCheckout update timestamps in the index.

This updates the timestamp of files that are not touched during
checkout. Otherwise the timestamp will always be zero, causing the
IndexDiffFilter to always calculate the checksum of file contents.

Change-Id: I18047f5725f22811bb4194ca1d3a3cac56074183",0,1,0,0,0,0,1,0,0
6237,I94ad299f367c846e7729c74f49c6b8f93f75ae81,https://git.eclipse.org/r/#/c/6237,2,2dd3e64577b0d36372c8ad46a1ca15658ab2157b,a9eabbac6d63e38efa73dce510babf8cebf003d0,1,04/06/12,23/06/12,32,Ignore empty lines when parsing git-rebase-todo,"Ignore empty lines when parsing git-rebase-todo

When starting a rebase with C Git, there may be empty lines in the
git-rebase-todo file. Before this change, JGit would fail to parse the
file with e.g. the following exception:

  JGitInternalException: Unknown or unsupported command ""
  #"", only ""pick"" is allowed.

This happened when there was an empty line just before the comments,
because the nextSpace would be the one from the comment. Now the empty
lines are ignored by checking for nextSpace < ptr outside of the loop.

Change-Id: I94ad299f367c846e7729c74f49c6b8f93f75ae81
Signed-off-by: Robin Stocker <robin@nibor.org>",0,0,1,0,0,0,1,0,0
6240,Iea7ad3176a1b0e8606a643de8945e276718eb3ce,https://git.eclipse.org/r/#/c/6240,3,6056302ddcdfeff92c050d780ed74f1d8bed5b98,826ed173de7b8c7c1df49e8b003fce126104b4a4,1,04/06/12,05/06/12,13,Throw formal CheckoutConflictException on hard reset,"Throw formal CheckoutConflictException on hard reset

This will allow calling classes to have access to the
conflicts that occurred during the attempted checkout.

Even though setFailOnConflict(false) is called on the
DirCacheCheckout a CheckoutConflictException can still
be thrown if cleanup fails.

Change-Id: Iea7ad3176a1b0e8606a643de8945e276718eb3ce",0,0,0,0,0,0,0,1,1
6255,Id4ee884027d55cd2d43e8a6ef58a67f74ab488e4,https://git.eclipse.org/r/#/c/6255,1,45526276d7093b26d11f343bbbd29e0247961c45,8cf4afaf06d7ac33a705ae39310ccd6d18c6c87b,0,05/06/12,05/06/12,44,Update build to use Tycho 0.15.0,"Update build to use Tycho 0.15.0

Also use packaging type eclipse-repository to create the p2 repository
since Tycho fixed bug 368596 which we worked around using packaging type
eclipse-update-site.

Change-Id: Id4ee884027d55cd2d43e8a6ef58a67f74ab488e4
Signed-off-by: Matthias Sohn <matthias.sohn@sap.com>",1,0,0,0,0,0,1,NA,NA
6266,If08f8e7b8ef94ec00023a3f78bbf502ebd9699fb,https://git.eclipse.org/r/#/c/6266,1,4f04d945ed211229eda43b9a53610a8f6f86d8cc,2539af69f3ed17b3ca5f52dbc8c7d03648d60639,1,05/06/12,06/06/12,9,Make FS OS X detection work for OpenJDK,"Make FS OS X detection work for OpenJDK

OpenJDK sets the os.name system.property to ""Darwin"", while Apple's
version says ""Mac OS X"".

Change-Id: If08f8e7b8ef94ec00023a3f78bbf502ebd9699fb",0,0,0,0,0,0,0,0,0
6267,I3b54cb9f73cb433c71a441a11ddc74cfecdaa1dc,https://git.eclipse.org/r/#/c/6267,1,2539af69f3ed17b3ca5f52dbc8c7d03648d60639,d78ec7ebb118138872e08eee063ad83dbf9b5df6,1,05/06/12,06/06/12,4,cleanup: Remove unused declarations,"cleanup: Remove unused declarations

Change-Id: I3b54cb9f73cb433c71a441a11ddc74cfecdaa1dc",0,0,0,1,0,0,1,0,0
6268,I60bc03b9550ccd2350918e6328276ec9839748d5,https://git.eclipse.org/r/#/c/6268,4,d78ec7ebb118138872e08eee063ad83dbf9b5df6,d49596cebc392495617ff309929794ff06c1cb52,1,05/06/12,06/06/12,15,Removed an unused parameter to private method,"Removed an unused parameter to private method

Change-Id: I60bc03b9550ccd2350918e6328276ec9839748d5",0,1,0,1,0,0,1,0,0
6272,I64f55b27143f8badcefbb419d3951f2a26b87d5f,https://git.eclipse.org/r/#/c/6272,2,d49596cebc392495617ff309929794ff06c1cb52,c400e8e977d51037393e743aa6738c4b46fc9e8f,1,06/06/12,06/06/12,19,Rid warnings about empty statments,"Rid warnings about empty statments

In HtttpAuthMethod there were comments, but not in a style
that Eclipse recognizes.

Change-Id: I64f55b27143f8badcefbb419d3951f2a26b87d5f",0,0,0,0,0,0,0,0,0
6276,Iecf7c5aad46bb05fce0455cc8127aee2f679848c,https://git.eclipse.org/r/#/c/6276,1,c400e8e977d51037393e743aa6738c4b46fc9e8f,144b3d9a8f1c814bb7dc280307bd5204a783127a,0,06/06/12,06/06/12,5,Remove Jetty p2 repository from Maven build,"Remove Jetty p2 repository from Maven build

This reference is not required and would force all JGit consumers to
switch to Maven 3 and Tycho which isn't desirable.

Bug: http://dev.eclipse.org/mhonarc/lists/jgit-dev/msg01687.html
Change-Id: Iecf7c5aad46bb05fce0455cc8127aee2f679848c
Signed-off-by: Matthias Sohn <matthias.sohn@sap.com>",1,0,0,0,0,0,1,NA,NA
6277,I12f8800b74228e71c77f0fb82c250c154d06369f,https://git.eclipse.org/r/#/c/6277,1,b59fc3b56052aa96cc3e2b779998119929590b97,da97e0c6dd97b511be9ddd6f94ce2fba5b4ca614,0,06/06/12,06/06/12,94,JGit v2.0.0.201206060730-rc3,"JGit v2.0.0.201206060730-rc3

Change-Id: I12f8800b74228e71c77f0fb82c250c154d06369f
Signed-off-by: Matthias Sohn <matthias.sohn@sap.com>",1,0,0,1,0,0,1,NA,NA
6280,I0d55b390502b3da139ab0d15a6cf3d05774d8ad9,https://git.eclipse.org/r/#/c/6280,1,da97e0c6dd97b511be9ddd6f94ce2fba5b4ca614,688a9ae9ef1369319b70b937b168bdb3737aa432,0,06/06/12,06/06/12,94,Prepare next 2.0.0-SNAPSHOT builds,"Prepare next 2.0.0-SNAPSHOT builds

Change-Id: I0d55b390502b3da139ab0d15a6cf3d05774d8ad9
Signed-off-by: Matthias Sohn <matthias.sohn@sap.com>",1,0,0,1,0,0,1,NA,NA
6296,I05727693e0c9e762d4fc220ceadcd5a5bfb11d0d,https://git.eclipse.org/r/#/c/6296,1,b1b12f964b29bd6318a04563358b773d0b4c1815,48069289fa229da81377d95d7fda9665ab6f3e54,0,07/06/12,07/06/12,0,Merge branch 'stable-2.0',"Merge branch 'stable-2.0'

By Robin Rosenberg (6) and others
via Gerrit Code Review @ Eclipse.org (2) and Matthias Sohn (1)
* stable-2.0:
  Prepare next 2.0.0-SNAPSHOT builds
  JGit v2.0.0.201206060730-rc3
  Remove Jetty p2 repository from Maven build
  Get rid of warnings about empty statments
  Removed unused parameters from private methods
  cleanup: Remove unused declarations
  Make FS OS X detection work for OpenJDK
  Use working tree iterator to compare file modes
  Further cleanup of exceptions in Git API
  Update build to use Tycho 0.15.0
  Throw formal CheckoutConflictException on hard reset
  Configure maven-source-plugin execution in parent POM
  Support gitdir: refs in BaseRepositoryBuilder.findGitDir
  Relax RevisionSyntaxException to an IllegalArgumentException

Change-Id: I05727693e0c9e762d4fc220ceadcd5a5bfb11d0d",1,0,0,0,0,0,1,NA,NA
6297,Ie800c55702ea9724b393be0a8b36e0e4da1a6e0d,https://git.eclipse.org/r/#/c/6297,2,07f16d3f4b3a95429f14ef4da822f2f3e4951269,c17a858abec95257da7d39530e1e1f0fab0936d5,1,07/06/12,08/06/12,209,Add simple tests for RegexPipeline,"Add simple tests for RegexPipeline

Change-Id: Ie800c55702ea9724b393be0a8b36e0e4da1a6e0d",0,0,0,1,0,1,1,0,0
6298,I7bd5011f5bd387f9345a0e79b22a4d7ed918a190,https://git.eclipse.org/r/#/c/6298,2,b17554bc40ec06f15c006b5fceefe550a9e0f748,657b7bcf82971203928e200ad7c89f61e14b3a8d,1,07/06/12,08/06/12,19,Expand RegexPipeline documentation,"Expand RegexPipeline documentation

Include some behaviors that were not clear to me until I had used it a
few times.

Warn about broken behavior for capture groups that do not match. It
would be nice to support these, but even for the cases where it's
clear what the behavior should be, it would be infeasible to
implement.

For example, consider the second group of the regex ""(/a)/b(/c)?""
matched against the path ""/a/b"". We might want getServletPath() to
return ""/a/b"" and getPathInfo() to return null, but this is hard to
implement: there's no easy way to say ""the substring up to the point
where (/c) would have matched if it were in the string even though
it's not."" And even if we could, it's not clear there is even a right
answer in the general case.

Moreover, ideally we could warn about such broken patterns at servlet
initialization time, rather than at runtime, but even answering the
question of whether there are capture groups that might not match
requires more customized regular expression parsing than we want to
embark on. Hence, the best we can do is document how it fails.

Change-Id: I7bd5011f5bd387f9345a0e79b22a4d7ed918a190",0,0,0,0,0,1,1,0,0
6303,I1c87fea98e246004aecbae3aabaf1d21fbf3176e,https://git.eclipse.org/r/#/c/6303,2,82172ec3e4f95cc8932eaa1a28dc5f2b594576bf,15fbbfb83f735266e2d2ef77685d3bcaf709c3cc,1,08/06/12,08/06/12,16,Add MetaFilter.serveRegex(Pattern),"Add MetaFilter.serveRegex(Pattern)

This allows the use of precompiled patterns, such as those compiled with
flags.

Change-Id: I1c87fea98e246004aecbae3aabaf1d21fbf3176e",0,0,0,0,0,1,1,0,0
6309,I9160b0632c65da9e30a88688c4d9216b5f93d818,https://git.eclipse.org/r/#/c/6309,1,4655c7e81a992045d102cea622ba669057f9fda6,33f001ce3c1ddf88d7a65bba7ee2bfbd118b1613,1,11/06/12,11/06/12,37,Add missing license header to modification times test.,"Add missing license header to modification times test.

This adds the header i forgot to add in
I18047f5725f22811bb4194ca1d3a3cac56074183.

Change-Id: I9160b0632c65da9e30a88688c4d9216b5f93d818",0,0,0,0,0,0,0,0,0
6314,Ibd4c4948d81bd1c511ecf5fd6c906444930d236e,https://git.eclipse.org/r/#/c/6314,5,b168f73df88ef6febf224497e8bd23b2a12005cb,a851e341f085b57512cc7ffb9288412e17b184ae,1,11/06/12,19/01/13,39,Fix patch application WRT windows line endings.,"Fix patch application WRT windows line endings.

Previously the result of an application would have been \r\r\n in the
case of windows line endings, as RawText does not touch the \r, and
ApplyCommand adds ""\r\n"" if this is the ending of the first line in the
target file. Only always adding \n should be ok, since \r\n would be the
result if the file and the patch include windows line endings.

Change-Id: Ibd4c4948d81bd1c511ecf5fd6c906444930d236e",0,1,0,0,0,0,1,-1,0
6316,I2c698a76e30d968e7f351b4f5a2195f0b124f62f,https://git.eclipse.org/r/#/c/6316,2,1ee33653685448e94a3cc6810e6f6e75cc891b3a,cc286ff3395027546bbd89ddcde406aa4b3b2d71,1,11/06/12,12/06/12,17,Do not set core.autocrlf when creating repo,"Do not set core.autocrlf when creating repo

core.autorlf default to false, but can be set in the user or 
""system"" config files. Note that EGit/JGit may not know
where the ""system"" config file is located.

Bug: 382067
Change-Id: I2c698a76e30d968e7f351b4f5a2195f0b124f62f",0,0,0,0,0,0,0,0,0
6318,I0016ee155553c546606b63d310666eb10bd997e1,https://git.eclipse.org/r/#/c/6318,2,a1868366ba0e05b5354e5f58ef59f127cd66be81,255cf972ed99c0f18aefe381b1db66f31e73a2a4,0,11/06/12,12/06/12,1062,Add org.eclipse.jgit.pgm.feature to enable consumption via p2,"Add org.eclipse.jgit.pgm.feature to enable consumption via p2

Orion wants to consume the pgm bundle from a p2 repository in their
build. Also add corresponding source bundle and feature to provision
sources via a target platform.

Bug: 373789
Change-Id: I0016ee155553c546606b63d310666eb10bd997e1
Signed-off-by: Matthias Sohn <matthias.sohn@sap.com>",0,0,0,0,1,0,1,NA,NA
6326,I499f518f6289ef93e017db924b2aa857f2154707,https://git.eclipse.org/r/#/c/6326,2,dd7299fe95f620890e85a43cdd9017ab9ac72795,b0aa00faab176888f80c809827f2473256be3cd1,1,12/06/12,25/06/12,100,Don't return success on failing paths in ResolveMerger,"Don't return success on failing paths in ResolveMerger

ResolveMerger#mergeImpl() was only returning false (= failed) when there
were unmerged paths. In the case when there were only failing paths, it
returned true.

Because MergeCommand looks at the return value for determining if the
merge failed, it would fall into the successful case there, where it
should instead return a MergeResult with MergeStatus.FAILED.

This change adds a test case for this and makes the ResolveMerger return
false when there are failing paths.

This was discovered while working on fixing bug 354099 and is needed for
its test case.

Bug: 354099
Change-Id: I499f518f6289ef93e017db924b2aa857f2154707
Signed-off-by: Robin Stocker <robin@nibor.org>",0,0,1,0,0,0,1,0,0
6327,I6b2ce96b3932ca84ecdfbeab457ce823c95433fb,https://git.eclipse.org/r/#/c/6327,2,5fdb46d369cfb44e718a8d43c30747c0b0bb5b6c,082e432ec3c2198cd9ebeac02f8aa4b9368ce464,1,12/06/12,25/06/12,70,Fix order of deletion for files/dirs in ResolveMerger,"Fix order of deletion for files/dirs in ResolveMerger

Before, the paths to delete were stored in a HashMap, which doesn't have
a particular order. So when e.g. both the file ""a/b"" and the directory
""a"" were to be deleted, it would sometimes try to delete ""a"" first. This
resulted in a failed path because File#delete() fails when a directory
isn't empty.

With this change, an ArrayList is used for storing the paths to delete.
The list contains the paths in a top-down order, as defined by the order
of processEntry. When the files are deleted, the list is iterated in
reverse, ensuring that all files of a directory are deleted before the
directory itself.

Bug: 354099
Change-Id: I6b2ce96b3932ca84ecdfbeab457ce823c95433fb
Signed-off-by: Robin Stocker <robin@nibor.org>",0,0,1,0,0,0,1,0,0
6339,I685e09b3e37d68614df1b5cc5f687a65cd6eb82d,https://git.eclipse.org/r/#/c/6339,1,2fea6d190eacb95c626023d957b7f12469818f7f,584ed791f2d6f821dcbfbe7bdd121fb279683f2e,0,13/06/12,13/06/12,96,JGit v2.0.0.201206130900-r,"JGit v2.0.0.201206130900-r

Change-Id: I685e09b3e37d68614df1b5cc5f687a65cd6eb82d
Signed-off-by: Matthias Sohn <matthias.sohn@sap.com>",1,0,0,1,0,0,1,NA,NA
6342,I1d50442b7eb8a27f98f69ad77c5e24a9698a7b66,https://git.eclipse.org/r/#/c/6342,2,efbd989c4b5cf438e962130fbfd195e3d542d007,8c56d3b36cb5f613356dd0381715f4f61fcc210d,1,13/06/12,15/06/12,5,Fix LockFileTest on Windows,"Fix LockFileTest on Windows

LockFileTest was failing on windows because we couldn't delete the lock
file on the index. The reason was that a LockFile instance still had an
open handle to the lock file preventing us to delete the file (in
contrast to the behaviour on other platforms).

Change-Id: I1d50442b7eb8a27f98f69ad77c5e24a9698a7b66
Signed-off-by: Christian Halstrick <christian.halstrick@sap.com>",0,0,0,0,0,1,1,0,0
6343,I6d4f637b0d4af20ff4d501db091548696373a58a,https://git.eclipse.org/r/#/c/6343,3,b6ece68e67016e3fceaf859296977678c29aadda,c064fb18f6ace9450078e96f6103d7123e83e659,1,13/06/12,15/06/12,193,Fix resource leaks due to unclosed repositories,"Fix resource leaks due to unclosed repositories

Whenever a call to JGit returns a Repository the caller should make sure
to call close() on it if he doesn't need it anymore. Since instances of
Repository contain e.g. open FileOutputStreams (for pack
files) forgetting to close the repository can lead to resource leaks.
This was the reason why dozens of the JUnit tests on windows to failed
with ""Can't delete file ...."" errors. In
LocalDiskRepositoryTestCase.tearDown() we tried to delete the repo's we
used during tests which failed because we had open FileOutputStreams.

Not only the obvious cases during Clone or Init operations returned
Repositories, but also the new SubModule API created repository
instances. In some places we even forgot to close submodule repositories
in our internal coding.

To see the effects of this fix run the JGit JUnit tests under Windows.
On other platforms it's harder to see because either the leaking
resources don't lead to failing junit tests (on Unix you can delete
files with open FileOutputStreams) or the java gc run's differently
cleans up the resources earlier.

Change-Id: I6d4f637b0d4af20ff4d501db091548696373a58a
Signed-off-by: Christian Halstrick <christian.halstrick@sap.com>",0,0,0,0,0,1,1,0,0
6346,I51b1bbed35288c5285b3d6860efba97d58de5a1c,https://git.eclipse.org/r/#/c/6346,1,3e3e25b86269c7b17eabcca926dee2bd7ba742a2,040ff6fefde2c5b074a2fe5add1b88769613a821,0,13/06/12,14/06/12,94,Prepare post v2.0.0.201206130900-r builds,"Prepare post v2.0.0.201206130900-r builds

Change-Id: I51b1bbed35288c5285b3d6860efba97d58de5a1c
Signed-off-by: Matthias Sohn <matthias.sohn@sap.com>",0,0,0,1,0,0,1,NA,NA
6347,Ifdd71a6bc14d9c79f4433ebc3b53bf0042a4d4c8,https://git.eclipse.org/r/#/c/6347,1,f8096c96f77ebbea47ca1dd10a44b4c5f9281c1e,ba5a30d8049f874a978cd7d5b2e1cd0c10ccbe75,0,13/06/12,14/06/12,0,Merge branch 'stable-2.0',"Merge branch 'stable-2.0'

* stable-2.0:
  Prepare post v2.0.0.201206130900-r builds
  JGit v2.0.0.201206130900-r
  Add org.eclipse.jgit.pgm.feature to enable consumption via p2
  Do not set core.autocrlf when creating repo

Change-Id: Ifdd71a6bc14d9c79f4433ebc3b53bf0042a4d4c8
Signed-off-by: Matthias Sohn <matthias.sohn@sap.com>",0,0,0,0,0,0,0,NA,NA
6348,I4aad3efdd435d8d5eb53c84a8d38132acce97c25,https://git.eclipse.org/r/#/c/6348,1,ba5a30d8049f874a978cd7d5b2e1cd0c10ccbe75,5bb4a5e26312da1341264e28c776ae02b1a3c6c7,0,13/06/12,14/06/12,524,Prepare 2.1.0 builds,"Prepare 2.1.0 builds

Change-Id: I4aad3efdd435d8d5eb53c84a8d38132acce97c25
Signed-off-by: Matthias Sohn <matthias.sohn@sap.com>",0,0,0,1,1,0,1,NA,NA
6358,I3f632be8eb85a4a0baf27c9f067c8d817162de2b,https://git.eclipse.org/r/#/c/6358,2,5bb4a5e26312da1341264e28c776ae02b1a3c6c7,75089d0438dc45086070099e5f83e756cbe8a658,1,14/06/12,15/06/12,44,Fix UnionInputStream.read to be more Java-like,"Fix UnionInputStream.read to be more Java-like

Relax the read() method to not block until exactly ""len"" bytes have
been read. Instead, return when one or more bytes have been read, up
to ""len"", so UnionInputStream more closely resembles InputStream's
read() method.

Change-Id: I3f632be8eb85a4a0baf27c9f067c8d817162de2b",0,0,0,0,0,0,0,0,0
6359,If04915c32c91be28db8df7e8491ed3e9fe0e1608,https://git.eclipse.org/r/#/c/6359,3,aa4b3897d4375a5c51f66aeb4c6acc7baaa5868a,8f0a2e7ec7c240e0a6d08b27c95534dce58bf2f4,1,14/06/12,16/06/12,212,ReceivePack supports InputStream data after pack,"ReceivePack supports InputStream data after pack

When receiving a pack, data buffered after the pack can restored to
the InputStream if the stream supports mark and reset.

Change-Id: If04915c32c91be28db8df7e8491ed3e9fe0e1608",0,0,0,0,0,0,0,2,1
6360,I391c60c10d034b5c1c0ef19b1f24a9ba76b17bb5,https://git.eclipse.org/r/#/c/6360,1,5064e8dc2ebecb2fc80a3bc4094f061ad0577ff3,37234e102b411966c9ef7e93e60391475ccae694,1,14/06/12,15/06/12,91,Add Transport URI constructor without a repository,"Add Transport URI constructor without a repository

Let a Transport instance be opened with only a URI, for use in the
upcoming publish-subscribe feature.

Change-Id: I391c60c10d034b5c1c0ef19b1f24a9ba76b17bb5",0,0,0,0,0,0,0,0,0
6361,Ice373d3dee63c395490d2707473ccf20a022e5cf,https://git.eclipse.org/r/#/c/6361,2,db65f77eef37bd5f24c2ebc8e6bf2c6f0fcb34b4,c43bef0bdb482625ec2905666396fe852bcb57e7,1,14/06/12,16/06/12,241,Refactor TransportHttp for long-polling,"Refactor TransportHttp for long-polling

Split Service into MultiRequestService (fetch, push) and
LongPollService (upcoming publish-subscribe).

Change-Id: Ice373d3dee63c395490d2707473ccf20a022e5cf",0,0,0,0,0,0,0,-1,0
6363,I3c527a493db4659e95289ff3077cffb9e32336cf,https://git.eclipse.org/r/#/c/6363,1,6a552caa2f6b606be13add706ee45bf04e564ec2,673bc7dece8bb50d2cc582be1fe6cec72d218c51,1,14/06/12,15/06/12,19,Allow applications to pass ObjectInserter to Merger,"Allow applications to pass ObjectInserter to Merger

Gerrit Code Review needs to control which inserter is used by a
Merger. Allow the application to set the inserter before calling
merge, giving callers more direct control over how objects will
be created.

Change-Id: I3c527a493db4659e95289ff3077cffb9e32336cf",1,0,0,0,0,0,1,0,0
6364,I7b2613d09e73f94e675bad33afbb693f6a7f3df6,https://git.eclipse.org/r/#/c/6364,1,673bc7dece8bb50d2cc582be1fe6cec72d218c51,b08b324f72e5d3976a8ff061a5c5a39204cf8ba5,0,14/06/12,15/06/12,54,Define ObjectInserter.Filter to wrap another ObjectInserter,"Define ObjectInserter.Filter to wrap another ObjectInserter

Filter supports wrapping another ObjectInserter. By default all
methods are delegated to the wrapped inserter. Implementors may
override methods selectively for altered behavior.

The instance that is wrapped may be determined dynamically by code,
supporting lazy allocation of the delegate, or other patterns like
object pooling.

Change-Id: I7b2613d09e73f94e675bad33afbb693f6a7f3df6",1,0,0,0,0,0,1,NA,NA
6366,I6bedc2db78bcd577aef2cfe6715bb981a26dcfd7,https://git.eclipse.org/r/#/c/6366,2,c4cafbf1af65e81361ecf58799e63dea846d2451,d94f0e50320e2ed74f0c84617f1388edb167d08f,1,14/06/12,15/06/12,41,Add a release() method to SubmoduleWalk,"Add a release() method to SubmoduleWalk

We need a way to release the underlying TreeWalk. Also, use this
method to release walks from the static factory methods on error or
when submodules are not found.

Change-Id: I6bedc2db78bcd577aef2cfe6715bb981a26dcfd7",0,0,0,0,0,1,1,0,0
6367,I71b7ed3ba16c80b0adb8c5fd85b5c37fd4aef8eb,https://git.eclipse.org/r/#/c/6367,5,dc0927c6c5da8735bed5bfc7296c79ba2ec4bc50,4b4d733f3a70ae47531e9d2951b19d8793a57939,1,14/06/12,15/06/12,295,Add a method to set the .gitmodules config on a SubmoduleWalk,"Add a method to set the .gitmodules config on a SubmoduleWalk

It is not always appropriate to use the .gitmodules file from the
working tree, for example if reading the modules at a specific commit.
And sometimes it is impossible, as in a bare repository.

Change-Id: I71b7ed3ba16c80b0adb8c5fd85b5c37fd4aef8eb",0,1,0,0,0,1,1,0,0
6368,I78996bd06ef9028c8aa2e4e192ff647c43da847d,https://git.eclipse.org/r/#/c/6368,1,36e7d681199513b7ae496b4044d88a29b4ae1944,165873f6da46ecf14b7d5d67449e36470aeb07f0,1,15/06/12,15/06/12,8,Use only a single ObjectInserter in ResolveMerger,"Use only a single ObjectInserter in ResolveMerger

The base class supplies an ObjectInserter to its implementations
by way of the getObjectInserter method. Tracking a second inserter
instance doesn't match with the expected behavior.

Change-Id: I78996bd06ef9028c8aa2e4e192ff647c43da847d",1,0,0,0,0,0,1,0,0
6369,I415894418f6fbe922c61294b21e15eee64e8a806,https://git.eclipse.org/r/#/c/6369,1,ffe7e5c34885a7801cf6c75fb9b8313021a1ab63,728d1cf97d4b68cd166eb31f120407e42ddabb42,1,15/06/12,15/06/12,3,Remove unused import of ObjectInserter in ResolveMerger,"Remove unused import of ObjectInserter in ResolveMerger

Change-Id: I415894418f6fbe922c61294b21e15eee64e8a806",0,0,0,1,0,0,1,0,0
6377,Ic2f5ec28621219a8ff1272674e2bf2c8d36eb107,https://git.eclipse.org/r/#/c/6377,2,97d51e3b74a0eef11870ef322b7fbf5f13f37a54,6b54c0bd0039cdbcbe6c73b8e4bc57375fc96a4e,1,15/06/12,15/06/12,8,Add a CommitBuilder method to edit arbitrary DirCacheEntrys,"Add a CommitBuilder method to edit arbitrary DirCacheEntrys

Change-Id: Ic2f5ec28621219a8ff1272674e2bf2c8d36eb107",0,0,0,1,0,1,1,0,0
6440,I50cc8056aaff47fef6080970866962e3eb634e29,https://git.eclipse.org/r/#/c/6440,2,79483908f521fc2d787ec501331934d17288fbd8,214755e2632e67ff4152296a132525d88f876477,1,19/06/12,20/06/12,5,Make clear method on StoredConfig public,"Make clear method on StoredConfig public

EGit needs this to be able to revert unsaved changes.

Change-Id: I50cc8056aaff47fef6080970866962e3eb634e29",0,0,0,0,0,0,0,0,0
6441,I4f16916c62ed8ea434013925f49fb03fe57b7d7e,https://git.eclipse.org/r/#/c/6441,3,fa1d152a3c3003017c9f149e360b9952403d4d20,8f49e2e41cff2eb8e3fd74426c27f5a73214b212,1,19/06/12,13/07/12,10,Get rid of warning about possible NullPointerException,"Get rid of warning about possible NullPointerException

Do this by using one of the two references that are dependent
of checkReferencedIsReachable.

Change-Id: I4f16916c62ed8ea434013925f49fb03fe57b7d7e",0,0,0,0,0,0,0,0,0
6460,I825abd2a029d372060103655eabf488a0547c1e8,https://git.eclipse.org/r/#/c/6460,1,954edbdf3ce19ee3ecfd30629b53637ab3cae45d,49e85546f7898e8412c42f8c8db68a28491e7fdb,1,20/06/12,21/06/12,2,Serve 403 from RepositoryFilter on ServiceMayNotContinueException,"Serve 403 from RepositoryFilter on ServiceMayNotContinueException

This has no effect on Git clients, but for browsers, 403 Forbidden may
be more appropriate. 500 Internal Server Error implies that there is
a problem with the server, whereas ServiceMayNotContinueException is
specifically intended to cover cases where the server is functioning
correctly but has determined that the request may not proceed.

Change-Id: I825abd2a029d372060103655eabf488a0547c1e8",0,0,0,0,0,1,1,0,0
6477,Id1508c5f007a6a6680928992a1c7524c266a9ce4,https://git.eclipse.org/r/#/c/6477,1,c8676001e812e110a136a76a51647bcc77a943a5,8a2d52d464a40d60e9fc89e1a03b8233654a4bef,1,23/06/12,24/06/12,14,Add toString() to simplify debugging rebase steps,"Add toString() to simplify debugging rebase steps

Change-Id: Id1508c5f007a6a6680928992a1c7524c266a9ce4
Signed-off-by: Matthias Sohn <matthias.sohn@sap.com>",0,0,0,1,0,0,1,0,0
6502,I97dcf9a088adcbd0187fa7eec9ef34445ce3a981,https://git.eclipse.org/r/#/c/6502,4,e1d49bc907a97c8f5228cb75ae0caa03e345b2a1,9f96cf3e30dbb53819192b72c569ba9c9fec63a3,1,25/06/12,25/06/12,38,Fix SubmoduleWalk.forIndex() to prefer working tree's .gitmodules,"Fix SubmoduleWalk.forIndex() to prefer working tree's .gitmodules

This was broken in fe1f1b8f8aba60fdd1ad6f0f72e9c9180978cc60, which
preferred the index over the working tree when both were present.

Change-Id: I97dcf9a088adcbd0187fa7eec9ef34445ce3a981",0,1,0,0,0,1,1,0,0
6523,I697ebd9e1d1eed765d00aecaef955cf978cfd0b9,https://git.eclipse.org/r/#/c/6523,1,29e46df9ddd618363d564bbfb16a47b63cde0c10,4b4f2972a453decd71cd866418565a79e7e204e7,1,26/06/12,27/06/12,3,Disable PackParser EOF check if more data expected,"Disable PackParser EOF check if more data expected

The PackParser EOF check is incompatible with the expect data after
pack footer flag, so turn off the EOF check if the expecting data
flag is true.

Change-Id: I697ebd9e1d1eed765d00aecaef955cf978cfd0b9",0,0,0,0,0,0,0,0,0
6531,Ic62d6591cbd851d21dbb3e9b023d655eaecb0624,https://git.eclipse.org/r/#/c/6531,4,ba87f74200f2ac26225222c30b7a36d183aa47d3,07c606d46611c523b7bcc08fca35d588bd2361a6,1,27/06/12,11/07/12,357,Work around smart HTTP bugs in C Git,"Work around smart HTTP bugs in C Git

I have unfortunately introduced a few bugs in the native Git client
over the years. 1.7.5 is unable to send chunked requests correctly,
resulting in corrupt data at the server. Ban this client whenever
it uses chunked encoding with an error message.

Prior to some more recent versions, git push over HTTP failed to
report status information and error messages due to a race within
the client and its helper process. Check for these bad versions and
send errors as messages before the status report, enabling users
to see the failures on their terminal.

Change-Id: Ic62d6591cbd851d21dbb3e9b023d655eaecb0624",0,1,0,0,0,0,1,1,1
6532,I9477413ab3950d83b7d17e173fbc0a3e064896e3,https://git.eclipse.org/r/#/c/6532,1,5a5addecacdddffb404297d7de283235989550e3,08972014033d4aea4bb183a16f551ed8245f50d5,1,27/06/12,27/06/12,3,Make InMemoryRepository pack names globally unique,"Make InMemoryRepository pack names globally unique

It was easy to create multiple packs with exactly the same name and
same DfsRepositoryDescription in a test, which can poison the
DfsBlockCache. The javadoc for DfsObjDatabase.newPack() explicitly
says pack names should be unique within an entire DFS, so do this by
making the packId AtomicInteger static.

Arguably, test writers shouldn't be doing things like putting
'new DfsRepositoryDescription(""test"")' in a setUp() method, but that's
a natural thing to do, and we don't document this restriction
anywhere.

Change-Id: I9477413ab3950d83b7d17e173fbc0a3e064896e3",0,0,0,0,0,1,1,0,0
6535,I568dec77635013cf6bb46f652d3f2b89de041c82,https://git.eclipse.org/r/#/c/6535,2,e2ad374df2580233c48f6c0babaf3de6d4aee567,b97afd038641edfbf740414552e06a0fcc62e08e,1,28/06/12,28/06/12,11,Improve Performance of persisting an index by magnitudes,"Improve Performance of persisting an index by magnitudes

When updating smudged entries use a pathfilter to iterate only over
working tree files which have an associated smudged index entry.

Commit dac66672df0535f61a13273524d46e1e0012ca69 introduced that we
check and update smudged entries while persisting a dircache. Before
that commit adding a file to git caused  file i/o for the index file,
the object database (to store new content) and all files we wanted to
add (to read new content). After that commit we have additionally file
i/o for every file in the working tree (even ignored files).
Especially on windows iterating over the working tree can be very
time consuming. This decreased the performance of persisting a dircache
dramatically (I measured factors 4 to 10 while adding a file to linux
kernel repo). One could easily see this effect when dragging&dropping
modified files in a linux kernel repo in the egit staging view.

Change-Id: I568dec77635013cf6bb46f652d3f2b89de041c82",0,0,0,0,0,1,1,0,0
6588,I880f4d0be81c263b598ee24e8373c6f8cb781c51,https://git.eclipse.org/r/#/c/6588,1,0d72077b52bd08cfc2a12e6e9e64a0d04f9abc85,8a6d7c8dc37c27f3b76a55a18da5e0f9a9cd1d56,0,02/07/12,02/07/12,0,Merge branch 'stable-2.0',"Merge branch 'stable-2.0'

* stable-2.0:
  Improve performance of persisting an index by magnitudes

Change-Id: I880f4d0be81c263b598ee24e8373c6f8cb781c51
Signed-off-by: Matthias Sohn <matthias.sohn@sap.com>",1,0,0,0,0,0,1,NA,NA
6592,Ie3019ef613a507023958bea27b1badc3b8950279,https://git.eclipse.org/r/#/c/6592,3,e98f8eccbf05e2d69bdfd87cb42c7a65b4253028,c264194af2e9179c056ec0f56f41d039f2399b8c,1,03/07/12,05/08/12,44,Fix PlotCommit for commits with duplicate parents,"Fix PlotCommit for commits with duplicate parents

JGit allows to create commits which have duplicate parents: e.g. a
commit X has first parent Y and second parent Y. Such commits are not
handled correctly by PlotCommit leading to wrong display of the history
in EGit. In such cases there is a never ending passing line drawn beside
all commits younger than the commit with duplicate parents. This commit
fixes this by explicitly checking for duplicate parents.

In a different commit we should fix JGit not to create commits with
duplicate parents. I think native git also doesn't allow such commits,
 although history display in native git (gitk, git log --graph) is not
damaged by such commits.

Change-Id: Ie3019ef613a507023958bea27b1badc3b8950279",0,0,0,0,0,0,0,0,0
6606,I9fa9f31149b7732071b304bca232f037146de454,https://git.eclipse.org/r/#/c/6606,5,69b05ca1954d06ce31a55ca364a0477f81f6ee66,10cd8f8ebfc41b5ffb9f6b75975a54f78f275a52,1,04/07/12,13/03/15,180,CommitBuilder should check for duplicate parents,"CommitBuilder should check for duplicate parents

When setting the parents of a commit with setParentIds() or
addParentId() it should be checked that we don't have duplicate parents.
Duplicate parents should be silently skipped.

Change-Id: I9fa9f31149b7732071b304bca232f037146de454
Signed-off-by: Christian Halstrick <christian.halstrick@sap.com>",0,1,1,0,0,1,1,0,0
6646,I0944f2017483d32043d0d09409b13055b5609a4b,https://git.eclipse.org/r/#/c/6646,8,669083816c4501f00829b56977d06cd63db2b964,469853ea1a5aadb44e477202d6a04841753a570b,1,06/07/12,19/07/12,307,Teach ResolveMerger to create more correct DirCacheEntry's,"Teach ResolveMerger to create more correct DirCacheEntry's

Currently, after a merge/cherry-pick/rebase, all index entries are
smudged as the ResolveMerger never sets entry lengths and/or
modification times. This change teaches it to re-set them at least for
things it did not touch. The other entries are then repaired when the
index is persisted, or entries are checked out.

Change-Id: I0944f2017483d32043d0d09409b13055b5609a4b",0,1,1,0,0,0,1,0,0
6666,I1d45e0a5d2525fe1fdfbf08c9c5c166dd909e9fd,https://git.eclipse.org/r/#/c/6666,1,b4efa52b9edd7e78f2a7fe19332dfd28c9b572af,7fd4ad4b50b256aac24ac0681c67aafa90c38006,1,08/07/12,08/07/12,22,Create parent dir if necessary on checkout,"Create parent dir if necessary on checkout

An example where this is necessary is when a whole directory was deleted
and checkout is used to restore a file which was in that directory.

Bug: 372133
Change-Id: I1d45e0a5d2525fe1fdfbf08c9c5c166dd909e9fd
Signed-off-by: Robin Stocker <robin@nibor.org>",0,0,0,0,0,0,0,0,0
6673,I970522b549b8bb260ca6720da11f12c57ee8a492,https://git.eclipse.org/r/#/c/6673,3,7fd4ad4b50b256aac24ac0681c67aafa90c38006,40f4285b83e74aa5d4e3292441b3cf854e0d9b3e,1,09/07/12,16/07/12,19,Make ApplyCommand create missing parent directories for new files.,"Make ApplyCommand create missing parent directories for new files.

Otherwise applying will fail with a FileNotFoundException, because
File.createNewFile() fails with missing parents.

Contains change & according test.

Change-Id: I970522b549b8bb260ca6720da11f12c57ee8a492",0,0,1,0,0,0,1,0,0
6716,Icf911fe6fca131b2567514f54d66636a44561af1,https://git.eclipse.org/r/#/c/6716,8,54522fd6eb98a589fef42e5d05e2366037984344,a2e1b3d4f4d68edfb347bfe7b53327272f270264,1,11/07/12,22/01/13,289,Enable marking entries using a TreeFilter in DiffEntry,"Enable marking entries using a TreeFilter in DiffEntry

This adds a new optional argument to DiffEntry.scan, which is used to
decide whether a DiffEntry should be ""marked"". After having called scan,
the user can then call isMarked() on the entries to find out whether
they matched the passed TreeFilter.

An example use case for this is in the file diff viewer of EGit's
History view, where we'd like to highlight entries that are matching the
current filter. E.g. when the History view is filtered to a single file,
only commits that affect this file are shown. But when selecting a
commit, the file diff viewer shows all changed files in that commit.
When there are many changed files, it can be hard to find the
interesting file. With this change, we can highlight the filtered file
(or tone down the others).

See EGit change I03da4b38d1591495cb290909f0e4c6e52270e97f.

Change-Id: Icf911fe6fca131b2567514f54d66636a44561af1
Signed-off-by: Robin Stocker <robin@nibor.org>",0,1,0,0,0,0,1,1,1
6772,Ic2b4741ab33223aa7f239915d9138b254890bf7b,https://git.eclipse.org/r/#/c/6772,1,07547fc764f265a346b0a50cfa430a75c405700a,deb7c54f647cfc7e785be3caa77ee68a9096828e,0,13/07/12,16/07/12,124,Rename local variables in Repository.resolve,"Rename local variables in Repository.resolve

This is to prepare for extension. The new names better reflect
the content of the variables.

Change-Id: Ic2b4741ab33223aa7f239915d9138b254890bf7b",0,0,1,0,0,0,1,NA,NA
6774,I051a1724fa390b8212e8986ba832b1347a20371e,https://git.eclipse.org/r/#/c/6774,2,7f9ebd54f3fa186dcfac08f4ba22468dd7ecccd5,c78f8f76d944aab8b552dc7d3059abe69c4fe131,1,13/07/12,21/08/12,50,Allow a @ without branch in revision syntax,"Allow a @ without branch in revision syntax

No branch before @ is interpreted as the currently checked out branch.
For detached heads it would be HEAD, but normally it is the branch
that HEAD refers to.

Change-Id: I051a1724fa390b8212e8986ba832b1347a20371e",0,0,0,0,0,0,0,0,0
6776,Ifb815a1247ba2a3e2d9c46249c09be9d47f2b693,https://git.eclipse.org/r/#/c/6776,6,eb219a018ae0e78767263c12badf9bb8cda8d526,3c68e12cb6e9d8d392a0f07a77c6e3514cd664c6,1,13/07/12,21/08/12,183,Support parsing previous checkout in Repository.resolveExpr,"Support parsing previous checkout in Repository.resolveExpr

Previous checkouts can be specified as @{-n}, where n is an
integer speificing the n:th previous branch. The result
is the branch name, unless the checkout was a detached head,
in which case the object id is returned. Since the result
is a branch it may be followed by a references to the reflog,
such as @{-1}@{1} if necessary.

Change-Id: Ifb815a1247ba2a3e2d9c46249c09be9d47f2b693",1,1,0,0,0,0,1,0,0
6785,I98fc9720106bcd873b330090bafde276508f8a40,https://git.eclipse.org/r/#/c/6785,2,534bfc7849c954e436fda44834a2b1a6075b941d,415a32bd4af3c5bfebe450be884ac1a710dfa40c,0,15/07/12,13/09/12,6,[findBugs] Silence warning about Transport initialization,"[findBugs] Silence warning about Transport initialization

Change-Id: I98fc9720106bcd873b330090bafde276508f8a40
Signed-off-by: Robin Stocker <robin@nibor.org>",0,0,0,1,0,0,1,NA,NA
6786,I2b76bc1bc373efd44214be4598a03c62c681a200,https://git.eclipse.org/r/#/c/6786,1,47b7f642cd1e3772a917a5142461750a06ad7714,21ff01d6b613c02821dbf44d83a7e13a0674c840,1,15/07/12,26/07/12,5,[findBugs] Make ChunkKey serializable,"[findBugs] Make ChunkKey serializable

It's used in DhtMissingChunkException, which is serializable.

Change-Id: I2b76bc1bc373efd44214be4598a03c62c681a200
Signed-off-by: Robin Stocker <robin@nibor.org>",0,0,1,0,0,0,1,0,0
6878,I98df46cedb498724cf14343fbb168f24ff667929,https://git.eclipse.org/r/#/c/6878,2,69e0aafb4cd777f089ae90ba4f79d26cd2736624,2cabc78038d0ec947b7c80ae02e08eb2787b7d72,1,19/07/12,21/08/12,66,Support [<ref>]@{upstream} revision syntax,"Support [<ref>]@{upstream} revision syntax

Resolves into a ref name corresponding to the named (or current)
branch's upstream ref.

Change-Id: I98df46cedb498724cf14343fbb168f24ff667929",1,0,0,0,0,0,1,0,0
6953,I955b024995a423c32154b73f99cff606d882bbe4,https://git.eclipse.org/r/#/c/6953,1,1b28ea2505a742bafdbb93a30092843ac78eef9e,af7ec1301e4403d596be5aea0875f2109916631a,1,25/07/12,25/07/12,307,"Revert ""Teach ResolveMerger to create more correct DirCacheEntry's""","Revert ""Teach ResolveMerger to create more correct DirCacheEntry's""

This reverts commit 3ea694c2523d909190b5350e13254a62e94ec5d5

Merges with unmodified subtrees are broken with this commit present.
Back it out until a fixed version can be supplied.",0,0,0,0,0,0,0,0,0
6978,I648fda30846615b3bf688c34274c6cf4bc857832,https://git.eclipse.org/r/#/c/6978,1,ae1ddbc15dcbb0e63e9490c6e0fa779984184dbb,1dbe5a152d369f35d7b1c0cf2b585834d2693b43,1,26/07/12,26/07/12,584,Again teach ResolveMerger to create more correct DirCacheEntry's,"Again teach ResolveMerger to create more correct DirCacheEntry's

Currently, after a merge/cherry-pick/rebase, all index entries are
smudged as the ResolveMerger never sets entry lengths and/or
modification times. This change teaches it to re-set them at least for
things it did not touch. The other entries are then repaired when the
index is persisted, or entries are checked out.

The first attempt to get this in was commit
3ea694c2523d909190b5350e13254a62e94ec5d5 which has been reverted.
Since then some fixes to ResolveMerger and a few more tests have
been added which check situations where the index is not matching
HEAD before we merge.

Change-Id: I648fda30846615b3bf688c34274c6cf4bc857832
Signed-off-by: Christian Halstrick <christian.halstrick@sap.com>
Also-by: Markus Duft <markus.duft@salomon.at>",0,0,0,0,1,0,1,0,0
6979,Ic592c82d45ace9f2fa5f8d7e4bacfdce96dea969,https://git.eclipse.org/r/#/c/6979,2,1dbe5a152d369f35d7b1c0cf2b585834d2693b43,4509b6abf6d3459a6ef684b84eb07c0cbcd783d8,1,26/07/12,29/07/12,25,Expose some DFS APIs as public or protected,"Expose some DFS APIs as public or protected

Expose class DfsReader and method DfsPackFile.hasObject() as public.
Applications may want to be able to inquire about some details of
the storage of a repository. Make this possible by exposing some
simple accessor methods.

Expose method DfsObjDatabase.clearCache() as protected, allowing
implementing subclasses to dump the cache if necessary, and force
it to reload on a future request.

Change-Id: If99d22ac8c3b9b320da9ad2da9cc5ed82878c8a8

to implementing subclasses

Change-Id: Ic592c82d45ace9f2fa5f8d7e4bacfdce96dea969",0,0,1,0,0,0,1,0,0
6996,I33ba3f81b37d03cf17ca7ae25a90774a27e7e02b,https://git.eclipse.org/r/#/c/6996,1,f131bab622be462680e28a7f604a35374e105b8c,dcb7165084d83d1b69234316b9d2fdf5b5c8ff8a,1,27/07/12,29/07/12,17,Fix resolving of relative file URIs in TransportLocal,"Fix resolving of relative file URIs in TransportLocal

A configured remote url like ""../repo"" works with C Git.

In JGit, it only worked if Java's current working directory happened to
be the local repository working directory.

Change-Id: I33ba3f81b37d03cf17ca7ae25a90774a27e7e02b
Signed-off-by: Robin Stocker <robin@nibor.org>",0,0,0,0,0,0,0,0,0
7039,I7c9d7a8f3622dd4099ca311af3dd032034bf56c0,https://git.eclipse.org/r/#/c/7039,1,934284b45f2dc68c7554483f9316aeb6d351889f,e5c765043c772ad7585e30d46267cdbe2d385e0c,0,01/08/12,01/08/12,5,Update the README file to refer to the EDL rather than BSD license.,"Update the README file to refer to the EDL rather than BSD license.

The wordings of the two license are the same. This change is there
to make this file consistent with the LICENSE file.

Change-Id: I7c9d7a8f3622dd4099ca311af3dd032034bf56c0",0,0,0,0,0,0,0,NA,NA
7096,Iac259229ef919f9e92e7e51a671d877172bb88a8,https://git.eclipse.org/r/#/c/7096,5,f007e6ad27a30198f8579db6ed9acf31fab6b02e,9ee3f7036ffa9c1d5c953ba024f4d22738a7faf6,1,03/08/12,06/08/12,47,Ensure a directory exists before trying to create/merge a file into it.,"Ensure a directory exists before trying to create/merge a file into it.

Since git doesn't keep track of empty directories, they should be created
first. Test case included demonstrates that using StashApplyCommand().
Bugfix is applied to the DirCacheCheckout class, because StashApplyCommand()
uses internally to apply a stash.

Change-Id: Iac259229ef919f9e92e7e51a671d877172bb88a8
Signed-off-by: Jevgeni Zelenkov <jevgeni.zelenkov@gmail.com>",0,1,1,0,0,0,1,0,0
7115,I34e9ba4a26f7af5b88140c070f02a7990f1941af,https://git.eclipse.org/r/#/c/7115,4,0e31e65543dcf2a2a91b39bf571b740a7f77fe58,831015fdc9565abd4b568eb75a84e1be7db158bd,1,06/08/12,26/08/12,36,Refactor detection of OS X to SystemReader,"Refactor detection of OS X to SystemReader

Change-Id: I34e9ba4a26f7af5b88140c070f02a7990f1941af",0,1,1,1,0,0,1,0,0
7116,I3779b75f76d2e2061c836cbc9b4b7c2ae0cf18f4,https://git.eclipse.org/r/#/c/7116,3,4f775d71046920f5dc85639d6de5ea445d9cda7e,1db0b02f809c28df19aabacc4b94563dc4e86c84,1,06/08/12,26/08/12,26,Set core.precomposeunicode to true when creating repository on Mac,"Set core.precomposeunicode to true when creating repository on Mac

Java has no option but to use precomposed Unicode, so we should
state that when creating a new repository. Not that Java will use
precomposed unicode regardless of this setting, but this reduces
the risk of incompatibility with C Git.

Change-Id: I3779b75f76d2e2061c836cbc9b4b7c2ae0cf18f4",0,0,1,0,0,0,1,0,0
7117,Id0b8aef92f10572d4f1ec198e0281162fcd7ed4e,https://git.eclipse.org/r/#/c/7117,3,c2af0b283528696fc1d432550b0c739303557900,4023bb20e955232f08b654f50bef0765f60d0298,1,06/08/12,26/08/12,35,Refactor detection of Windows platform to SystemReader,"Refactor detection of Windows platform to SystemReader

Change-Id: Id0b8aef92f10572d4f1ec198e0281162fcd7ed4e",0,0,1,1,0,0,1,0,0
7118,I140b29519acc101da78296eef562368fc6b61135,https://git.eclipse.org/r/#/c/7118,2,3dd63a6549d0731c729aa136a67e9235e54c5985,5a0921ff038cea06f92446fba8d8cc77634264a7,1,06/08/12,13/08/12,13,Allow JGit to read C Git rebase state,"Allow JGit to read C Git rebase state

C Git prefixes the time stamp in the author script with a ""@""

Change-Id: I140b29519acc101da78296eef562368fc6b61135",0,0,1,0,0,0,1,0,0
7191,I74e932d5eacd74dbf6b0dffcfc65ba3222a8250e,https://git.eclipse.org/r/#/c/7191,4,950bea3b2682f4eeed3353ff52b1488fd8b7454f,e9e560e5f28bdc21b102841f3cf74f1620b14d67,1,10/08/12,19/08/12,85,Teach BranchTrackingStatus to handle tracking of local branches,"Teach BranchTrackingStatus to handle tracking of local branches

EGit wasn't able to decorate local branches tracking another local
branch with number of commits the checked out local branch differs from
the other local branch it's tracking.

Bug: 376970 
Change-Id: I74e932d5eacd74dbf6b0dffcfc65ba3222a8250e
Signed-off-by: Matthias Sohn <matthias.sohn@sap.com>",0,1,1,0,0,0,1,0,0
7194,I547e89b11eaa291f1e512a209ac49eaa15273b42,https://git.eclipse.org/r/#/c/7194,2,8c4bc43e5eab4333104da61ec64fab22df5c0a61,9bf5e742a0d617395253d31ead85e79442191a05,0,11/08/12,27/08/12,24,Update maven plugin versions,"Update maven plugin versions

Change-Id: I547e89b11eaa291f1e512a209ac49eaa15273b42
Signed-off-by: Matthias Sohn <matthias.sohn@sap.com>",1,0,1,1,0,0,1,NA,NA
7195,I20b1dd7d45eb7bb2644865f019ab726354c840c7,https://git.eclipse.org/r/#/c/7195,2,6c13769bd012c2efee983fa198007e85ce17057a,8ba7eb1c3a7300ea445a7c67c56036610249792b,0,11/08/12,27/08/12,2,Update last jgit release version used in clirr API checks,"Update last jgit release version used in clirr API checks

Change-Id: I20b1dd7d45eb7bb2644865f019ab726354c840c7
Signed-off-by: Matthias Sohn <matthias.sohn@sap.com>",1,0,1,1,0,0,1,NA,NA
7200,Id3ab5f56f88d7e9636c71b30258c268a75fc422e,https://git.eclipse.org/r/#/c/7200,2,1ef11498bfbd7369fcbd816be013cbfeed077922,6a9f7592c1d5c32ab26886c8e1efe4034129ed15,1,13/08/12,03/09/12,65,Add tests for more coverage of CheckoutCommand,"Add tests for more coverage of CheckoutCommand

Change-Id: Id3ab5f56f88d7e9636c71b30258c268a75fc422e
Signed-off-by: Robin Stocker <robin@nibor.org>",0,0,0,1,0,0,1,0,0
7211,I403de522f4b0dd2667d54f6faed621f392c07786,https://git.eclipse.org/r/#/c/7211,2,05c6a26a5abed943d0fad9fb4870a8b5fd2d9cf0,f7ef9f16480edfef7f513c4f3607ecd059b881ce,1,13/08/12,15/08/12,39,Do not delta compress objects that have already tried to compress.,"Do not delta compress objects that have already tried to compress.

If an object is in a pack file already, delta compression will not
attempt to re-compress it. This assumes that the previous
packing already performed the optimal compression attempt, however,
the subclasses of StoredObjectRepresentation may use other heuristics
to determine if the stored format is optimal.

Change-Id: I403de522f4b0dd2667d54f6faed621f392c07786",0,0,0,0,0,0,0,0,0
7213,Ie949f321147ad870f1c3f23b552343bbbda32152,https://git.eclipse.org/r/#/c/7213,1,f7ef9f16480edfef7f513c4f3607ecd059b881ce,367f3ed041b4b2625ac74dc2b12e0475eabe30a6,1,13/08/12,15/08/12,35,Implement wasDeltaAttempted() in DfsObjectRepresentation.,"Implement wasDeltaAttempted() in DfsObjectRepresentation.

In DFS, everything is stored in a pack but only objects in a pack with
source GC or UNREACHABLE_GARBAGE have had delta compression attempted.
Expose the PackSource setter and getter on DfsPackDescription in order
to implement wasDeltaAttempted.

Change-Id: Ie949f321147ad870f1c3f23b552343bbbda32152",0,0,0,0,0,0,0,0,0
7222,I1333a8dd170bb0077f491962013485efb6f2a926,https://git.eclipse.org/r/#/c/7222,3,b3241e0b93b5dc8328874c4f51439e2b0f17839e,f48e1f0223db2035f11ce83f2b1571934a4b358b,1,14/08/12,17/08/12,135,"Improve ours/theirs conflict markers for rebase, cherry-pick","Improve ours/theirs conflict markers for rebase, cherry-pick

On conflicts in rebase or cherry-pick, the conflict markers were like
this:

    <<<<<<< OURS
    a
    =======
    b
    >>>>>>> THEIRS

This is technically correct, but it could be better.

It's especially confusing during a rebase, where the meaning of
OURS/THEIRS is not obvious. The intuition is that ""ours"" is the commits
that ""I"" did before the rebase, but it's the other way around because of
the way rebase works. See various bug reports and stackoverflow
discussions.

With this change, in the case of a cherry-pick while on master, the
markers will be like this:

    <<<<<<< master
    a
    =======
    b
    >>>>>>> bad1dea Message of the commit I'm cherry-picking

In the case of a ""git rebase master"":

    <<<<<<< Upstream, based on master
    a
    =======
    b
    >>>>>>> b161dea Message of a commit I'm rebasing

It's not ""master"" because that would only be correct for the first
cherry-pick during a rebase, after that, it's master + already
cherry-picked commits.

And in the case of a ""git pull --rebase"":

    <<<<<<< Upstream, based on branch 'master' of git@example.org:repo
    a
    =======
    b
    >>>>>>> b161dea Message of a commit I'm rebasing

Bug: 336819
Change-Id: I1333a8dd170bb0077f491962013485efb6f2a926
Signed-off-by: Robin Stocker <robin@nibor.org>",0,0,1,0,0,0,1,0,0
7230,I829bb135b2347f79aa6d8979a0934042e40d212f,https://git.eclipse.org/r/#/c/7230,2,c86a597aea7d50854601e82d974feade1247e536,f32f27a7802377954676decf672bb270c7f738df,1,15/08/12,17/09/12,2,Suppress two resource warnings,"Suppress two resource warnings

Change-Id: I829bb135b2347f79aa6d8979a0934042e40d212f",0,0,0,1,0,0,1,0,0
7231,Iff768422cba140a5d6a776e2c627b852f079c1da,https://git.eclipse.org/r/#/c/7231,4,514641571971efb6ab09b604ad74d98c8b936dc3,dcb0bfdb81fc27c017ee11b5ab152b957cdfe4c7,1,15/08/12,15/08/12,39,Fix idOffset when the working tree iterator matches a dircache entry,"Fix idOffset when the working tree iterator matches a dircache entry

idOffset is not zero when idBuffer comes from blob in the dircache

Change-Id: Iff768422cba140a5d6a776e2c627b852f079c1da",0,1,0,0,0,0,1,0,0
7238,I3d79db2d2ba4961835fe664ae6178e0bfc97b910,https://git.eclipse.org/r/#/c/7238,4,dbd0700622925d1ca75facc1fca69ecb76dc33e1,1b7ecfa7bd550b69b5f8252fa67dfb37b38866bf,1,15/08/12,09/10/12,10,Make BlameGenerator comments more clear,"Make BlameGenerator comments more clear

The file location of the constructor for BlameGenerator
did not specify where the path should be relative from.

Change-Id: I3d79db2d2ba4961835fe664ae6178e0bfc97b910",0,1,0,0,0,0,1,0,0
7259,I5beb781f12172a68f98c67d4c8029eb51ceae62d,https://git.eclipse.org/r/#/c/7259,2,617e184f877142f3e4b994f6d23e31ec5fbda39f,66b8db95fc5a650fd3c480f0af2c54bc6fd2a761,1,16/08/12,03/09/12,77,DirCacheCheckout: Fix handling of files removed in index,"DirCacheCheckout: Fix handling of files removed in index

When a file is marked as removed in the index and neither contents nor
mode differ between ""head"" and ""merge"", the index should be kept. If
they differ, a checkout conflict should occur. This is described in
Git's git-read-tree.txt.

JGit used to replace the index state with ""merge"" in both of the above
cases.

A confusing effect of this was that when one removed a file and then did
a rebase, the file silently reappeared again.

The changes to dir/file conflict handling are a consequence of this
change, as the index handling change made tests in DirCacheCheckoutTest
break. I compared these cases to C Git and the new behavior there also
matches what C Git does.

Bug: 387390
Change-Id: I5beb781f12172a68f98c67d4c8029eb51ceae62d
Signed-off-by: Robin Stocker <robin@nibor.org>",0,0,0,0,0,0,0,0,0
7268,Ic26a329fb1624a5b2b2494c78bac4bd76817c100,https://git.eclipse.org/r/#/c/7268,3,2bd549ff0303695e75e95a16afe483e181b56259,2fb5e58884783070abf5228de2ff64a47b4165ae,1,17/08/12,03/09/12,35,Support branches with name 'config',"Support branches with name 'config'

JGit was not able to lookup refs which had the name of files which exist
in the .git folder. When JGit was looking up a ref named X it has a
fixed set of directories where it searched for files named X
(ignore packed refs for now). First directory to search for is .git. In
case of the ref named 'config' it searched there for this file, found it
(it's the .git/config file with the repo configuration in it), parsed
it, found it is an invalid ref and stopped searching. It never looked
for a file .git/refs/heads/config.

I changed JGit in a way that when it finds a file which corresponds to a
ref name and if this file doesn't contain a valid ref then it will
continue searching in the remaining folders for the right file. If no
further valid file is found then the originally IOException is thrown.

Change-Id: Ic26a329fb1624a5b2b2494c78bac4bd76817c100",0,0,0,0,0,0,0,0,0
7275,I80d96e453e7f780dd464a89778de124cf35384e1,https://git.eclipse.org/r/#/c/7275,4,c17cffe373bb22f701b9354b81727f720afed333,e18008a3b51d5dc1503cb8c0789b5674887f1c3f,1,17/08/12,01/09/12,273,Create an input stream that transforms LF to CRLF,"Create an input stream that transforms LF to CRLF

The transformation is the same as AutoCRLFOutputStream does, but
the direction is reversed. The tests are resued, but the implementation
derives somewhat from the EolCanonicalizingInputStream.

This stream will be used to compare blobs with LF line endings with
worktree data that has CRLF line endings.

Bug: 387501
Change-Id: I80d96e453e7f780dd464a89778de124cf35384e1",0,1,0,0,0,0,1,1,1
7283,Ia8d32f27426d2bcc12e7dc9cc4524c59f4fe4df9,https://git.eclipse.org/r/#/c/7283,2,8622e3508984279cc4cef57f976d628f9df2b2f3,1a413cb9002ab6bb6efb2b50afe943e116ac5db5,1,18/08/12,05/09/12,31637,Delete storage.dht package,"Delete storage.dht package

This experiment proved to be not very useful. I had originally
planned to use this on top of Google Bigtable, Apache HBase or
Apache Cassandra. Unfortunately the schema is very complex and
does not perform well. The storage.dfs package has much better
performance and has been in production at Google for many months
now, proving it is a viable storage backend for Git.

As there are no users of the storage.dht schema, either at Google or
any other company, nor any valid open source implementations of the
storage system, drop the entire package and API from the JGit project.
There is no point in trying to maintain code that is simply not used.

Change-Id: Ia8d32f27426d2bcc12e7dc9cc4524c59f4fe4df9",0,0,0,0,1,0,1,-74,0
7284,Ib1861c48bb74836731e7b7d57b635dd654b0dc66,https://git.eclipse.org/r/#/c/7284,2,d28df35ee63498250cc08aaf8d89e2a76d69620b,6c0c75574cf3be4b72c3ea596488cb5ad45ab072,1,18/08/12,05/09/12,57,Delete checkObjectCollisions from PackParser,"Delete checkObjectCollisions from PackParser

This flag was added to provide an unsafe operation on the local
repository because the storage.dht code was too damn slow to provide
proper safe Git behavior all of the time. Now that stoarge.dht has
been removed from the repository, also delete this unsafe flag to
prevent applications from misusing the JGit library and permitting
users to potentially damage their local repository with bad data
received from an untrusted peer.

Change-Id: Ib1861c48bb74836731e7b7d57b635dd654b0dc66",0,0,0,0,0,0,0,0,0
7285,I874179105c9c37703307facbbf99387c52bf772c,https://git.eclipse.org/r/#/c/7285,2,de0f9d9785040948722745899d29b3865939429e,34c43b724332ac3a6956fc8efdf149e61713680f,1,18/08/12,05/09/12,55,Mark fields of BaseReceivePack private,"Mark fields of BaseReceivePack private

None of these should have been exposed to base classes. The majority
of them are private implementation details that are not required by a
subclass in order to interact with the base protocol definition. The
few that are needed should be visible as accessor methods, so the
internals can be modified without breaking the public JGit API.

Change-Id: I874179105c9c37703307facbbf99387c52bf772c",0,0,0,0,0,0,0,0,0
7294,I0a756943d95ee20f189c154b27cd2972a116f550,https://git.eclipse.org/r/#/c/7294,3,3f12e29f13bd52e67b1dc06811e805bc0dfc7748,193ee96dbf87db70c69928b61779063d71a4b450,1,19/08/12,27/12/12,58,Make jgit diff obey core.autocrlf,"Make jgit diff obey core.autocrlf

Change-Id: I0a756943d95ee20f189c154b27cd2972a116f550",0,0,1,1,0,0,1,0,0
7327,I1d1ed122c714f39ca7fb557224756205274804eb,https://git.eclipse.org/r/#/c/7327,1,4c3974e625f7fe146063a3f591edf23a598989d9,3e67e24416876897ca8fdc35f07d16946b0be158,1,21/08/12,21/08/12,2,Skip a test that cannot be verified on Windows,"Skip a test that cannot be verified on Windows

Change-Id: I1d1ed122c714f39ca7fb557224756205274804eb",0,0,0,1,0,0,1,0,0
7328,I4f73487b720ea1479e95108344f1dc3711106408,https://git.eclipse.org/r/#/c/7328,1,3e67e24416876897ca8fdc35f07d16946b0be158,c58ac61e57ba36933a7355dd70bbf6d0e8325823,0,21/08/12,21/08/12,2,"The Git API's only likes /, not \ in paths","The Git API's only likes /, not \ in paths

Therefore this test fails on Windows

Change-Id: I4f73487b720ea1479e95108344f1dc3711106408",0,0,0,0,0,0,0,NA,NA
7347,If9200ae4a7f582a5562aecf323ff0430ba154583,https://git.eclipse.org/r/#/c/7347,3,917d764c552f0348a20afb8aa2aaaca64423bf02,dc1af873eb5a3acb43ad22367ab6362b770d0d61,1,22/08/12,05/09/12,2,Fix NPE when notes are present,"Fix NPE when notes are present

Change-Id: If9200ae4a7f582a5562aecf323ff0430ba154583",0,0,0,1,0,0,1,0,0
7390,Iccb66dadb60da13104e73140e53d5e2de068369c,https://git.eclipse.org/r/#/c/7390,3,28d51501d2f8afaf7371e6987884134eb8d1a0ed,fa9c17fe987fa873527814c56a39aed66b13588b,1,24/08/12,30/08/12,470,Implement a parser for dates,"Implement a parser for dates

In order to parse user specified strings containing date and time info
a thread-safe parser is implemented. This is needed for example to
interpret configuration parameters (e.g. gc.pruneexpire where need to
parse strings like ""2 weeks ago""). The parser is thread-safe by caching
SimpleDateFormat instances in a ThreadLocal cache.

Native git has a parser called approxidate which is able to interpret a
huge number of formats (""1 year ago"", ""tea time"", ...). Ideally JGit
should be able to parse the same strings as native git but for now this
parser understands the following subset:

""now""
""yesterday""
""(x) years|months|weeks|days|hours|minutes|seconds ago""
""yyyy-MM-dd HH:mm:ss Z"" (ISO)
""EEE, dd MMM yyyy HH:mm:ss Z"" (RFC)
""yyyy-MM-dd""
""yyyy.MM.dd""
""MM/dd/yyyy""
""dd.MM.yyyy""
""EEE MMM dd HH:mm:ss yyyy Z"" (DEFAULT)
""EEE MMM dd HH:mm:ss yyyy"" (LOCAL)

Change-Id: Iccb66dadb60da13104e73140e53d5e2de068369c",0,0,1,0,0,0,1,1,1
7423,I8dcdf0b83e91e6132dc490e8ec53818220773c94,https://git.eclipse.org/r/#/c/7423,1,8fff047970f7b5b92db27d5d0a500bffc0749c74,265ceb34ce6dfea0d3572eccdcb261e613dae6b0,1,25/08/12,28/08/12,49,Fix gc's usage of progress monitor,"Fix gc's usage of progress monitor

Change-Id: I8dcdf0b83e91e6132dc490e8ec53818220773c94
Signed-off-by: Matthias Sohn <matthias.sohn@sap.com>",0,0,1,1,0,0,1,0,0
7429,If864c64e8a64ced9b9b982332b412b367a6c1011,https://git.eclipse.org/r/#/c/7429,1,619b2ef6636c8474addd9773b268c1fc726a4a4f,c8576ce4553d6dd4617fa2fbb8a67fae1a053158,0,27/08/12,27/08/12,2,Fix Jetty's p2 repository URL,"Fix Jetty's p2 repository URL

The Jetty 7.x p2 repository was moved to the archive server

Change-Id: If864c64e8a64ced9b9b982332b412b367a6c1011
Signed-off-by: Matthias Sohn <matthias.sohn@sap.com>",1,0,0,0,0,0,1,NA,NA
7520,I335a4c7630a2629a86f13a2a5cd99f79a2c2afa4,https://git.eclipse.org/r/#/c/7520,2,4771523284307028b877c87e262f3ce33d81fdd3,c0e628c52f05b5b0c9e11ea09229c845b33ce623,1,30/08/12,01/09/12,45,Enhance statistics for repo by sizes and ref-counts,"Enhance statistics for repo by sizes and ref-counts

The statistics for a repo now expose how many bytes are used in the
filesystem to store all loose/packed objects. The number of packed/loose
refs are also exposed.

Change-Id: I335a4c7630a2629a86f13a2a5cd99f79a2c2afa4",0,0,0,0,0,1,1,1,1
7566,I831a55615a812734af0912a5d6bbfd1edc75308e,https://git.eclipse.org/r/#/c/7566,4,db46f422f8f298b3fc19c8abf2c7a4fbfc649c02,cae4c317f42d33a7ba3150e4b682a1b409193b4f,1,02/09/12,03/09/12,87,cleanup: Prefer assertEquals over assertTrue(....equals(...)),"cleanup: Prefer assertEquals over assertTrue(....equals(...))

That is the common style and yields better diagnostics on failure.

Change-Id: I831a55615a812734af0912a5d6bbfd1edc75308e",0,1,0,0,0,0,1,0,0
7567,I1df945011f8e5f03959b693d3564fe357e707f91,https://git.eclipse.org/r/#/c/7567,5,afc77617c7592b89b37ba489977556ea5201b29f,4cfc4241617fd089fbbb802f91ea4ba4b1fa5783,1,02/09/12,03/09/12,88,cleanup: use assertArrayEquals for assertion on arrays,"cleanup: use assertArrayEquals for assertion on arrays

Change-Id: I1df945011f8e5f03959b693d3564fe357e707f91",0,1,0,1,0,0,1,0,0
7569,I0b098eec9ecb98a9ce16b1cfb476729aaf2fb190,https://git.eclipse.org/r/#/c/7569,8,29868bb177949a59fee288a4c1424a0147e89170,31f07b885e85ed55526a601c96fc384ad37db38a,1,03/09/12,24/09/12,93,Allow @ in branch names,"Allow @ in branch names

Change-Id: I0b098eec9ecb98a9ce16b1cfb476729aaf2fb190",0,1,1,1,0,0,1,0,0
7614,I73faa55d860db64efc3412fee27386df47552a75,https://git.eclipse.org/r/#/c/7614,6,a7874c98b4b6658fc3f37eeb2da065e3be50b497,9d6c9e87f479c414d22dee5225fe88025ff03189,1,05/09/12,19/11/12,253,Add GarbageCollectCommand to porcelain API,"Add GarbageCollectCommand to porcelain API

Change-Id: I73faa55d860db64efc3412fee27386df47552a75
Signed-off-by: Matthias Sohn <matthias.sohn@sap.com>",0,1,0,1,0,0,1,0,0
7631,I44405edc4416e943b87f09a0f6ed041c6c51b046,https://git.eclipse.org/r/#/c/7631,9,63020dd6c1a663cb99a9ecd61feea95619ca1540,c89225cd93fdff540f0b2b8bcb078138a25eaaab,1,05/09/12,16/09/12,667,Check for write errors in standard out and exit with error,"Check for write errors in standard out and exit with error

The underlying problem is that System.out is a PrintWriter and
as such it does not throw exceptions on error, but rather just
sets a flag and continues.

This changes replaces the use of System.out with a PrintWriter-like
writer that does not catch error, but instead throw them to the
caller.

Bug: 366243
Change-Id: I44405edc4416e943b87f09a0f6ed041c6c51b046",0,1,1,0,1,0,1,0,0
7680,I74a22f8edc6c8e15843ad07c96a137739d9dcad1,https://git.eclipse.org/r/#/c/7680,4,b444992da00cc383d96866539c5889dd20be0c19,0168e4cbd476424394611d65fc0d9fb4f2645420,1,07/09/12,10/09/12,8,"While this does not address setting negative numbers, it does address an inconsistency where getting the timeout returns -1 (the default) and then setting with a -1 which throws an exception. https://bugs.eclipse.org/bugs/show_bug.cgi?id=389003","While this does not address setting negative numbers, it does address an inconsistency where getting the
timeout returns -1 (the default) and then setting with a -1 which throws an exception.
https://bugs.eclipse.org/bugs/show_bug.cgi?id=389003

Change-Id: I74a22f8edc6c8e15843ad07c96a137739d9dcad1",0,1,1,1,0,0,1,0,0
7687,Ic68b5295ff814401890f0592ae95851554706ca6,https://git.eclipse.org/r/#/c/7687,3,d36a354e56a3e6c30658fa3559c25d73e8c5569d,0b260558a0aaeeffd6a04544fb53c4f7435bd903,1,08/09/12,14/09/12,5,Ignore non-commit refs when examining reacability,"Ignore non-commit refs when examining reacability

This methods is for finding branches only.

Change-Id: Ic68b5295ff814401890f0592ae95851554706ca6",0,0,1,0,0,0,1,0,0
7692,I0c5e1caa58a22684cdbd9a02e9ec38e97d5adb1a,https://git.eclipse.org/r/#/c/7692,1,8a703bfb79f8858031f2d9c2513360336e408517,f250d406e93ae88dab2b2fd780541c2298043e2a,0,08/09/12,10/09/12,36,README: Convert to Markdown and rename to README.md,"README: Convert to Markdown and rename to README.md

This makes it display nicely on the GitHub mirror repository. And it is
still very pleasant to read in plain text.

Change-Id: I0c5e1caa58a22684cdbd9a02e9ec38e97d5adb1a
Signed-off-by: Robin Stocker <robin@nibor.org>",0,0,0,0,0,0,0,NA,NA
7709,I240d21b6478e15b05e679b8d976af171d81a524e,https://git.eclipse.org/r/#/c/7709,1,e15a7f77760c1c37cc6e9429b0392de051f9d2a3,8a1a83e85484f9d0b5f12fdb960c89c7e2063dae,0,11/09/12,11/09/12,7,Remove protobuf from top-level pom.xml,"Remove protobuf from top-level pom.xml

This dependency is unused, and does not need to be
version-managed in the top-level pom.xml anymore.

Change-Id: I240d21b6478e15b05e679b8d976af171d81a524e",0,0,0,0,0,0,0,NA,NA
7723,I9a58dfc7716b28a21f5c04cf3a865091ae8dfe7e,https://git.eclipse.org/r/#/c/7723,2,1097dc89129266975e987fb6cc63271876b1d788,823b93077a3e5586d1157e61b4f1993e2b6ba302,1,12/09/12,12/09/12,13,Fix ResolveMerger issue with submodule conflict,"Fix ResolveMerger issue with submodule conflict

ResolveMerger throws a MissingObjectException when it encounters
a submodule conflict while merging. The reason is that it treats
the submodule link as a blob and tries to read its contents.

We solve the issue by detecting before content merge whether the
path to be merged is a submodule link, and skip the content
merge if it is.

Bug: 389238
Change-Id: I9a58dfc7716b28a21f5c04cf3a865091ae8dfe7e
Signed-off-by: Tommi Siivola <tommi.siivola@eficode.com>",0,0,0,0,0,0,0,0,0
7735,Ic580081ece57c8c2df29b652897b425ecb34e11f,https://git.eclipse.org/r/#/c/7735,3,823b93077a3e5586d1157e61b4f1993e2b6ba302,7b645b7e9e360f04742a813ed4628fc7a2f2263b,1,12/09/12,18/09/12,28,Add tests for invalid values in resolve() with ~ and ^,"Add tests for invalid values in resolve() with ~ and ^

resolve(""foo~X"") where X is greater than the distance from foo to the
root should return null, but 2a2362fb introduced a bug causing it to
either return resolve(""foo"") or NPE. Add a test for the correct
behavior.

Also add an analogous test for foo^X where X is greater than the
number of parents (which was not broken by that commit).

Change-Id: Ic580081ece57c8c2df29b652897b425ecb34e11f",0,0,1,0,0,1,1,0,0
7762,I888c7e80503b869d65a9617e6a07e01d1ff5f197,https://git.eclipse.org/r/#/c/7762,2,83558df989c3b5ef32588c5e6ea5e8594abf03e8,811eb44a484b2214d8134b0c158caf4dbbe0f7d4,1,14/09/12,17/09/12,100,Add tests for output result of merging -- org.eclipse.jgit.pgm.Merge,"Add tests for output result of merging -- org.eclipse.jgit.pgm.Merge

Change-Id: I888c7e80503b869d65a9617e6a07e01d1ff5f197",0,0,1,1,0,0,1,0,0
7769,Idecd8018641454e10127d82ea3ddda3f671489ef,https://git.eclipse.org/r/#/c/7769,2,676c00e7cc520ec4464d1a2acc45db7e0f1c9353,6a47ca7162d6bc8f7831dd59decf059572e10aef,1,14/09/12,16/09/12,129,Consistently use assertTrue/False instead of equals,"Consistently use assertTrue/False instead of equals

This include replacing assertTrue(!..) with assertFalse()

Change-Id: Idecd8018641454e10127d82ea3ddda3f671489ef",0,0,0,0,0,0,0,0,0
7770,I8449695ecc94a423369a7644a6ec93cf0cacef5d,https://git.eclipse.org/r/#/c/7770,3,6a47ca7162d6bc8f7831dd59decf059572e10aef,3e97548d471a760096103267d7e6a042cde4513c,1,14/09/12,16/09/12,27,Use assertEquals instead of == for literal primitives,"Use assertEquals instead of == for literal primitives

Change-Id: I8449695ecc94a423369a7644a6ec93cf0cacef5d",0,0,0,1,0,0,1,0,0
7771,I9099bd8efbc8c133479344d51ce7dabed8958a2b,https://git.eclipse.org/r/#/c/7771,5,f9f400d7f2a27f3cc47e4bbbd8a12b912b071d36,5f86dc3f63b882dc607b3c806bcd844121d010bf,1,14/09/12,21/09/12,213,Suppress boxing warnings where we know they are ok,"Suppress boxing warnings where we know they are ok

The suppression cannot be applied per warning, but
rather per declaration, so we do suppress more warnings
than strictly wanted.

Change-Id: I9099bd8efbc8c133479344d51ce7dabed8958a2b",0,1,1,0,0,0,1,0,0
7779,Ic974e76dfd923fd6f0cb8f07d1a6fbecd9abbf31,https://git.eclipse.org/r/#/c/7779,6,ac72ba1323b4c28e9407a47ff609244ee734179b,4d6c7fdd05de335c6164a8664a4a93f27bd1a752,1,15/09/12,19/11/12,194,DRAFT: Add support for rebase interactive 'reword' command,"DRAFT: Add support for rebase interactive 'reword' command

'reword' command is used to change commit message of any commit in git
history.

Change-Id: Ic974e76dfd923fd6f0cb8f07d1a6fbecd9abbf31
Signed-off-by: Dariusz Luksza <dariusz@luksza.org>",0,1,0,0,0,0,1,1,1
7783,Id5b578f7040c6c896ab9386a6b5ed62b0f495ed5,https://git.eclipse.org/r/#/c/7783,3,c04504e90f8d723fdc8e4739667c8209fd206962,27015e562bd634ac181d0e7e4e08f4f0ca1715a7,1,16/09/12,17/09/12,465,Additional unit tests for the GC,"Additional unit tests for the GC

Change-Id: Id5b578f7040c6c896ab9386a6b5ed62b0f495ed5
Signed-off-by: Sasa Zivkov <sasa.zivkov@sap.com>
Signed-off-by: Matthias Sohn <matthias.sohn@sap.com>",0,0,0,1,0,0,1,0,0
7790,I4d883ba2e7d07f199fe57ccb3459ece00441a570,https://git.eclipse.org/r/#/c/7790,3,687d14dd52398343d663022a1f373a8d5113ddaf,ac19cf5d0e9364d4e722ff4c40f2999c7126aa23,1,17/09/12,25/10/12,71,Suppress resource warnings with Java 7,"Suppress resource warnings with Java 7

Change-Id: I4d883ba2e7d07f199fe57ccb3459ece00441a570",0,0,0,1,0,0,1,0,0
7791,Ia6683902809425fd7245e7d5d344c2ff8f317ebb,https://git.eclipse.org/r/#/c/7791,4,866ebbbabe2e1443a9a0d083199c61f11e505a0f,15c38b2ada3f346971478e1d4f0e3ec7fe897165,0,17/09/12,19/09/12,2,Use x-friends instead of x-internal to expose jgit for internal use,"Use x-friends instead of x-internal to expose jgit for internal use

Change-Id: Ia6683902809425fd7245e7d5d344c2ff8f317ebb",0,1,0,1,0,0,1,NA,NA
7793,I0ae0ca85993cafb4bc75ba80504da18544894ec3,https://git.eclipse.org/r/#/c/7793,1,edf144dbe3baca1ee5d109d1364ee2f9d052713f,064a7ae6415f9cf158981f73f71f1a8d8da5b1f7,1,17/09/12,18/09/12,49,"Support config param ""gc.pruneexpire""","Support config param ""gc.pruneexpire""

Make GC honor the config parameter gc.pruneexpire. If the parameter is
not set then the default is ""2.weeks.ago""

Change-Id: I0ae0ca85993cafb4bc75ba80504da18544894ec3",0,0,0,0,0,1,1,0,0
7794,Ib3c1aa64b65ed0e0270791a365f2fa72ab78a3f4,https://git.eclipse.org/r/#/c/7794,1,064a7ae6415f9cf158981f73f71f1a8d8da5b1f7,ac668e6bbb4098b7576da2a89e606ebd9ffa4bad,1,17/09/12,18/09/12,178,Introduce ParseExceptions for GitDateParser,"Introduce ParseExceptions for GitDateParser

Instead of just returning null when something was not parseable we
should throw a real ParseException. This allows us to distinguish
between specifications which are unparseable and those which represent
no date (e.g. ""never"")

Change-Id: Ib3c1aa64b65ed0e0270791a365f2fa72ab78a3f4",0,0,0,0,0,1,1,0,0
7795,I7744eaee9bf5026da517151c212c88325c348d6c,https://git.eclipse.org/r/#/c/7795,4,ac668e6bbb4098b7576da2a89e606ebd9ffa4bad,965b404785aa583338eb468e126797feefbdb335,1,17/09/12,18/09/12,21,"Introduce ""never"" as parseable date","Introduce ""never"" as parseable date

For configuration parameter like ""gc.pruneexpire"" we need to understand
the value ""never"". This should cause the parser to return null. All
users of the parser have to be adapted to handle null return values
correctly

Change-Id: I7744eaee9bf5026da517151c212c88325c348d6c",0,1,0,0,0,1,1,0,0
7813,I9f94bce9a25644575a068c8fa459f74e06b02030,https://git.eclipse.org/r/#/c/7813,1,fbc198b3244a9a7d07537e2306acd0514f636cac,8cd154d441e7658e00567aa12180f1cdafa12131,0,19/09/12,19/09/12,104,JGit v2.1.0.201209190230-r,"JGit v2.1.0.201209190230-r

Change-Id: I9f94bce9a25644575a068c8fa459f74e06b02030
Signed-off-by: Matthias Sohn <matthias.sohn@sap.com>",1,0,0,1,0,0,1,NA,NA
7814,I436f36a7c6dc86916eb4cde038b27f9fb183465a,https://git.eclipse.org/r/#/c/7814,1,8cd154d441e7658e00567aa12180f1cdafa12131,7b44d7d753e6f3720fd1cfec6546927b3d3a0ebe,0,19/09/12,19/09/12,104,Prepare for 2.1 maintenance changes,"Prepare for 2.1 maintenance changes

Change-Id: I436f36a7c6dc86916eb4cde038b27f9fb183465a
Signed-off-by: Matthias Sohn <matthias.sohn@sap.com>",1,0,0,1,0,0,1,NA,NA
7818,If149d7f968a3425d9425f6ba9ce135a8341776a7,https://git.eclipse.org/r/#/c/7818,1,7a9bbc18b68b9a8fcebfe3ead80bed380da1d4ed,ba1b108c698d6efd7471ff59773fd25f366209ab,0,19/09/12,19/09/12,0,Merge branch 'stable-2.1',"Merge branch 'stable-2.1'

* stable-2.1:
  Prepare for 2.1 maintenance changes
  JGit v2.1.0.201209190230-r
  Introduce ""never"" as parseable date
  Introduce ParseExceptions for GitDateParser
  Support config param ""gc.pruneexpire""

Change-Id: If149d7f968a3425d9425f6ba9ce135a8341776a7
Signed-off-by: Matthias Sohn <matthias.sohn@sap.com>",1,0,0,0,0,0,1,NA,NA
7819,I386ba70541d644e58661d26713b309371e0f9257,https://git.eclipse.org/r/#/c/7819,1,ba1b108c698d6efd7471ff59773fd25f366209ab,e8599e55839c8142f6aaa846f628ca2075ce4bf5,0,19/09/12,19/09/12,470,Prepare 2.2.0 builds,"Prepare 2.2.0 builds

Change-Id: I386ba70541d644e58661d26713b309371e0f9257
Signed-off-by: Matthias Sohn <matthias.sohn@sap.com>",1,0,0,1,0,0,1,NA,NA
7830,I1f5dc07182dbf6bba2a9f4807fdd25b475da4ead,https://git.eclipse.org/r/#/c/7830,2,e8599e55839c8142f6aaa846f628ca2075ce4bf5,05ccefa0746759188efbc6023fc933c8e0f3ee69,1,19/09/12,24/09/12,198,FileBasedConfig supports UTF-8 byte order marker,"FileBasedConfig supports UTF-8 byte order marker

Change-Id: I1f5dc07182dbf6bba2a9f4807fdd25b475da4ead",0,0,1,1,0,0,1,1,1
7846,Ia13e63ed334f594d5e1ab53a97240eb2e8f550e2,https://git.eclipse.org/r/#/c/7846,1,5ffaa2d4975210f968003e0a554300a3af8fa79f,28ab6f0dc663356d74534452c233ba7338626add,1,20/09/12,22/09/12,24,Compress large /info/refs responses on HTTP,"Compress large /info/refs responses on HTTP

Enable streaming compression for any response that is bigger than
the 32 KiB buffer used by SmartOutputStream. This is useful on the
info/refs file which can have many branches and tags listed, and
is often bigger than 32 KiB, but also compresses by at least 50%.

Disable streaming compression on large git-upload-pack responses,
as these are usually highly compressed Git pack data. Trying to
compress these with gzip will only waste CPU time and additional
transfer space with the gzip wrapper. Small git-upload-pack data
is usually text based negotiation responses and can be squeezed
smaller with a little bit of CPU usage.

Change-Id: Ia13e63ed334f594d5e1ab53a97240eb2e8f550e2",0,0,0,0,0,0,0,0,0
7847,Ic2b78ba9502e4bbdff7cc3ba1fd284cf7616412b,https://git.eclipse.org/r/#/c/7847,1,28ab6f0dc663356d74534452c233ba7338626add,490dc28d65a884beb2f06c150d7188f7d2e21163,1,20/09/12,22/09/12,2,Use '406 Not Acceptable' when info/refs is disabled,"Use '406 Not Acceptable' when info/refs is disabled

Instead of a confusing 403 Forbidden error indicating the dumb file
service is disabled on this server, use 406 Not Acceptable to mean
the client sent a request for content (the plain info/refs file)
that this server does not want to provide.

The stock C Git client will report HTTP 406 error if it predates
1.6.6 or something goes wrong with the smart request and it tried
falling back to the dumb request. This may help to debug cases where
a broken proxy server exists between the client and the server and
has mangled a prior smart info/refs response.

Change-Id: Ic2b78ba9502e4bbdff7cc3ba1fd284cf7616412b",0,0,0,0,0,0,0,0,0
7850,I2000aec89c8d6a95700380b0a32275d2d658f67e,https://git.eclipse.org/r/#/c/7850,1,2c004eb09834a203532f0c7743ab2a667ca06731,ceb509c526cab523d17b5e2c4cf0377df421f797,1,20/09/12,20/09/12,9,Fix the javadoc for GC.setExpire,"Fix the javadoc for GC.setExpire

Clarify expiration of objects with the modification time exactly at the
given time instant.

Change-Id: I2000aec89c8d6a95700380b0a32275d2d658f67e
Signed-off-by: Sasa Zivkov <sasa.zivkov@sap.com>",0,0,0,0,0,0,0,0,0
7851,Ifc3323ca55ae56dbccdbc90a282ec3cf18ad7297,https://git.eclipse.org/r/#/c/7851,1,8d09491fe68dc0095ae52bbcc442200245623e7a,f14a0974dd88ca614c61ea8df0507d6a8bb3ed01,1,20/09/12,20/09/12,18,Fixed instability in some GC tests.,"Fixed instability in some GC tests.

Some GC tests were sporadically failing. The reason was that they used
the setExpireAgeMillis method to define object expiration before
invoking the prune method. Depending on the CPU load during the test
run, the prune method may reach an object (which is considered
non-expired by the test) too late and actually prune it.

To make the test stable we now use the setExpire(Date expire) method and
define a time instant before which objects are considered to be expired.
This way the outcome of the prune method doesn't depend on the CPU load.

Change-Id: Ifc3323ca55ae56dbccdbc90a282ec3cf18ad7297
Signed-off-by: Sasa Zivkov <sasa.zivkov@sap.com>",0,0,0,0,0,0,0,0,0
7880,Ic3693f2c651827239e838bf7f37da842a7ae9707,https://git.eclipse.org/r/#/c/7880,2,a13a02471fd8a0a6981906a2934c57faecf88cfb,126a34ebf7f1bdd5e7f1639ffa0ac1ab1e9134a1,1,22/09/12,24/09/12,30,Refuse to checkout unmerged paths from index,"Refuse to checkout unmerged paths from index

Without this check, the checkout was done but the result was a ""both
deleted"" status when inspecting it with C Git.

Found this while working on bug 390147.

Change-Id: Ic3693f2c651827239e838bf7f37da842a7ae9707",0,0,0,0,0,0,0,0,0
7881,I43a44782cdb10b29f13784fa75ab37fe5d4da01b,https://git.eclipse.org/r/#/c/7881,5,635798b121351195b7f1bcc108b35130ce0d77b2,96eebc0301f79f29770b1e504d308dd2181bec8c,1,22/09/12,19/11/12,79,RFC: Add support for rebase interactive 'edit' command,"RFC: Add support for rebase interactive 'edit' command

'edit' command allows change arbitrary commit content and message of any
commit in repository history.

Change-Id: I43a44782cdb10b29f13784fa75ab37fe5d4da01b
Signed-off-by: Dariusz Luksza <dariusz@luksza.org>",0,1,0,0,0,0,1,0,0
7882,Iaed5cf60c554fc17e6c4d188caf4f0231da920d0,https://git.eclipse.org/r/#/c/7882,5,97c0676245e2c03dceebed4ae7fdb1bbc30f0a94,47e8bf74943d633b99ac1bc50dbd096195595043,1,23/09/12,16/11/12,56,DirCacheEditor: Apply PathEdit for each stage,"DirCacheEditor: Apply PathEdit for each stage

This behavior was defined in the Javadoc of PathEdit, but not actually
implemented.

It's necessary when one wants to use a PathEdit to check out a specific
stage in apply.

Bug: 390147
Change-Id: Iaed5cf60c554fc17e6c4d188caf4f0231da920d0",0,1,0,0,0,0,1,0,0
7883,I112de0d57c2ee1bd425de6cbf561a57fea7147f0,https://git.eclipse.org/r/#/c/7883,2,8e66d93b7c54a2a58680a51cab6f10c2821b33ac,4f69e54463f06ee4e00a7ed99bdcc2b03c79153a,1,23/09/12,25/09/12,40,Provide a convenient read() in RepositoryTestCase,"Provide a convenient read() in RepositoryTestCase

For reading a file by its repository-relative path, analogous to
writeTrashFile.

Change-Id: I112de0d57c2ee1bd425de6cbf561a57fea7147f0",0,0,0,0,0,0,0,0,0
7884,I99fd599b25b2ace9bdd84535a56565286a3cb7f1,https://git.eclipse.org/r/#/c/7884,5,d54f2367d41922b3fa8f4db11822ecd621102233,86027d4ea7d148bc48e4f90973af89808334908d,1,23/09/12,16/11/12,224,CheckoutCommand: Support checking out ours and theirs,"CheckoutCommand: Support checking out ours and theirs

The checkoutPaths body is split into two implementations, depending on
whether we are checking out the index or a branch. This improves
readability, as in the index case we now also need to have access to
DirCacheIterator.

Bug: 390147
Change-Id: I99fd599b25b2ace9bdd84535a56565286a3cb7f1",0,1,0,0,0,0,1,0,0
7887,I1c27fa276eb1fcf12ad19792049c35cb52518c16,https://git.eclipse.org/r/#/c/7887,1,ea118c76ed143e4d681845481ada5481f6fa9063,34fbd52dfb6baf0d9be0053e33359b8bc0fc766b,1,23/09/12,24/09/12,32,Remove uses of TextBuiltin.out in favor of outw,"Remove uses of TextBuiltin.out in favor of outw

These came from patches in review in parallel with the introduction
of the exception throwing print writer.

Change-Id: I1c27fa276eb1fcf12ad19792049c35cb52518c16",0,0,0,0,0,0,0,0,0
7888,Ic7b8494713d59574ee8f064a5c1042b48aedf012,https://git.eclipse.org/r/#/c/7888,1,34fbd52dfb6baf0d9be0053e33359b8bc0fc766b,1cb5d5ba4d4caad3758c9052d8d735fd285eb9ad,1,23/09/12,24/09/12,1,Remove unnecessary @SuppressWarnings,"Remove unnecessary @SuppressWarnings

Change-Id: Ic7b8494713d59574ee8f064a5c1042b48aedf012",0,0,0,1,0,0,1,0,0
7889,I552d4481e17a12b0bd707d5386f29026ae0856fb,https://git.eclipse.org/r/#/c/7889,1,1cb5d5ba4d4caad3758c9052d8d735fd285eb9ad,8af516d41116a13dbb751a9ff12722d401a5d842,1,23/09/12,24/09/12,1,Comment an empty block which is ok,"Comment an empty block which is ok

Change-Id: I552d4481e17a12b0bd707d5386f29026ae0856fb",0,0,0,1,0,0,1,0,0
7891,I90da5385ee47c441404728f252eb3a100c48ee1c,https://git.eclipse.org/r/#/c/7891,1,0f6799e1e5fd8cb7ded48bb7885f025c5a48d179,6ba419b251d5e4bfb8e61deb4fdc5591d7c88499,1,23/09/12,24/09/12,17,Add toString for TrackingRefUpdate,"Add toString for TrackingRefUpdate

Makes it much easier to debug the results of
OperationResult#getTrackingRefUpdates (which otherwise requires digging
into a TreeMap structure).

Change-Id: I90da5385ee47c441404728f252eb3a100c48ee1c",0,0,0,0,0,0,0,0,0
7892,I5796dc81727a8e1923189e9490a55c4af6ad053e,https://git.eclipse.org/r/#/c/7892,1,7380b3678fb11fc972d4369ee1edf5ba8eeeb779,30d11191a816c2b216e0f1b7175c3da41d1a911d,1,23/09/12,24/09/12,4,Fix typo in AnyObjectId#abbreviate,"Fix typo in AnyObjectId#abbreviate

Change-Id: I5796dc81727a8e1923189e9490a55c4af6ad053e",0,0,0,1,0,0,1,0,0
7909,I85c5b07dcdf2d80de41fe9b2354ccc888bad7f1e,https://git.eclipse.org/r/#/c/7909,6,7ee4bb9e0c1445f0d2e4470eb2c097bc56f6a751,6c4e46c72147a1489807bffbff5aac39d254d7cb,0,24/09/12,03/10/12,2,Fix unstable test,"Fix unstable test

Add more time to a timestamp to safely go beyond the granularity of
the timestamp resolution of the file system. The lowest resolution we
know of is FAT with two second resolution. Then add some to make sure we
are above the limit.

Change-Id: I85c5b07dcdf2d80de41fe9b2354ccc888bad7f1e",0,1,0,0,0,0,1,NA,NA
7910,Ibc223092eefe9f4b21374717dee5a9399bf890f9,https://git.eclipse.org/r/#/c/7910,2,058f2e3690ada55d7571879d9c88d9c4254e1dab,21fb5b27c896ddc5b844a6e22d8dbf629c84ba54,1,24/09/12,25/09/12,2,Add the intended file to avoid breakage,"Add the intended file to avoid breakage

This case breaks when the default is to disallow empty commits.

Change-Id: Ibc223092eefe9f4b21374717dee5a9399bf890f9",0,0,0,0,0,0,0,0,0
7917,I28c1435ae7482de1209aeefc755a230ef5b8c15d,https://git.eclipse.org/r/#/c/7917,1,40fc6f11ff029372abdad450d137b9f4a1544232,8fabe7723200221754ee040e9dd3398403129e56,1,25/09/12,26/09/12,4,Remove unused import introduced with 8f706db5,"Remove unused import introduced with 8f706db5

Also cleanup wildcards in import statements.

Change-Id: I28c1435ae7482de1209aeefc755a230ef5b8c15d
Signed-off-by: Matthias Sohn <matthias.sohn@sap.com>",0,0,0,0,0,0,0,0,0
7925,I07aca821010daca75a66506b9ca738bc8c262abb,https://git.eclipse.org/r/#/c/7925,2,eb97e00b4f9fe69e307a01812d1d2d31ca56f8b6,0283e25469068b9499681eadf777e9234e79c5e1,1,26/09/12,26/09/12,2,Fix compile error (method not available in 1.5),"Fix compile error (method not available in 1.5)

Change-Id: I07aca821010daca75a66506b9ca738bc8c262abb
Signed-off-by: Markus Keller <markus_keller@ch.ibm.com>",0,0,0,1,0,0,1,0,0
7935,I94fa432c219bda21c1126976bb60e5292760092e,https://git.eclipse.org/r/#/c/7935,2,bcc1789026d87fddbf4a2749a8224e755572c2c6,d2409af12f477479c1ae13d3553316d83af12c39,1,26/09/12,26/09/12,56,Change args4j minimum version to 2.0.16,"Change args4j minimum version to 2.0.16

In 07f99362575f324e466 Tomasz Zarna modified constructor calls
to args4j to use a new version that is not available in 2.0.12,
even though the commit message says the version is available.
This commit is from March 12th, 2012, but Robin Rosenberg just
merged it on September 23rd 2012.

The new API usage breaks the build unless you have P2 resolver
magically replacing 2.0.12 with 2.0.16. Which doesn't work from
Maven 2, and didn't work at least some of the time in Maven 3 on
my workstation. Its unclear how Hudson CI was able to verify this
commit when Robin rebased it prior to submit.

Change-Id: I94fa432c219bda21c1126976bb60e5292760092e",1,0,0,0,0,0,1,0,0
7938,I906360b471412688bf429ecef74fd988f47875dc,https://git.eclipse.org/r/#/c/7938,10,d2409af12f477479c1ae13d3553316d83af12c39,36e81720cea97daf68d54883fc216dc226a785f6,1,26/09/12,05/03/13,60,Break the dependency on RevObject when creating a newObjectToPack().,"Break the dependency on RevObject when creating a newObjectToPack().

Update the ObjectReuseAsIs API to support creating new
ObjectToPack with only the AnyObjectId and Git object type. This is
needed to support the future pack index bitmaps, which only contain
this information and do not want the overhead of creating a temporary
object for every ObjectId.

Change-Id: I906360b471412688bf429ecef74fd988f47875dc",0,1,0,0,0,0,1,0,0
7939,Id328724bf6b4c8366a088233098c18643edcf40f,https://git.eclipse.org/r/#/c/7939,17,51f92b2883b2941be8839b20364f303741802a2b,aaf5cad56b84089b35887a5bd010198e73b34066,1,26/09/12,05/03/13,2796,Added read/write support for pack index version E003.,"Added read/write support for pack index version E003.

Pack index version E003 extends version 2 by including compressed
bitmaps of the object graph. Furthermore, a logical API of the index
functionality is included, as it is expected to be used by the
PackWriter.

Compressed bitmaps are created using the javaewah library, which is a
word-aligned compressed variant of the Java bitset class based on
run-length encoding. The library only works with positive integer
values. Thus, the maximum number of ObjectIds in a pack file that
this index can currently support is limited to Integer.MAX_VALUE.

Every ObjectId is given an integer mapping. The integer is the
position of the ObjectId in the complete ObjectId list, sorted
by offset, for the pack file. That integer is what the bitmaps
use to reference the ObjectId. Currently, the new index format can
only be used with pack files that contain a complete closure of the
object graph e.g. the result of a garbage collection.

The index file includes four bitmaps for the Git object types i.e.
commits, trees, blobs, and tags. In addition, a collection of
bitmaps keyed by an ObjectId is also included. The bitmap for each entry
in the collection represents the full closure of ObjectIds reachable
from the keyed ObjectId (including the keyed ObjectId itself). The
bitmaps are further compressed by XORing the current bitmaps against
prior bitmaps in the index, and selecting the smallest representation.
The XOR'd bitmap and offset from the current entry to the position
of the bitmap to XOR against is the actual representation of the entry
in the index file.

Change-Id: Id328724bf6b4c8366a088233098c18643edcf40f",0,1,0,0,1,0,1,3,1
7940,Icdb0cdd66ff168917fb9ef17b96093990cc6a98d,https://git.eclipse.org/r/#/c/7940,18,4a68032f0887d99efd45f01ceb06751622025282,545baa98cee999815cfa383d260b1a0a75391fc7,1,26/09/12,05/03/13,1106,Support writing packs using bitmaps in pack index version E003.,"Support writing packs using bitmaps in pack index version E003.

Update the PackWriter to support writing out E003 indexes.
Bitmaps are selected at commits every 100 to 10,000 commits for
each unique path from the start. The most recent 20,000 commits
have a bitmap every 100 commits. From there, the distance linearly
increasing with the total number of commits in the graph. Commits
with more than 1 parent are prefered over ones with 1 or less.

Bitmaps are used to speed up the counting phase when packing, for
requests that are not shallow. The PackWriterBitmapWalker uses
a RevFilter to proactively mark commits with RevFlag.SEEN, when
they appear in a bitmap. The walker produces the full closure
of reachable ObjectIds, given the collection of starting ObjectIds.

For fetch request, two ObjectWalks are executed to compute the
ObjectIds reachable from the haves and from the wants. The
ObjectIds needed to be written are determined by taking all the
resulting wants AND NOT the haves.

For clone requests, we get cached pack support for ""free"" since
it is possible to determine if all of the ObjectIds in a pack file
are included in the resulting list of ObjectIds to write.

On my machine, the best times for clones and fetches of the linux
kernel repository (with about 2.6M objects and 300K commits) are
tabulated below:

Operation                   Index V2               Index VE003
Clone                       37530ms (524.06 MiB)     82ms (524.06 MiB)
Fetch (1 commit back)          75ms                 107ms
Fetch (10 commits back)       456ms (269.51 KiB)    341ms (265.19 KiB)
Fetch (100 commits back)      449ms (269.91 KiB)    337ms (267.28 KiB)
Fetch (1000 commits back)    2229ms ( 14.75 MiB)    189ms ( 14.42 MiB)
Fetch (10000 commits back)   2177ms ( 16.30 MiB)    254ms ( 15.88 MiB)
Fetch (100000 commits back) 14340ms (185.83 MiB)   1655ms (189.39 MiB)

Change-Id: Icdb0cdd66ff168917fb9ef17b96093990cc6a98d",0,1,0,0,1,0,1,4,1
7941,Iefa995fe927a11e4fd78afb34530995614221fc0,https://git.eclipse.org/r/#/c/7941,18,e6977bbb9aae39d962a1803cbecdd85fabfd82bd,0f812fdbf7dc2523df32d61f32ae2cfd9be59d88,1,26/09/12,05/03/13,2,Enable serving upload requests using bitmaps.,"Enable serving upload requests using bitmaps.

If the pack index has bitmaps, allow the PackWriter to use the bitmaps
for upload requests.

Change-Id: Iefa995fe927a11e4fd78afb34530995614221fc0",0,1,0,0,0,0,1,0,0
7942,I3f1421e9cd90fe93e7e2ef2b8179ae2f1ba819ed,https://git.eclipse.org/r/#/c/7942,21,0399f4e568597be28335d9dd66102e48354219c1,24e4450fa84a4b50873ece6a3fe6582cfba31b19,1,26/09/12,05/03/13,145,Enable writing pack indexes with bitmaps in the GC.,"Enable writing pack indexes with bitmaps in the GC.

Update the dfs and file GC implementations to call
PackWriter.prepareIndexBitmaps() on the packs that contain the full
closure of the object graph. Update the DfsPackDescription to include
the index version.

Change-Id: I3f1421e9cd90fe93e7e2ef2b8179ae2f1ba819ed",0,1,0,0,0,0,1,2,1
7950,I29f4d72c980008b6bebe3b009d58c915cd091b9d,https://git.eclipse.org/r/#/c/7950,2,4ee8c2f96d02b9223a5994771a3ce3c8c042c45c,89eeed00bc630cba0ebb55c6b4455da9c680e5e3,0,26/09/12,28/09/12,63,Update README,"Update README

Extend introduction, update links and remove outdated information.

Change-Id: I29f4d72c980008b6bebe3b009d58c915cd091b9d",0,0,0,0,0,0,0,NA,NA
7956,Ifd20b6f4731cfa71319145cac7b464aa53db18b8,https://git.eclipse.org/r/#/c/7956,2,c466fbf02af942f6fb776e3e73e851812a1f7c51,49bb36f90319c1e407d8bb10e05a7ed3f205a83f,1,26/09/12,07/10/12,71,Add --squash option to org.eclipse.jgit.pgm.Merge,"Add --squash option to org.eclipse.jgit.pgm.Merge

Change-Id: Ifd20b6f4731cfa71319145cac7b464aa53db18b8",0,0,0,1,0,0,1,0,0
8071,I5b386cd9c6bf0e11f270bb2b8cfaac66ce9b341b,https://git.eclipse.org/r/#/c/8071,7,425f928d53afbf7a0b5b0a90ac0dbeba73eda704,ac602ec6ab07a9555702e7ee0e8f5a61c4883c0e,0,06/10/12,25/10/12,2,Add a check in fstick that the reference file exists,"Add a check in fstick that the reference file exists

This helps avoiding some stupid thinkos.

Change-Id: I5b386cd9c6bf0e11f270bb2b8cfaac66ce9b341b",0,1,1,0,0,0,1,NA,NA
8072,Ic9f0e77c8ea3a0770d88565e94392e76853e3006,https://git.eclipse.org/r/#/c/8072,2,21723785e6b76f91f40e5705945edb7fddc102ca,1873215790519e5982d9fdfbae4021641a17041a,1,06/10/12,25/10/12,43,"Fix for Iff768422c, use offset 0 when going back to work tree iterator","Fix for Iff768422c, use offset 0 when going back to work tree iterator

In Iff768422c the offset used for the content id was fixed to use  the
offset that applied to the dircache iterator. Unfortunately the index
for the dircache content id offset stuck for entries that were not in
the index. Few caller probably cared about that, unless it actually
caused an ArrayIndexOutOfBoundsException.

Change-Id: Ic9f0e77c8ea3a0770d88565e94392e76853e3006",0,0,1,0,0,0,1,0,0
8076,I27b13510eb6756da21d0d359d76031da4a875e28,https://git.eclipse.org/r/#/c/8076,2,bd0cc78fb6248d2bb9fecbd72e8245036f7f7069,b745c56f78a87d740f4449db940257a7bdbeeb5b,1,07/10/12,09/10/12,13,CommitCommand: Don't allow amending on initial commit,"CommitCommand: Don't allow amending on initial commit

Change-Id: I27b13510eb6756da21d0d359d76031da4a875e28",0,0,0,1,0,0,1,0,0
8077,I383a817e6ed4707d637c52c007bc7b57728e6c85,https://git.eclipse.org/r/#/c/8077,2,298e4302b10a5c5de230897b24ff79f99f318043,69e2c727e6fb2bcdadbb2d9f69eaa93da4ba1b4c,1,07/10/12,09/10/12,54,CommitCommand: Use original author on amend if author is not set,"CommitCommand: Use original author on amend if author is not set

This way, callers don't have to parse author ident of HEAD themselves.

Bug: 362391
Change-Id: I383a817e6ed4707d637c52c007bc7b57728e6c85",0,0,0,0,0,0,0,0,0
8079,Id5ec7897535f6c5c5f0bd153fe0ff15c65083474,https://git.eclipse.org/r/#/c/8079,3,1af308341f920885fafdea7363e8d18d6368fe46,9771d69a7bc0c095d7b2374cdcf260e59f315911,0,08/10/12,14/10/12,4,Add a hint on the purpose of JGitInternalException to the constructor,"Add a hint on the purpose of JGitInternalException to the constructor

In code review we often see uses of JGitInternalException where a high
level GitAPIException would be more appropriate. Hopefully the word
low-level in the constructor comment will lead to fewer such cases.

Change-Id: Id5ec7897535f6c5c5f0bd153fe0ff15c65083474",0,0,1,0,0,0,1,NA,NA
8113,I6292bb7bda55c0242a448a94956f2d6a94fddbaa,https://git.eclipse.org/r/#/c/8113,26,d02271857a9580776cc4a17fd517863c118c281b,319781d94e49f75d84b94cc041ae80b7d22a537c,1,10/10/12,22/02/13,1395,Merge Recursive strategy,"Merge Recursive strategy

Implement Java version of git-core:
builtin/merge-recursive.c and
merge-recursive.c

Change-Id: I6292bb7bda55c0242a448a94956f2d6a94fddbaa",0,1,0,0,1,0,1,1,1
8191,I0ac994ae8e47789d38f7c6e6db55d482f0f1bac3,https://git.eclipse.org/r/#/c/8191,1,ee97596ac1f92f0d799127d4b6b1ae5e13454894,908bf7a697d8ac8a84843c85787940e553b9ceb5,1,13/10/12,25/10/12,89,Don't allow null name or e-mail in PersonIdent,"Don't allow null name or e-mail in PersonIdent

toExternalString, equals and hashCode don't expect them to be null, so
explicitly disallow it in the constructor.

Also fix the documentation of setAuthor and setCommitter in
CommitCommand when specifying name and email as separate arguments.

Bug: 352984
Change-Id: I0ac994ae8e47789d38f7c6e6db55d482f0f1bac3",0,0,1,0,0,0,1,0,0
8193,I7765d1a69d19968ebad603025a9c686f17633ebd,https://git.eclipse.org/r/#/c/8193,1,3bcd7b877d5fd7147f8df8927a2873dc6f8f8f01,edf2f20f85c8e3247c15e7056e137c2bdc748d7a,1,13/10/12,14/10/12,3,RevWalk: Add link to parseHeaders/parseBody in Javadoc of lookupCommit,"RevWalk: Add link to parseHeaders/parseBody in Javadoc of lookupCommit

Change-Id: I7765d1a69d19968ebad603025a9c686f17633ebd",0,0,0,1,0,0,1,0,0
8228,I04b1e8a2d3aa49c45bd7846fa87b9acfa57f8fda,https://git.eclipse.org/r/#/c/8228,1,06ac178b64dce841a23d198a760e43f8b2bcc2ae,1823191943e4b48e66405cc55acb402095053f9c,0,16/10/12,19/10/12,2,Update jgit's last release version for API change reports,"Update jgit's last release version for API change reports

Change-Id: I04b1e8a2d3aa49c45bd7846fa87b9acfa57f8fda
Signed-off-by: Matthias Sohn <matthias.sohn@sap.com>",1,0,1,1,0,0,1,NA,NA
8255,I96fc67ca8b650052de6e662449a3c5bc8bbc010b,https://git.eclipse.org/r/#/c/8255,2,92dd06b852da57017e92d228be6a92a539a773ff,a09092dcc1b18fb138729c5393333960ee5139cc,1,17/10/12,25/10/12,13,Simplify push error message when ref already exists,"Simplify push error message when ref already exists

If a client attempts to create a branch that already exists on the
remote side, tell them ""already exists"" rather than repeat lots of
information about the reference. Previously the error looked like:

  ! [remote rejected] tags/1.3.1 -> 1.3.1 (Ref Ref[refs/tags/1.3.1=e3857ee05...] already exists)

Now it will simply say:

  ! [remote rejected] tags/1.3.1 -> 1.3.1 (already exists)

Change-Id: I96fc67ca8b650052de6e662449a3c5bc8bbc010b",0,0,1,0,0,0,1,0,0
8259,I074325bf2147aeb6f738a9346a9bb8fc49968929,https://git.eclipse.org/r/#/c/8259,2,c0655a40b73a717a612c1721eaa9272516e88479,692a2e2a4464e6cb19d51773058b4be47bccf138,1,17/10/12,25/10/12,106,Extend Javadoc of CheckoutCommand and add examples,"Extend Javadoc of CheckoutCommand and add examples

Otherwise one has to look at the source to find out how to use the
command.

Change-Id: I074325bf2147aeb6f738a9346a9bb8fc49968929",0,0,1,0,0,0,1,0,0
8261,Ia02dd6d759ae066700098e22669ef925e3c813b5,https://git.eclipse.org/r/#/c/8261,1,14a7b667367349f048300d1c37df84dc55431301,b3c8044a5b620e2b67b25fc3a092ff1c3ed5b627,1,17/10/12,25/10/12,126,Fix Javadoc formatting of org.eclipse.jgit.diff package,"Fix Javadoc formatting of org.eclipse.jgit.diff package

Without explicit <p> elements, Javadoc joins all paragraph, resulting in
unreadable Javadoc output, e.g. see here:

http://download.eclipse.org/jgit/docs/jgit-2.1.0.201209190230-r/apidocs/org/eclipse/jgit/diff/MyersDiff.html

Also, <pre> is needed to preserve pre-formatted content.

The reflowing of text was automatically done on save.

Change-Id: Ia02dd6d759ae066700098e22669ef925e3c813b5",0,0,1,0,0,0,1,0,0
8297,I5f8ffe072c08c8ca2ca6be6b6afa67c8e16a63b6,https://git.eclipse.org/r/#/c/8297,2,a5aaba71c676c4f2549c3c2e9535dea67352d232,cb900915c4224d21cb9b6ce0b98df02c1f46e4df,1,18/10/12,22/10/12,61,StashCreateCommand: Abort in case of unmerged paths,"StashCreateCommand: Abort in case of unmerged paths

Bug: 391861
Change-Id: I5f8ffe072c08c8ca2ca6be6b6afa67c8e16a63b6",0,0,1,0,0,0,1,0,0
8314,Ie5c2f9d4a3b64fc43d310bec45685970cb227237,https://git.eclipse.org/r/#/c/8314,1,859f585bac26f3865af15a4467725fd39b1044f6,f9722dc70e971fa085e91fddb072dfb5a0ff15d3,0,19/10/12,19/10/12,2,Update packaging build to use Tycho 0.16,"Update packaging build to use Tycho 0.16

Change-Id: Ie5c2f9d4a3b64fc43d310bec45685970cb227237
Signed-off-by: Matthias Sohn <matthias.sohn@sap.com>",1,0,0,1,0,0,1,NA,NA
8322,I7ba3846a028a1538787a7d4fbf50f7c487cae6c7,https://git.eclipse.org/r/#/c/8322,1,f9722dc70e971fa085e91fddb072dfb5a0ff15d3,9013a9637d9595094def9d186b012c27b7a71d55,1,20/10/12,22/10/12,5,AbstractTreeIterator: Add toString with entry path,"AbstractTreeIterator: Add toString with entry path

Helps when debugging tree walking code.

Change-Id: I7ba3846a028a1538787a7d4fbf50f7c487cae6c7",0,0,0,0,0,0,0,0,0
8323,I6dc180aec7e2cbf8d1e91f50482c95bc420f79de,https://git.eclipse.org/r/#/c/8323,2,47602070fe98189aa45479161bf231f43d8f027a,24fb89977d48d30d0804383d375e19889cf596b4,1,20/10/12,15/11/12,105,CommitCommand: Ensure unmerged paths are added correctly with setOnly,"CommitCommand: Ensure unmerged paths are added correctly with setOnly

With bug 391855, PathEdit will be changed to apply an edit for each
stage. With that, CommitCommand would no longer work correctly when
committing an unmerged path.

This changes it to use a DirCacheBuilder which allows us to correctly
replace the entries for the three stages with one, which is not possible
with PathEdit.

Bug: 391859
Change-Id: I6dc180aec7e2cbf8d1e91f50482c95bc420f79de",0,0,0,0,0,0,0,0,0
8345,Ia5af1dab3fe9c7888f44eeecab1e1bcf2e8e48fe,https://git.eclipse.org/r/#/c/8345,11,91e3e935c1bb5cff0d594c7f6dbe8dd96e7aec95,7cc1044b880590affbf8075d82218a20377e96d2,1,23/10/12,21/11/12,346,RevWalk-support for shallow clones.,"RevWalk-support for shallow clones.

RevWalkUtils.initializeShallowCommits added to
support shallow cloned repositories.

Change-Id: Ia5af1dab3fe9c7888f44eeecab1e1bcf2e8e48fe",0,1,0,0,0,0,1,0,0
8354,I8ea956fcbc9526d62a2365360feea23a9280eba3,https://git.eclipse.org/r/#/c/8354,6,5e9f21966b172b0fd420527cc67bcaf0c7045e5f,b51e3c2fe5f2a890fdfe6739aba2b3e423d6db45,1,23/10/12,28/12/12,375,Complement handling of revert similar to cherry picking,"Complement handling of revert similar to cherry picking

- Recognize the revert-states, analogous to the cherry picking states
- Make reset handle a revert-in-progress
- Update REVERT_HEAD and MERGE_MSG when revert fails due to conflicts

Change-Id: I8ea956fcbc9526d62a2365360feea23a9280eba3",0,1,0,0,0,0,1,2,1
8372,Ifa0075e0a2aca7576ef268291b73fa2f4d79b591,https://git.eclipse.org/r/#/c/8372,1,6aec4e6a59ce475d1fc805774fc21a50ea84e448,777cd8785706cfb6dee3bc53439d6a5b93ece894,1,25/10/12,31/10/12,102,Refactor ResolveMergerTest to allow testing multiple strategies,"Refactor ResolveMergerTest to allow testing multiple strategies

By making use of JUnit Theories and Datapoints ResolveMergerTests is now
capable to run the tests against multiple Merge strategies.

Change-Id: Ifa0075e0a2aca7576ef268291b73fa2f4d79b591",0,0,1,0,0,1,1,0,0
8386,I6e6522289553137df1a46ceeb52f461e9d25a290,https://git.eclipse.org/r/#/c/8386,1,e67ceeb9bc2b4c241bd9006d1d47e2fc32dcc765,9b6f61e54aa45eea755801b5943d8d2a2a2ac7ed,1,28/10/12,29/10/12,234,Pull up method for creating DirCacheEntry into RepositoryTestCase,"Pull up method for creating DirCacheEntry into RepositoryTestCase

Change-Id: I6e6522289553137df1a46ceeb52f461e9d25a290",0,0,0,1,0,0,1,1,1
8387,If26d3a35abfee85424ad69de724f06a28b6e9efb,https://git.eclipse.org/r/#/c/8387,2,9b6f61e54aa45eea755801b5943d8d2a2a2ac7ed,71d1a9a65a028a5ba3ec77cc5b59e267a0f63e9a,1,28/10/12,01/11/12,69,ResetCommand: Correctly reset unmerged paths in resetIndexForPaths,"ResetCommand: Correctly reset unmerged paths in resetIndexForPaths

The previous implementation used a PathEdit, which does not reset the
stage of the entry.

Bug: 391860
Change-Id: If26d3a35abfee85424ad69de724f06a28b6e9efb",0,0,0,0,0,0,0,0,0
8388,I785deeaeb8474f8c7a7fbc9ef00d3131fac87e41,https://git.eclipse.org/r/#/c/8388,2,74bdc2dcba36ebd7a77f95bcb11426905605ce58,0d8a4aac9a6cc0b9c1b4effaea30c9a389621c7a,1,28/10/12,01/11/12,47,ResetCommand: Use DirCacheBuilder in resetIndex,"ResetCommand: Use DirCacheBuilder in resetIndex

With bug 391855, DirCacheEditor's PathEdit will be applied for each
stage. For an unmerged path, this would result in 3 equal entries for
the same path.

By using a DirCacheBuilder, the code is simpler and does not have the
above problem with unmerged paths.

Bug: 391860
Change-Id: I785deeaeb8474f8c7a7fbc9ef00d3131fac87e41",0,0,0,0,0,0,0,0,0
8394,Ib8bc1d9fd789d22fe5f10e03068a11cfdd3e46eb,https://git.eclipse.org/r/#/c/8394,3,e0009630fc91e8947f6f79a580943a9f73ae9d30,7f624e82fa896482f83db42f78c106e500cc3cd8,1,29/10/12,16/11/12,170,[WIP]Add reflog command to JGit CLI,"[WIP]Add reflog command to JGit CLI

Change-Id: Ib8bc1d9fd789d22fe5f10e03068a11cfdd3e46eb",0,0,0,1,0,0,1,0,0
8395,I373128c0ba949f9b24248874f77f3d68b50ccfd1,https://git.eclipse.org/r/#/c/8395,6,9cd62f799a34be9090052b799ec037c4f9b5e650,856e39a6163f3bf200824932f05ddea9035952dc,1,29/10/12,16/11/12,216,Add support for --no-ff while merging,"Add support for --no-ff while merging

Change-Id: I373128c0ba949f9b24248874f77f3d68b50ccfd1",0,1,0,1,0,0,1,0,0
8402,If33560ae976b46a02ff75b2e4ec05c13a8ad2d41,https://git.eclipse.org/r/#/c/8402,1,553d6e2df1dcca82e631ecad7643e40e3eda497a,74d2b09a7c51fb6329a4e7f8699a929becbff104,0,29/10/12,01/11/12,2,[blame] Don't pass null to PersonIdent constructor,"[blame] Don't pass null to PersonIdent constructor

The API was changed to not allow null values anymore with
I0ac994ae8e47789d38f7c6e6db55d482f0f1bac3, leading to an IAE.

Bug: 393054
Change-Id: If33560ae976b46a02ff75b2e4ec05c13a8ad2d41",0,0,0,0,0,0,0,NA,NA
8416,If7996deef30ae688bade8b3ad6b19547ca3d8b50,https://git.eclipse.org/r/#/c/8416,2,847398c441172cee76c110b3319b9a066e948fa6,d192dbd2cf569d326c89b23eabd2512c53a7f279,1,30/10/12,01/11/12,112,Add Javadoc description for packages,"Add Javadoc description for packages

These appear as descriptions in the index, see here (currently empty):

http://download.eclipse.org/jgit/docs/latest/apidocs/

Change-Id: If7996deef30ae688bade8b3ad6b19547ca3d8b50",0,0,0,0,0,0,0,0,0
8420,If702f2e54b17e82890f016126ee7bde4bff4af1d,https://git.eclipse.org/r/#/c/8420,3,4c3b5e2ddbdaadbe51e95e41fca92c33a852008f,9aa9e8387cad9adf41c15785fbd35039fa94b1b2,0,30/10/12,16/11/12,4,Declare all thrown exceptions,"Declare all thrown exceptions

Bug 393155
Change-Id: If702f2e54b17e82890f016126ee7bde4bff4af1d
Signed-off-by: Dani Megert <Daniel_Megert@ch.ibm.com>",0,0,0,0,0,0,0,NA,NA
8467,Ifa8d63f737458e102cb3d28579c9711d46693d17,https://git.eclipse.org/r/#/c/8467,2,349da1cab74ca364fa5a6ad3df88dd1271b2562a,248e7a378851ea28063fafb2afc49dcfcb1353e2,1,01/11/12,01/11/12,6,Add isIndexLoaded() to DfsPackFile.,"Add isIndexLoaded() to DfsPackFile.

The method reports whether the index file for the pack has been loaded
and cached in memory.

Change-Id: Ifa8d63f737458e102cb3d28579c9711d46693d17",0,0,0,0,0,0,0,0,0
8480,Ie44076ff1abf1f8954b85d8c74ac6cb41ab789cb,https://git.eclipse.org/r/#/c/8480,3,ccafc13b10e3ba179f27a9caa261a47a9cdba8d1,fc9a764cf97d037a41a991f90a335fedf1154c4b,1,01/11/12,02/11/12,32,Add ReflogCommandTest#testAmendReflog,"Add ReflogCommandTest#testAmendReflog

Add a test for reflog with an amend commit and add assertions for
branch comments

Change-Id: Ie44076ff1abf1f8954b85d8c74ac6cb41ab789cb",0,0,0,0,0,0,0,0,0
8490,Ie51098106bd5a1a32feae7d2dd068abf02b030ee,https://git.eclipse.org/r/#/c/8490,2,829a80f712bf36001e317caf5d96d909ddd06166,306f36426ad2122c907a6ddd6928c83f024300f6,1,02/11/12,02/11/12,143,Add the an event and listener for a dfs PackIndex being loaded.,"Add the an event and listener for a dfs PackIndex being loaded.

The DfsPackFile will fire any static repository listeners on the event
just before the PackIndex is loaded.

Change-Id: Ie51098106bd5a1a32feae7d2dd068abf02b030ee",0,0,0,0,0,0,0,0,0
8502,I464871723649095942dbf77da93890ac8ec39075,https://git.eclipse.org/r/#/c/8502,2,5246650152e18ce7cf60ee4058c30f91ae581684,3e679999e4e152d8a5ff6fb545ba892a62ce67cc,0,03/11/12,16/11/12,4,Import non-java.* JRE packages,"Import non-java.* JRE packages

Otherwise loading javax.net.ssl.TrustManager fails if
osgi.compatibility.bootdelegation=false which became the Equinox default
since bug 344850 was fixed.

Bug: 392056
Change-Id: I464871723649095942dbf77da93890ac8ec39075
Signed-off-by: Matthias Sohn <matthias.sohn@sap.com>",0,0,1,0,0,0,1,NA,NA
8512,I99f5467477ed53101121a5a5d8a0910c55758401,https://git.eclipse.org/r/#/c/8512,3,1dc33026834f38711279424a133b861ed41cf51c,f92978572645f8794af1bf1a84504921c44d468d,1,04/11/12,16/11/12,25,Do not fail when checking out HEAD,"Do not fail when checking out HEAD

Change-Id: I99f5467477ed53101121a5a5d8a0910c55758401",0,0,1,1,0,0,1,1,1
8598,I8168aefd344e0c4b0c68caea1a3daee66c07173b,https://git.eclipse.org/r/#/c/8598,1,43e82e50b0cde9dd98a88f633b519f8c6a6a6fd2,c4779d68911f72f187c378512068666f1df550f1,0,08/11/12,11/11/12,2,Fix redundant null check warning in Repository,"Fix redundant null check warning in Repository

rev is always null because of `if (rev != null) return ...` above.

Change-Id: I8168aefd344e0c4b0c68caea1a3daee66c07173b",0,0,1,0,0,0,1,NA,NA
8632,I4ed2f6c997587f0ea23bd26a32fb64a2d48a980e,https://git.eclipse.org/r/#/c/8632,4,c4779d68911f72f187c378512068666f1df550f1,8d6e3d2ae7d122a3aa060a91a02f61e39b1afb91,1,11/11/12,16/11/12,93,Add a test for org.eclipse.jgit.pgm.Tag,"Add a test for org.eclipse.jgit.pgm.Tag

The test checks if an error is thrown when trying to create the same tag
for the second time.

Change-Id: I4ed2f6c997587f0ea23bd26a32fb64a2d48a980e",0,1,1,0,0,0,1,0,0
8633,I3d257666c6fbed7b238c575808f73ec518e811b9,https://git.eclipse.org/r/#/c/8633,2,4ed1befb7e1f544bfdea7a62218b31758ab7b04d,3085a3b5e4e5521e60fc4bc1bd25ed02525c4864,1,11/11/12,15/11/12,12,Prefix an abnormal CLI command termination with 'fatal:',"Prefix an abnormal CLI command termination with 'fatal:'

Change-Id: I3d257666c6fbed7b238c575808f73ec518e811b9",0,0,1,1,0,0,1,0,0
8634,Ia87f28fa440cb354bf591713c8aadbe3969edbf1,https://git.eclipse.org/r/#/c/8634,1,8dd07d841e4c5839f3c1bb2e50a0f1a9b000488e,6b5637994ca2d8190b60fff5fc6f98413a4036cb,1,11/11/12,14/11/12,8,Fix formatting in org.eclipse.jgit.pgm.CLIText,"Fix formatting in org.eclipse.jgit.pgm.CLIText

Change-Id: Ia87f28fa440cb354bf591713c8aadbe3969edbf1",0,0,1,1,0,0,1,0,0
8696,I80fcf259c4fb733990bd16e52bcf94e66d820826,https://git.eclipse.org/r/#/c/8696,1,d84d091ce8b3ae6fb6db5f08890764280b179d9d,a72ffce841224b6f69bdfaf8d89b65f050848afd,1,14/11/12,14/11/12,20,"diff, log -p: do not use outs before it is initialized","diff, log -p: do not use outs before it is initialized

Since commit caa362f20df1 (Check for write errors in standard out and
exit with error, 2012-09-14), running ""jgit diff"" results in a
NullPointerException:

| $ jgit diff
| java.lang.NullPointerException
|	at java.io.BufferedOutputStream.flushBuffer(BufferedOutputStream.java:82)
|	at java.io.BufferedOutputStream.write(BufferedOutputStream.java:126)
|	at org.eclipse.jgit.diff.DiffFormatter.format(DiffFormatter.java:688)
|	at org.eclipse.jgit.diff.DiffFormatter.format(DiffFormatter.java:630)
|	at org.eclipse.jgit.diff.DiffFormatter.format(DiffFormatter.java:616)
|	at org.eclipse.jgit.diff.DiffFormatter.format(DiffFormatter.java:600)
|	at org.eclipse.jgit.pgm.Diff.run(Diff.java:211)
|	at org.eclipse.jgit.pgm.TextBuiltin.execute(TextBuiltin.java:166)
|	at org.eclipse.jgit.pgm.Main.execute(Main.java:200)
|	at org.eclipse.jgit.pgm.Main.run(Main.java:120)
|	at org.eclipse.jgit.pgm.Main.main(Main.java:94)

That patch replaced most uses of System.out with a wrapper, with
changes like the following:

	 class Diff extends TextBuiltin {
		private final DiffFormatter diffFmt = new DiffFormatter( //
	-			new BufferedOutputStream(System.out));
	+			new BufferedOutputStream(outs));

outs is not set for TextBuiltin objects until init() has been run.
Moving the initialization to after the super.init() call gets
""jgit diff"" and ""jgit log -p"" working well again.

Change-Id: I80fcf259c4fb733990bd16e52bcf94e66d820826",0,0,0,0,0,0,0,0,0
8703,I58386d63164e65d3d8d1998da3390d99bdc7381a,https://git.eclipse.org/r/#/c/8703,3,9310d8f3308e40a870b16c837ee3eda51247435f,c47deeccf95799647f0a4ce3d0d686fa50fe3720,1,14/11/12,16/11/12,1811,Harmonize the JDT settings within JGit,"Harmonize the JDT settings within JGit

Note the the settings are slightly less restrictive for test bundles.
-Also cleanup a couple of malformed javadocs
-Update compiler warnings/errors to include default values from Juno
-We now flag diagnosed null dereference as error. We didn't do that
 earlier because of some false positives.

Change-Id: I58386d63164e65d3d8d1998da3390d99bdc7381a",0,0,0,0,1,0,1,0,0
8708,I6e3edb1e650ed45428b89cf41e6151b6536bca8a,https://git.eclipse.org/r/#/c/8708,2,f347542627c688ed492a163a99ddf28b54b5a79f,e6f5ec3caf876b6b01e25e7e6d013ff01aedf01a,1,14/11/12,16/11/12,7,Make an exception for the formatting rules (turn off) for some files,"Make an exception for the formatting rules (turn off) for some files

Our rule to enforce javodocs for public members gives us a problem
because there are some patterns where javadoc make little sense so we
make the comments as small as possible, which our formatting rules do
not like, so disable it for those source files.

Change-Id: I6e3edb1e650ed45428b89cf41e6151b6536bca8a",0,0,0,0,0,0,0,0,0
8730,I458167739210214fa54c4b3d62fac5abc82f96f7,https://git.eclipse.org/r/#/c/8730,2,007266c27cb07d6fd50a06514a50fcc251abaf25,51b7f17428806ce06fc4ed29ff3ef5d5d47a1fb8,1,16/11/12,16/11/12,29,Add missing @since tags to mark API added in 2.2,"Add missing @since tags to mark API added in 2.2

Change-Id: I458167739210214fa54c4b3d62fac5abc82f96f7
Signed-off-by: Matthias Sohn <matthias.sohn@sap.com>",0,0,0,1,0,0,1,0,0
8733,Ib590f173ceff3df4b58493cecccd6b9a1b355e3d,https://git.eclipse.org/r/#/c/8733,5,c9695685bf245a942832198ff6ac8d1f02393996,f7c626ee0f0a6b571f0675c8af3827a60e21664b,1,16/11/12,17/11/12,285,"[RFC] Add ""jgit archive"" tool that writes a tree as a ZIP file","[RFC] Add ""jgit archive"" tool that writes a tree as a ZIP file

In the long run it would be nice to have a more full-functioned
TreeArchiveStream to support ""download tree as zip/tgz/txz"" links in
web frontends like Gitiles and to give VCS-agnostic code search tools
access to the tracked source code.

This patch is a proof-of-concept to show what is possible and offers
minimal functionality.  It uses java.util.zip which is not aware of
InfoZIP extensions for representing symlinks and file permissions, so
symlinks, executable files, and gitlinks are represented as plain text
files.  Making this functionality available from the library,
improving handling of special entries, and support for other file
formats like (e.g., tar) are left for later patches.

Test with ""jgit my-favorite-tree >out.zip"".

Change-Id: Ib590f173ceff3df4b58493cecccd6b9a1b355e3d",0,1,0,0,0,0,1,0,0
8746,I2fe6020a537975d0ccf414b7125d85d6cd86898c,https://git.eclipse.org/r/#/c/8746,2,b3e659fccaaa413403d35f57324ad987b249b608,c18b5abd064f984704800bc18fe4b21c7557c356,1,16/11/12,17/11/12,15,Allow commandline tests to use raw output,"Allow commandline tests to use raw output

Introduce a new CLIGitCommand.rawExecute() helper that behaves
just like execute() except that instead of processing its output
it returns it raw.

So now you can do

	final byte[] expect = { 0, 1, 2, 3 };
	final byte[] actual = CLIGitCommand.rawExecute(
			""git show HEAD:goo.raw"", db);
	assertArrayEquals(expect, actual);

to test the output from ""git show HEAD:goo.raw"" without being
distracted by encoding issues.

Noticed while writing tests for a new ""jgit archive"" command that
writes its output in ZIP format.

Change-Id: I2fe6020a537975d0ccf414b7125d85d6cd86898c",0,0,0,0,0,0,0,0,0
8753,Idcc0fbc8a8143dd665e80e4d6f4a4adaeae287db,https://git.eclipse.org/r/#/c/8753,2,3a6e4ac871ae838db4a2c7645556eb4cf27621f3,71e19b018ae9a671303690a550d4346ec8d511b5,0,18/11/12,19/11/12,3,"Add config constant for ""mergeoptions""","Add config constant for ""mergeoptions""

Bug: 336933
Change-Id: Idcc0fbc8a8143dd665e80e4d6f4a4adaeae287db",0,0,0,0,0,0,0,NA,NA
8848,Ia0d19fce3d9843d18d329d9bc5b10d62c4125db8,https://git.eclipse.org/r/#/c/8848,1,b6d5f46933c4bb1e3648e5d279c93b8f8af35c69,d69329d817acb6a8257fbe2e45c0731588e06540,0,25/11/12,25/11/12,2,Do not warn about non-translated strings in the http library,"Do not warn about non-translated strings in the http library

The strings here are for machine-to-machine communications.

Change-Id: Ia0d19fce3d9843d18d329d9bc5b10d62c4125db8",0,0,0,0,0,0,0,NA,NA
8849,I11be2e9903583d1a3dade7bf3d5eb77a30152b7c,https://git.eclipse.org/r/#/c/8849,1,d69329d817acb6a8257fbe2e45c0731588e06540,0f118adc78b9c4f0ccd41ff98816c8da77f3b591,0,25/11/12,25/11/12,2,Do not warn about non-translated strings in the iplog generator,"Do not warn about non-translated strings in the iplog generator

This module is used by very few people so translation is not a priority
and hence we need no warnings about untranslated strings.

Change-Id: I11be2e9903583d1a3dade7bf3d5eb77a30152b7c",0,0,0,0,0,0,0,NA,NA
8850,I60920ccdaf3c0139979bb4ef19eb42036bb7e07f,https://git.eclipse.org/r/#/c/8850,1,0f118adc78b9c4f0ccd41ff98816c8da77f3b591,487a0db4263d6dc539ebec16face24d51de2b39e,0,25/11/12,25/11/12,2,Do not warn about non-translated strings in the ant library,"Do not warn about non-translated strings in the ant library

Ant tasks are generally not translated, hence don't warn about
untranslated strings

Change-Id: I60920ccdaf3c0139979bb4ef19eb42036bb7e07f",0,0,0,0,0,0,0,NA,NA
8851,I22e50a77e2bf9e0b842a66bdf674e8fa1692f590,https://git.eclipse.org/r/#/c/8851,4,487a0db4263d6dc539ebec16face24d51de2b39e,da8f7c3554418495fbcbb9054898b12977491221,1,25/11/12,27/12/12,2733,Mark non-externalizable strings as such,"Mark non-externalizable strings as such

A few classes such as Constanrs are marked with @SuppressWarnings, as are
toString() methods with many liternal, but otherwise $NLS-n$ is used for
string containing text that should not be translated. A few literals may
fall into the gray zone, but mostly I've tried to only tag the obvious
ones.

Change-Id: I22e50a77e2bf9e0b842a66bdf674e8fa1692f590",1,1,0,0,1,0,1,1,1
8853,Ia81e2430dfe04c3ce9b6e2f8fb4b6c646293a174,https://git.eclipse.org/r/#/c/8853,1,5c7454489f17acd70f374d8d1cbdac10025a445b,8f83e720f82385a3f1cd8f78ba24e4871ca40951,1,25/11/12,25/11/12,1,Add a case statement for fast-forward merge,"Add a case statement for fast-forward merge

This case was ommitted. Treat the same as a non-fastworwad
merge.

Change-Id: Ia81e2430dfe04c3ce9b6e2f8fb4b6c646293a174",0,0,0,0,0,0,0,0,0
8878,I2d2c2a95d0b5cd709855d7a67cbc247478434d2f,https://git.eclipse.org/r/#/c/8878,1,8f83e720f82385a3f1cd8f78ba24e4871ca40951,e09f8ff3d2c2649a4e337ce745721cd312565eee,1,27/11/12,04/12/12,4,Commit message may not necessarily be in UTF-8,"Commit message may not necessarily be in UTF-8

Trying different encoding makes presentation nicer
to user.

Change-Id: I2d2c2a95d0b5cd709855d7a67cbc247478434d2f",0,0,0,0,0,0,0,0,0
8880,Ieae6eb941fdeaa61f2611f4cd14dd39117aa12f9,https://git.eclipse.org/r/#/c/8880,2,2ef6d84fa946f01aeb6bf4ccc2c44be6f81085a2,23340d3191f82228b4f3a46223e1a70f6886af93,1,27/11/12,27/12/12,11,Do not perform character translation on copies in patches,"Do not perform character translation on copies in patches

Unnecessary and risks damaging file

Change-Id: Ieae6eb941fdeaa61f2611f4cd14dd39117aa12f9",1,0,0,0,0,0,1,0,0
8927,I4b848b3a8c7b1a49d8b9582809375daa4aca6b50,https://git.eclipse.org/r/#/c/8927,1,32b43a7e2caaa6f4ccc0520821079e0143d4889a,257e4215b967bd475cdeb4e881a9833784a7ddd0,1,29/11/12,29/11/12,3,add: Fix bad metaVar reference in <filepattern> help,"add: Fix bad metaVar reference in <filepattern> help

Without this patch, ""jgit add --help"" throws two exceptions
(NoSuchFieldException: metavar_filepattern; MissingResourceException:
Can't find resource for bundle java.util.PropertyResourceBundle, key
metavar_filepattern) instead of printing a usage message, due to a
small typo and a missing declaration.

Change-Id: I4b848b3a8c7b1a49d8b9582809375daa4aca6b50",0,0,0,0,0,0,0,0,0
8928,I056c2556c7db98bf57e2527dec11af7c3daf472a,https://git.eclipse.org/r/#/c/8928,3,257e4215b967bd475cdeb4e881a9833784a7ddd0,8c4e2385118b6ee11f7f5244f4a9da5b496b64aa,1,29/11/12,30/11/12,116,"Add basic ""jgit add"" tests","Add basic ""jgit add"" tests

Change-Id: I056c2556c7db98bf57e2527dec11af7c3daf472a",0,0,0,1,0,0,1,0,0
8989,Ie0f9c9434ef7d73a8d73d4fe46db4147ded1d267,https://git.eclipse.org/r/#/c/8989,2,8c4e2385118b6ee11f7f5244f4a9da5b496b64aa,a102cae84f98c4cd2989cce450dfb6fc51f835c5,1,01/12/12,03/12/12,13,Enable reuse of FileTreeIterator and FileEntry for non subclasses,"Enable reuse of FileTreeIterator and FileEntry for non subclasses

For EGit change I2c41d86b8b74c2a334433de1bbfed5b36af872bf,
ContainerTreeIterator also needs to create entries for File objects in
case of filtered resources. Instead of reimplementing FileEntry there,
make the constructor public so that it can be reused.

Also allow to pass a WorkingTreeIterator instead of a FileTreeIterator
in FileTreeIterator's constructor, which is enough and allows to pass
other subclasses.

Bug: 358901
Change-Id: Ie0f9c9434ef7d73a8d73d4fe46db4147ded1d267",0,0,0,0,0,0,0,1,1
8991,I3ecc16d48e715b81320b73ffae4caf3558f965f2,https://git.eclipse.org/r/#/c/8991,5,784f7912e6b492ddc0f283f81aac47126cc485c5,8e4f9193fc0c7e15a10ee973e4c0782efc77251e,1,01/12/12,08/01/13,202,Consider overridden toString when getting and setting enums in Config,"Consider overridden toString when getting and setting enums in Config

Change-Id: I3ecc16d48e715b81320b73ffae4caf3558f965f2",0,1,0,1,0,0,1,0,0
9001,Id1ddbc9da787472f82e58834092bc073224b262b,https://git.eclipse.org/r/#/c/9001,2,2040b4b564e30750858853f333eb13183b0acd86,f6df079d2620e5f4359c42b8b5f99417b590a798,1,03/12/12,03/12/12,77,Support --cached in RmCommand,"Support --cached in RmCommand

Also extend documentation and add examples.

Bug: 395599
Change-Id: Id1ddbc9da787472f82e58834092bc073224b262b",0,0,0,0,0,0,0,0,0
9007,Id01146950bb9c18dae0169311e3cde2c3bfa675e,https://git.eclipse.org/r/#/c/9007,2,858b6f0c0a44f2ba4f5e612f51ea2150b4ac2e21,0ffcf6c17072d15c178200a677793f6b094801cc,1,03/12/12,04/12/12,26,[RFC] archive: Switch to commons-compress as ZIP archiver,"[RFC] archive: Switch to commons-compress as ZIP archiver

The Apache Commons Compress library provides a similar interface to
java.util.zip with some features not found in java.util.zip, including
support for inclusion of metadata (file mode and symlink targets) and
support for multiple file formats (zip, .tar.xz, etc).

Use it, in preparation for making use of these features.  No
functional change intended yet.

A previous version of this patch used plexus-archiver.  That is a
heavier-weight dependency and offers a less convenient interface.

Thanks to James Moger and Chris Aniszczyk for advice.

Change-Id: Id01146950bb9c18dae0169311e3cde2c3bfa675e",0,0,0,0,0,0,0,0,0
9008,I4236c102fd76f18d01b2dc926eeb9b9fa11a61b7,https://git.eclipse.org/r/#/c/9008,3,351f42a5fb37b5db999b79308ef96d3c0453545a,fee8c567807e52c3e8c7788558029d2e25372f06,1,03/12/12,06/12/12,88,[RFC] archive: Record executables and symlink bits,"[RFC] archive: Record executables and symlink bits

Setting the mode for a zip entry is now as simple as
""entry.setUnixMode(mode)"", so do that.

The test checks using the system's ""zipinfo"" command (from InfoZIP)
that the mode has been recorded correctly on systems that happen to
have a ""zipinfo"" command, using org.junit.Assume to distinguish them.

Change-Id: I4236c102fd76f18d01b2dc926eeb9b9fa11a61b7",0,0,1,0,0,0,1,0,0
9010,I2e0d79540316635bf7aa43efd225e4eb38230844,https://git.eclipse.org/r/#/c/9010,2,700af34e95b1a13f362df9a6fa5e500495f10290,d75fe9aca2bab123c1200225736b670c98f8a536,1,03/12/12,03/12/12,2,Fix DeltaWindow.clear() to release loaded buffer bytes.,"Fix DeltaWindow.clear() to release loaded buffer bytes.

It is possible for the buffer to be set but not the index. It
ocurrs when an exception occurs durring creating an index, but
after the buffer is loaded. Furthermore, the cleared DeltaWindowEntry
should have been ent and not res.

Change-Id: I2e0d79540316635bf7aa43efd225e4eb38230844",0,0,0,0,0,0,0,0,0
9016,Iee4d50aa9c6b75f9906d2c51a940ddc90a944192,https://git.eclipse.org/r/#/c/9016,2,d75fe9aca2bab123c1200225736b670c98f8a536,d9d2bb925d337981006377b49b25e04b368df0d5,1,03/12/12,05/12/12,8,[findBugs] Don't pass null for non-null parameter in RebaseCommand,"[findBugs] Don't pass null for non-null parameter in RebaseCommand

Change-Id: Iee4d50aa9c6b75f9906d2c51a940ddc90a944192",0,0,0,1,0,0,1,1,1
9017,Ieb07702da1a54b41ae764fbb425f70826907b593,https://git.eclipse.org/r/#/c/9017,3,30f33241ab9cad3402314c2f37c34e42057ea78d,9c1fe95d51a218798083883a897e24e0ba75d42f,1,03/12/12,06/12/12,85,[RFC] archive: Add --format option that switches between formats,"[RFC] archive: Add --format option that switches between formats

Prepare for .tar support.

Change-Id: Ieb07702da1a54b41ae764fbb425f70826907b593",0,0,1,0,0,0,1,0,0
9018,Ica2568f4a0e443bf4b955ef0c029bc8eec62d369,https://git.eclipse.org/r/#/c/9018,3,fb0b2becb97822dd933583577e324c81243153df,163e875e267954284d5426279b7314d02ec002f1,1,03/12/12,06/12/12,208,[RFC] archive: Add tar support,"[RFC] archive: Add tar support

Change-Id: Ica2568f4a0e443bf4b955ef0c029bc8eec62d369",0,0,1,1,0,0,1,0,0
9111,Ic8d8abe1f43c3f540d1ee7c43a8947a555307d94,https://git.eclipse.org/r/#/c/9111,1,5e6b4c0fbf8818f8c0612a4dc31a963a3c793567,d61d304b652752fe48547bd1ec60f77b622830de,1,07/12/12,09/12/12,2,Disable response compression on /git-receive-pack URLs,"Disable response compression on /git-receive-pack URLs

Compressing the response with gzip causes the stream to delay
flushing until gzip has seen the entire response message, or buffers
fill up and the compressed data has to be sent. This hides the
resolving progress monitor from the client, as well as any other
progress messages the server might be trying to send.

Disable compression in receive, matching what /git-upload-pack has.

Change-Id: Ic8d8abe1f43c3f540d1ee7c43a8947a555307d94",0,0,0,0,0,0,0,0,0
9133,Id4a72a68bdbd485619f4801683d38ad98f9841a2,https://git.eclipse.org/r/#/c/9133,2,d61d304b652752fe48547bd1ec60f77b622830de,905e39a006cc431e87473f33cc324521bef62491,1,10/12/12,08/01/13,29,Return info about config subsection when trying to get an invalid enum,"Return info about config subsection when trying to get an invalid enum

Change-Id: Id4a72a68bdbd485619f4801683d38ad98f9841a2",0,0,0,1,0,0,1,0,0
9154,I48d10b3bf81a60938da86e026053b2f3d5e24ad3,https://git.eclipse.org/r/#/c/9154,2,1d1f2a0b8e6aa44a7e35448184a1a609f97008b5,ec7af008a697cc0d3550cd13d22740fd990e8087,1,11/12/12,12/12/12,5,cleanup unused import and Java 6 syntax in Archive,"cleanup unused import and Java 6 syntax in Archive

@Override for implementation of interface is Java6. Eclipse is still
Java 5.

Change-Id: I48d10b3bf81a60938da86e026053b2f3d5e24ad3",0,0,0,0,0,0,0,0,0
9176,I7c546fa89f5e1933cff6648b2e03e07db61273e8,https://git.eclipse.org/r/#/c/9176,1,ec7af008a697cc0d3550cd13d22740fd990e8087,4e5c9d372e1ebf99d8a1a777fa5b03a4a893ed53,1,12/12/12,15/12/12,15,Fix empty control block warnings,"Fix empty control block warnings

Change-Id: I7c546fa89f5e1933cff6648b2e03e07db61273e8
Signed-off-by: Matthias Sohn <matthias.sohn@sap.com>",0,0,1,1,0,0,1,0,0
9177,Ic52527c32f8167db3c7bb7fa0297c86fee21da27,https://git.eclipse.org/r/#/c/9177,1,4e5c9d372e1ebf99d8a1a777fa5b03a4a893ed53,9c709d89c2489fed564c0ce377c092d4516c1b9b,1,12/12/12,15/12/12,6,Fix hidden field warning,"Fix hidden field warning

Change-Id: Ic52527c32f8167db3c7bb7fa0297c86fee21da27
Signed-off-by: Matthias Sohn <matthias.sohn@sap.com>",0,0,1,1,0,0,1,0,0
9228,Ia00a20f694b2e9314892df77f9b11f551bb1d34e,https://git.eclipse.org/r/#/c/9228,2,95341736cf65ec44d8cd79af7e0dd1bb31ada3af,afad338e0b110578ba1c1d98694a1c0a21f6feb0,1,13/12/12,27/03/13,4,Fixed parsing of URI with a IPv6-address as host,"Fixed parsing of URI with a IPv6-address as host

Allowed ipv6-address in a uri like http://[::1]:8080/repo.git

Change-Id: Ia00a20f694b2e9314892df77f9b11f551bb1d34e",0,0,0,0,0,0,0,0,0
9237,I60425c746cd50f1875ef8597a8bbefb598b8c982,https://git.eclipse.org/r/#/c/9237,4,411917a481d3c343a18119b2606c802efb652648,360293945256bcc34c31da297c6fbb8363b91b7d,0,13/12/12,16/12/12,490,Ensure that jgit p2 repository is self-contained,"Ensure that jgit p2 repository is self-contained

This ensures that the jgit p2 repository is self-contained and
downstream consumers don't need to find the dependencies elsewhere. We
don't add the jetty dependencies needed to install the test feature
org.eclipse.jgit.junit since this is only used by egit tests.

Change-Id: I60425c746cd50f1875ef8597a8bbefb598b8c982
Signed-off-by: Matthias Sohn <matthias.sohn@sap.com>",1,1,1,0,0,0,1,NA,NA
9252,Iaa1b4e20e623d84c2e5ac26748f42e991080dbcd,https://git.eclipse.org/r/#/c/9252,2,8cda9953b3363795aa65868b433a141d133bdf5e,f3e0d1012585431c1ae3d4feba027de2542effbe,1,14/12/12,15/12/12,151,DirCacheIterator: Fix reset() and back(),"DirCacheIterator: Fix reset() and back()

reset() was broken and probably only worked when the position was
at the beginning. More serious was that back() sometimes descended
into the tree rather than skipping backward at the same level. Sometimes
this would result in false conflicts, but one could suspect silent
errors too. back() is called by the NamingConflictTreeWalk when looking
for directory/file conflics.

Also added toString to DirCacheTree to simplify debugging.

Bug: 396127
Change-Id: Iaa1b4e20e623d84c2e5ac26748f42e991080dbcd",0,0,0,0,0,0,0,0,0
9255,Icc59b28a4066c4781ea8d6270dfe20eb63b4185e,https://git.eclipse.org/r/#/c/9255,1,59985806e5e5feafc44536b021df8278a53fc5c2,687751f869008a5348eefdb89627c5a4ca6ed20a,0,15/12/12,15/12/12,0,Merge branch 'stable-2.2',"Merge branch 'stable-2.2'

* stable-2.2:
  DirCacheIterator: Fix reset() and back()
  Cleanup unused import and Java 6 syntax in Archive

Change-Id: Icc59b28a4066c4781ea8d6270dfe20eb63b4185e",1,0,0,0,0,0,1,NA,NA
9256,Ief195fb5c55f75172f0428fdac8c8874292ae566,https://git.eclipse.org/r/#/c/9256,3,f34ac096039cfff11946ca68ef71db8e90faff51,d2f3d147006dae15093fd28eb443b41ba3289525,1,15/12/12,27/12/12,84,Add type argumente to some raw reclaration,"Add type argumente to some raw reclaration

Change-Id: Ief195fb5c55f75172f0428fdac8c8874292ae566",1,0,1,1,0,0,1,0,0
9258,I83ca25fb569c0dbc36eb374d5437fcf2b65a6f68,https://git.eclipse.org/r/#/c/9258,4,edc25cad3c62c780b8f09b6eb8da05a5704f89e0,2b249e1c79955623948dc5f302d9171d571b46b9,1,15/12/12,27/12/12,214,Declare essentially static methods as static,"Declare essentially static methods as static

Change-Id: I83ca25fb569c0dbc36eb374d5437fcf2b65a6f68",1,1,1,1,0,0,1,0,0
9260,Ia7cc8f3bb980dc03055b94748b6c7529a82ea5a5,https://git.eclipse.org/r/#/c/9260,4,3bd6c31887fe359d11c4b97abad5b3519e909b16,c06a9184c4174b3620be8002c8f11991f2ca590d,1,15/12/12,27/12/12,4,Hide deprecation warnings in some test classes,"Hide deprecation warnings in some test classes

These test classes heavily rely on Tree and associated classes. They
are convenient for building test cases and hence not yet replaced, but
there is a deprecation warning at about every line, which is not helpful.

Change-Id: Ia7cc8f3bb980dc03055b94748b6c7529a82ea5a5",1,1,1,0,0,0,1,0,0
9262,Ifa0751be7db9401081a1a5c28a0102a2d0c692f9,https://git.eclipse.org/r/#/c/9262,1,0a75bd9ba61c1f0aea0af8ddecbf024d0c2db849,9b21799020ed4b3e617fdbeb1c169c82fef49aa4,0,16/12/12,16/12/12,0,Merge remote-tracking branch 'gerrit/stable-2.2',"Merge remote-tracking branch 'gerrit/stable-2.2'

* gerrit/stable-2.2:
  Ensure that jgit p2 repository is self-contained
  Fix hidden field warning
  Fix empty control block warnings

Change-Id: Ifa0751be7db9401081a1a5c28a0102a2d0c692f9",1,0,0,0,0,0,1,NA,NA
9317,Idc49f17d03886b6a1e61a94ff81e32625c8675d9,https://git.eclipse.org/r/#/c/9317,1,14667c67b8c8669ccca25417f2108f0dae2a7442,44851ac7629896e6df674640d9729c0e38794e19,0,20/12/12,20/12/12,106,JGit v2.2.0.201212191850-r,"JGit v2.2.0.201212191850-r

Change-Id: Idc49f17d03886b6a1e61a94ff81e32625c8675d9
Signed-off-by: Matthias Sohn <matthias.sohn@sap.com>",1,0,0,1,0,0,1,NA,NA
9341,I1a0fe51c71551fcfc98f5dd435eb283fd661b77a,https://git.eclipse.org/r/#/c/9341,1,44851ac7629896e6df674640d9729c0e38794e19,036430373dc3cb5baf98e1edcf31247d384a4662,0,20/12/12,20/12/12,106,Prepare post 2.2.0.201212191850-r builds,"Prepare post 2.2.0.201212191850-r builds

Change-Id: I1a0fe51c71551fcfc98f5dd435eb283fd661b77a
Signed-off-by: Matthias Sohn <matthias.sohn@sap.com>",1,0,0,1,0,0,1,NA,NA
9342,Iebe7c45eacb8abee21d1900e27143ccaa2724e28,https://git.eclipse.org/r/#/c/9342,1,036430373dc3cb5baf98e1edcf31247d384a4662,880f66bf8f0daf80eb55fe1e5c27c518b381f0bc,0,20/12/12,21/12/12,0,Merge branch 'stable-2.2',"Merge branch 'stable-2.2'

* stable-2.2:
  Prepare post 2.2.0.201212191850-r builds
  JGit v2.2.0.201212191850-r

Change-Id: Iebe7c45eacb8abee21d1900e27143ccaa2724e28
Signed-off-by: Matthias Sohn <matthias.sohn@sap.com>",1,0,0,0,0,0,1,NA,NA
9343,I0ca539e8cfe444f96c64dc56d1f0ef33b66e0cff,https://git.eclipse.org/r/#/c/9343,2,880f66bf8f0daf80eb55fe1e5c27c518b381f0bc,12c2353bc6511c17f8ef541bb10c6ebba3955ec3,0,20/12/12,21/12/12,476,Prepare 2.3.0 builds,"Prepare 2.3.0 builds

Change-Id: I0ca539e8cfe444f96c64dc56d1f0ef33b66e0cff
Signed-off-by: Matthias Sohn <matthias.sohn@sap.com>",1,0,0,1,0,0,1,NA,NA
9366,I7acfd051a07be889b27cfcfc1f396d86a9f86ab2,https://git.eclipse.org/r/#/c/9366,1,3377f5b77b4544e3b0eaa600652298aa6955e52d,636d76248e4a054a873296b1e2493e1f1d4ed1bc,0,22/12/12,24/12/12,1,Add org.eclipse.jgit.pgm.Reset to commands catalog,"Add org.eclipse.jgit.pgm.Reset to commands catalog

Change-Id: I7acfd051a07be889b27cfcfc1f396d86a9f86ab2
Signed-off-by: Tomasz Zarna <tzarna@gmail.com>",0,0,0,1,0,0,1,NA,NA
9372,I88eac49bc600c56ba9ad290e6133d8a7113125ab,https://git.eclipse.org/r/#/c/9372,2,636d76248e4a054a873296b1e2493e1f1d4ed1bc,66cf19a80fef3503ebf995e25539b65fbca9c09c,1,25/12/12,14/01/13,79,Fix concurrent creation of fan-out object directories,"Fix concurrent creation of fan-out object directories

If multiple threads attempted to insert loose objects into the same new
fan-out directory, the creation of that directory was subject to a race
condition that could lead to an unnecessary IOException being thrown -
because an inserter could not 'create' a directory that had just been
generated by a different thread. All we require is that the directory
does indeed *exist*, so not being able to _create_ it is not actually a
fatal problem. Setting 'skipExisting' to 'true' on the call to mkdir()
fixes the issue.

I found this issue as a real world occurrence while working on The BFG
Repo Cleaner (https://github.com/rtyley/bfg-repo-cleaner), a tool which
concurrently performs a lot of object creation.

In order to demonstrate the problem here I've added a small test case
which reliably reproduces the issue on the few different hardware
systems I've tried. The error thrown when the race-condition arises is
this:

java.io.IOException: Creating directory /home/roberto/repo.git/objects/e6 failed
at org.eclipse.jgit.util.FileUtils.mkdir(FileUtils.java:182)
at org.eclipse.jgit.storage.file.ObjectDirectory.insertUnpackedObject(ObjectDirectory.java:590)
at org.eclipse.jgit.storage.file.ObjectDirectoryInserter.insertOneObject(ObjectDirectoryInserter.java:113)
at org.eclipse.jgit.storage.file.ObjectDirectoryInserter.insert(ObjectDirectoryInserter.java:91)
at org.eclipse.jgit.lib.ObjectInserter.insert(ObjectInserter.java:329)

Change-Id: I88eac49bc600c56ba9ad290e6133d8a7113125ab",0,0,0,0,0,0,0,0,0
9378,I3d6580d6fa7b22f60d7e54ab236898ed44954ffd,https://git.eclipse.org/r/#/c/9378,25,f165d04377bda745ec613d3da3f50b724cd01d1f,ff6ed582f5184d443d544116713b2b3c5f9cbd4b,1,27/12/12,04/05/13,3085,RFC Extend the FS class for Java7,"RFC Extend the FS class for Java7

The most important difference is that in Java7 we have symbolic links
and for most operations in the work tree we want to operate on the link
itself rather than the link target, which the old File methods generally
do.

We also add support for the hidden attribute, which only makes sense
on Windows.

A new bundle is only activated when run with a Java7 execution
environment. It is implemented as a fragment.

Change-Id: I3d6580d6fa7b22f60d7e54ab236898ed44954ffd",0,1,0,0,1,0,1,5,1
9379,I12f0fdd9d26212324a586896ef7eb1f6ff89c39c,https://git.eclipse.org/r/#/c/9379,38,17f5124739e096b38585e0901d3a9bfe431d2c65,111dd8928fa6370967b10efb59f771adb1e1a7ca,1,27/12/12,10/02/14,247,RFC Add symlink support to JGit,"RFC Add symlink support to JGit

The change includes comparing symbolic links between disk and index,
adding symbolic links to the index, creating/modifying links on
checkout. The behavior is controlled by the core.symlinks setting, just
as C Git does. When a new repository is created core.symlinks will be
set depending on the capabilities of the operating system and Java
runtime.

If core.symlinks is set to true, the assumption is that
symlinks are supported, which may result in runtime errors if this
turs out not to be the case.

Change-Id: I12f0fdd9d26212324a586896ef7eb1f6ff89c39c",0,1,0,0,0,0,1,0,0
9383,Idf63ca08d08f3a77c33f5848d02074f8d6a75758,https://git.eclipse.org/r/#/c/9383,48,41efbc1a1e338e73a2599267be42c81146bea626,506a4966580a3d55fa1c7d66a0a7813dd13a57fc,1,27/12/12,04/09/14,41,RFC (untested) Hide files whose name start with a period (windows only),"RFC (untested) Hide files whose name start with a period (windows only)

Change-Id: Idf63ca08d08f3a77c33f5848d02074f8d6a75758",0,1,0,1,0,0,1,3,1
9384,Ib6f6fd5ef4a0c9b2062445ac4a0c9d1131e401bf,https://git.eclipse.org/r/#/c/9384,36,9c41e2fc4e7bd0ac3d89296c9c74e59ccd6a273e,3555aa4cf8af82f090d4a0649e4e0af9f8995682,1,27/12/12,10/02/14,35,Add delete support to FS,"Add delete support to FS

Change-Id: Ib6f6fd5ef4a0c9b2062445ac4a0c9d1131e401bf",0,1,0,1,0,0,1,0,0
9385,I898ab43e7bf5ee7189831f3a68bb9385ae694b8f,https://git.eclipse.org/r/#/c/9385,3,ed218dee9ea0d24132306ea4060fdfb60a5c8e1b,41d42ddccf014bc8d3bddf2e039aa040dde9b705,1,27/12/12,27/12/12,24,Enforce max memory for DeltaWindow.,"Enforce max memory for DeltaWindow.

Previously, memory limits were enforced at the start of each iteration
of the delta search, based on objects that were currently loaded in
memory. However, new objects added to the window may be expanded in a
future iteration of the search and thus were not accounted for correctly
at the start of the search. To fix this, memory limits are now enforced
before each object is loaded.

Change-Id: I898ab43e7bf5ee7189831f3a68bb9385ae694b8f",0,0,0,0,0,0,0,0,0
9387,Ic0f4ffcabf82105f8e690bd0eb5e6be485a313b3,https://git.eclipse.org/r/#/c/9387,1,af44e9df927dc05d155505a9e97505e68483d462,264664f7c8fd392a8fb38133c1513aa75cc9a0a1,1,27/12/12,27/12/12,3,Do not enforce DeltaWindow maxMemory when zero.,"Do not enforce DeltaWindow maxMemory when zero.

The maxMemory for a DeltaWindow can be optionally disabled when it is
less than or equal to zero. Respect this configuration when enforcing
the limits on object load.

Change-Id: Ic0f4ffcabf82105f8e690bd0eb5e6be485a313b3",0,0,0,0,0,0,0,0,0
9388,If6c4f395a3d5ed5b71bf68de23be9f2b0620e7f1,https://git.eclipse.org/r/#/c/9388,1,264664f7c8fd392a8fb38133c1513aa75cc9a0a1,fef120d13fdce80042ca9efecc42934ccfc58fa4,1,27/12/12,28/12/12,6,Stop PathFilter after walking all matching paths,"Stop PathFilter after walking all matching paths

After the current path of the TreeWalk is no longer a prefix of the
PathFilter's path, there can be no more matching entries, but TreeWalk
will happily keep walking the rest of a (potentially very large and
recursive) tree unless StopWalkException is thrown. So, throw
StopWalkException from PathFilter.include() at the earliest
opportunity.

Change-Id: If6c4f395a3d5ed5b71bf68de23be9f2b0620e7f1",0,0,0,0,0,1,1,0,0
9402,Iedb54eb9d8396bc3ae66d8754c1527fd9ca655f9,https://git.eclipse.org/r/#/c/9402,8,868958a2e2f6cfa9baed7bcebe3e0e841927cbce,8f87352e175c8938bbf6c1f57ffbec3143979d12,1,30/12/12,04/02/13,245,Move base test classes to the junit bundle for reuse for Java 7 tests,"Move base test classes to the junit bundle for reuse for Java 7 tests

Change-Id: Iedb54eb9d8396bc3ae66d8754c1527fd9ca655f9",0,1,0,1,0,0,1,3,1
9407,Id6968ea7a53ae27ba5496303f1a479e41e41fdcc,https://git.eclipse.org/r/#/c/9407,2,fbe0f0b6bd6b5365507d518c00c6dce3a024e905,2e513162f2b2ea07d974340cc491306c58df8ac1,0,30/12/12,07/01/13,12,pgm: Attempt to detect a broken pipe and exit silently,"pgm: Attempt to detect a broken pipe and exit silently

When piping output to another program, the other pipe may exit
before we are done. An example is ""jgit log|head"". The result is
that errno get set to EPIPE. Unfortunately Java does not have
specific exception for this so we have to look at the exception
message and hope that the number of variants are small.

The detection here seem to work on Windows, Linux and OS X and it
seems the message is usually not localized.

Change-Id: Id6968ea7a53ae27ba5496303f1a479e41e41fdcc",0,0,0,0,0,0,0,NA,NA
9408,I76a16594b756bffd95298897414485a9cd637819,https://git.eclipse.org/r/#/c/9408,3,fe6d6f9021171ea8358447e21aef1ac4fcfa7f7b,4653e6e831c9bfbc444717b3d28d6c81bbecfc5a,0,01/01/13,08/01/13,23,"Speed up handling of ""only"" paths in the CommitCommand","Speed up handling of ""only"" paths in the CommitCommand

Use binary search to reduced the number of lookups for a large number
of paths.

Change-Id: I76a16594b756bffd95298897414485a9cd637819",0,0,1,0,0,0,1,NA,NA
9411,I3e9735c7bdd99437929da8f9c9d4960a1273054b,https://git.eclipse.org/r/#/c/9411,5,9799b719ae09d1dbdd6c582a5f6f10e75308beb9,1bfdd08c952b1de8621afc2ff9213e1e6343c1cc,0,01/01/13,08/01/13,72,Speed up PathFilterGroup.include for large set of paths,"Speed up PathFilterGroup.include for large set of paths

This requires that we internally sort all paths so content of
directories follow the directory immediately.

Change-Id: I3e9735c7bdd99437929da8f9c9d4960a1273054b",0,1,1,0,0,0,1,NA,NA
9412,I5472e69dc77e26b5f248a4a04295775cf5051215,https://git.eclipse.org/r/#/c/9412,2,251de3a3cbb5abf9e5ecbc286407c20adeed4b3a,46f4b12c55648fc7a66bd96a4d2c398661d894aa,1,01/01/13,04/01/13,29,Ignore removed files with an assume-valid index entry,"Ignore removed files with an assume-valid index entry

Bug: 347067
Change-Id: I5472e69dc77e26b5f248a4a04295775cf5051215",0,0,1,0,0,0,1,0,0
9413,I6c85d75c474784471c32e866eef3402b9f193c08,https://git.eclipse.org/r/#/c/9413,1,d7424e823b2dd8302cab7d8268cfc90d845705d2,cccda87d5c3536e155c0f49deb4afe75d94eeaae,1,01/01/13,01/01/13,6,"Revert ""Stop PathFilter after walking all matching paths""","Revert ""Stop PathFilter after walking all matching paths""

This reverts commit 75eb6a147ffa8089e48d409f0215a16c755305e7.
Applications that want a PathFilter to abort the walk early should be
using PathFilterGroup. When a PathFilterGroup is created with exactly
one path its implementation is the same that 75eb6 tried to perform,
but has been long documented as having the behavior of breaking a
higher level OR filter graph node.

Change-Id: I6c85d75c474784471c32e866eef3402b9f193c08",0,0,0,0,0,0,0,0,0
9437,I13e9ed4ae62dc3851204fba598239edce07ca977,https://git.eclipse.org/r/#/c/9437,5,4df3407f2c0550207c2b282191686ec051a2e9d6,27e14a5e879bca68369b6e0694474fbb9d222eef,1,03/01/13,19/01/13,304,Define a tree filter for user-visible changes between two indexes,"Define a tree filter for user-visible changes between two indexes

The primary purpose of the filter is to detect an index change that
could possibly lead to a change in what files are visible in the staging
view and decorations. Besides what TreeFilter.ALL does for trees in
general, this filter also looks at the assume-valid (CE_VALID) flag to
see whether changes should be ignored or not.

Change-Id: I13e9ed4ae62dc3851204fba598239edce07ca977",0,1,1,0,0,0,1,1,1
9445,I3a4a07de42808e787515a6865875d9513542d3f8,https://git.eclipse.org/r/#/c/9445,2,f6710a7127c9eb620b2e87bc4ff69c300349f0cc,022d5c0e8f5bcb6fd88ec83e70acecadbd2e4c84,0,04/01/13,05/01/13,499,Do not install unnecessary Orbit bundles,"Do not install unnecessary Orbit bundles

The org.eclipse.jgit.orbit.feature introduced recently in order to
install 3rd party Orbit dependencies is a too coarse grained approach
and has the effect to install some dependencies only needed for
org.eclipse.jgit.pgm when installing org.eclipse.jgit.feature.

Hence include the required 3rd party bundles into the respective jgit
features directly in order to avoid this problem.

Bug: 397356
Change-Id: I3a4a07de42808e787515a6865875d9513542d3f8
Signed-off-by: Matthias Sohn <matthias.sohn@sap.com>",0,0,0,0,0,0,0,NA,NA
9477,Ie55dcb9fa583f5c3dd10d7a1b582e5b04b45858d,https://git.eclipse.org/r/#/c/9477,2,7547fdbd67b06409ceb4ffe75cafa6f2164c3d28,fdc3f077c6a515085d059bfe9ad18fc0aa438e34,0,05/01/13,08/01/13,5,Consider that some Java version on Linux only return integral timestamps,"Consider that some Java version on Linux only return integral timestamps

This logic is similar to what we do on Windows, but in this case it's
Java that truncates the timestamps, not Git.

Bug: 395410
Change-Id: Ie55dcb9fa583f5c3dd10d7a1b582e5b04b45858d",1,0,1,0,0,0,1,NA,NA
9530,I7e7fae125129e2a0d8950510550acda766531835,https://git.eclipse.org/r/#/c/9530,9,bab3838689a8fd443deebfad919280d38ccbfa11,99ca90cc59e865554f3f071b9566435d9f1230d6,1,08/01/13,19/01/13,67,Add conflicts message before footer,"Add conflicts message before footer

In case of a conflict during cherry-pick or revert the commit message
was amended after the footer. This made the footer invalid. Many users
do not understand that they have to edit the commit message in order to
make it valid again.

Change-Id: I7e7fae125129e2a0d8950510550acda766531835
Bug: 367416
Signed-off-by: Stefan Lay <stefan.lay@sap.com>",0,1,1,0,0,0,1,0,0
9549,I60e1baa52e00c5ec3915b859bfc6a4572611cc89,https://git.eclipse.org/r/#/c/9549,2,818805c4046d2ca505485a303a33c29d7946b93b,6467a9cdc3789ec9513adb3a51dc780eab9ebc32,0,09/01/13,22/01/13,16,Fix NPE FS_Win32 when looking up git executable,"Fix NPE FS_Win32 when looking up git executable

Bug: 397336
Change-Id: I60e1baa52e00c5ec3915b859bfc6a4572611cc89",0,0,1,0,0,0,1,NA,NA
9554,I87ecca009ca3bff1ca0de3c436ebd95736bf5a10,https://git.eclipse.org/r/#/c/9554,6,86d1db82017042cebf894da6475d7dd90c7dcba6,a0c1088683d7b37d2e597ffc42197b209e1c09c6,1,09/01/13,19/01/13,181,"Only replace the ChangeId in the footer, not in the body","Only replace the ChangeId in the footer, not in the body

Change-Id: I87ecca009ca3bff1ca0de3c436ebd95736bf5a10",0,1,1,1,0,0,1,0,0
9556,I98dc65efb62909bc0258e6c680df0c93a57e9677,https://git.eclipse.org/r/#/c/9556,1,16e18ed2f71c4250bac928de89a2758dca85a305,4a1f2fb98e31e226f14b95963ef8961a22954e7b,1,09/01/13,09/01/13,3390,Delete the iplog generator,"Delete the iplog generator

It stopped working when we moved to the Eclipse foundation's Gerrit
server since it doesn't use the Gerrit internal user store but LDAP.
Instead, since 2.0, we use the Eclipse foundation's automatic IP log
generator [1] to generate IP logs for releasing jgit and egit.

[1] http://www.eclipse.org/projects/ip_log_selector.php

Change-Id: I98dc65efb62909bc0258e6c680df0c93a57e9677
Signed-off-by: Matthias Sohn <matthias.sohn@sap.com>",0,0,0,0,1,0,1,-9,0
9562,I1f5e8dad3f61fde0d0573817d10e25a7384885d2,https://git.eclipse.org/r/#/c/9562,1,cb6536770446da62afbd43226232b554b24b1bd5,cae8d22ad562285ff3e272469be34593efdf47d4,0,09/01/13,09/01/13,1,"Delete the iplog generator, cont'd","Delete the iplog generator, cont'd

Change-Id: I1f5e8dad3f61fde0d0573817d10e25a7384885d2",0,0,0,1,0,0,1,NA,NA
9578,Ic59110b154613f3ff4a215a6c1293a4c15cd3885,https://git.eclipse.org/r/#/c/9578,1,1c6f87dbb6e98fb350435d8979d012b5cbd30e6b,d0b53838a289800c35834a2bab4fb9224abbfeb4,0,09/01/13,09/01/13,70,"Revert ""Speed up PathFilterGroup.include for large set of paths""","Revert ""Speed up PathFilterGroup.include for large set of paths""

This reverts commit 576e5acdd054e2dcd8cde3fe4d822bc3609850c1

The comparator is broken.

Change-Id: Ic59110b154613f3ff4a215a6c1293a4c15cd3885",1,0,0,0,0,0,1,NA,NA
9593,I7c403b501e242096a2d435f6865d6025a9f86108,https://git.eclipse.org/r/#/c/9593,5,4e686d599aa14096538cee3ad0b811fbaa2e41bd,547a01261d91a944cb6f5f60c8b8d7b1d6867832,1,10/01/13,10/01/13,237,RFC Add API to DfsObjDatabase for open/write by pack extension.,"RFC Add API to DfsObjDatabase for open/write by pack extension.

Previously, the DfsObjDatabase had a hardcoded getPackFile() and
getPackIndex() methods which opens a .pack and .idx file, respectively.
A future change to add a bitmap index will need to be stored in a
parallel .bitmap file. Update the DfsObjDatabase to support opening and
writing of files for any pack extension.

Change-Id: I7c403b501e242096a2d435f6865d6025a9f86108",0,1,0,0,0,0,1,0,0
9596,I29ece1fdb49c9c5b9ca415efcd1876bc72e97120,https://git.eclipse.org/r/#/c/9596,1,357ba521c82d5f44f4bbf931a2a193dce2256736,3202f896c9961fe487743a2a3fc12b2af743a4cf,1,10/01/13,10/01/13,4,Peel tags during resolve of foo^,"Peel tags during resolve of foo^

Once we start talking about parents of tags, we are in the commit
graph, so treat all objects from this point as commits. This fixes
spurious IncorrectObjectTypeExceptions on resolving expressions like
tag^^.

Change-Id: I29ece1fdb49c9c5b9ca415efcd1876bc72e97120",0,0,0,0,0,1,1,0,0
9602,Ifc8fc3e57f4afa177ba5a88df87334dbfa799f01,https://git.eclipse.org/r/#/c/9602,2,655464f1182f8493449f32d7063e7b500e225ce4,761d0ea6a4daf3271274e936c62a7ad3e9c1d25d,1,10/01/13,10/01/13,58,Remove packIndex field from FileObjDatabase openPack method.,"Remove packIndex field from FileObjDatabase openPack method.

Previously, the FileObjDatabase required both the pack file path and
index file path to be passed to openPack().  A future change to add
a bitmap index will add a .bitmap file parallel to the pack file
(similar to the .idx file). Update the PackFile to support
automatically loading pack index extensions based on the pack file
path.

Change-Id: Ifc8fc3e57f4afa177ba5a88df87334dbfa799f01",0,0,0,0,0,0,0,0,0
9605,If38507ef8cc5a161353cc07bf7cd1922f54d1f8a,https://git.eclipse.org/r/#/c/9605,7,8c8f1327ced938cfe1fe26840fd89641957fd765,545c22b8a7b0cc41772439ee01eba63dea182aca,1,10/01/13,29/01/13,190,Add testcase for PathFilterGroup,"Add testcase for PathFilterGroup

This is to prepare for optimization.

Change-Id: If38507ef8cc5a161353cc07bf7cd1922f54d1f8a",0,1,1,0,0,0,1,0,0
9607,Ife0cc2da6cc46431be94a6b14f64f6adbe983afb,https://git.eclipse.org/r/#/c/9607,8,f212c019f5ca33ddf3b84d3358fa3056ed39f4d5,434a11239dd26e55b78eb19361d3dcc59822d86e,1,10/01/13,28/01/13,673,Speed up PathFilterGroup for largs sets of paths,"Speed up PathFilterGroup for largs sets of paths

Bug: 397185
Change-Id: Ife0cc2da6cc46431be94a6b14f64f6adbe983afb",0,1,1,0,1,0,1,0,0
9632,Ib0b86ceab070d46903de7b55f2fd441714855141,https://git.eclipse.org/r/#/c/9632,1,ef60f872b4dec6e8e863c45f90a019c611e05345,4beaecce9d97be395fae38150f8ef45214dc7985,1,11/01/13,11/01/13,5,Fix enum parsing from Config files,"Fix enum parsing from Config files

Change-Id: Ib0b86ceab070d46903de7b55f2fd441714855141",1,0,0,1,0,0,1,0,0
9633,I1d2a0de81eb17860ee36b6d3d3c00959b880fb85,https://git.eclipse.org/r/#/c/9633,1,4beaecce9d97be395fae38150f8ef45214dc7985,50899bb3369594c594f10e707b72a6670bc2d988,1,11/01/13,11/01/13,202,"Revert ""Add additional FastForwardMode enums for different config contexts""","Revert ""Add additional FastForwardMode enums for different config contexts""

This reverts commit c98abc9c0586c73ef7df4172644b7dd21c979e9d.

Change-Id: I1d2a0de81eb17860ee36b6d3d3c00959b880fb85",1,0,0,0,0,0,1,0,0
9634,I3ed5451735658df6381532499130e5186805024a,https://git.eclipse.org/r/#/c/9634,2,50899bb3369594c594f10e707b72a6670bc2d988,9618639ed5d3d570739cac86081d8b7b599b14a5,1,11/01/13,11/01/13,8,Accept - instead of space in enum config values,"Accept - instead of space in enum config values

This is necessary because some versions of JGit containing
the flawed c98abc9c0586c73ef7df4172644b7dd21c979e9d were
used in the wild and wrote bad configuration files. We now
must accept this value in addition to the preferred case.

Change-Id: I3ed5451735658df6381532499130e5186805024a",1,0,0,0,0,0,1,0,0
9636,I11e0ba2f300adb8b3612943c304ba68bbe73db8a,https://git.eclipse.org/r/#/c/9636,3,9618639ed5d3d570739cac86081d8b7b599b14a5,7edf55e2987880c9bcf81d67f0983a781302588c,1,12/01/13,06/02/13,189,Add getConflictingNames to RefDatabase,"Add getConflictingNames to RefDatabase

This has the same logic as isNameConflicting, but instead of only
returning a boolean, it returns a collection of names that conflict.

It will be used in EGit to provide a better message to the user when
validating a ref name, see Ibea9984121ae88c488858b8a8e73b593195b15e0.

Existing implementations of isNameConflicting could be rewritten like
this:

  return !getConflictingNames(name).isEmpty();

But I'm not sure about that, as isNameConflicting can be implemented in
a faster way than getConflictingNames.

Change-Id: I11e0ba2f300adb8b3612943c304ba68bbe73db8a",0,0,0,0,0,0,0,0,0
9642,I834b06d0447f84379612b8c9190fa77093617595,https://git.eclipse.org/r/#/c/9642,30,c0ebb7fd053c07413fbadbb63249d2fab1aeaa98,0ac1283fe13e210d55caae9cbd46b5d1a5af6f35,1,13/01/13,12/02/14,316,RFC Use fileAttributes to get more attributes in one go,"RFC Use fileAttributes to get more attributes in one go

Bug: 353771
Change-Id: I834b06d0447f84379612b8c9190fa77093617595",0,1,0,0,0,0,1,0,0
9689,Iab9d4abe0af65b2fc71ad71ef1db0feb6b3b5c58,https://git.eclipse.org/r/#/c/9689,2,9eb0d21621ee04c95a09f50ec9cdff49278d17a2,a6b1d3156e2570275270d4982667f640594dca4a,1,15/01/13,15/01/13,71,Use file extension with DfsPackDescription get/set file size.,"Use file extension with DfsPackDescription get/set file size.

Previously the size getters and setters had explicit methods for index
and pack. Update the api to be based on the file extension. This will
make it possible to support other extensions in the future, such as
the forthcoming bitmap extensions.

Change-Id: Iab9d4abe0af65b2fc71ad71ef1db0feb6b3b5c58",0,0,0,0,0,0,0,0,0
9690,I1391fdaaf7c2c3226d96ada1ae8647bcdff4794e,https://git.eclipse.org/r/#/c/9690,2,a8d98135e61e272465384549b5aad4f8fc362c26,d0490e06a0a61afb7683513b979beb22abfa2384,1,15/01/13,15/01/13,15,Remove getReverseIndexSize() from DfsPackDescription.,"Remove getReverseIndexSize() from DfsPackDescription.

The method is used in only one location (DfsPackFile). Furthermore,
PackIndex already does an explicit computation of the size in
DfsPackFile. Simplify the DfsPackDescription by removing the method
and do the calculation similar to PackIndex.

Change-Id: I1391fdaaf7c2c3226d96ada1ae8647bcdff4794e",0,0,0,0,0,0,0,0,0
9691,Ib7eb1ff175e3f9763653b0b0432b8ddc6b1c8938,https://git.eclipse.org/r/#/c/9691,2,81554e2ba30fcaa31728faf66df115d78e49ec61,62a3d28b5355e6b4468a2c2a870a040e99a02844,0,15/01/13,22/01/13,4,Update to jsch 0.1.46,"Update to jsch 0.1.46

Change-Id: Ib7eb1ff175e3f9763653b0b0432b8ddc6b1c8938
Signed-off-by: Matthias Sohn <matthias.sohn@sap.com>",1,0,1,1,0,0,1,NA,NA
9692,I5ef1edb8efc4668ef4731094ea6dbbcaf200195d,https://git.eclipse.org/r/#/c/9692,2,75a2dcf8874113d57ba480469d49563c7e5eac9f,789bc164d04a1080137a046469c763f2c0246e37,0,15/01/13,22/01/13,6,Add new committers,"Add new committers

Change-Id: I5ef1edb8efc4668ef4731094ea6dbbcaf200195d
Signed-off-by: Matthias Sohn <matthias.sohn@sap.com>",1,0,1,1,0,0,1,NA,NA
9732,I670782784b38702d52bca98203909aca0496d1c0,https://git.eclipse.org/r/#/c/9732,10,b3947a4830cb88172eb4fbb24a1df38a5f7e7403,15c34472aab205d8c4015a9ebd2a1e91a844481d,1,17/01/13,20/03/13,349,Allow users to show server messages while pushing,"Allow users to show server messages while pushing

Allow users to provide their OutputStream (via Transport#
push(monitor, refUpdates, out)) so that server messages can be written
to it (in SideBandInputStream) while they're coming in

Bug: 398404
Change-Id: I670782784b38702d52bca98203909aca0496d1c0
Signed-off-by: Andre Dietisheim <andre.dietisheim@gmail.com>",0,1,0,0,0,0,1,0,0
9743,I39ae93578e4783de80ebf4af29ae23b3936eec47,https://git.eclipse.org/r/#/c/9743,2,d8e9670dc430fcd6d74f6318011486e09f70fa8f,9850f8eb6650922bc59d9bd02b22cf5292941290,1,17/01/13,18/01/13,186,[WIP]Add additional FastForwardMode enums for different config contexts,"[WIP]Add additional FastForwardMode enums for different config contexts


FastForwardMode should be represented by different enums depending on
context it is set or get from. E.g. FastForwardMode.FF_ONLY for
branch.<name>.mergeoptions is ""--ff-only"" but for merge.ff it is ""only"".

Change-Id: I39ae93578e4783de80ebf4af29ae23b3936eec47",0,0,0,0,0,0,0,0,0
9746,I86ac4db6da8f33aa42d6f37cfcc119e819444318,https://git.eclipse.org/r/#/c/9746,2,18511a5c4ae0e0e11b3366d0d382ccda350b41f9,a2a3489d400ba3e53ac8c9c00a2e36ea0208b5a4,1,17/01/13,17/01/13,143,"Rename PackConstants to PackExt, a typed pack file extension.","Rename PackConstants to PackExt, a typed pack file extension.

PackConstants previously contained string values for the pack and pack
index extension. Change PackConstant to be PackExt, a typed wrapper
around the string pack file extension.

Change-Id: I86ac4db6da8f33aa42d6f37cfcc119e819444318",0,0,0,0,0,0,0,0,0
9752,I7fb5a44910a4738bbb14ad025cee7cbedbba2d07,https://git.eclipse.org/r/#/c/9752,1,a2a3489d400ba3e53ac8c9c00a2e36ea0208b5a4,c8270f5d6315d9a3897baac363bf9547ea621db7,1,18/01/13,19/01/13,10,Use correct method link in Javadoc,"Use correct method link in Javadoc

Change-Id: I7fb5a44910a4738bbb14ad025cee7cbedbba2d07
Signed-off-by: Dani Megert <Daniel_Megert@ch.ibm.com>",0,0,0,1,0,0,1,0,0
9776,I377cb4ab07f62cf790505e1eeb0b2efe81897c79,https://git.eclipse.org/r/#/c/9776,1,464edc116f0569c5d8fca5885dea1819c1cf1ec1,358b9bfb36d0b1decb75fa83360c1e1f75b0ed4e,1,19/01/13,19/01/13,121,Update DfsGarbageCollector to not read back a pack index.,"Update DfsGarbageCollector to not read back a pack index.

Previously, the Dfs GC excluded objects from packs by passing a
previously written index to the PackWriter. Reading back a file on
Dfs is slow. Instead, allow the PackWriter to expose the objects
included in a pack and forward that to invocations of excludeObjects() .

Change-Id: I377cb4ab07f62cf790505e1eeb0b2efe81897c79",0,0,0,0,0,0,0,1,1
9826,Ic11ddce81dbcc7d703742c7e86941d2f43668617,https://git.eclipse.org/r/#/c/9826,3,3ca3135ef98203509eb563182774f60c64f22d2c,1569ecb197b9035630e6cd26b90ccf9622a39db6,0,22/01/13,29/01/13,2,Align execution environment with JRE on the classpath in jgit.ant.test,"Align execution environment with JRE on the classpath in jgit.ant.test

Change-Id: Ic11ddce81dbcc7d703742c7e86941d2f43668617",0,0,1,1,0,0,1,NA,NA
9851,Ib5aa5b7447e05938b47fa55812a87b9872c20ea7,https://git.eclipse.org/r/#/c/9851,2,ccc78d0f3a7ef8e62b1b01186e84a3f616f6eda3,69c114a9c0fc92b2cae8a3dccdaff7fb348e2d06,1,22/01/13,22/01/13,25,Reduce memory held and speed up DfsGarbageCollector.,"Reduce memory held and speed up DfsGarbageCollector.

getObjectList() returns a list of ObjectToPack. These can hold on to a
lot of memory. Furthermore, binary searching for objects in a sorted
array can be slow. Improve the speed and reduce the memory by creating a
copy of the ObjectId and inserting it into an ObjectIdOwnerMap.

Change-Id: Ib5aa5b7447e05938b47fa55812a87b9872c20ea7",0,0,0,0,0,0,0,0,0
9852,I1253c0ea0632185bbf9f77e32f13ba5842a6e18e,https://git.eclipse.org/r/#/c/9852,2,7a40b46564068201c1246792b6b249a55911dbd0,e260cb12ef3d1f3119779aee3c69de97bf4a34af,1,22/01/13,29/01/13,43,Check for FF_ONLY merges correctly,"Check for FF_ONLY merges correctly

Bug: 398192
Change-Id: I1253c0ea0632185bbf9f77e32f13ba5842a6e18e",0,0,1,0,0,0,1,0,0
9853,Ia10d76e95fe6156c7ad05972619160e461606805,https://git.eclipse.org/r/#/c/9853,1,1404f711300998f55f08a69ba0b9e2620fe92456,e7abdd3a4620f350419686f2ac1189d96b8fc5ed,1,23/01/13,24/01/13,4,Attempt to stabilize FileTreeIterator test on Windows,"Attempt to stabilize FileTreeIterator test on Windows

My guess is that the higher resolution of timestamps provided by Java on
Windows causes this test to occasionally fail.

Bug: 396662
Change-Id: Ia10d76e95fe6156c7ad05972619160e461606805",0,0,0,0,0,0,0,0,0
9855,I25204d9e3181e15368da2902447518c6ce205017,https://git.eclipse.org/r/#/c/9855,1,e7abdd3a4620f350419686f2ac1189d96b8fc5ed,d0f2e167b7d4500ef54bacffec9a0799a664fa78,1,23/01/13,23/01/13,11,Attempt to stabilize GCTest,"Attempt to stabilize GCTest

File system time stamps and System.currentTimeMillis() may not
necessarily be running on the same clock so add some slack.

Bug: 396662
Change-Id: I25204d9e3181e15368da2902447518c6ce205017",0,0,0,0,0,0,0,0,0
9877,I553f3a753e0124b102a51f8edbb53ddeff2912e2,https://git.eclipse.org/r/#/c/9877,4,f3682051a1c2fa588bf9a1e1b2145306483cc8f1,694bb50ee0f49345236457c94757b95c7965b90c,1,24/01/13,30/01/13,434,RFC Fix StashApplyCommand,"RFC Fix StashApplyCommand

Use merge logic to implement stash apply since this is similar to a
cherry pick, or two.

... the API sucks

Bug: 376035
Change-Id: I553f3a753e0124b102a51f8edbb53ddeff2912e2",1,1,1,0,0,0,1,0,0
9980,Ie59041dffec5f60d7ea2771026ffd945106bd4bf,https://git.eclipse.org/r/#/c/9980,7,1e977b6e0d51a0cfa167de4801a82865b5de1ab2,5498c87a192c676bdfb4c91ed72af1fa24fe6c9d,1,28/01/13,28/02/13,113,Include supported extensions in PackFile constructor.,"Include supported extensions in PackFile constructor.

Previously a PackFile class was assumed to only support a .pack and .idx
file. Update the constructor to enumerate the supported extensions for
the pack file. This will allow the bitmap code to only be executed if
the bitmap extension file is known to exist.

Change-Id: Ie59041dffec5f60d7ea2771026ffd945106bd4bf",0,1,0,0,0,0,1,0,0
9986,I41a34485970af41b4b5b2404e3d29c98979ddb48,https://git.eclipse.org/r/#/c/9986,4,d948da4a4c8bd8a7671040266698c24991771569,3b3aa3558e957a9971dbc80d75a72ef151fceeb4,0,29/01/13,31/01/13,38,Update to latest orbit release,"Update to latest orbit release

Update 3rd party dependencies to respective latest approved version.

args4j 2.0.21 is not yet available on Maven central, hence compile
against 2.0.12 and package 2.0.21 until 2.0.21 has been published on
Maven central.

Change-Id: I41a34485970af41b4b5b2404e3d29c98979ddb48
Signed-off-by: Matthias Sohn <matthias.sohn@sap.com>",1,1,0,0,0,0,1,NA,NA
9988,I33eed5737d9411cc1cf214da62ce719916a1b736,https://git.eclipse.org/r/#/c/9988,1,98308bb1c5be69db4f4ab48453c77348efe0052e,9819995fb8811bf232806c1a64d237581f26236f,1,29/01/13,29/01/13,59,Fix Check for FF_ONLY merges again,"Fix Check for FF_ONLY merges again

Added more FF-mode tests

Change-Id: I33eed5737d9411cc1cf214da62ce719916a1b736",1,0,0,0,0,0,1,0,0
10003,I9dd5eb964ed8b6869745c3162159b7425ac2c44a,https://git.eclipse.org/r/#/c/10003,4,9819995fb8811bf232806c1a64d237581f26236f,99b7f69e9f8077352dd8828265646935300d702b,1,29/01/13,02/02/13,33,Extract method to output the headline.,"Extract method to output the headline.

Change-Id: I9dd5eb964ed8b6869745c3162159b7425ac2c44a
Signed-off-by: Tobias Pfeifer <to.pfeifer@sap.com>",0,1,0,1,0,0,1,0,0
10018,I33b05a6c8f1ee2df7770f0b9fdc50d0b4bbf1029,https://git.eclipse.org/r/#/c/10018,10,0849864595b27967a417b576ef94e2113a16fe5d,685734accba55d1cbbe66532f0a364e1e8a0caef,1,29/01/13,05/03/13,2,Enable writing bitmaps during GC by default.,"Enable writing bitmaps during GC by default.

Bitmaps provide a huge performance boost for counting objects and they
play nice with the cgit implementation.

Change-Id: I33b05a6c8f1ee2df7770f0b9fdc50d0b4bbf1029",0,1,0,0,0,0,1,0,0
10041,I4767e53efafe48d447ebe399fb2f8617072950ea,https://git.eclipse.org/r/#/c/10041,1,ff84b689e1f7528fb9d50d7567c46e05b1b6feb4,6648e218b88418c27ae8dd78dfc8b9d399a90504,1,30/01/13,30/01/13,2,Remove debug printouts from PathFilterGroupTest,"Remove debug printouts from PathFilterGroupTest

Change-Id: I4767e53efafe48d447ebe399fb2f8617072950ea",1,0,0,1,0,0,1,0,0
10045,I19d1a29ff693397ac795d414b83411f32fae56d8,https://git.eclipse.org/r/#/c/10045,1,6648e218b88418c27ae8dd78dfc8b9d399a90504,1d80f0ae1b0b87f66c15e6dec77d74178c3c0621,1,30/01/13,30/01/13,254,Remove PathFilterGroupTest2,"Remove PathFilterGroupTest2

The test is not very useful for regression testing in its current form

Change-Id: I19d1a29ff693397ac795d414b83411f32fae56d8",1,0,0,0,0,0,1,0,0
10048,I8eaff1858a891571075a86db043f9d80da3d7503,https://git.eclipse.org/r/#/c/10048,6,0fbe5754b56ee8d153b45e4d6eb45cb6d8e344ef,d0c410c2147811bffae9577f7cd255a4a9af55d2,1,30/01/13,13/02/13,57,Implement core.statinfo,"Implement core.statinfo

There is a huge performance issue when using both JGit (EGit) and Git
because JGit does not fille all dircache stat fields with the values Git
would expect. As a result thereof Git would typically revalidate a large
number of tracked files. This can take several minutes for large
repositories with many large files.

Since 1.8.2 Git will restrict stat checking to the size and whole second
part of the modification time stamp, if core.statinfo is set to
""minimal"".

As JGit checks only size and modification time this is close to what
JGit already does. To make the match perfect ignore the sub-second part
of the modification time stamp if core.statinfo = minimal.

Change-Id: I8eaff1858a891571075a86db043f9d80da3d7503",0,1,0,0,0,0,1,1,1
10104,I255634bc9b3681f292190051daed22a4771d6e57,https://git.eclipse.org/r/#/c/10104,1,32ff15a95cfcbee9896d71a94d1d51e216842ed9,71c7cb7b9567860d4bd5ef0e5c83db7aea768ea0,0,01/02/13,02/02/13,2,Fixed problems occuring when changing user in gerrit configuration,"Fixed problems occuring when changing user in gerrit configuration

Bug: 399238
Change-Id: I255634bc9b3681f292190051daed22a4771d6e57
Signed-off-by: Tobias Pfeifer <to.pfeifer@sap.com>",0,0,0,0,0,0,0,NA,NA
10134,Id2057cb2cfcb46e94ff954483ce23f9c4a7edc5e,https://git.eclipse.org/r/#/c/10134,18,13e4dd1e24b35f8c957cfd2962e173a7ced7a61b,3ff33ebb881ef4c187c8b532c244fd87125b32f3,1,04/02/13,10/02/14,14,RFC Use the new FS.exists method in commonly occuring places,"RFC Use the new FS.exists method in commonly occuring places

Allegedly this should improve performance, but I could not see it.

Change-Id: Id2057cb2cfcb46e94ff954483ce23f9c4a7edc5e",0,1,0,0,0,0,1,12,1
10205,Id1f1d174375f7399cee4c2eb23368d4dbb4c384a,https://git.eclipse.org/r/#/c/10205,1,f33a359b9cd2ecffe50e0289f20bdb7ea0540128,870aa70fb4b3c06032d6b747a87f28306c258aa1,0,06/02/13,06/02/13,100,JGit v2.3.0.201302060400-rc1,"JGit v2.3.0.201302060400-rc1

Change-Id: Id1f1d174375f7399cee4c2eb23368d4dbb4c384a
Signed-off-by: Matthias Sohn <matthias.sohn@sap.com>",1,0,0,1,0,0,1,NA,NA
10209,I5c7daa5a735bfc2ecb9adc11c392b94d235102b6,https://git.eclipse.org/r/#/c/10209,1,870aa70fb4b3c06032d6b747a87f28306c258aa1,7de07df562a27989fdfda2759b1cd61f7fcfb356,0,06/02/13,06/02/13,98,Prepare post 2.3rc1 builds,"Prepare post 2.3rc1 builds

Change-Id: I5c7daa5a735bfc2ecb9adc11c392b94d235102b6
Signed-off-by: Matthias Sohn <matthias.sohn@sap.com>",1,0,0,1,0,0,1,NA,NA
10228,I282b702d9e4cb19063d8e9503604538f80e955b7,https://git.eclipse.org/r/#/c/10228,1,7de07df562a27989fdfda2759b1cd61f7fcfb356,59294fb0513fec4d8f7fa79edd917ffb2800f532,1,06/02/13,06/02/13,140,Add better documentation to DirCacheCheckout,"Add better documentation to DirCacheCheckout

Change-Id: I282b702d9e4cb19063d8e9503604538f80e955b7
Signed-off-by: Christian Halstrick <christian.halstrick@sap.com>",0,0,0,1,0,1,1,0,0
10250,I83e25f09fad3ad55a3ffe41ab4758f249b7ac9f9,https://git.eclipse.org/r/#/c/10250,2,9658527bb7d048d31c38881344600362c9116335,617b78391081141e4219f8e51a12aeb1c55545c8,1,08/02/13,08/02/13,1,Really handle annotated tags in MergeCommand,"Really handle annotated tags in MergeCommand

Repository.peel() must be called to ensure a tag is really peeled.

Change-Id: I83e25f09fad3ad55a3ffe41ab4758f249b7ac9f9",0,0,0,0,0,0,0,0,0
10263,Id6da6ff19296410806282bb7419fd8455e8c5475,https://git.eclipse.org/r/#/c/10263,1,617b78391081141e4219f8e51a12aeb1c55545c8,67284f3bfef6d9c99afbf874ad1d47b8a693f6ab,1,08/02/13,08/02/13,14,Fix Config.fromText to not skip a last line with no newline,"Fix Config.fromText to not skip a last line with no newline

Change-Id: Id6da6ff19296410806282bb7419fd8455e8c5475",0,0,0,1,0,1,1,0,0
10307,Ie7b99f40eacf6324bfb4716d82073adeda64d10f,https://git.eclipse.org/r/#/c/10307,8,ea54789a36521fffc4e2bfd938b25693de7ac68e,cd0f83d16e27e57dbf00493be44b4b0a275f46c6,1,12/02/13,25/02/13,64,Performance fixes in DateRevQueue,"Performance fixes in DateRevQueue

When a lot of commits are added to DateRevQueue, the
sort-on-insertion approach is very heavy on CPU cycles.

One approach to fix this was made by Dave Borowitz:
https://git.eclipse.org/r/#/c/5491/

But using Java's PriorityQueue seems to have brought some
extra overhead, and the desired performance could not be
reached.

This fix takes another approach to the insertion problem,
without changing the expected behaviour or bringing extra
memory overhead:

If we detect over 1000 commits in the DateRevQueue, a
""seek-index"" is rebuilt every 1000th added commit.

The index keeps track of every 100th commit in the
DateRevQueue. During insertions, it will be used for a
preliminary scanning of the queue, with the intention of
helping add() find a good starting point to start walking
from. After finding this starting point, add() will step
commit-by-commit until the correct insertion place in
the queue is found (today, the queue is expected to be
sorted at all times).

When applied to repositories with many refs, this approach
has proven to bring huge performance gains and scales quite
well.

For instance, in a repository with close to 80000 refs,
we could cut down the time a typical Gerrit replication
of 1 commit would take (just a push from JGit's point of
view) from 32sec down to 3.5sec.

Below you see some typical times to add a specific amount
of commits (with random commit times) to the DateRevQueue
and the difference the preliminary seek-index makes:

Commits | Index | No Index
   1024     2ms        4ms
   2048     5ms        4ms
   4096     8ms       15ms
   8192     9ms       69ms
  16384    11ms      451ms
  32768    41ms     3092ms
  65536   130ms    15642ms
 131072   464ms    71960ms

Only one extra LinkedList reference is needed for every 100
inserted commits (and only when we see more than 1000 commits
in the queue), so the memory overhead should be negligible.

It may be worth noting that ties are still broken in FIFO
order.

Various index-stepping values were tested, and 100 seemed to
scale very well and be effective from start.

In the future, it should probably be dynamic and based on
the number of refs in the queue, but this should serve well
as a starting point.

Note: While other fundamentally different data structures may
be more suitable, the DateRevQueue is extremely central to
many of the Git core operations. This approach was chosen,
since the effect of the patch is easy to predict in conjuction
with the current implementation. A totally new data structure
will make it harder to predict behaviour in many common and
uncommon cases (in terms of breaking ties, memory usage, cost
when using few elements, object creation/disposing overhead,
etc).

Change-Id: Ie7b99f40eacf6324bfb4716d82073adeda64d10f",0,1,1,0,0,0,1,1,1
10328,Ie27533e5ecb43097862a8337a27a742b501e17a5,https://git.eclipse.org/r/#/c/10328,3,ef95b15cd0787d66c9f1ca74f3d763917df112a3,72aed5bd84d65fa67e923a081c50053174eb7c51,1,12/02/13,16/02/13,19,Add the --branch flag to the jgit clone,"Add the --branch flag to the jgit clone

--branch or -b allows the user to specify which branch to checkout after
clone.

Change-Id: Ie27533e5ecb43097862a8337a27a742b501e17a5",0,0,1,0,0,0,1,1,1
10330,Idb7eb80bc236a20f7385ad2d6141b4d1c5c3f1cc,https://git.eclipse.org/r/#/c/10330,1,bd227da338da4b66e6e94d3f72752017d8ff87c4,75f4ed086ad070600450d8d5c8c4026ef8e6362e,1,13/02/13,13/02/13,3,Remove unused availableRefs local from Clone.guessHEAD,"Remove unused availableRefs local from Clone.guessHEAD

This variable has been populated and never used ever since it was
introduced in v0.4.9~336 (Add ""jgit clone"", 2008-12-23).  Remove it
to make the function easier to understand.

Change-Id: Idb7eb80bc236a20f7385ad2d6141b4d1c5c3f1cc",0,0,0,0,0,0,0,0,0
10340,Ibb3b983d01133fd98477d9284118d8220846f0e9,https://git.eclipse.org/r/#/c/10340,1,279630b37267f13e7e3b165110400d0541666907,510bfb85d63bfe1df31e8d9b8bc295bb28eebc2a,0,13/02/13,13/02/13,16,Replace explicit version by property where possible,"Replace explicit version by property where possible

Change-Id: Ibb3b983d01133fd98477d9284118d8220846f0e9
Signed-off-by: Matthias Sohn <matthias.sohn@sap.com>",1,0,0,1,0,0,1,NA,NA
10341,If2e5fcbc01c2a7f058ef13d60b0bba5f77300d52,https://git.eclipse.org/r/#/c/10341,1,510bfb85d63bfe1df31e8d9b8bc295bb28eebc2a,99eac0ca71f1d17ac482264ea5cfb80d1dd6030f,0,13/02/13,13/02/13,78,JGit v2.3.0.201302130906,"JGit v2.3.0.201302130906

Change-Id: If2e5fcbc01c2a7f058ef13d60b0bba5f77300d52
Signed-off-by: Matthias Sohn <matthias.sohn@sap.com>",1,0,0,1,0,0,1,NA,NA
10347,Ia11b4000557d0cf235c4e33cda4539cab25fef47,https://git.eclipse.org/r/#/c/10347,1,99eac0ca71f1d17ac482264ea5cfb80d1dd6030f,f9a9c308db3d742315cb6b08f18f7c02cf9210e6,0,13/02/13,13/02/13,78,Prepare post 2.3.0.201302130906 builds,"Prepare post 2.3.0.201302130906 builds

Change-Id: Ia11b4000557d0cf235c4e33cda4539cab25fef47
Signed-off-by: Matthias Sohn <matthias.sohn@sap.com>",1,0,0,1,0,0,1,NA,NA
10348,I5a7626014dc38e7623937a4241dbf8a6db05c1f9,https://git.eclipse.org/r/#/c/10348,1,d631be4a8ab743daf438db7753e06a5921d49f7c,fd658932eb96b8935ba9c4f9bf45276a5a18d631,0,13/02/13,13/02/13,0,Merge branch 'stable-2.3',"Merge branch 'stable-2.3'

* stable-2.3:
  Prepare post 2.3.0.201302130906 builds
  JGit v2.3.0.201302130906
  Replace explicit version by property where possible
  Add better documentation to DirCacheCheckout
  Prepare post 2.3rc1 builds
  JGit v2.3.0.201302060400-rc1

Change-Id: I5a7626014dc38e7623937a4241dbf8a6db05c1f9
Signed-off-by: Matthias Sohn <matthias.sohn@sap.com>",1,0,0,0,0,0,1,NA,NA
10358,I74ea2a17bf4976d9c74255500e5deeff18208e87,https://git.eclipse.org/r/#/c/10358,1,fd658932eb96b8935ba9c4f9bf45276a5a18d631,da5e1602cf640584b8d2d1b2275d8bd69987bc48,1,13/02/13,13/02/13,4,Remove unused imports,"Remove unused imports

These imports are unused since commit
cb349da0174e77cc751e6cb8a16b327c4976b993

Change-Id: I74ea2a17bf4976d9c74255500e5deeff18208e87
Signed-off-by: Matthias Sohn <matthias.sohn@sap.com>",1,0,0,0,0,0,1,0,0
10359,I7fe51f4a6187c32c917b2f503d6b50d0d6b28a61,https://git.eclipse.org/r/#/c/10359,1,ca9117348d48f4f132f98a615be0909ceb016f6f,003012e1034af7dd97f3ff0f51a41b494223f51d,1,13/02/13,13/02/13,4,Cleanup unused imports,"Cleanup unused imports

Change-Id: I7fe51f4a6187c32c917b2f503d6b50d0d6b28a61",0,0,0,1,0,0,1,0,0
10361,I4ab2baeb5d598d40d5dadfccdfe75152a1b9b7bf,https://git.eclipse.org/r/#/c/10361,2,4b2831d7a028de8c664185d2bb53fd386c15639d,4452b7f4ff4edebc23e4beacf6493549dccbbf61,0,13/02/13,14/02/13,424,Prepare 2.4.0-SNAPSHOT builds,"Prepare 2.4.0-SNAPSHOT builds

Change-Id: I4ab2baeb5d598d40d5dadfccdfe75152a1b9b7bf
Signed-off-by: Matthias Sohn <matthias.sohn@sap.com>",1,0,0,1,0,0,1,NA,NA
10376,I34da782e6b9a492e3e291b36ef82f06ce8347660,https://git.eclipse.org/r/#/c/10376,2,590e0c6f344e4b98e2867708358e406423c19122,f39a2c8aaf1f1e5ff4fdb72bcaaaea8f094b8d35,0,14/02/13,16/02/13,10,Must use double single quotes around parameters,"Must use double single quotes around parameters

Change-Id: I34da782e6b9a492e3e291b36ef82f06ce8347660",0,0,0,1,0,0,1,NA,NA
10381,Icce54872adc8c566994beea848448a2f7ca87085,https://git.eclipse.org/r/#/c/10381,6,d515ff0d9d84f984085f6982dc63c5771442d735,0e170e89a1111715dfc3cfa1a79c2bb0e586aa69,1,15/02/13,20/02/13,97,Replace Change-Id even if the footer is not well-formed,"Replace Change-Id even if the footer is not well-formed

Instead of only looking for a Change-Id in the last chapter if it 
consists of well-formed footer lines just replace the last occurrence of
a valid Change-Id line. Some tools require footer lines e.g. without a
colon.

Bug: 400818
Change-Id: Icce54872adc8c566994beea848448a2f7ca87085
Signed-off-by: Stefan Lay <stefan.lay@sap.com>",0,1,1,0,0,0,1,0,0
10448,I17d0b3ccc27f868c8497607d8e57bf7082e65ba3,https://git.eclipse.org/r/#/c/10448,4,78ea0429be17bc937baeee084ad763231acc1d05,60a05c01dfb5f771e832646e61baf19d38df4fe4,1,18/02/13,03/04/13,242,Speed up clone/fetch with large number of refs,"Speed up clone/fetch with large number of refs

Instead of re-reading all refs after each update, only
read all refs once and check all before update.

Change-Id: I17d0b3ccc27f868c8497607d8e57bf7082e65ba3",0,1,0,0,0,0,1,2,1
10461,I4c5b9f11313dd1665fcbdae2d0755fdb64deb3ef,https://git.eclipse.org/r/#/c/10461,2,e2d164cb8e51c5469e7ce3b7456e892785a3249f,7e80f9f86db2d1937166c6afa3727c46efee4067,1,18/02/13,15/03/13,85,A folder does not constitute a dirty work tree,"A folder does not constitute a dirty work tree

Change-Id: I4c5b9f11313dd1665fcbdae2d0755fdb64deb3ef",0,0,0,1,0,0,1,0,0
10495,I925bc48d9cafcdf13e1a797bb09fc2555eb270c5,https://git.eclipse.org/r/#/c/10495,4,0668211cf5efdb593ef57c5fc625f52913f04273,1cbe3a408e2c5a5d4dcbcdbe8ee1f87300ed769a,1,19/02/13,20/02/13,15,Failing test for bug in PathFilterGroup with long paths,"Failing test for bug in PathFilterGroup with long paths

Bug: 401249
Change-Id: I925bc48d9cafcdf13e1a797bb09fc2555eb270c5",0,1,0,0,0,0,1,0,0
10543,Icaa9a30e5302ee5c0ba23daad11c7b93e26b7445,https://git.eclipse.org/r/#/c/10543,3,034f8d055d73efeb9b1d1128a4d8b355c96709af,56b19680c71acc2f5c1b3dbe432fe70fcde0e8c6,1,20/02/13,08/03/13,71,Extende FileUtils.delete with option to delete empty directories only,"Extende FileUtils.delete with option to delete empty directories only

The new option EMPTY_DIRECTORY will make delete only delete empty
directories. Any attempt to delete files will fail. Can be combined with
RECURSIVE to wipe out entire tree structures and IGNORE_ERRORS to
silently ignore any files.

Change-Id: Icaa9a30e5302ee5c0ba23daad11c7b93e26b7445",0,0,0,0,0,0,0,0,0
10548,I61239d265f395e5ead580df2528e46393dc6bdbd,https://git.eclipse.org/r/#/c/10548,5,da009170ab279b94b858802a7d494743e819c7a5,081a622aad66459310f19c32776ccfc2ca502e42,1,20/02/13,08/03/13,89,RFC: Do not cherry-pick merge commits during rebase,"RFC: Do not cherry-pick merge commits during rebase

Rebase computes the list of commits that are included in
the merges, just like Git does, so do not try to include
the merge commits. Re-recreating merges during rebase is
a bit more complicated and might be a useful future extension,
but for now just linearize during rebase.

Change-Id: I61239d265f395e5ead580df2528e46393dc6bdbd",0,1,0,0,0,0,1,-1,0
10551,I0d79873137ad4042ecc2a0210fe1f6305608b851,https://git.eclipse.org/r/#/c/10551,1,e2c876bb5395dfd9d41506013e989a30c4c3262f,cdf013cbf8f74d203e051603fcd77cea0c4a7cb9,0,21/02/13,21/02/13,424,JGit v2.3.1.201302201838-r,"JGit v2.3.1.201302201838-r

Change-Id: I0d79873137ad4042ecc2a0210fe1f6305608b851
Signed-off-by: Matthias Sohn <matthias.sohn@sap.com>",1,0,0,1,0,0,1,NA,NA
10553,I51a8a53194928416b1aef1f3fce0ce66aadceca4,https://git.eclipse.org/r/#/c/10553,1,cdf013cbf8f74d203e051603fcd77cea0c4a7cb9,7e02c603a8156e91da97a13350061704e532018a,0,21/02/13,21/02/13,422,Prepare 2.3.2-SNAPSHOT builds,"Prepare 2.3.2-SNAPSHOT builds

Change-Id: I51a8a53194928416b1aef1f3fce0ce66aadceca4
Signed-off-by: Matthias Sohn <matthias.sohn@sap.com>",1,0,0,1,0,0,1,NA,NA
10554,I5882aa3b482d6bcd40a45bed51e5ab03f018a5bc,https://git.eclipse.org/r/#/c/10554,1,5a0c1533bb9d83bf5c166e9e95dc709ffbe7f23c,5a720473356ac18e9efc0b68b1a39fb7584307e6,0,21/02/13,21/02/13,388,Merge branch 'stable-2.3',"Merge branch 'stable-2.3'

* stable-2.3:
  Prepare 2.3.2-SNAPSHOT builds
  JGit v2.3.1.201302201838-r
  Accept Change-Id even if footer contains not well-formed entries
  Fix false positives in hashing used by PathFilterGroup

Change-Id: I5882aa3b482d6bcd40a45bed51e5ab03f018a5bc
Signed-off-by: Matthias Sohn <matthias.sohn@sap.com>",1,0,0,0,0,0,1,NA,NA
10558,Idee8be3c7887e1d0c8339ff94aceff36dbf000db,https://git.eclipse.org/r/#/c/10558,1,5a720473356ac18e9efc0b68b1a39fb7584307e6,1aef876674c2b5c6720b10d98ba9afa88e9870d6,1,21/02/13,21/02/13,4,Fix off by one error in PackReverseIndex.,"Fix off by one error in PackReverseIndex.

The last 32bit offset is at Integer.MAX_VALUE.

Change-Id: Idee8be3c7887e1d0c8339ff94aceff36dbf000db",0,0,0,0,0,0,0,0,0
10603,I2ba7a67e8e1596aa6c33a9caddee03a6be48f008,https://git.eclipse.org/r/#/c/10603,1,a869ea101bc095a5497b371a847b3ec0ad77a8c1,6a7d6631b29c870e54418463a38046ec9466a88a,1,22/02/13,01/03/13,16,Improve the documentation of the ByteArraySet used by PathFilterGroup,"Improve the documentation of the ByteArraySet used by PathFilterGroup

Change-Id: I2ba7a67e8e1596aa6c33a9caddee03a6be48f008",0,0,0,1,0,0,1,0,0
10605,I4901dc208fe8f9e4055d27ab7e0ced979fd234f5,https://git.eclipse.org/r/#/c/10605,3,f59d8e2529172c65a31f8756ba0eb09fa1731b55,19bc465ca2ae1595f43111d96c999265f1e6331b,0,23/02/13,23/02/13,25,Deploy Maven artifacts to Eclipse Nexus repository,"Deploy Maven artifacts to Eclipse Nexus repository

Change-Id: I4901dc208fe8f9e4055d27ab7e0ced979fd234f5
Signed-off-by: Matthias Sohn <matthias.sohn@sap.com>",0,0,0,1,0,0,1,NA,NA
10608,I9c6d774526028e56707e15e80370460d964de76e,https://git.eclipse.org/r/#/c/10608,1,19bc465ca2ae1595f43111d96c999265f1e6331b,d27f888920962891448b2041cf058a7f3de383d8,0,23/02/13,24/02/13,2,Update last release version to 2.3.1.201302201838-r,"Update last release version to 2.3.1.201302201838-r

Change-Id: I9c6d774526028e56707e15e80370460d964de76e
Signed-off-by: Matthias Sohn <matthias.sohn@sap.com>",1,0,0,1,0,0,1,NA,NA
10610,Idd7df8125e0792e9bba924eadbc1320230cfa624,https://git.eclipse.org/r/#/c/10610,9,d27f888920962891448b2041cf058a7f3de383d8,84ba4c305ffbba92d5177819658493d3bd69e475,0,25/02/13,25/04/14,31,Add jacoco instrumentation for code coverage reports,"Add jacoco instrumentation for code coverage reports

See http://mickaelistria.wordpress.com/2012/10/08/sonar-at-eclipse-org/

Change-Id: Idd7df8125e0792e9bba924eadbc1320230cfa624
Signed-off-by: Matthias Sohn <matthias.sohn@sap.com>",0,1,0,0,0,0,1,NA,NA
10626,I5cab51374e67bd2d3301e5d9dac47c4259b5e562,https://git.eclipse.org/r/#/c/10626,1,14ec51f0cd8fbc35c15d343a5c74247f37e815e6,1e4df0b63fac83034b6564de0b7bc912c439b0ec,1,25/02/13,25/02/13,2,Fix while boundries in DateRevQueue.add(),"Fix while boundries in DateRevQueue.add()

In add(), ""low"" will never equals ""first"". This fact
should be reflected in the code.

Change-Id: I5cab51374e67bd2d3301e5d9dac47c4259b5e562",0,0,0,0,0,0,0,0,0
10792,I9057bc4ee22f9cc269b1cc00c493841c71527cd6,https://git.eclipse.org/r/#/c/10792,1,b62a1c33ddc211e50aca0ea26612a16f2d4300aa,fd5ddd40b2af6301b1e22a7ae114455978b7a856,1,01/03/13,05/03/13,3,Fix RefUpdate performance for existing Refs,"Fix RefUpdate performance for existing Refs

No longer invoke the expensive RefDatabase.isNameConflicting() check on
updating existing refs, reducing batch ref update time by ~97%.

The RefDirectory implementation of isNameConflicting() is quite
slow (it has to do an expensive loose-ref scan) but it's only necessary
to perform this check on ref update if the ref is being *created* - if
the ref already exists, we can already guarantee that it does not
conflict with any other refs.

C-Git seems to use a similar condition before making the
is_refname_available() check:

https://github.com/git/git/blob/v1.8.1.4/refs.c#L1660-L1670

As an example of the effects on performance, here's a simple timing
experiment using The BFG to remove one file from the JGit repo:

---
$ wget http://repo1.maven.org/maven2/com/madgag/bfg-repo-cleaner/1.0.1/bfg-1.0.1.jar
$ git clone --mirror https://git.eclipse.org/r/p/jgit/jgit.git
$ java -jar bfg-1.0.1.jar -D make_jgit.sh jgit.git
....
Updating references:    100% (5760/5760)
...Ref update completed in 148,949 ms.

BFG run is complete!
---

The execution time for the run is completely dominated by the batch ref
update at the end. Repeating the experiment with BFG v1.0.2 (using JGit
patched with this change), the refs update is dramatically reduced:

---
Updating references:    100% (5760/5760)
...Ref update completed in 4,327 ms.
---

Change-Id: I9057bc4ee22f9cc269b1cc00c493841c71527cd6",0,0,1,0,0,0,1,0,0
10809,I42f509fea8e4ac89fad646aec3dfbf1753ae7e3d,https://git.eclipse.org/r/#/c/10809,2,aee412f31be6532e020679e0354f22bc2d98159b,abd0abde7d435db6d8615b60d4603084a083ced6,1,03/03/13,20/03/13,11,Don't verify host name when sslVerify is false,"Don't verify host name when sslVerify is false

Native git also doesn't verify host names when http.sslVerify=false.
See native git's commit a5ccc597.

See: http://dev.eclipse.org/mhonarc/lists/jgit-dev/msg02047.html
Change-Id: I42f509fea8e4ac89fad646aec3dfbf1753ae7e3d
Signed-off-by: Matthias Sohn <matthias.sohn@sap.com>",0,0,1,0,0,0,1,0,0
10810,I14b0d359dc69b8908f68e02cea7a756ac34bf881,https://git.eclipse.org/r/#/c/10810,3,9d8579cb92f49ba2f823075f3e8085c19872e655,ef1d6b65faf7f4b1a76968fe83bb99d4411bbf9a,1,03/03/13,04/03/13,36,"Fix corrupted CloneCommand bare-repo fetch-refspec ""refs/heads//*""","Fix corrupted CloneCommand bare-repo fetch-refspec ""refs/heads//*""

CloneCommand has been creating fetch refspecs like this on bare clones:

[remote ""origin""]
        url = ssh://example.com/my-repo.git
        fetch = +refs/heads/*:refs/heads//*

As you can see, the destination ref pattern has a superfluous slash.

It looks like this behaviour has always been the case for CloneCommand,
at least since cc2197ed when code catering to bare-clone fetch refspecs
was added. That was released with JGit v1.0 almost 2 years ago, so
there will probably be some bare repos in the wild which will have been
cloned with JGit and have these corrupted refspecs.

The effect of the corrupted fetch refspec is quite interesting. Up to
and including JGit 2.0, the corrupt refspec was tolerated and fetches
would work as intended with no indication to the user that anything was
amiss. With JGit 2.1, a change was introduced which made JGit less
tolerant, and fetches now attempt to update the non-existing ref
""refs/heads//master"". No exception is raised, but the real ref -
""refs/heads/master"" - is not updated.

This behaviour was noticed by a user of Agit (which does bare clones by
default and recently updated from JGit v2.0 to v2.2), reported here:

https://github.com/rtyley/agit/issues/92


If you run C-Git fetch on a bare-repo cloned by JGit, it flat-out
rejects the refspec (checked against v1.7.10.4):

fatal: Invalid refspec '+refs/heads/*:refs/heads//*'

Incidentally, C-Git does not create an explicit fetch refspec at all
when performing a bare clone - the full remote config generated by C-Git
looks like this:

[remote ""origin""]
        url = ssh://example.com/my-repo.git

Using JGit on such a repository works fine, so omitting the fetch
refspec entirely is also an option.

Change-Id: I14b0d359dc69b8908f68e02cea7a756ac34bf881",0,0,0,0,0,0,0,0,0
10813,Idb8881eeb6ccce8530f2837b25296e8e83636eb7,https://git.eclipse.org/r/#/c/10813,5,c60b356e09a276f744d1e5145d8fa94b25fc97f9,88ad946a5178884c9a33e16eb2b4dfebda03c0fc,1,04/03/13,10/04/13,27,"LogCommand.all(), peel references before using them","LogCommand.all(), peel references before using them

Problem:
LogCommand.all() throws an IncorrectObjectTypeException when
there are tag references, and the repository does not contain
the file ""packed-refs"". It seems that the references were not properly
peeled before being added to the markStart() method.

Solution:
Call getRepository().peel() on every Ref that has isPeeled()==false.

Bug: 402025
Change-Id: Idb8881eeb6ccce8530f2837b25296e8e83636eb7",0,1,0,0,0,0,1,0,0
10832,I7db28d86f8e8b282a403acd9a4c4defaae828f94,https://git.eclipse.org/r/#/c/10832,1,78273c41f6fe9d2ad791c826b6dc0130a0166ee9,a1e078e9fe460dc6a6c728d9c767b7c05b2855a9,1,04/03/13,04/03/13,7,Remove the unused method PackFile.hasExt().,"Remove the unused method PackFile.hasExt().

It will be used in a future change, so just include it with that change.

Change-Id: I7db28d86f8e8b282a403acd9a4c4defaae828f94",0,0,0,0,0,0,0,0,0
10910,I428bb27d419e8b1b69b6f3e2fd07cd29703669ad,https://git.eclipse.org/r/#/c/10910,1,be34f5842c5af88dcca32e2170904f2293724dc9,9b662456d78182c26715e75ced2454c660f84cc4,0,06/03/13,06/03/13,2,Write the bitmap index correctly in DFS GC.,"Write the bitmap index correctly in DFS GC.

A bug caused the .bitmap to actually have the .idx contents.

Change-Id: I428bb27d419e8b1b69b6f3e2fd07cd29703669ad",0,0,0,0,0,0,0,NA,NA
10912,I2d3a299069acc5ce276b1b5439ff2258903c6ff3,https://git.eclipse.org/r/#/c/10912,1,9b662456d78182c26715e75ced2454c660f84cc4,7e1f124e3db82cb8d05aebcbc39c9edbd0494945,1,06/03/13,06/03/13,6,Rename DfsPackFile getBitmap method to match PackFile,"Rename DfsPackFile getBitmap method to match PackFile

There is no reason for these to differ in name. Match the
shorter name used by PackFile.

Change-Id: I2d3a299069acc5ce276b1b5439ff2258903c6ff3",0,0,0,0,0,0,0,0,0
10913,Ia44e46558abdddee560bb184158b1e0af9437eee,https://git.eclipse.org/r/#/c/10913,1,7e1f124e3db82cb8d05aebcbc39c9edbd0494945,0b2a7112b50b719212f041b5ee38084bd58ee0fb,1,06/03/13,06/03/13,4,Do not attempt to read bitmap from invalid pack,"Do not attempt to read bitmap from invalid pack

If a pack file has been marked invalid due to a prior IOException
accessing its contents, do not offer its bitmap index to callers.
The pack cannot be used so its bitmap should be off limits from
any reader trying to work from a bitmap.

Change-Id: Ia44e46558abdddee560bb184158b1e0af9437eee",0,0,0,0,0,0,0,0,0
10921,I6f88a4914a19e4e18aa60d59b0cc8a33b61f7fc2,https://git.eclipse.org/r/#/c/10921,1,0b2a7112b50b719212f041b5ee38084bd58ee0fb,029bf9376a301a46928f88cf816b51bc8954c4fd,0,07/03/13,07/03/13,16,Add javaewah bundle to features using it,"Add javaewah bundle to features using it

This ensures that OSGi consumers can retrieve this dependency from the
JGit or EGit p2 repository.

Change-Id: I6f88a4914a19e4e18aa60d59b0cc8a33b61f7fc2
Signed-off-by: Matthias Sohn <matthias.sohn@sap.com>",0,0,0,0,0,0,0,NA,NA
10945,I92bfb47dd16c898313d2ee525395609c3bf72ebe,https://git.eclipse.org/r/#/c/10945,5,029bf9376a301a46928f88cf816b51bc8954c4fd,122b1efa90551547e72f611ded32f38c56c08f5e,1,07/03/13,11/03/13,511,Add a NameRevCommand for describing IDs in terms of refnames,"Add a NameRevCommand for describing IDs in terms of refnames

The walk logic does not use RevWalk because it needs to walk all paths
to each of the requested commits, keeping track of each path along which
the commit was found in the RevCommit subclass. From these paths, a
single ""best"" path is chosen based on the total path length, with a
penalty applied for paths that traverse merges.

This functionality parallels ""git name-rev"".

Change-Id: I92bfb47dd16c898313d2ee525395609c3bf72ebe",0,1,1,0,1,1,1,2,1
10983,If3fd40b64d5088c4579946271a67346cbd9e6556,https://git.eclipse.org/r/#/c/10983,1,c1cd85f9209b60a02b28d45f9cb6d2b1900c2d92,bad49a63b2f7efd1bdc7f147ec0966cd7d15dbc9,1,08/03/13,08/03/13,18,Include the number of ms in timeout error message,"Include the number of ms in timeout error message

Noticed that while analyzing bug 402131.

Change-Id: If3fd40b64d5088c4579946271a67346cbd9e6556",0,0,0,0,0,0,0,0,0
10996,I5f11a998a7185c75ece3271d8bc6181bb83f54c1,https://git.eclipse.org/r/#/c/10996,1,7a62be9f3b23159c5c27357f6d98912a8df27e5b,295ea3b691445d6b233804755f8ad93d4a7cd2c1,0,08/03/13,12/03/13,57,Avoid repacking unreachable garbage in DfsGarbageCollector,"Avoid repacking unreachable garbage in DfsGarbageCollector

If a repository has significant amounts of unreachable garbage the
final phase to coalesce it can take longer than any other part of the
garbage collection phase. Provide a setting for applications to tweak
the threshold where coalescing ends and files just remain on disk.

Change-Id: I5f11a998a7185c75ece3271d8bc6181bb83f54c1",0,0,1,0,0,0,1,NA,NA
10999,I3bed89e9569ee3363c36bb3f73fcd34057a3883f,https://git.eclipse.org/r/#/c/10999,1,cd01ceda74d44eab075beccc335fc2fd34bac87f,014ec387dd1f7cfd03fbe880bd7072a097e8509d,1,08/03/13,12/03/13,25,Cluster UNREACHABLE_GARBAGE packs at the end of the search list,"Cluster UNREACHABLE_GARBAGE packs at the end of the search list

Garbage is unlikely to be used by a reader. Ensure they always
cluster at the end of the search list, no matter what timestamp
was used on the pack files.

Change-Id: I3bed89e9569ee3363c36bb3f73fcd34057a3883f",0,0,1,0,0,0,1,0,0
11004,If7aad533b82448bbb688278e21f709282e5ccf4b,https://git.eclipse.org/r/#/c/11004,1,a64c4d1414667673903e3a0bbb44548d140b42cd,79aee234927111371d5408d7686105afc989dc6b,1,08/03/13,12/03/13,143,Simplify UploadPack by parsing wants separately from haves,"Simplify UploadPack by parsing wants separately from haves

The DHT backend was very slow at parsing objects. To work around
that performance limitation I obfuscated UploadPack by folding both
the want and have sets together in a single parse queue. Since DHT
was removed the complexity is no longer constructive to JGit.

Doing this refactoring prepares the code for a slightly future
change where the have lines need to be handled specially from the
want lines. Splitting the parsing up into two phases makes such
a modification trivial.

Change-Id: If7aad533b82448bbb688278e21f709282e5ccf4b",0,0,1,0,0,0,1,0,0
11005,Icd550359ef70fc7b701980f9b13d923fd13c744b,https://git.eclipse.org/r/#/c/11005,1,79aee234927111371d5408d7686105afc989dc6b,8ef48ac9fec49c037ce8cd0bf837d60912c7e692,1,08/03/13,12/03/13,43,Avoid looking at UNREACHABLE_GARBAGE for client have lines,"Avoid looking at UNREACHABLE_GARBAGE for client have lines

Clients send a bunch of unknown objects to UploadPack on each round
of negotiation. Many of these are not known to the server, which
leads the implementation to be looking at indexes for garbage packs.

Disable examining the index of a garbage pack, allowing servers to
avoid reading them from disk during negotiation.

The effect of this change is the server will only ACK a have line
if the object was reachable during the last garbage collection,
or was recently added to the repository. For most repositories
there is no impact in this behavior change.

If a repository rewinds a branch, runs GC, and then resets the
branch back to where it was before, the now current tip is going to
be skipped by this change. A client that has the commit may wind up
getting a slightly larger data transfer from the server as an older
common ancestor will be chosen during negotiation. This is fixable
on the server side by running GC again to correct the layout of
objects in pack files.

Change-Id: Icd550359ef70fc7b701980f9b13d923fd13c744b",0,0,1,0,0,0,1,2,1
11017,I4eb87c850078ca187b38b81cc91c92afb1176945,https://git.eclipse.org/r/#/c/11017,2,d01d0ea34d316dc029ef39353ecea3c71a0d3b76,4b5b161dfc9bade10241b2ec3f0caf3e2db53c76,1,09/03/13,16/03/13,174,Support aborting non-interactive rebase started from C Git,"Support aborting non-interactive rebase started from C Git

Continuing is trickier, as .git/rebase-apply contains no message file
and no git-rebase-todo.

Bug: 336820
Change-Id: I4eb87c850078ca187b38b81cc91c92afb1176945",0,0,1,0,0,0,1,0,0
11021,I9ec8568fa1100d2e9c8d4ca0e347bf77ec6d8734,https://git.eclipse.org/r/#/c/11021,1,27e67ecef67ae39505b3c3c6a5b56b547f9c3b9e,266d3ba5ba69e6391ce2c6619fe3d6d3a3753ce4,1,09/03/13,10/03/13,48,Add isRebasing to RepositoryState,"Add isRebasing to RepositoryState

See EGit change Ic69f5c952a49f023c0949f04b3e976be1b267fbe where this
could be used.

Change-Id: I9ec8568fa1100d2e9c8d4ca0e347bf77ec6d8734",0,0,0,0,0,0,0,0,0
11022,If96d66b6c025ad8f2f47829c933f3c65ab6cbeef,https://git.eclipse.org/r/#/c/11022,2,9da78d96f62a0a907273582b059565596ad00636,c4d835a5c5fa94e5550df4aa26f5aaa035105d61,1,09/03/13,16/03/13,6,Use RawParseUtils.prevLF in RebaseCommand,"Use RawParseUtils.prevLF in RebaseCommand

As noticed by Robin Rosenberg in review of
I4eb87c850078ca187b38b81cc91c92afb1176945.

Change-Id: If96d66b6c025ad8f2f47829c933f3c65ab6cbeef",0,0,1,0,0,0,1,0,0
11096,I9fc69fccedf362453f74f1e09d2b50ac705a9cac,https://git.eclipse.org/r/#/c/11096,4,e943dadbeb367185ed70dce4b65337a5d564e1ca,c064a268bee2fc7f89a103639604e5c9eeb3c4b9,0,13/03/13,20/03/13,54,Fix line endings and whitespace errors in jgit feature,"Fix line endings and whitespace errors in jgit feature

Change-Id: I9fc69fccedf362453f74f1e09d2b50ac705a9cac
Signed-off-by: Matthias Sohn <matthias.sohn@sap.com>",0,1,1,1,0,0,1,NA,NA
11127,I90e85bc835d11278631afd0e801425a292578bba,https://git.eclipse.org/r/#/c/11127,2,5cf0b2048627de2bde97a0391baf88cd8984c767,70a9839a71f74eef7793540b9b8104375e7b5e30,1,13/03/13,13/03/13,115,Allow adding single refs or all tags to NameRevCommand,"Allow adding single refs or all tags to NameRevCommand

Change-Id: I90e85bc835d11278631afd0e801425a292578bba",0,0,0,1,0,1,1,0,0
11141,I7e3f6b9fb1ac4b99d2cc9a78c63aad86f4fa5744,https://git.eclipse.org/r/#/c/11141,2,9aae3aef2969c305e12027e41f41ac311bd605fe,2a9dfcc54c8fb0bc578b7b94b5a2f04b69fdb459,1,13/03/13,19/01/14,52,Do not report ignored directories as untracked,"Do not report ignored directories as untracked

Change-Id: I7e3f6b9fb1ac4b99d2cc9a78c63aad86f4fa5744
Signed-off-by: Matthias Sohn <matthias.sohn@sap.com>",0,0,0,1,0,0,1,0,0
11159,I772001a219e5eb346f5552c92e6d98c70b2cfa98,https://git.eclipse.org/r/#/c/11159,1,8fe02f1ac2703c6609c9b44cb85337d573ca5a4a,2c0125a68ce23fd2cc2ca3780333202ba398645f,1,14/03/13,14/03/13,21,NameRevCommand: Use ~ notation for first parents of merges,"NameRevCommand: Use ~ notation for first parents of merges

Prefer ~(N+1) to ^1~N. Although both are correct, the former is
cleaner and matches ""git name-rev"".

Change-Id: I772001a219e5eb346f5552c92e6d98c70b2cfa98",0,0,0,0,0,1,1,0,0
11178,Id64ab38d507c0ed19ae0d106862d175b7364eba3,https://git.eclipse.org/r/#/c/11178,2,2c0125a68ce23fd2cc2ca3780333202ba398645f,4979aa173f1961b323a19c1e3df0227f79dc37f8,1,14/03/13,18/03/13,19,Simplfy caching of DfsPackDescription from PackWriter.Statistics,"Simplfy caching of DfsPackDescription from PackWriter.Statistics

Let the pack description object handle copying the relevant stats
values. This moves it out of the garbage collector and compactor
algorithms, co-locating with something that might care.

Remove some unnecessary code from the DfsPackCompactor, the stats
tracks the same information and can supply it.

Change-Id: Id64ab38d507c0ed19ae0d106862d175b7364eba3",0,0,1,0,0,0,1,0,0
11179,Ic81fefb158ed6ef8d6522062f2be0338a49f6bc4,https://git.eclipse.org/r/#/c/11179,2,4979aa173f1961b323a19c1e3df0227f79dc37f8,8417fbd153fc2a830d4f5eb04efdec8f35f17008,0,14/03/13,18/03/13,25,Remove objects before optimization from DfsGarbageCollector,"Remove objects before optimization from DfsGarbageCollector

Just counting objects is not sufficient. There are some race
conditions with receive packs and delta base completion that
may confuse such a simple algorithm.

Instead always do the larger set computations, and rely on
the PackWriter having no objects pending output as the way
to avoid creating an empty pack file.

Change-Id: Ic81fefb158ed6ef8d6522062f2be0338a49f6bc4",0,0,1,0,0,0,1,NA,NA
11183,I2645d482f8733fdf0c4120cc59ba9aa4d4ba6881,https://git.eclipse.org/r/#/c/11183,1,8417fbd153fc2a830d4f5eb04efdec8f35f17008,b368371735616dfa171bb37ac6882a515cfaf7dc,1,14/03/13,18/03/13,304,Remove cached_packs support in favor of bitmaps,"Remove cached_packs support in favor of bitmaps

The bitmap code in PackWriter knows exactly when to use a pack as
a ""cached pack"". It enables cached pack usage only when the pack
has a bitmap and its entire closure of objects needs to be sent.
This is a much simpler code path to maintain, and JGit actually
has a way to write the necessary index.

Change-Id: I2645d482f8733fdf0c4120cc59ba9aa4d4ba6881",0,0,1,0,0,0,1,-1,0
11186,I0e8cd9ad05f123ab3851960890a50213f353a373,https://git.eclipse.org/r/#/c/11186,1,5f531057aeb064c632e103d0df363ad7a557e7de,1fe5943af32284effcc91d471068b6eb1eeefab8,1,15/03/13,15/03/13,12,Add toString() for RepoStatistics,"Add toString() for RepoStatistics

This is helpful for writing the repository statistics into a log file.

Change-Id: I0e8cd9ad05f123ab3851960890a50213f353a373
Signed-off-by: Edwin Kempin <edwin.kempin@sap.com>",0,0,0,0,0,0,0,0,0
11187,I5e7f5ff7e01c9538ca12a1860844ba9b467bdf05,https://git.eclipse.org/r/#/c/11187,1,eeb2f109144eed9987cd5a845278fa7c131831fc,4806debd8e743bb1084eb800aa8e08a72cd0dbed,1,15/03/13,15/03/13,18,Add toString() for PackConfig,"Add toString() for PackConfig

This is helpful for writing the pack configuration into a log file.

Change-Id: I5e7f5ff7e01c9538ca12a1860844ba9b467bdf05
Signed-off-by: Edwin Kempin <edwin.kempin@sap.com>",0,0,0,0,0,0,0,0,0
11188,Iac1ab3e0b8c419c90404f2e2f3559672eb8f6d28,https://git.eclipse.org/r/#/c/11188,3,c0bc8e4d6bd0a1652edc5fdff6c6d949bf020b6f,5e31c067e8cfc634f583e6c5058afc2b3d8c796c,1,15/03/13,19/03/13,58,Fix GC for FileRepo in case packfile renames fail,"Fix GC for FileRepo in case packfile renames fail

Only on Windows the rename operation which renames temporary Packfiles
(and index-files and bitmap-files) sometime fails. This happens only
when renaming a temporary Packfile to a Packfile which already exists.
Such situations occur if you run GC twice on a repo without modifying
the repo inbetween. 

In such situations there was bug in GC which led to a corrupted repo
whithout any packfiles anymore. This commit fixes this problem the hard
way: if a OS rename fails we check source and destination packfile for
content-equality. If they are equal simply delete the source file
instead of trying to rename.

I am searching for a better solution because the content-check is
expensive and the root cause why Windows doesn't allow the rename is not
found. It is proofen that on the source file and the destination file we
don't have any OS FileHandles anymore - but still the rename fails. Unix
and Mac don't see this problem. 

Bug: 389305
Change-Id: Iac1ab3e0b8c419c90404f2e2f3559672eb8f6d28
Signed-off-by: Christian Halstrick <christian.halstrick@sap.com>
Signed-off-by: Matthias Sohn <matthias.sohn@sap.com>",0,0,1,0,0,1,1,10,1
11202,I0175e0c3ab1abe6722e4241abe2f106d1fe92a69,https://git.eclipse.org/r/#/c/11202,3,f059084cdae040b7df0b1c8845a9fe023c47a054,2b3888ba2cb89a59a3625e5812802f11fd376a92,1,15/03/13,15/03/13,40,NameRevCommand: Don't use merge cost for first parent,"NameRevCommand: Don't use merge cost for first parent

Treat first parent traversals as 1 and higher parents as MERGE_COST,
to match git name-rev. Allow overriding the merge cost during tests to
avoid creating 2^16 commits on the fly.

Change-Id: I0175e0c3ab1abe6722e4241abe2f106d1fe92a69",0,0,0,0,0,1,1,0,0
11265,Icf666c7ef803179b84306ca8deb602369b8df16e,https://git.eclipse.org/r/#/c/11265,3,1b0c39bc6a06838d27248770a7c36069f2828874,12d219f136b8558fed6e128a13c9f953966f39ba,1,18/03/13,19/03/13,30,Make GC more robust against corrupt reflogs,"Make GC more robust against corrupt reflogs

With JGit it is possible to write reflog entries where new objectid and
old objectid is null. Such reflogs cause FileRepository GC to crash
because it doesn't expect the new objectid to be null. One case where
this happened is in Gerrit's allProjects repo. In the same way as we
expect the old objectid to be potentially null we should also ignore
null values in the new objectid column.

Change-Id: Icf666c7ef803179b84306ca8deb602369b8df16e",0,0,0,0,0,1,1,10,1
11273,I2ab1327c202ef2003565e1b0770a583970e432e9,https://git.eclipse.org/r/#/c/11273,2,a1a98dcd318a5b98fed73777e4ef16940e49bb79,904870f663fe73af2b39c415902ecd1000efc960,1,18/03/13,18/03/13,1387,JGit 3.0: move internal classes into an internal subpackage,"JGit 3.0: move internal classes into an internal subpackage

This breaks all existing callers once. Applications are not supposed
to build against the internal storage API unless they can accept API
churn and make necessary updates as versions change.

Change-Id: I2ab1327c202ef2003565e1b0770a583970e432e9",0,0,0,0,1,0,1,107,1
11295,I7e0c74ecfd0e0615d10fb582b2897d33be23440a,https://git.eclipse.org/r/#/c/11295,4,904870f663fe73af2b39c415902ecd1000efc960,23a8db03fbd7e01dde6ac8a828bfd45bbb1938e5,1,19/03/13,20/03/13,26,Fix formatting of PackConfig.toString() & GC.RepoStatistics.toString(),"Fix formatting of PackConfig.toString() & GC.RepoStatistics.toString()

Change-Id: I7e0c74ecfd0e0615d10fb582b2897d33be23440a
Signed-off-by: Edwin Kempin <edwin.kempin@sap.com>",0,1,0,1,0,0,1,0,0
11296,Id7e579157e9fbef5cfd1fc9f97ada45f0ca8c379,https://git.eclipse.org/r/#/c/11296,6,24bd8f632f4eaae2b3170ea3048eb98dc04d3269,2b0f65197ea6ac71dbf26d78668591f5578c5d49,1,19/03/13,20/03/13,20,Allow to get repo statistics from GarbageCollectionCommand before gc,"Allow to get repo statistics from GarbageCollectionCommand before gc

When running the garbage collection for a repository it is often
interesting to compare the repository statistics from before and after
the garbage collection to understand the effect of the garbage
collection. This is why it makes sense that the
GarbageCollectionCommand provides a method to retrieve the repository
statistics before running the garbage collection.

So far without running the garbage collection the repository statistics
can only be retrieved by using JGit internal classes. This is what EGit
and Gerrit do at the moment, but it would be better to have an API for
this.

Change-Id: Id7e579157e9fbef5cfd1fc9f97ada45f0ca8c379
Signed-off-by: Edwin Kempin <edwin.kempin@sap.com>",0,1,0,0,0,0,1,0,0
11307,I29a078d6316daa4e4407db9ecedc8b7ed05535cd,https://git.eclipse.org/r/#/c/11307,1,f927291374a6cc1dd42ceb711727d868f732822c,8ad591b94a30dbe31bca85f97bedac7f509c6e8c,0,19/03/13,19/03/13,0,Fix location of DfsText.properties,"Fix location of DfsText.properties

The file was not moved when the package was renamed to internal.

Change-Id: I29a078d6316daa4e4407db9ecedc8b7ed05535cd",0,0,0,0,0,0,0,NA,NA
11321,I3453342c17e064dcb50906a540172978941a10a6,https://git.eclipse.org/r/#/c/11321,4,e903262b9b2c66cb4f4fbb12fa38db83c094b892,6ff6802c13af214a98f4bf7e0e4197876aaa721c,1,19/03/13,27/03/13,16,File.renameTo behaves differently on Unix and Windows,"File.renameTo behaves differently on Unix and Windows

On Windows renameTo will not overwrite a file, so it must be deleted
first. The fix for Bug 402834 did not account for that.

Bug: 403685
Change-Id: I3453342c17e064dcb50906a540172978941a10a6",0,1,1,0,0,0,1,0,0
11324,I7c9c09b4f190fa7cb830563bcdf2071407ee2ce0,https://git.eclipse.org/r/#/c/11324,3,548ae9f97bafa6488d57f943555a72d19c6cb3ad,c713ede11acc98096f8c145aad6d6639155cd387,1,19/03/13,21/03/13,59,Don't use internal type FileRepository in public API,"Don't use internal type FileRepository in public API

Change-Id: I7c9c09b4f190fa7cb830563bcdf2071407ee2ce0
Signed-off-by: Matthias Sohn <matthias.sohn@sap.com>",0,0,0,1,0,0,1,0,0
11325,If98b0b97e8f13a94d4ea7ba1be0f90d82b0fba4b,https://git.eclipse.org/r/#/c/11325,3,be99078a2f058f50aa8c369e9a4c4f6dbe55faf2,fbc25d01bb5fcb789d67191f162edb6962bf23e9,1,19/03/13,21/03/13,15,Add convenience factory method for most used builder pattern,"Add convenience factory method for most used builder pattern

This will simplify to adapt EGit to the removal of FileRepository from
jgit's public API in change I2ab1327c202ef2003565e1b0770a583970e432e9.

Change-Id: If98b0b97e8f13a94d4ea7ba1be0f90d82b0fba4b
Signed-off-by: Matthias Sohn <matthias.sohn@sap.com>",0,0,0,0,0,0,0,0,0
11353,Iaca88ec28b412e6b58e7b39a0762ba54b25f9471,https://git.eclipse.org/r/#/c/11353,4,83b13acdd3c72e0a3d2c18d95e1409a5e91ef9b8,892d1ed3da7ba3d43cfbe5725b6faba9f1ed33fd,1,20/03/13,21/03/13,60,"fix @since tags in JGit, version 2.4 never existed","fix @since tags in JGit, version 2.4 never existed

Git#nameRev should also be tagged with ""@since 3.0""

Change-Id: Iaca88ec28b412e6b58e7b39a0762ba54b25f9471",0,1,0,0,0,0,1,0,0
11354,Ib461640a43111b7df4a0debe92ff69b82171329c,https://git.eclipse.org/r/#/c/11354,3,d2549cfc0b124f05c4c4a4fb1eb941c5437ff5fb,8f1fafbcb5bec20363e0e76a0d8c6f285aa2876f,1,21/03/13,19/04/13,186,IndexDiff: Provide conflict type (stage mask),"IndexDiff: Provide conflict type (stage mask)

Adds a new method getConflictTypes() which returns a Map<String,
ConflictType> (path to conflict type). ConflictType is an enum for all
possible stage combinations (BOTH_DELETED, ADDED_BY_US, ...).

This can be used to implement the conflict text for unmerged paths in
output of ""git status"" or in EGit for decorations/hints.

Bug: 403697
Change-Id: Ib461640a43111b7df4a0debe92ff69b82171329c",0,0,0,0,0,0,0,0,0
11399,I6b20d78e6bd1f245fdca331554c106f8bae44b9c,https://git.eclipse.org/r/#/c/11399,1,0a4ad7b3f519ca085eb83140e9f88591b4ca627b,f52164ab49bc63dd80e6b90f61cc0fb778e35651,1,22/03/13,23/03/13,29,Add missing @since tags,"Add missing @since tags

Change-Id: I6b20d78e6bd1f245fdca331554c106f8bae44b9c
Signed-off-by: Matthias Sohn <matthias.sohn@sap.com>",0,0,0,1,0,0,1,0,0
11400,Ib34f9635b4d060f5d17a6c823ec91af1d934a180,https://git.eclipse.org/r/#/c/11400,1,f52164ab49bc63dd80e6b90f61cc0fb778e35651,f14fc7e0f1ac3761c9571b3553ccea50912c8c65,0,22/03/13,23/03/13,3,Grant access to jgit internals to junit and http.server bundles,"Grant access to jgit internals to junit and http.server bundles

Change-Id: Ib34f9635b4d060f5d17a6c823ec91af1d934a180
Signed-off-by: Matthias Sohn <matthias.sohn@sap.com>",0,0,0,1,0,0,1,NA,NA
11401,I5963ae720f33cb148de08b4c64d02c81d6791139,https://git.eclipse.org/r/#/c/11401,1,f14fc7e0f1ac3761c9571b3553ccea50912c8c65,0ceda32fb2862c430e48c558ed53d83194f0c17e,0,22/03/13,23/03/13,7,SimpleHttpServer API shouldn't expose internals,"SimpleHttpServer API shouldn't expose internals

Change-Id: I5963ae720f33cb148de08b4c64d02c81d6791139
Signed-off-by: Matthias Sohn <matthias.sohn@sap.com>",0,0,0,1,0,0,1,NA,NA
11412,I54a46c29df5eafc7739a6ef29e5dc80fa2f6d9ba,https://git.eclipse.org/r/#/c/11412,3,0ceda32fb2862c430e48c558ed53d83194f0c17e,2a8fe4059f32aa6c2235a2bef45286c5451b8516,1,23/03/13,24/03/13,85,Add tests for FileUtils.delete and EMPTY_DIREECTORIES_ONLY,"Add tests for FileUtils.delete and EMPTY_DIREECTORIES_ONLY

Change-Id: I54a46c29df5eafc7739a6ef29e5dc80fa2f6d9ba",0,0,0,1,0,0,1,0,0
11414,Iae75c49c85445ada7795246a02ce02f7c248d956,https://git.eclipse.org/r/#/c/11414,3,054d431574cd42e43a4e37b53d95341dbdf0d58a,f8f2865bfeb64ee3db65ad83a2e2b950dba27995,1,24/03/13,27/03/13,87,Extend FileUtils.rename to common git semantics,"Extend FileUtils.rename to common git semantics

Unlike the OS or Java rename this method will (on *nix) try (on Windows)
replace the target with the source provided the target does not exist,
the target does exist and is a file, or if it is a directory which only
contains directories. In the latter case the directory hierarchy will be
deleted.

Change-Id: Iae75c49c85445ada7795246a02ce02f7c248d956",0,0,1,0,0,0,1,0,0
11416,I92c9757a37644ec48ed1d785f4dacd6c44276632,https://git.eclipse.org/r/#/c/11416,1,e95068950bfaaef780f7e088dab4fca036ebe774,87c7cd06bb4a2233347d53c8e97939ebf18cfedd,0,24/03/13,24/03/13,2,Update build to Tycho 0.17,"Update build to Tycho 0.17

Change-Id: I92c9757a37644ec48ed1d785f4dacd6c44276632
Signed-off-by: Matthias Sohn <matthias.sohn@sap.com>",1,0,0,1,0,0,1,NA,NA
11482,I55142ad8ea08a3e2e8349f72b3714578eba9c342,https://git.eclipse.org/r/#/c/11482,1,79be10e8d3e44659f67d08daa6614e4e250d5a75,0fcf0c4520fd629445f7fe6a5a10d0fdbe9d5704,1,26/03/13,26/03/13,8,Always add FileExt to DfsPackDescription,"Always add FileExt to DfsPackDescription

Instead of forcing the implementation of the DFS backend to handle
making sure the extension bits are set correctly, have the common
callers in JGit set the extension at the same time they supply the
file sizes to the pack description. This simplifies assumptions for
an implementation of the DFS backend.

Change-Id: I55142ad8ea08a3e2e8349f72b3714578eba9c342",0,0,0,0,0,0,0,0,0
11498,If42b6192d92c5a2d8f2bf904b16567ef08c32e89,https://git.eclipse.org/r/#/c/11498,1,0fcf0c4520fd629445f7fe6a5a10d0fdbe9d5704,5b7f2768c5d6dd112f9f76e167934a1e840520bb,0,26/03/13,28/03/13,11,When renaming the lock file succeeds the lock isn't held anymore,"When renaming the lock file succeeds the lock isn't held anymore

This wrong book-keeping caused IOExceptions to be thrown because
LockFile.unlock() erroneously tried to delete the non-existing lock
file. These IOExeptions were hidden since they were silently caught. 

Change-Id: If42b6192d92c5a2d8f2bf904b16567ef08c32e89
Signed-off-by: Matthias Sohn <matthias.sohn@sap.com>",0,0,0,0,0,0,0,NA,NA
11553,I476921ff8dfa6a357932d42ee59340873502b582,https://git.eclipse.org/r/#/c/11553,1,041e1bbc83eda1e6d43995b4208afcb0cc7e0621,99f9d71db0f2ccc73245abde00ec93e6b1e69e06,0,28/03/13,28/03/13,5,Fix CommitCommand amend mode to preserve parent order,"Fix CommitCommand amend mode to preserve parent order

Change-Id: I476921ff8dfa6a357932d42ee59340873502b582",0,0,0,1,0,0,1,NA,NA
11556,If0ebb2417a941d9d3fc0d3f444316d0d1c494ff3,https://git.eclipse.org/r/#/c/11556,10,abde86cf6c991890b75f7d35aaa9c1f05d4115f7,51afbb2cb324fd846b51a40d0b5c7bb9bf2c879a,1,28/03/13,26/04/13,412,Add internal porcelain-style API for ArchiveCommand,"Add internal porcelain-style API for ArchiveCommand

This is a first step toward exposing archive creation functionality in
a new org.eclipse.jgit.archive module.

Change-Id: If0ebb2417a941d9d3fc0d3f444316d0d1c494ff3",0,1,0,0,0,0,1,0,0
11558,Ie46fd211931fa09ef3a6a712bd1da3d7fb64c5e3,https://git.eclipse.org/r/#/c/11558,4,5a21046c25652eaa8442ff835f9186d891c6c2d0,c6fc65de0fdb09ad518711111a8be69f3face189,1,28/03/13,10/08/13,104,Added characters to be escaped in file name patterns,"Added characters to be escaped in file name patterns

Originally, characters could not be escaped in FileNameMatcher patterns.
This breaks file name matching when escaped brackets ""\["" and ""\]"" are
used in the pattern. A fix has been implemented to allow for any
character to be escaped by prepending it with a '\'

Bug: 340715
Change-Id: Ie46fd211931fa09ef3a6a712bd1da3d7fb64c5e3
Signed-off-by: Gustav Karlsson <gustav.karlsson@tieto.com>",0,1,1,0,0,0,1,0,0
11564,Ifd537ce4e726cb9460ea332f683428689bd3d7f4,https://git.eclipse.org/r/#/c/11564,3,ba736b2fe856129b70bbe75a2604b313b1d8730f,45df858c67e149185b01a6d2c1a413a39ae924a0,1,30/03/13,08/04/13,7,Add a constant for info/exclude,"Add a constant for info/exclude

Change-Id: Ifd537ce4e726cb9460ea332f683428689bd3d7f4",0,0,0,1,0,0,1,0,0
11565,I4733d6f719bc0dc694e7a6a6ad2092de6364898c,https://git.eclipse.org/r/#/c/11565,4,3fa221be6373bcf6bfaa3c37f7fdcaec5e7c0be7,b4cee4b88f4c7bdbdbefdba8358c6945f6149a71,1,30/03/13,04/04/13,21,Indicate initial commit on a branch in the reflog,"Indicate initial commit on a branch in the reflog

Bug: 393463
Change-Id: I4733d6f719bc0dc694e7a6a6ad2092de6364898c",0,1,0,0,0,0,1,0,0
11567,I9b09bb88528af465018fc0278f5441f7e6b75986,https://git.eclipse.org/r/#/c/11567,5,f6d2c05525d78298daa976d0a180985ed87f03fc,4d2f3d8949f9a7f1a0b6d9751388107b40ebad80,1,30/03/13,10/08/13,65,Recognize CRLF when parsing the short message of a commit or tag,"Recognize CRLF when parsing the short message of a commit or tag

Bug: 400707
Change-Id: I9b09bb88528af465018fc0278f5441f7e6b75986",0,1,1,0,0,0,1,0,0
11569,I48b1828e0b1304f76276ec07ebac7ee9f521b194,https://git.eclipse.org/r/#/c/11569,1,9b79b6ba6199fd31c9a0d2e859b445350f93c716,dda3693c40829a298f8f4976a52314bcd49e4b2f,1,31/03/13,10/04/13,23,LogCommand.all(): filter out refs that do not refer to commit objects,"LogCommand.all(): filter out refs that do not refer to commit objects

 1. I have authored 100% of the content I'm contributing,
 2. I have the rights to donate the content to Eclipse,
 3. I contribute the content under the EDL

Change-Id: I48b1828e0b1304f76276ec07ebac7ee9f521b194",0,0,0,0,0,0,0,0,0
11597,I4869019ea57ca07d4dff6bfa8e81725f56596d9f,https://git.eclipse.org/r/#/c/11597,3,5bd5c6cba09b9dc4f67041f6802b4fff1b6ba324,91b06f9cfbf46bd1abfddb6bebacfe8384ee5d94,1,02/04/13,04/04/13,25,Fix PathFilterGroup not to throw StopWalkException too early,"Fix PathFilterGroup not to throw StopWalkException too early

Due to the Git internal sort order a directory is sorted as if it ended
with a '/', this means that the path filter didn't set the last possible
matching entry to the correct value. In the reported issue we had the
following filters.

	org.eclipse.jgit.console
	org.eclipse.jgit

As an optimization we throw a StopWalkException when the walked tree
passes the last possible filter, which was this:
	org.eclipse.jgit.console

Due to the git sorting order, the tree was processed in this order:
	org.eclipse.jgit.console
	org.eclipse.jgit.test
	org.eclipse.jgit

At org.eclipse.jgit.test we threw the StopWalkException preventing the
walk from completing successfully.

A correct last possible match should be:
	org.eclipse.jgit/

For simplicit we define it as:
	org/eclipse/jgit/

This filter would be the maximum if we also had e.g. org and org.eclipse
in the filter, but that would require more work so we simply replace all
characters lower than '/' by a slash.

We believe the possible extra walking does not not warrant the extra
analysis.

Bug: 362430
Change-Id: I4869019ea57ca07d4dff6bfa8e81725f56596d9f",0,0,0,0,0,0,0,0,0
11639,Iffa6e8752fbd94f3ef69f49df772be82e3da5d05,https://git.eclipse.org/r/#/c/11639,2,29deb1d65010514862212b27fc6c5a0e20b7daa4,2b77e82be15eb7e58fdc34877f9ffcee43d5a4ee,1,04/04/13,09/04/13,3,clean up merge squash and no-commit messages in pgm,"clean up merge squash and no-commit messages in pgm

Change-Id: Iffa6e8752fbd94f3ef69f49df772be82e3da5d05",0,0,1,1,0,0,1,0,0
11650,I68a9cd82f197b7d00a524ea3354260a0828083c6,https://git.eclipse.org/r/#/c/11650,1,d8b4143ff83233aca83b8bf52621c5726ed7cd69,70119807e4f1e7c910053d48c4ecff8ac79ada29,1,04/04/13,04/04/13,15,Simplify setDoNotDelta() to always set the flag,"Simplify setDoNotDelta() to always set the flag

This method is only invoked with true as the argument.
Remove the unnecessary parameter and branch, making
the code easier for the JIT to optimize.

Change-Id: I68a9cd82f197b7d00a524ea3354260a0828083c6",0,0,0,0,0,0,0,0,0
11651,Id7088caa649599f4f11d633412c2a2af0fd45dd8,https://git.eclipse.org/r/#/c/11651,1,70119807e4f1e7c910053d48c4ecff8ac79ada29,520bdf31e7fddc6da0c00cbf6e393038aedac2b2,1,04/04/13,04/04/13,4,Remove unused method isDeltaAttempted(),"Remove unused method isDeltaAttempted()

This flag is never checked on its own. It is only checked as part
of a pair through the doNotAttemptDelta() method. Delete the method
so there is less confusion about the flag being used on its own.

Change-Id: Id7088caa649599f4f11d633412c2a2af0fd45dd8",0,0,0,0,0,0,0,0,0
11652,Ia75a5d36c6bd25b24169e2bdfa360c8f52b669cd,https://git.eclipse.org/r/#/c/11652,1,520bdf31e7fddc6da0c00cbf6e393038aedac2b2,de5cc3dfb73bfa9c52f6263059ab63f2ddae93a5,1,04/04/13,04/04/13,44,Declare internal flag accessors of ObjectToPack final,"Declare internal flag accessors of ObjectToPack final

None of these methods should ever be overridden at runtime by an
extension class. Given how small they are the JIT should perform
inlining where reasonable. Hint this is possible by marking all
methods final so its clear no replacement can be loaded later on.

Change-Id: Ia75a5d36c6bd25b24169e2bdfa360c8f52b669cd",0,0,0,0,0,0,0,0,0
11653,I9026938e5833ac0b94246d21c69a143a9224626c,https://git.eclipse.org/r/#/c/11653,1,de5cc3dfb73bfa9c52f6263059ab63f2ddae93a5,957dab77b17e5e3f6ab36aa243bfb6a42d6ff4ea,1,04/04/13,04/04/13,22,Declare critical exposed methods of ObjectToPack final,"Declare critical exposed methods of ObjectToPack final

There is no reasonable way for a subclass to correctly override and
implement these methods. They depend on internal state that cannot
otherwise be managed.

Most of these methods are also in critical paths of PackWriter.
Declare them final so subclasses do not try to replace them,
and so the JIT knows the smaller ones can be safely inlined.

Change-Id: I9026938e5833ac0b94246d21c69a143a9224626c",0,0,0,0,0,0,0,0,0
11654,I5133d1651640939afe9fbcfd8cfdb59965c57d5a,https://git.eclipse.org/r/#/c/11654,1,957dab77b17e5e3f6ab36aa243bfb6a42d6ff4ea,ce053deddb73752662e44eae3a45b1c7a51c78c1,1,04/04/13,04/04/13,14,Simplify size test in PackWriter,"Simplify size test in PackWriter

Clip the configured limit to Integer.MAX_VALUE at the top of the
loop, saving a compare branch per object considered. This can cut
2M branches out of a repacking of the Linux kernel.

Rewrite the logic so the primary path is to match the conditional;
most objects are larger than BLKSZ (16 bytes) and less than limit.
This may help branch prediction on CPUs if the CPU tries to assume
execution takes the side of the branch and not the second.

Change-Id: I5133d1651640939afe9fbcfd8cfdb59965c57d5a",0,0,0,0,0,0,0,0,0
11655,I2c1f18cd6755643ac4c2cf1f23b5464ca9d91b22,https://git.eclipse.org/r/#/c/11655,4,ce053deddb73752662e44eae3a45b1c7a51c78c1,b9884c49b29b1f5c6f942d332dae1625673d0a02,1,04/04/13,05/04/13,171,Optimize DFS object reuse selection code,"Optimize DFS object reuse selection code

Rewrite this complicated logic to examine each pack file exactly
once. This reduces thrashing when there are many large pack files
present and the reader needs to locate each object's header.

The intermediate temporary list is now smaller, it is bounded to
the same length as the input object list. In the prior version of
this code the list contained one entry for every representatio of
every object being packed.

Only one representation object is allocated, reducing the overall
memory footprint to be approximately one reference per object found
in the current pack file (the pointer in the BlockList). This saves
considerable working set memory compared to the prior version that
made and held onto a new representation for every ObjectToPack.

Change-Id: I2c1f18cd6755643ac4c2cf1f23b5464ca9d91b22",0,1,0,0,0,0,1,0,0
11661,Icd197eaa046421f3cfcc5bf3e7601dc5bc7486b6,https://git.eclipse.org/r/#/c/11661,3,31c687034b5b0c312973aa43a89256f395ebdc0d,56087e37f0f2ac3773ccd87e78c8d32359fdf935,1,04/04/13,13/04/13,2,Fix two possible NPE's,"Fix two possible NPE's

Change-Id: Icd197eaa046421f3cfcc5bf3e7601dc5bc7486b6",0,0,1,1,0,0,1,0,0
11664,Ibaed8288ec3340cf93eb269dc0f1f23ab5ab1aea,https://git.eclipse.org/r/#/c/11664,1,437d50d4026a4f1a9d89f61f349d3c9c47590422,215da918f476e6061b2c13d1178f8131047f98b7,1,04/04/13,05/04/13,561,Delete broken DFS read-ahead support,"Delete broken DFS read-ahead support

This implementation has been proven to deadlock in production server
loads. Google has been running with it disabled for a quite a while,
as the bugs have been difficult to identify and fix.

Instead of suggesting it works and is useful, drop the code. JGit
should not advertise support for functionality that is known to
be broken.

In a few of the places where read-ahead was enabled by DfsReader
there is more information about what blocks should be loaded when.
During object representation selection, or size lookup, or sending
object as-is to a PackWriter, or sending an entire pack as-is the
reader knows exactly which blocks are required in the cache, and it
also can compute when those will be needed. The broken read-ahead
code was stupid and just read a fixed amount ahead of the current
offset, which can waste IOs if more precise data was available.

DFS systems are usually slow to respond so read-ahead is still
a desired feature, but it needs to be rebuilt from scratch and
make better use of the offset information.

Change-Id: Ibaed8288ec3340cf93eb269dc0f1f23ab5ab1aea",0,0,0,0,1,0,1,-2,0
11665,I0e8e58ee99e5011d375d3d89c94f2957de8402b9,https://git.eclipse.org/r/#/c/11665,1,215da918f476e6061b2c13d1178f8131047f98b7,2e2857d73113662f42bb19a6e8808b3571f43231,1,04/04/13,05/04/13,17,Don't delta compress garbage objects,"Don't delta compress garbage objects

Garbage is randomly ordered and unlikely to delta compress against
other garbage. Disable delta compression allowing objects to switch
to whole form when moving to the garbage pack.

Because the garbage is not well compressed assume deltas were not
attempted during a normal GC cycle.

Override the reuse settings, garbage that can be reused should be
reused as-is into the garbage pack rather than switching something
like the compression level during a GC. It is intended that garbage
will eventually be removed from the repository so expending CPU
time on a compression switch is not worthwhile.

Change-Id: I0e8e58ee99e5011d375d3d89c94f2957de8402b9",0,0,0,0,0,0,0,0,0
11668,I2d05b9017c5f9bd9464b91d43e8d4b4a085e55bc,https://git.eclipse.org/r/#/c/11668,1,2e2857d73113662f42bb19a6e8808b3571f43231,c197716e1196853ffb5790504f613007f14ec040,1,05/04/13,05/04/13,10,Move wantWrite flag to be special offset 1,"Move wantWrite flag to be special offset 1

Free up the WANT_WRITE flag in ObjectToPack by switching the test
to use the special offset value of 1. The Git pack file format
calls for the first 4 bytes to be 'PACK', which means any object
must start at an offset >= 4. Current versions require another 8
bytes in the header, placing the first object at offset = 12.

So offset = 1 is an invalid location for an object, and can be
used as a marker signal to indicate the writing loop has tried
to write the object, but recursed into the base first. When an
object is visited with offset == 1 it means there is a cycle in
the delta base path, and the cycle must be broken.

Change-Id: I2d05b9017c5f9bd9464b91d43e8d4b4a085e55bc",0,0,0,0,0,0,0,0,0
11669,I42994b5ff1f67435e15c3f06d02e3b82141e8f08,https://git.eclipse.org/r/#/c/11669,1,c197716e1196853ffb5790504f613007f14ec040,3638f2312692e8cece5d62b16a7d65ac3669f3c5,1,05/04/13,05/04/13,18,Renumber internal ObjectToPack flags,"Renumber internal ObjectToPack flags

Now that WANT_WRITE is gone renumber the flags to move the unused
bit next to the type. Recluster AS_IS and DELTA_ATTEMPTED to be
next to each other since these bits are tested as a pair.

Change-Id: I42994b5ff1f67435e15c3f06d02e3b82141e8f08",0,0,0,0,0,0,0,0,0
11683,Ib14d366dd311e544e7ba50e9ce07a6f3ce0cf254,https://git.eclipse.org/r/#/c/11683,1,3638f2312692e8cece5d62b16a7d65ac3669f3c5,b3125fc8849de943db1a388037d5e2f03c8d49a0,1,05/04/13,05/04/13,112,Static import OBJ_* constants into PackWriter,"Static import OBJ_* constants into PackWriter

Shortens most of the code that touches the objectLists.

Change-Id: Ib14d366dd311e544e7ba50e9ce07a6f3ce0cf254",0,0,0,0,0,0,0,0,0
11684,I0ede8acee928bb3e73c744450863942064864e9c,https://git.eclipse.org/r/#/c/11684,1,b3125fc8849de943db1a388037d5e2f03c8d49a0,ff8b9b09ee566785a4e4b3a16c5d9499d3bf7a7f,1,05/04/13,05/04/13,16,Micro-optimize reuseDeltaFor in PackWriter,"Micro-optimize reuseDeltaFor in PackWriter

This switch is called mostly for OBJ_TREE and OBJ_BLOB types, which
typically make up 66% of the objects in a repository. Simplify the
test for these common types by testing for the one bit they have in
common and returning early.

Object type 5 is currently undefined. In the old code it would hit
the default and return true. In the new code it will match the early
case and also return true. In either implementation 5 should never show
up as it is not a valid type known to Git.

Object type 6 OFS_DELTA is not permitted to be supplied here.
Object type 7 REF_DELTA is not permitted to be supplied here.

Change-Id: I0ede8acee928bb3e73c744450863942064864e9c",0,0,0,0,0,0,0,0,0
11685,Ida4fde9558f3abbbb77ade398d2af3941de9c812,https://git.eclipse.org/r/#/c/11685,1,ff8b9b09ee566785a4e4b3a16c5d9499d3bf7a7f,98a2237c5cfc1310cfd20c04fc1fb87dc26f683d,1,05/04/13,05/04/13,88,Support cutting existing delta chains longer than the max depth,"Support cutting existing delta chains longer than the max depth

Some packs built by JGit have incredibly long delta chains due to a
long standing bug in PackWriter. Google has packs created by JGit's
DfsGarbageCollector with chains of 6000 objects long, or more.

Inflating objects at the end of this 6000 long chain is impossible
to complete within a reasonable time bound. It could take a beefy
system hours to perform even using the heavily optimized native C
implementation of Git, let alone with JGit.

Enable pack.cutDeltaChains to be set in a configuration file to
permit the PackWriter to determine the length of each delta chain
and clip the chain at arbitrary points to fit within pack.depth.

Delta chain cycles are still possible, but no attempt is made to
detect them. A trivial chain of A->B->A will iterate for the full
pack.depth configured limit (e.g. 50) and then pick an object to
store as non-delta.

When cutting chains the object list is walked in reverse to try
and take advantage of existing chain computations. The assumption
here is most deltas are near the end of the list, and their bases
are near the front of the list. Going up from the tail attempts to
reuse chainLength computations by relying on the memoized value in
the delta base.

The chainLength field in ObjectToPack is overloaded into the depth
field normally used by DeltaWindow. This is acceptable because the
chain cut happens before delta search, and the chainLength is reset
to 0 if delta search will follow.

Change-Id: Ida4fde9558f3abbbb77ade398d2af3941de9c812",0,0,0,0,0,0,0,0,0
11700,I75d464d4156d10c6cc6c7ce5a321e2c9fb0df375,https://git.eclipse.org/r/#/c/11700,2,8c687101b8fdca60e71f57e3f7a3d44530332457,90f0890fe5c5bd2a6d4f67486c03740c42dd846a,1,06/04/13,08/04/13,18,Detect and handle a checkout conflict during merge nicely,"Detect and handle a checkout conflict during merge nicely

Report the conflicting files nicely and inform the user.

Change-Id: I75d464d4156d10c6cc6c7ce5a321e2c9fb0df375",0,0,0,0,0,0,0,0,0
11707,I2af0bf686188f1402fb53bf6dbe0ecb228069ace,https://git.eclipse.org/r/#/c/11707,1,dd9069d3ab148398d017db16f51765f591b7251c,883e30b727d95d5edaac8cd063c773d74de73eb0,1,07/04/13,08/04/13,2,DfsReaderOptions are options for a DFS stored repository,"DfsReaderOptions are options for a DFS stored repository

Change-Id: I2af0bf686188f1402fb53bf6dbe0ecb228069ace
Signed-off-by: Matthias Sohn <matthias.sohn@sap.com>",1,0,0,1,0,0,1,0,0
11708,I38f10d622c30f19d1154a4901477e844cb411707,https://git.eclipse.org/r/#/c/11708,3,883e30b727d95d5edaac8cd063c773d74de73eb0,f11f52c833d8ec9c42db6ce12aece69fe76b7b81,1,07/04/13,08/04/13,3,Add missing @since tags for new PackConfig API methods,"Add missing @since tags for new PackConfig API methods

Change-Id: I38f10d622c30f19d1154a4901477e844cb411707
Signed-off-by: Matthias Sohn <matthias.sohn@sap.com>",1,0,0,1,0,0,1,0,0
11731,I5cf5fe60374d1e94eb031488e4f92c8e521f41a6,https://git.eclipse.org/r/#/c/11731,2,9ce824e121c9629bca0dd6bdc66a0e4b2545a00a,785f475c2533004787b3642c31e86f24d0a50519,1,08/04/13,19/04/13,54,"Create constants in ConfigConstants for the ""diff"" section","Create constants in ConfigConstants for the ""diff"" section 

Change-Id: I5cf5fe60374d1e94eb031488e4f92c8e521f41a6",0,0,1,1,0,0,1,0,0
11732,I4b2ef3dc432d2fad8a6fabd1c8aec407b5c8c5ac,https://git.eclipse.org/r/#/c/11732,2,b30c0d76d4fe028b7296d0f574e274ba6764ba59,83241f74246f49358267c64feb53a3b66c8621e2,1,08/04/13,19/04/13,21,A deleted work tree file is not a conflict when merge wants to delete it,"A deleted work tree file is not a conflict when merge wants to delete it

Bug: 405199
Change-Id: I4b2ef3dc432d2fad8a6fabd1c8aec407b5c8c5ac",1,0,1,0,0,0,1,0,0
11735,I8445070d1d96896d378bfc49ed062a5e7e0f201f,https://git.eclipse.org/r/#/c/11735,1,4cde880caae524fe11080f53a1a5a790c0f9eff9,7d33ac1e6b2c292c085d9235cef5c6e53da5152a,0,08/04/13,08/04/13,18,Fix plugin provider names to conform with release train requirement,"Fix plugin provider names to conform with release train requirement

According to release train requirements [1] the provider name for all
artifacts of Eclipse projects is ""Eclipse <project name>"".

[1] http://wiki.eclipse.org/Development_Resources/HOWTO/Release_Reviews#Checklist

Change-Id: I8445070d1d96896d378bfc49ed062a5e7e0f201f
Signed-off-by: Matthias Sohn <matthias.sohn@sap.com>",1,0,0,0,0,0,1,NA,NA
11739,I65e45422edd96778aba4b6e5a0fd489ea48e8ca3,https://git.eclipse.org/r/#/c/11739,5,0a227e2aa469bf4d0a008b9b31bfa30f22703af7,32940804d79d5b4577872f08956e87c11ce06a18,1,09/04/13,11/04/13,213,Steal work from delta threads to rebalance CPU load,"Steal work from delta threads to rebalance CPU load

If the configuration wants to run 4 threads the delta search work
is initially split somewhat evenly across the 4 threads. During
execution some threads will finish early due to the work not being
split fairly, as the initial partitions were based on object count
and not cost to inflate or size of DeltaIndex.

When a thread finishes early it now tries to take 50% of the work
remaining on a sibling thread, and executes that before exiting.
This repeats as each thread completes until a thread has only 1
object remaining.

Change-Id: I65e45422edd96778aba4b6e5a0fd489ea48e8ca3",0,1,0,0,0,0,1,0,0
11748,I3cd161ac360a2e2635bffe309725a41c9527694e,https://git.eclipse.org/r/#/c/11748,3,6caa3536569a676828bf7fac7646c63ced396732,00f5fe582ba2a8e68817dfbcc52a780f195d75f7,0,09/04/13,18/04/13,28,Remove unused dependencies,"Remove unused dependencies

Change-Id: I3cd161ac360a2e2635bffe309725a41c9527694e
Signed-off-by: Matthias Sohn <matthias.sohn@sap.com>",0,0,1,1,0,0,1,NA,NA
11757,I50ff707c0c9abcab3f98eea21aaa6e824f7af63a,https://git.eclipse.org/r/#/c/11757,3,04d4dfae50afc1083e816447b2849ab891730cb2,e8c4c947c60fbd32740bfe567f2683d726d81350,1,09/04/13,11/04/13,54,Consider working tree changes for newly added files,"Consider working tree changes for newly added files

Bug: 402396
Change-Id: I50ff707c0c9abcab3f98eea21aaa6e824f7af63a",1,0,0,0,0,0,1,0,0
11779,I05626f2e0d6ce19119b57d8a27193922636d60a7,https://git.eclipse.org/r/#/c/11779,2,d328924e1850ef8bd30156e92b307dad2117650c,77535f245b4a1bb4f7c1b2b6d879c48f2732442f,1,10/04/13,11/04/13,58,Disable CRC32 computation when no PackIndex will be created,"Disable CRC32 computation when no PackIndex will be created

If a server is streaming 3GiB worth of pack data to a client there
is no reason to compute the CRC32 checksum on the objects. The
CRC32 code computed by PackWriter is used only in the new index
created by writeIndex(), which is never invoked for the native Git
network protocols.

Object reuse may still compute its own CRC32 to verify the data
being copied from an existing pack has not been corrupted. This
check is done by the ObjectReader that implements ObjectReuseAsIs
and has no relationship to the CRC32 being skipped during output.

Change-Id: I05626f2e0d6ce19119b57d8a27193922636d60a7",0,0,0,0,0,0,0,0,0
11780,I200baa0bde5dcdd11bab7787291ad64535c9f7fb,https://git.eclipse.org/r/#/c/11780,2,a132afce61a86d81d635ab3ee7d891d7654ff1f0,9eeba6c872ce2c3a8b35d3a3d92100fe6b065f40,1,10/04/13,11/04/13,6,Always allocate the PackOutputStream copyBuffer,"Always allocate the PackOutputStream copyBuffer

The getCopyBuffer() is almost always used during output. All known
implementations of ObjectReuseAsIs rely on the buffer to be present,
and the only sane way to get good performance from PackWriter is to
reuse objects during packing.

Avoid a branch and test when obtaining this buffer by making sure
it is always populated.

Change-Id: I200baa0bde5dcdd11bab7787291ad64535c9f7fb",0,0,0,0,0,0,0,0,0
11781,I12cd3326b78d497c1f9751014d04d1460b46e0b0,https://git.eclipse.org/r/#/c/11781,2,00c640e314ed9c6a819b3720a9837e8e6ea443ce,5d6f0a285645ba557363e410fa718a2cdaff7e78,1,10/04/13,11/04/13,19,Declare members of PackOutputStream final,"Declare members of PackOutputStream final

These methods cannot be sanely overridden anywhere. Most methods
are package visible only, or are private. A few public methods do
exist but there is no useful way to override them since creation
of PackOutputStream is managed by PackWriter and cannot be delegated.

Change-Id: I12cd3326b78d497c1f9751014d04d1460b46e0b0",0,0,0,0,0,0,0,0,0
11782,I6cb9382d71b4cb3f8e8981c7ac382da25304dfcb,https://git.eclipse.org/r/#/c/11782,3,47ce8f8c19f8508fe4cfe9223a351cb5c4876c11,db394c8d01491c8da0aa7860b214fb62bc6aa73c,1,10/04/13,11/04/13,7,Skip main thread test in ThreadSafeProgressMonitor,"Skip main thread test in ThreadSafeProgressMonitor

update(int) is only invoked from a worker thread, in JGit's case
this is DeltaTask. The Javadoc of TSPM suggests update should only
ever be used by a worker thread.

Skip the main thread check, saving some cycles on each run of the
progress monitor.

Change-Id: I6cb9382d71b4cb3f8e8981c7ac382da25304dfcb",0,0,0,0,0,0,0,0,0
11784,I2b12788ad6866076fabbf7fa11f8cce44e963f35,https://git.eclipse.org/r/#/c/11784,3,5fef7dbd5409e8cf310908b657b2055d13e2cc0e,8d3c8b7716b88085dc580a22ca354bcd62912207,1,10/04/13,11/04/13,71,Tighten object header writing in PackOutuptStream,"Tighten object header writing in PackOutuptStream

Most objects are written as OFS_DELTA with the base in the pack,
that is why this case comes first in writeHeader(). Rewrite the
condition to always examine this first and cache the PackWriter's
formatting flag for use of OFS_DELTA headers, in modern Git networks
this is true more often then it it is false.

Assume the cost of write() is high, especially due to entering the
MessageDigest to update the pack footer SHA-1 computation. Combine
the OFS_DELTA information as part of the header buffer so that the
entire burst is a single write call, rather than two relatively
small ones. Most OFS_DELTA headers are <= 6 bytes, so this rewrite
tranforms 2 writes of 3 bytes each into 1 write of ~6 bytes.

Try to simplify the objectHeader code to reduce branches and use
more local registers. This shouldn't really be necessary if the
compiler is well optimized, but it isn't very hard to clarify data
usage to either javac or the JIT, which may make it easier for the
JIT to produce better machine code for this method.

Change-Id: I2b12788ad6866076fabbf7fa11f8cce44e963f35",0,0,0,0,0,0,0,0,0
11785,Ideecc4720655a57673252f7adb8eebdf2fda230d,https://git.eclipse.org/r/#/c/11785,1,8d3c8b7716b88085dc580a22ca354bcd62912207,b6ebdfd159fb0621eebc66311c4073713f7db9a5,1,10/04/13,11/04/13,2,Increase PackOutputStream copy buffer to 64 KiB,"Increase PackOutputStream copy buffer to 64 KiB

Colby just pointed out to me the buffer was 16 KiB. This may
be very small for common objects. Increase to 64 KiB.

Change-Id: Ideecc4720655a57673252f7adb8eebdf2fda230d",0,0,0,0,0,0,0,0,0
11800,I078841f9900dbf299fbe6abf2599f0208ae96856,https://git.eclipse.org/r/#/c/11800,1,82f7e3800fea518f0b0f1bc2b165d26f5a2a2caa,42a36a23a181e0062f9774fe46a9e4a7b03abe01,1,11/04/13,12/04/13,12,Mark DeltaWindowEntry methods final,"Mark DeltaWindowEntry methods final

This class and all of its methods are only package visible.
Clarify the methods as final for the benefit of the JIT to
inline trivial code.

Change-Id: I078841f9900dbf299fbe6abf2599f0208ae96856",0,0,0,0,0,0,0,0,0
11801,Idb84c1d744d2874517fd4bfa1db390e2dbf64eac,https://git.eclipse.org/r/#/c/11801,1,42a36a23a181e0062f9774fe46a9e4a7b03abe01,e76951a1c650548f4364e05924186a536e11f21f,1,11/04/13,12/04/13,13,Micro-optimize DeltaWindow maxMemory test to be != 0,"Micro-optimize DeltaWindow maxMemory test to be != 0

Instead of using a compare-with-0 use a does not equal 0.
javac bytecode has a special instruction for this, as it
is very common in software. We can assume the JIT knows
how to efficiently translate the opcode to machine code,
and processors can do != 0 very quickly.

Change-Id: Idb84c1d744d2874517fd4bfa1db390e2dbf64eac",0,0,0,0,0,0,0,0,0
11802,I1bdd8b587a69572975a84609c779b9ebf877b85d,https://git.eclipse.org/r/#/c/11802,1,e76951a1c650548f4364e05924186a536e11f21f,5b73e7fa82cb90e89d908cc08f1a668481c1de37,1,11/04/13,12/04/13,15,Micro-optimize DeltaWindow primary loop,"Micro-optimize DeltaWindow primary loop

javac and the JIT are more likely to understand a boolean being
used as a branch conditional than comparing int against 0 and 1.
Rewrite NEXT_RES and NEXT_SRC constants to be booleans so the
code is clarified for the JIT.

Change-Id: I1bdd8b587a69572975a84609c779b9ebf877b85d",0,0,0,0,0,0,0,0,0
11803,Ic7826f29dca67b16903d8f790bdf785eb478c10d,https://git.eclipse.org/r/#/c/11803,1,5b73e7fa82cb90e89d908cc08f1a668481c1de37,c8f877a828344214a9681d18dcf480a4189b2cfb,1,11/04/13,12/04/13,37,Micro-optimize copy instructions in DeltaEncoder,"Micro-optimize copy instructions in DeltaEncoder

The copy instruction formatter should not to compute the shifts and
masks twice.  Instead compute them once and assume there is a register
available to store the temporary ""b"" for compare with 0.

Change-Id: Ic7826f29dca67b16903d8f790bdf785eb478c10d",0,0,0,0,0,0,0,0,0
11804,I9ccf20c3362a78678aede0f0f2cda165e509adff,https://git.eclipse.org/r/#/c/11804,2,c8f877a828344214a9681d18dcf480a4189b2cfb,f46f794117f58793cf0e574acb1f3f43297cd914,1,11/04/13,12/04/13,135,Replace DeltaWindow array with circularly linked list,"Replace DeltaWindow array with circularly linked list

Typical window sizes are 10 and 250.  In either case the pointer
overhead of 1 pointer in an array or 2 pointers for a double linked
list is trivial.  A doubly linked list as used here for window=250 is
only another 1024 bytes on a 32 bit machine.

The critical search loops scan through the array in either the
previous direction or the next direction until the cycle is finished,
or another abort condition is reached.  Loading the next object's
pointer from a field in the current object avoids the branch required
to test for wrapping around the edge of the array.  It also saves the
array bounds check, and does not need to assume this is cheap on the
JVM, nor does it rely on the JIT to be able to see the code always
stays within the bounds.

When a delta is chosen the window is shuffled to save the currently
selected base.  Shuffling the window using a double linked list is
faster than sliding a segment of array entries.

Change-Id: I9ccf20c3362a78678aede0f0f2cda165e509adff",0,0,0,0,0,0,0,0,0
11806,I5caec31359bf7248cabdd2a3254c84d4ee3cd96b,https://git.eclipse.org/r/#/c/11806,4,55a890711da060281c3900ce3ef6d8fe67b9cdc4,3da07d468f26776a38a3e7f56df2287f1473e371,1,11/04/13,12/04/13,166,Correct distribution of allowed delta size along chain length,"Correct distribution of allowed delta size along chain length

Nicolas Pitre discovered a very simple rule for selecting between two
different delta base candidates:

  - if based whole object, must be <= 50% of target
  - if at end of a chain, must be <= 1/depth * 50% of target

The rule penalizes deltas near the end of the chain, requiring them to
be very small in order to be kept by the packer.  This favors deltas
that are based on a shorter chain, where the read-time unpack cost is
much lower.  Fewer bytes need to be consulted from the source pack
file, and less copying is required in memory to rebuild the object.

Junio Hamano explained Nico's rule to me today, and this commit fixes
DeltaWindow to implement it as described.

When no base has been chosen the computation is simply the statements
denoted above.  However once a base with depth of 9 has been chosen
(e.g.  when pack.depth is limited to 10), a non-delta source may
create a new delta that is up to 10x larger than the already selected
base.  This reflects the intent of Nico's size distribution rule no
matter what order objects are visited in the DeltaWindow.

With this patch and my other patches applied, repacking JGit with:

  [pack]
    reuseObjects = false
    reuseDeltas = false
    depth = 50
    window = 250
    threads = 4
    compression = 9

  CGit (all) 5,711,735 bytes; real 0m13.942s user 0m47.722s [1]
  JGit heads 5,718,295 bytes; real 0m11.880s user 0m38.177s [2]
       rest      9,809 bytes

The improved JGit result for the head pack is only 6.4 KiB larger than
CGit's resulting pack.  This patch allowed JGit to find an additional
39.7 KiB worth of space savings.  JGit now also often runs 2s faster
than CGit, despite also creating bitmaps and pruning objects after the
head pack creation.

[1] time git repack -a -d -F --window=250 --depth=50
[2] time java -Xmx128m -jar jgit debug-gc

Change-Id: I5caec31359bf7248cabdd2a3254c84d4ee3cd96b",0,1,0,0,0,0,1,0,0
11807,Ie25c6d3a8cf4604e0f8cd9a3b5b701a592d6ffca,https://git.eclipse.org/r/#/c/11807,4,932ef753182b139a6656160f583621177c77f315,09a83933805783516433ef34776826e7d380f64d,1,11/04/13,12/04/13,85,Avoid TemporaryBuffer.Heap on very small deltas,"Avoid TemporaryBuffer.Heap on very small deltas

TemporaryBuffer is great when the output size is not known, but must
be bound by a relatively large upper limit that fits in memory, e.g.
64 KiB or 20 MiB.  The buffer gracefully supports growing storage by
allocating 8 KiB blocks and storing them in an ArrayList.

In a Git repository many deltas are less than 8 KiB.  Typical tree
objects are well below this threshold, and their deltas must be
encoded even smaller.

For these much smaller cases avoid the 8 KiB minimum allocation used
by TemporaryBuffer.  Instead allocate a very small OutputStream
writing to an array that is sized at the limit.

Change-Id: Ie25c6d3a8cf4604e0f8cd9a3b5b701a592d6ffca",0,1,0,0,0,0,1,0,0
11838,Ib11ff99f90a4d9efab24bf4a85342cc63203dba5,https://git.eclipse.org/r/#/c/11838,4,7c271f4c3f09d51ae8991c40b571db0638a33429,1b5b8bad25e4c1fa64aa1d108194d9f5862c66ef,1,11/04/13,12/04/13,72,Split remaining delta work on path boundaries,"Split remaining delta work on path boundaries

When an idle thread tries to steal work from a sibling's remaining
toSearch queue, always try to split along a path boundary. This
avoids missing delta opportunities in the current window of the
thread whose work is being taken.

The search order is reversed to walk further down the chain from
current position, avoiding the risk of splitting the list within
the path the thread is currently processing.

When selecting which thread to split from use an accurate estimate
of the size to be taken. This avoids selecting a thread that has
only one path remaining but may contain more pending entries than
another thread with several paths remaining.

Because there is now a race condition where the straggling thread
starts the path before the split can happen the stealWork() loop is
expanded to attempt 4 iterations rather than 2. This simply gives the
idle thread a better chance to observe each sibling's queue and make
a cut while the sibling is busy searching within its active window.

Change-Id: Ib11ff99f90a4d9efab24bf4a85342cc63203dba5",0,1,0,0,0,0,1,0,0
11850,I638b7da58e33ffeb0fee172b96f4c823943d29e9,https://git.eclipse.org/r/#/c/11850,4,f00e13d51cf8dae7a89cbcfa9f1a326812c92656,ebddbd41e1afb5b8e4e2ee11418d9501f70cc0db,1,12/04/13,28/04/13,133,Abort before delete in FileUtils.delete EMPTY_DIRECTORIES_ONLY|RECURSIVE,"Abort before delete in FileUtils.delete EMPTY_DIRECTORIES_ONLY|RECURSIVE

Depending on the order in which items are traversed for RECURSIVE, an
empty directory may come first before detecting that there is a file and
aborting.

This fixes it by traversing files first.

Bug: 405558
Change-Id: I638b7da58e33ffeb0fee172b96f4c823943d29e9",0,1,1,0,0,0,1,0,0
11857,Ic17ab5631ec539f0758b962966c3a1823735b814,https://git.eclipse.org/r/#/c/11857,2,68742c00a1b412078734657063f86d557a638aee,5930b86f6ae17adc297b0471faa1d4f67759bf6f,1,12/04/13,12/04/13,51,Remove DFS locality ordering during packing,"Remove DFS locality ordering during packing

PackWriter generally chooses the order for objects when it builds the
object lists.  This ordering already depends on history information to
guide placing more recent objects first and historical objects last.

Allow PackWriter to make the basic ordering decisions, instead of
trying to override them.  The old approach of sorting the list caused
DfsReader to override any ordering change PackWriter might have tried
to make when repacking a repository.

This now better matches with WindowCursor's implementation, where
PackWriter solely determines the object ordering.

Change-Id: Ic17ab5631ec539f0758b962966c3a1823735b814",0,0,0,0,0,0,0,0,0
11866,I845caeded419ef4551ef1c85787dd5ffd73235d9,https://git.eclipse.org/r/#/c/11866,3,7b74040ec8abe45faaae5665995ce439b5b6102f,849f735fbff9eeb5ce9c6def4908891bae5f01b2,1,12/04/13,12/04/13,2,Always attempt delta compression when reuseDeltas is false,"Always attempt delta compression when reuseDeltas is false

If reuseObjects=true but reuseDeltas=false the caller wants attempt
a delta for every object in the input list. Test for reuseDeltas
to ensure every object passes through the searchInWindow() method.

If no delta is possible for an object and it will be stored whole
(non-delta format), PackWriter may still reuse its content from any
source pack. This avoids an inflate()-deflate() cycle to recompress
the object contents.

Change-Id: I845caeded419ef4551ef1c85787dd5ffd73235d9",0,0,0,0,0,0,0,0,0
11876,I7621c4349b99e40098825c4966b8411079992e5f,https://git.eclipse.org/r/#/c/11876,6,96eab4a2a633cf42a9d63e42b00d9dff03815741,a8626c0855e2e7b2ca0e0ed15d7a2f6b607e662e,1,12/04/13,17/04/13,229,Split delta search buckets by byte weight,"Split delta search buckets by byte weight

Instead of assuming all objects cost the same amount of time to
delta compress, aggregate the byte size of objects in the list
and partition threads with roughly equal total bytes.

Before splitting the list select the N largest paths and assign
each one to its own thread. This allows threads to get through the
worst cases in parallel before attempting smaller paths that are
more likely to be splittable.

Change-Id: I7621c4349b99e40098825c4966b8411079992e5f",0,1,1,0,0,0,1,1,1
11885,Ia76aa02dd330a1f88096c2b059b363aa38d653e9,https://git.eclipse.org/r/#/c/11885,1,3cc39e1c33fd917052b1cb94497345184db39b8e,3bfed3f9c982a43b78c2a1766f1f67e12e6041d1,1,13/04/13,14/04/13,11,NLS warning cleanup,"NLS warning cleanup

Change-Id: Ia76aa02dd330a1f88096c2b059b363aa38d653e9",0,0,0,1,0,0,1,0,0
11887,I6147897290392b3bfd4040e8006da39c302a3d49,https://git.eclipse.org/r/#/c/11887,2,3bfed3f9c982a43b78c2a1766f1f67e12e6041d1,dd7e4dc2e94ba2a64048d3a072bd3f34287639cb,1,14/04/13,15/04/13,70,Failing test for boundary conditions in AutoCRLFOutputStream,"Failing test for boundary conditions in AutoCRLFOutputStream

This shows some problems with inputs around the size of the internal
buffer in AutoCRLFOutputStream (8000).

Bug: 405672
Change-Id: I6147897290392b3bfd4040e8006da39c302a3d49",0,0,0,0,0,0,0,0,0
11891,I38fd522edb2791f15d83e99038185edb09fed8e1,https://git.eclipse.org/r/#/c/11891,2,3ee026b222995c77806550c57d00ee441dbb31c8,fb3fc760a612638225a800e0a7458b05fe45e2a6,1,14/04/13,17/04/13,19,Make recursive merge strategy the default merge strategy,"Make recursive merge strategy the default merge strategy

Use recursive merge as the default strategy since it can successfully
merge more cases than the resolve strategy can. This is also the default
in native Git.

Change-Id: I38fd522edb2791f15d83e99038185edb09fed8e1
Signed-off-by: Matthias Sohn <matthias.sohn@sap.com>",0,0,1,0,0,0,1,0,0
11910,I065babe8cd39a7654c916bd01c7012135733dddf,https://git.eclipse.org/r/#/c/11910,1,c2b02650fa5175d3e6635337bd386bf7d1098336,0d0b249b2d5eefdfb27b0952c6133adfad0c13ee,1,15/04/13,15/04/13,21,Update PackBitmapIndexRemapper to handle mappings not in the new pack.,"Update PackBitmapIndexRemapper to handle mappings not in the new pack.

Previously, the code assumed all commits in the old pack would also
be present in the new pack. This assumption caused an
ArrayIndexOutOfBoundsException during remapping of ids. Fix the
iterator to only return entries that may be remapped. Furthermore,
update getBitmap() to return null if commit does not exist in the
new pack.

Change-Id: I065babe8cd39a7654c916bd01c7012135733dddf",0,0,0,0,0,0,0,0,0
11925,Ib6ee3a2874a7e2240aa68f4ac32d00c4d1fab5ae,https://git.eclipse.org/r/#/c/11925,2,34817d3613adfd84ce3fb8de98dd72ddccee45f0,3b4eea46eaa2adfdb940a2d849acaeeb70692819,1,15/04/13,18/04/13,155,Remove some unnecessary dependencies on FileRepostory,"Remove some unnecessary dependencies on FileRepostory

Change-Id: Ib6ee3a2874a7e2240aa68f4ac32d00c4d1fab5ae",0,0,1,1,0,0,1,0,0
11953,Id2848c16a2148b5ca51e0ca1e29c5be97eefeb48,https://git.eclipse.org/r/#/c/11953,2,c521098cef72665491297030db6aedb03c80f78b,29721fd20042408be8e10d58bf2a69819976c11f,1,16/04/13,17/04/13,74,"Rescale ""Compressing objects"" progress meter by size","Rescale ""Compressing objects"" progress meter by size

Instead of counting objects processed, count number of bytes added
into the window. This should rescale the progress meter so that 30%
complete means 30% of the total uncompressed content size has been
inflated and fed into the window.

In theory the progress meter should be more accurate about its
percentage complete/remaining fraction than with objects. When
counting objects small objects move the progress meter more rapidly
than large objects, but demand a smaller amount of work than large
objects being compressed.

Change-Id: Id2848c16a2148b5ca51e0ca1e29c5be97eefeb48",0,0,0,0,0,0,0,1,1
11954,I8ced7098da5b345fd9af2fdfafd1ef6a44ccee0d,https://git.eclipse.org/r/#/c/11954,4,2c267a21e531fe9e42f97ce1f3f3811d3e93e579,25234736960f033017e861bea8636d5b2acf2f7d,1,16/04/13,27/04/13,324,Make the Reglog a public API again,"Make the Reglog a public API again

Change-Id: I8ced7098da5b345fd9af2fdfafd1ef6a44ccee0d",1,1,1,1,0,0,1,0,0
11962,Ie822fe075fe5072fe3171450fda2f0ca507796a1,https://git.eclipse.org/r/#/c/11962,1,e7b0e5cbf3d5598e33e290fa717c4b995b7bade1,c9588c44106a4b3587f29f8acf959092e7fd884d,1,17/04/13,17/04/13,133,Support excluding objects during DFS compaction,"Support excluding objects during DFS compaction

By excluding objects the compactor can avoid storing objects that
are already well packed in the base GC packs, or any other pack
not being replaced by the current compaction operation.

For deltas the base object is still included even if the base exists
in another exclusion set.  This favors keeping deltas for recent
history, to support faster fetch operations for clients.

Change-Id: Ie822fe075fe5072fe3171450fda2f0ca507796a1",0,0,0,0,0,0,0,1,1
12006,I06c1c7242a1b4c8f499c27a598cca714803799b7,https://git.eclipse.org/r/#/c/12006,2,34271b4505d2c0567d4f169005a05f4a7c53e572,277c4a2a8a7fa71b9838d300cf48d07e3a3b43fd,1,18/04/13,19/04/13,16,Fix examples with refs/heads/ in RefSpec Javadoc,"Fix examples with refs/heads/ in RefSpec Javadoc

Change-Id: I06c1c7242a1b4c8f499c27a598cca714803799b7",0,0,0,1,0,0,1,0,0
12036,I3894e98617fcee16dc2ac9853c203c62eb30c3ab,https://git.eclipse.org/r/#/c/12036,2,13f1aa689e3df6f7d0b5923ef767d60fb18ebc56,56e6efd8032526211c3f2407ad2c447d6148b652,1,18/04/13,18/04/13,56,Improve test coverage of AutoCRLF(In|Out)putStream,"Improve test coverage of AutoCRLF(In|Out)putStream

Bug: 405672
Change-Id: I3894e98617fcee16dc2ac9853c203c62eb30c3ab",0,0,0,0,0,0,0,0,0
12039,I89919e56b928acdbff0b90e3919808025a8562c6,https://git.eclipse.org/r/#/c/12039,2,56e6efd8032526211c3f2407ad2c447d6148b652,c28d26397d42468fc66945bb3725c0e780a23205,0,18/04/13,19/04/13,1,Do not export package org.eclipse.jgit from jgit tests,"Do not export package org.eclipse.jgit from jgit tests

Commit 3344b93c erroneously exported the package org.eclipse.jgit.lib
from the org.eclipse.jgit.test bundle which made this a split package
since the bundle org.eclipse.jgit exports the same package. 

Split packages are evil in general and most probably caused the build
cycle errors observed recently when importing the jgit projects in
Eclipse [1].

[1] http://dev.eclipse.org/mhonarc/lists/jgit-dev/msg02012.html

Change-Id: I89919e56b928acdbff0b90e3919808025a8562c6
Signed-off-by: Matthias Sohn <matthias.sohn@sap.com>",0,0,0,0,0,0,0,NA,NA
12040,I71727addb2b55fb8e409cae2b6af8138b1ff7ef1,https://git.eclipse.org/r/#/c/12040,1,1a31be56bbed217940ac1c18b09ba8e9fdec51d8,a8e89d383be8f419defd004bac782f0b3d4a14ab,1,18/04/13,19/04/13,15,Untracked files should not be included in stash,"Untracked files should not be included in stash

The previous code stashed untracked files and left them
in the work tree.

Bug: 403282
Change-Id: I71727addb2b55fb8e409cae2b6af8138b1ff7ef1",1,0,0,0,0,0,1,0,0
12072,I083cd191ae2ad3e2460aa4052774aed6e36c2699,https://git.eclipse.org/r/#/c/12072,1,e0995e7e522a4f83856230f4fee87b16daf1357d,33dd53ca05562790c203ff9307987d46f13204e1,1,19/04/13,25/04/13,86,status: Print conflict description for unmerged paths,"status: Print conflict description for unmerged paths

Prefix unmerged paths with conflict description (e.g. ""both modified:""),
the same way C Git does.

Change-Id: I083cd191ae2ad3e2460aa4052774aed6e36c2699",0,0,1,0,0,0,1,0,0
12076,Ib0a706fea01e4b1ed8c8e859247d247a1279b4bc,https://git.eclipse.org/r/#/c/12076,1,44ab4f792aeea8780878a07d8d7f17ef994d0c6d,f66052a3cabb353721df1cdf6dd9c5149f7db688,1,19/04/13,19/04/13,85,"Revert ""Add tests for FileUtils.delete and EMPTY_DIREECTORIES_ONLY""","Revert ""Add tests for FileUtils.delete and EMPTY_DIREECTORIES_ONLY""

This reverts commit 7aa54967a26cb027fe390ad1c624ebb30f9ac6d5.
The unit test dependend upon the specific order of names that
listFiles() returned members in. The order is completely undefined
and may differ even on different versions of Linux based systems.

A proper unit test for this code would have considered both cases,
where the deletion function was able to remove an empty subdirectory,
or fail to remove a subdirectory because a file was still present
within. This is not such a test.

Change-Id: Ib0a706fea01e4b1ed8c8e859247d247a1279b4bc",0,0,0,0,0,0,0,0,0
12097,I9c636b927fa2d7cfbe1eb5535a9e702b2209f51d,https://git.eclipse.org/r/#/c/12097,1,f66052a3cabb353721df1cdf6dd9c5149f7db688,1ba7ca68f3f8692f8e5801dd2cf68aff57ada94f,1,22/04/13,22/04/13,17,Improve class documentation of TagCommand,"Improve class documentation of TagCommand

Change-Id: I9c636b927fa2d7cfbe1eb5535a9e702b2209f51d",0,0,0,1,0,0,1,0,0
12101,I238d388e40362721eecf37f64ad7d48a399ff129,https://git.eclipse.org/r/#/c/12101,1,1ba7ca68f3f8692f8e5801dd2cf68aff57ada94f,980718d96975eb8cef11b448cd75f9272c668655,1,22/04/13,22/04/13,10,Document RevTag#getObject() that returned object is unparsed,"Document RevTag#getObject() that returned object is unparsed

Change-Id: I238d388e40362721eecf37f64ad7d48a399ff129",0,0,0,1,0,0,1,0,0
12223,Ia6cd2ce8382f1a62e576409107fc5c9a6b321fb6,https://git.eclipse.org/r/#/c/12223,2,980718d96975eb8cef11b448cd75f9272c668655,42a5a4f153db20a7cbbae4579507975a665869a4,1,25/04/13,26/04/13,38,archive: Release resources before returning,"archive: Release resources before returning

The only caller exits immediately after calling execute() so this
shouldn't make a difference, but it's good practice and should make it
easier to expose the functionality in a public API later.

Change-Id: Ia6cd2ce8382f1a62e576409107fc5c9a6b321fb6",0,0,0,0,0,0,0,0,0
12225,Ia4f81b29b8d00782ee559d69de3befc0a6c4d403,https://git.eclipse.org/r/#/c/12225,2,46754bdd2d5cb0c6a451dcb62b7603a0e63c2c57,11a942328df6e5b569c276d08353ce04dcaa1583,1,25/04/13,27/04/13,6,Delete CLIText strings previously used in iplog generator,"Delete CLIText strings previously used in iplog generator

The only callers using these strings were removed in commit
850e5bc24e31 (Delete the iplog generator, 2013-01-09).

Change-Id: Ia4f81b29b8d00782ee559d69de3befc0a6c4d403",0,0,0,0,0,0,0,0,0
12243,I92c578e7f3617085a667de7c992174057be3eb71,https://git.eclipse.org/r/#/c/12243,1,207870db96076aacb4602ed9a507599862fb4d4e,356c8ddcef7e37f1c227b709b96c639da5ea89c0,0,26/04/13,27/04/13,3,Remove unused logger from RecursiveMerger,"Remove unused logger from RecursiveMerger

JGit doesn't currently use java.util.logging.Logger.  Remove this
never-used Logger introduced in ab99b78ca08a (Implement recursive
merge strategy, 2013-02-21) to make that easier to see.

Change-Id: I92c578e7f3617085a667de7c992174057be3eb71",0,0,0,0,0,0,0,NA,NA
12252,I22e79be69859176d85594031d67c6cb3371c4bd2,https://git.eclipse.org/r/#/c/12252,5,1ffbf481baf2fb50c0fdc68bf888922f314bf49a,630298d19a622ef7df90d15921fd6f06d664cc17,1,26/04/13,26/04/13,20,ArchiveCommand: Do not warn for unsupported file mode,"ArchiveCommand: Do not warn for unsupported file mode

When ArchiveCommand is invoked directly on the command line, these
warnings to stderr

	warning: mode of path/to/some/submodule

are a useful hint, but in the more usual case where an archive is
being served by a server, the intended audience for that message
cannot see stderr.

Maybe later it might be useful to accept a callback to return
these warnings out of band.

Change-Id: I22e79be69859176d85594031d67c6cb3371c4bd2",0,1,0,0,0,0,1,0,0
12262,I418e7e7d76422dc6f010d0b3b624d7bec3b20c6e,https://git.eclipse.org/r/#/c/12262,10,630298d19a622ef7df90d15921fd6f06d664cc17,965b276cea3b75100adba4d8d6c6c2a1a1122d01,1,26/04/13,28/05/13,887,Move ArchiveCommand into its own OSGi bundle,"Move ArchiveCommand into its own OSGi bundle

Allow people to use ArchiveCommand without depending on the jgit
command-line tools.

Change-Id: I418e7e7d76422dc6f010d0b3b624d7bec3b20c6e",0,1,0,0,1,0,1,0,0
12268,I882497202d986096513a4d791cd07fa935a3f9e4,https://git.eclipse.org/r/#/c/12268,1,c801e4b5973c0af02d201e70b414cd4b699cd5f9,ba5a247a42dea534185799b6df8c00748fe47623,1,27/04/13,27/04/13,2,Allow deletions to occur when there is no HEAD,"Allow deletions to occur when there is no HEAD

If the HEAD is not present in a repository, then there is a
NullPointerException thrown in the delete code. Since this only
exists to verify if the deletion is not the HEAD reference, then
skip this check if the HEAD cannot be found.

Bug: 406722
Change-Id: I882497202d986096513a4d791cd07fa935a3f9e4
Signed-off-by: Alex Blewitt <alex.blewitt@gmail.com>",0,0,0,0,0,0,0,0,0
12269,I555fb366ee64d885de2a71a67cf00833f4c62561,https://git.eclipse.org/r/#/c/12269,2,ba5a247a42dea534185799b6df8c00748fe47623,90661e0aa088906ce3eaef8e6994a51d98a9220e,1,27/04/13,03/05/13,17,Add test for RefUpdate delete without HEAD,"Add test for RefUpdate delete without HEAD

Bug: 406722
Change-Id: I555fb366ee64d885de2a71a67cf00833f4c62561",0,0,0,0,0,0,0,0,0
12272,Icca41d80bd0791cd2d4bf03297795d161afbee70,https://git.eclipse.org/r/#/c/12272,1,34b6fec25f7cbff4c7a0010b02d938b69e4aa154,53a0695891d7d3a6fc35469a850c0f59321b5528,1,27/04/13,27/04/13,9,Refer to getEntryPathLength in docs of getEntryPathBuffer,"Refer to getEntryPathLength in docs of getEntryPathBuffer

Change-Id: Icca41d80bd0791cd2d4bf03297795d161afbee70",0,0,0,1,0,0,1,0,0
12273,Ie0a0d1f57d84e70fd5ef50b7844d22fea43d0e08,https://git.eclipse.org/r/#/c/12273,1,02112df3028dc2eed0536ee0e2e89bed8709c4e8,ad0e531d2b39acd29cf7276469d3a3e9c162420b,1,27/04/13,05/05/13,25,URIish: Allow multiple slashes in paths,"URIish: Allow multiple slashes in paths

It's also allowed by C Git.

Change-Id: Ie0a0d1f57d84e70fd5ef50b7844d22fea43d0e08",0,0,0,0,0,0,0,0,0
12275,Icb1cd177e791cc646636a88c67fd9399dfc7030c,https://git.eclipse.org/r/#/c/12275,2,dc09c23bf5c7291567b7e754464636051c9ff499,70af192f2d46b5028795d63690dcbc734b67205a,1,27/04/13,27/04/13,9,Cleanup imports and javadocs in ArchiveCommand,"Cleanup imports and javadocs in ArchiveCommand

Change-Id: Icb1cd177e791cc646636a88c67fd9399dfc7030c",0,0,0,1,0,0,1,0,0
12279,Ib03d2d82e9c4b60179d626cfd5174be1da6388b2,https://git.eclipse.org/r/#/c/12279,2,db501c495cf5ab3ff35a84d5a75bc0c7770f21f8,7f721ef28db99381ae3649af28dba26df922d6b6,1,27/04/13,02/05/13,123,Only fetch tags that do not exist locally with auto-follow,"Only fetch tags that do not exist locally with auto-follow

This corresponds to what C Git does, quoting from the fetch man page:

  This is done by first fetching from the remote using the given
  <refspec>s, and if the repository has objects that are pointed by
  remote tags that it does not yet have, then fetch those missing tags.

Before, JGit would also fetch tags that exist locally but point to a
different object, resulting in REJECTED results for these.

Bug: 388095
Change-Id: Ib03d2d82e9c4b60179d626cfd5174be1da6388b2",0,0,0,0,0,0,0,-1,0
12280,I5d5494c2ad1a2cdb8e9e614d3de445289734edfe,https://git.eclipse.org/r/#/c/12280,2,4087437423df4cf8bf4813bd50cb9d10e6b5fc1b,ea4fee537b16cd8e70623f093e6eeafac11dea1b,1,27/04/13,02/05/13,27,Update tags on fetch if --tags or tag refspec specified,"Update tags on fetch if --tags or tag refspec specified

When either --tags or a tag ref is explicitly specified on fetch, C Git
updates existing local tags if they are different.

Before this change, JGit returned REJECTED in such a case. Now it
updates it and returns FORCED.

Example:

    % mkdir a
    % cd a
    % git init -q
    % touch test.txt
    % git add test.txt
    % git commit -q -m 'Initial'
    % git tag v1
    % cd ..
    % git clone -q a b
    % cd a
    % echo Test > test.txt
    % git commit -q -a -m 'Second'
    % git tag -f v1
    Updated tag 'v1' (was bc85c08)
    % cd ../b
    % git fetch --tags
     - [tag update]      v1         -> v1

Bug: 388095
Change-Id: I5d5494c2ad1a2cdb8e9e614d3de445289734edfe",0,0,0,0,0,0,0,0,0
12408,I9657125765716c874bb6ecf8844c34749cb3b069,https://git.eclipse.org/r/#/c/12408,3,abc10810eda7b2d6face19d5704ba0aaa46ce57a,12d2b3d88d7b9e1446879e057bbc71fad24b7ad5,1,30/04/13,08/05/13,13,Add missing @since tags,"Add missing @since tags

Change-Id: I9657125765716c874bb6ecf8844c34749cb3b069
Signed-off-by: Matthias Sohn <matthias.sohn@sap.com>",0,0,0,1,0,0,1,0,0
12409,I9e48a1f82b747492bebb3ca65fd16f599e425e8b,https://git.eclipse.org/r/#/c/12409,1,8f12f11d71062c5a7cf2926f20b63f6538c07833,09eb774c2c220d86966eb3f4a01284b78e3d7d3d,1,30/04/13,01/05/13,2,ArchiveCommand: Add missing @since tag,"ArchiveCommand: Add missing @since tag

Change-Id: I9e48a1f82b747492bebb3ca65fd16f599e425e8b",0,0,0,1,0,0,1,0,0
12414,I08bed4275af9ec52aa4d7054067ac82f6a3c9781,https://git.eclipse.org/r/#/c/12414,1,09eb774c2c220d86966eb3f4a01284b78e3d7d3d,67178de9ca6b9f70a6447a4125d27c4b6355065c,1,01/05/13,02/05/13,83,Fix warnings about assigning paramter in util.io,"Fix warnings about assigning paramter in util.io

Change-Id: I08bed4275af9ec52aa4d7054067ac82f6a3c9781",0,0,0,1,0,0,1,0,0
12421,I0ec1f17a88bc14f22c10f9bc8d6f5b5118410e3a,https://git.eclipse.org/r/#/c/12421,5,0653ac8c4c594ad5c5d8ff1b10dfe4870aa216a4,c8b7f69988eec5d7ef728adb9e2f68450209d72a,1,01/05/13,19/06/13,335,Add a method to DfsOutputStream to read as an InputStream,"Add a method to DfsOutputStream to read as an InputStream

Change-Id: I0ec1f17a88bc14f22c10f9bc8d6f5b5118410e3a",0,1,0,1,0,1,1,0,0
12422,I454fdfb88f4d215e31b7da2b2a069853b197b3dd,https://git.eclipse.org/r/#/c/12422,11,fc3cd05f80738e79dd43aa347425266632f3246f,4b2b7d3431ce34854e68098ddd593fd9768a5d15,1,01/05/13,13/08/14,507,Add a method to ObjectInserter to read back inserted objects,"Add a method to ObjectInserter to read back inserted objects

In the DFS implementation, flushing an inserter writes a new pack to
the storage system and is potentially very slow, but was the only way
to ensure previously-inserted objects were available. For some tasks,
like performing a series of three-way merges, the total size of all
inserted objects may be small enough to avoid flushing the in-memory
buffered data. DfsOutputStream already provides a read method to read
back from the not-yet-flushed data, so use this to provide an
ObjectReader in the DFS case.

In the file-backed case, objects are written out loosely on the fly,
so the implementation can just return the existing WindowCursor.

Change-Id: I454fdfb88f4d215e31b7da2b2a069853b197b3dd",0,1,0,0,1,1,1,2,1
12438,I15cfd91857830d69abbe729be3e237fc9cd4fca0,https://git.eclipse.org/r/#/c/12438,3,3093977aef0d95ad489c2a03673c397eabd8b6a8,c9c789ba44ee0b0cab72698c2a4a68960d55f8ae,1,01/05/13,04/05/13,500,RFC Add optional feature to install Java 7 support,"RFC Add optional feature to install Java 7 support

This feature will be added to the jgit p2 repository build
in a later change as soon as the necessary build jobs have
been setup on Hudson.

Change-Id: I15cfd91857830d69abbe729be3e237fc9cd4fca0
Signed-off-by: Robin Rosenberg <robin.rosenberg@dewire.com>",0,0,1,0,0,0,1,0,0
12470,Id5b9f560ee095d6db0b2ea5b26aef3e53021626e,https://git.eclipse.org/r/#/c/12470,2,1d89f44777b6ba6fa0b96c8467f8c9f357797403,5c9563107a5607e1b8e01145ff21629d7ab97dee,1,02/05/13,03/05/13,140,TagCommand should be able to create unannotated tags too,"TagCommand should be able to create unannotated tags too

Using the low level API's is just too cumbersome.

Change-Id: Id5b9f560ee095d6db0b2ea5b26aef3e53021626e",0,0,0,0,0,0,0,0,0
12488,I61c9c173237a535da8576a9299bfd4bb29e8f56b,https://git.eclipse.org/r/#/c/12488,1,5c9563107a5607e1b8e01145ff21629d7ab97dee,a2bf211680250a641ecd22a3136cec7f5d49b8ea,1,03/05/13,03/05/13,670,Fix line endings,"Fix line endings

Change-Id: I61c9c173237a535da8576a9299bfd4bb29e8f56b
Signed-off-by: Matthias Sohn <matthias.sohn@sap.com>",0,0,0,1,1,0,1,0,0
12499,Idb273d5a92849b42935ac14eed73b796b80aad50,https://git.eclipse.org/r/#/c/12499,3,318e133f36f85ecde36af939aab11e0cf4173a16,290ccb193f0e7a88b94937248e18119d2aadf4aa,1,03/05/13,05/05/13,75,Require a DiffConfig when creating a FollowFilter,"Require a DiffConfig when creating a FollowFilter

The various rename detection options are an inherent part of the
filter, similar to the path being followed.

Change-Id: Idb273d5a92849b42935ac14eed73b796b80aad50",0,0,0,0,0,1,1,0,0
12500,I9ee5da8f8a3b61c9cf543817c03117ee0609dd8f,https://git.eclipse.org/r/#/c/12500,3,63932e221121fddf7b9532587c7d9799041a4f14,070ec0004b3fd4b39bc61aae889ede7301a3fb97,1,03/05/13,05/05/13,12,Remove unused repository field from RevWalk,"Remove unused repository field from RevWalk

The comment about legacy Tag and Object types no longer applies,
though prior to Idb273d5a92849b42935ac14eed73b796b80aad50 the field
was still being used by RewriteTreeFilter.

Change-Id: I9ee5da8f8a3b61c9cf543817c03117ee0609dd8f",0,0,0,0,0,1,1,0,0
12501,I990ec43af7df448c7825fc1b10e62eadaa3e0c2a,https://git.eclipse.org/r/#/c/12501,7,49d6dcd3e3ca662ce7a26b104c4dc49a94838695,5147e0aac5ffd18063300f993c63f53030279384,1,03/05/13,11/08/14,45,Reuse Merger's ObjectReader from ResolveMerger,"Reuse Merger's ObjectReader from ResolveMerger

The base Merger class already has a single ObjectReader instance that
it handles releasing as necessary, so creating new readers is not
necessary.

Change-Id: I990ec43af7df448c7825fc1b10e62eadaa3e0c2a",0,1,0,0,0,1,1,-1,0
12502,Ic52475248a545d51d3d8ac31a24f0344a1241e45,https://git.eclipse.org/r/#/c/12502,3,67a34326271181dc9f3bde824e2ef973d682e182,f51d6e2c7345b1cfa10e429dbec21ccd9c7717df,1,03/05/13,11/08/14,8,Merger: clarify getBaseCommit javadoc,"Merger: clarify getBaseCommit javadoc

Change-Id: Ic52475248a545d51d3d8ac31a24f0344a1241e45",0,0,0,1,0,1,1,0,0
12503,I9682a6aa4a2c37dccef8e163f132ddb791d79103,https://git.eclipse.org/r/#/c/12503,10,fac812996c900cc9e3e910b3e194642ac4d593b6,8c891bb9e873ccef895eb239a6b96c7e22c1de6a,1,03/05/13,13/08/14,31,Teach mergers to use ObjectInserter.newReader(),"Teach mergers to use ObjectInserter.newReader()

This allows the RecursiveMerger to iteratively create new merge bases
without necessarily flushing packs to storage in the DFS case;
flushing only need happen at the end of the whole merge process.

Change-Id: I9682a6aa4a2c37dccef8e163f132ddb791d79103",0,1,0,0,0,1,1,0,0
12504,Icaff7d2bc2c20c873ce5a7d9af5002da84ae1c2b,https://git.eclipse.org/r/#/c/12504,8,153e1ccb9547336710fe3b01527b4b5fc5f629fd,b8c759e5cb5292701d0a8dc6e6308538258782c8,1,03/05/13,13/08/14,34,Add a Merger.merge method that makes flushing optional,"Add a Merger.merge method that makes flushing optional

This allows callers performing multiple separate merges to reuse a
single ObjectInserter without flushing the inserter on each iteration
(which can be slow in the DFS case).

Change-Id: Icaff7d2bc2c20c873ce5a7d9af5002da84ae1c2b",0,1,0,0,0,1,1,0,0
12517,I119766a00bc52a810c51cffaa19207cb8555ca22,https://git.eclipse.org/r/#/c/12517,5,10d79f92777f9c2cf55d7209371ffc6b32576a65,ebbe0b34bb765fa20b9be77d76f0975781ec2068,1,04/05/13,22/07/13,146,Set a final reflog message when rebase finished instead of an empty one,"Set a final reflog message when rebase finished instead of an empty one

Bug: 346350
Change-Id: I119766a00bc52a810c51cffaa19207cb8555ca22",0,1,0,0,0,0,1,0,0
12543,Ief9b84c07494bdb01ce16b4ae3353c5364cc6625,https://git.eclipse.org/r/#/c/12543,5,313840d18d47fa4e44f1a5c65dbfd8c8d34751e8,25dab514694f1d14b95dd0ad22984345ab2c4ffc,0,06/05/13,30/10/13,12,Add missing resources from source.. in build.properies,"Add missing resources from source.. in build.properies

Change-Id: Ief9b84c07494bdb01ce16b4ae3353c5364cc6625",0,1,1,1,0,0,1,NA,NA
12544,I5b49bd00b00b86584b912fc5f503abf29db0f56e,https://git.eclipse.org/r/#/c/12544,2,30a39dfecafffdf5f2cca204bee981ee2d9aff76,9e6f8f9fae5782fdd090c69c8e6ac2043c5e83e4,0,06/05/13,14/06/13,3,document empty blocks in StashApplyCommandTest,"document empty blocks in StashApplyCommandTest

Change-Id: I5b49bd00b00b86584b912fc5f503abf29db0f56e",0,0,0,1,0,0,1,NA,NA
12552,I2d1076b46695dac84961b8ae663bfc5cb123b3a3,https://git.eclipse.org/r/#/c/12552,3,9789cd787e64ecd294d5189014d1f96c25c2f1a6,203082b45cd9cea3e24bdc128be4b26f9d514cfc,1,06/05/13,22/07/13,20,Add NON-NLS comments for some obviously untranslatable strings,"Add NON-NLS comments for some obviously untranslatable strings

Change-Id: I2d1076b46695dac84961b8ae663bfc5cb123b3a3",0,0,0,1,0,0,1,0,0
12553,I228ff37f17c0e792a6bc188c463a0d19138e88ac,https://git.eclipse.org/r/#/c/12553,2,0d36120a58155759d3392a1145147e21757bbdfe,58359e45c2073ab0714cd67f52c3f9ce3a1f51b1,1,06/05/13,08/05/13,85,Move org.eclipse.jgit.pgm's resource bundle to internal package,"Move org.eclipse.jgit.pgm's resource bundle to internal package

Translatable texts aren't API and shouldn't require maintenance of
@since tags to prevent API warnings.

Change-Id: I228ff37f17c0e792a6bc188c463a0d19138e88ac
Signed-off-by: Matthias Sohn <matthias.sohn@sap.com>",0,0,0,0,0,0,0,0,0
12561,I3cff5fce28fa7a19e34f8291cfb5b62f16429713,https://git.eclipse.org/r/#/c/12561,7,42bc6f67f84359ecf19d5545db264017708d2e91,039eacea48ff65f521eb158d3f331b8d7a66e627,1,07/05/13,24/05/13,326,ArchiveCommand: make archive formats non-inner classes,"ArchiveCommand: make archive formats non-inner classes

First step toward making ArchiveCommand itself format-agnostic.

Change-Id: I3cff5fce28fa7a19e34f8291cfb5b62f16429713",0,1,1,0,0,0,1,0,0
12562,I301a1997e3b48aa7e32d693fd8f4b2d436c9b3a7,https://git.eclipse.org/r/#/c/12562,4,0649f994aede9ce680aa81f2fb5b47b4e2375d80,3f868f4445299dcd65c2cd8c3154b261f8a8a628,1,07/05/13,24/05/13,45,Drop dependency by ArchiveCommand.Format interface on commons-compress,"Drop dependency by ArchiveCommand.Format interface on commons-compress

Otherwise, anyone trying to implement a new format would have to
depend on commons-compress, even if using a different underlying
library to write the archive.

Change-Id: I301a1997e3b48aa7e32d693fd8f4b2d436c9b3a7",0,1,1,0,0,0,1,0,0
12563,Id39c03ea6923d0aed8316ed7b6bd04d5ced570a7,https://git.eclipse.org/r/#/c/12563,4,2387c8860132c05f964fb2283ea05104d628b436,ba9a67224c24359a143faac1c7fde29cf68d01a0,1,07/05/13,28/05/13,129,Remove dependency by ArchiveCommand on archive formats,"Remove dependency by ArchiveCommand on archive formats

Provide static registerFormat and unregisterFormat methods to allow
formats to register themselves without the ArchiveCommand code being
aware of them.

Register the basic ""zip"" and ""tar"" support at bundle activation time
(and deregister them when unloading the bundle).  So for anyone using
this code as an OSGi plugin it should continue to just work.

""mvn test"" does not load org.eclipse.jgit.pgm as an OSGi bundle, so
let ArchiveTest register the formats it uses explicitly with
registerFormat.

Change-Id: Id39c03ea6923d0aed8316ed7b6bd04d5ced570a7",0,1,1,0,0,0,1,0,0
12619,I377b174993862918a117f54e6cba4733dfc2307c,https://git.eclipse.org/r/#/c/12619,1,81a9700652523a7ba69989fd6fe1a95f7b78c39c,2988b263ea36c29c7a92c7ca02f4beca1b997c5d,1,08/05/13,08/05/13,116,JGit v3.0.0.201305080800-m7,"JGit v3.0.0.201305080800-m7

Change-Id: I377b174993862918a117f54e6cba4733dfc2307c
Signed-off-by: Matthias Sohn <matthias.sohn@sap.com>",1,0,0,1,0,0,1,0,0
12654,I062c44529c7ae2f960d3c64a0923a45d2dc8a863,https://git.eclipse.org/r/#/c/12654,1,2988b263ea36c29c7a92c7ca02f4beca1b997c5d,efd41aea0812e878443d444bb2d33cdb61f96494,1,08/05/13,08/05/13,116,Prepare post 3.0.0 M7 builds,"Prepare post 3.0.0 M7 builds

Change-Id: I062c44529c7ae2f960d3c64a0923a45d2dc8a863
Signed-off-by: Matthias Sohn <matthias.sohn@sap.com>",1,0,0,1,0,0,1,0,0
12668,I9e8431f6ddfc16fee89f677bcce67c99cfb56782,https://git.eclipse.org/r/#/c/12668,3,0bcecb8662fb96f4caa3f400320fae17acbfb428,ea38df46e09f1249d1d99425420c21a9297ac9ce,1,09/05/13,09/05/13,169,Fix hardcoded use of target/trash in LocalDiskRepositoryTestCase,"Fix hardcoded use of target/trash in LocalDiskRepositoryTestCase

`pwd`/target is only valid in Maven Reactor builds where Maven
has moved into the project directory and created a target for
the build output. Most other build systems do not use ""target""
and may not even perform a directory change between test suites.

Rewrite LocalDiskRepositoryTestCase's temporary directory code
to use the system specified location and create new unique names.
This prevents fixes between concurrently running tests and allows
the caller to specify the root using java.io.tmpdir.

Update the surefire command lines to use target within each project as
the system temporary directory during unit testing, preventing JGit's
own test suite from writing to /tmp or somewhere like C:\tmp.

Change-Id: I9e8431f6ddfc16fee89f677bcce67c99cfb56782",1,0,0,0,0,0,1,0,0
12672,I4cb9642f08b58c39033c3a81dab4bd56bebf4fd2,https://git.eclipse.org/r/#/c/12672,2,a7c24438554ca5e67fd039806ac46917bcdbfc75,37af48c4232c28ca4b0afb7d49c260224cac6fe0,1,09/05/13,10/05/13,38,Fix the parameters to an exception,"Fix the parameters to an exception

A parenthesis was in the wrong place passing arguments to the wrong
format call.

Change-Id: I4cb9642f08b58c39033c3a81dab4bd56bebf4fd2",0,0,0,0,0,0,0,0,0
12681,I9bcef7785a0762ed0a98ca95a0bdf8879d5702aa,https://git.eclipse.org/r/#/c/12681,4,6137e2f31aaf6559e82c5994f33a6affbbb925b9,9eca9765f534278c9c02709c063dbd22fd4476ea,1,09/05/13,28/05/13,233,Support refspecs with wildcard in middle (not only at end),"Support refspecs with wildcard in middle (not only at end)

The following refspec, which can be used to fetch GitHub pull requests,
is supported by C Git but was not yet by JGit:

  +refs/pull/*/head:refs/remotes/origin/pr/*

The reason is that the wildcard in the source is in the middle.

This change also includes more validation (e.g. ""refs//heads"" is not
valid) and test cases.

Bug: 405099
Change-Id: I9bcef7785a0762ed0a98ca95a0bdf8879d5702aa",0,1,1,0,0,0,1,1,1
12701,I24cd5de19ce6ca7b68b4052c9e73dcc6d207b57c,https://git.eclipse.org/r/#/c/12701,5,69a30ce3d27d11505c418296ec495d399602f29a,627545e37ea713f46993dc7c1b056dbc64843117,1,09/05/13,11/05/13,158,Fix CommitCommand not to destroy repo,"Fix CommitCommand not to destroy repo

There was a severe bug in CommitCommand which could lead to corrupt
repos. When merging an annotated tag the JGit MergeCommand writes
correctly the ID of the tag (and not the id of the commit the tag was
pointing to) into MERGE_HEAD. Native git does the same. But
CommitCommand was reading this file and trusting blindly that it will
contain only IDs of commits. Then the CommitCommand would create a
commit which has as parent a non-commit object (the tag object). That's
so corrupt that even native git gives up when you call ""git log"" in
such a repo.
To reproduce that with EGit simply right-click on a tag in the
Repository View and select Merge. The result was a corrupt repo!

Change-Id: I24cd5de19ce6ca7b68b4052c9e73dcc6d207b57c",0,1,0,0,0,1,1,0,0
12712,I42eac87421f2a53c985af260a253338f578492bc,https://git.eclipse.org/r/#/c/12712,3,72795e35f693e1d5ae8e294559b417992352035f,262a501e0e99b3bc8070936d1afc5f1aefe4d412,1,10/05/13,16/05/13,38,Fix NPE in DiffFormatter when DiffEntry.oldId is null,"Fix NPE in DiffFormatter when DiffEntry.oldId is null

Bug: 407743
Change-Id: I42eac87421f2a53c985af260a253338f578492bc",0,0,1,0,0,0,1,0,0
12771,Ib8a8e72dd3c808c4fe92c32ed177272dce29ac60,https://git.eclipse.org/r/#/c/12771,1,134738819a8e7026bb8733a5fd809ee6e0d67327,a4b18a1465ef1b3bd9ed5593a31436baa566a581,0,14/05/13,14/05/13,1,Remove unused import in LocalDiskRepositoryTestCase,"Remove unused import in LocalDiskRepositoryTestCase

Change-Id: Ib8a8e72dd3c808c4fe92c32ed177272dce29ac60",0,0,0,1,0,0,1,NA,NA
12885,I3b549a5519ccd6785f98e444da76d2363bcbe41a,https://git.eclipse.org/r/#/c/12885,1,119ef595c000347ae26a65045e3035f0c5d9a1a9,1abc91a2f9e4997b285af4fcf467b0c7e4e66f29,1,16/05/13,16/05/13,6,Fix AnyObjectId's generic type declaration of Comparable,"Fix AnyObjectId's generic type declaration of Comparable

If you look at any implementation of Comparable in the JDK, you'll see
that the type parameter for Comparable is supposed to be the type of
the implementing class:

http://docs.oracle.com/javase/6/docs/api/java/lang/Comparable.html

The current type signature of Comparable<Object> is pretty awful, at the
very least because you can not, in fact, successfully compare
AnyObjectId with any random subclass of Object. It also causes problems
with type-inference and the scala.math.Ordering trait in Scala.

In order to compile, this change *does* require removing the
AnyObjectId.ompareTo(Object) method - which actually only ever cast
to AnyObjectId in any case. Nothing in the JGit test suite requires this
method, but it might constitute a breaking API change, so it would be
best if it can be added in time for JGit 3.0.

Change-Id: I3b549a5519ccd6785f98e444da76d2363bcbe41a",0,0,0,0,0,0,0,0,0
12953,I1620fa75be16dc80df44745d0e123ea512762e31,https://git.eclipse.org/r/#/c/12953,5,f1c50181a76944310909b13e212751fd7f643d20,5837021601a42c31ffa6ebb6abfc292511c2928b,1,17/05/13,19/05/13,42,Fix BatchRefUpdate progress-monitoring so it doesn't count twice,"Fix BatchRefUpdate progress-monitoring so it doesn't count twice

I was seeing output like this while running The BFG:

Updating references:    200% (374/187)

...issue sneaked in with 5cf53fda I think.

Change-Id: I1620fa75be16dc80df44745d0e123ea512762e31",0,1,0,0,0,0,1,0,0
12962,If31d4028fa1c6377a11e83ed5688b45701cec68b,https://git.eclipse.org/r/#/c/12962,3,49f7179c927b8da1a35ce70947b77c920d2a03be,bd4c17e5a63c950a25cdcf1136840711a88dc218,1,18/05/13,16/06/13,30,Disable warning about assigning to parameter,"Disable warning about assigning to parameter

See change I08bed4275af9ec52aa4d7054067ac82f6a3c9781, where fixing such
warning lead to complaints.

If fixing is not wanted, disable it instead.

Change-Id: If31d4028fa1c6377a11e83ed5688b45701cec68b",0,0,0,0,0,0,0,0,0
12969,I72b34b10ca12e3a6bd10ce44f4fa05b193fc52cc,https://git.eclipse.org/r/#/c/12969,2,b13e3a381afc521030af06d65f38cf9538b935b9,0ea4c52dc83ae539838eb6256e017531ff2a0957,1,19/05/13,24/05/13,2,Apply tree filter marks when pairing DiffEntry for renames,"Apply tree filter marks when pairing DiffEntry for renames

When using a RenameDetector to generate new DiffEntries after using
DiffEntry.scan, the treeFilterMarks of the original entries were lost.
Now it combines the marks from src and dst.

See EGit bug 335082 where this is used.

Change-Id: I72b34b10ca12e3a6bd10ce44f4fa05b193fc52cc",0,0,1,0,0,0,1,0,0
12974,I635aaa28230d571f4b6bf65485edaba1b1561fc2,https://git.eclipse.org/r/#/c/12974,1,1c04d71eea727b21b7f4ec3eb6f79cfb6c3809cc,1eb821108cf2fd72057c0c05c3e5dd64844941bf,0,19/05/13,21/05/13,2,Update kepler orbit version to R20130517111416,"Update kepler orbit version to R20130517111416

Change-Id: I635aaa28230d571f4b6bf65485edaba1b1561fc2
Signed-off-by: Matthias Sohn <matthias.sohn@sap.com>",1,0,0,1,0,0,1,NA,NA
13017,I9764961a651c1fa64042098d60da9b496453f703,https://git.eclipse.org/r/#/c/13017,2,1eb821108cf2fd72057c0c05c3e5dd64844941bf,1a1ea7c5c7e2db83e04ed255855445e1904b3483,1,21/05/13,21/05/13,12,Improve feature names to become understandable by end users,"Improve feature names to become understandable by end users

This was requested in [1].

[1] http://dev.eclipse.org/mhonarc/lists/cross-project-issues-dev/msg08981.html

Change-Id: I9764961a651c1fa64042098d60da9b496453f703
Signed-off-by: Matthias Sohn <matthias.sohn@sap.com>",0,0,0,0,0,0,0,0,0
13060,I31cd254a4ddb816641397a3e9c2c20212471c37f,https://git.eclipse.org/r/#/c/13060,1,9267dabfe3f88b3d428cf4585eea46fee10f93d3,5afe0811bac76c6db621bea0236e218d4bf0ae00,1,22/05/13,22/05/13,32,Allow PreUploadHook.onSendPack to send messages to the client,"Allow PreUploadHook.onSendPack to send messages to the client

Before transmitting to the client a hook may want to send along
a text message ahead of the pack, such as a ""message of the day"".
Enable this usage by mirroring the message sending API from
ReceivePack on the UploadPack instance, using the side band.

Change-Id: I31cd254a4ddb816641397a3e9c2c20212471c37f",0,0,0,0,0,0,0,0,0
13091,I21c7a0258ab1308406d226293fa0e7da69b4f57b,https://git.eclipse.org/r/#/c/13091,1,5afe0811bac76c6db621bea0236e218d4bf0ae00,795c08220c3fca4c826ed037c58468b7abbb24f0,1,23/05/13,23/05/13,8,Use NullOutputStream not DisabledOutputStream in UploadPack,"Use NullOutputStream not DisabledOutputStream in UploadPack

The stream should not throw IllegalStateException if it is off.
Flush the stream after the hook runs, in case any messages need
to be sent ahead of the pack.

Change-Id: I21c7a0258ab1308406d226293fa0e7da69b4f57b",1,0,0,0,0,0,1,0,0
13093,I9304cb3a6502ceb0cba21eb841e466f932ab3c01,https://git.eclipse.org/r/#/c/13093,1,795c08220c3fca4c826ed037c58468b7abbb24f0,7080dab0624bbbe3183728c4974be728b63abdae,1,23/05/13,23/05/13,1,Remove unused import in UploadPack,"Remove unused import in UploadPack

Change-Id: I9304cb3a6502ceb0cba21eb841e466f932ab3c01",1,0,0,1,0,0,1,0,0
13100,Iec46bd50bc973a38b77d8367296adf5474ba515f,https://git.eclipse.org/r/#/c/13100,2,32cedaf13511254ff2d25b74c555b610160e5a01,e2107e612b90e716a821118cdbd30a9d212aaf51,1,23/05/13,24/05/13,19,ArchiveCommand.Format: pass output stream as first argument to putEntry,"ArchiveCommand.Format: pass output stream as first argument to putEntry

This is more consistent with other APIs where the output side is the
first parameter to be analagous to the left-hand side of an
assignment.

Change-Id: Iec46bd50bc973a38b77d8367296adf5474ba515f",0,0,0,0,0,0,0,0,0
13148,I699f703c6302696e1cc276d7ab8ee597d82f2c5d,https://git.eclipse.org/r/#/c/13148,1,932894f11f01be5285883e7b8be0f916220c5523,70be172ee2110c9d0116e0ab23093ca97168c66f,1,25/05/13,28/05/13,68,Release ArchiveCommand's ObjectReader in call(),"Release ArchiveCommand's ObjectReader in call()

Make call() release all private resources so instead of using a
pattern like

	ArchiveCommand cmd = git.archive();
	try {
		cmd.setTree(tree)
			. ...
			.call();
	} finally {
		cmd.release();
	}

callers can just use git.archive().setTree(tree)....call() directly.

This involves pushing more work out of parameter setters and into
call() so the ObjectReader is not allocated and potentially leaked
before then.

Change-Id: I699f703c6302696e1cc276d7ab8ee597d82f2c5d",0,0,1,0,0,0,1,0,0
13153,I4be13144f2a21a6583e0942f0c7c40da32f2247a,https://git.eclipse.org/r/#/c/13153,2,ffe8fd5716f62c44eaf128b0ff23963109523ee5,702dcd6557d9f34a78f7c11a37132a96fb975449,1,25/05/13,25/05/13,58,Handle short branch/tag name for setBranch in CloneCommand,"Handle short branch/tag name for setBranch in CloneCommand

Before, it was not clear from the documentation what kind of branch name
was accepted. Users specifying ""branch"" (instead of ""refs/heads/branch"")
got no error message and ended up with a repository without HEAD and no
checkout.

With this, CloneCommand now tries ""$branch"", then ""refs/heads/$branch""
and then ""refs/tags/$branch"". C Git only does the last two, but for
compatibility we should still allow ""refs/heads/branch"".

Bug: 390994
Change-Id: I4be13144f2a21a6583e0942f0c7c40da32f2247a",0,0,0,0,0,0,0,1,1
13155,I6831ad417f069127b4705fdd909844ec72065527,https://git.eclipse.org/r/#/c/13155,1,4b592a4805bbe998c4be895475d090bd624db2c2,1027fc5aded53b0d32acae400a28aa2f2a985eea,1,25/05/13,25/05/13,1,Add missing Bundle-Localization header,"Add missing Bundle-Localization header

Change-Id: I6831ad417f069127b4705fdd909844ec72065527
Signed-off-by: Matthias Sohn <matthias.sohn@sap.com>",0,0,0,1,0,0,1,0,0
13161,I5b97f356d8595dbdc9e91d157558e40561a6a30d,https://git.eclipse.org/r/#/c/13161,3,291bb3c24bfa2bcb8e9697c54d69b9331019503e,3746e3912755deef918a549e5afa3a3565b22169,1,26/05/13,08/06/13,15,Make JGit test work with both hamcrest 1.1 (juno) and 1.3 (kepler),"Make JGit test work with both hamcrest 1.1 (juno) and 1.3 (kepler)

The hamcrest library has moved things around. It is not possible
This problem applies only to the test, not plugin runtime.

Change-Id: I5b97f356d8595dbdc9e91d157558e40561a6a30d",0,0,0,0,0,0,0,0,0
13242,Ia44682c618bfbb927f5567c194227421d222a160,https://git.eclipse.org/r/#/c/13242,2,0e8cc5b3a8923f18ca4d56641cb7a65e8491a00a,5d8330180aeff1b1124a247da63616bfc9da8781,1,27/05/13,27/05/13,114,Fix multiple bugs in RawSubStringPattern used by MessageRevFilter,"Fix multiple bugs in RawSubStringPattern used by MessageRevFilter

* Match at end of input was not handled correctly.
* When more than one character matched but not all, the next character
  was not considered as a match start (e.g. pattern ""abab"" didn't match
  input ""abaabab"").

Bug: 409144
Change-Id: Ia44682c618bfbb927f5567c194227421d222a160",0,0,0,0,0,0,0,0,0
13285,Icf601a41fec63f7d40308f3c85aaa4f71a7c095b,https://git.eclipse.org/r/#/c/13285,2,0b4d49f85f5af0ac1aef35fffacb34d3d403cc41,f9c4e2f2393b2ee108478be68c0c6789beac6244,1,28/05/13,23/06/13,213,Fix WWW-Authenticate headers of an HTTP response processing.,"Fix WWW-Authenticate headers of an HTTP response processing.

The original code was able to process only one WWW-Authenticate
header in an HTTP response, and if this header was not one of
two expected, authentication failed regardless of that there
could be other headers in the response.

All WWW-Authenticate headers in an HTTP response have to be
browsed to find one of supported, i.e. Basic or Digest.
By that if both are present, the Digest one should be used
as more preferable.



Bug: 357719
Change-Id: Icf601a41fec63f7d40308f3c85aaa4f71a7c095b
Signed-off-by: Alex Rukhlin <arukhlin@microsoft.com>",0,0,0,0,0,0,0,1,1
13295,I347e8a9a112d142ccef91cba1d6e997d645ca70a,https://git.eclipse.org/r/#/c/13295,5,aa36baf0039aaba3ba82da3225c9534d489d190a,61352065fa5d91a33f152118bfe91f113db7df12,1,28/05/13,29/05/13,142,Add tgz and txz archive formats,"Add tgz and txz archive formats

Change-Id: I347e8a9a112d142ccef91cba1d6e997d645ca70a",0,1,0,1,0,0,1,0,0
13304,I490ad8cc7590f70783d3fbd6dd6f0e0446ae5afe,https://git.eclipse.org/r/#/c/13304,1,0bc3ef049811d2e65f989dbe2e1ad1326e69ed81,e4c853a8101ee50ec37c9151bf71a5713829134e,1,28/05/13,28/05/13,116,JGit v3.0.0.201305281830-rc2,"JGit v3.0.0.201305281830-rc2

Change-Id: I490ad8cc7590f70783d3fbd6dd6f0e0446ae5afe
Signed-off-by: Matthias Sohn <matthias.sohn@sap.com>",1,0,0,1,0,0,1,0,0
13307,I55cb3095043568740880cc9e4f7cde05f49c363c,https://git.eclipse.org/r/#/c/13307,3,5ff0c7e0f169f2c7fa825ba0dd90439a73f39f91,37f4972e4d73eb235fc3c2cf8517bc9eed074cd5,1,28/05/13,29/05/13,61,Clean up archive format registration,"Clean up archive format registration

Add a static start() method to FormatActivator to allow outside
classes such as the Archive subcommand of the jgit program can use it
without a BundleContext.  This way, the list of formats only has to be
maintained in one place.

While at it, build a list of registered formats at start() time, so
stop() doesn't have to repeat the same list of formats.

Suggested-by: Shawn Pearce <spearce@spearce.org>
Change-Id: I55cb3095043568740880cc9e4f7cde05f49c363c",0,0,0,0,0,0,0,0,0
13320,Ic46832bcde80d0bf74c16cb094abd76b00552d14,https://git.eclipse.org/r/#/c/13320,1,9a0d5712445e867da13968f893532afdc362c55a,a129f822caa464c804ba95e8fc9e1809fc8b6a24,1,29/05/13,29/05/13,116,Prepare post 3.0.0-rc2 builds,"Prepare post 3.0.0-rc2 builds

Change-Id: Ic46832bcde80d0bf74c16cb094abd76b00552d14
Signed-off-by: Matthias Sohn <matthias.sohn@sap.com>",1,0,0,1,0,0,1,0,0
13333,Ia8441c9796f01497e0d90e672c0aaf60520a0098,https://git.eclipse.org/r/#/c/13333,1,b23dd6aec32a1ba2084bf765fe985d0f071bac08,e2f4000c54e87829b498532d8b958113c51e1219,0,29/05/13,29/05/13,0,Merge branch 'stable-3.0',"Merge branch 'stable-3.0'

* stable-3.0:
  Prepare post 3.0.0-rc2 builds
  JGit v3.0.0.201305281830-rc2
  Support refspecs with wildcard in middle (not only at end)
  Fix multiple bugs in RawSubStringPattern used by MessageRevFilter
  Handle short branch/tag name for setBranch in CloneCommand
  Add missing Bundle-Localization header
  Apply tree filter marks when pairing DiffEntry for renames
  Improve feature names to become understandable by end users
  Update kepler orbit version to R20130517111416
  Fix BatchRefUpdate progress-monitoring so it doesn't count twice
  Fix AnyObjectId's generic type declaration of Comparable
  Fix DiffFormatter NPEs for DiffEntry without content change
  Fix CommitCommand not to destroy repo
  Fix the parameters to an exception
  Prepare post 3.0.0 M7 builds
  JGit v3.0.0.201305080800-m7

Change-Id: Ia8441c9796f01497e0d90e672c0aaf60520a0098
Signed-off-by: Matthias Sohn <matthias.sohn@sap.com>",1,0,0,0,0,0,1,NA,NA
13352,I730b290556066038efeaf2436de95415b175f351,https://git.eclipse.org/r/#/c/13352,2,e2f4000c54e87829b498532d8b958113c51e1219,44647bc5407998054d8c1a92ccb7c8a188d4818d,1,29/05/13,29/05/13,7,"Drop unnecessary ""throws"" clauses in archive code","Drop unnecessary ""throws"" clauses in archive code

Noticed by eclipse.

Change-Id: I730b290556066038efeaf2436de95415b175f351",0,0,0,0,0,0,0,0,0
13353,I0bc82e74f4acedb059322c29e13352151165ef7f,https://git.eclipse.org/r/#/c/13353,2,60c9ae0b4331b79d1de64bfb3a4192bdc92b3698,ff8c5334d5f492ed101e93dbf623aaa287178c65,1,29/05/13,29/05/13,1,Remove unused import in Archive,"Remove unused import in Archive

Change-Id: I0bc82e74f4acedb059322c29e13352151165ef7f",0,0,0,1,0,0,1,0,0
13354,I22b5f9d4c0358bbe867c1906feec7c279e214273,https://git.eclipse.org/r/#/c/13354,2,ce531163c0c77440ae04a1f9ded7ec365e186f2a,d7c979de23b45c219714dee77abc0987a07fe703,1,29/05/13,29/05/13,63,Add missing javadoc for archive code,"Add missing javadoc for archive code

Document archive formats, the archive format interface, and the
parameters of the GitAPIException constructors.  Noticed by eclipse.

Reported-by: Dani Megert <Daniel_Megert@ch.ibm.com>
Change-Id: I22b5f9d4c0358bbe867c1906feec7c279e214273",0,0,0,0,0,0,0,0,0
13369,If8e3487e933783a7e12f8e1838cbfe0b5862ce80,https://git.eclipse.org/r/#/c/13369,1,3d320a19bfa671e147d0583e1a1849e582ff1ab7,54183345bcc50e0a83895085a49fb2e4937a13d4,1,29/05/13,29/05/13,141,Move FormatActivator.start()/stop() to a separate class,"Move FormatActivator.start()/stop() to a separate class

This makes the functionality of registering all formats from the
org.eclipse.jgit.archive package available in contexts where
FormatActivator cannot be built because the OSGi core framework is not
readily available to build against.

Change-Id: If8e3487e933783a7e12f8e1838cbfe0b5862ce80",0,0,0,0,0,0,0,0,0
13463,I10f78e5eb02b5d03395f23d2f0ad039caf565269,https://git.eclipse.org/r/#/c/13463,1,3145cbfe7f2fca5b9a82ebbc6281769aace0d816,6bdcda115cc427155f16bd17304addd06c2da68d,0,01/06/13,01/06/13,2,Fix version of dependency to package org.osgi.framework,"Fix version of dependency to package org.osgi.framework

OSGi 4.01 comes with package org.osgi.framework version 1.3 [1] which
has the BundleActivator interface needed by org.eclipse.jgit.archive.
OSGi 5.0 matches package org.osgi.framework version 1.7 [2].

[1] http://www.osgi.org/javadoc/r4v401/
[2] http://www.osgi.org/javadoc/r5/core/

Change-Id: I10f78e5eb02b5d03395f23d2f0ad039caf565269
Signed-off-by: Matthias Sohn <matthias.sohn@sap.com>",0,0,0,0,0,0,0,NA,NA
13464,I64b32f71df2964da4cb2de73b34bf7e455ab5b93,https://git.eclipse.org/r/#/c/13464,3,6bdcda115cc427155f16bd17304addd06c2da68d,3ea5c48837f94c8e821991029b7e16b4201fcf25,1,01/06/13,01/06/13,12,Fix javadoc warnings in FormatActivator,"Fix javadoc warnings in FormatActivator

Fix signature of start() and stop() in activator's javadoc.

Change-Id: I64b32f71df2964da4cb2de73b34bf7e455ab5b93
Signed-off-by: Matthias Sohn <matthias.sohn@sap.com>",0,0,0,0,0,0,0,0,0
13465,I39bba3baa4517e2b5e5fe0de096e756f2904e3e9,https://git.eclipse.org/r/#/c/13465,4,df6e5009e3b648bacb1e6800b90668c230d3d077,53adc713607413237c324181f1bb1b825b780402,0,01/06/13,01/06/13,196,Add jgit target platform to define dependencies more precisely,"Add jgit target platform to define dependencies more precisely

With a target platform definition we can avoid that the packaging build
picks an older jgit version coming with eclipse platform.

Change-Id: I39bba3baa4517e2b5e5fe0de096e756f2904e3e9
Signed-off-by: Matthias Sohn <matthias.sohn@sap.com>",1,1,0,0,0,0,1,NA,NA
13466,I66ffb2b6416dbbd5da11ad789dd58060b7ab09f2,https://git.eclipse.org/r/#/c/13466,2,7a9d21a66f503e806400f8289ec0413d9ea51ae5,60feeb28202a312c131540785c06aa1da8800c03,0,01/06/13,01/06/13,2,Update build to use Tycho 0.18,"Update build to use Tycho 0.18

Change-Id: I66ffb2b6416dbbd5da11ad789dd58060b7ab09f2
Signed-off-by: Matthias Sohn <matthias.sohn@sap.com>",1,0,0,1,0,0,1,NA,NA
13467,I670e8262cdace4323d3883717efe4b5e5e06f4c7,https://git.eclipse.org/r/#/c/13467,1,60feeb28202a312c131540785c06aa1da8800c03,931d1c2334ebc3f4b5f119daac7a9effb621374a,0,01/06/13,02/06/13,32,Include o.e.j.archive into o.e.jgit feature,"Include o.e.j.archive into o.e.jgit feature

Also the pgm feature should depend on the jgit feature to ensure that
all needed bundles are available.

Change-Id: I670e8262cdace4323d3883717efe4b5e5e06f4c7
Signed-off-by: Matthias Sohn <matthias.sohn@sap.com>",1,0,0,0,0,0,1,NA,NA
13529,I8b782e9ebe03e5f72611a21a76d80c6b20cb7845,https://git.eclipse.org/r/#/c/13529,1,9fb9b738add084f6dc18fca9131d7780e6ae168f,756b0f4bd99455910e140c820fb1b5a3120ed7c7,1,04/06/13,04/06/13,116,JGit v3.0.0.201306040240-rc3,"JGit v3.0.0.201306040240-rc3

Change-Id: I8b782e9ebe03e5f72611a21a76d80c6b20cb7845
Signed-off-by: Matthias Sohn <matthias.sohn@sap.com>",1,0,0,1,0,0,1,0,0
13551,I008d55e2ef0aac9d1877b05ba73e3cf26335d430,https://git.eclipse.org/r/#/c/13551,1,756b0f4bd99455910e140c820fb1b5a3120ed7c7,da602cec03bcc3572e08ce31d6f22b4155c77a6e,1,04/06/13,04/06/13,92,Prepare post 3.0.0 RC3 builds,"Prepare post 3.0.0 RC3 builds

Change-Id: I008d55e2ef0aac9d1877b05ba73e3cf26335d430
Signed-off-by: Matthias Sohn <matthias.sohn@sap.com>",1,0,0,1,0,0,1,0,0
13565,If5ae792581170bcba2dc1860012cbe389d8e9f24,https://git.eclipse.org/r/#/c/13565,1,da602cec03bcc3572e08ce31d6f22b4155c77a6e,ab7689179f98d331669c4c4b0db9eeaff369882a,0,04/06/13,04/06/13,13,Fix version.sh to not overwrite ${project.version},"Fix version.sh to not overwrite ${project.version}

Change-Id: If5ae792581170bcba2dc1860012cbe389d8e9f24
Signed-off-by: Matthias Sohn <matthias.sohn@sap.com>",1,0,0,1,0,0,1,NA,NA
13608,Idb7ff75877a0cfe23f47e10e3f6f93386f5bb145,https://git.eclipse.org/r/#/c/13608,1,5cc61446973ef8ca3cbd92386cc6f18a9fde5734,1b7fdff347536fec34fb1d5d110b2f68baabfac0,1,06/06/13,07/06/13,73,Add tbz2 archive format,"Add tbz2 archive format

Change-Id: Idb7ff75877a0cfe23f47e10e3f6f93386f5bb145",0,0,0,1,0,0,1,0,0
13609,Ic0236a70f7aa7f2271c3ef11083b21ee986b4df5,https://git.eclipse.org/r/#/c/13609,3,1b7fdff347536fec34fb1d5d110b2f68baabfac0,98c0d185660e0d5343a18e28b32ef372092d840f,1,06/06/13,07/06/13,114,Pick default archive format based on filename suffix,"Pick default archive format based on filename suffix

Introduce a setFilename() method for ArchiveCommand so callers can
specify the intended filename of the produced archive.  If the
filename ends with .tar, the format will default to tar; if .zip, zip;
if .tar.gz, gzip-compressed tar; and so on.

This doesn't affect ""jgit archive"" because it doesn't support the
--output=<file> option yet.  A later patch might do that.

Change-Id: Ic0236a70f7aa7f2271c3ef11083b21ee986b4df5",0,0,0,0,0,0,0,0,0
13633,I04d5427eec0968b129f55d7a4c6021039a494828,https://git.eclipse.org/r/#/c/13633,1,a9458af458558da558bd2971f46717c2418fc158,d3e6209f9277c822250f36e2ef3677a1cc37334e,1,07/06/13,07/06/13,49,"Add long filename, large file, and non-ASCII filename support to TarFormat","Add long filename, large file, and non-ASCII filename support to TarFormat

Attempts to write entries with too-long filenames currently error out:

  $ jgit.pgm/target/jgit archive HEAD >test.tar
  java.lang.RuntimeException: file name 'org.eclipse.jgit.http.server/src/org/eclipse/jgit/http/server/resolver/DefaultReceivePackFactory.java' is too long ( > 100 bytes)
          at org.apache.commons.compress.archivers.tar.TarArchiveOutputStream.putArchiveEntry(TarArchiveOutputStream.java:288)
          at org.eclipse.jgit.archive.TarFormat.putEntry(TarFormat.java:92)
          at org.eclipse.jgit.archive.TarFormat.putEntry(TarFormat.java:62)
          at org.eclipse.jgit.api.ArchiveCommand.writeArchive(ArchiveCommand.java:293)
          at org.eclipse.jgit.api.ArchiveCommand.call(ArchiveCommand.java:322)
          at org.eclipse.jgit.pgm.Archive.run(Archive.java:97)
          at org.eclipse.jgit.pgm.TextBuiltin.execute(TextBuiltin.java:174)
          at org.eclipse.jgit.pgm.Main.execute(Main.java:213)
          at org.eclipse.jgit.pgm.Main.run(Main.java:121)
          at org.eclipse.jgit.pgm.Main.main(Main.java:95)

That's because the default longFileMode is LONGFILE_ERROR, which
throws an exception for filenames longer than 100 characters.  Switch
to LONGFILE_POSIX.  While at it, handle large files and filenames with
strange encodings, too.

This requires commons compress 1.4, which introduced support for large
files and POSIX long filenames.

Change-Id: I04d5427eec0968b129f55d7a4c6021039a494828",0,0,0,0,0,0,0,0,0
13634,I5806bc48a403d05e4cfc3c180b82b33ad7cfae7f,https://git.eclipse.org/r/#/c/13634,1,e079cba6d00a75c27e01bb182a31eb33279db2ed,f4f652cc8665209ac7ad2e5d6160ef4c2ba5903d,1,07/06/13,07/06/13,247,"Add support for ""jgit archive --output=<filename>""","Add support for ""jgit archive --output=<filename>""

If the --format option is not given and the output filename is,
then infer the format from that filename.  Otherwise match
""git archive"" by defaulting to tar (this is a change from the
existing ""jgit archive"" default behavior, which was to default to
zip).

Change-Id: I5806bc48a403d05e4cfc3c180b82b33ad7cfae7f",0,0,0,0,0,0,0,2,1
13669,I2b78a2c0e92c740bed80558b17a2100c1c884416,https://git.eclipse.org/r/#/c/13669,2,f4f652cc8665209ac7ad2e5d6160ef4c2ba5903d,ba94fdcb80197ad4695f7f60d570329ac308a53c,1,09/06/13,10/06/13,18,Fix warnings in ArchiveCommand,"Fix warnings in ArchiveCommand

- remove unnecessary imports
- fix NLS warnings
- add missing Javadoc tag

Change-Id: I2b78a2c0e92c740bed80558b17a2100c1c884416
Signed-off-by: Matthias Sohn <matthias.sohn@sap.com>",0,0,0,0,0,0,0,0,0
13717,Ie8deab94c6263b5198f0bcb4533b1cfb3f5724b1,https://git.eclipse.org/r/#/c/13717,2,bc4033503537fa9b0a9a5bc60c2103401157e061,b9e1e3d862923420599d5b694a4df31dd14b93ee,1,10/06/13,10/06/13,92,JGit v3.0.0.201306101825-r,"JGit v3.0.0.201306101825-r

Change-Id: Ie8deab94c6263b5198f0bcb4533b1cfb3f5724b1
Signed-off-by: Matthias Sohn <matthias.sohn@sap.com>",1,0,0,1,0,0,1,0,0
13792,I299cf1addc0987ffe39140d2216ab6a98e95ce52,https://git.eclipse.org/r/#/c/13792,1,b9e1e3d862923420599d5b694a4df31dd14b93ee,35278e6b7804e41ac3149e0c793985b3467e0d6b,1,13/06/13,13/06/13,92,Prepare post 3.0.0.201306101825-r builds,"Prepare post 3.0.0.201306101825-r builds

Change-Id: I299cf1addc0987ffe39140d2216ab6a98e95ce52
Signed-off-by: Matthias Sohn <matthias.sohn@sap.com>",1,0,0,1,0,0,1,0,0
13798,I5b1db1f5b69bad1136dd21b956e798f63b1ba0ee,https://git.eclipse.org/r/#/c/13798,1,80bdfc07dc5953dc39de6936ca690c939ae2e27b,d4e0a17561e67ff5145e589878039db9a8d2e450,0,13/06/13,13/06/13,0,Merge branch 'stable-3.0',"Merge branch 'stable-3.0'

* stable-3.0:
  Prepare post 3.0.0.201306101825-r builds
  JGit v3.0.0.201306101825-r
  Make JGit test work with both hamcrest 1.1 (juno) and 1.3 (kepler)
  Fix version.sh to not overwrite ${project.version}
  Prepare post 3.0.0 RC3 builds
  JGit v3.0.0.201306040240-rc3

Change-Id: I5b1db1f5b69bad1136dd21b956e798f63b1ba0ee
Signed-off-by: Matthias Sohn <matthias.sohn@sap.com>",1,0,0,0,0,0,1,NA,NA
13799,I7490a7c9558423c03e3c167ad55b9a98be9d99d9,https://git.eclipse.org/r/#/c/13799,1,d4e0a17561e67ff5145e589878039db9a8d2e450,e3d5b8d84014dd6ea397273346b0f4d79c98481b,1,13/06/13,13/06/13,484,Prepare 3.1.0-SNAPSHOT builds,"Prepare 3.1.0-SNAPSHOT builds

Change-Id: I7490a7c9558423c03e3c167ad55b9a98be9d99d9
Signed-off-by: Matthias Sohn <matthias.sohn@sap.com>",1,0,0,1,0,0,1,0,0
13833,I4718217caadbfe892b7cbb557e0d3d6b40d48321,https://git.eclipse.org/r/#/c/13833,3,66e4ec1b61da8b14962739649ce029785c7bf14e,5edeec6e21ba09d6e791eec71b34bf894b69e9bd,0,14/06/13,28/04/14,40,Make org.eclipse.jgit.packaging a general project,"Make org.eclipse.jgit.packaging a general project

This makes it easy to edit the pom.xml from within Eclipse.

Change-Id: I4718217caadbfe892b7cbb557e0d3d6b40d48321",0,0,0,0,0,0,0,NA,NA
13834,I7f2c155cab4b5be55f7e849ff2595c8c5d804f05,https://git.eclipse.org/r/#/c/13834,1,0578679619a873e14fcdfb0a90c00982f63bccb1,29e3df237b086ebfdeeb22dcc9952b26e9ff5262,1,14/06/13,14/06/13,21,Add missing @since tags,"Add missing @since tags

Change-Id: I7f2c155cab4b5be55f7e849ff2595c8c5d804f05
Signed-off-by: Matthias Sohn <matthias.sohn@sap.com>",0,0,0,1,0,0,1,0,0
13844,I2fa04878f8830ad9c9b32a6f3fe8d2e2d66fe411,https://git.eclipse.org/r/#/c/13844,2,4dc95af8d6a5a493040afc4d2894796d51697d38,82c9a32fc76cf08ca51b95a4c0eda8550c42b6fd,0,16/06/13,16/06/13,8,Fix running maven http tests on OS X,"Fix running maven http tests on OS X

In 36144e12d8 tests were changed to use the system tmp directory as defined
by java.io.tmpdir, which was then overridden in the pom files to usea custom
directory that made som tests work, but not all.

Change-Id: I2fa04878f8830ad9c9b32a6f3fe8d2e2d66fe411",0,0,0,0,0,0,0,NA,NA
13845,I45359a40435e8a33def6e0bb6784b4d8637793ac,https://git.eclipse.org/r/#/c/13845,2,44d2cfe03b67411a72a08eb4fe7c0f5aba3752b4,838713184a264b2243736590f1007cb7d5ac781a,1,16/06/13,16/06/13,23,Fix tests for OS X when the tmpdir is the default /tmp,"Fix tests for OS X when the tmpdir is the default /tmp

/tmp is a symbolic link and some tests breaks when the path
get canonicalized by JGit or Jetty

Change-Id: I45359a40435e8a33def6e0bb6784b4d8637793ac",0,0,0,0,0,0,0,0,0
13846,I43b7c0172870a9446cfb35c7b3fee6394f3292e3,https://git.eclipse.org/r/#/c/13846,2,d3bc2e2416427871efdf2e5399b611f5b120f772,34a01909a77d4623d1f534cb4bc98040846a0e98,0,16/06/13,16/06/13,12,Add the other test launchers as favorites,"Add the other test launchers as favorites

The user may not see them otherwise

Change-Id: I43b7c0172870a9446cfb35c7b3fee6394f3292e3",0,0,0,0,0,0,0,NA,NA
13897,I0d0cc4f8ee04d265e5be8221b9384afb1b374315,https://git.eclipse.org/r/#/c/13897,6,34a01909a77d4623d1f534cb4bc98040846a0e98,7545f2c58b1c607b5a0e84832308b76c70dd293b,1,19/06/13,10/07/13,94,Add RequestPolicy.TIP to allow fetching non-advertised ref tips,"Add RequestPolicy.TIP to allow fetching non-advertised ref tips

Users of UploadPack may set a custom RefFilter or AdvertisedRefsHook
that limits which refs are advertised, but clients may learn of a
SHA-1 that the server should have as a ref tip through some
alternative means.  Support serving such objects from the server side
with a new RequestPolicy.

Change-Id: I0d0cc4f8ee04d265e5be8221b9384afb1b374315",0,1,0,0,0,1,1,0,0
13898,I0d52af8a7747e951a87f060a5124f822ce1b2b26,https://git.eclipse.org/r/#/c/13898,7,7efced46a9bfb0817da81727d323a1821177c7e7,759017aa7d78062231479db16ed46219d258cfb9,1,19/06/13,10/07/13,16,UploadPack: advertise allow-tip-sha1-in-want,"UploadPack: advertise allow-tip-sha1-in-want

This protocol capability, new in C git 1.8.2, corresponds to
RequestPolicy.TIP, so advertise it if that request policy was set.

Change-Id: I0d52af8a7747e951a87f060a5124f822ce1b2b26",0,1,0,0,0,1,1,0,0
13899,I264e028a76574434cecb34904d9f5944b290df78,https://git.eclipse.org/r/#/c/13899,7,21c2bed83345d8a004010b9cfc9a6e7d16ec3caf,84c1bf86e90ae819fe1a83156f8f73060c098f79,1,19/06/13,10/07/13,63,UploadPack: configure RequestPolicy with TransportConfig,"UploadPack: configure RequestPolicy with TransportConfig

C git 1.8.2 supports setting the equivalent of RequestPolicy.TIP with
uploadpack.allowtipsha1. Parse this into TransportConfig and use it
from UploadPack. An explicitly set RequestPolicy overrides the config,
and the policy may still be upgraded on a unidirectional connection to
avoid races.

Defer figuring out the effective RequestPolicy to later in the
process. This is a minor semantic change to fix a bug: previously,
calling setRequestPolicy(ADVERTISED) _after_ calling
setBiDirectionalPipe(true) would have reintroduced the race condition
otherwise fixed by 01888db892aa9590862d886c01f3b293140db153.

Change-Id: I264e028a76574434cecb34904d9f5944b290df78",0,1,0,0,0,1,1,0,0
13900,Id12e7f00b9a60258e996410f67fa10616459f53f,https://git.eclipse.org/r/#/c/13900,7,47b40d6b59e9a1d9b3420069970b60749dace05f,d6f7cf869778166471e84e892935b95758729970,1,19/06/13,10/07/13,48,UploadPack: set RefFilter from TransportConfig,"UploadPack: set RefFilter from TransportConfig

Teach TransportConfig to respect uploadpack.hiderefs, which is new in
C git 1.8.2.

Change-Id: Id12e7f00b9a60258e996410f67fa10616459f53f",0,1,0,0,0,1,1,0,0
13938,If68419ead0766035d17a21a53a3e5e761eaa70c4,https://git.eclipse.org/r/#/c/13938,1,9f5ae03a8b5f46a86699777890ebd01337773957,d24461edccfd23acd44992ff059842f4a573e0ce,0,19/06/13,20/06/13,438,Remove fix-headers and rewrite-history,"Remove fix-headers and rewrite-history

These scripts were created to bootstrap the initial contribution for
Eclipse using information from the pre-Eclipse history. We are well
past the point where the project will rewrite history in order to
correct copyright statements, so these tools no longer make sense
to keep in the tip of the tree.

Change-Id: If68419ead0766035d17a21a53a3e5e761eaa70c4",0,0,0,0,0,0,0,NA,NA
13943,I80cfc3e81d5cebf810f36ddf2760aee955c6f50a,https://git.eclipse.org/r/#/c/13943,1,4fd2f1b6a532b537cfaa21a54f13b597f20f3a3d,395570e03dbf3320f6a7e8a727a6c39560cf0c09,1,20/06/13,26/06/13,1,Add missing @since tag,"Add missing @since tag

Change-Id: I80cfc3e81d5cebf810f36ddf2760aee955c6f50a
Signed-off-by: Matthias Sohn <matthias.sohn@sap.com>",1,0,1,1,0,0,1,0,0
13995,I78a96ee2103beb48325da0f6ee10b2498bdc0267,https://git.eclipse.org/r/#/c/13995,1,93321a180b0ae446243caac18d208f8feedf589d,93c9f140c1e61c4a9ea1d9e93563df693cbb0431,1,21/06/13,24/06/13,5,Move gc to package org.eclipse.jgit.pgm,"Move gc to package org.eclipse.jgit.pgm

All bugs reported for gc have been fixed and it seems we reached a
stable implementation.

Change-Id: I78a96ee2103beb48325da0f6ee10b2498bdc0267
Signed-off-by: Matthias Sohn <matthias.sohn@sap.com>",0,0,1,0,0,0,1,0,0
13996,Id1e11a21fdcbd8cb0f2f8c22e7ab253e8df65d2f,https://git.eclipse.org/r/#/c/13996,2,6cd808688a1b413a507d070ca6294d37fa890258,e6b2d5e7d5cfea7d224fe9c83a862d88bf44bbf7,0,21/06/13,10/08/13,10,Allow the command line bundle to access internal jgit packages,"Allow the command line bundle to access internal jgit packages

Change-Id: Id1e11a21fdcbd8cb0f2f8c22e7ab253e8df65d2f
Signed-off-by: Matthias Sohn <matthias.sohn@sap.com>",0,0,0,1,0,0,1,NA,NA
13997,I5e80b3befca5cf1dcb06075862d6d48e6491cc0f,https://git.eclipse.org/r/#/c/13997,1,c875df5a7bdd3580a5d107407f460cae7bc8c9b8,cfc80dc2a2c544953bb3632be861e681d0fcad03,1,21/06/13,21/06/13,4,Don't skip want validation when the client sends no haves,"Don't skip want validation when the client sends no haves

Change-Id: I5e80b3befca5cf1dcb06075862d6d48e6491cc0f",0,0,0,1,0,1,1,0,0
13999,I07886fe875c407e2244f562c003bb9d04f398026,https://git.eclipse.org/r/#/c/13999,5,79d4488394adff268a0ec89ed1512e7565d722f7,d9f9c84b374b669d15132fb89108a0af61ef5166,1,22/06/13,09/09/13,85,[RFC] Add missing usage texts for CLI commands,"[RFC] Add missing usage texts for CLI commands

Change-Id: I07886fe875c407e2244f562c003bb9d04f398026
Signed-off-by: Matthias Sohn <matthias.sohn@sap.com>",0,1,1,1,0,0,1,0,0
14002,I52a174999ac3a5aca46d3469cb0b81edd1710580,https://git.eclipse.org/r/#/c/14002,4,28673981941c26dfecfeb3cab43dbb9496caa3f0,0d623279388916e53cb58972ca2effd115e6be43,1,24/06/13,10/07/13,172,UploadPack: refactor want validation,"UploadPack: refactor want validation

Associate each RequestPolicy with an implementation of a
RequestValidator interface that contains the validation logic. The
checkWants method is only called if there are wants that were not
advertised, since clients may always request any advertised want
according to the git protocol. Calling the method only once at the
end of parsing the want list also means policy implementations need
not be stateful.

For the special handling of unidirectional pipes, pass a
biDirectionalPipe flag into checkWants, which implementations can use
to delegate to other implementations if necessary.

Change-Id: I52a174999ac3a5aca46d3469cb0b81edd1710580",0,1,0,0,0,1,1,0,0
14003,If386fe25c0d3b4551a97c16a22350714453b03e9,https://git.eclipse.org/r/#/c/14003,7,236a94434d13adbb39724c84f6c580a600c17aed,3c7b129c0fdc993871e3056d6790cb8f22e64e8f,1,24/06/13,10/07/13,123,UploadPack: allow custom RequestValidator instances,"UploadPack: allow custom RequestValidator instances

Make the existing concrete implementations public as well so custom
implementations may delegate to them where appropriate.

Change-Id: If386fe25c0d3b4551a97c16a22350714453b03e9",0,1,0,0,0,1,1,0,0
14153,I45e9ac8b752d1dab47b202753a1dcca7122b958e,https://git.eclipse.org/r/#/c/14153,2,43505306c779ce95ff9189a103aa38f710cc8a2d,c8f7457b6fd350f55a8463da00cd2f6deddad29c,1,28/06/13,01/07/13,85,Implement get nth offset in PackIndex.,"Implement get nth offset in PackIndex.

Currently, the offset can only be retrieved by ObjectId or iterating all
of the entries. Add a method to lookup the offset by position in the
index sorted SHA1.

Change-Id: I45e9ac8b752d1dab47b202753a1dcca7122b958e",0,0,0,0,0,0,0,0,0
14154,If51ab76752622e04a4430d9a14db95ad02f5329d,https://git.eclipse.org/r/#/c/14154,3,c8f7457b6fd350f55a8463da00cd2f6deddad29c,4f04753d79ca4da0ab5b7f1aed1837dcbf41677e,1,28/06/13,01/07/13,173,Use a bucket sort for PackReverseIndex.,"Use a bucket sort for PackReverseIndex.

Previously it took 1200ms to create a reverse index (sorted by offset).
Using a simple bucket sort algorithm, that time is reduced to 450ms.
The bucket index into the offset array is kept, in order to decrease
the binary search window.

Don't keep a copy of the offsets. Instead, use nth position
to lookup the offset in the PackIndex.

Change-Id: If51ab76752622e04a4430d9a14db95ad02f5329d",0,0,0,0,0,0,0,1,1
14164,Idf47ecb33e8bd38340d760806d629f67be92d2d5,https://git.eclipse.org/r/#/c/14164,3,73d771d53c53fa2883d21f3205ebdbf1d24ebe7b,a6ab8efc57a901c261a19812a13a16d9e418883c,1,01/07/13,02/07/13,45,Update HEAD in cherry-picking several commits,"Update HEAD in cherry-picking several commits

Without update, index is wrongly detected to be dirty
when picking the second commit.

Change-Id: Idf47ecb33e8bd38340d760806d629f67be92d2d5
Signed-off-by: tomykaira <tomykaira@gmail.com>",0,0,0,0,0,0,0,0,0
14293,I4752674b1daab6eedd7c3650c7749462810eaffd,https://git.eclipse.org/r/#/c/14293,1,18dd5f1fc9bb889901207fbe3eaf19c5a3ef1142,f4269d49ecf7acf4ae1816daaa4b5fda0a821169,1,05/07/13,06/07/13,2,Check parentFile is not null,"Check parentFile is not null

parentFile becomes null when f is relative path, such as ""."".

This patch avoids NullPointerException in such case.

Change-Id: I4752674b1daab6eedd7c3650c7749462810eaffd
Signed-off-by: Hiroshi Tomita <tomykaira@gmail.com>",0,0,0,0,0,0,0,0,0
14347,I9fbcd68a11fb57cc49956b70c387a47271a0424f,https://git.eclipse.org/r/#/c/14347,2,2dd8f07d5ec19c9e2b1844ed468964db1638a7ab,b87869260057aac63cdd7502d443d4541f2b89d2,1,07/07/13,11/07/13,20,Fix bugs in TreeWalk#isPathSuffix used by PathSuffixFilter,"Fix bugs in TreeWalk#isPathSuffix used by PathSuffixFilter

* It didn't check the first character in the pattern due to a off-by-one
  error. Spotted by James Roper.
* It returned true even when pattern was longer than current path, e.g.
  it returned that "".txt"" is suffix of ""txt"".

Bug: 411999
Change-Id: I9fbcd68a11fb57cc49956b70c387a47271a0424f
Signed-off-by: Robin Stocker <robin@nibor.org>",0,0,1,0,0,0,1,0,0
14357,I66db3bc0cbd18fb5a07748905c60384b86b1c162,https://git.eclipse.org/r/#/c/14357,1,15951a2b81c99b060be75475daa0528a2b9863e7,c6feddc480fd8136bc9a8162b059ab69e75e9184,0,08/07/13,08/07/13,94,Refactor PathSuffixFilterTest to remove duplication,"Refactor PathSuffixFilterTest to remove duplication

Makes it possible to add new test cases without copying lots of lines.

Change-Id: I66db3bc0cbd18fb5a07748905c60384b86b1c162
Signed-off-by: Robin Stocker <robin@nibor.org>",0,0,0,0,0,0,0,NA,NA
14373,I76d32444c9cf9f086a013e410a88d37a359272fd,https://git.eclipse.org/r/#/c/14373,1,c6feddc480fd8136bc9a8162b059ab69e75e9184,317e19c55cf7e34d108614494fd01adc2a670330,0,08/07/13,09/07/13,36,Update to Jetty 7.6.11.v20130520,"Update to Jetty 7.6.11.v20130520

Change-Id: I76d32444c9cf9f086a013e410a88d37a359272fd
Signed-off-by: Matthias Sohn <matthias.sohn@sap.com>",0,0,0,1,0,0,1,NA,NA
14442,I2513166af519d6fc01d1eae3976ad6cff6f98530,https://git.eclipse.org/r/#/c/14442,3,5b35d4db1ddc2406f0e684702fa3265958a0fa09,1e3488f7e61915730b8e25faa6bfde3fdea96c32,1,10/07/13,10/07/13,113,Add tests for for DirCacheCheckout and symlinks,"Add tests for for DirCacheCheckout and symlinks

DirCacheCheckout had a bug when the parentdirectory of a worktree was a
symlink. DirCacheCheckout was deleting those symlinks under certain
conditions. This was fixed in I81735ba0394ef6794e9b2b8bdd8bd7e8b9c6460f
without a test because previously it was hard to setup tests containing
symlinks. Since we can now write such tests I add a test for this
situation.

Change-Id: I2513166af519d6fc01d1eae3976ad6cff6f98530
BUG: 412489
Signed-off-by: Christian Halstrick <christian.halstrick@sap.com>",0,0,0,0,0,1,1,0,0
14465,I6f672249d7ca014c63fb939cd0836689eb27ab90,https://git.eclipse.org/r/#/c/14465,1,952ce5ae2c33f772641fe48b7185f7466f2d343b,37669ec93da787f0e6201809e46fd7c0a37ad8b5,1,10/07/13,12/07/13,2,Add missing @since tags,"Add missing @since tags

Change-Id: I6f672249d7ca014c63fb939cd0836689eb27ab90
Signed-off-by: Matthias Sohn <matthias.sohn@sap.com>",0,0,0,1,0,0,1,0,0
14466,I830f2392b9234e585b01dbb4a5a369edd88796a2,https://git.eclipse.org/r/#/c/14466,3,8bd3c02bc639f13dca63999d1c9237de99a13fc8,4403839971d83fa6c4f8d19191819b253e336c04,0,10/07/13,18/10/13,91,Scripts to publish jgit artifacts on Maven central,"Scripts to publish jgit artifacts on Maven central

Change-Id: I830f2392b9234e585b01dbb4a5a369edd88796a2
Signed-off-by: Matthias Sohn <matthias.sohn@sap.com>",0,0,1,1,0,0,1,NA,NA
14562,I1077dbb1f10c7cc687c0d1b8a8e8f763ca96977c,https://git.eclipse.org/r/#/c/14562,2,79a0defa88810256682aa045e9d0a564a08c3a5b,4f8fb487a02b72062e24ba26d57d4f47558f5455,1,15/07/13,22/07/13,14,Improve documentation of PathSuffixFilter,"Improve documentation of PathSuffixFilter

Change-Id: I1077dbb1f10c7cc687c0d1b8a8e8f763ca96977c
Signed-off-by: Robin Stocker <robin@nibor.org>",0,0,1,1,0,0,1,0,0
14628,I594dcdf366200b802e13e5a645fe06597feb7bb4,https://git.eclipse.org/r/#/c/14628,1,8a8e84ec6fd61af632e7f07dc4eaa4f26b6bc427,b481824d3a36da3f36d011cf931d92dcf9c9e9e5,1,17/07/13,17/07/13,14,Close unfinished archive entries on error,"Close unfinished archive entries on error

Otherwise the underlying error is hidden by an ""IOException: This
archives contains unclosed entries."" when jgit tries to close the
archive.

Reported-by: Dave Borowitz <dborowitz@google.com>
Change-Id: I594dcdf366200b802e13e5a645fe06597feb7bb4
Signed-off-by: Jonathan Nieder <jrn@google.com>",0,0,0,0,0,0,0,0,0
14629,I2f4c285d2b2f4bdb7a5d1a1026c131417066410d,https://git.eclipse.org/r/#/c/14629,1,b481824d3a36da3f36d011cf931d92dcf9c9e9e5,b33c40ad30b561835b9e276dad56d5be5df24ca7,1,17/07/13,17/07/13,2,TarFormat: use tabs for indent,"TarFormat: use tabs for indent

Change-Id: I2f4c285d2b2f4bdb7a5d1a1026c131417066410d",0,0,0,1,0,0,1,0,0
14662,I4bb951e9fab5f4ae4271bd7e11be799dc234ab80,https://git.eclipse.org/r/#/c/14662,3,b33c40ad30b561835b9e276dad56d5be5df24ca7,580de81351efbfff3bda8e23a884809c9b6ab007,1,18/07/13,30/08/17,114,Fix compilation errors with args4j 2.0.23 and later,"Fix compilation errors with args4j 2.0.23 and later

The multiValued attribute on @Option was removed. When the field is a
List, it's not actually needed (even with earlier versions of args4j),
see RmTest. In other cases, we have a custom handler, where it's also
not needed.

Bug: 413163
Change-Id: I4bb951e9fab5f4ae4271bd7e11be799dc234ab80",0,0,1,0,0,0,1,0,0
14665,Ia1be1c70b13bb2f3da80c8e8239c5f254070fe60,https://git.eclipse.org/r/#/c/14665,1,d91ae3c0b57d77bbe5928e8face6ad9009f317dc,6f28a39262d50e9c1c1ca5170d5e7c41fa3bf164,0,18/07/13,19/07/13,2,Fix MERGED_NOT_COMMITTED toString,"Fix MERGED_NOT_COMMITTED toString

It had a typo (commited) and was not in the style of the others.

Change-Id: Ia1be1c70b13bb2f3da80c8e8239c5f254070fe60
Signed-off-by: Robin Stocker <robin@nibor.org>",0,0,0,0,0,0,0,NA,NA
14698,I3c4b1b46bf297cd4ebdb4997cfa14c8752a36411,https://git.eclipse.org/r/#/c/14698,3,6f28a39262d50e9c1c1ca5170d5e7c41fa3bf164,43f67101ada1a29efcbd51621f5795c58c6c956e,1,19/07/13,22/07/13,83,Add path option to StatusCommand,"Add path option to StatusCommand

Allow filtering of the status. Only files which match given paths are
inspected and only their state is reported.

Change-Id: I3c4b1b46bf297cd4ebdb4997cfa14c8752a36411
Signed-off-by: Christian Halstrick <christian.halstrick@sap.com>",0,0,1,0,0,0,1,0,0
14720,I39c8363e81a1c7e6cb3412ba88542ead669e69ed,https://git.eclipse.org/r/#/c/14720,3,70409224ca472ab5b93c6e1e605d4df3bedadcfa,33e49428754437941417c5c114b367cfd66d9cdb,1,20/07/13,22/07/13,59,Fix NPE in openFetch on Transport without local repository,"Fix NPE in openFetch on Transport without local repository

Setting the walk and other fields to null will result in NPEs when the
user e.g. calls fetch on the connection, but at least the advertised
refs can be read like that without having a local repository.

Bug: 413389
Change-Id: I39c8363e81a1c7e6cb3412ba88542ead669e69ed
Signed-off-by: Robin Stocker <robin@nibor.org>",0,0,0,0,0,0,0,0,0
14725,I397f5092c5eafb62236e9f9e74d9183f56903cc6,https://git.eclipse.org/r/#/c/14725,2,b8cafb6b9640cf55da0c4bac0fe9d4dfc2cb60dc,9731dc04a5105d52d0b525440e6fb2b05e2a2980,1,21/07/13,22/07/13,52,Implement open(URIish) for TransportLocal,"Implement open(URIish) for TransportLocal

Can be used for listing remote refs for a repository on the file system
without having a local repository.

Bug: 413400
Change-Id: I397f5092c5eafb62236e9f9e74d9183f56903cc6
Signed-off-by: Robin Stocker <robin@nibor.org>",0,0,0,0,0,0,0,0,0
14726,I12c6c10e791cc09ee271d89eb8b8d32f53e385db,https://git.eclipse.org/r/#/c/14726,4,1803bd33e21929a1391c3a789dc28e8e72f8cc90,655cf486c0c886906112ff74f750c5ba63df50bb,1,21/07/13,12/08/13,29,Enable LsRemoteCommand to work without local repository,"Enable LsRemoteCommand to work without local repository

It's supported by C Git and can be useful.

Bug: 413388
Change-Id: I12c6c10e791cc09ee271d89eb8b8d32f53e385db
Signed-off-by: Robin Stocker <robin@nibor.org>",0,1,0,0,0,0,1,0,0
14871,I689bc0578ce3a430b9800ad84122e221c69829f4,https://git.eclipse.org/r/#/c/14871,10,7a60ddfce60db258c2d7a804014f7323b85b78ab,fca806c17c49527d2f8591684e704a8163d51814,1,25/07/13,02/10/13,535,Added the git-describe implementation,"Added the git-describe implementation

Change-Id: I689bc0578ce3a430b9800ad84122e221c69829f4
Signed-off-by: Kohsuke Kawaguchi <kk@kohsuke.org>",0,1,1,1,1,0,1,0,0
14876,I6bdbf347a688043d549c1f091fb4a264a6c7024e,https://git.eclipse.org/r/#/c/14876,5,0d82bece6dd920fe2125783b397955429a6fad1b,da6ec430f5d4f2b39f727240345941983db68817,1,25/07/13,28/07/13,21,"ProgressMonitor for StatusCommand added. This is useful, if Git.status() is a long running command.","ProgressMonitor for StatusCommand added. This is useful, if Git.status()
is a long running command.

Change-Id: I6bdbf347a688043d549c1f091fb4a264a6c7024e
Signed-off-by: Christian Trutz <christian.trutz@gmail.com>",0,1,1,1,0,0,1,0,0
14898,I19bb667beff0d0c144150a61d7a1dc6c9703be7f,https://git.eclipse.org/r/#/c/14898,4,109cb9dec8250adfef702059648d1e50ca98a016,46f16bfc8d82ede2ac775b78b84914f46100f4b1,1,26/07/13,02/08/13,55,Change RequestValidator parameter to ObjectId list,"Change RequestValidator parameter to ObjectId list

Instead of RevObject list, this allows a custom request validator to be called
on SHA-1's corresponding to objects that may not exist in repository storage

Change-Id: I19bb667beff0d0c144150a61d7a1dc6c9703be7f
Signed-off-by: Greg Hill <greghill@google.com>",0,1,0,0,0,0,1,1,1
15007,I323f3619952fecdf28ddf50139a88e0bea34f5ba,https://git.eclipse.org/r/#/c/15007,10,c9a47e97ba65eb5a99f41a6734aebb0ea2d07028,79faddf5bfa18108f1011d32830b9d9905b4732d,1,31/07/13,01/11/13,952,Enhance reading of git-rebase-todo formatted files,"Enhance reading of git-rebase-todo formatted files

Reading and writing files formatted like the git-rebase-todo files was
hidden in the RebaseCommand. Certain constructs (like leading
tabs+spaces) have not been handled as native git. Also the upcoming
rebase interactive feature in EGit needs reading/writing these files
independent from a RebaseCommand. Therefore reading and writing those
files has been refactored to the Repository class. RebaseCommand get's
smaller because of that and doesn't have to deal with reading/writing
files.
Additional tests for empty todo-list files, or files containing comments
have been added.

Change-Id: I323f3619952fecdf28ddf50139a88e0bea34f5ba
Signed-off-by: Christian Halstrick <christian.halstrick@sap.com>",0,1,1,0,1,1,1,0,0
15042,I9754e2124c0fe6ad2dbde5597c3ed10f1c3efef5,https://git.eclipse.org/r/#/c/15042,9,ca7012c6fe0b31311aae1be27465021485b69056,cefc6fd77a765d3dad9350b4bc7ab81ec68a89fc,1,01/08/13,09/08/13,8,Missing @since tags,"Missing @since tags

Trivial change, Eclipse showed errors for missing @since tags, I used
Ctrl+1 to fix them

Change-Id: I9754e2124c0fe6ad2dbde5597c3ed10f1c3efef5
Signed-off-by: Lars Vogel <Lars.Vogel@gmail.com>",0,1,1,0,0,0,1,1,1
15129,I56ec2ba08eaf3772e2d74d937dd496209a744d4b,https://git.eclipse.org/r/#/c/15129,4,69b642e3e192b295ccd3f7594fa6c363e320024a,dfbb357a14b93a28b4f716da355cb26bd124946d,1,05/08/13,01/11/13,258,Parse commitId and shortMessage of a commented out line in rebase todo,"Parse commitId and shortMessage of a commented out line in rebase todo

A rebase todo file consists of regular non-comment action lines and
comment lines. In case that a regular action line has been commented out
(i.e. prefixed with a hash '#'), the RebaseTodoLine that is representing
this line should hold the values for commitId and shortMessage even
though it's a comment line. This allows to switch between comment and
non-comment easily even after the file has been persisted and reread.

Change-Id: I56ec2ba08eaf3772e2d74d937dd496209a744d4b
Signed-off-by: Tobias Pfeifer <to.pfeifer@sap.com>",0,1,1,0,0,0,1,-1,0
15148,Id18dbc754c814d1a5534a284c947030bf201c569,https://git.eclipse.org/r/#/c/15148,1,10d48d8dd91c02be421eedcebebe3bdae6949b3e,0177e47b376705e9aa6f0a1057d32e2900425c45,1,05/08/13,05/08/13,11,Send no-progress option with NullProgressMonitor.,"Send no-progress option with NullProgressMonitor.

The NullProgressMonitor does not report progress anywhere. Inform the
server not to send progress by enabling the no-progress capability.

Change-Id: Id18dbc754c814d1a5534a284c947030bf201c569",0,0,0,0,0,0,0,0,0
15149,If141fdc5c181b3a618b7e286ad3c6957211d0afc,https://git.eclipse.org/r/#/c/15149,1,0177e47b376705e9aa6f0a1057d32e2900425c45,131198ccd3184635439186432e89d194543576c9,1,05/08/13,05/08/13,7,Add --quiet flag to pgm fetch.,"Add --quiet flag to pgm fetch.

Change-Id: If141fdc5c181b3a618b7e286ad3c6957211d0afc",0,0,0,1,0,0,1,0,0
15227,I3baa6f90e6a41a37a8eab8449a3cc41f4efcb91a,https://git.eclipse.org/r/#/c/15227,1,131198ccd3184635439186432e89d194543576c9,5e67789dfb546ddaae7e66b0349233300e587226,1,07/08/13,08/08/13,11,Allow UploadPack requests with no options,"Allow UploadPack requests with no options

UploadPack can be invoked with no capabilities selected by the
client if the client is an ancient version of Git that nobody in
their right mind should still be using. Or if the client is very
broken and does not want to use any of the newer features added to
the protocol since its inception.

Change-Id: I3baa6f90e6a41a37a8eab8449a3cc41f4efcb91a",0,0,0,0,0,0,0,0,0
15253,I8060e430ee03571dc51239e702864c85e888505c,https://git.eclipse.org/r/#/c/15253,2,5e67789dfb546ddaae7e66b0349233300e587226,740a3861db744c215f7c69492aa6023672efc90f,1,08/08/13,08/08/13,2,Advertise capabilities with no refs in upload service.,"Advertise capabilities with no refs in upload service.

With reference hiding, it is possible for a repository to appear
empty when all refs are hidden. This causes capabilities to not be
advertised either, since they are published with the first reference,
breaking fetch by SHA1 support.

Always advertise the capabilites by publishing the symbolic capabalities
reference when the repository has no references to advertise (similar to
the receive service).

Change-Id: I8060e430ee03571dc51239e702864c85e888505c",0,0,0,0,0,0,0,0,0
15293,I3c4190940b4d7f19860e223d647fc78705e57203,https://git.eclipse.org/r/#/c/15293,11,740a3861db744c215f7c69492aa6023672efc90f,ad60ba9ac42b0c90f018fcc69309e6645f646bf7,1,09/08/13,05/11/13,603,Add Squash/Fixup support for rebase interactive in RebaseCommand,"Add Squash/Fixup support for rebase interactive in RebaseCommand

Change-Id: I3c4190940b4d7f19860e223d647fc78705e57203
Signed-off-by: Tobias Pfeifer <to.pfeifer@sap.com>",0,1,1,1,1,0,1,-1,0
15312,Ia6436bd2560e4f049c92d9aac907cb87348605e0,https://git.eclipse.org/r/#/c/15312,3,91ba191c9f72d29916852a6c3cf23c55fe814212,909bd4b89d7560082ce736a1d053e38a0f313758,1,10/08/13,04/12/13,76,More helpful InvalidPathException messages (include reason),"More helpful InvalidPathException messages (include reason)

Instead of just a generic ""Invalid path: $path"", add a reason for the
cases where it's not obvious what the problem is (e.g. ""aux"" being
reserved on Windows).

Bug: 413915
Change-Id: Ia6436bd2560e4f049c92d9aac907cb87348605e0
Signed-off-by: Robin Stocker <robin@nibor.org>",0,0,1,0,0,0,1,0,0
15364,Ied750116f767518ae4d48823cf00752b049a8477,https://git.eclipse.org/r/#/c/15364,3,e5b58129f73ece4dfdc1fa4f99f0a70f302c3f7b,baefdca5e46859e6c01af0e16654a8860f6cb043,1,12/08/13,13/09/13,177,ResetCommand: Allow reset on unborn branch when ref not specified,"ResetCommand: Allow reset on unborn branch when ref not specified

In C Git 1.8.2, ""git reset"" now also works on an unborn branch (no HEAD
yet) if no explicit ref was specified. In that case, it is treated as a
reset to an empty tree.

This can be useful for callers because ""unborn branch"" no longer has to
be special-cased to ""git rm --cached"".

Bug: 414870
Change-Id: Ied750116f767518ae4d48823cf00752b049a8477
Signed-off-by: Robin Stocker <robin@nibor.org>",0,0,0,0,0,0,0,-1,0
15384,Ibd9d9ba609a2cd7707b985cdb07405dce0422aab,https://git.eclipse.org/r/#/c/15384,1,cc308122b00d0b1c6386ad0ff21b495c8f23b85b,521fab0c6f90b9875873aebffa2f9b3df91f7e4f,1,12/08/13,12/08/13,1,Add missing @since tag for replaceLineBreaksWithSpace,"Add missing @since tag for replaceLineBreaksWithSpace

Change-Id: Ibd9d9ba609a2cd7707b985cdb07405dce0422aab
Signed-off-by: Robin Stocker <robin@nibor.org>",0,0,0,1,0,0,1,0,0
15389,I6b615f0d5da4339f1f23a29bcaeb80f0346f5764,https://git.eclipse.org/r/#/c/15389,13,cfe17abc46c69b7fd7fc94cca255ae8343a0e772,cf08bc1c0962d6bd69d598f0ea406ee0c24e64ba,1,12/08/13,10/02/14,15,"Length of symbolic link is the number of bytes, not characters","Length of symbolic link is the number of bytes, not characters

Change-Id: I6b615f0d5da4339f1f23a29bcaeb80f0346f5764",0,1,0,1,0,0,1,-1,0
15390,I134cfbda47f4d252fec1a16034e2e78b73cd5081,https://git.eclipse.org/r/#/c/15390,16,2ee7ee91d0caf32286310515682d4a120e392227,38448b3f7c6be8269b193825ddfdec6bc09bacce,1,12/08/13,12/02/14,86,FileUtils.delete does not recurse via symlinks,"FileUtils.delete does not recurse via symlinks

Change-Id: I134cfbda47f4d252fec1a16034e2e78b73cd5081",0,1,0,1,0,0,1,0,0
15393,I599fb71648c41fa2310049d0e0040b3c9f09386b,https://git.eclipse.org/r/#/c/15393,17,8c2d96078c0d83dd5fc804d7e169c248bc124891,7f9409cb1eeb5ede5252a3ef92024cd5103fb073,0,12/08/13,12/02/14,36,Add special case to WorkingTreeIterator for matching unormalized symlinks,"Add special case to WorkingTreeIterator for matching unormalized symlinks

If there is a unnormalized symbolic link in the index, lie that it matches
a normalized link in the working tree. This does not make the case
completely invisible everywhere though, but it helps to some degree.

Change-Id: I599fb71648c41fa2310049d0e0040b3c9f09386b",0,1,0,0,0,0,1,NA,NA
15394,I80d8157cc0dd99d57e2ed5d7cd8b13525a0c62b1,https://git.eclipse.org/r/#/c/15394,17,249cab64f9880182211f5c452624a64e8d491eef,b4a6d6cbcdc6cc935643d72c9e52074d84dfa2c7,1,12/08/13,12/02/14,4,Recognize symlinks in the FileTreeIterator,"Recognize symlinks in the FileTreeIterator

We did this for the Eclipse Platform in the ContainerTreeIterator.

Change-Id: I80d8157cc0dd99d57e2ed5d7cd8b13525a0c62b1",0,1,0,0,0,0,1,0,0
15395,Ia4c9c7902316bc0a90fb89d8dea9902835c06dfa,https://git.eclipse.org/r/#/c/15395,21,4606af8366ad98ad559b4166f05b007f9ed9d31e,93472c384716d52b7670a3939c025fab052670a9,1,12/08/13,12/02/14,273,Add some test cases for symbolic links with Java7,"Add some test cases for symbolic links with Java7

Change-Id: Ia4c9c7902316bc0a90fb89d8dea9902835c06dfa",0,1,0,1,0,0,1,0,0
15396,I08649ac58c9b3cb8bf12794703e4137b1b4e94d5,https://git.eclipse.org/r/#/c/15396,21,e4793eaa9d900c4954380434233e8ed8b0726ce5,0eab5c8fb8709e016b4ea9ad10a446a8ff99f835,1,12/08/13,12/02/14,73,Normalize paths on OS X with Java 7,"Normalize paths on OS X with Java 7

Java 6 and Java8 ea as or this writing normalizes file names read
from the file system to NFC, but under Java7 this is not done. I'm
sure this is a mistake, and I even think preview versions of Java 7
on Macs did normalize to NFC.

Change-Id: I08649ac58c9b3cb8bf12794703e4137b1b4e94d5",0,1,0,0,0,0,1,0,0
15540,I368be12e7bdc3c711e9f474ead312006513764b7,https://git.eclipse.org/r/#/c/15540,2,d682dab23dcb5bcc8a0d2427a0018691afd3b031,d7f148901bc2e39152dd473a92ff0513bb475b1d,1,16/08/13,25/08/13,20,LogCommand: Remove outdated TODO and improve docs,"LogCommand: Remove outdated TODO and improve docs

Change-Id: I368be12e7bdc3c711e9f474ead312006513764b7
Signed-off-by: Robin Stocker <robin@nibor.org>",0,0,1,1,0,0,1,0,0
15575,I3287609a90f068017cc62f4fd7738651e0663081,https://git.eclipse.org/r/#/c/15575,1,d4f84756a36666d16a26c94e185e7be071ef5dc8,050f2c6b124fea9ab3425b091a5758cb8c7ee4cc,1,19/08/13,19/08/13,456,Prepare 3.0.2-SNAPSHOT builds,"Prepare 3.0.2-SNAPSHOT builds

Change-Id: I3287609a90f068017cc62f4fd7738651e0663081
Signed-off-by: Matthias Sohn <matthias.sohn@sap.com>",1,0,0,1,0,0,1,0,0
15576,I9b09bb88528af465018fc0278f5441f7e6b75986,https://git.eclipse.org/r/#/c/15576,2,050f2c6b124fea9ab3425b091a5758cb8c7ee4cc,82944b396727ea964ede4044f6386c31bfa0cddb,1,19/08/13,21/08/13,65,Recognize CRLF when parsing the short message of a commit or tag,"Recognize CRLF when parsing the short message of a commit or tag

Bug: 400707
Change-Id: I9b09bb88528af465018fc0278f5441f7e6b75986",0,0,0,0,0,0,0,0,0
15577,I2fa04878f8830ad9c9b32a6f3fe8d2e2d66fe411,https://git.eclipse.org/r/#/c/15577,2,4087016f1428ee209d51602f722bfd8253e80e26,e38df56728b7856d3496ec9689116765239a29cd,0,19/08/13,21/08/13,8,Fix running maven http tests on OS X,"Fix running maven http tests on OS X

In 36144e12d8 tests were changed to use the system tmp directory as defined
by java.io.tmpdir, which was then overridden in the pom files to usea custom
directory that made som tests work, but not all.

Change-Id: I2fa04878f8830ad9c9b32a6f3fe8d2e2d66fe411",0,0,0,0,0,0,0,NA,NA
15578,I45359a40435e8a33def6e0bb6784b4d8637793ac,https://git.eclipse.org/r/#/c/15578,2,042cdb585f7b69cfd07b69a42f455b27c97adc18,ed3677c2f9633272f98c532d042e9ac8257d9a06,1,19/08/13,21/08/13,23,Fix tests for OS X when the tmpdir is the default /tmp,"Fix tests for OS X when the tmpdir is the default /tmp

/tmp is a symbolic link and some tests break when the path
gets canonicalized by JGit or Jetty. Allow Jetty to serve
symlinks by setting init parameter ""aliases"" to true [1].

[1] http://wiki.eclipse.org/Jetty/Howto/How_to_serve_symbolically_linked_files

Change-Id: I45359a40435e8a33def6e0bb6784b4d8637793ac
Signed-off-by: Matthias Sohn <matthias.sohn@sap.com>",0,0,0,0,0,0,0,0,0
15579,Icf601a41fec63f7d40308f3c85aaa4f71a7c095b,https://git.eclipse.org/r/#/c/15579,2,b93045876e17a33215bc972e8f43d55854caa4bd,09318a2dde6c829c8e89d65854b98db4280fa22d,1,19/08/13,21/08/13,213,Fix HTTP response processing for WWW-Authenticate headers,"Fix HTTP response processing for WWW-Authenticate headers

The original code was able to process only one WWW-Authenticate
header in an HTTP response, and if this header was not one of
two expected, authentication failed regardless of that there
could be other headers in the response.

All WWW-Authenticate headers in an HTTP response have to be
browsed to find one of supported, i.e. Basic or Digest.
By that if both are present, the Digest one should be used
as more preferable.

Bug: 357719
Change-Id: Icf601a41fec63f7d40308f3c85aaa4f71a7c095b
Signed-off-by: Alex Rukhlin <arukhlin@microsoft.com>
Signed-off-by: Matthias Sohn <matthias.sohn@sap.com>",0,0,0,0,0,0,0,1,1
15580,Idf47ecb33e8bd38340d760806d629f67be92d2d5,https://git.eclipse.org/r/#/c/15580,2,f42ae771f74f92b3b67fa63a9cd9105dee9e0ed5,fd5fb0fb200151b929d4ebf5542d17c4c1bca2cd,1,19/08/13,21/08/13,45,Update HEAD in cherry-picking several commits,"Update HEAD in cherry-picking several commits

Without update, index is wrongly detected to be dirty
when picking the second commit.

Change-Id: Idf47ecb33e8bd38340d760806d629f67be92d2d5
Signed-off-by: Hiroshi Tomita <tomykaira@gmail.com>
Bug: 411963",0,0,0,0,0,0,0,0,0
15581,I81735ba0394ef6794e9b2b8bdd8bd7e8b9c6460f,https://git.eclipse.org/r/#/c/15581,2,867cfd09017a46872bc2b00ab3ab26385881c1a6,f98dbd05af3bdc828ff4c80f1908244a5f877f8f,1,19/08/13,21/08/13,4,Make sure checkout is not deleting folders outside the workingtree,"Make sure checkout is not deleting folders outside the workingtree

There was a chance that jgit deletes symbolic links which point to the
folder on top of the working tree. Make sure not to touch these
resources.

Thanks to Cedric Darloy who reported this bug on
http://www.eclipse.org/forums/index.php/m/776910/#msg_776910 and to
Ondrej Vrabec who reported bug 412489.

Bug: 412489
Change-Id: I81735ba0394ef6794e9b2b8bdd8bd7e8b9c6460f
Signed-off-by: Christian Halstrick <christian.halstrick@sap.com>
Signed-off-by: Robin Stocker <robin@nibor.org>",0,0,0,0,0,0,0,0,0
15582,I119766a00bc52a810c51cffaa19207cb8555ca22,https://git.eclipse.org/r/#/c/15582,2,8b141f947794e176c4661c1613f0d125767ffaec,8b3b5f190b03aa83d54b7b07bd062928525c97a9,1,19/08/13,21/08/13,146,Update reflog like C Git during rebase (non-interactive),"Update reflog like C Git during rebase (non-interactive)

Bug: 346350
Change-Id: I119766a00bc52a810c51cffaa19207cb8555ca22
Signed-off-by: Chris Aniszczyk <caniszczyk@gmail.com>",0,0,0,0,0,0,0,0,0
15703,I39bba3baa4517e2b5e5fe0de096e756f2904e3e9,https://git.eclipse.org/r/#/c/15703,1,ffbfc2e0b637008e04d0a110680975021259e480,19d8c28323e812670f14ceb9781674b16a2fdf31,0,21/08/13,21/08/13,194,Add jgit target platform to define dependencies more precisely,"Add jgit target platform to define dependencies more precisely

Avoid that the packaging build picks an older jgit version coming with
eclipse platform by using a target platform which allows to define the
dependencies more precisely.

Change-Id: I39bba3baa4517e2b5e5fe0de096e756f2904e3e9
Signed-off-by: Matthias Sohn <matthias.sohn@sap.com>",1,0,0,0,0,0,1,NA,NA
15704,I66ffb2b6416dbbd5da11ad789dd58060b7ab09f2,https://git.eclipse.org/r/#/c/15704,1,19d8c28323e812670f14ceb9781674b16a2fdf31,641225880832c0a3780ee5f1450632270a76943c,0,21/08/13,21/08/13,2,Update build to use Tycho 0.18,"Update build to use Tycho 0.18

Change-Id: I66ffb2b6416dbbd5da11ad789dd58060b7ab09f2
Signed-off-by: Matthias Sohn <matthias.sohn@sap.com>",1,0,0,1,0,0,1,NA,NA
15705,I5e80b3befca5cf1dcb06075862d6d48e6491cc0f,https://git.eclipse.org/r/#/c/15705,1,4db353fccea30f06f5ebad04cb8cc1ace9eab695,aacd0a047b46b31e1ff96acefe9d98f83f28d5bc,1,21/08/13,21/08/13,4,Don't skip want validation when the client sends no haves,"Don't skip want validation when the client sends no haves

Change-Id: I5e80b3befca5cf1dcb06075862d6d48e6491cc0f",0,0,0,1,0,0,1,0,0
15706,I4752674b1daab6eedd7c3650c7749462810eaffd,https://git.eclipse.org/r/#/c/15706,1,ffa1c1788d9be3a6492bcd27e976c381302c1ef1,6107a765ead5b91e4b2fab7a3fb6c8e3a27f57c4,1,21/08/13,21/08/13,2,Check parentFile is not null,"Check parentFile is not null

parentFile becomes null when f is relative path, such as ""."".

This patch avoids NullPointerException in such case.

Change-Id: I4752674b1daab6eedd7c3650c7749462810eaffd
Signed-off-by: Hiroshi Tomita <tomykaira@gmail.com>",0,0,0,0,0,0,0,0,0
15707,I66db3bc0cbd18fb5a07748905c60384b86b1c162,https://git.eclipse.org/r/#/c/15707,1,6107a765ead5b91e4b2fab7a3fb6c8e3a27f57c4,c8eb0a4b0f4c29c85cf5e95bbe8fb38c638cb866,0,21/08/13,21/08/13,94,Refactor PathSuffixFilterTest to remove duplication,"Refactor PathSuffixFilterTest to remove duplication

Makes it possible to add new test cases without copying lots of lines.

Change-Id: I66db3bc0cbd18fb5a07748905c60384b86b1c162
Signed-off-by: Robin Stocker <robin@nibor.org>",0,0,0,0,0,0,0,NA,NA
15708,I9fbcd68a11fb57cc49956b70c387a47271a0424f,https://git.eclipse.org/r/#/c/15708,1,c8eb0a4b0f4c29c85cf5e95bbe8fb38c638cb866,37a6a82f2bb4b941976f7b138e8af34596f7826d,1,21/08/13,21/08/13,20,Fix bugs in TreeWalk#isPathSuffix used by PathSuffixFilter,"Fix bugs in TreeWalk#isPathSuffix used by PathSuffixFilter

* It didn't check the first character in the pattern due to a off-by-one
  error. Spotted by James Roper.
* It returned true even when pattern was longer than current path, e.g.
  it returned that "".txt"" is suffix of ""txt"".

Bug: 411999
Change-Id: I9fbcd68a11fb57cc49956b70c387a47271a0424f
Signed-off-by: Robin Stocker <robin@nibor.org>",0,0,0,0,0,0,0,0,0
15709,I76d32444c9cf9f086a013e410a88d37a359272fd,https://git.eclipse.org/r/#/c/15709,1,37a6a82f2bb4b941976f7b138e8af34596f7826d,a38574ab72ca17731f8316fb6f6f29473f902e6e,0,21/08/13,21/08/13,36,Update to Jetty 7.6.11.v20130520,"Update to Jetty 7.6.11.v20130520

Change-Id: I76d32444c9cf9f086a013e410a88d37a359272fd
Signed-off-by: Matthias Sohn <matthias.sohn@sap.com>",1,0,0,1,0,0,1,NA,NA
15809,Icef0cd0cce9bbccf2b2cbb3471a3f4ce0655e22c,https://git.eclipse.org/r/#/c/15809,1,ac3c25d373e0a8ccb0ca60abdab4a988224ffdbd,6f94931433a20e64f3add7fe89972ddb875a8cff,1,23/08/13,23/08/13,457,Merge branch 'stable-3.0',"Merge branch 'stable-3.0'

* stable-3.0:
  Update reflog like C Git during rebase (non-interactive)
  Make sure checkout is not deleting folders outside the workingtree
  Update to Jetty 7.6.11.v20130520
  Fix bugs in TreeWalk#isPathSuffix used by PathSuffixFilter
  Refactor PathSuffixFilterTest to remove duplication
  Check parentFile is not null
  Update HEAD in cherry-picking several commits
  Fix HTTP response processing for WWW-Authenticate headers
  Don't skip want validation when the client sends no haves
  Fix tests for OS X when the tmpdir is the default /tmp
  Fix running maven http tests on OS X
  Recognize CRLF when parsing the short message of a commit or tag
  Update build to use Tycho 0.18
  Add jgit target platform to define dependencies more precisely
  Prepare 3.0.2-SNAPSHOT builds

Change-Id: Icef0cd0cce9bbccf2b2cbb3471a3f4ce0655e22c
Signed-off-by: Matthias Sohn <matthias.sohn@sap.com>",1,0,0,0,0,0,1,0,0
15858,I6f9d699e158a7b9d813c8fa8d273992a28994e41,https://git.eclipse.org/r/#/c/15858,2,786152f0523f06c568c244805d4ece95f1ce1edc,1d93445efb4c0f776e0a682119bfb8afeb83bf60,1,26/08/13,30/10/13,11,Support extension of TransportHttp,"Support extension of TransportHttp

This allows subclasses to configure the HTTP connection (for example,
to add headers to the request).

Bug: https://bugs.eclipse.org/bugs/show_bug.cgi?id=400724
Change-Id: I6f9d699e158a7b9d813c8fa8d273992a28994e41
Signed-off-by: Michael Nelson <michael.nelson@tasktop.com>",0,0,0,0,0,0,0,0,0
15918,I6849fc5cb81e8ac47ce1b2c5a74737b23c089fc1,https://git.eclipse.org/r/#/c/15918,1,401f93a34215cc71b1a5cd50187d39042bec8def,ad19c92a4526004a2cd58fae240c829f9f0b0dbb,0,27/08/13,28/08/13,32,Update to Orbit Kepler SR1 release R20130827064939,"Update to Orbit Kepler SR1 release R20130827064939

Change-Id: I6849fc5cb81e8ac47ce1b2c5a74737b23c089fc1
Signed-off-by: Matthias Sohn <matthias.sohn@sap.com>",0,0,0,1,0,0,1,NA,NA
15921,Iec2c5ab3027a3e3f9ecc0d2f99193385177d9025,https://git.eclipse.org/r/#/c/15921,21,ad19c92a4526004a2cd58fae240c829f9f0b0dbb,1a77a16033ff00b936741d41190a904f65352818,1,28/08/13,04/09/13,312,Update build to use CBI jarsigner plugin,"Update build to use CBI jarsigner plugin

The dash signing plugin will be retired soon hence we need to update our
build to use the CBI jarsigner plugin for signing build results.

Change-Id: Iec2c5ab3027a3e3f9ecc0d2f99193385177d9025
Signed-off-by: Matthias Sohn <matthias.sohn@sap.com>",1,1,0,0,0,0,1,0,0
15955,Ifa6500f3f6a033da40c48287630b77c47b15f4a0,https://git.eclipse.org/r/#/c/15955,2,ab57f261ac09e5e5b87a55e81aab6f8547da1da5,9f351322bafed11c05bdcf34c155bd4caec4ac82,1,28/08/13,09/09/13,13,"Don't treat ""/"" as valid ignore pattern","Don't treat ""/"" as valid ignore pattern

This matches the behavior of C Git.

Bug: 415767
Change-Id: Ifa6500f3f6a033da40c48287630b77c47b15f4a0
Signed-off-by: Robin Stocker <robin@nibor.org>",0,0,0,0,0,0,0,0,0
16017,Idda470ff355cc1ab559c3c64189e8b1df173dc55,https://git.eclipse.org/r/#/c/16017,1,3ed22aabe1fc3a083df866d38842c0d5d2cb9d59,5737a8937146ed32eaebf6705f58fd2d3556d7a3,0,31/08/13,31/08/13,16,Update maven plugins,"Update maven plugins

Change-Id: Idda470ff355cc1ab559c3c64189e8b1df173dc55
Signed-off-by: Matthias Sohn <matthias.sohn@sap.com>",1,0,0,1,0,0,1,NA,NA
16115,Ia1f6518ab7c7466d11710225f815b755fbf4d387,https://git.eclipse.org/r/#/c/16115,1,85eafa07ba786e190be86861a8928bd08859dc03,5c0d201798f39d02c00f0dde514655f1d326ba1e,0,04/09/13,04/09/13,4,Uncomment eclipse-jar-signer plugin,"Uncomment eclipse-jar-signer plugin

This was commented out by mistake.

Change-Id: Ia1f6518ab7c7466d11710225f815b755fbf4d387
Signed-off-by: Matthias Sohn <matthias.sohn@sap.com>",1,0,0,0,0,0,1,NA,NA
16122,Ie18ced75f573f140969af2a7d9edb45c76523715,https://git.eclipse.org/r/#/c/16122,1,5c0d201798f39d02c00f0dde514655f1d326ba1e,2038d8dfd1c933ed1c5fa18b2c39c2afeeca7559,1,04/09/13,04/09/13,96,JGit v3.0.2.201309041250-rc2,"JGit v3.0.2.201309041250-rc2

Change-Id: Ie18ced75f573f140969af2a7d9edb45c76523715
Signed-off-by: Matthias Sohn <matthias.sohn@sap.com>",1,0,0,1,0,0,1,0,0
16128,I0e4020326c6443ba7157c18b345160cf9e1e88a7,https://git.eclipse.org/r/#/c/16128,1,2038d8dfd1c933ed1c5fa18b2c39c2afeeca7559,8d2c9e6a1e676d97d9da17059e07122b7dfc67a6,1,04/09/13,04/09/13,96,Prepare post 3.0.2-rc2 builds,"Prepare post 3.0.2-rc2 builds

Change-Id: I0e4020326c6443ba7157c18b345160cf9e1e88a7
Signed-off-by: Matthias Sohn <matthias.sohn@sap.com>",1,0,0,1,0,0,1,0,0
16136,Ib248b6d383da5c8aa887d9c355a0df6f3e2247a5,https://git.eclipse.org/r/#/c/16136,3,50522d99c905daed21568a4087688e6ad1c70c56,4c2a45e8393984a8d17b0f328941b0ea78f86901,1,04/09/13,04/09/13,60,Remove unnecessary inflate stride in DfsBlock,"Remove unnecessary inflate stride in DfsBlock

OpenJDK 7 does not benefit from using an inflate stride on the input
array. The implementation of java.util.zip.Inflater supplies the
entire input byte[] to libz, with no regards for the bounds supplied.
Slicing at 512 byte increments in DfsBlock no longer has any benefit.

In OpenJDK 6 the native portion of Inflater used GetByteArrayRegion
to obtain a copy of the input buffer for libz. In this use case
supplying a small stride made sense, it avoided allocating space
for and copying data past the end of the object's compressed stream.

In OpenJDK 7 the native code uses GetPrimitiveArrayCritical,
which tries to avoid copying by freezing Java garbage collection
and accessing the byte[] contents in place. On OpenJDK 7 derived
JVMs it is likely more efficient to supply the entire DfsBlock.

Since OpenJDK 6 is deprecated and replaced by OpenJDK 7 it is
reasonable to suggest any consumers running JGit with DFS support
use an OpenJDK 7 derived JVM. However, JGit still targets local
filesystem support on Java 5, so it is still not reasonble to apply
this same simplification to the internal.storage.file package.

Change-Id: Ib248b6d383da5c8aa887d9c355a0df6f3e2247a5",0,0,0,0,0,0,0,0,0
16138,Iaa8bba21c300dd1de2b91a77cddf6727fbc66340,https://git.eclipse.org/r/#/c/16138,1,d15dac75b75bf69edf8d9a1e7b481c004e07f139,33d3baa585fef964f502c05b612800763c3839b0,1,04/09/13,04/09/13,7,Merge branch 'stable-3.0',"Merge branch 'stable-3.0'

* stable-3.0:
  Prepare post 3.0.2-rc2 builds
  JGit v3.0.2.201309041250-rc2
  Uncomment eclipse-jar-signer plugin
  Update build to use CBI jarsigner plugin
  Update maven plugins
  Update to Orbit Kepler SR1 release R20130827064939

Change-Id: Iaa8bba21c300dd1de2b91a77cddf6727fbc66340
Signed-off-by: Matthias Sohn <matthias.sohn@sap.com>",1,0,0,0,0,0,1,0,0
16212,Ief2fceaaffab7641ba63ace4577462fa3bbf1c13,https://git.eclipse.org/r/#/c/16212,1,3342bb9d844a9627d625eba0f591bb658a194085,79da573171300a8e466541f9ea3bf7de35dc01a8,0,08/09/13,09/09/13,1,Add missing dependency for testing ArchiveCommand with xz compression,"Add missing dependency for testing ArchiveCommand with xz compression

Without this dependency the ArchiveTest.testTxzExtension() fails with a
ClassNotFoundException if it is started from Eclipse.

Change-Id: Ief2fceaaffab7641ba63ace4577462fa3bbf1c13
Signed-off-by: Matthias Sohn <matthias.sohn@sap.com>",0,0,0,0,0,0,0,NA,NA
16318,Ifaae2e3e2f1bb0504bf9e6d59983086ac19a540b,https://git.eclipse.org/r/#/c/16318,1,1ccb795c09d38c0554459bf5f0199d6444cf3e1a,3f4abfcea8c45e44a40162d335f7b6dbff3ba177,1,11/09/13,11/09/13,96,JGit v3.0.2.201311090911-r,"JGit v3.0.2.201311090911-r

Change-Id: Ifaae2e3e2f1bb0504bf9e6d59983086ac19a540b
Signed-off-by: Matthias Sohn <matthias.sohn@sap.com>",1,0,0,1,0,0,1,0,0
16331,Ie1bd951a2cb35d069c94dab4a62507115913764f,https://git.eclipse.org/r/#/c/16331,1,3f4abfcea8c45e44a40162d335f7b6dbff3ba177,ed41a302e4920c77f499b6166c5a8f0268e502bd,1,11/09/13,11/09/13,460,Prepare post 3.0.2 builds,"Prepare post 3.0.2 builds

Change-Id: Ie1bd951a2cb35d069c94dab4a62507115913764f
Signed-off-by: Matthias Sohn <matthias.sohn@sap.com>",1,0,0,1,0,0,1,0,0
16347,I99a7d1072285646f7fcd4169225c1fd249ad5e37,https://git.eclipse.org/r/#/c/16347,1,2bc55487412404a60e18924f8918af36f57090be,7779404837d853b4b5b487a488b6dba30df6d0d3,1,11/09/13,12/09/13,477,Merge branch 'stable-3.0',"Merge branch 'stable-3.0'

* stable-3.0:
  Prepare post 3.0.2 builds
  JGit v3.0.2.201311090911-r

Change-Id: I99a7d1072285646f7fcd4169225c1fd249ad5e37
Signed-off-by: Matthias Sohn <matthias.sohn@sap.com>",1,0,0,0,0,0,1,0,0
16457,Ifd9153f77c246a67d5d15734667dc2360718a390,https://git.eclipse.org/r/#/c/16457,1,5817cddf48b6194b36c05742992ba86661b071ee,b6f99d1c9b2f2c2dd402bc6fcd53bb79cfdc4946,0,16/09/13,16/09/13,12,Add org.eclipse.jgit.java7.source to jgit source feature,"Add org.eclipse.jgit.java7.source to jgit source feature

Change-Id: Ifd9153f77c246a67d5d15734667dc2360718a390
Signed-off-by: Matthias Sohn <matthias.sohn@sap.com>",1,0,0,1,0,0,1,NA,NA
16483,I73ff609ba681500394b5919f62cff9ec24a52756,https://git.eclipse.org/r/#/c/16483,1,b6f99d1c9b2f2c2dd402bc6fcd53bb79cfdc4946,243f6463c1b897db5455b3bea5e734d4d1d2ff5c,1,16/09/13,16/09/13,102,JGit v3.0.3.201309161630-r,"JGit v3.0.3.201309161630-r

Change-Id: I73ff609ba681500394b5919f62cff9ec24a52756
Signed-off-by: Matthias Sohn <matthias.sohn@sap.com>",1,0,0,1,0,0,1,0,0
16503,I738afcfbc78ea1ac56d0d0ab7d4f7717167dd8dd,https://git.eclipse.org/r/#/c/16503,1,100d08657b66dc38c5158b9d2a8e1ad6ce6b16e6,55c845054aa992b28a073acac17e4ae6fe1f1baf,1,17/09/13,17/09/13,200,Merge branch 'stable-3.0',"Merge branch 'stable-3.0'

* stable-3.0:
  JGit v3.0.3.201309161630-r
  Add org.eclipse.jgit.java7.source to jgit source feature

Change-Id: I738afcfbc78ea1ac56d0d0ab7d4f7717167dd8dd
Signed-off-by: Matthias Sohn <matthias.sohn@sap.com>",1,0,0,0,0,0,1,0,0
16580,I86b4f83955586bb24774fd621f5012499cf67909,https://git.eclipse.org/r/#/c/16580,2,55c845054aa992b28a073acac17e4ae6fe1f1baf,8dd409e0f8e79d2b21c7f778917f487035e57b64,1,19/09/13,20/09/13,6,Use full branch name when getting ref in BranchTrackingStatus,"Use full branch name when getting ref in BranchTrackingStatus

In case there is both a tag and branch called ""foo"", the tag is returned
if calling getRef with the short name. By using refs/heads/foo, the
branch is returned.

Bug: 417158
Change-Id: I86b4f83955586bb24774fd621f5012499cf67909
Signed-off-by: Robin Stocker <robin@nibor.org>",0,0,0,0,0,0,0,0,0
16618,I378673c00de32385ba90f4b639cb812f9574a216,https://git.eclipse.org/r/#/c/16618,4,ae1606d0cec6139fd416ebe72084669c672b7520,cbccdddd155fdce48436b998090d261e2c54a90e,1,19/09/13,19/09/13,16,Ignore bitmap indexes that do not match the pack checksum,"Ignore bitmap indexes that do not match the pack checksum

If `git gc` creates a new pack with the same file name, the
pack checksum may not match that in the .bitmap. Fix the PackFile
implementaion to silently ignore invalid bitmap indexes.

Change-Id: I378673c00de32385ba90f4b639cb812f9574a216",0,1,0,0,0,0,1,0,0
16709,I328ced19aa8a1888e5353cdbb6106a85fd72d5d7,https://git.eclipse.org/r/#/c/16709,4,fc9acd95d166f849bf23e5d654c81e8f614bed6d,90e31503acda1147d6fd86a3a7236dadc4578d16,1,23/09/13,01/10/13,4,Close unfinished entries on putArchiveEntry error,"Close unfinished entries on putArchiveEntry error

If putArchiveEntry encounters an I/O error (for example due to the
reader of an HTTP stream closing the connection), the result is an
archive with unclosed entries, causing TarArchiveOutputStream.finish()
to throw IOException(""This archives contains unclosed entries""),
hiding the real IOException.

Wrap putArchiveEntry in a try {} finally block to avoid this.

Change-Id: I328ced19aa8a1888e5353cdbb6106a85fd72d5d7
Signed-off-by: Jonathan Nieder <jrn@google.com>",0,1,0,0,0,0,1,0,0
16710,I1f1cb08ec4e9b14c79bf4621f3fa959463034b82,https://git.eclipse.org/r/#/c/16710,1,90e31503acda1147d6fd86a3a7236dadc4578d16,4d5d24fbec6087712947f2e1e5fc47477cdcff3c,1,24/09/13,02/11/13,14,"Revert ""Close unfinished archive entries on error""","Revert ""Close unfinished archive entries on error""

This reverts commit 75d9b31f14d6226a535a80c05cffda29e55d2ceb.
Now that we do not try to close the ArchiveOutputStream in the error
path, there is no need to artificially close partial entries from
before the error.

Change-Id: I1f1cb08ec4e9b14c79bf4621f3fa959463034b82
Signed-off-by: Jonathan Nieder <jrn@google.com>",0,0,0,0,0,0,0,0,0
16711,Ia302e68a4b2a9399cb18025274574e31d3d3e407,https://git.eclipse.org/r/#/c/16711,2,aaf4455eb168c1c37c1b594cfc5740e11a583070,afbe002adea95b43a5de3302a124f1acec7cfa76,0,24/09/13,25/09/13,14,Prepare re-signing pgm's ueberjar to avoid SecurityException,"Prepare re-signing pgm's ueberjar to avoid SecurityException

Since we now sign all build artifacts immediately after creating them
we need to re-sign the ueberjar created for jgit command line tool
because the signatures of the individual jars are invalidated when
repacking them into the ueberjar. Hence we need to exclude the
signatures of the individual jars when using maven-shade-plugin to
create the ueberjar.

See http://dev.eclipse.org/mhonarc/lists/jgit-dev/msg02277.html

Change-Id: Ia302e68a4b2a9399cb18025274574e31d3d3e407
Signed-off-by: Matthias Sohn <matthias.sohn@sap.com>",1,0,0,0,0,0,1,NA,NA
16755,I2d6f0de82010ea6523fbce6fb4501e847bdcdddc,https://git.eclipse.org/r/#/c/16755,6,52f0f23159cf0e376512a6c375430b10578212f2,dc467923dded49e4efa0669894ca00ccade61ec9,1,25/09/13,02/11/13,58,[RFC] Add Operation.Process_steps to RebaseCommand,"[RFC] Add Operation.Process_steps to RebaseCommand

Change-Id: I2d6f0de82010ea6523fbce6fb4501e847bdcdddc
Signed-off-by: Tobias Pfeifer <to.pfeifer@sap.com>",0,1,0,1,0,0,1,0,0
16774,I1d366f2d55e170d2972715c657c8e2d10c8d87d2,https://git.eclipse.org/r/#/c/16774,2,d8176fff20e9100cc806334a5eaf115cb7c28669,931a0ea1e421069a4f35d0682e4eee1f63a5f741,1,25/09/13,14/02/14,10,Fix a NullPointerException if properties file doesn't exist,"Fix a NullPointerException if properties file doesn't exist

For example with following URL,

  amazon-s3://.jgit@mybucket/foo.git

if ~/.jgit is missing, jgit command will throw a NullPointerException.

With this patch, a reasonable error message will be emitted:

  fatal: Cannot read file /Users/jamesyonan/.jgit

Change-Id: I1d366f2d55e170d2972715c657c8e2d10c8d87d2
Signed-off-by: James Yonan <james@openvpn.net>",0,0,0,0,0,0,0,0,0
16792,Ic8a8247c8a53be802c1be83850ed766b902ca646,https://git.eclipse.org/r/#/c/16792,1,0554b9f8ed3d70b54ba9aaee8806eb8af89377a2,d1372c216cb47699d87a65acc88aeaa13f2ec4f2,1,26/09/13,26/09/13,57,Attempt to fix graph layout when new heads are introduced,"Attempt to fix graph layout when new heads are introduced

Sometime the new commit is no allocated onto a new lane leading to
the commit being drawn on the wrong branch and something that looks
like a merge.

The drawback is that this also changes existing valid graphs.

Bug: 368927
Change-Id: Ic8a8247c8a53be802c1be83850ed766b902ca646",0,0,0,0,0,0,0,0,0
16825,I0e41d89bbd4fc01ad3b3d05a45ee60af853bfae7,https://git.eclipse.org/r/#/c/16825,2,d1372c216cb47699d87a65acc88aeaa13f2ec4f2,6b36491e880ce3ee1636e94f673585106ceab0ac,1,27/09/13,29/09/13,4,Fix order of commits in rebase todo file header,"Fix order of commits in rebase todo file header

Change-Id: I0e41d89bbd4fc01ad3b3d05a45ee60af853bfae7",0,0,0,1,0,0,1,0,0
16830,I48202dd461110da25f9bc159c938311fff0669e0,https://git.eclipse.org/r/#/c/16830,1,0331e81d887ec6474737943e808e2b639b0c50fe,0c30c735bc7a6dc61a07064c0be2d961bb84afe0,1,27/09/13,27/09/13,102,JGit v3.1.0.201309270735-rc1,"JGit v3.1.0.201309270735-rc1

Change-Id: I48202dd461110da25f9bc159c938311fff0669e0
Signed-off-by: Matthias Sohn <matthias.sohn@sap.com>",1,0,0,1,0,0,1,0,0
16840,I060f2082ccd0c91905b6b29a49cc633a0b51a1f2,https://git.eclipse.org/r/#/c/16840,1,0c30c735bc7a6dc61a07064c0be2d961bb84afe0,c453e8608fbff056c77e74bec8e89867b4509aa5,1,27/09/13,29/09/13,102,Prepare post 3.1.0 RC1 builds,"Prepare post 3.1.0 RC1 builds

Change-Id: I060f2082ccd0c91905b6b29a49cc633a0b51a1f2
Signed-off-by: Matthias Sohn <matthias.sohn@sap.com>",1,0,0,1,0,0,1,0,0
16972,I2170b13047d5eab7565f47f9feb1680e03b1ba09,https://git.eclipse.org/r/#/c/16972,1,9941b5e0299779363b0d8c779d784c09e3d0703c,c08b5bd8d86d2a187ddbfea473f0acb00cda9b99,1,02/10/13,02/10/13,110,JGit v3.1.0.201310021548-r,"JGit v3.1.0.201310021548-r

Change-Id: I2170b13047d5eab7565f47f9feb1680e03b1ba09
Signed-off-by: Matthias Sohn <matthias.sohn@sap.com>",1,0,0,1,0,0,1,0,0
16999,I306a3d40c6ddb88a16d17f09a60e3d19b0716962,https://git.eclipse.org/r/#/c/16999,1,c08b5bd8d86d2a187ddbfea473f0acb00cda9b99,2671bdd82270d5a18630d96f85d18dc09ddb338a,1,03/10/13,03/10/13,490,Prepare post 3.1.0 builds,"Prepare post 3.1.0 builds

Change-Id: I306a3d40c6ddb88a16d17f09a60e3d19b0716962
Signed-off-by: Matthias Sohn <matthias.sohn@sap.com>",1,0,0,1,0,0,1,0,0
17001,Ida30175d0c058048cbe4b563aae7f85cd008db29,https://git.eclipse.org/r/#/c/17001,1,5e8471335e6626ca46e1b8c925d5f47c891b6095,cc5c589c0924bde30616193855548518b7f47529,0,03/10/13,03/10/13,0,Merge branch 'stable-3.1',"Merge branch 'stable-3.1'

* stable-3.1:
  Prepare post 3.1.0 builds
  JGit v3.1.0.201310021548-r
  Fix order of commits in rebase todo file header
  Prepare post 3.1.0 RC1 builds
  JGit v3.1.0.201309270735-rc1
  Attempt to fix graph layout when new heads are introduced
  Prepare re-signing pgm's ueberjar to avoid SecurityException
  Use full branch name when getting ref in BranchTrackingStatus

Change-Id: Ida30175d0c058048cbe4b563aae7f85cd008db29
Signed-off-by: Matthias Sohn <matthias.sohn@sap.com>",1,0,0,0,0,0,1,NA,NA
17002,Iac6cf7a5bb6146ee3fe38abe8020fc3fc4217584,https://git.eclipse.org/r/#/c/17002,2,cc5c589c0924bde30616193855548518b7f47529,29f0fcbd6ec44da5522f82138b0c2adab4a65ff0,1,03/10/13,03/10/13,488,Prepare 3.2.0-SNAPSHOT builds,"Prepare 3.2.0-SNAPSHOT builds

Change-Id: Iac6cf7a5bb6146ee3fe38abe8020fc3fc4217584
Signed-off-by: Matthias Sohn <matthias.sohn@sap.com>",1,0,0,1,0,0,1,0,0
17072,I92a87543a6ace9a06a70a29534399608cee6adb1,https://git.eclipse.org/r/#/c/17072,2,29f0fcbd6ec44da5522f82138b0c2adab4a65ff0,43edec2b3455520914b463e0d0efd13f9a00cf04,0,06/10/13,14/01/14,10,Update commons-compress to 1.5,"Update commons-compress to 1.5

Includes various fixes, including

  o Writing TAR PAX headers failed if the generated entry name ended
    with a ""/"".
    Issue: COMPRESS-203.

which has been happening in the wild (java.io.IOException: request to
write '120' bytes exceeds size in header of '0' bytes for entry
'./PaxHeaders.X/hostsidetests/appsecurity/test-apps/AppAccessData/[...]/').

Change-Id: I92a87543a6ace9a06a70a29534399608cee6adb1
Signed-off-by: Jonathan Nieder <jrn@google.com>",0,0,0,0,0,0,0,NA,NA
17122,I4e4537d8bd0fa772f388262684c5c4ca1929dc4c,https://git.eclipse.org/r/#/c/17122,2,efae9eb2f31db2be7ce867943c57866d093dc175,f8531e94fe456ce2c63c70fcbf8806dd89eccd97,1,07/10/13,07/10/13,94,Propagate IOException where possible when getting all refs.,"Propagate IOException where possible when getting all refs.

Currently, Repository getAllRef() silently ignores an IOException and
instead returns an empty map. Repository is a public API and as such
cannot be changed until the next major revision change. Where possible,
update the internal jgit APIs to use the RefDatabase directly, since
it propagates the error.

Change-Id: I4e4537d8bd0fa772f388262684c5c4ca1929dc4c",0,0,0,0,0,0,0,0,0
17135,I15dc20306826c352f69e88afb7ed6927c12b6c1f,https://git.eclipse.org/r/#/c/17135,4,58ab617e82c0af74cf372d1921c0655c86ee5736,ebd70bd264c151ac9b12a6a67c866dfd9916fd18,1,07/10/13,07/10/13,23,Add contructors that take Throwable to ServiceMayNotContinueException.,"Add contructors that take Throwable to ServiceMayNotContinueException.

ServiceMayNotContinueException usually wraps an underlying exception.
Add a convenience constructors that takes the Throwable. In the case a
string is not provided, the message defaults to ""internal server error""
since it may be reported to the client.

Change-Id: I15dc20306826c352f69e88afb7ed6927c12b6c1f",0,1,0,0,0,0,1,0,0
17145,I0913ee5ee8db5c5918a9e41abbbfe125b6c70783,https://git.eclipse.org/r/#/c/17145,3,8501c5a6ead76d9497b45f8161d8dd3f4495b006,536e123753a18689a43eccfcb551dda92061eb8c,1,08/10/13,19/10/13,40,Fix failed tests when the tmp directory is a symlink,"Fix failed tests when the tmp directory is a symlink

On Mac OS X /tmp is by default a sombolic link.

Change-Id: I0913ee5ee8db5c5918a9e41abbbfe125b6c70783",0,0,1,0,0,0,1,0,0
17176,Ide735ecfc7d04884981b79b57a4275863ce17006,https://git.eclipse.org/r/#/c/17176,1,f88bc7bd228cb00c29749aa561a874ddaae8c143,ae3121c9bafd756b29273a0539f6b56f2f560ed4,1,08/10/13,08/10/13,5,Fix ServiceMayNotContinueException constructors for Java 1.5,"Fix ServiceMayNotContinueException constructors for Java 1.5

IOException did not add a (String, Throwable) constructor until 1.5.
Instead use the String super constructor and initCause to initialize
the exception.

Fixes bug 418889

Change-Id: Ide735ecfc7d04884981b79b57a4275863ce17006",0,0,0,0,0,0,0,0,0
17230,I43f5267182ea69d1f9abbff33136e0491c629071,https://git.eclipse.org/r/#/c/17230,1,ae3121c9bafd756b29273a0539f6b56f2f560ed4,f081996745b5a952c7825801f99c87f7f3db2d9d,1,09/10/13,10/10/13,11,Add support for --version in JGit CLI,"Add support for --version in JGit CLI

Bug: 419000
Change-Id: I43f5267182ea69d1f9abbff33136e0491c629071
Signed-off-by: Kaloyan Raev <kaloyan.r@zend.com>",0,0,0,0,0,0,0,0,0
17237,I4269d1cbd9bf9fd8be6fb4463aecc1c434aa387b,https://git.eclipse.org/r/#/c/17237,4,7fe22596ff2c187316d79e8bb3a3537ad630dc86,17a82809f25de5ae4dd13db00bcb6f6d01106d1f,1,09/10/13,12/10/13,51,jgit-cli version command falls back to Bundle-Version,"jgit-cli version command falls back to Bundle-Version

If the version command cannot read the Implementation-Version of the
containing JAR then it will fall back to reading the Bundle-Version
header in MANIFEST.MF. This makes the command working also from the
org.eclipse.jgit.pgm bundle and during development in a host IDE.

Bug: 419087
Change-Id: I4269d1cbd9bf9fd8be6fb4463aecc1c434aa387b
Signed-off-by: Kaloyan Raev <kaloyan.r@zend.com>",0,1,1,0,0,0,1,0,0
17238,I98765208edd7df59e262001dd01ed2b43e4475a9,https://git.eclipse.org/r/#/c/17238,2,a10d6da00e5066f402379ed0a2047171426926f4,36da1fb90bacca8ce0927070d888f0a9fa8c7fcb,0,09/10/13,09/10/13,3,Add resources/ as source folder in build.properties,"Add resources/ as source folder in build.properties

This allows correct export of org.eclipse.jgit.pgm via the PDE Export
wizard.

Change-Id: I98765208edd7df59e262001dd01ed2b43e4475a9
Signed-off-by: Kaloyan Raev <kaloyan.r@zend.com>",0,0,0,0,0,0,0,NA,NA
17283,I4bd271cb348914642069239853488f4960444746,https://git.eclipse.org/r/#/c/17283,1,fd3a5fdc625669ae056922633bc18b2aff59e537,d32fb6662539e0d76b907550700b7b9c6f1f46e4,0,10/10/13,10/10/13,2,List all supported formats in archive command's help,"List all supported formats in archive command's help

Change-Id: I4bd271cb348914642069239853488f4960444746
Signed-off-by: Matthias Sohn <matthias.sohn@sap.com>",0,0,0,1,0,0,1,NA,NA
17284,I04805ce20cc203f5e491406c39b71e7017553b37,https://git.eclipse.org/r/#/c/17284,2,a439f0b8000b5eeead50b9e1e33b1f5d10b2b67c,41d288b42ac87b4126e5ffef784325a4e633ce73,0,10/10/13,19/10/13,5,Allow to set target of DescribeCommand,"Allow to set target of DescribeCommand

Change-Id: I04805ce20cc203f5e491406c39b71e7017553b37
Signed-off-by: Matthias Sohn <matthias.sohn@sap.com>",0,0,1,1,0,0,1,NA,NA
17285,I5a5a238709df813ec07278bb3b4f9ea5c85c0883,https://git.eclipse.org/r/#/c/17285,2,7a54c6f07461191a063d2f253668f537ca67cb8a,335aa5217e740986e4a225501a5670eda8945ecf,1,10/10/13,19/10/13,37,Describe HEAD if no explicit target was set,"Describe HEAD if no explicit target was set

Change-Id: I5a5a238709df813ec07278bb3b4f9ea5c85c0883
Signed-off-by: Matthias Sohn <matthias.sohn@sap.com>",0,0,1,1,0,0,1,0,0
17286,I1560fd2be417361b3d2df15a27618053031bd873,https://git.eclipse.org/r/#/c/17286,3,3175f935170c2ba28cf617f5fe79212e01bbaab4,6b511ea60a3cd085b962b475906a2c26dff2e131,1,10/10/13,20/10/13,178,Add describe command to JGit command line interface,"Add describe command to JGit command line interface

Change-Id: I1560fd2be417361b3d2df15a27618053031bd873
Signed-off-by: Matthias Sohn <matthias.sohn@sap.com>",0,0,1,1,0,0,1,0,0
17433,I1dc99fd38e678e091a1d141d741328f0dec1756a,https://git.eclipse.org/r/#/c/17433,2,11f3afe94aac4cf9828f8e45526281e00345e4d2,5f3ce6c2a84bd966207c9b9cf956943e1c3affcd,1,16/10/13,26/10/13,127,CLI fetch command should support --tags,"CLI fetch command should support --tags

The toget refspec list is set to ""refs/tags/*:refs/tags/*"" when the
--tag option is available

Bug: 419638
Change-Id: I1dc99fd38e678e091a1d141d741328f0dec1756a
Signed-off-by: Kaloyan Raev <kaloyan.r@zend.com>",0,0,1,0,0,0,1,1,1
17436,Ib2ebf4e177498c22a9098aa225e3cfcf16bbd958,https://git.eclipse.org/r/#/c/17436,3,a1a1b7b380a5bdf215e73d8a8f734195b96ceec3,a4e4d325f1f5edcfa0ef7e539da4f1912ec93eda,1,16/10/13,03/12/13,99,Fix exception on conflicts with recursive merge,"Fix exception on conflicts with recursive merge

When there are conflicts with a recursive merge, the conflicting paths
are stored in unmergedPaths (field in ResolveMerger). Later, when the
MergeResult is constructed in MergeCommand, getBaseCommit is called.

In case of RecursiveMerger, getBaseCommit merges the multiple merge
bases into one. It does this not by creating a new ResolveMerger but
instead calling mergeTrees. The problem with mergeTrees is that at the
end, it checks if unmergedPaths is non-empty and returns false in that
case.

Because unmergedPaths was already non-empty because of the real merge,
it thinks that there were conflicts when computing the merge base again,
when there really were none.

This can be fixed by storing the base commit in Merger instead of
computing it a second time for the MergeResult.

Note that another possible fix would be to just use a new ResolveMerger
for merging the merge bases instead. This would also remove the need to
remember the old value of dircache, inCore and workingTreeIterator (see
RecursiveMerger#getBaseCommit).

Bug: 419641
Change-Id: Ib2ebf4e177498c22a9098aa225e3cfcf16bbd958
Signed-off-by: Robin Stocker <robin@nibor.org>",0,0,0,0,0,0,0,0,0
17590,I37fe5121b4c9dbae1106b1d18e9fdc134070a9dd,https://git.eclipse.org/r/#/c/17590,3,a36e1d3766de4e466d321fafa0927dd96dd2e0c6,63873006bb2d913f49dbc697195c7014d510b0d5,1,21/10/13,04/12/13,248,CLI status should support --porcelain,"CLI status should support --porcelain

Add support for the machine-readable output format along with the
existing default long format.

Bug: 419968
Change-Id: I37fe5121b4c9dbae1106b1d18e9fdc134070a9dd
Signed-off-by: Kaloyan Raev <kaloyan.r@zend.com>",0,0,0,0,0,0,0,3,1
17616,I7caf693bd692d06936e29efd4dc4aabb48c1c39b,https://git.eclipse.org/r/#/c/17616,1,c455b3f02f4dbe1a9ebaafcbb4ae5163c85e1a29,91a654e2d36fd7f000b60bb2bbc4f95982ea6af5,1,21/10/13,22/10/13,30,Make sure SystemReader is reset after test is run,"Make sure SystemReader is reset after test is run

Otherwise the MockSystemReader from the test setup is active for other
tests.

Change-Id: I7caf693bd692d06936e29efd4dc4aabb48c1c39b
Signed-off-by: Robin Stocker <robin@nibor.org>",0,0,0,0,0,0,0,0,0
17618,Ic64497f0eedf8996ba593ca52dc9a040732a5b24,https://git.eclipse.org/r/#/c/17618,2,99b23d42fedfa27bb9cdafe78ee67c07594b50de,7ae41cf15beec75b6e5b77bd3ff48a46e25454ff,1,21/10/13,31/10/13,17,Enhance RepositoryTestCase.commitFile() to work on empty repository,"Enhance RepositoryTestCase.commitFile() to work on empty repository

Change-Id: Ic64497f0eedf8996ba593ca52dc9a040732a5b24
Signed-off-by: Matthias Sohn <matthias.sohn@sap.com>",0,0,1,1,0,0,1,0,0
17633,Ie49ad97cb86d51274251296cee559141bfdb9fc9,https://git.eclipse.org/r/#/c/17633,2,59f638e1f0204765b2bc5865bdaeb73915e33124,03bdaeed578b7d9b543200e662416a1b6ce7dbd0,1,22/10/13,24/10/13,3,Add missing JUnit dependency in MANFEST.MF,"Add missing JUnit dependency in MANFEST.MF

Fixes bug 419998
https://bugs.eclipse.org/bugs/show_bug.cgi?id=419998

Change-Id: Ie49ad97cb86d51274251296cee559141bfdb9fc9
Signed-off-by: Rdiger Herrmann <ruediger.herrmann@gmx.de>",0,0,0,0,0,0,0,0,0
17643,I40f2311cf43ed5f290dcda65a7bd85ba770a85f5,https://git.eclipse.org/r/#/c/17643,5,91ed34defd4412a435d5838daedbf193515fab5b,d1d4703d5cfa3f8ca8bb82dca0398b834da55dd6,1,22/10/13,05/11/13,29,Add additional RebaseResult for editing commits,"Add additional RebaseResult for editing commits

With the new RebaseResult.EDIT a client can now distinguish if rebase
stopped due to a conflict or because the commit was marked for edit in
an interactive rebase.

Change-Id: I40f2311cf43ed5f290dcda65a7bd85ba770a85f5
Signed-off-by: Stefan Lay <stefan.lay@sap.com>",0,1,0,0,0,0,1,0,0
17719,I1e5bea968b3c79df4f600b75fde5b547ebadde36,https://git.eclipse.org/r/#/c/17719,1,00d1ba66ffa7fed5a989f161a761801a9ea30184,6e0bb1fcbd54252ae7a1159533e5cfa9182bd828,1,24/10/13,24/10/13,6,Add / fix @since tags,"Add / fix @since tags

Change-Id: I1e5bea968b3c79df4f600b75fde5b547ebadde36
Signed-off-by: Matthias Sohn <matthias.sohn@sap.com>",1,0,0,1,0,0,1,0,0
17887,Ic160a021c376f02c8a839a766c69a0558f2a361e,https://git.eclipse.org/r/#/c/17887,2,02effbf67757b36df4949bbeb1b7bcbc4c771692,7bf89243d7c85de782f447660fd310fc3538ace2,0,30/10/13,30/10/13,2,Remove protobuf from target platform,"Remove protobuf from target platform

Change-Id: Ic160a021c376f02c8a839a766c69a0558f2a361e
Signed-off-by: Matthias Sohn <matthias.sohn@sap.com>",0,0,0,1,0,0,1,NA,NA
17894,I36b60e2c0a8aef9fcfe663055dba520192996872,https://git.eclipse.org/r/#/c/17894,3,635062b52abb28d19918dd9ae99ef7f844f4d457,c07f20fc2d9a287842aa23cdec60e16f3b8b3883,1,30/10/13,03/08/14,7,Use bitcheck to check for presence of OPT_FULL option,"Use bitcheck to check for presence of OPT_FULL option

Previously an equality check was performed so an exception would
be thrown if any other options were set.

Change-Id: I36b60e2c0a8aef9fcfe663055dba520192996872",0,0,0,0,0,0,0,0,0
17949,I1295086037b77fc948b3f93c21d47341e25483e5,https://git.eclipse.org/r/#/c/17949,7,f5ef05c7265200f366b2b69809cf041557f75ada,6940cb7a4f69944c754370b935b2ba14aa82e688,1,01/11/13,27/12/13,53,Skip submodules when writing archives,"Skip submodules when writing archives

When it encounters a submodule entry, ""jgit archive"" tries to write
its content verbatim as an entry to the archive, which fails with a
JGitInternalException wrapping a MissingObjectException because the
submodule repository commits are typically not part of the
superproject.

When a subproject is available, it would be nice to recurse into it
and make one archive recording the state of the entire project.
Unfortunately sometimes the subproject is not available and sometimes
it is not obvious where to find the subproject (for example it can be
on another server).  If ""jgit archive"" relied on clones of the
submodules being available on disk in the work tree, then it would not
be usable for repositories without a work tree (for example when
serving from a database) or with not all submodules cloned.

Instead, just skip the submodule entries.  ""git archive"" does the
same.

Change-Id: I1295086037b77fc948b3f93c21d47341e25483e5
Signed-off-by: Jonathan Nieder <jrn@google.com>",0,1,0,0,0,0,1,0,0
17963,I47bcccb0fa32ce606276c3f30d454851d115ca11,https://git.eclipse.org/r/#/c/17963,1,c883f34212f52e28f08d8f6bd20e5352cc75b81b,1daa21a1cd77a6a8a96cd41232c09c8638f71bd7,1,01/11/13,04/11/13,16,testMaliciousPathEmpty fails on Windows,"testMaliciousPathEmpty fails on Windows

Checking of spaces at the end of the file name caused the
test to fail for Windows only.

Bug: 396662
Change-Id: I47bcccb0fa32ce606276c3f30d454851d115ca11
Signed-off-by: Robin Rosenberg <robin.rosenberg@dewire.com>",0,0,1,0,0,0,1,0,0
17982,I2af8b0ac0f9fbf2814eca23990ae527baf040539,https://git.eclipse.org/r/#/c/17982,1,5939ee39cea08cc9535dd8f7613170e83d8f6c33,21a245588ce66f15d44c2b33f92e01481be539aa,1,02/11/13,05/11/13,3,Remove unnecessary import of BaseConnection in MessageWriter,"Remove unnecessary import of BaseConnection in MessageWriter

Change-Id: I2af8b0ac0f9fbf2814eca23990ae527baf040539",0,0,1,1,0,0,1,0,0
17983,Ia6becf30ccfe93b8585b82293d9a4863b0cf837e,https://git.eclipse.org/r/#/c/17983,1,21a245588ce66f15d44c2b33f92e01481be539aa,68c972ecc710f1e181d198bb9e753778d4e0d22e,1,02/11/13,05/11/13,13,Remove dependency on DiffFormatterReflowTest,"Remove dependency on DiffFormatterReflowTest

Reference the resource from the root of the CLASSPATH, allowing the
test classes to be compiled in parallel with no dependencies.

Change-Id: Ia6becf30ccfe93b8585b82293d9a4863b0cf837e",0,0,1,0,0,0,1,0,0
17984,Id6fac2533fab8d423f949c892f199af2491a450b,https://git.eclipse.org/r/#/c/17984,1,68c972ecc710f1e181d198bb9e753778d4e0d22e,ba05d1f8d649b310c6af60104d8267f4e205e175,1,02/11/13,05/11/13,95,Remove dependency on StatusCommandTest,"Remove dependency on StatusCommandTest

Move the set constructor function to a Sets utility class,
allowing the tests to compile in parallel.

Change-Id: Id6fac2533fab8d423f949c892f199af2491a450b",0,0,1,0,0,0,1,0,0
17985,Iebe5093332343a90f51080614e083aac0d29c26d,https://git.eclipse.org/r/#/c/17985,1,ba05d1f8d649b310c6af60104d8267f4e205e175,2219ce2eb699618813a7fa7e1cd126b023fc67c5,1,02/11/13,05/11/13,37,Remove hardcoded target/trash from test cases,"Remove hardcoded target/trash from test cases

Buck does not create a target directory for the build output, this
is Maven specific and the project unit tests should not rely on it.

Instead follow the pattern used by org.eclipse.jgit.test which is to
create a temporary directory in the system temporary folder, and
configure the Maven surefire plugin to use the target directory.

Change-Id: Iebe5093332343a90f51080614e083aac0d29c26d",0,0,1,0,0,0,1,0,0
17986,Ic9ab2b6ec74ac87ff4adda8a802ae343dd2a6235,https://git.eclipse.org/r/#/c/17986,1,2219ce2eb699618813a7fa7e1cd126b023fc67c5,d149032ead3e83d67e87b821bf46b67e42a0dd3b,1,02/11/13,05/11/13,71,Move repeat() to utility class for tests,"Move repeat() to utility class for tests

Avoid depending on AutoCRLFOutputStreamTest from within another
test such as AutoCRLFInputStreamTest. Breaking the dependency up
allows the test classes to be built and executed in parallel.

Change-Id: Ic9ab2b6ec74ac87ff4adda8a802ae343dd2a6235",0,0,1,0,0,0,1,0,0
17987,Ie6ade781b5a689646ad8b0b2988ef2b544412195,https://git.eclipse.org/r/#/c/17987,1,d149032ead3e83d67e87b821bf46b67e42a0dd3b,33514290cec4a0c121fbc3ed47fd0a18a42d8dfb,1,02/11/13,05/11/13,252,Extract protocol constants to a common class,"Extract protocol constants to a common class

This avoids the server from referencing the client code directly.

Change-Id: Ie6ade781b5a689646ad8b0b2988ef2b544412195",0,0,1,0,0,0,1,0,0
17988,I437114863df0bac346c94ef13796def47333d916,https://git.eclipse.org/r/#/c/17988,1,33514290cec4a0c121fbc3ed47fd0a18a42d8dfb,b9144836b97d89c296fa0fe078dd343d70fb1ff2,1,02/11/13,05/11/13,2,Use getPath() in FileResolverTest,"Use getPath() in FileResolverTest

Necessary to get tests to pass when running under Buck.
Has no impact on Maven based invocation of tests.

Change-Id: I437114863df0bac346c94ef13796def47333d916",0,0,1,0,0,0,1,0,0
17989,I85470d1db2f4e80cba30f1559c0d99bdfa8ac410,https://git.eclipse.org/r/#/c/17989,1,b9144836b97d89c296fa0fe078dd343d70fb1ff2,1d31f778a7824447f04d3689516e3fd8ccfe5742,1,02/11/13,05/11/13,75,Use absolute paths for file:// URIs in tests,"Use absolute paths for file:// URIs in tests

When run under Buck the repository paths may be relative.  Request
an absolute path to construct the URI, as relative paths are not
supported in file:// style URIs.

Change-Id: I85470d1db2f4e80cba30f1559c0d99bdfa8ac410",0,0,1,0,0,0,1,0,0
17990,I28d702484ec13b0b309b87990da867050e4b5ec6,https://git.eclipse.org/r/#/c/17990,2,1d31f778a7824447f04d3689516e3fd8ccfe5742,de3907ab887aea7f52d786c4b64f8183d6deef06,1,02/11/13,25/11/13,43,Support running from JARs in JGitTestUtil,"Support running from JARs in JGitTestUtil

Buck invokes JUnit tests from compiled JARs, not class directories.
When copying a resource back to the filesystem a jar: style URL is
obtained from the ClassLoader.

Change-Id: I28d702484ec13b0b309b87990da867050e4b5ec6",0,0,1,0,0,0,1,1,1
17991,I30d5568b09ea5fb3bd3bb60b602f149c0867f49a,https://git.eclipse.org/r/#/c/17991,2,26d69e11f1cf362b1bc76c13d497a0800553d28b,b6f3cc0c4514ab5a4f0fd79dffae21bccefa221b,1,02/11/13,25/11/13,35,Move SampleDataRepositoryTestCase to org.eclipse.jgit.test,"Move SampleDataRepositoryTestCase to org.eclipse.jgit.test

This class requires resources which are private to another
bundle. Move the class next to its resources, removing an
odd cross bundle dependency.

Change-Id: I30d5568b09ea5fb3bd3bb60b602f149c0867f49a",0,0,1,0,0,0,1,0,0
17992,Ib5da18c832ae0cb29703706b99e99503f5cc819d,https://git.eclipse.org/r/#/c/17992,2,96be2e52fe850243d9064dbaac771889a4ec133e,0e24ec86523e84cfb520de514f3fc3ac2c7335c6,1,02/11/13,25/11/13,20,Modify T0004_PackReaderTest to use existing pack,"Modify T0004_PackReaderTest to use existing pack

Instead of making a new PackFile from a resource, lookup
the existing PackFile that was already created by the base
class SampleDataRepositoryTestCase.

Change-Id: Ib5da18c832ae0cb29703706b99e99503f5cc819d",0,0,1,0,0,0,1,0,0
17993,I5eb177f78efd4aa8ac857d0d8b1a1fd81ca07790,https://git.eclipse.org/r/#/c/17993,2,b750aded1a47ecaf3e25f5be5faf0f5d76d2b81e,bb7e0995357362bc2c885218afe362e4d9f43c14,1,02/11/13,25/11/13,2003,Break up GCTest to run in parallel,"Break up GCTest to run in parallel

Separate some sections of the GC tests into different test classes.
Individual classes permits running in parallel under Buck, reducing
test latency if there are sufficient CPUs available.

Change-Id: I5eb177f78efd4aa8ac857d0d8b1a1fd81ca07790",0,0,1,0,1,0,1,0,0
18066,I798e55d05730a71bb0326f80aea5488541d6c1f2,https://git.eclipse.org/r/#/c/18066,1,bbae3f8eac8c21a309d8e9893560c039a6a7a899,bb50ebff3e4d9ce9948b3a213a34e6e54bdd1b7a,1,05/11/13,05/11/13,14,Also use MockSystemReader in GitDateParserBadlyFormattedTest,"Also use MockSystemReader in GitDateParserBadlyFormattedTest

All tests should use MockSystemReader to isolate them from the
underlying platform specifics.

GitDateParserBadlyFormattedTest wasn't using MockSystemReader which
induced Bug 420772 as a side effect since GitDateParser caches
SimpleDateFormat instances without regarding their locale. This will be
fixed in another change

Bug: 420772
Change-Id: I798e55d05730a71bb0326f80aea5488541d6c1f2
Signed-off-by: Matthias Sohn <matthias.sohn@sap.com>",0,0,0,0,0,0,0,0,0
18070,Icabe40209ea07369e2b7eee31952d131aef3fbf1,https://git.eclipse.org/r/#/c/18070,1,c82e2e18a946a97b2c87d73b1a0fb3d3474e0c59,0b2f4841da81329e7d2be9f7730a8d68d10aa4a2,0,05/11/13,05/11/13,2,Declare that org.eclipse.jgit.transport uses com.jcraft.jsch,"Declare that org.eclipse.jgit.transport uses com.jcraft.jsch

This should prevent class cast problems caused by jgit and egit bundles
wiring to different versions of com.jcraft.jsch.

Bug: 420903
Change-Id: Icabe40209ea07369e2b7eee31952d131aef3fbf1
Signed-off-by: Matthias Sohn <matthias.sohn@sap.com>",0,0,0,0,0,0,0,NA,NA
18093,I313ef6b1e9ef3bfb43d929ce34712ebd21f2cd9c,https://git.eclipse.org/r/#/c/18093,3,4c6916d5abff25f7990567cb7d341b35a5bf47cc,db3face27a50536894159f9f584ceb349c83927e,1,05/11/13,24/11/13,167,Cache SimpleDateFormat in GitDateParser per locale,"Cache SimpleDateFormat in GitDateParser per locale

Otherwise switching to another locale yields wrong results when parsing
date strings in GitDateParser. Since the MockSystemReader explicitly
uses english locale the tests need to specify the locale to be used when
parsing date strings.

Bug: 420772
Change-Id: I313ef6b1e9ef3bfb43d929ce34712ebd21f2cd9c
Signed-off-by: Matthias Sohn <matthias.sohn@sap.com>",0,0,1,0,0,0,1,0,0
18116,Ib19857474ac089dfeaae665ad5e95c66c21099b0,https://git.eclipse.org/r/#/c/18116,1,45ed16c390ffc3287fd44e430cc0a87851ff6520,4a9badf6a8505eeb51e1364c7055c97cefc969f3,1,06/11/13,06/11/13,56,Rebase interactive should finish if last step is edit,"Rebase interactive should finish if last step is edit

When the last step was an edit step, rebase interactive did not finish
after continuing the rebase. Instead, it returned with the status
FAST_FORWARD.

Change-Id: Ib19857474ac089dfeaae665ad5e95c66c21099b0",0,0,0,0,0,0,0,0,0
18118,If8e7ccc50469165744f2b8a53d180f9ba0f72330,https://git.eclipse.org/r/#/c/18118,5,4a9badf6a8505eeb51e1364c7055c97cefc969f3,b261f1134bff775a7032b2b4f6756d45ae5e7337,1,06/11/13,08/11/13,404,Interactive Rebase: Stop again for edit even if there were conflicts,"Interactive Rebase: Stop again for edit even if there were conflicts

If a commit is marked for edit, but the interactive rebase stopped
because of a conflict on that commit, native git stops again for edit
after continuing the rebase. We also do that now.

Change-Id: If8e7ccc50469165744f2b8a53d180f9ba0f72330
Signed-off-by: Stefan Lay <stefan.lay@sap.com>",0,1,0,0,0,0,1,0,0
18211,Ic4fabec818d6fe336d3256ddc95934271272914a,https://git.eclipse.org/r/#/c/18211,2,46a8ba5b005bd3fd3de130456ceac8968f29f59a,40b93621b6064385c2e269f961ba24f613ef0dee,1,08/11/13,12/11/13,14,Add missing @since tags,"Add missing @since tags

Change-Id: Ic4fabec818d6fe336d3256ddc95934271272914a
Signed-off-by: Matthias Sohn <matthias.sohn@sap.com>",1,0,1,1,0,0,1,0,0
18212,I2ae580041eb334c613969bc9d66d169d08c12c4d,https://git.eclipse.org/r/#/c/18212,2,454d507fe96cc77105dd89477b898c07e0fa8d1b,e0e260a83249cb77c7b105fa7b1880cb9f982069,0,08/11/13,12/11/13,2,Update to Ant 1.9.2,"Update to Ant 1.9.2

CQ: 7698
Change-Id: I2ae580041eb334c613969bc9d66d169d08c12c4d
Signed-off-by: Matthias Sohn <matthias.sohn@sap.com>",1,0,1,0,0,0,1,NA,NA
18247,Idc48cb1995050913498d2bad97a8e6e330dee94c,https://git.eclipse.org/r/#/c/18247,1,253a15d12eb07a5b7fb0223ccd9cd9b4c125fde4,843fe56351bbbdfe9955474527c80364b2d971e0,0,09/11/13,10/11/13,2,Don't import non-existing package org.eclipse.jgit.java7,"Don't import non-existing package org.eclipse.jgit.java7

Change-Id: Idc48cb1995050913498d2bad97a8e6e330dee94c
Signed-off-by: Matthias Sohn <matthias.sohn@sap.com>",0,0,0,1,0,0,1,NA,NA
18248,I185610f12069cd4ce1b27650581375b6b3019d2f,https://git.eclipse.org/r/#/c/18248,2,0ea0eba0db469c4e7a98786d178c65720ac20e78,267961862c91b02ff38ed15d643777873f683778,0,09/11/13,10/11/13,3,Remove duplicate package export,"Remove duplicate package export

Change-Id: I185610f12069cd4ce1b27650581375b6b3019d2f
Signed-off-by: Matthias Sohn <matthias.sohn@sap.com>",0,0,0,1,0,0,1,NA,NA
18249,Ic9c4631e237c2fe1996c518328ecc2a9ab5c348b,https://git.eclipse.org/r/#/c/18249,2,14c00868eab458edd5db5a08d70ba8b8305f6375,6a460c1b0581d4bd901ca2cd2cf7a88ece06b0fa,0,09/11/13,10/11/13,3,Grant access to internal jgit package to org.eclipse.jgit.junit,"Grant access to internal jgit package to org.eclipse.jgit.junit

This silences some discouraged access warnings issued since
TestRepository uses PackWriter which is in an internal package.

Change-Id: Ic9c4631e237c2fe1996c518328ecc2a9ab5c348b
Signed-off-by: Matthias Sohn <matthias.sohn@sap.com>",0,0,0,0,0,0,0,NA,NA
18250,I5bddcdab2c5cc92622144a7b207bad90cb601609,https://git.eclipse.org/r/#/c/18250,2,2aa964713893fb756413acc3f49fbbd7eccf0bcd,7b776e86a9fe875ba27b2f6fc338beedf683894e,1,09/11/13,10/11/13,5,"Remove unnecessary @SuppressWarnings(""null"")","Remove unnecessary @SuppressWarnings(""null"")

Change-Id: I5bddcdab2c5cc92622144a7b207bad90cb601609
Signed-off-by: Matthias Sohn <matthias.sohn@sap.com>",0,0,0,1,0,0,1,0,0
18251,I853cbb44bdc03e2b54229bb9c36ae42e02dcc4d9,https://git.eclipse.org/r/#/c/18251,2,7d323bb983f18823d7739aaa2f6b83c4e854830f,e70c989f52a36f2a158f2df900ff77cd736890a9,1,09/11/13,10/11/13,1,[findBugs] Remove nonsense call,"[findBugs] Remove nonsense call

Result of c.containsAll(c)  is always true for any collection c.

Change-Id: I853cbb44bdc03e2b54229bb9c36ae42e02dcc4d9
Signed-off-by: Matthias Sohn <matthias.sohn@sap.com>",0,0,0,0,0,0,0,0,0
18259,I90f71f2612a934e83a0af8dccfe08592e4532ddf,https://git.eclipse.org/r/#/c/18259,1,e70c989f52a36f2a158f2df900ff77cd736890a9,72ba2c80244bb0fd47eca6d71a84c9eccf473331,0,11/11/13,11/11/13,4,Update build to use Tycho 0.19,"Update build to use Tycho 0.19

Change-Id: I90f71f2612a934e83a0af8dccfe08592e4532ddf
Signed-off-by: Matthias Sohn <matthias.sohn@sap.com>",0,0,0,1,0,0,1,NA,NA
18264,I0a19ae630186f07d0cc7fe9df246fa1cedeca8f6,https://git.eclipse.org/r/#/c/18264,2,8d9f9ef5c8165500a6ff073b03b9ba6a2a3eb536,313a9c2e6c22fc8d2d1eb68ee75ca715aa2ecded,1,11/11/13,18/11/13,93,Don't delete .index file if .pack file can't be deleted,"Don't delete .index file if .pack file can't be deleted

If during an garbage collection old packfiles are deleted it could
happen that on certain platforms the index file can be deleted but the
packfile can't be deleted (because someone locked the file). This led
to repositories with packfiles without corresponding index files. Those
zombie-packfiles potentially consume a lot of space on disk and it is
never tried to delete them again. Try to avoid this situation by
deleting packfiles first and don't try to delete the other files if we
can't delete the packfile. This gives us the chance to delete the
packfile during next GC.

This commit only improves the situation - there is still the chance for
orphan files during packfile deletion. We don't have an atomic delete
of multiple files .

Change-Id: I0a19ae630186f07d0cc7fe9df246fa1cedeca8f6",0,0,1,0,0,0,1,0,0
18299,I544516d97067f45d1034929b534ad1600136614d,https://git.eclipse.org/r/#/c/18299,3,d357f60792b7bd6cf69972e78b006f64b71a188d,1964ca16ade5eb75ca3525fde01dd4c63cd37704,0,12/11/13,12/11/13,73,Introduce kepler and luna target platform,"Introduce kepler and luna target platform

We need this to enable building jgit with dependencies from Orbit
version used by Luna.

Default target platform is Kepler. In order to use Luna run
mvn clean install -Dplatform-version-name=luna \
      -f org.eclipse.jgit.packaging/pom.xml

Change-Id: I544516d97067f45d1034929b534ad1600136614d
Signed-off-by: Matthias Sohn <matthias.sohn@sap.com>",1,0,0,0,0,0,1,NA,NA
18301,I3706a2b8f695d4ce0ee2333722ed7b8d31032f1e,https://git.eclipse.org/r/#/c/18301,2,1964ca16ade5eb75ca3525fde01dd4c63cd37704,ffbfb9773ba5182c6c92def4be04ab898c9082a5,0,12/11/13,12/11/13,166,Add uses directives to ensure OSGi wires jgit bundles correctly,"Add uses directives to ensure OSGi wires jgit bundles correctly

See
http://spring.io/blog/2008/10/20/understanding-the-osgi-uses-directive/

Bug: 420903
Change-Id: I3706a2b8f695d4ce0ee2333722ed7b8d31032f1e
Signed-off-by: Matthias Sohn <matthias.sohn@sap.com>",1,0,0,0,0,0,1,NA,NA
18339,Icca089f4a60cc94123dc8bf61f7f76f501e08c4d,https://git.eclipse.org/r/#/c/18339,1,abbadbc7973cfc3f3491576db2c95e1abe52ab37,87b1278a92090c14e4e1f818e8888141cbe20b0f,1,13/11/13,13/11/13,112,JGit v3.2.0.201311130903-m3,"JGit v3.2.0.201311130903-m3

Change-Id: Icca089f4a60cc94123dc8bf61f7f76f501e08c4d
Signed-off-by: Matthias Sohn <matthias.sohn@sap.com>",1,0,0,1,0,0,1,0,0
18357,I6ef4aa758a6a5d465d4c460178ca3050b8a30449,https://git.eclipse.org/r/#/c/18357,1,ec1d0af271385a607b8faee2ddd9e14ce906c027,81c8705cef5d1de89cb6e53e062c4fd8f0a8c648,1,13/11/13,13/11/13,112,Prepare post 3.2.0-m3 builds,"Prepare post 3.2.0-m3 builds

Change-Id: I6ef4aa758a6a5d465d4c460178ca3050b8a30449
Signed-off-by: Matthias Sohn <matthias.sohn@sap.com>",1,0,0,1,0,0,1,0,0
18362,I7e9ed216f6e273e8f5d79ae573973197654419b4,https://git.eclipse.org/r/#/c/18362,1,81c8705cef5d1de89cb6e53e062c4fd8f0a8c648,61623e9118b94b75052a9a288d435e6e00f95883,1,13/11/13,13/11/13,6,Do not update the ref hot bit when checking isIndexLoaded,"Do not update the ref hot bit when checking isIndexLoaded

DfsPackFile.isIndexLoaded() uses the DfsBlockCache.Ref.get() method
to check if the index loaded. However, using the get() method marks
a hot bit in the cache, which can cause the index to never be unloaded
and seem hotter than it really is. Add a has() method which only
checks if the value is not null and does not update the hot bit.

Change-Id: I7e9ed216f6e273e8f5d79ae573973197654419b4",0,0,0,0,0,0,0,0,0
18370,I214ab834fa02901a38e6048a94a5224b30c5d93f,https://git.eclipse.org/r/#/c/18370,1,61623e9118b94b75052a9a288d435e6e00f95883,ef9d2418cb50b2bbe37645fc14087ef67a00dfe1,1,14/11/13,14/11/13,32,Improve Javadoc for typeHint parameter,"Improve Javadoc for typeHint parameter

Link to an example type constant.

Change-Id: I214ab834fa02901a38e6048a94a5224b30c5d93f
Signed-off-by: Robin Stocker <robin@nibor.org>",0,0,0,0,0,0,0,0,0
18445,I505d994518aa608aaa797252433b6c97e2def5b4,https://git.eclipse.org/r/#/c/18445,1,ef9d2418cb50b2bbe37645fc14087ef67a00dfe1,4031709445d133ad57cd8e538af09e61f04589c3,1,15/11/13,16/11/13,58,Document that path parameters should use '/' as separator,"Document that path parameters should use '/' as separator

Bug: 421600
Change-Id: I505d994518aa608aaa797252433b6c97e2def5b4
Signed-off-by: Robin Stocker <robin@nibor.org>",0,0,0,0,0,0,0,0,0
18512,Icb7f91e40d2a216fda519c64a94d5ad18eac683c,https://git.eclipse.org/r/#/c/18512,1,b44ebbc80ddf6b26a665dcb384fd5498e161d663,69a3f4bb2b67a2aa6d56aabeeb2b32f1ef2acc59,0,18/11/13,18/11/13,70,Update Jetty to 7.6.14.v20131031,"Update Jetty to 7.6.14.v20131031

Change-Id: Icb7f91e40d2a216fda519c64a94d5ad18eac683c
Signed-off-by: Matthias Sohn <matthias.sohn@sap.com>",1,0,0,1,0,0,1,NA,NA
18560,I866225cc8534ae5916113fa24eb1c7513fd4472e,https://git.eclipse.org/r/#/c/18560,4,69a3f4bb2b67a2aa6d56aabeeb2b32f1ef2acc59,94fcd380bebd9d57e7d668553dbb500c08a4cb85,1,19/11/13,19/11/13,48,Adds close() method to API,"Adds close() method to API

The API in org.eclipse.jgit.api does allow to open repositories but it
did not allow to close those repos. This commit fixes this and allows
API users to close a repo without having to use lower-level classes.


Change-Id: I866225cc8534ae5916113fa24eb1c7513fd4472e
Signed-off-by: Christian Halstrick <christian.halstrick@sap.com>
Bug: 420502",0,1,0,0,0,1,1,0,0
18666,I263e8a6b30a3392d8b4f09c0695505068a0a485d,https://git.eclipse.org/r/#/c/18666,3,94fcd380bebd9d57e7d668553dbb500c08a4cb85,ed70dcd456df2fce7b18c87226484508ff520fc9,1,21/11/13,22/11/13,40,Fix FIXUP error for blank lines in interactiv rebase,"Fix FIXUP error for blank lines in interactiv rebase

Empty lines of discarded commit messages were added to the commit
message because the were not commented out properly.

Bug: 422246
Change-Id: I263e8a6b30a3392d8b4f09c0695505068a0a485d
Signed-off-by: Stefan Lay <stefan.lay@sap.com>",0,0,0,0,0,0,0,0,0
18669,I9739b16c91d2df31a481360a712d3479a4eeee2e,https://git.eclipse.org/r/#/c/18669,1,8810f1bd8ff4719be0c876eba73067711be454e7,8c27f79e0a30fd0edbcb9b91a26f744d0bc0da69,1,21/11/13,22/11/13,15,Fix parsing Rebase todo lines when commit message is missing,"Fix parsing Rebase todo lines when commit message is missing

Bug: 422253
Change-Id: I9739b16c91d2df31a481360a712d3479a4eeee2e
Signed-off-by: Stefan Lay <stefan.lay@sap.com>",0,0,0,0,0,0,0,0,0
18691,I74aa7a285954cade77f41df6f813b6dafb5d6cd7,https://git.eclipse.org/r/#/c/18691,2,0b37da272a41662b27bbbd08889d0117d6968c74,9053a37507c6794b20847c37129db79707cbf664,1,21/11/13,02/12/13,8,[419494] Fix broken symbolic links on Cygwin.,"[419494] Fix broken symbolic links on Cygwin.

Bad files from symbolic links were being generated on Cygwin and required resolution by the appropriate FS. Pass FS to
getSymRef and call FS.resolve before asking if the file is absolute.

Bug: https://bugs.eclipse.org/bugs/show_bug.cgi?id=419494
Change-Id: I74aa7a285954cade77f41df6f813b6dafb5d6cd7
Signed-off-by: John Ross <jwross@us.ibm.com>",0,0,0,0,0,0,0,0,0
18969,I7d2a90288696ee66887cc01d8a3ec2f6f28a0339,https://git.eclipse.org/r/#/c/18969,5,67762163f6ce60035456ed9022277e7bc4b82a76,38106efe268dd346f3b1a31af160133df7b0546b,1,27/11/13,05/05/14,154,Make the resolve merger slightly more sub-classable.,"Make the resolve merger slightly more sub-classable.

Change-Id: I7d2a90288696ee66887cc01d8a3ec2f6f28a0339
Signed-off-by: Laurent Goubet <laurent.goubet@obeo.fr>",0,1,0,1,0,0,1,-1,0
18977,I1e0b59b2a4d80a686b67a6729e441924362b1236,https://git.eclipse.org/r/#/c/18977,7,5d271c3df5d108a7cfc8178e39d88924c1273d0c,76c016d4dbbb9c8956438129007d46d27c6e8297,1,27/11/13,02/12/13,275,Do not allow non-ff-rebase if there are uncommitted changes,"Do not allow non-ff-rebase if there are uncommitted changes

With this change jgit checks for uncommitted changes before a rebase is
started. This is also done by native git. One reason is that an abort
would override such changes. The check is skipped for a non-interactive
rebase when it will result in a fast-forward. In this case there can be
only checkout conflicts but no merge conflicts, so there cannot be an
abort which overrides uncommitted changes.

Bug: 422352
Change-Id: I1e0b59b2a4d80a686b67a6729e441924362b1236
Signed-off-by: Stefan Lay <stefan.lay@sap.com>",0,1,0,0,0,0,1,1,1
18980,I9355352b2b9a7abefa3248ca3c17a9301177d0d6,https://git.eclipse.org/r/#/c/18980,3,85dad0c17608468a7248eef11f2286a0d5cdc160,30517a4e8301b6298a6468630e1b4864d710844e,1,27/11/13,29/11/13,88,RFC: Applying stash on other commit doesn't work,"RFC: Applying stash on other commit doesn't work

This is a failing test case to prove that applying a stash on other
commits than the one from which the stash was created doesn't work.

Bug: 422684
Change-Id: I9355352b2b9a7abefa3248ca3c17a9301177d0d6",0,0,0,0,0,0,0,0,0
19053,Ib10e0798dcfb9f1b611caec393926c95eff4c2a2,https://git.eclipse.org/r/#/c/19053,2,48d17d4bcdd39251f2be5e4f0784abba6448ff30,f9e595bcb1885593114cfab377819ed1e47d33d4,1,28/11/13,29/11/13,51,Use static factory methods instead of overloaded constructors,"Use static factory methods instead of overloaded constructors

Change-Id: Ib10e0798dcfb9f1b611caec393926c95eff4c2a2",0,0,0,1,0,0,1,0,0
19059,I5428a04a7630d9e0101404ea1aedd796f127bd7d,https://git.eclipse.org/r/#/c/19059,8,18cd464ba18bf62d6c3fbf1e6944fe213d40309e,5c6820cfe27fe455dd34269dd98e8342c0bdf0a0,1,28/11/13,02/12/13,26,Unexpected result when checkout existing branch,"Unexpected result when checkout existing branch

Add a test that checkout an existing branch. This test should failed
with a message: error: Your local changes to the following files would
be overwritten by checkout but it actually passes with the message:
Switched to branch 'branch_1'

Change-Id: I5428a04a7630d9e0101404ea1aedd796f127bd7d
Signed-off-by: Axel Richard <axel.richard@obeo.fr>",0,1,0,0,0,0,1,0,0
19078,Ifd6a68974d61cd4fa23bc575f3a40773db66cafc,https://git.eclipse.org/r/#/c/19078,3,b3b5a2dd07f2e3e74cc8fe0a7bcb12e454dd9a80,e12aa70002c0db5f991700dd911d73c230c7a59b,1,28/11/13,30/11/13,33,Fix handling of file/folder conflicts during a checkout,"Fix handling of file/folder conflicts during a checkout

JGit was not handling certain file/folder conflicts during a checkout
correctly. This was reported by Axel Richard in
http://dev.eclipse.org/mhonarc/lists/jgit-dev/msg02358.html.
This commit fixes this problem.

Still JGit behaves intentionally different then native git.
If HEAD contains a tree, and workingtree, Index and Merge contain a file
with same content ... then JGit allows a conflict free checkout of
Merge. Native git always complains that it doesn't want to overwrite
local changes. But there is no need to update the working tree because
Index and Merge are already equal.

A shell script which shows how native git behaves can be found here.
https://gist.github.com/chalstrick/7694959#file-gistfile1-sh

Change-Id: Ifd6a68974d61cd4fa23bc575f3a40773db66cafc
Signed-off-by: Christian Halstrick <christian.halstrick@sap.com>",0,0,0,0,0,1,1,0,0
19100,I49f92bf7cafc80404f0bd07d62ff4b25e4db6e7c,https://git.eclipse.org/r/#/c/19100,3,003a0a53353ad78e6e5241d5024af86aa834a220,d587ad84a5d4799ba5c3b570f93c291da2f0b6d8,1,29/11/13,30/11/13,12,Manage CheckoutConflictException in pgm,"Manage CheckoutConflictException in pgm

Change-Id: I49f92bf7cafc80404f0bd07d62ff4b25e4db6e7c
Signed-off-by: Axel Richard <axel.richard@obeo.fr>",0,0,0,1,0,0,1,0,0
19131,Ibf09395fb3ac4d5d8f47872ed8f239c821bbee7a,https://git.eclipse.org/r/#/c/19131,1,42dc137b108eefaf80387cde82b3bf6cedfbd545,ce1cede4fd3fa32435af505fe91ccf6c37ff7c9a,1,29/11/13,29/11/13,4,Mention null return in Javadoc of Config#getString,"Mention null return in Javadoc of Config#getString

Change-Id: Ibf09395fb3ac4d5d8f47872ed8f239c821bbee7a
Signed-off-by: Robin Stocker <robin@nibor.org>",0,0,0,1,0,0,1,0,0
19209,I42f194174d64d7ada6631e2156c2a7bf93b5e91c,https://git.eclipse.org/r/#/c/19209,4,eb6c75d58c72db4541be56f4afe908ff94b1a729,888becbcaeb6815f17692a2b306673d29301523f,1,02/12/13,04/12/13,299,WIP: Implement rebase.autostash,"WIP: Implement rebase.autostash

TODO:
- create real stash in case of conflicts 
- Tests, Javadoc, cleanup

Bug: 422951
Change-Id: I42f194174d64d7ada6631e2156c2a7bf93b5e91c",0,1,0,0,0,0,1,0,0
19237,If65a85a5667e25103eb9fd328a8723e29de04a1f,https://git.eclipse.org/r/#/c/19237,20,f552ac885b5b3e8ced5dd37abc02b463f4cbc75e,7f1e99dc87ebb7fad528bb0a79ae7e6973dc1003,1,03/12/13,12/02/14,264,Add some tests cases on files modes for symbolic links,"Add some tests cases on files modes for symbolic links

Test that the file mode of a file is the one expected before and after a
checkout.

Change-Id: If65a85a5667e25103eb9fd328a8723e29de04a1f
Signed-off-by: Axel Richard <axel.richard@obeo.fr>",0,1,0,0,0,0,1,0,0
19271,I87abaa7ad7f0aac8651db6e88d41427cacb4d776,https://git.eclipse.org/r/#/c/19271,1,6a9f116e02b7ec9f8ea095455bd12dc05569e65a,223840481d6b65322bc06c282d32dd5e9c75d63f,1,03/12/13,04/12/13,13,Fix IgnoreRule#isMatch returning wrong result due to missing reset,"Fix IgnoreRule#isMatch returning wrong result due to missing reset

The matcher has to be reset before using it, as was already done in the
other cases.

Bug: 423039
Change-Id: I87abaa7ad7f0aac8651db6e88d41427cacb4d776
Also-by: Ondrej Vrabec <ovrabec@netbeans.org>
Signed-off-by: Robin Stocker <robin@nibor.org>",0,0,0,0,0,0,0,0,0
19349,I02abfc09000d0fe9bdf4331c65bec7046f586179,https://git.eclipse.org/r/#/c/19349,1,fc8028d17a94587cf652907e3cb7b9aa5bc434a0,a36b2ee881b4b0ae78416fed2ff5157a3b7307c5,0,04/12/13,05/12/13,0,Merge branch 'master' into stable-3.2,"Merge branch 'master' into stable-3.2

* master:
  Implement rebase.autostash
  CLI status should support --porcelain
  More helpful InvalidPathException messages (include reason)
  Fix IgnoreRule#isMatch returning wrong result due to missing reset
  Fix exception on conflicts with recursive merge
  Add pgm test for checkout of existing branch with checkout conflict
  Fix broken symbolic links on Cygwin.
  Do not allow non-ff-rebase if there are uncommitted changes
  Manage CheckoutConflictException in pgm
  Fix handling of file/folder conflicts during a checkout
  Mention null return in Javadoc of Config#getString
  Fix applying stash on other commit
  Use static factory methods instead of overloaded constructors
  Break up GCTest to run in parallel
  Modify T0004_PackReaderTest to use existing pack
  Move SampleDataRepositoryTestCase to org.eclipse.jgit.test
  Support running from JARs in JGitTestUtil
  Cache SimpleDateFormat in GitDateParser per locale
  Fix FIXUP error for blank lines in interactive rebase
  Fix parsing Rebase todo lines when commit message is missing
  Add close() method to API
  Update Jetty to 7.6.14.v20131031
  Document that path parameters should use '/' as separator
  Improve Javadoc for typeHint parameter
  Do not update the ref hot bit when checking isIndexLoaded
  Don't delete .idx file if .pack file can't be deleted

Change-Id: I02abfc09000d0fe9bdf4331c65bec7046f586179
Signed-off-by: Matthias Sohn <matthias.sohn@sap.com>",1,0,0,0,0,0,1,NA,NA
19397,Idafad150553df14827eccfde2e3b95760e16a8b6,https://git.eclipse.org/r/#/c/19397,16,a36b2ee881b4b0ae78416fed2ff5157a3b7307c5,6e6a777483367fa5c5c4b68d7394de47a909eb6a,1,05/12/13,17/12/13,220,Fix for core.autocrlf=input resulting in modified file,"Fix for core.autocrlf=input resulting in modified file

Bug: 372834
Change-Id: Idafad150553df14827eccfde2e3b95760e16a8b6",0,1,1,0,0,0,1,0,0
19409,I7c7e7c1beec0c5d15b96c14c73ce93e3f09855c8,https://git.eclipse.org/r/#/c/19409,1,1a227b5c1389360748fd265cd7b5051249487ae7,89479d52ab0fbeefb200f21cf8d21f1b0b07399e,1,05/12/13,05/12/13,484,Prepare 3.3.0-SNAPSHOT builds,"Prepare 3.3.0-SNAPSHOT builds

Change-Id: I7c7e7c1beec0c5d15b96c14c73ce93e3f09855c8
Signed-off-by: Matthias Sohn <matthias.sohn@sap.com>",1,0,0,1,0,0,1,0,0
19429,Ie3731b5e877f8686aadad3f1a46b2e583ad3b7c6,https://git.eclipse.org/r/#/c/19429,1,21372e69ba21ef05fc8146cbfa5e7d8fe9faf3eb,2adb6bff5dc84451b21fb1bd1275a26d4186bbbb,1,06/12/13,10/12/13,97,Add recursive variant of Config.getNames() methods,"Add recursive variant of Config.getNames() methods

These methods allow to find all configuration entry names for a given
section or section/subsection searching recursively through all base
configurations of the given configuration.

These methods are needed to calculate the names for the effective
configuration of a git repository which combines the configuration entry
names found in the repository, global and system configuration files

Bug: 396659
Change-Id: Ie3731b5e877f8686aadad3f1a46b2e583ad3b7c6
Signed-off-by: Matthias Sohn <matthias.sohn@sap.com>",0,0,1,0,0,0,1,0,0
19450,I161ad3875b963b56001beab477ef8d072accee4f,https://git.eclipse.org/r/#/c/19450,5,f32e96b6a5503e908e9bb4adaace720dfff1dceb,4c4c4ed89bbf57406217bac6df532c011350a3db,1,06/12/13,13/01/14,52,Upgrade javaewah to version 0.7.9,"Upgrade javaewah to version 0.7.9

Package was renamed, so I had to update the imports. Also, I verified
bitmap serialization was still compatible.

Change-Id: I161ad3875b963b56001beab477ef8d072accee4f",0,1,0,0,0,0,1,0,0
19546,I0c00953f73f9316a66d0fc10eab52d8779c88f00,https://git.eclipse.org/r/#/c/19546,2,b90e665e301845f19fb35394765bc570cf9be55d,73cb441f14c3669d5352c9422729d6ce5332cd18,1,09/12/13,13/12/13,2,Canonicalize worktree path in BaseRepositoryBuilder if set via config,"Canonicalize worktree path in BaseRepositoryBuilder if set via config

This is the case for submodules in .git/modules, which typically have a
worktree config of ""../../../dir"". This can confuse callers, which e.g.
try to call Repository.stripWorkDir with it.

Bug: 423644
Change-Id: I0c00953f73f9316a66d0fc10eab52d8779c88f00
Signed-off-by: Robin Stocker <robin@nibor.org>",0,0,1,0,0,0,1,0,0
19586,Ia6052867f85d4974c4f60ee5a6c820501e8d2427,https://git.eclipse.org/r/#/c/19586,1,41b2508d03ec83c02ca555608cb4df828340857f,3a4d4f60d5677878dd0748aabaf14efd45537b7f,1,10/12/13,10/12/13,94,Fix aborting rebase with detached head,"Fix aborting rebase with detached head

Bug: 423670 
Change-Id: Ia6052867f85d4974c4f60ee5a6c820501e8d2427",0,0,0,0,0,0,0,0,0
19598,I26a5353e1a8fc23e67d8ce61309bd964f7665bcb,https://git.eclipse.org/r/#/c/19598,3,04facedc46059d886f637b6ccfca2da9eb14b381,6173125fa1e216d4c090602c349c6ba8173964ff,1,10/12/13,11/12/13,225,Don't use API exception in RebaseTodoLine,"Don't use API exception in RebaseTodoLine

This came up during introducing a BUCK build for jgit

Change-Id: I26a5353e1a8fc23e67d8ce61309bd964f7665bcb
Signed-off-by: Matthias Sohn <matthias.sohn@sap.com>
Signed-off-by: Christian Halstrick <christian.halstrick@sap.com>",0,0,0,0,0,0,0,0,0
19673,I3b7937577c897a7e298ee431bd8c052cdb293dd9,https://git.eclipse.org/r/#/c/19673,2,47e21951e4b3466b517549e73f1172bb93f78c63,90b262435a8a5d5403d4cc20e772b2c464bb313f,1,11/12/13,11/12/13,2,Add missing @since tags for new public methods in Config,"Add missing @since tags for new public methods in Config

Change-Id: I3b7937577c897a7e298ee431bd8c052cdb293dd9
Signed-off-by: Matthias Sohn <matthias.sohn@sap.com>",1,0,0,1,0,0,1,0,0
19762,Iad6e284e0fe2c7950f156372b334e47ebd82f3f7,https://git.eclipse.org/r/#/c/19762,1,08567e8aec304905d2b4729a94f53f37d5a1c070,9fb351e24aa9c42d63b5fb982b7304ee75fa5fa9,0,13/12/13,13/12/13,0,Merge branch 'stable-3.2',"Merge branch 'stable-3.2'

* stable-3.2:
  Canonicalize worktree path in BaseRepositoryBuilder if set via config
  Add missing @since tags for new public methods in Config
  Don't use API exception in RebaseTodoLine
  Fix aborting rebase with detached head
  Add recursive variant of Config.getNames() methods
  Prepare post 3.2.0-m3 builds
  JGit v3.2.0.201311130903-m3

Change-Id: Iad6e284e0fe2c7950f156372b334e47ebd82f3f7
Signed-off-by: Matthias Sohn <matthias.sohn@sap.com>",1,0,0,0,0,0,1,NA,NA
19887,I16b2832ef98c30977f6b77b646728b83d93c196f,https://git.eclipse.org/r/#/c/19887,3,ee14be8f4c3a9ede802a86ff29578baf69589ff3,aee8da9f555b1b7b5d561776dc1edde720055c3c,1,17/12/13,17/12/13,116,archive: Prepend a specified prefix to all entry filenames,"archive: Prepend a specified prefix to all entry filenames

Common practice when distributing tarballs is to prefix all entries
with a single directory name so when the tarball is extracted it all
falls neatly into a single directory.  Add a setPrefix() method to
ArchiveCommand to support this.

Change-Id: I16b2832ef98c30977f6b77b646728b83d93c196f
Signed-off-by: Jonathan Nieder <jrn@google.com>",0,0,0,0,0,0,0,0,0
19977,Ia04277ce316d35fc5b0d82c93d2078b856af24bb,https://git.eclipse.org/r/#/c/19977,1,90a3b7e9dea7f6b681e612d25a3bfaf02a0ffe7e,b879788c36a7257bf2e8c942ee585ad9a9b941f1,1,18/12/13,18/12/13,220,"Revert ""Fix for core.autocrlf=input resulting in modified file...""","Revert ""Fix for core.autocrlf=input resulting in modified file...""

This reverts commit 1def0a1257d32bce08e751242733cda3b2036cb8.

We found this fix uncovers problems with unsmudged DirCacheEntry's. This
surfaced because egit's ui test CreatePatchActionTest failed since jgit
computes a wrong status. JGit doesn't detect modified content in now
unsmudged entries. Hence revert this change until these problems are
fixed.

Change-Id: Ia04277ce316d35fc5b0d82c93d2078b856af24bb
Signed-off-by: Matthias Sohn <matthias.sohn@sap.com>
Signed-off-by: Christian Halstrick <christian.halstrick@sap.com>",0,0,0,0,0,0,0,0,0
19997,Id00a8baf7d3ffefb210f03cd99f69d55411166fe,https://git.eclipse.org/r/#/c/19997,1,b879788c36a7257bf2e8c942ee585ad9a9b941f1,72fc53e928a00f50b62a83f8762a782a5a633a8c,1,18/12/13,18/12/13,102,JGit v3.2.0.201312181205-r,"JGit v3.2.0.201312181205-r

Change-Id: Id00a8baf7d3ffefb210f03cd99f69d55411166fe
Signed-off-by: Matthias Sohn <matthias.sohn@sap.com>",1,0,0,1,0,0,1,0,0
20009,Ie2bfdee0c492e3d61d92acb04c5bef641f5f132f,https://git.eclipse.org/r/#/c/20009,1,72fc53e928a00f50b62a83f8762a782a5a633a8c,71374c8f5b3217a04c4143746c54dc20989520d6,1,18/12/13,18/12/13,102,Prepare post 3.2.0 builds,"Prepare post 3.2.0 builds

Change-Id: Ie2bfdee0c492e3d61d92acb04c5bef641f5f132f
Signed-off-by: Matthias Sohn <matthias.sohn@sap.com>",1,0,0,1,0,0,1,0,0
20087,I6650642c3511f5a41d673e561fec8204208d428d,https://git.eclipse.org/r/#/c/20087,1,32647145df00efc930aaf1d57b4b51a79cbc8477,32647145df00efc930aaf1d57b4b51a79cbc8477,0,19/12/13,19/12/13,0,Merge branch 'stable-3.2',"Merge branch 'stable-3.2'

* stable-3.2:
  Prepare post 3.2.0 builds
  JGit v3.2.0.201312181205-r
  Revert ""Fix for core.autocrlf=input resulting in modified file...""
  Fix for core.autocrlf=input resulting in modified file and unsmudge

Change-Id: I6650642c3511f5a41d673e561fec8204208d428d
Signed-off-by: Matthias Sohn <matthias.sohn@sap.com>",1,0,0,0,0,0,1,NA,NA
20095,I7bb583674641efed210d3cd5b86af27d7bb48e97,https://git.eclipse.org/r/#/c/20095,5,32647145df00efc930aaf1d57b4b51a79cbc8477,b5d4e2d8aa0af029627a03dca31340377dc362b2,1,20/12/13,17/01/14,167,Add git checkout --orphan implementation,"Add git checkout --orphan implementation


Change-Id: I7bb583674641efed210d3cd5b86af27d7bb48e97
Signed-off-by: SATO taichi <ryushi@gmail.com>",0,1,0,1,0,0,1,2,1
20113,Id133ebe6f6093a56a6a6645e1c5bb18752fb2fd0,https://git.eclipse.org/r/#/c/20113,2,511eb1db33a600b0fb09b6c5246330ec13c476fc,7743dd57c7e6b2b2dc8c355d50d60d6642002f18,1,20/12/13,27/12/13,16,[CLI] Add option --millis / -m to debug-show-dir-cache command,"[CLI] Add option --millis / -m to debug-show-dir-cache command

This is useful when comparing mtime displayed by 
    $ jgit debug-show-dir-cache -m
with mtime displayed by 
    $ git ls-files --debug 
or 
    $ stat ""%m""

Change-Id: Id133ebe6f6093a56a6a6645e1c5bb18752fb2fd0
Signed-off-by: Matthias Sohn <matthias.sohn@sap.com>",0,0,1,0,0,0,1,0,0
20166,I1810c686bcc9eb4d73498e4d3e763e18787b088a,https://git.eclipse.org/r/#/c/20166,3,71dca666d2c3257b695ebb7af876a4782ecb69d4,a381c5e99e58c3fb6bc931a20add441cdd897c0d,1,27/12/13,27/12/13,169,archive: Include entries for directories,"archive: Include entries for directories

Entries for directories are optional and mostly wasted space in most
archive formats (except as a place to hang ownership and filesystem
permissions), but ""git archive"" includes them.  Follow suit.

This will make it easier in a later change to include empty
directories as placeholders for missing submodules.

Change-Id: I1810c686bcc9eb4d73498e4d3e763e18787b088a
Signed-off-by: Jonathan Nieder <jrn@google.com>",0,0,0,0,0,0,0,2,1
20173,I9300e735cb16d6208e1df963abb1ff69f688155d,https://git.eclipse.org/r/#/c/20173,5,8fca7c6b9dd1c4b9ad226a4812a56f5be8f1d0ac,46859adf8d3521f104a08e3f7ac0a6e9a8a3d8dc,1,27/12/13,02/02/14,200,Fix for core.autocrlf=input resulting in modified file and unsmudge,"Fix for core.autocrlf=input resulting in modified file and unsmudge

This version does not attempt to unsmudge, unlike the first attempt
in Idafad150553df14827eccfde2e3b95760e16a8b6.

Bug: 372834
Change-Id: I9300e735cb16d6208e1df963abb1ff69f688155d
Also-by: Robin Stocker <robin@nibor.org>
Signed-off-by: Matthias Sohn <matthias.sohn@sap.com>",0,1,0,0,0,0,1,0,0
20174,I6882c98c2785f38241a81ba5b93892aab79690a5,https://git.eclipse.org/r/#/c/20174,2,cb906ad7ce59769b298fe3565bdf684b4139a4ce,b80520d11358e79c98e5e4afb4dc179a5fc80b5e,1,27/12/13,10/01/14,41,Tag som non-localizable strings with NON-NLS,"Tag som non-localizable strings with NON-NLS

Change-Id: I6882c98c2785f38241a81ba5b93892aab79690a5",0,0,0,1,0,0,1,2,1
20176,I3e71ef1b4a8181f46d2902c9169859f150cd6ad0,https://git.eclipse.org/r/#/c/20176,5,e165c33d44da07d1d9099f161d3f2c885112234d,559d690ae03885c0487ef68eafc16bec2fe4991c,1,27/12/13,05/02/14,100,Ban dangerous names in Windows,"Ban dangerous names in Windows

Bug: 423551 
Change-Id: I3e71ef1b4a8181f46d2902c9169859f150cd6ad0",0,1,0,0,0,0,1,0,0
20302,If3cc05931683d396b5ae2ea8952adceeb9a82ab9,https://git.eclipse.org/r/#/c/20302,1,1d759fafbc621caff47ca666de852a8c3e486417,d11ecab98705b805d4f6d64071404c946374a8b2,1,06/01/14,07/01/14,27,Suppport the GIT_CONFIG_NOSYSTEM environment variable,"Suppport the GIT_CONFIG_NOSYSTEM environment variable

Change-Id: If3cc05931683d396b5ae2ea8952adceeb9a82ab9",0,0,0,1,0,0,1,0,0
20316,I5cb415de7e33428d9f95dfbe1e214ef24be9dad9,https://git.eclipse.org/r/#/c/20316,1,c75de3433f6eac4cdb9a4991b2b74690e6a7f6f2,d492ec632c6bee289d24742ee90529a53c828786,1,07/01/14,07/01/14,1,Remove unused import from ArchiveTest,"Remove unused import from ArchiveTest

This unnecessary import was introduced by 2ecc27d.

Change-Id: I5cb415de7e33428d9f95dfbe1e214ef24be9dad9
Signed-off-by: Matthias Sohn <matthias.sohn@sap.com>",0,0,0,0,0,0,0,0,0
20317,I76882e1f270296c5ce8e220e1946c4a8ddb6fdf5,https://git.eclipse.org/r/#/c/20317,1,d492ec632c6bee289d24742ee90529a53c828786,f9d59d55515c3383dc63235acab92fef993ca32e,0,07/01/14,07/01/14,1,Add missing package import for org.eclipse.jgit.archive,"Add missing package import for org.eclipse.jgit.archive

The archive bundle needs access to the nls package since 2ecc27db.

Change-Id: I76882e1f270296c5ce8e220e1946c4a8ddb6fdf5
Signed-off-by: Matthias Sohn <matthias.sohn@sap.com>",0,0,0,0,0,0,0,NA,NA
20542,I394ea75bc2f250c62f860e537a0af9e6380b3b38,https://git.eclipse.org/r/#/c/20542,7,fc30912c9bad02db382527e4854d9fe62668e7a0,1615fcdcf65b0335a8498b11932deea2c22a1d4f,1,12/01/14,10/02/14,26,Dynamically detect if Windows supports symbolic links,"Dynamically detect if Windows supports symbolic links

To get symlink suport you typically need to run as administrator.

Change-Id: I394ea75bc2f250c62f860e537a0af9e6380b3b38",0,1,0,0,0,0,1,0,0
20543,If020dcca54d16b2fb79210a070b8480aec82e58e,https://git.eclipse.org/r/#/c/20543,4,e9d3f15c3fe5739eb9a23b27da4060dc73f1a858,b152ac729897ec5ca7e31660e4ce20729a650f59,1,12/01/14,10/03/14,119,Take core.autocrlf into account for blame annotations,"Take core.autocrlf into account for blame annotations

Blaming with core.autocrlf set to 'auto' - even for freshly checked out
files - showed all lines as being locally modified. For autocrlf = true
the line breaks of the local file will be converted to LF for blaming.
This results in useful diffs and therefor in the desired blame
annotations.

For autocrlf = input no conversion takes place to cope with CRLF line
breaks in the repository, in addition to the usual LF. For autocrlf =
true CRLF line breaks in the repo can't be supported without additional
effort. In that case the whole local file will be blamed as being
locally modified.

Change-Id: If020dcca54d16b2fb79210a070b8480aec82e58e
Signed-off-by: Konrad Kgler <swamblumat-eclipsebugs@yahoo.de>",0,1,0,0,0,0,1,0,0
20599,Iaa07bb23f163b75e222bc6a5ce3acc91ffef435e,https://git.eclipse.org/r/#/c/20599,2,22548f0c95c8eeaacef8064c3dd36e8e31285d54,cb88106f8f5deebdf9867d4d0eae84c1b9ca9145,1,14/01/14,14/01/14,4,fix link to EWAHCompressedBitmap in javadoc of SimpleDataOutput,"fix link to EWAHCompressedBitmap in javadoc of SimpleDataOutput 

Change-Id: Iaa07bb23f163b75e222bc6a5ce3acc91ffef435e
Signed-off-by: Tomasz Zarna <tomasz.zarna@tasktop.com>",0,0,0,1,0,0,1,0,0
20618,I2c0c406ce5fcc9a03538b483473af930d4895d30,https://git.eclipse.org/r/#/c/20618,5,cb88106f8f5deebdf9867d4d0eae84c1b9ca9145,b733a4cab8aaeff8b14eda9dcc5ebc1aaf00a2b5,1,14/01/14,11/02/14,159,Fix RevWalkUtils.findBranchesReachableFrom not finding some branches,"Fix RevWalkUtils.findBranchesReachableFrom not finding some branches

The ""cut off"" optimization causes it to not include branches that
contain the specified commit but happen to share commits with a branch
that does not contain the commit.

An example:

      -B foo
        \
    -A---C master

findBranchesReachableFrom for commit A with both branches as input may
not return master (depending on the order of the input). The reason is
that A is not contained in foo, and therefore the old code would put B
in the cutOff set. When then walking the master commits and B is
checked, it is found in the cutOff set and the walk is aborted, causing
master not to be returned even though it should.

Bug: 425674
Change-Id: I2c0c406ce5fcc9a03538b483473af930d4895d30
Signed-off-by: Robin Stocker <robin@nibor.org>",0,1,0,0,0,0,1,0,0
20619,Ie615731434d70b99bd18c7a02e832c0a2c3ceef3,https://git.eclipse.org/r/#/c/20619,1,751977fa6b0e7f3ebec56722550fc2e4b04e3943,37e2b507506e72073c4a0f2664b36b3082792244,1,14/01/14,03/03/14,92,Add setContains to ListBranchCommand (branch --contains),"Add setContains to ListBranchCommand (branch --contains)

To correspond to the behavior of ""git branch"", also return HEAD in case
it is detached.

Bug: 425678
Change-Id: Ie615731434d70b99bd18c7a02e832c0a2c3ceef3
Signed-off-by: Robin Stocker <robin@nibor.org>",0,0,0,0,0,0,0,0,0
20620,Ib59e05a0bde58562cc61e6e3000df761660b468e,https://git.eclipse.org/r/#/c/20620,3,37e2b507506e72073c4a0f2664b36b3082792244,d20e8bf07f425bb5f0981a7aaeb4377b9aa63199,1,14/01/14,08/03/14,74,"Implement ""git branch --contains"" in pgm","Implement ""git branch --contains"" in pgm

Bug: 425678
Change-Id: Ib59e05a0bde58562cc61e6e3000df761660b468e
Signed-off-by: Robin Stocker <robin@nibor.org>",0,0,0,0,0,0,0,0,0
20622,I758b34d0486a88036da8327da6ef43385c62fd46,https://git.eclipse.org/r/#/c/20622,1,27cdc5a4d391af2d77707ddefd58589dbde73d3c,a3cdb5fbbfdce53b3d569fad7f6a71f613897ffa,0,14/01/14,14/01/14,4,Update com.jcraft.jsch to 0.1.50 in Kepler target platform,"Update com.jcraft.jsch to 0.1.50 in Kepler target platform

Bug: 425660
Change-Id: I758b34d0486a88036da8327da6ef43385c62fd46
Signed-off-by: Matthias Sohn <matthias.sohn@sap.com>",1,0,0,0,0,0,1,NA,NA
20635,I5b85306058877b19eae4cf5a820fe50cdd200c1c,https://git.eclipse.org/r/#/c/20635,1,a3cdb5fbbfdce53b3d569fad7f6a71f613897ffa,d1f4bce0e82c1f4a6b456e29be3d45c54a7a34a6,0,14/01/14,15/01/14,4,Update target platforms to use latest orbit build,"Update target platforms to use latest orbit build

- use latest I-build for Luna
- use latest M-build for Kepler

Change-Id: I5b85306058877b19eae4cf5a820fe50cdd200c1c
Signed-off-by: Matthias Sohn <matthias.sohn@sap.com>",1,0,0,0,0,0,1,NA,NA
20649,I43cea6c9e5f3cef9d6b15643722fddecb40632d9,https://git.eclipse.org/r/#/c/20649,1,d1f4bce0e82c1f4a6b456e29be3d45c54a7a34a6,cc2e1f89fd5394e065414fd03af1bbf4b676dea9,1,15/01/14,16/01/14,42,Fix fast forward rebase with rebase.autostash=true,"Fix fast forward rebase with rebase.autostash=true

The folder .git/rebase-merge was not removed in this case. The
repository was then still in rebase state, but neither abort nor
continue worked.

Bug: 425742
Change-Id: I43cea6c9e5f3cef9d6b15643722fddecb40632d9",0,0,0,0,0,0,0,0,0
20785,Ifdaed4b5e4adc142657c03c8e78b709a99eeddbd,https://git.eclipse.org/r/#/c/20785,5,be7181e3a9108538de5fc8d367614d4d3a678096,f554f9539e52b71581d4e375b1cc5e55bca1ce9a,1,18/01/14,13/02/14,265,Use branch.<x>.mergeoptions and merge.ff as defaults for merging,"Use branch.<x>.mergeoptions and merge.ff as defaults for merging

Read Options that control squasing, whether or not to commit the merge
and regarding fast forwarding from the configuration und use them if no
explicit values for these options have been provided to MergeCommand.

Change-Id: Ifdaed4b5e4adc142657c03c8e78b709a99eeddbd
Signed-off-by: Konrad Kgler <swamblumat-eclipsebugs@yahoo.de>",0,1,0,0,0,0,1,0,0
20796,Id10cd2e0b1aaba181b68f6ac30e0fc64fb714481,https://git.eclipse.org/r/#/c/20796,1,7cce3daa80e0bb72f46b5086dc7bff6a7beec7c4,5cbe4a1d1c7b2a6bf1b4bac592f032df6b43f1b8,0,20/01/14,20/01/14,2,Update Luna target platform to use Luna M5 orbit repository,"Update Luna target platform to use Luna M5 orbit repository

See http://dev.eclipse.org/mhonarc/lists/orbit-dev/msg03647.html

Change-Id: Id10cd2e0b1aaba181b68f6ac30e0fc64fb714481
Signed-off-by: Matthias Sohn <matthias.sohn@sap.com>",1,0,0,0,0,0,1,NA,NA
20798,Ifb0a87a2b268a8bf3dc11310bfd6af18e242693c,https://git.eclipse.org/r/#/c/20798,2,5cbe4a1d1c7b2a6bf1b4bac592f032df6b43f1b8,6974821b0af1ea1bb43925646c19c1e38dd6c6e7,0,20/01/14,20/01/14,2,Check API version to check changes against to 3.2.0.201312181205-r,"Check API version to check changes against to 3.2.0.201312181205-r

Change-Id: Ifb0a87a2b268a8bf3dc11310bfd6af18e242693c
Signed-off-by: Matthias Sohn <matthias.sohn@sap.com>",1,0,0,1,0,0,1,NA,NA
20799,I16d82499d7d000096de6bd4bd08e406073557162,https://git.eclipse.org/r/#/c/20799,2,6974821b0af1ea1bb43925646c19c1e38dd6c6e7,692660a752ca801c195548287bd60debaae2b431,1,20/01/14,20/01/14,7,Add missing @since tags,"Add missing @since tags

Change-Id: I16d82499d7d000096de6bd4bd08e406073557162
Signed-off-by: Matthias Sohn <matthias.sohn@sap.com>",1,0,0,1,0,0,1,0,0
21073,I3c215b8bbb6497b59d20c9fe7684a0c3522636e8,https://git.eclipse.org/r/#/c/21073,1,692660a752ca801c195548287bd60debaae2b431,085c9c22ee6aae967531b76575ac03698dd5bd51,0,24/01/14,24/01/14,2,Update Kepler target platform to use Kepler SR2 orbit R-build,"Update Kepler target platform to use Kepler SR2 orbit R-build

Change-Id: I3c215b8bbb6497b59d20c9fe7684a0c3522636e8
Signed-off-by: Matthias Sohn <matthias.sohn@sap.com>",1,0,0,1,0,0,1,NA,NA
21094,Ieda718a0530e3680036edfa0963ab88fdd1362c0,https://git.eclipse.org/r/#/c/21094,6,085c9c22ee6aae967531b76575ac03698dd5bd51,5a2f393aa2c193fe1c77af87ddaef325b1958226,1,26/01/14,30/04/14,79,Fix push to repo with non-fetched refs,"Fix push to repo with non-fetched refs

When JGit uses bitmaps (which is the case after a gc), the push command
doesn't go through the code where MissingObjectExceptions are caught
for remote objects not found locally.

Fixed by removing earlier non-locally-found remote objects.

This was seen withing gerrit, see : https://code.google.com/p/gerrit/issues/detail?id=2025

Bug: 426044
Change-Id: Ieda718a0530e3680036edfa0963ab88fdd1362c0
Signed-off-by: Jean-Jacques Lafay <jeanjacques.lafay@gmail.com>",0,1,1,0,0,0,1,0,0
21181,I8396f3e273c93e23861e8bcfb2ab8182fb09220d,https://git.eclipse.org/r/#/c/21181,6,92bf72821a02fb8823d052b80eb649f160a367d5,b67ecd9eef7aafcf16d678b981b9eb2dba6bdfb2,1,28/01/14,30/03/14,136,[413522] Improve pgm commands to be embeddable,"[413522] Improve pgm commands to be embeddable

Add an input stream and an error stream to TextBuiltin base class and leverage
it to remove calls to System.in and System.err

Change-Id: I8396f3e273c93e23861e8bcfb2ab8182fb09220d
Signed-off-by: Guillaume Nodet <gnodet@gmail.com>",0,1,0,0,0,0,1,1,1
21182,Ibe68f7104d4fd55b832000a7840c07a169e7dd58,https://git.eclipse.org/r/#/c/21182,7,6cf3f045227ee8f1c0e680c757cb3aad8ccd57ce,0779429d17bb6dda82c3c68e8f0289a15be937bf,1,28/01/14,01/04/14,39,[413522] Improve pgm commands to be embeddable,"[413522] Improve pgm commands to be embeddable

Avoid calls to System.exit() and throw an exception instead.
The exception is caught in Main and System.exit() is called.

Change-Id: Ibe68f7104d4fd55b832000a7840c07a169e7dd58
Signed-off-by: Guillaume Nodet <gnodet@gmail.com>",0,1,1,0,0,0,1,0,0
21225,I84c5e4927131e105bed93e31a62da6367c78de32,https://git.eclipse.org/r/#/c/21225,2,a8b56e292f66d2945c1e434e281116a8f382163b,09007cf3597b0f23fc35fa364970350399720859,1,29/01/14,13/02/14,7,Initialise ReceiveCommand status to NOT_ATTEMPTED for all constructors,"Initialise ReceiveCommand status to NOT_ATTEMPTED for all constructors

Formerly the 4-arg constructor did not do this, which was unfortunate
as that constructor's the only way for an external user of JGit to set
the /type/ of the ref-update - which you might want to do to indicate
that the update is expected to be a UPDATE_NONFASTFORWARD, and thus does
not require expensive isMergedInto() calculations:

http://dev.eclipse.org/mhonarc/lists/jgit-dev/msg02258.html

Change-Id: I84c5e4927131e105bed93e31a62da6367c78de32
Signed-off-by: Roberto Tyley <roberto.tyley@gmail.com>",0,0,0,0,0,0,0,0,0
21226,I4bbf593de4dcea6b6f082881c1a33cb3a6a7fb89,https://git.eclipse.org/r/#/c/21226,3,ae19402a6fbfecf6b71df39c4d1ad4003e72e334,ffe6b0c918fbdcd33a9c647433c4e50390b561fc,1,29/01/14,13/02/14,27,Non-Fast-Forward Ref-Updates: Omit isMergedInto() calls,"Non-Fast-Forward Ref-Updates: Omit isMergedInto() calls

When the caller specifies to JGit in advance that a ref-update is a
non-fast-forward update, and that those are permitted, we should never
need to call the potentially expensive isMergedInto() check. Re-checking
that the older commit is /not/ reachable from the newer is superfluous.

http://dev.eclipse.org/mhonarc/lists/jgit-dev/msg02258.html

Change-Id: I4bbf593de4dcea6b6f082881c1a33cb3a6a7fb89
Signed-off-by: Roberto Tyley <roberto.tyley@gmail.com>",0,0,0,0,0,0,0,0,0
21227,I4922b9354df9f490966a586fb693762e897345a2,https://git.eclipse.org/r/#/c/21227,2,7a98521f7374290cc7ab3cfa012788ab80b89940,ab6b3cb7c36bcf654a61d245fc65ec5aeb42c9f1,1,29/01/14,29/01/14,18,Fix serving fetch of existing shallow client,"Fix serving fetch of existing shallow client

In certain cases a JGit server updating an existing shallow client
selected a common ancestor that was behind the shallow edge of
the client. This allowed the server to assume the client had some
objects it did not have and allowed creation of pack deltas the
client could never inflate.

Any commit the client has advertised as shallow must be treated
by UploadPack server as though it has no parents. With no parents
the walker cannot visit graph history the client does not have,
and PackWriter cannot consider delta base candidates the client
is lacking.

Change-Id: I4922b9354df9f490966a586fb693762e897345a2",0,0,0,0,0,0,0,0,0
21332,I840d4388f159e2db27845a17030b511fc5708f43,https://git.eclipse.org/r/#/c/21332,1,87c68924ee481dfbbf24c5e395958bd1368b32dc,53f868aa8259ad632e980d740fbeb4cfdc08143e,1,30/01/14,30/01/14,1,Add a missing since tag,"Add a missing since tag

Otherwise you get errors if you want to edit JGit in Eclipse

Change-Id: I840d4388f159e2db27845a17030b511fc5708f43",0,0,0,0,0,0,0,0,0
21362,I9a1c9d6ad6cb38404b7b9178167b714077561353,https://git.eclipse.org/r/#/c/21362,2,53f868aa8259ad632e980d740fbeb4cfdc08143e,a7870463a87d06fdfd877d1ae0df47aa33a25b31,1,31/01/14,03/02/14,696,Fix MissingObjectException race in ObjectDirectory,"Fix MissingObjectException race in ObjectDirectory

Johannes Carlsson identified a race condition[1] that can lead to
spurious MissingObjectExceptions at read time. If two threads are
active inside of ObjectDirectory looking for a packed object and the
packList is currently the empty NO_PACKS list, thread A will find
no object and eventually consider tryAgain1(). If thread A is put
to sleep and this point and thread B also does not find the object,
loads the packs, when thread A wakes up its tryAgain1 would return
false and the thread never considers the packs.

Rework the internal API of ObjectDirectory to keep a handle on the
exact PackList that was iterated by thread A, allowing it to always
retry walking through the packs if the new PackList is different.

This had some ripple effect into the CachedObjectDirectory and
the shared FileObjectDatabase interface. The new code should be
slightly easier to follow, especially from the perspective of the
CachedObjectDirectory trying to minimize the number of open system
calls it makes to files matching ""$GIT_DIR/objects/??/?x{38}"".

[1] http://dev.eclipse.org/mhonarc/lists/jgit-dev/msg02401.html

Change-Id: I9a1c9d6ad6cb38404b7b9178167b714077561353",0,0,0,0,1,0,1,0,0
21432,Ifb75a4fa12291aeeece3dda129a65f0c1fd5e0eb,https://git.eclipse.org/r/#/c/21432,4,70707a3d3c71aea792bbab66c5715bbb26b43df1,7ea5f2a64398f4eb9d3c57b37015886a6a3dc6bd,1,02/02/14,04/02/14,17,Reset internal state canonical length when traverigs WorkingTreeIterator,"Reset internal state canonical length when traverigs WorkingTreeIterator

Bug: 426514
Change-Id: Ifb75a4fa12291aeeece3dda129a65f0c1fd5e0eb",0,1,0,0,0,0,1,0,0
21493,I926e0954c8623a323a50fe8be3ebe5e0ac6944c8,https://git.eclipse.org/r/#/c/21493,3,b8d19366caf4dc3fb09c88090fbf2214ce8a7646,6c6fb5707551b01790c8ec0cbb8d38e2909c3453,1,04/02/14,10/02/14,14,Failing to delete a directory with untracked content is actually ok,"Failing to delete a directory with untracked content is actually ok

We had a test, but it was wrong.

Bug: 424630 
Change-Id: I926e0954c8623a323a50fe8be3ebe5e0ac6944c8",0,0,1,0,0,0,1,0,0
21585,Id3991a4fc4333087c6f569acf04f503b0a0f170d,https://git.eclipse.org/r/#/c/21585,15,750c690b1942a641e1725a5c7bd0fa2b3828160e,bc2ca77e466df08eacfa42e1b4f1ee444c59f1cc,0,05/02/14,03/03/14,74,Test that we can create a symlink before the target is created,"Test that we can create a symlink before the target is created

According to Win32 API, you need to specificy whethere a symlink
points to a file or directory. These tests suggests a symlink created
for a file, can actually point to a directory. We can alos create the
link before the target exists, so at least in this respect Windows
symbolic links appears to work as POSIX links.

Change-Id: Id3991a4fc4333087c6f569acf04f503b0a0f170d",0,1,0,0,0,0,1,NA,NA
21652,I9ea439cf6340a18d0e931edde3b9e3486cafde93,https://git.eclipse.org/r/#/c/21652,2,aefbecb5a0a7d485a8279ba54a883e958955fd29,b542669990971ba7fe224eec779cb24a79d58d8a,0,06/02/14,10/02/14,2,Fix deprecated WTI#isModified,"Fix deprecated WTI#isModified

We should really pass the forceContentCheck paramter to
the real method.

Change-Id: I9ea439cf6340a18d0e931edde3b9e3486cafde93",0,0,1,0,0,0,1,NA,NA
21845,Ida79d335218e1c9f5c6e2ce03386ac8a1c0b212e,https://git.eclipse.org/r/#/c/21845,2,bdc931131d4f9a1f7c9e7d4af13d128b0f0e5df1,d33841dc74be81609e6015e532b66ed176e9c60b,1,11/02/14,12/02/14,34,Use fetch.prune and remote.<name>.prune to set prune mode when fetching,"Use fetch.prune and remote.<name>.prune to set prune mode when fetching

When no explicit value is set via FetchCommand.setRemoveDeletedRefs()
checks if pruning is enabled in the configuration.

The following commit introduced the prune config to C Git:
https://github.com/git/git/commit/737c5a9cde708d6995c765b7c2e95033edd0a896

Change-Id: Ida79d335218e1c9f5c6e2ce03386ac8a1c0b212e
Signed-off-by: Konrad Kgler <swamblumat-eclipsebugs@yahoo.de>",0,0,0,0,0,0,0,0,0
22015,Id852cedaefb2a537b6aa3c330b9861efad052f11,https://git.eclipse.org/r/#/c/22015,1,f337ae19a13532301cde08e0bac48397d6e0d6dd,c3eceef2e0b35f9b31d108d3ff707090fb60d9a2,1,14/02/14,15/02/14,149,Allow programmatic remote configuration for PullCommand,"Allow programmatic remote configuration for PullCommand

Also imply remoteBranchName to match current branch name if it wasn't
configured in branch configuration.

Bug: 424812
Change-Id: Id852cedaefb2a537b6aa3c330b9861efad052f11
Signed-off-by: Matthias Sohn <matthias.sohn@sap.com>",0,0,0,0,0,0,0,0,0
22057,I01c30bb22266eed1c9db18bdf9f90c1c1590e3ec,https://git.eclipse.org/r/#/c/22057,2,84aa7f0b44d1e999f66a11bdac24c7d2586e9910,715e177798bf3159165633ad226b900f0cd432e2,1,15/02/14,17/02/14,4,Add missing static qualifier in DiffFormatter,"Add missing static qualifier in DiffFormatter

These methods do not touch instance members and can avoid the
implicit ""this"" argument.

Change-Id: I01c30bb22266eed1c9db18bdf9f90c1c1590e3ec",0,0,0,0,0,0,0,0,0
22058,I4d3edbf469c6739dca191e62ea580bdb534b67a4,https://git.eclipse.org/r/#/c/22058,2,5125f1734305ce3f9858b3d5a36d89ef2be3226e,efa5223438f6ef7737130fd08681aecbd32c2362,1,15/02/14,17/02/14,7,Remove dead isBinary method from DiffFormatter,"Remove dead isBinary method from DiffFormatter

This method always returns false and is private so it cannot be
overridden at runtime by a subclass. Drop the method and the branch
that can never be taken.

Change-Id: I4d3edbf469c6739dca191e62ea580bdb534b67a4",0,0,0,0,0,0,0,0,0
22059,If4c9ecd61ef0ca8e3e1ea857301f7b5c948efb96,https://git.eclipse.org/r/#/c/22059,4,1911774bd381693b852acfbeef131f4c70965d76,a3b3a1aa43e1f9969a85f819359544c745e6ab10,1,15/02/14,19/02/14,50,Fix diff header on renamed or copied files,"Fix diff header on renamed or copied files

When git-core renames or copies a file and the mode differs the
header shows the mode change first, then the rename or copy data:

  diff --git a/COPYING b/LICENSE
  old mode 100644
  new mode 100755
  similarity index 92%
  rename from COPYING
  rename to LICENSE
  index d645695..54863be
  --- a/COPYING
  +++ b/LICENSE
  @@ -56,20 +56,6 @@

JGit relies on this ordering inside of FileHeader. Parsing ""new file
mode NNN"" after ""copy from/to"" or ""rename from/to"" resets the change
type to be ADD, losing the COPIED or RENAMED status and old path.

This fixes a 4 year old bug in Gerrit Code Review that prevents
opening a file for review if the file was copied from another file,
modified in this change, and the mode was updated (e.g. execute
bit was added).

Change-Id: If4c9ecd61ef0ca8e3e1ea857301f7b5c948efb96",0,1,1,0,0,0,1,0,0
22060,I0388270c1cf0fd22dfd513bcaa404eb97268d39d,https://git.eclipse.org/r/#/c/22060,3,5b1f37e0c9b87c16146f6366bea734ba6f3c9ee0,13dc49768bdbbaacf632e7fe1925d788eb48f8ef,1,15/02/14,02/03/14,55,Fix merge/cherry-picking in CRLF mode,"Fix merge/cherry-picking in CRLF mode

This fixes a case where we have CRLF in the repo but
LF in the worktree and are in autocrlf mode.

Change-Id: I0388270c1cf0fd22dfd513bcaa404eb97268d39d",0,0,0,0,0,0,0,0,0
22090,I3b06629f90a118bd284e55bb3f6465fe7d10463d,https://git.eclipse.org/r/#/c/22090,3,02575e74c1dc487964d5ea1a146c4b966f3a963b,1f1de184cef2d9149403a45c7a5c19c46da990db,1,17/02/14,18/02/14,796,Introduce an abstraction for HTTP connections,"Introduce an abstraction for HTTP connections

Previously all HTTP communication was done with the help of
java.net.HttpUrlConnection. In order to make JGit usable in environments
where the direct usage of such connections is not allowed but where the
environment provides other means to get network connections an
abstraction for connections is introduced. The idea is that new
implementations of this interface will be introduced which will not use
java.net.HttpUrlConnection but use e.g.
org.apache.client.http.HttpClient to provide network connections.

One example: certain cloud infrastructures don't allow that components
in the cloud communicate directly with HttpUrlConnection. Instead they
provide services where a component can ask for a connection (given a
symbolic name for the destination) and where the infrastructure returns
a preconfigured org.apache.http.client.HttpClient. In order to allow
JGit to be running in such environments we need the abstraction
introduced in this commit.

Change-Id: I3b06629f90a118bd284e55bb3f6465fe7d10463d
Signed-off-by: Christian Halstrick <christian.halstrick@sap.com>
Signed-off-by: Matthias Sohn <matthias.sohn@sap.com>",0,0,0,0,1,1,1,0,0
22091,I0b357f23243ed13a014c79ba179fa327dfe318b2,https://git.eclipse.org/r/#/c/22091,3,22d7b6d69da8ba192d8c3bc6549bee6b345a3fda,6e46a6ead8a2af2de769cacbb9a3e26aafd9503e,1,17/02/14,18/02/14,678,Add an implementation for HttpConnection using Apache HttpClient,"Add an implementation for HttpConnection using Apache HttpClient

This change implements the http connection abstraction with the help of
org.apache.http.client.HttpClient. The default implementation used by
JGit is still the JDK HttpURLConnection. But now JGit users have the
possibility to switch completely to org.apache.httpclient. The reason
for this is that in certain (e.g. cloud) environments you are forced to
use the org.apache classes.

Change-Id: I0b357f23243ed13a014c79ba179fa327dfe318b2
Signed-off-by: Christian Halstrick <christian.halstrick@sap.com>
Signed-off-by: Matthias Sohn <matthias.sohn@sap.com>",0,0,0,0,1,1,1,1,1
22135,I0b91ffd473e2f14623ddf409e4f0f342c8941e42,https://git.eclipse.org/r/#/c/22135,2,ba118c6b190dd6d07620cf94b49f856a2901d202,ada28f616cd2f539abcb0ec819aad9605f1f5979,1,18/02/14,19/02/14,2,[findBugs] Don't call toString() on a string,"[findBugs] Don't call toString() on a string

Change-Id: I0b91ffd473e2f14623ddf409e4f0f342c8941e42
Signed-off-by: Matthias Sohn <matthias.sohn@sap.com>",1,0,0,1,0,0,1,0,0
22136,I9be2ffe95e8d716326ba63b67672741ac316f9a5,https://git.eclipse.org/r/#/c/22136,2,9c35feb7c5b41fbb61b571b11f4678b6d19549e7,29c3207fd4426e92f20af1a3ed8837342170b428,1,18/02/14,19/02/14,2,[findBugs] Don't rely on default encoding,"[findBugs] Don't rely on default encoding

Change-Id: I9be2ffe95e8d716326ba63b67672741ac316f9a5
Signed-off-by: Matthias Sohn <matthias.sohn@sap.com>",1,0,0,1,0,0,1,0,0
22137,Ic4c61472412aa158a355bb444805cde8c5d2833a,https://git.eclipse.org/r/#/c/22137,2,9356fbf20398b520d484adea3aee584c59dcc64a,422fd41f7bb887d2b100a0315280bd5f0f2fa8d1,1,18/02/14,19/02/14,3,[findBugs] Don't ignore exceptional return value of File.mkdir(),"[findBugs] Don't ignore exceptional return value of File.mkdir()

Change-Id: Ic4c61472412aa158a355bb444805cde8c5d2833a
Signed-off-by: Matthias Sohn <matthias.sohn@sap.com>",1,0,0,1,0,0,1,0,0
22160,Ie44a288b052abe936ebb74272d0fefef3b218a7a,https://git.eclipse.org/r/#/c/22160,11,56dba0bd355bd5e598ec716bd4deaac8d0413e3e,2a0378603363cfe98b087053e519ac7cf3f49f97,1,18/02/14,17/05/14,532,More Symlinks Tests,"More Symlinks Tests

Add further symlinks tests where the working tree is dirty (differs from
index) and where we have staged but uncommitted changes.

Bug: 354367
Change-Id: Ie44a288b052abe936ebb74272d0fefef3b218a7a
Signed-off-by: Axel Richard <axel.richard@obeo.fr>",0,1,1,0,1,0,1,-1,0
22194,I88699ca5da6a20bdeaed24b7e3899cc1022b8e7c,https://git.eclipse.org/r/#/c/22194,8,81db30c6ea8d806524a90c5d045b5883cabc479f,5401b38059eb2250f1c04ebfada245bd2bf06f08,1,18/02/14,03/08/14,629,NetRC parser and credentials provider.,"NetRC parser and credentials provider.

Adds default git command line behaviour of reading credentials
for https connections into JGit.

Change-Id: I88699ca5da6a20bdeaed24b7e3899cc1022b8e7c
Signed-off-by: Alexey Kuznetsov <axet@me.com>",0,1,1,0,1,0,1,3,1
22277,Ida3a0417ae646ce37214153f49a85de2be3dd4fd,https://git.eclipse.org/r/#/c/22277,1,97e94b4bd717a0f4783bfe1d39993c0791848396,c60edb36f8077cab40e36210e8e6c86ca91ca162,1,19/02/14,19/02/14,102,JGit v3.3.0.201402191814-rc1,"JGit v3.3.0.201402191814-rc1

Change-Id: Ida3a0417ae646ce37214153f49a85de2be3dd4fd
Signed-off-by: Matthias Sohn <matthias.sohn@sap.com>",1,0,0,1,0,0,1,0,0
22280,I0d808f8733a490b75bbcaacedb4b095e05fab32e,https://git.eclipse.org/r/#/c/22280,1,c60edb36f8077cab40e36210e8e6c86ca91ca162,68a72473168fabbc96b4a6868fdbd21cfd626cf4,1,20/02/14,20/02/14,102,Prepare post 3.3.0RC1 builds,"Prepare post 3.3.0RC1 builds

Change-Id: I0d808f8733a490b75bbcaacedb4b095e05fab32e
Signed-off-by: Matthias Sohn <matthias.sohn@sap.com>",1,0,0,1,0,0,1,0,0
22338,I5ef5e00c53678b9e1d7cfd54bbca3ff6f1c1c967,https://git.eclipse.org/r/#/c/22338,3,68a72473168fabbc96b4a6868fdbd21cfd626cf4,411b1a6bea6c8a7499e3332efa6427b800cb247d,1,20/02/14,21/02/14,1415,Move Apache httpclient based HTTP support to a separate bundle,"Move Apache httpclient based HTTP support to a separate bundle

This move avoids that all consumers of org.eclipse.jgit depend on Apache httpclient. Also add another feature to make this optional for OSGi consumers as well.

Change-Id: I5ef5e00c53678b9e1d7cfd54bbca3ff6f1c1c967
Signed-off-by: Matthias Sohn <matthias.sohn@sap.com>",0,0,0,0,1,0,1,1,1
22393,I50f91e1d3c1d29a44502f4bb9f0e6c05e21342b7,https://git.eclipse.org/r/#/c/22393,1,8a554ef7542f716db13b9fa3776d3070b9ae8480,ebb8154881eb5d314b50189120d73fddeaece554,0,21/02/14,21/02/14,0,Merge branch 'stable-3.3',"Merge branch 'stable-3.3'

* stable-3.3:
  Move Apache httpclient based HTTP support to a separate bundle
  Prepare post 3.3.0RC1 builds
  JGit v3.3.0.201402191814-rc1
  [findBugs] Don't ignore exceptional return value of File.mkdir()
  [findBugs] Don't rely on default encoding
  [findBugs] Don't call toString() on a string

Change-Id: I50f91e1d3c1d29a44502f4bb9f0e6c05e21342b7
Signed-off-by: Matthias Sohn <matthias.sohn@sap.com>",1,0,0,0,0,0,1,NA,NA
22408,I7285458a70aee3dd6faf739b68a0b5783b8da01d,https://git.eclipse.org/r/#/c/22408,1,ebb8154881eb5d314b50189120d73fddeaece554,be30a2cba699e153a31284a9dc187713040ea8bf,0,24/02/14,24/02/14,28,Package httpclient and httpcore in o.e.j.http.apache.feature,"Package httpclient and httpcore in o.e.j.http.apache.feature

When adding the new feature o.e.j.http.apache.feature in
I4adfecd56d84ee24a50cadb1700c8be56e4172a3 in order to make the
httpclient based implementation optional I missed to also move the
apache libraries.

Change-Id: I7285458a70aee3dd6faf739b68a0b5783b8da01d
Signed-off-by: Matthias Sohn <matthias.sohn@sap.com>",1,0,0,0,0,0,1,NA,NA
22441,I350bef446dd7a37613b9506aae99679569bd36e1,https://git.eclipse.org/r/#/c/22441,2,5fb2079cc3cf0b7f556a1114091cb138986d3495,8c63ee03f45498ecfa7b8b74d6171ef74c2871de,1,24/02/14,26/02/14,25,CLI clone command should support --no-checkout,"CLI clone command should support --no-checkout

doCheckout() is called only if --no-checkout option is not set.

Bug: 428917
Change-Id: I350bef446dd7a37613b9506aae99679569bd36e1
Signed-off-by: Kaloyan Raev <kaloyan.r@zend.com>",0,0,0,0,0,0,0,0,0
22446,I4d51758e4565d32c9f8892242947eb72644b847d,https://git.eclipse.org/r/#/c/22446,4,fbd82dfe2fdd619260ad0c98f6103c3f5e4bf46c,389a2f98736ccb2758093262bfb0e15fffe46a7a,1,24/02/14,26/02/14,41,Add getPackFile to ReceivePack to make PostReceiveHook more usable,"Add getPackFile to ReceivePack to make PostReceiveHook more usable

Having access to the pack file that was created by the ReceivePack
may be useful for post receive hooks. For example, a hook may want
to check the size of the received pack and the created index.

Change-Id: I4d51758e4565d32c9f8892242947eb72644b847d",0,1,0,0,0,0,1,0,0
22456,I5d1f6c4b5b3d7a971367cdd0cc9fa4022dff5b85,https://git.eclipse.org/r/#/c/22456,3,aebffbec460b66e3472908027b1e5b1ab22896c6,d04fd68a678c15b91b75b6202fcf44d263aeb356,0,24/02/14,26/02/14,9,DirCacheEntry: access to raw path,"DirCacheEntry: access to raw path

Change-Id: I5d1f6c4b5b3d7a971367cdd0cc9fa4022dff5b85
Signed-off-by: Marc Strapetz <marc.strapetz@syntevo.com>",0,0,0,1,0,0,1,NA,NA
22458,Ice64e3b0e5d67a39690aa24e41c954b8ce312d49,https://git.eclipse.org/r/#/c/22458,1,c91ffc268cf37e5b1fdcb4e21e52119a547e99d7,31f7c88e998b3053b8a62876f258a7ac8b455ed9,1,24/02/14,03/03/14,28,"DirCache.findEntry(byte[], in) made public","DirCache.findEntry(byte[], in) made public

Change-Id: Ice64e3b0e5d67a39690aa24e41c954b8ce312d49
Signed-off-by: Marc Strapetz <marc.strapetz@syntevo.com>",0,0,0,1,0,0,1,0,0
22461,I1e4001d5557fca693b7bac401268599467cb0c9e,https://git.eclipse.org/r/#/c/22461,3,20f6ac882bbf58376d1bca89baf98a448df43157,f4e112fa9122f510bdbbd0443a5618b0dfe1933c,1,24/02/14,26/02/14,14,"Files should be deleted with ""retry"" option","Files should be deleted with ""retry"" option

Change-Id: I1e4001d5557fca693b7bac401268599467cb0c9e
Signed-off-by: Marc Strapetz <marc.strapetz@syntevo.com>",0,0,0,1,0,0,1,0,0
22462,I9b19cd90b338a4c3cae5661c658526b7e98c95d1,https://git.eclipse.org/r/#/c/22462,1,f291391c1f0907bb92d50a8fa9c05a0f893afb82,0d7948f6afa399ba8265dbd5d8b96fd4dd94f461,0,24/02/14,25/02/14,3,Fix possible NPE in Repository.resolve,"Fix possible NPE in Repository.resolve

Change-Id: I9b19cd90b338a4c3cae5661c658526b7e98c95d1
Signed-off-by: Marc Strapetz <marc.strapetz@syntevo.com>",0,0,0,1,0,0,1,NA,NA
22486,Idb9123d1f4013966919db43043ec959d4b133ae2,https://git.eclipse.org/r/#/c/22486,2,fd7e3bcf2adf7da062e708e71ed695d28cac1f74,f2ebc0733aaa0aef49ff242a4a1afcdc3f139413,1,24/02/14,21/05/14,158,"Adds GSSManager factory class, to be used for SPNEGO HTTP authentication","Adds GSSManager factory class, to be used for SPNEGO HTTP authentication

Adds a factory class for GSSManager. GSSManager is already a factory class but
it doesn't work well with SPNEGO HTTP authentication unless the
javax.security.auth.useSubjectCredsOnly system property is set to false.

On Sun JDK, Sun GSSManagerImpl can be configured directly for SPNEGO auth
(without setting any system property). For a better experience, the class
availability is detected by reflection and used instead.

Detection is only done once, and fallbacks to org.ietf.jgss.GSSManager.

Change-Id: Idb9123d1f4013966919db43043ec959d4b133ae2
Signed-off-by: lgoujon@twitter.com",0,0,1,0,0,0,1,0,0
22487,I79f3b70ca2b8377e20da8e6a01914e43e96595ce,https://git.eclipse.org/r/#/c/22487,3,1aeabdba47b622d02a2a5ae6971c10c556952378,e3809685b4b2a8a7752b982e7c78317d49246a0c,1,24/02/14,21/05/14,8,"Detects background authentication, and force use of jgit authentication","Detects background authentication, and force use of jgit authentication

Sun HttpURLConnection is able to handle authentication like SPNEGO without
caller intervention. However, there are some restrictions:
- do not need user intervention (user,password for example)
- it doesn't work when request body is chunked/streamed (because it cannot be
replayed)

Unfortunately there is no real way to leverage HttpURLConnection authentication
work as the authentication header is stripped off the request before returning
to the caller. There's also no way to disable explicitly authentication in
HttpURLConnection (SPNEGO auth will always be attempted if a valid token can be
created by GSSAPI).

This is an issue for jgit since it is expected that the first request will be
used to detect authentication method, and reuse for the subsequent requests.

This patch modifies TransportHTTP to detect authentication done in the background
by HttpURLConnection and sets the jgit authentication method accordingly so it will
always work for future requests (assuming that the authentication method used by
HttpURLConnection is also supported by jgit).

Change-Id: I79f3b70ca2b8377e20da8e6a01914e43e96595ce
Signed-off-by: lgoujon@twitter.com",0,0,1,0,0,0,1,0,0
22488,I049c1742e7afbc51f3f6033fa4d471b344813cfa,https://git.eclipse.org/r/#/c/22488,2,fd2b1e782fe6c1a6826b5291c0cb52f19cf96e34,56c46799dec78898720f0623c84fd60b3ac607ef,1,24/02/14,21/05/14,94,Creates HttpAuthMethod type enum to support auth ordering,"Creates HttpAuthMethod type enum to support auth ordering

Refactors HttpAuthMethod to support more authentication methods,
still sorted by priority orders.

Change-Id: I049c1742e7afbc51f3f6033fa4d471b344813cfa
Signed-off-by: lgoujon@twitter.com",0,0,1,0,0,0,1,0,0
22489,Ib181096d39f538df1dd7d3f36516843777bf12ae,https://git.eclipse.org/r/#/c/22489,3,130bdedb10470c976f3138991949219b0bd189f1,50a4e84ae156f329751fa81312bf09c0495afcce,1,24/02/14,21/05/14,72,Adds support for SPNEGO,"Adds support for SPNEGO

Adds support for Negotiate(SPNEGO) HTTP authentication method. This method
is set to have a higher priority as Digest HTTP authentication method.

Change-Id: Ib181096d39f538df1dd7d3f36516843777bf12ae
Signed-off-by: lgoujon@twitter.com",0,0,1,0,0,0,1,0,0
22505,I83d8db670875c395f8171461b402083323e623a5,https://git.eclipse.org/r/#/c/22505,1,dd4de3ab60c3e9c1411c0c591e11c6ca04705cb8,108d59373e7a0200afa1d0ff6cc7eb365c00527f,1,25/02/14,26/02/14,259,Possibility to limit the max pack size on receive-pack,"Possibility to limit the max pack size on receive-pack

The maxPackSizeLimit, when set, will reject a pack if it exceeds
that limit.

This feature is intended to provide a mechanism to control disk space
quota on Git repositories.

Change-Id: I83d8db670875c395f8171461b402083323e623a5
CQ: 7896",0,0,0,0,0,0,0,0,0
22529,I63c3a94f663c87f09170fdf8b1b1bf4ed5246fc5,https://git.eclipse.org/r/#/c/22529,2,4132d2a663f80422a94adf145f1c858f8409ceba,a3035690b51126b7ce4ad784ea73b5122096b48b,1,25/02/14,27/02/14,57,Fix checkout to differentiate better between a missing and dirty file,"Fix checkout to differentiate better between a missing and dirty file

During a checkout we want to prevent to overwrite unsaved local file
content. Jgit was therefore checking wheter the file to overwrite is
dirty or missing and would raise a conflict it this was the case. That
was wrong. It should only check that the file is dirty. It's ok to
""overwrite"" a missing/non-existing file.

Change-Id: I63c3a94f663c87f09170fdf8b1b1bf4ed5246fc5
Signed-off-by: Christian Halstrick <christian.halstrick@sap.com>",0,0,0,0,0,1,1,0,0
22559,I84e9d7b4b772b4ad7d3e7010aad78291d4d178fe,https://git.eclipse.org/r/#/c/22559,4,2bed8a12677246f36972c240924c10dc26609bd4,e4e447e8e0d2b6617349c55f610f7036f43f5e10,1,26/02/14,06/05/14,110,Allow callers to use different merging strategies,"Allow callers to use different merging strategies

Signed-off-by: Laurent Goubet <laurent.goubet@obeo.fr>
Change-Id: I84e9d7b4b772b4ad7d3e7010aad78291d4d178fe",0,1,1,0,0,0,1,0,0
22564,Ie34a4a9c4c47c2f27579094d74a7849fc26a323b,https://git.eclipse.org/r/#/c/22564,1,638e03581e734efac27314e432c4b922f094c8a4,cc8c3326c0d8419202d2308edc45306fe3f21c89,0,26/02/14,26/02/14,1,Add a missing @since tag,"Add a missing @since tag

Change-Id: Ie34a4a9c4c47c2f27579094d74a7849fc26a323b",0,0,0,1,0,1,1,NA,NA
22652,I53903a264f46866d249901a3cd9f9295028aa6bd,https://git.eclipse.org/r/#/c/22652,2,7035e2f33baf506493a60e4d72464b748dd0f3ce,bb5787c3f2d21f09e096fdaca79e1d7bdcb9dac3,1,28/02/14,28/02/14,15,Fix NPE when WorkingTreeIterator does not have a repository set,"Fix NPE when WorkingTreeIterator does not have a repository set

It's strange that we have that member since it is not so clear
when it it set or not.

Change-Id: I53903a264f46866d249901a3cd9f9295028aa6bd",0,0,0,0,0,0,0,0,0
22653,I422cd1dcdfa40b25ba3d6e08b112159dae9a4353,https://git.eclipse.org/r/#/c/22653,2,3d6f0fa043803301055767690b18460987d91595,0e0b33380f72cac43c9d20ea004deb875213a25d,0,28/02/14,28/02/14,9,Remove obsolete getRepositoryMethod from WorkingTreeIterator,"Remove obsolete getRepositoryMethod from WorkingTreeIterator

The method was added for symlink support, but was becaome unneeded.
Since it was added for this release it's like it never existed.

Change-Id: I422cd1dcdfa40b25ba3d6e08b112159dae9a4353",0,0,0,0,0,0,0,NA,NA
22654,I140b88b8fdcab08d6515cd1f0ba9a53a9701f60d,https://git.eclipse.org/r/#/c/22654,2,574638289bbebdd3b2bc06646e8d17b2607309d7,04fbb26b6e345db2deeb563fed6565b5bb13ba1b,0,28/02/14,28/02/14,20,Add a launcher for Java 7 tests,"Add a launcher for Java 7 tests

Just like we have launcher for other packages

Change-Id: I140b88b8fdcab08d6515cd1f0ba9a53a9701f60d",0,0,0,0,0,0,0,NA,NA
22704,I09cd39c367f408b5a963ff004f235f558990f338,https://git.eclipse.org/r/#/c/22704,3,a1bae33c424588b266612f104127afc1f19bbd81,6cb139e3106d7d06f52e6b1a0565d8cfa6243cc3,0,28/02/14,06/03/14,12,[findBugs] Declare some private methods of WorkingTreeIterator static,"[findBugs] Declare some private methods of WorkingTreeIterator static

Change-Id: I09cd39c367f408b5a963ff004f235f558990f338
Signed-off-by: Matthias Sohn <matthias.sohn@sap.com>",0,0,0,1,0,0,1,NA,NA
22712,I5147c1c94621586dd84bd11e6090a954523b6c1c,https://git.eclipse.org/r/#/c/22712,1,bb51dec58aa1e7be192dae122e9d2536182bcc63,efe99af58f0c1d74a5c1a2f0b3dfa90f12e83b15,0,01/03/14,02/03/14,3,Avoid an NPE after 7b01a5369210,"Avoid an NPE after 7b01a5369210

While fixing an NPE, I introduced another one in a deprecated isModified
method. It cannot avoid NPE's entirely, which is the reason the method
is deprecated

Change-Id: I5147c1c94621586dd84bd11e6090a954523b6c1c",0,0,0,0,0,0,0,NA,NA
22716,I2bf1200959a50531e2155a7609c96035ba45b10d,https://git.eclipse.org/r/#/c/22716,2,d3bad07cc15c23c7d1c1358096c04631ed63fced,226aadba71652782442ddc6604c21de00bdce22d,1,02/03/14,02/03/14,216,Expose the received pack size in ReceivePack,"Expose the received pack size in ReceivePack

PostReceiveHooks can make use of this information to, for example,
update a cached size of the Git repository.

Change-Id: I2bf1200959a50531e2155a7609c96035ba45b10d
Signed-off-by: Matthias Sohn <matthias.sohn@sap.com>",0,0,0,0,0,0,0,0,0
22717,I28e3ebf3a659a7cbc94be51bba9e1ad338f2b786,https://git.eclipse.org/r/#/c/22717,1,5c0279877862f14daa17a3683d70d919f6c4d353,a2f6306e59cf5e83b3e3a71b90a1acfbbf61950b,1,02/03/14,02/03/14,41,"Revert ""Add getPackFile to ReceivePack to make PostReceiveHook more usable""","Revert ""Add getPackFile to ReceivePack to make PostReceiveHook more
usable""

This reverts commit 2670fd427cd4aad49ccdb6dde66271fdffff86f8.

By returning an instance of File from the ReceivePack.getPackFile the
abstraction of the persistence implementation was broken.

Change-Id: I28e3ebf3a659a7cbc94be51bba9e1ad338f2b786
Signed-off-by: Matthias Sohn <matthias.sohn@sap.com>",0,0,0,0,0,0,0,0,0
22735,Iaf3da455f7d6f691617299e881154ff8185a9d46,https://git.eclipse.org/r/#/c/22735,1,1d7aad60485509ebadfd0ec6d47f6b93f2687766,085ead987a43db0f8c83ce12b03ca6210bf864f2,1,02/03/14,02/03/14,110,JGit v3.3.0.201403021825-r,"JGit v3.3.0.201403021825-r

Change-Id: Iaf3da455f7d6f691617299e881154ff8185a9d46
Signed-off-by: Matthias Sohn <matthias.sohn@sap.com>",1,0,0,1,0,0,1,0,0
22803,Ic0ef24b43cfd99ac947e771ef5a28e493c304274,https://git.eclipse.org/r/#/c/22803,1,d67788a4dd3cbd52296ee707545a840789eb450c,c5c27709482b2ba6a3037b95fe7212d6e6de4151,1,03/03/14,03/03/14,2,Add missing @Deprecated to deprecated fields and methods,"Add missing @Deprecated to deprecated fields and methods

Java spec requires the @Deprecated annotation on any deprecated
field or method. Add the missing annotation to fields and methods
already declared deprecated in the javadoc.

Change-Id: Ic0ef24b43cfd99ac947e771ef5a28e493c304274",0,0,0,0,0,0,0,0,0
22888,If15560f2731e54dbf9db88d8a308b4c25ce27e8e,https://git.eclipse.org/r/#/c/22888,1,4f79752e11aafb5d90517e6a64bccebe43986fe8,429508e3701a83875ba304e2492da0279e7ab624,1,05/03/14,05/03/14,516,Prepare 3.3.1-SNAPSHOT builds,"Prepare 3.3.1-SNAPSHOT builds

Change-Id: If15560f2731e54dbf9db88d8a308b4c25ce27e8e
Signed-off-by: Matthias Sohn <matthias.sohn@sap.com>",1,0,0,1,1,0,1,0,0
22889,I760ad82f2455cfc2cdc76c9331a03b09aebb2349,https://git.eclipse.org/r/#/c/22889,1,429508e3701a83875ba304e2492da0279e7ab624,d71a19e8c220ea8bd0beba63f2e4151b60de5d49,0,05/03/14,05/03/14,6,Update scripts to deploy jgit on Maven central,"Update scripts to deploy jgit on Maven central

Change-Id: I760ad82f2455cfc2cdc76c9331a03b09aebb2349
Signed-off-by: Matthias Sohn <matthias.sohn@sap.com>",1,0,0,1,0,0,1,NA,NA
22892,I814a150980854bbaabd767f97b062d247af6cb50,https://git.eclipse.org/r/#/c/22892,1,5d396c579843b20b01fa97170530beb48bf9f597,8905d5f6fecafcfc1ce158e27ef3a846266397c1,0,05/03/14,05/03/14,18,Merge branch 'stable-3.3',"Merge branch 'stable-3.3'

* stable-3.3:
  Update scripts to deploy jgit on Maven central
  Prepare 3.3.1-SNAPSHOT builds
  JGit v3.3.0.201403021825-r
  Fix merge/cherry-picking in CRLF mode
  Expose the received pack size in ReceivePack
  Revert ""Add getPackFile to ReceivePack to make PostReceiveHook more usable""
  Avoid an NPE after 7b01a5369210
  Add a launcher for Java 7 tests
  Remove obsolete getRepositoryMethod from WorkingTreeIterator
  Fix NPE when WorkingTreeIterator does not have a repository set
  Add getPackFile to ReceivePack to make PostReceiveHook more usable
  Possibility to limit the max pack size on receive-pack
  Package httpclient and httpcore in o.e.j.http.apache.feature

Change-Id: I814a150980854bbaabd767f97b062d247af6cb50
Signed-off-by: Matthias Sohn <matthias.sohn@sap.com>",1,0,0,0,0,0,1,NA,NA
22893,I907c6f1834c06b8ab4d3e0f76dde475faea7b4a5,https://git.eclipse.org/r/#/c/22893,1,8905d5f6fecafcfc1ce158e27ef3a846266397c1,9aaf8129d3a2c175f7e3bc0c1dc1780096103549,1,05/03/14,05/03/14,518,Prepare 3.4.0-SNAPSHOT builds,"Prepare 3.4.0-SNAPSHOT builds

Change-Id: I907c6f1834c06b8ab4d3e0f76dde475faea7b4a5
Signed-off-by: Matthias Sohn <matthias.sohn@sap.com>",1,0,0,1,1,0,1,0,0
22901,Ie8ac2ea447fa93d6643b9817f58767ab7f0b1aa4,https://git.eclipse.org/r/#/c/22901,1,9aaf8129d3a2c175f7e3bc0c1dc1780096103549,6b89f74779a269c996be58a85e0c610039d350eb,0,05/03/14,06/03/14,2,Update com.jcraft.jsch to 0.1.50 also in pom dependencies,"Update com.jcraft.jsch to 0.1.50 also in pom dependencies

We updated the target platforms in 3.3 following the version shipped
by the release train but missed to update it in pom dependencies.
This wasn't harmful as there were no API changes between 0.1.46 and
0.1.50.

Change-Id: Ie8ac2ea447fa93d6643b9817f58767ab7f0b1aa4
Signed-off-by: Matthias Sohn <matthias.sohn@sap.com>",1,0,0,0,0,0,1,NA,NA
22928,I10aef3a3b5c3b3ab9f6ef857a9fcc67ce0b1cec3,https://git.eclipse.org/r/#/c/22928,2,56d91b94a20d7296c775b910263db1f8bded60ae,3f3ce9861114e312c69a8d6b9340f0858c1d3d83,0,05/03/14,07/03/14,1,Fix default profile for target platform used in maven build,"Fix default profile for target platform used in maven build

Change-Id: I10aef3a3b5c3b3ab9f6ef857a9fcc67ce0b1cec3",0,0,0,1,0,1,1,NA,NA
23067,Idafe6e041cc40a00ac52eb4ba88753c49db86988,https://git.eclipse.org/r/#/c/23067,1,f743ec18dc3c9d13704bf56eee4224f203a11d7e,acdd715dc134353361b9252e2698a56c6182d63e,1,07/03/14,07/03/14,4,Fix some wrong @since 3.3 tags which should be @since 3.4,"Fix some wrong @since 3.3 tags which should be @since 3.4

Change-Id: Idafe6e041cc40a00ac52eb4ba88753c49db86988
Signed-off-by: Matthias Sohn <matthias.sohn@sap.com>",1,0,0,1,0,0,1,0,0
23079,Ia58efd178a4571c013bf1104d1da956a86fd7029,https://git.eclipse.org/r/#/c/23079,2,ae739ba55cbd3131a4dca692eae0313c5b383cfe,34d368dcf42606d23dea5d8bb42c1daecd6e0c30,1,08/03/14,08/03/14,1,Add @since tag to new DirCache#findEntrty,"Add @since tag to new DirCache#findEntrty

Change-Id: Ia58efd178a4571c013bf1104d1da956a86fd7029",0,0,0,1,0,0,1,0,0
23080,Id9a1d0036e3fb33aad8b5cb342197457f33febca,https://git.eclipse.org/r/#/c/23080,2,3a96914519207d277348e8d0de9741d621db35fb,3c675f5431bf3139442e263716042468fb68f273,0,08/03/14,08/03/14,2,Remove a redundant semi-colon,"Remove a redundant semi-colon

Change-Id: Id9a1d0036e3fb33aad8b5cb342197457f33febca",0,0,0,1,0,0,1,NA,NA
23086,I3d261e6541fe0fcaa210587d2aa226e153071351,https://git.eclipse.org/r/#/c/23086,3,3c675f5431bf3139442e263716042468fb68f273,ab5d9022353feae355c3601222512b02769aca4f,1,08/03/14,16/05/14,49,Command line: implement checkout -- <path>,"Command line: implement checkout -- <path>

Change-Id: I3d261e6541fe0fcaa210587d2aa226e153071351
Signed-off-by: Matthias Sohn <matthias.sohn@sap.com>",0,0,0,1,0,0,1,0,0
23088,Icb5b73b38fcaa19f7d1c5a0235c3e8dd125b888b,https://git.eclipse.org/r/#/c/23088,1,ace6ca409f2df9262221b22074477064ece66e62,5beffa8d0e23416a3b0fa2a513518ea36d3bbd7b,1,09/03/14,09/03/14,1,Add missing break,"Add missing break

It does not really matter functionally, but it looked bad,

Change-Id: Icb5b73b38fcaa19f7d1c5a0235c3e8dd125b888b",0,0,0,0,0,0,0,0,0
23091,I78d38b345726f62841db34f7091812a91bf21b4b,https://git.eclipse.org/r/#/c/23091,1,5beffa8d0e23416a3b0fa2a513518ea36d3bbd7b,1cb1486ded3c950596668ba5dae874f9a751ff12,1,09/03/14,09/03/14,2,Catch UnsupportedOperationException for older Windowses,"Catch UnsupportedOperationException for older Windowses

Bug: 429947
Change-Id: I78d38b345726f62841db34f7091812a91bf21b4b",0,0,0,0,0,0,0,0,0
23200,I3137eba00d6eba96ca9051b6687fcf62e0871bcc,https://git.eclipse.org/r/#/c/23200,3,48399b8fb0253d182d7bcbdc86af6904286068ea,c0b5140ce3223f954ebf9e6dc586853f86ca4d27,1,11/03/14,14/03/14,26,[findBugs] Ensure streams are closed in a finally block,"[findBugs] Ensure streams are closed in a finally block

Change-Id: I3137eba00d6eba96ca9051b6687fcf62e0871bcc
Signed-off-by: Matthias Sohn <matthias.sohn@sap.com>",0,0,1,1,0,0,1,0,0
23218,Ie8ac2ea447fa93d6643b9817f58767ab7f0b1aa4,https://git.eclipse.org/r/#/c/23218,1,1398afc9e20fad0962d7fe2ca293aac59369c5e4,039767c031a224def4cc668f92c16ec5518033d7,0,11/03/14,11/03/14,2,Update com.jcraft.jsch to 0.1.50 also in pom dependencies,"Update com.jcraft.jsch to 0.1.50 also in pom dependencies

We updated the target platforms in 3.3 following the version shipped
by the release train but missed to update it in pom dependencies.
This wasn't harmful as there were no API changes between 0.1.46 and
0.1.50.

Change-Id: Ie8ac2ea447fa93d6643b9817f58767ab7f0b1aa4
Signed-off-by: Matthias Sohn <matthias.sohn@sap.com>",1,0,0,0,0,0,1,NA,NA
23222,I6e9edb257b404d213ff08c44560fdb1672a5c80b,https://git.eclipse.org/r/#/c/23222,1,2e177e42220a8c84c6f9254dff331eb647cf9784,e166a283f3bd1090a3aff7810000c6907ef56ee4,0,11/03/14,12/03/14,8,Cleanup catch Exception when making Java7FSFactory,"Cleanup catch Exception when making Java7FSFactory

Catching Exception and rethrowing as Error when the Java7 factory was
not available threw an unexpected error to the caller, but then
confused things by still setting the factory to the default Java
5 version.  A second call to FS.detect(Boolean) would succeed.

Do not throw to the caller. Instead always default to the Java5
factory if the Java7 one is not loading.

Change-Id: I6e9edb257b404d213ff08c44560fdb1672a5c80b",0,0,0,0,0,0,0,NA,NA
23224,Ib921dfd77ce757e89280d1c00328a88430daef35,https://git.eclipse.org/r/#/c/23224,3,c91c3056da959f22d510810e880caf56a726eeb3,f052eb36e572d3b8d662bb4210939ffb17534381,1,12/03/14,13/03/14,29,Permit ObjectChecker to optionally accept leading '0' in trees,"Permit ObjectChecker to optionally accept leading '0' in trees

The leading '0' is a broken mode that although incorrect in the
Git canonical tree format was created by a couple of libraries
frequently used on a popular Git hosting site. Some projects have
these modes stuck in their ancient history and cannot easily
repair the damage without a full history rewrite. Optionally permit
ObjectChecker to ignore them.

Change-Id: Ib921dfd77ce757e89280d1c00328a88430daef35",0,0,0,0,0,0,0,0,0
23225,I66eaee5c988eb7d425fb7a708ef6f5419ab77348,https://git.eclipse.org/r/#/c/23225,2,f052eb36e572d3b8d662bb4210939ffb17534381,b8dc145f630e423efa169653e1e62fcbea8a5550,1,12/03/14,13/03/14,23,Extract path segment check function in ObjectChecker,"Extract path segment check function in ObjectChecker

Start pulling out the path segment checking. This will be used
later to support DirCacheCheckout verification of paths, after
folding that logic into this location.

Change-Id: I66eaee5c988eb7d425fb7a708ef6f5419ab77348",0,0,0,0,0,0,0,0,0
23226,I90a1eaf25d45e91557f3f548b69cdcd8f7cddce1,https://git.eclipse.org/r/#/c/23226,3,b8dc145f630e423efa169653e1e62fcbea8a5550,764a4e94e8774d23c229e4cb3ed3c5fd183d363a,1,12/03/14,13/03/14,34,Reject '.git' as a tree name in ObjectChecker,"Reject '.git' as a tree name in ObjectChecker

Using .git as a name in a tree is invalid for most Git repositories.
This can confuse clients into thinking there is a submodule or another
repository deeper in the tree, which is incorrect. Reject .git on all
platforms and '.GIT' (mixed case) if case insensitive filesystems are
important to the project.

Change-Id: I90a1eaf25d45e91557f3f548b69cdcd8f7cddce1",0,0,0,0,0,0,0,1,1
23227,Ic3042444b1e162c6d01b88c7e6ea39b2a73c4eca,https://git.eclipse.org/r/#/c/23227,3,2489b229530bdc3641c1de5281fe6e3aa66b642d,e69b8ff56de6fb48a336f27fc103bbf8f99ee4e9,1,12/03/14,13/03/14,142,Allow an ObjectChecker to reject special characters for Windows,"Allow an ObjectChecker to reject special characters for Windows

Repositories that are frequently checked out on Windows platforms
may need to ensure trees do not contain strange names that cause
problems on those systems. Follow the MSDN guidelines and refuse
to accept a tree containing a special character, or names that end
with "" "" (space) or ""."" (dot).

Change-Id: Ic3042444b1e162c6d01b88c7e6ea39b2a73c4eca",0,0,0,0,0,0,0,0,0
23229,Ic700ea8fa68724509e0357d4b758a41178c4d70c,https://git.eclipse.org/r/#/c/23229,3,4bb1085f43e4d835b2eb53300f5297c036ef2c3a,84aa9b1d71484ce1e3894b0ca12e62f3facb6e9b,1,12/03/14,13/03/14,94,Reject special Windows device names in ObjectChecker,"Reject special Windows device names in ObjectChecker

If Windows rejection is enabled reject special device names like
NUL and PRN, including NUL.txt. This prevents a tree that might
be used on a Windows client from referencing a confusing name.

Change-Id: Ic700ea8fa68724509e0357d4b758a41178c4d70c",0,0,0,0,0,0,0,1,1
23230,I02e964d114fb544a0c1657790d5367c3a2b09dff,https://git.eclipse.org/r/#/c/23230,3,458eab5b0f884220f9f6345ffd5bb009fab4b458,3bc124f81cf2932518da693538ff4daf1127a2ab,1,12/03/14,13/03/14,228,[RFC] Change DirCacheCheckout to verify path using ObjectChecker,"[RFC] Change DirCacheCheckout to verify path using ObjectChecker

Reuse the generic logic in ObjectChecker to examine paths.

RFC as some cross platform tests are now failing with this change.

Change-Id: I02e964d114fb544a0c1657790d5367c3a2b09dff",0,0,0,0,0,0,0,0,0
23255,I62a80fd6e6fda8bd76fdf3f3f2b8cbc56460fb2c,https://git.eclipse.org/r/#/c/23255,1,5f0147783b153bdc5085c4ef7c9ae31e7bbd1165,22d882456460b28d7cf28c1589f2fafb85eaea6e,1,12/03/14,12/03/14,2,Rename test class so it is also executed during maven test phase,"Rename test class so it is also executed during maven test phase

One specific test was executed when running tests from inside eclipse
(e.g. by using one of our checked in launch configurations). But when
running tests from maven this test was not executed. Maven (the surefire
plugin) looks for Tests only in java files which are named like
""Test*.java"", ""*Test.java"" or ""*TestCase.java"". Tests in files named
""*Tests.java"" are not found.

Change-Id: I62a80fd6e6fda8bd76fdf3f3f2b8cbc56460fb2c",0,0,0,0,0,1,1,0,0
23277,Iec6ce9e6c2872f8b0850cc6aec023fa0fcb05ae4,https://git.eclipse.org/r/#/c/23277,2,04482f7bdc450b59ceeb50857f30821ea88e4a6f,84bf7d4db35263e5968e6131dd2e3241e0765d63,1,12/03/14,13/03/14,34,Reject mixed case .git on Mac OS in ObjectChecker,"Reject mixed case .git on Mac OS in ObjectChecker

Most Mac OS X systems use a case insensitive HFS+ volume. Like
Windows "".git"" and "".GIT"" are the same path and can confuse a Git
program into expecting a repository where one does not exist.

Change-Id: Iec6ce9e6c2872f8b0850cc6aec023fa0fcb05ae4",0,0,0,0,0,0,0,0,0
23280,I170b6f649a72d6ef322b7254943d4c604a8d25b9,https://git.eclipse.org/r/#/c/23280,2,015a4d597e1d46040bd2c5afe93608f75fbbf676,af6d809b4f2e0518a22a12d71cc818db50ad0a16,1,12/03/14,13/03/14,126,Check for duplicate names after folding case in ObjectChecker,"Check for duplicate names after folding case in ObjectChecker

Mac OS X and Windows filesystems are generally case insensitive and
will fold 'a' and 'A' to the same directory entry. If the checker is
enforcing safe semantics for these platforms, track all names and
look for duplicates after folding case and normalizing to NFC.

Change-Id: I170b6f649a72d6ef322b7254943d4c604a8d25b9",0,0,0,0,0,0,0,0,0
23287,I9440dd25588008626222f33bfd697f57c05b439e,https://git.eclipse.org/r/#/c/23287,1,af6d809b4f2e0518a22a12d71cc818db50ad0a16,2622cf81be2e7b55e3675c62caec7310f6b459d1,1,12/03/14,13/03/14,24,Allow ReceivePack callers to configure their own ObjectChecker,"Allow ReceivePack callers to configure their own ObjectChecker

PackParser permits supplying a specific ObjectChecker instance.
Allow this to be passed through ReceivePack, giving the caller
more flexibility to configure the implementation.

Change-Id: I9440dd25588008626222f33bfd697f57c05b439e",0,0,0,0,0,0,0,0,0
23288,I41f243633dacb606dbcc3132972f63bbaba174d1,https://git.eclipse.org/r/#/c/23288,2,2622cf81be2e7b55e3675c62caec7310f6b459d1,1e860b4fae92d4e968daa43c915cd06c6706bf1d,1,12/03/14,13/03/14,5,Default receive.fsckObjects to tranfser.fsckObjects,"Default receive.fsckObjects to tranfser.fsckObjects

ReceivePack should configure itself with receive.fsckObjects,
and if not defined, transfer.fsckObjects. This is the order
used by git-core.

Change-Id: I41f243633dacb606dbcc3132972f63bbaba174d1",0,0,0,0,0,0,0,0,0
23289,Ie4d5f082258c4b2928c7ecc3780c6363fa587f34,https://git.eclipse.org/r/#/c/23289,2,1e860b4fae92d4e968daa43c915cd06c6706bf1d,60f658de3ff74651a90d0a197994bcc0c7d5c1d3,1,12/03/14,13/03/14,9,Correct fetch to use fetch.fsckObjects and transfer.fsckObjects,"Correct fetch to use fetch.fsckObjects and transfer.fsckObjects

git-core configures fsck during fetch using these two variables.
JGit use of fsck in fetch predates the usage in git-core and had
reused receive.fsckobjects, which does not match behavior.

Change-Id: Ie4d5f082258c4b2928c7ecc3780c6363fa587f34",0,0,0,0,0,0,0,0,0
23297,I1a225c1b3cd13c0d1a0d43fffe79355c501f49b7,https://git.eclipse.org/r/#/c/23297,2,60f658de3ff74651a90d0a197994bcc0c7d5c1d3,00e4b2d446c0c7bd1bb24f7d16963ab51c736b8f,1,13/03/14,13/03/14,24,Allow configuration of receive pack's ObjectChecker through fsck.*,"Allow configuration of receive pack's ObjectChecker through fsck.*

fsck.allowLeadingZeroFileMode may be set true to permit pushing
broken trees with leading '0' in the file mode.

fsck.safeForWindows may be set true to require new trees to have
only file names that are safe on the Windows platform.

fsck.safeForMacOS may be set true to require new trees to have
only file names that do not cause collisions or confusion on the
Mac OS platform.

Change-Id: I1a225c1b3cd13c0d1a0d43fffe79355c501f49b7",0,0,0,0,0,0,0,0,0
23298,Iababe3ee1d35cb82f2bef2f12da7a2ecd03282b0,https://git.eclipse.org/r/#/c/23298,2,85cd0ed87e77f3df35ac922381892c17c17d7703,202831796ffd3ea7ecb724fb1bb8859f6bdea14d,1,13/03/14,13/03/14,10,Display progress while checking connectivity on push,"Display progress while checking connectivity on push

Verifying 100 new objects are fully connected to the existing DAG
is usually very cheap. Checking the entire Linux kernel history is
fully connected when pushing it to a new repository can take 30-60
seconds. Display a progress counter during this time so the client
knows the server is still working.

Change-Id: Iababe3ee1d35cb82f2bef2f12da7a2ecd03282b0",0,0,0,0,0,0,0,0,0
23314,Icbe7ce9f5a6b281b2aaab66e4d76dfc1010b2fb5,https://git.eclipse.org/r/#/c/23314,2,ec885290166da3ca55b265d82a13917f52ba3ee7,8700d635f081731f3771576de48b4967d8247eee,1,13/03/14,13/03/14,157,Fix text alignment in history plot renderer,"Fix text alignment in history plot renderer

When more than one lane is drawn, some commits are vertically misaligned
(off by two pixels). This change fixes the alignment.

Bug: 426047
Change-Id: Icbe7ce9f5a6b281b2aaab66e4d76dfc1010b2fb5
Signed-off-by: Konrad Kgler <swamblumat-eclipsebugs@yahoo.de>
Signed-off-by: Rdiger Herrmann <ruediger.herrmann@gmx.de>",0,0,0,0,0,0,0,0,0
23351,I1882e6832c916e27dd5f6b7602d9caf66fb39c84,https://git.eclipse.org/r/#/c/23351,2,e8a6d3d1f6a7654313f2148fccc959b400952591,22581ae36b9b29548be24ecd95439bbcc5a744f3,1,13/03/14,13/03/14,77,Fix StackOverflowError in RevCommit.carryFlags on deep side graphs,"Fix StackOverflowError in RevCommit.carryFlags on deep side graphs

Copying flags through a graph with deep side branches can cause
StackOverflowError. The recursive step to visit the 2nd parent of
a merge commit can overflow the stack if these are themselves very
deep histories with many branches.

Rewrite the loop to iterate up to 500 recursive steps deep before
unwinding the stack and running the remaining parts of the graph
using a dynamically allocated FIFORevQueue.

This approach still allows simple graphs that mostly merge short
lived topic branches into master to copy flags with no dynamic
memory allocation, relying only on temporary stack extensions.
Larger more complex graphs only pay the allocation penalities
if copying has to extend outwards ""very far"" in the graph, which
is unlikely for many coloring based algorithms.

Change-Id: I1882e6832c916e27dd5f6b7602d9caf66fb39c84",0,0,0,0,0,0,0,2,1
23401,I6fa726a14a84b06411e7010608c7a1e2bfb8bfe8,https://git.eclipse.org/r/#/c/23401,2,bfca6efc64b527f724b44d0353e1ecfee8165a3e,ba4aecec595e5960f5131ead6b4a101b27766013,1,14/03/14,15/03/14,3,Ensure that ssh authentication is retried only in JGit,"Ensure that ssh authentication is retried only in JGit

JGit wants to control retries during ssh authentication. But JSch by
default already retries 6 times. Hence disable retries in JSch. Without
this the credentials provider isn't reset if e.g. wrong credentials are
specified.

Bug: 430210
Change-Id: I6fa726a14a84b06411e7010608c7a1e2bfb8bfe8",0,0,0,0,0,1,1,0,0
23409,I1047f318bb5c63850f45ba85d73c97fe8bf70a6c,https://git.eclipse.org/r/#/c/23409,5,18bcb2f19c0c044d2b7d0b1ffeadea97912bae1f,5b6ba786605e8aa9999231ece6b3615098bffc28,1,14/03/14,25/04/14,157,Add API to permit the setting of additional HTTP headers Signed-off-by: Bogdan Gheorghe <gheorghe@ca.ibm.com> Change-Id: I1047f318bb5c63850f45ba85d73c97fe8bf70a6c,"Add API to permit the setting of additional HTTP headers
Signed-off-by: Bogdan Gheorghe <gheorghe@ca.ibm.com>
Change-Id: I1047f318bb5c63850f45ba85d73c97fe8bf70a6c",0,1,0,0,0,0,1,0,0
23441,Ibd62ef3da17be6454991c43f524c8bbc7ca3c37e,https://git.eclipse.org/r/#/c/23441,4,a8dc4379e77061b3cbee2e2c729cc9a9a0551cb5,f50b3bbb930e29544db7b7cf20451ff2bff616ee,1,16/03/14,20/03/14,10,Retry to call credentials provider if http authentication failed,"Retry to call credentials provider if http authentication failed

If the user provided wrong credentials or credentials changed we
shouldn't give up immediately but retry to get valid credentials from
the credentials provider. Reset the credentials provider if
authentication failed repeatedly to avoid it reuses wrong credentials in
case it stored them in a persistent store.

Change-Id: Ibd62ef3da17be6454991c43f524c8bbc7ca3c37e
Signed-off-by: Matthias Sohn <matthias.sohn@sap.com>",0,1,1,0,0,0,1,0,0
23515,I96d279d45ca9e31a1031b25cb4e5650e1d5525ea,https://git.eclipse.org/r/#/c/23515,1,2e8ff0d2bbd16bef365fe8715d505367f4f8b6bd,04e0eb1f37c29a1a12d06dab57ee62339753b63c,0,17/03/14,17/03/14,2,Update build to use Tycho 0.20.0,"Update build to use Tycho 0.20.0

Change-Id: I96d279d45ca9e31a1031b25cb4e5650e1d5525ea
Signed-off-by: Matthias Sohn <matthias.sohn@sap.com>",1,0,0,1,0,0,1,NA,NA
23818,If2ee1f4270f5ea4bee73ecb0e9c933f8234818da,https://git.eclipse.org/r/#/c/23818,1,95f34d9752a5afe60e0ccd53c76dc44fbf6f8924,8101db26f45cd0176a0f5bd3c8eeaaad43168dea,1,24/03/14,09/04/14,7,Fixed RevWalk.isMergedInto() returning wrong results,"Fixed RevWalk.isMergedInto() returning wrong results

Under certain circumstances isMergedInto() returned
false even though base is reachable from the tip.
This will hinder pushes and receives by falsely
detecting ""non fast forward"" merges.

      o---o---o---o---o
      /                 \
     /   o---o---A---o---M
    /   /
---2---1-

if M (tip) was compared to 1 (base), the method
isMergedInto() could still return false, since
two mergeBases will be detected and the return
statement will only look at one of them:

  return next() == base;

In most cases this would pass, but if ""A"" is
a commit with an old timestamp, the Generator
would walk down to ""2"" before completing the
walk pass ""A"" and first finding the other
merge base ""1"". In this case, the first call to
next() returns 2, which compared to base evaluates
as false.

This is fixed by iterating merge bases and
returning true if base is found among them.

Change-Id: If2ee1f4270f5ea4bee73ecb0e9c933f8234818da
Signed-off-by: Gustaf Lundh <gustaf.lundh@sonymobile.com>
Signed-off-by: Sven Selberg <sven.selberg@sonymobile.com>",0,0,0,0,0,0,0,0,0
23827,Ib317903898095d205f0b6ed4cead62ff6eabd894,https://git.eclipse.org/r/#/c/23827,1,2ce3812371c5cd3fc3619a24dda85284244475a6,25d15eb1c9196ac072a47d5cc823be966fe74c50,1,24/03/14,24/03/14,118,JGit v3.3.1.201403241930-r,"JGit v3.3.1.201403241930-r

Change-Id: Ib317903898095d205f0b6ed4cead62ff6eabd894
Signed-off-by: Matthias Sohn <matthias.sohn@sap.com>",1,0,0,1,0,0,1,0,0
23836,I48271980a258acd0ada7c418b24c61c1bf0a0cd2,https://git.eclipse.org/r/#/c/23836,1,25d15eb1c9196ac072a47d5cc823be966fe74c50,9e4bb9a289cf4870070505b8cb4c161592397811,1,25/03/14,25/03/14,516,Prepare 3.3.2-SNAPSHOT builds,"Prepare 3.3.2-SNAPSHOT builds

Change-Id: I48271980a258acd0ada7c418b24c61c1bf0a0cd2
Signed-off-by: Matthias Sohn <matthias.sohn@sap.com>",1,0,0,1,1,0,1,0,0
23847,I45b48a3f2dc8c7708e9518645d72bc5645002836,https://git.eclipse.org/r/#/c/23847,1,71e322b5741ffbd9d55f3bc171b3e4f8f29a704a,6420a8256a7542136596f27bee4ef09a4c8d44c2,1,25/03/14,25/03/14,575,Merge branch 'stable-3.3',"Merge branch 'stable-3.3'

* stable-3.3:
  Prepare 3.3.2-SNAPSHOT builds
  JGit v3.3.1.201403241930-r
  Retry to call credentials provider if http authentication failed
  Ensure that ssh authentication is retried only in JGit
  [findBugs] Ensure streams are closed in a finally block
  Update com.jcraft.jsch to 0.1.50 also in pom dependencies

Change-Id: I45b48a3f2dc8c7708e9518645d72bc5645002836
Signed-off-by: Matthias Sohn <matthias.sohn@sap.com>",1,0,0,0,1,0,1,0,0
23904,I9926e5ac17e1a983cd399798993031c72bd79c2c,https://git.eclipse.org/r/#/c/23904,2,6420a8256a7542136596f27bee4ef09a4c8d44c2,af67f203cd419ccb7ef9d599286e123eaf91b4f0,1,26/03/14,26/03/14,29,Fix NameRevCommand when repo has no annotated tags,"Fix NameRevCommand when repo has no annotated tags

Previously, calling addAnnotatedTags() did not modify any state when
there were no annotated tags in the repository. This caused the code
to assume no addFoo() methods had been called, and fell back to the
default of adding refs/*. Instead, use null to indicate neither
addRefs() nor addAnnotatedTags() was called.

Add a test for this behavior.

Change-Id: I9926e5ac17e1a983cd399798993031c72bd79c2c",0,0,0,0,0,1,1,0,0
23925,I50018aa006f18b244d2cae2ff78b5ffe1b821d63,https://git.eclipse.org/r/#/c/23925,1,679d6197268594508ef40c8bf153270ce6173bd0,35ee2964704ddc70e9d652be570aa7a6ba1b40e8,1,26/03/14,26/03/14,70,Fix GarbageCollection not to pack HEAD,"Fix GarbageCollection not to pack HEAD

When working on a non-bare repository with a detached HEAD jgit's GC was
packing the ref named ""HEAD"" into the packed-refs file and deleted the
loose ref (the file .git/HEAD!). This made the repo unusable for native
git. This is fixed by telling jgit to only pack refs starting from
""refs/""

Change-Id: I50018aa006f18b244d2cae2ff78b5ffe1b821d63",0,0,0,0,0,0,0,0,0
23991,Ied3e7ec0d825416226cacb2f14d5bca003af36da,https://git.eclipse.org/r/#/c/23991,1,35ee2964704ddc70e9d652be570aa7a6ba1b40e8,b18c24dd32ab2c92c8895565da82adb156a5aea6,1,27/03/14,27/03/14,2,Fix missing NON-NLS tag in RebaseCommand,"Fix missing NON-NLS tag in RebaseCommand

Change-Id: Ied3e7ec0d825416226cacb2f14d5bca003af36da
Signed-off-by: Stefan Lay <stefan.lay@sap.com>",0,0,0,1,0,0,1,0,0
24000,Ic53c396c88b84cbdf579a636953f7519952270c0,https://git.eclipse.org/r/#/c/24000,3,d31503f5e577abf671fe5c746219aab9d144659f,3eac2783227ec678d613df7e4f7f967089058f30,1,27/03/14,06/04/14,78,Fix ValidRefNameTest on Windows,"Fix ValidRefNameTest on Windows

There are certain ref names which native git can be create only on
non-windows systems (e.g. ""refs/tags/>""). On Windows systems we can't
persist this refs because the ref names are not valid file names. Our
tests in ValidRefNameTest assumed that these are valid refs on all
systems. This broke the tests on Windows.

Change-Id: Ic53c396c88b84cbdf579a636953f7519952270c0",0,0,0,0,0,0,0,0,0
24002,I295bfdc5751545b046d7fe7efc3f8b39ab4f5415,https://git.eclipse.org/r/#/c/24002,3,5ffabaee19f7342009d453491ffb7f4169fb94be,5cf0bfed9f0f548e1ec99d0bdc414bf76ac2f955,1,27/03/14,27/03/14,16,Interactive rebase: Fix order of commit messages on stash,"Interactive rebase: Fix order of commit messages on stash

Bug: 431214
Change-Id: I295bfdc5751545b046d7fe7efc3f8b39ab4f5415
Signed-off-by: Stefan Lay <stefan.lay@sap.com>",0,0,0,0,0,0,0,0,0
24067,Iabfcff18737ff435ba8d5e8efc7a581abc9a46ce,https://git.eclipse.org/r/#/c/24067,1,5cf0bfed9f0f548e1ec99d0bdc414bf76ac2f955,3d45f260aa767bf3c954592c3254eddb43a93d04,0,28/03/14,28/03/14,5,Allow full compiles on Java 8.,"Allow full compiles on Java 8.

Make jgit.java6 and jgit.java7 activation based on ranges so modules in
jgit.java6 are enabled for Java 1.6+ and modules in jgit.java7 are
enabled for Java 1.7+. This enables full compiles on Java 8 and also
removes the need to list org.eclipse.jgit.console in both profiles.

Change-Id: Iabfcff18737ff435ba8d5e8efc7a581abc9a46ce
Signed-off-by: Alexander Kurtakov <akurtako@redhat.com>",0,0,0,0,0,0,0,NA,NA
24141,Idfb3b16725d8f2ad25338dd0910fb1334c00cde4,https://git.eclipse.org/r/#/c/24141,4,3d45f260aa767bf3c954592c3254eddb43a93d04,e2a30daf11e0dca8f07fd8ce4f4bca79450ef1a9,0,29/03/14,29/03/14,6,Make sure with include the Java 7 modules with JDK 8,"Make sure with include the Java 7 modules with JDK 8

Change-Id: Idfb3b16725d8f2ad25338dd0910fb1334c00cde4",0,1,0,1,0,0,1,NA,NA
24142,I91a7225cff350f11cc224129439622c7dfd9f4f3,https://git.eclipse.org/r/#/c/24142,3,8a23f43e450b133a2c82ff4608403085fb72912d,20ce61fc8f92148c7e8a8d8f954a3d416ae660e3,0,29/03/14,29/03/14,78,Add launchers for running tests with Java 8,"Add launchers for running tests with Java 8

Change-Id: I91a7225cff350f11cc224129439622c7dfd9f4f3",0,0,0,1,0,0,1,NA,NA
24143,I469316f5645205016e1fa6b0fbd2ff3b509b14bc,https://git.eclipse.org/r/#/c/24143,4,ebda12eaf4d10fc357e1dfee5f1f88836cfb6996,a23e4cd56fe81bb14b6085739f637e2e16983b1b,1,29/03/14,29/03/14,186,Cleanup javadocs so they pass the java8 doclint checks,"Cleanup javadocs so they pass the java8 doclint checks

Change-Id: I469316f5645205016e1fa6b0fbd2ff3b509b14bc",0,1,0,1,0,0,1,0,0
24160,Id6b3ba003f58427a3ffaacd224649e2d6c93566b,https://git.eclipse.org/r/#/c/24160,2,35cf81d42694c7ec8939b5a7c393bfcb67b726ee,8ca682fd74403b426e9004a02e2a46040a2060dc,1,29/03/14,06/04/14,5,Fix FileTreeIteratorTest#testIsModifiedFileSmudged() on Windows,"Fix FileTreeIteratorTest#testIsModifiedFileSmudged() on Windows

This would be a problem for any OS where Java lets the subscond
part through to the File API. The fix is to force the timetamp
of the index rather than trusting it to just happen to be right.

Bug: 430765
Change-Id: Id6b3ba003f58427a3ffaacd224649e2d6c93566b
Signed-off-by: Robin Rosenberg <robin.rosenberg@dewire.com>",0,0,0,0,0,0,0,0,0
24167,I37f838d270a221a75d0d3842ba2f3f90aa1d6f01,https://git.eclipse.org/r/#/c/24167,5,8a2be7048caa0bd2b3efa393192642194f8ec0bf,9b1ed5a45b9d32454f8f922a798815c5a8b95b8e,0,30/03/14,17/05/14,30,Fix failing ConfigTest on Window,"Fix failing ConfigTest on Window

Trust the detection of features and just test CoreConfig.

Change-Id: I37f838d270a221a75d0d3842ba2f3f90aa1d6f01",0,1,0,0,0,0,1,NA,NA
24406,I96406100dbef8e4bc8fe2047d102681194dc8847,https://git.eclipse.org/r/#/c/24406,1,d673b3109812a9b28dae579f48a3e338d808956d,14a5de556d661309fc10186a16564023cac7c3f7,0,03/04/14,03/04/14,2,Add missing space to invalid object error messages,"Add missing space to invalid object error messages

""Invalid tree aa6f10291050a00de83b4630783030b9e3b969ec:duplicate entry names""

is hard to read. A space after the object name and before the message
makes the message more readable.

Change-Id: I96406100dbef8e4bc8fe2047d102681194dc8847",0,0,0,0,0,0,0,NA,NA
24407,I829431c38c71fa1899e33916252b75f09db8ecbd,https://git.eclipse.org/r/#/c/24407,2,14a5de556d661309fc10186a16564023cac7c3f7,eb796dbe9cee62df3f09fad62d708e4c45316ec1,1,03/04/14,03/04/14,22,Throw CorruptObjectException when a bad object is found,"Throw CorruptObjectException when a bad object is found

This makes it easier to identify higher in the call stack.

Change-Id: I829431c38c71fa1899e33916252b75f09db8ecbd",0,0,0,0,0,0,0,0,0
24408,Id16a37c6c745ede1fa0d97c5bc390491799500bc,https://git.eclipse.org/r/#/c/24408,2,bbe83b69dfbeb0fde17511877b8e917c07a5d2a0,8fd018556a95f008a3e6508900e808b7ebb5c84c,1,03/04/14,03/04/14,3,Abbreviate SHA-1s when reporting invalid objects,"Abbreviate SHA-1s when reporting invalid objects

The full 40 digit name is rather long. In most cases an abbreviated
name should be sufficient.

Change-Id: Id16a37c6c745ede1fa0d97c5bc390491799500bc",0,0,0,0,0,0,0,0,0
24410,I39e7d71150948872bff6cd2b06bf8dae52aa3c33,https://git.eclipse.org/r/#/c/24410,2,49cd4d176bd38a5e7a99f0b907546b1be318713c,bc24170e636193b47e73b189fa3b27a786a0f188,1,03/04/14,03/04/14,15,Fix ObjectChecker when normalization is enabled,"Fix ObjectChecker when normalization is enabled

When safeForMacOS is enabled the checker verifies a name does not
match against another name in the same tree after normalization to
NFC. The check was incorrect and failed when the first name was put
in, rejecting simple trees containing only on file like ""F"".

Add a test for this simple tree to verify it is accepted.
Fix the test for NFC normalization to actually normalize
and have a collision.

Change-Id: I39e7d71150948872bff6cd2b06bf8dae52aa3c33",0,0,0,0,0,0,0,0,0
24411,Ifdf787f496ff3ffd6ffe8f3321d56320cb08454f,https://git.eclipse.org/r/#/c/24411,1,bc24170e636193b47e73b189fa3b27a786a0f188,a5fb288618bc86970e78b8c9621e9651983e1cdb,1,03/04/14,03/04/14,1,Mark getParent deprecated in CanonicalTreeParser,"Mark getParent deprecated in CanonicalTreeParser

@deprecated in Javadoc must be accompanied by @Deprecated annotation
on the class member.

Change-Id: Ifdf787f496ff3ffd6ffe8f3321d56320cb08454f",0,0,0,0,0,0,0,0,0
24415,If8522d4e02254766e3310a70e42badafa5ab9768,https://git.eclipse.org/r/#/c/24415,3,abc39a05698e4c8fafa21131ba2394f1d485f321,5218709ff78702020f08cb2ef9b089ed62f93f5e,1,04/04/14,05/04/14,10,Don't use package private classes when overriding a public interface,"Don't use package private classes when overriding a public interface

Change-Id: If8522d4e02254766e3310a70e42badafa5ab9768
Signed-off-by: Robin Rosenberg <robin.rosenberg@dewire.com>",0,0,0,1,0,0,1,0,0
24549,Id9a641dd67c4182bb3a0dc83a6864fee43e7653f,https://git.eclipse.org/r/#/c/24549,2,ab08fe54a7c9b0aa47b0686233a5d599f000d21e,36083e30f699498dd2ebb14ed4feadad21a22255,1,07/04/14,09/04/14,80,Added TestCase for 7d5e1f Fixed RevWalk.isMergedInto(),"Added TestCase for 7d5e1f Fixed RevWalk.isMergedInto()

Change-Id: Id9a641dd67c4182bb3a0dc83a6864fee43e7653f
Signed-off-by: Gustaf Lundh <gustaf.lundh@sonymobile.com>
Signed-off-by: Sven Selberg <sven.selberg@sonymobile.com>",0,0,0,1,0,0,1,0,0
24678,I88a6ee07109187c6c9bfd92a044775fcfb5befa6,https://git.eclipse.org/r/#/c/24678,6,b1551e72e905b8af492a1771d1d104b67cf8484e,d36439d465a7aff2ee943a003ada2e4efb0e7a0b,1,08/04/14,25/04/14,410,Implemented first part of the repo sub-command.,"Implemented first part of the repo sub-command.

Currently the repo sub-command only ""works"", but the submodules will have .git
directories themselves, and lacks group support.

Change-Id: I88a6ee07109187c6c9bfd92a044775fcfb5befa6
Signed-off-by: Yuxuan 'fishy' Wang <fishywang@google.com>",0,1,1,0,0,0,1,0,0
24679,Ib809b00c236a9c44422a872ae801b060f5b26808,https://git.eclipse.org/r/#/c/24679,6,5ddafe2071521b482c7ea60ed2c09fd37163ab3d,ea61b07450094d91e0178caa1db21e4e05e3e123,1,08/04/14,25/04/14,169,Added the command line of jgit repo.,"Added the command line of jgit repo.

Change-Id: Ib809b00c236a9c44422a872ae801b060f5b26808
Signed-off-by: Yuxuan 'fishy' Wang <fishywang@google.com>",0,1,1,1,0,0,1,0,0
24680,Id0e7663b6ac4f6938fdcacaf2158107b6285fc25,https://git.eclipse.org/r/#/c/24680,6,0f047363fd21c12077bda57a7a517ba19d0686c1,515f91a167b698941cf340d9bd9c266fed9668f8,1,08/04/14,25/04/14,312,Added groups support to repo subcommand.,"Added groups support to repo subcommand.

Change-Id: Id0e7663b6ac4f6938fdcacaf2158107b6285fc25
Signed-off-by: Yuxuan 'fishy' Wang <fishywang@google.com>",0,1,1,1,0,0,1,0,0
24681,I83e8a3218be2984321342039fda507fdb1aa5f30,https://git.eclipse.org/r/#/c/24681,8,377e00944234bde1d8ddbc455af867e80720d9f8,ed88158859fdfadb081813b25b88ab4d27945190,1,08/04/14,25/04/14,116,Added implementation of copyfile rule.,"Added implementation of copyfile rule.

Change-Id: I83e8a3218be2984321342039fda507fdb1aa5f30
Signed-off-by: Yuxuan 'fishy' Wang <fishywang@google.com>",0,1,1,1,0,0,1,1,1
24886,I32261bc8dc1877a853b49e0da0a6e78921791812,https://git.eclipse.org/r/#/c/24886,1,d985840f1a3bb8aaf1aae114d62e4cbc0ca38025,54f232319c11dc420875d673fbb95d32e5d83cf3,1,11/04/14,14/04/14,60,Make ArchiveFormats final and implement equals(),"Make ArchiveFormats final and implement equals()

This should make it easier to modify ArchiveCommand to allow an
archive format to be registered twice while still noticing if
different callers try to register different implementations for
the same format.

Change-Id: I32261bc8dc1877a853b49e0da0a6e78921791812
Signed-off-by: Jonathan Nieder <jrn@google.com>",0,0,1,0,0,0,1,0,0
24887,Icb80a446e583961a7278b707d572d6fe456c372c,https://git.eclipse.org/r/#/c/24887,5,54f232319c11dc420875d673fbb95d32e5d83cf3,f7f094bf94857b51a5411bd9e0adf00cd5017dcd,1,11/04/14,16/04/14,111,Allow ArchiveCommand.registerFormat to be called twice,"Allow ArchiveCommand.registerFormat to be called twice

Still to do: tweak javadoc and error messages, add tests

Signed-off-by: Jonathan Nieder <jrn@google.com>
Change-Id: Icb80a446e583961a7278b707d572d6fe456c372c",0,1,1,0,0,0,1,0,0
24916,I369059597608022948009ea7708cc8190f05a8d3,https://git.eclipse.org/r/#/c/24916,6,a1ef6aec2403a670feee767ffcd9891d552e7af7,018cbb1a4e0e7f04b1878833b11c0857080453dd,1,13/04/14,18/04/14,166,Blame correctly in the presence of conflicting merges,"Blame correctly in the presence of conflicting merges

Problem:
The BlameGenerator used the RevFlag SEEN to mark commits it had already
looked at (but not necessarily processed), to prevent processing a
commit multiple times. If a commit is a conflicting merge that
contains lines of the merge base, that have been deleted in its first
parent, either these lines or the lines untouched since the merge base
would not be blamed properly.

This happens e.g. if a file is modified on a main branch in an
earlier commit M and on a side branch in a later commit S. For this
example, M deletes some lines relative to the common base commit B, and
S modifies a subset of these lines, leaving some other of these lines
untouched,

Then side is merged into main, creating a conflict for these lines. The
merge resolution shall carry over some unmodified lines from B that
would otherwise be deleted by M. The route to blame these lines is via S
to B. They can't be blamed via M, as they don't exist there anymore.

Blaming the merged file first blames via S, because that is the later
commit. Doing so, it also looks at B to blame the unmodified lines of B
carried over by S into the merge result. In the course of this, B is
submitted for later processing and marked SEEN.

Later M is blamed. It notices that its parent commit B has been SEEN and
aborts processing for M. B is blamed after that, but only for the lines
that survived via S.

As a result, only the lines contributed by S or by B via S are
blamed. All the other lines that were unchanges by both M and S, which
should have been blamed to B via M, are not blamed.

Solution:
Don't abort processing when encountering a SEEN commit. Rather add the
new region list of lines to be blamed to those of the already SEEN and
enqueued commit's region list. This way when the B commit of the
above example is processed, it will blame both the lines of M and S,
yielding a complete blame result.

BlameGenerator.push(Candidate) now also looks at the ancestor
relationship if candidates have the same commit time. This ensures that
children are pop()-ed before their parents.

Bug: 374382
Change-Id: I369059597608022948009ea7708cc8190f05a8d3
Signed-off-by: Konrad Kgler <swamblumat-eclipsebugs@yahoo.de>",0,1,1,0,0,0,1,0,0
24921,I8a44028d8c48ddd1b9d2f9ef4af4d417c5454881,https://git.eclipse.org/r/#/c/24921,2,4692e1c55c8a0c95c3c97200d81f6a3e4b5848f2,2da0d4d5c5c80ba47afe6a7b2a0e18f64196edea,1,13/04/14,13/04/14,482,Update Software User Agreement,"Update Software User Agreement

Bug: 431255
Change-Id: I8a44028d8c48ddd1b9d2f9ef4af4d417c5454881",1,0,0,0,0,0,1,0,0
24923,I1b9fa34c3d70be226bb1c59c9ebe995998d29bc8,https://git.eclipse.org/r/#/c/24923,1,632402a92ecc978c98d5275758d6d7ef9f8bd4f0,1271fbe3a3f8a80a9fe7d914af4a3af80b55d285,1,13/04/14,13/04/14,4,Ensure that stored credentials aren't reset too early,"Ensure that stored credentials aren't reset too early

Some commands are started without showing a dialog allowing to enter
credentials if needed. Hence we need to tolerate one failing HTTP
authentication to trigger loading credentials from the secure store.
Hence we should not immediately reset the stored credentials if the
first attempt to authenticate fails.

Bug: 431209
Change-Id: I1b9fa34c3d70be226bb1c59c9ebe995998d29bc8
Signed-off-by: Matthias Sohn <matthias.sohn@sap.com>",1,0,0,0,0,0,1,0,0
24924,Idcd57e12f5fe905952be49edb4f82db6b7ed469f,https://git.eclipse.org/r/#/c/24924,1,48b9377ead5a6192551ab039eee59e6f5be9ebd9,1f022cf2d2db13aa7c3c3410868311ed70c2043e,0,13/04/14,13/04/14,0,Merge branch 'stable-3.3',"Merge branch 'stable-3.3'

* stable-3.3:
  Ensure that stored credentials aren't reset too early

Change-Id: Idcd57e12f5fe905952be49edb4f82db6b7ed469f
Signed-off-by: Matthias Sohn <matthias.sohn@sap.com>",1,0,0,0,0,0,1,NA,NA
25239,I5f7c4855769ee9dcba973389df9e109005dcdb5b,https://git.eclipse.org/r/#/c/25239,3,e7e7e6b33b09d63017446125f27d701a36bc2208,753ac8201f6460986f6f001b1613418ed57f2c09,1,17/04/14,18/04/14,32,blame: Automatically increase commit abbreviation length,"blame: Automatically increase commit abbreviation length

Ensure commit object names are unique by extending the default
abbreviation as long as necessary. This allows `jgit blame` to
more closely match the formatted output of `git blame` on large
histories like Gerrit Code Review's ReceiveCommits.java file.

Change-Id: I5f7c4855769ee9dcba973389df9e109005dcdb5b",0,0,0,0,0,0,0,1,1
25243,I9fb25229ebed857469427bfbdf74aedebfddfac8,https://git.eclipse.org/r/#/c/25243,2,8ee02647b54ab5e80b8199481375ae956f0e03dc,2fc3d60cfa9e588371fb84939404bfd1e4f55dc9,1,17/04/14,18/04/14,18,blame: Micro optimize blob lookup in tree,"blame: Micro optimize blob lookup in tree

Avoid converting the raw mode to FileMode. This is an expensive
if-else-if sort of test to just check if the thing is a blob.
Instead test the bit mask directly, which is at least a few
instructions shorter.

The TreeWalk is already recursive and will auto-dive into any
subtrees found. isSubtree check is unnecessary, as is the loop,
as only one result will ever be returned by next().

Change-Id: I9fb25229ebed857469427bfbdf74aedebfddfac8",0,0,0,0,0,0,0,0,0
25244,Ib16d684df7ffa034ee28def3fb22c797998d5b7b,https://git.eclipse.org/r/#/c/25244,2,aa1e20ea5d6a3c2f3b321dffb9675315fd122371,ef5fe10b1d4d70c6d649d88b277916e806d0dc6f,1,17/04/14,18/04/14,77,blame: Reduce running time ~4.5% by skipping common subtrees,"blame: Reduce running time ~4.5% by skipping common subtrees

With this commit running blame on render_view_impl.cc[1] saves
about 644 ms over prior versions, reducing the time about 4.5%.

Large projects often contain strands of commits where no changes
are made to a particular subtree. Blame used to dive recursively
into these subtrees to look for the blob and check if its SHA-1
was changed. In chromium/src[1] only 20% of the commits modify
the content/renderer subtree relevant for the file.

The recursivePath is necessary to check for '/' and remember
if common subtree elimination should be attempted. When a file
lives within a subtree the extra cost to check for unmodified
subtrees saves time. However for files in the root tree the
extra work incurred by TreeWalk is not worthwhile and would
significantly increase overall running time.

Now typical running times from an otherwise idle desktop:

  real	0m13.387s  0m13.341s  0m13.443s
  user	0m15.410s  0m15.220s  0m15.350s

previously:

  real	0m14.085s  0m14.049s  0m13.968s
  user	0m15.730s  0m15.820s  0m15.770s

[1] https://chromium.googlesource.com/chromium/src/+show/34d6e5c5b4248b1b199405af7ad00f961921f347/content/renderer/render_view_impl.cc

Change-Id: Ib16d684df7ffa034ee28def3fb22c797998d5b7b",0,0,0,0,0,0,0,1,1
25245,I1d7e40156d0b6e30bd5f3a40f18c836b7d1ba78f,https://git.eclipse.org/r/#/c/25245,2,fce8ad7fffe928bfe917a23ec5935ae0527aef1f,05dc7cd915782ddf56730a427c51387acce8610f,1,17/04/14,18/04/14,118,JGit v3.3.2.201404171712-r,"JGit v3.3.2.201404171712-r

Change-Id: I1d7e40156d0b6e30bd5f3a40f18c836b7d1ba78f
Signed-off-by: Matthias Sohn <matthias.sohn@sap.com>",1,0,0,1,0,0,1,0,0
25246,Ic629ccae1d89c9070e4ec80420a0e2ed7d403922,https://git.eclipse.org/r/#/c/25246,1,dfac9bc70aa5ab7d73087b8252e0a98e7a590b1b,416dcd083d340f0622ba2ab313e0969cd7393d13,0,17/04/14,17/04/14,1,Fix version.sh to update Eclipse-SourceBundle version,"Fix version.sh to update Eclipse-SourceBundle version

The version attribute of Eclipse-SourceBundle must match
the bundle version.

Change-Id: Ic629ccae1d89c9070e4ec80420a0e2ed7d403922
Signed-off-by: Matthias Sohn <matthias.sohn@sap.com>",1,0,0,0,0,0,1,NA,NA
25269,Ic4f5d5c73f18775ca4449bb79d46e3b807a46ab2,https://git.eclipse.org/r/#/c/25269,1,fca87432ec936b69128b8ae4affc4253a03d6da4,21dbb87116eea75b0a44762af425dd891388f03b,1,18/04/14,18/04/14,226,Merge branch 'stable-3.3',"Merge branch 'stable-3.3'

* stable-3.3:
  JGit v3.3.2.201404171909-r
  Fix version.sh to update Eclipse-SourceBundle version

Change-Id: Ic4f5d5c73f18775ca4449bb79d46e3b807a46ab2
Signed-off-by: Matthias Sohn <matthias.sohn@sap.com>",1,0,0,0,0,0,1,0,0
25285,Ia4df9808294d2069dcc5973bcb69b4499c7dcacd,https://git.eclipse.org/r/#/c/25285,5,b5303591ea2f2990e8c6eec54fe1bb98cf1c55b1,6f4f6f980455c4b417d52d461dda73a7a7db8e33,1,18/04/14,25/04/14,21,Also commit the changes generated in repo command.,"Also commit the changes generated in repo command.

Change-Id: Ia4df9808294d2069dcc5973bcb69b4499c7dcacd
Signed-off-by: Yuxuan 'fishy' Wang <fishywang@google.com>",0,1,1,1,0,0,1,0,0
25286,I483c40e8790cc3e8b322ef6dfce2299491fd0ac7,https://git.eclipse.org/r/#/c/25286,4,e4b71bc3965097749e3c37fc3a43214e14cae9e8,2a7769dd7d5a78fb196faf6c0cb40850bfee3cd0,1,18/04/14,18/04/14,8,diff: Optimize single line edits,"diff: Optimize single line edits

If the header and trailer are identical up to a single line on either
side, return that REPLACE edit as the only result.  No algorithm can
break down a REPLACE with height of 1 element on either side.

Change-Id: I483c40e8790cc3e8b322ef6dfce2299491fd0ac7",0,1,0,0,0,0,1,1,1
25293,I47209377fb8fcef0346d7678f1ab27f4790b49bc,https://git.eclipse.org/r/#/c/25293,1,e7243e43f13f76a0f56ac94390e7547ce57bba14,f391f65b8df60d320e89af37fe01e27dc6e787e3,1,18/04/14,18/04/14,11,Expose ReceiveCommand version of TrackingRefUpdate,"Expose ReceiveCommand version of TrackingRefUpdate

If the caller uses a BatchRefUpdate to execute these (e.g. fetch)
there may be more detailed status information inside of the command
that was used to execute it. Allow the caller to obtain that status
data from the ReceiveCommand version of the TrackingRefUpdate.

Change-Id: I47209377fb8fcef0346d7678f1ab27f4790b49bc",0,0,0,0,0,0,0,0,0
25307,I55b16e43aa96fc81c1197121032f5cdd901d412c,https://git.eclipse.org/r/#/c/25307,2,f391f65b8df60d320e89af37fe01e27dc6e787e3,58911779ad203b6c5bfb4b2cd587d2889ff5e628,0,20/04/14,22/04/14,2,pgm: Flush stdout and stderr during shutdown,"pgm: Flush stdout and stderr during shutdown

If an error occurs in command line option parsing the error message
may be stuck in a Java level buffer.  Flush the streams to ensure
everything is made available to the calling process or terminal.

Change-Id: I55b16e43aa96fc81c1197121032f5cdd901d412c",0,0,0,0,0,0,0,NA,NA
25308,I8b2dbf635e875cc125443dac50be121208646540,https://git.eclipse.org/r/#/c/25308,2,91ec0f0690b4a37ad184bf7d1b3cb9d5a5567ebc,d532fe091af46ee3b78f4b481e4ba1a29f3a5b74,1,20/04/14,22/04/14,4,blame: Only use computeRange if -L was requested,"blame: Only use computeRange if -L was requested

The computeRange method is inefficient for computing the entire file.
If the entire file was selected ask for the entire file.

Change-Id: I8b2dbf635e875cc125443dac50be121208646540",0,0,0,0,0,0,0,1,1
25309,Ie42787d77c8d0cbca7ccbf59c795120494a2a891,https://git.eclipse.org/r/#/c/25309,2,1ca6a77b4e87effec2046fcc3c0acb61208b0f20,6aec0fb67d82b236f6e21f649aef1aca155167c6,1,20/04/14,23/04/14,36,blame: Format commit and author only once per range,"blame: Format commit and author only once per range

When a commit is blamed for multiple lines of the result file the
command line interface prints the same text before each line in that
span.  Format these strings once and reuse them as the line prefix.

For long files (e.g. 2425 lines of ReceiveCommits.java in Gerrit)
this can save as much as 20ms during the output phase of the command
line blame program.

Aside from running slightly faster, removing the map simplifies the
logic and may improve maintainability of the formatting logic.

Change-Id: Ie42787d77c8d0cbca7ccbf59c795120494a2a891",0,0,1,0,0,0,1,0,0
25310,I2cda031b59220ab603ef82050e741ecbbaa1953f,https://git.eclipse.org/r/#/c/25310,2,01403e68301fbb9789d0f052a274dfeec6c41c0d,35c1797d6939b41bde32d202cfd61e22c00974bb,1,20/04/14,22/04/14,45,blame: Do not update candidate regionList during output,"blame: Do not update candidate regionList during output

Instead of updating the candidate's regionList field to iterate
through the linked list of regions, use a special purpose field
in the BlameGenerator. This allows the candidate to be unmodified.

Change-Id: I2cda031b59220ab603ef82050e741ecbbaa1953f",0,0,0,0,0,0,0,0,0
25311,I3fa19b8676dfd3c177583f8f42593b5000b5350d,https://git.eclipse.org/r/#/c/25311,2,f7ec0c3575c533c83603d4508167d773c1a01898,af7171011b2bddd21c3f3ecc235947650aa36654,1,20/04/14,22/04/14,14,blame: Allow candidate to manage its setup before output,"blame: Allow candidate to manage its setup before output

Pass in the RevWalk and let the candidate decide how to prepare itself
for output. This removes the conditional for the missing sourceCommit,
as candidates missing a commit can override the method with a no-op.

Change-Id: I3fa19b8676dfd3c177583f8f42593b5000b5350d",0,0,0,0,0,0,0,0,0
25313,I8bcab44785fe08bbf3519c634e57ebfea8d3f0f9,https://git.eclipse.org/r/#/c/25313,2,df68b9fc8b9f03e633bb925fe1da37d5f77d8e69,067bbdbd4f5c5d625bef3e16a71fba8ae9098d57,1,20/04/14,22/04/14,3,blame: Remove unnecessary curly braces around single statement if,"blame: Remove unnecessary curly braces around single statement if

Change-Id: I8bcab44785fe08bbf3519c634e57ebfea8d3f0f9",0,0,0,1,0,0,1,0,0
25314,Icb1d49e53d14b599efc478990613625a9e058e09,https://git.eclipse.org/r/#/c/25314,2,6ea0b7e6dd5afe42184f7e28d4234f5eb9cbd169,aea7a106e451a6b4c3021624bdd87a9d14c48e9a,1,20/04/14,22/04/14,4,blame: Reuse existing blameEntireRegionOnParent method,"blame: Reuse existing blameEntireRegionOnParent method

Skipping directly to the parent is already possible with an existing
helper method. Update the source path (to follow the rename) and then
use the existing code path to push the parent inside the current entry.

Change-Id: Icb1d49e53d14b599efc478990613625a9e058e09",0,0,0,0,0,0,0,0,0
25449,Idc12f59e37b122f13856d7b533a5af9d8867a8a5,https://git.eclipse.org/r/#/c/25449,4,fe28856ee2d7b3114c614eb6e20feaf8f483a2fc,09412b28bfae747872a9b80ac06a258b1f36e64c,1,24/04/14,24/04/14,1073,Remove streaming delta support from JGit,"Remove streaming delta support from JGit

Streaming packed deltas is so slow that it never feasibly completes
(it will take hours for it to stream a few hundred megabytes on
relatively fast systems with a large amount of storage).  This
was indicated as a ""failed experiment"" by Shawn in the following
mailing list post:
http://dev.eclipse.org/mhonarc/lists/jgit-dev/msg01674.html

Change-Id: Idc12f59e37b122f13856d7b533a5af9d8867a8a5
Signed-off-by: Doug Kelly <dougk.ff7@gmail.com>",0,1,0,0,1,0,1,-2,0
25523,I980c4f4003f2a48c71b9b47c51e640d1e7742f58,https://git.eclipse.org/r/#/c/25523,2,692b668c4509ef3f72a0a6a2319085aeb6a66c44,688cf40354c1a118ee642a73c16099341639fbdd,1,24/04/14,25/04/14,3,Automatically reload known_hosts file,"Automatically reload known_hosts file

JGit caches the contents of the known_hosts file within JSch when
first started, and never attempts to re-read it.  If the contents
change (such as when using Gerrit replication), the new host will
never be found.

Change-Id: I980c4f4003f2a48c71b9b47c51e640d1e7742f58
Signed-off-by: Doug Kelly <dougk.ff7@gmail.com>",0,0,0,0,0,0,0,0,0
25591,Icc1fdc29f15d734d488e49c9c37a18f5ac937903,https://git.eclipse.org/r/#/c/25591,2,e1c37a8329678591c2073a9269337881a2605ee4,1759f9e696902b26e8760877a974954d3df3ec5b,0,25/04/14,25/04/14,38,"Making ArchiveFormats breaks the API, but that's ok","Making ArchiveFormats breaks the API, but that's ok

Add compatibility filters to hide the breakage.

Change-Id: Icc1fdc29f15d734d488e49c9c37a18f5ac937903",0,0,0,0,0,0,0,NA,NA
25592,I549b934b86753acc362364c8986bfe6457affd12,https://git.eclipse.org/r/#/c/25592,2,a466f1a7887355082b6e619ad1ceef97f08c3b84,2931fe0398c620328f62a13396748ffbc4566073,1,25/04/14,25/04/14,4,cleanup: remove some unused imports,"cleanup: remove some unused imports

Change-Id: I549b934b86753acc362364c8986bfe6457affd12",0,0,0,1,0,0,1,0,0
25603,Ib6b2403532f4abbce594a03c0b9da49d30b19f70,https://git.eclipse.org/r/#/c/25603,3,c78d4f18351f6aa95c4da8a8874edf0b1c7d064b,c4c4422fa1a5766988cdbbf17988f58a71e0bf4b,1,26/04/14,27/04/14,89,Add methods to Repository to handle remote names,"Add methods to Repository to handle remote names

Instead of requiring the caller to know how to list remote
names or parse remote branch names, add a few utilities for
that.

Change-Id: Ib6b2403532f4abbce594a03c0b9da49d30b19f70
Signed-off-by: Robin Rosenberg <robin.rosenberg@dewire.com>",0,0,0,0,0,0,0,0,0
25604,I2515a6ed05f9104c387ce4e43b24dae942ae2473,https://git.eclipse.org/r/#/c/25604,4,8d4ba819d2dfd1ac5e019e95b21eadda71823893,9abbff7a0178c63b5eb58b1fe2cfe8a21b5b856c,0,26/04/14,27/04/14,11,Fix ArrayIndexOutOfBoundsException in CreateBranchCommand,"Fix ArrayIndexOutOfBoundsException in CreateBranchCommand

If remote name contains / or there was a branch directly under the
refs/remotes namespace (wrong) the compution of remote name and sugested
local branch name would fail. Fix this by looking at the configured
remotes. A ref under refs/remotes that does not match a remote
configuration is not considered a remote tracking branch anymore.

This patch does not fix all similar errors in EGit/JGit.
Bug: 411002
Bug: 400414

Change-Id: I2515a6ed05f9104c387ce4e43b24dae942ae2473",0,1,0,0,0,0,1,NA,NA
25606,Ifd7dd86e3848eb7a522ba5c49d5c216777484f3b,https://git.eclipse.org/r/#/c/25606,1,3d995267990d1244bffed5b81c3ae1814de2d8bc,d409479c14e49b5aa28c6d35f522d502d2364eef,1,26/04/14,26/04/14,4,Fix BlameResult.computeRange JavaDoc to exclude end index,"Fix BlameResult.computeRange JavaDoc to exclude end index

Change-Id: Ifd7dd86e3848eb7a522ba5c49d5c216777484f3b
Signed-off-by: Konrad Kgler <swamblumat-eclipsebugs@yahoo.de>",0,0,0,1,0,0,1,0,0
25612,Ic6d5fff22acb5ab6485614a07bdb388e8c336679,https://git.eclipse.org/r/#/c/25612,3,183492d88fb34c47bf96224a3f85ce3389b26ce0,5169c4dacdddcbb084b7f0f5346e7a44d0bca66e,1,26/04/14,19/05/14,45,"blame: Revert common subtree elimination ""optimization""","blame: Revert common subtree elimination ""optimization""

This partially reverts 6de12836d72fe4cba9afc297c8988c6fff851fa9.

Performing a TreeWalk over 2 trees to identify and skip unmodified
subtrees to pass all blame onto an ancestor appears to be a micro
optimization that works for a very limited number of files.  In the
general case the 2 tree walk is slowing down blame more than it helps
to speed it up.

I keep coming up with files in multiple repositories where 6de128 is
making things worse, not better, and very only one example where it
actually improved time, render_view_impl.cc in chromium as described
in the commit message.

Change-Id: Ic6d5fff22acb5ab6485614a07bdb388e8c336679",0,0,0,0,0,0,0,-1,0
25627,I7af151d8a84544a77a486474c8ac71dd80090c66,https://git.eclipse.org/r/#/c/25627,3,0917a78c435b1d40a3a50dbb3170eace7110b1ea,3dfa53e13b8844d753778e898cf4139d5b19defd,1,27/04/14,03/05/14,18,PlotLane: Use identity hashCode and equals,"PlotLane: Use identity hashCode and equals

Using the lane position and other data for equals/hashCode is not
useful.

Change-Id: I7af151d8a84544a77a486474c8ac71dd80090c66
Signed-off-by: Konrad Kgler <swamblumat-eclipsebugs@yahoo.de>",0,0,0,0,0,0,0,0,0
25629,Iaf02502b02b2420c059f04bbe09254941301c727,https://git.eclipse.org/r/#/c/25629,2,43facf5dd243292c21829b153833645442f9d0be,9d2c288e670763d32450dd75e18270ccc5c53119,1,27/04/14,03/05/14,6,AbstractPlotRenderer: Make private methods static where applicable,"AbstractPlotRenderer: Make private methods static where applicable

Change-Id: Iaf02502b02b2420c059f04bbe09254941301c727
Signed-off-by: Konrad Kgler <swamblumat-eclipsebugs@yahoo.de>",0,0,0,1,0,0,1,0,0
25633,Icd019fcf7974441ed05686bb61d6de4e8bf4ab7c,https://git.eclipse.org/r/#/c/25633,4,5f051eab5189089c639060ca9a590547a3232a96,07952f710a95696c3db33bce6fd7a05d5aba138e,1,27/04/14,22/05/14,59,PlotCommitList: Refactor lane creation and position allocation,"PlotCommitList: Refactor lane creation and position allocation

This also properly removes the newly determinded lane position from the
freePositions set in handleBlockedLanes().

Change-Id: Icd019fcf7974441ed05686bb61d6de4e8bf4ab7c
Signed-off-by: Konrad Kgler <swamblumat-eclipsebugs@yahoo.de>",0,1,0,0,0,0,1,-1,0
25753,Ibe547aa24b5948ae264f7d0f56a492a4ef335608,https://git.eclipse.org/r/#/c/25753,5,e485f05c0cf11af7d6c0081c81896b3538561cd2,a37cad55dfb2ba5ee92740990d009d6864708b7b,1,29/04/14,22/05/14,761,[RFC] Improve layout of branches in the commit graph,"[RFC] Improve layout of branches in the commit graph

<RFC>
 I'd like to hear your feedback on the commit graph layouts plotted by
this change (e.g. in EGIt's History view). If it is well received, I
will further split up this commit for easier review.
</RFC>

The aim of this change is to place all commits of a branch on the same
lane and commits of other (side) branches on different lanes.

The algorithm treats first parents of a commit specially by placing them
on the same lane as the commit itself. When a commit is the first parent
of multiple children it could be placed on any of these childrens'
lanes. In this case it is placed on the longest child lane, as this is
usually the lane of the branch the commit actually was made on.

Other (non-first) parents are placed on new lanes. This creates a layout
that should make it easier to see branches and merges and follow linear
branch histories.
This differs from the previous approach, which sometimes plotted the
commits of a branch on the same lane as the base branch commits
and further commits on the base branch appeared on a different lane.
This made the base branch appear as if it was the side branch and
the side branch appear to be the base branch.

In addition to lane assignment, also the plotting code changed to start
drawing a branch lane from the commit where it forks out. Previously it
started only when the first commit on the branch appeared.

Bug: 419359
Change-Id: Ibe547aa24b5948ae264f7d0f56a492a4ef335608
Signed-off-by: Konrad Kgler <swamblumat-eclipsebugs@yahoo.de>",0,1,0,0,1,0,1,2,1
25905,I43c9caf2078b92b05e652dbed2192568907bf199,https://git.eclipse.org/r/#/c/25905,3,42d5407128114f832575e4ef1a367ce456ba5e83,e7dda277bf234e0bc8ce80ff4dcd1cdd920817bf,1,03/05/14,04/05/14,36,"blame: Fix merges, where merge results differs only by whitespace","blame: Fix merges, where merge results differs only by whitespace

When blaming a merge commit with ""Ignore whitespace changes"" enabled,
don't discard blame candidates for other parents when we encounter a
parent that only has whitespace changes compared to the merge result.

The algorithm early prepares parents for blaming, removing the
appropriate blame regions from the list of regions still to blame. Only
at the end, the prepared blame candidates are submitted for blaming.

When looking at a non-first parent, which only differs in whitespace to
the merge result, it submitted that parent, but only to blame for the
(usually few) lines not already blamed on other parents. Due to an early
return, the blame candidates for the previous parents were forgotten,
leaving many lines unannotated.

bug: 433024
Change-Id: I43c9caf2078b92b05e652dbed2192568907bf199
Signed-off-by: Konrad Kgler <swamblumat-eclipsebugs@yahoo.de>",0,0,0,0,0,0,0,0,0
25920,I9a19d5584deef970cc00a7b58beae84d55b20ddf,https://git.eclipse.org/r/#/c/25920,1,dc98aa629a1e20bd731cd9177f66b5612c21dd80,a33e38f914d5ad2c4d647eff7eb54e9d13323d7b,0,04/05/14,04/05/14,10,Update 4.4 target to use Luna M7 orbit repository,"Update 4.4 target to use Luna M7 orbit repository

Change-Id: I9a19d5584deef970cc00a7b58beae84d55b20ddf
Signed-off-by: Matthias Sohn <matthias.sohn@sap.com>",1,0,0,1,0,0,1,NA,NA
25996,I8d941d22becdf019199a1c0fe28aa5835038647d,https://git.eclipse.org/r/#/c/25996,1,38772eb1a666e07f1c8f8616ecc914b6f3f2e0a4,3c54b8e07ea570aca7bf84f891da96a57a93a21c,1,05/05/14,05/05/14,118,JGit v3.4.0.201405051725-m7,"JGit v3.4.0.201405051725-m7

Change-Id: I8d941d22becdf019199a1c0fe28aa5835038647d
Signed-off-by: Matthias Sohn <matthias.sohn@sap.com>",1,0,0,1,0,0,1,0,0
25997,I5cf20c875c3e92e12c2b22465774ba42513b9add,https://git.eclipse.org/r/#/c/25997,1,3c54b8e07ea570aca7bf84f891da96a57a93a21c,1e3694ce46b356f5b249385f6b08bd34b55159b8,1,05/05/14,05/05/14,118,Prepare 3.4.0-SNAPSHOT builds,"Prepare 3.4.0-SNAPSHOT builds

Change-Id: I5cf20c875c3e92e12c2b22465774ba42513b9add
Signed-off-by: Matthias Sohn <matthias.sohn@sap.com>",1,0,0,1,0,0,1,0,0
25998,Idb55a303304a6d4055aaf37d0b4dcf92c684e25f,https://git.eclipse.org/r/#/c/25998,2,1e3694ce46b356f5b249385f6b08bd34b55159b8,9699f8c85c6d67686e79a7a07ab0855942ca7f93,1,05/05/14,06/05/14,6,RevWalkTextBuiltin: Add -n to limit number of commits returned,"RevWalkTextBuiltin: Add -n to limit number of commits returned

Implementing the -<#> flag from C git is less trivial.

Change-Id: Idb55a303304a6d4055aaf37d0b4dcf92c684e25f",0,0,0,0,0,1,1,0,0
25999,I1f38e05526071c75ca58095e312663de5e6f334d,https://git.eclipse.org/r/#/c/25999,3,71991afa8da8eb160871d24270ea9f11895e3905,35fa2a195724bcc21676bfa7ab7504c065177e31,1,05/05/14,06/05/14,127,RevWalk: Allow disabling parent rewriting,"RevWalk: Allow disabling parent rewriting

Previously, setting any TreeFilter on a RevWalk triggered parent
rewriting, which in the current StartGenerator implementation ends up
buffering the entire commit history in memory. Aside from causing poor
performance on large histories, This does not match the default
behavior of `git rev-list`, which does not rewrite parent SHAs unless
asked to via --parents/--children.

Add a new method setRewriteParents() to RevWalk to disable this
behavior. Continue rewriting parents by default to maintain backwards
compatibility.

Change-Id: I1f38e05526071c75ca58095e312663de5e6f334d",0,0,0,0,0,1,1,0,0
26000,I9ba0e70fe6d5f49f975b71eea46f93198900f37d,https://git.eclipse.org/r/#/c/26000,3,d6efe30d714a3cd6fa73a5a95d95a54e92c1025d,de61bfa13c895180750c563b22e38647df0dc091,1,05/05/14,06/05/14,12,Do not rewrite parents in RevWalkTextBuiltins,"Do not rewrite parents in RevWalkTextBuiltins

Default behavior of C git is to skip parent rewriting unless
particular history simplification or --parents flags are passed. Since
JGit has no such flags, JGit should not rewrite parents.

Change-Id: I9ba0e70fe6d5f49f975b71eea46f93198900f37d",0,0,0,0,0,1,1,0,0
26074,Id028a7bc9600baf0f3e2316a1f4b99e53ccc746a,https://git.eclipse.org/r/#/c/26074,3,65b521beaa5c5adaab24f3e3937a19ce1055859e,2dd58787c823a92afb29c2d2b38030288ec21aea,1,06/05/14,10/05/14,260,Handle repo submodules for bare repositories.,"Handle repo submodules for bare repositories.

Change-Id: Id028a7bc9600baf0f3e2316a1f4b99e53ccc746a
Signed-off-by: Yuxuan 'fishy' Wang <fishywang@google.com>",0,0,1,1,0,0,1,2,1
26076,I77fe073aeb13c58029551b7d6e1451a9b62dc766,https://git.eclipse.org/r/#/c/26076,6,5e95ef0d317b091d701003b5bffd853479fdbbf3,7fe323a6587d47e4524fab24654bc7bb8ed46878,1,06/05/14,10/05/14,251,Handle the revision attribute in repo manifest.,"Handle the revision attribute in repo manifest.

Change-Id: I77fe073aeb13c58029551b7d6e1451a9b62dc766
Signed-off-by: Yuxuan 'fishy' Wang <fishywang@google.com>",0,1,1,1,0,0,1,1,1
26112,Ie4e028038f5a1d3e18b0be06c3d2ea82e7f9068d,https://git.eclipse.org/r/#/c/26112,1,d3f7e7bd90331bb2be80c412dd0990b6136e0df9,415a709e8354a86308e85e7c8593748171fb9c6a,1,07/05/14,07/05/14,16,Fix manifests of source bundles,"Fix manifests of source bundles

- don't mark them as singleton to allow coexistence of multiple versions
  in the same installation
- add missing version qualifier to Eclipse-SourceBundle header

see
https://dev.eclipse.org/mhonarc/lists/cross-project-issues-dev/msg10524.html

Change-Id: Ie4e028038f5a1d3e18b0be06c3d2ea82e7f9068d
Signed-off-by: Matthias Sohn <matthias.sohn@sap.com>",1,0,0,0,0,0,1,0,0
26152,Iedcd40fbfd71238b0088174bbe2717fae196e047,https://git.eclipse.org/r/#/c/26152,8,abe0dab51653926b384a6dcd30ab9bb70036f896,033b5b938c01ce8cbfaa21fd3141b4bc483f1521,1,07/05/14,17/05/14,236,"Archive: Add the ability to select one or more paths, instead of the entire repository.","Archive: Add the ability to select one or more paths,
instead of the entire repository.

Change-Id: Iedcd40fbfd71238b0088174bbe2717fae196e047
Signed-off-by: Shaul Zorea <shaulzorea@gmail.com>",0,1,1,1,0,0,1,0,0
26169,Ic78d5b41e057fcd3282e97ac73ed506666f28f88,https://git.eclipse.org/r/#/c/26169,1,676da74187909d432cd0901fd731f81d3e9c2b7a,c78c1f7ac76264990c1d81af6135e0a879a95c0c,1,07/05/14,12/05/14,3,LsTree: quote paths in output,"LsTree: quote paths in output

Change-Id: Ic78d5b41e057fcd3282e97ac73ed506666f28f88",0,0,1,1,0,0,1,0,0
26195,Ie06f0c3d1bc9b2123102efaa5542ec3c232b72cd,https://git.eclipse.org/r/#/c/26195,5,f512ea85aeb854aaeb1b8272ce14bc8d7a8f6b34,1c1d6ddb4982f583cf54761f1fe9a9f3cc2bb2c1,1,08/05/14,10/05/14,180,Handle repo copyfile in bare repositories.,"Handle repo copyfile in bare repositories.

Change-Id: Ie06f0c3d1bc9b2123102efaa5542ec3c232b72cd
Signed-off-by: Yuxuan 'fishy' Wang <fishywang@google.com>",0,1,0,1,0,0,1,-1,0
26212,I2af784deb0c2320bb57bc4fd472a8daad8674e7d,https://git.eclipse.org/r/#/c/26212,3,59260f1d03ebab9598f76683c532a43922a04371,64c047397d8a471c9f7dd3768813f108e0878d73,1,08/05/14,22/05/14,313,Allow to include untracked files in stash operations.,"Allow to include untracked files in stash operations.

Bug: 434411

Change-Id: I2af784deb0c2320bb57bc4fd472a8daad8674e7d
Signed-off-by: Andreas Hermann <a.v.hermann@gmail.com>",0,0,1,0,0,0,1,2,1
26341,I587aae0ad217ed092f061682ffa66c724f221096,https://git.eclipse.org/r/#/c/26341,2,228fa3b5e759c86cefabdedf3922eea039e88681,308b848996ad93a64c7ed276c16c1c1aa36474a5,1,11/05/14,11/05/14,3,fix javadoc errors caused by missing tags for declared exceptions,"fix javadoc errors caused by missing tags for declared exceptions

Change-Id: I587aae0ad217ed092f061682ffa66c724f221096
Signed-off-by: Tomasz Zarna <tomasz.zarna@tasktop.com>",0,0,0,1,0,0,1,0,0
26422,Ib8c2cf78f2b26ca2b97754fe91fdb20b30392415,https://git.eclipse.org/r/#/c/26422,2,c2b72da622a17dadb258dbaab9cc9149a22aa76f,c17be7b7ca7e410646ee9e3117f742a5ef8e7cba,1,13/05/14,13/05/14,4,Fix wrong Exception messages,"Fix wrong Exception messages

In two places we threw an IOException and the message was build with 
JGitText.couldNotWriteFile. We specified 2 parameters, but this pattern
expects only one parameter. In both places we tried to rename a file,
that's why we wanted two parameters (src and target) for the exception
text.

I changed it to use JGitText.renameFileFailed which accepts two
parameters and fit's better.

Change-Id: Ib8c2cf78f2b26ca2b97754fe91fdb20b30392415",0,0,0,0,0,1,1,0,0
26699,I1844ccbf8d35442d7a8918b57b67eb9b9efd6352,https://git.eclipse.org/r/#/c/26699,1,c17be7b7ca7e410646ee9e3117f742a5ef8e7cba,9bf8cf35ad895d658b60201b273f1c562da08fa5,1,16/05/14,16/05/14,3,"Rebase: Write an empty ""quiet"" file to make C Git happy","Rebase: Write an empty ""quiet"" file to make C Git happy

C git tries to read this file from the rebase state directory and
complains about it not being there for rebases started by JGit. An empty
'quiet' file represents the (verbose) default.

Change-Id: I1844ccbf8d35442d7a8918b57b67eb9b9efd6352
Signed-off-by: Konrad Kgler <swamblumat-eclipsebugs@yahoo.de>",0,0,0,0,0,0,0,0,0
26765,I391cb73bf8f49e2df61428c17b40fae8c86a8b76,https://git.eclipse.org/r/#/c/26765,3,a31c3d77a2c763d94ae0b6cebd365a317b45154f,cbab127b1036578a0726e67a4f6c701c09649cea,1,16/05/14,19/05/14,110,Cherry-Pick: Support --mainline to pick merges,"Cherry-Pick: Support --mainline to pick merges

By specifying a mainline parent, a merge is cherry picked as if this
parent was its only parent. If no mainline parent is given, cherry
picking merges is not allowed, as before.

Change-Id: I391cb73bf8f49e2df61428c17b40fae8c86a8b76
Signed-off-by: Konrad Kgler <swamblumat-eclipsebugs@yahoo.de>",0,0,1,0,0,0,1,0,0
26806,I982adc5c114370ecfd699d96221a76463de900ca,https://git.eclipse.org/r/#/c/26806,3,f147e74aba57db3a79dbde5e8b672013cc129478,1ceb50874bab22995756f928f0c668d383c31b58,1,18/05/14,22/05/14,15,PlotCommitList: Remove handling of children that have no lane yet,"PlotCommitList: Remove handling of children that have no lane yet

Child commits always have a lane assigned when their parents are
processed, so this code is no longer necessary.

Children only assign themselves to parents in
PlotCommitList.setupChildren(), which is called from enter(), when the
child is processed. If the child leaves enter() it should always have a
lane assigned. As a result of this, when processing a parent, all its
known children already have lanes assigned. If the underlying RevWalk
emits a parent before one of its children (which it should not do), the
parent does not know of the child emitted later, because setupChildren()
has not been called for the child yet. So even in this case, no child
without a lane is encountered when processing a (parent) commit.

Change-Id: I982adc5c114370ecfd699d96221a76463de900ca
Signed-off-by: Konrad Kgler <swamblumat-eclipsebugs@yahoo.de>",0,0,1,0,0,0,1,0,0
26992,Ie58a7bc76b740ee52881ebf555564a74379028d6,https://git.eclipse.org/r/#/c/26992,1,be757cf84a2676404ab85f17daddb1ef2a269513,eec2a6388912e55ed13047ec6cf542be84f1aee3,1,21/05/14,24/05/14,3,Fix reading past FileTreeIterator EOF in FileTreeIteratorJava7Test,"Fix reading past FileTreeIterator EOF in FileTreeIteratorJava7Test

Stepping past the '.git' entry with `fti.next(1)` is unnecessary and in
fact a bug, as the subsequent access to FileTreeIterator is past it's
end-of-file - it has only 1 valid entry ('link').

This bug is only visibly exposed in certain environments depending on the
(unguaranteed) return order of `java.io.File.listFiles()`. On my box
FileTreeIteratorJava7Test would fail consistently for these 3 tests:

* testSymlinkActuallyModified
* testSymlinkNotModifiedThoughNormalized
* testSymlinkModifiedNotNormalized

They all failed in the same way:

testSymlinkActuallyModified(org.eclipse.jgit.treewalk.FileTreeIteratorJava7Test)  Time elapsed: 0.063 sec  <<< ERROR!
org.eclipse.jgit.api.errors.JGitInternalException: /home/roberto/development/jgit/org.eclipse.jgit.java7.test/target/jgit_test_9202429389985749040_tmp
/tmp_807992722429349842/.git (Is a directory)
        at java.io.FileInputStream.open(Native Method)
        at java.io.FileInputStream.<init>(FileInputStream.java:146)
        at org.eclipse.jgit.treewalk.FileTreeIterator$FileEntry.openInputStream(FileTreeIterator.java:210)
        at org.eclipse.jgit.treewalk.WorkingTreeIterator.readContentAsNormalizedString(WorkingTreeIterator.java:984)
        at org.eclipse.jgit.treewalk.WorkingTreeIterator.contentCheck(WorkingTreeIterator.java:924)
        at org.eclipse.jgit.treewalk.WorkingTreeIterator.isModified(WorkingTreeIterator.java:860)
        at org.eclipse.jgit.treewalk.WorkingTreeIterator.isModified(WorkingTreeIterator.java:815)
        at org.eclipse.jgit.treewalk.FileTreeIteratorJava7Test.testSymlinkActuallyModified(FileTreeIteratorJava7Test.java:198)

Theses tests are all working with a small repo that has just two entries:
'.git' and 'link' (a symbolic link that's being tested on). `listFiles()`
is called by FileTreeIterator to get a preliminary list of FileEntry
objects:

https://github.com/eclipse/jgit/blob/6d724dcd/org.eclipse.jgit/src/org/eclipse/jgit/treewalk/FileTreeIterator.java#L139

Whether your tests appeared to pass or fail was dependent on the returned
order of files from `listFiles()`:

* ['.git', 'link'] - PASS (Eclipse Hudson appears to get this ordering)
* ['link', '.git'] - FAIL (My env, Ubuntu 14.04/Java 1.7.0_55)

The tree-iterator passes the resulting `FileEntry`s to it's init() method:

https://github.com/eclipse/jgit/blob/6d724dcd/org.eclipse.jgit/src/org/eclipse/jgit/treewalk/WorkingTreeIterator.java#L639-L665

... where a count of valid entries is made (`entryCnt`), the 'invalid'
entries (like'.git') being left in the hinterland of the `entries` array.
The rearrangement in the entries array for our tests looks like this:

* ['.git', 'link'] -> ['link', 'link']
* ['link', '.git'] -> ['link', '.git']

In both cases, `entryCnt` is set to 1, meaning that the _valid_ portion of
the iterator is the same (ie ['link']), but that the portion after EOF,
which we reach by calling `fti.next(1)`, is _different_ depending on your
environment. The entry used by the iterator at that point will be either
'link' (if you're lucky) or '.git', which will blow up the test.

Note that somewhat ironically, the 'self-check' assertions don't catch
this bug, as 'path' data is only parsed _before_ EOF - so
`fti.getEntryPathString()` returns the string ""link"" (and the assertion
passes) regardless of whether you're about to read the '.git' entry or not.

Change-Id: Ie58a7bc76b740ee52881ebf555564a74379028d6
Signed-off-by: Roberto Tyley <roberto.tyley@gmail.com>",0,0,1,0,0,0,1,0,0
27049,I1d5960e84bca5aa2a4e86f424d2ddd4197894cdc,https://git.eclipse.org/r/#/c/27049,4,5c0009b99719d4d767b19b2814c5e487af0d406c,438ff167669c2b778994407f05f6a82c1a979349,1,21/05/14,27/05/14,206,Add oldPath parameter to RepoCommand API.,"Add oldPath parameter to RepoCommand API.

This is for updating the repo manifest (instead of add a new manifest). It's
only available for bare repositories for now as remove submodules with working
tree is dangerous and we don't really need that.

Change-Id: I1d5960e84bca5aa2a4e86f424d2ddd4197894cdc
Signed-off-by: Yuxuan 'fishy' Wang <fishywang@google.com>",0,1,1,0,0,0,1,0,0
27050,I620a209406dd021f3e8e1dafcfb381631dfd25d2,https://git.eclipse.org/r/#/c/27050,1,ddb1a18f6d16e35ae435e11ddb27500db0802512,b4bcc3945e747d8f2bdb16582191b4110db615e0,0,21/05/14,21/05/14,52,Add script to create JGit release,"Add script to create JGit release

Change-Id: I620a209406dd021f3e8e1dafcfb381631dfd25d2
Signed-off-by: Matthias Sohn <matthias.sohn@sap.com>",1,0,0,1,0,0,1,NA,NA
27051,Ia3834770b9719f64cbdfd0338034c392fa3ae5db,https://git.eclipse.org/r/#/c/27051,1,b4bcc3945e747d8f2bdb16582191b4110db615e0,8131e557813e2957298211aacefef5ec2a5574b2,1,21/05/14,21/05/14,118,JGit v3.4.0.201405211411-rc1,"JGit v3.4.0.201405211411-rc1

Change-Id: Ia3834770b9719f64cbdfd0338034c392fa3ae5db
Signed-off-by: Matthias Sohn <matthias.sohn@sap.com>",1,0,0,1,0,0,1,0,0
27059,Ia8d29046439bc9134acdf7c88ab85ea49c4ddf47,https://git.eclipse.org/r/#/c/27059,1,8131e557813e2957298211aacefef5ec2a5574b2,0bcb377b77e454e31f2ed8fa9ba6f7f3bd23598f,1,21/05/14,21/05/14,118,Prepare post 3.4.0 RC1 builds,"Prepare post 3.4.0 RC1 builds

Change-Id: Ia8d29046439bc9134acdf7c88ab85ea49c4ddf47
Signed-off-by: Matthias Sohn <matthias.sohn@sap.com>",1,0,0,1,0,0,1,0,0
27063,I386aa77fb78bed3fb38a3ce46eaeb47df95fdde3,https://git.eclipse.org/r/#/c/27063,1,0bcb377b77e454e31f2ed8fa9ba6f7f3bd23598f,37fa554016ba53d4b2bf04e94c36a99696d1895c,1,21/05/14,21/05/14,4,Remove usage of IOException(Throwable) not available on Java 5,"Remove usage of IOException(Throwable) not available on Java 5

Change-Id: I386aa77fb78bed3fb38a3ce46eaeb47df95fdde3
Signed-off-by: Matthias Sohn <matthias.sohn@sap.com>",0,0,0,1,0,0,1,0,0
27064,I6090b81aa963731af369babbe71b05ac817ee3dc,https://git.eclipse.org/r/#/c/27064,1,37fa554016ba53d4b2bf04e94c36a99696d1895c,36dcaf075ad4ce807c3496139d3e6c3796ebc2db,1,21/05/14,21/05/14,3,Add missing since tags,"Add missing since tags

Change-Id: I6090b81aa963731af369babbe71b05ac817ee3dc
Signed-off-by: Matthias Sohn <matthias.sohn@sap.com>",0,0,0,1,0,0,1,0,0
27109,I3010cc902e13bee4d7b6696dfd11ab51062739d3,https://git.eclipse.org/r/#/c/27109,3,36dcaf075ad4ce807c3496139d3e6c3796ebc2db,ae5fdb3d74a64a197e44c5bfb2bce9c3b1ba0df2,1,22/05/14,22/05/14,98,Fix for stash corruption from multiline message,"Fix for stash corruption from multiline message

ReflogWriter now replaces line feeds in log message with spaces.

Bug: 435509
Change-Id: I3010cc902e13bee4d7b6696dfd11ab51062739d3
Signed-off-by: Andreas Hermann <a.v.hermann@gmail.com>",0,0,0,0,0,0,0,0,0
27143,Icb96b71277d5e2de59872aa777352dedc048c4e3,https://git.eclipse.org/r/#/c/27143,4,2576e79d57f625e9a9ed375b7d9b6abc710baba1,61289e5374ee8c8aff062110f9ecbeca7bbd7fa5,1,22/05/14,24/05/14,35,Adds a getMap() function to LsRemoteCommand.,"Adds a getMap() function to LsRemoteCommand.

The call() function of LsRemoteCommand returns Collection<Ref>, while its
internal is using Map<String, Ref> all the time. Sometimes the map is much more
useful to the caller so add a getMap() function to keep the API compatibility.

Change-Id: Icb96b71277d5e2de59872aa777352dedc048c4e3
Signed-off-by: Yuxuan 'fishy' Wang <fishywang@google.com>",0,1,0,0,0,0,1,0,0
27249,I6173aff9352d7def225cafe2d73e5176ad40dff0,https://git.eclipse.org/r/#/c/27249,4,e4cb1625289ae64a1dd2a3af0bf8244cde38e247,caf7cf4ecdff5aca5b626df2105199267687a9f6,1,25/05/14,27/05/14,33,Fix authentication type names broken by 0b5441a8,"Fix authentication type names broken by 0b5441a8

0b5441a8 introduced an enum for authentication types and changed the
case of digest and basic authentication type names to all uppercase.
This broke digest authentication at least when using Gerrit as the git
server. According to RFC2617 [1] ""Basic"" and ""Digest"" have to be used
and not ""BASIC"" [1] and ""DIGEST"" [2].

[1] http://tools.ietf.org/html/rfc2617#page-5
[2] http://tools.ietf.org/html/rfc2617#page-8

Change-Id: I6173aff9352d7def225cafe2d73e5176ad40dff0
Signed-off-by: Matthias Sohn <matthias.sohn@sap.com>",0,1,0,0,0,0,1,0,0
27257,Id46d74e9b11b2a7ea78d17b8bc12c3ad027723f1,https://git.eclipse.org/r/#/c/27257,1,a3d3f107f74ae4779a3b891a643057f4510e32ec,b6503d5fa474e1565d8e4f2c8158d9dfeddc09e2,0,26/05/14,26/05/14,2,Update Luna target platform to Orbit release R20140525021250,"Update Luna target platform to Orbit release R20140525021250

Change-Id: Id46d74e9b11b2a7ea78d17b8bc12c3ad027723f1
Signed-off-by: Matthias Sohn <matthias.sohn@sap.com>",1,0,0,1,0,0,1,NA,NA
27323,I0de592a32f6178e6d6bf114848101e185b3111a1,https://git.eclipse.org/r/#/c/27323,1,7fbb5081fea340ab11df089be1710930ab106af0,9bb2cc2d12ba4ff661c5937ef5639a44cc794aa1,1,27/05/14,27/05/14,11,Remove a bit of repetition and casting in PackFileTest,"Remove a bit of repetition and casting in PackFileTest

PackFileTest lives in o.e.j.internal.storage.file, so I think it's OK for
it to acknowledge the existence of FileRepository in order to avoid some
unnecessary casting, and probably nicer to avoid the repetition too.

Change-Id: I0de592a32f6178e6d6bf114848101e185b3111a1
Signed-off-by: Roberto Tyley <roberto.tyley@gmail.com>",0,0,0,0,0,0,0,0,0
27340,I6f59539350ab28605e2e1fe1f30354cd68aa7740,https://git.eclipse.org/r/#/c/27340,2,b1a66448acfd4d55ec19cb0f7512e68c8d253b02,b69217ee1d838d02543800db9fd584a9a46e466d,1,27/05/14,28/05/14,1,Remove unused import,"Remove unused import

Change-Id: I6f59539350ab28605e2e1fe1f30354cd68aa7740
Signed-off-by: Dani Megert <Daniel_Megert@ch.ibm.com>",0,0,0,1,0,0,1,0,0
27473,Ifd376f58cf867fc84d39582c49e971d998abf63d,https://git.eclipse.org/r/#/c/27473,1,e09e0728dc0c771859164ebb05d81b6207c2789d,2e7b7f41ab9b21a243bae7f8ae8cf83e8c2f16d2,1,28/05/14,28/05/14,118,JGit v3.4.0.201405281120-rc2,"JGit v3.4.0.201405281120-rc2

Change-Id: Ifd376f58cf867fc84d39582c49e971d998abf63d
Signed-off-by: Matthias Sohn <matthias.sohn@sap.com>",1,0,0,1,0,0,1,0,0
27474,Id8d784ba7b0aba7c6a00f459bf1ac54c1d36d061,https://git.eclipse.org/r/#/c/27474,1,2e7b7f41ab9b21a243bae7f8ae8cf83e8c2f16d2,2a832c33dc3703559a263c8c9d4538a7e28b3e2a,1,28/05/14,28/05/14,118,Prepare post 3.4.0 RC2 builds,"Prepare post 3.4.0 RC2 builds

Change-Id: Id8d784ba7b0aba7c6a00f459bf1ac54c1d36d061
Signed-off-by: Matthias Sohn <matthias.sohn@sap.com>",1,0,0,1,0,0,1,0,0
27580,I39db61e012dc93ebf388a71bf6088a3310a22bac,https://git.eclipse.org/r/#/c/27580,2,cdc78b6014b0dd112449f7963e7c6167fb6199b4,77cd9d54b6f2315f86b7ba01b031c7e5e9f3e717,0,30/05/14,15/06/14,16,Enable NLS / TranslationBundle to be used in OSGi,"Enable NLS / TranslationBundle to be used in OSGi

TranslationBundle#load() used to load resource bundles through
ResourceBundle#getBundle() without explicitly specifying a class loader.
In this case, the class laoder of the calling class (TranslationBundle
here) is used. This approach fails in runtime environments like OSGi
where there are multiple class loaders.

This change enables loading resource bundles in multi class loaders
environments. The fix is to passes the class loader of the
TranslationBundle-derived class to ResourceBundle#getBundle().

Bug: 436232
Change-Id: I39db61e012dc93ebf388a71bf6088a3310a22bac
Signed-off-by: Rdiger Herrmann <ruediger.herrmann@gmx.de>",0,0,0,0,0,0,0,NA,NA
27593,I04d054d9f19e4ee200f72b25962be4759cfe5d7e,https://git.eclipse.org/r/#/c/27593,2,0535e7deaa43b624df90bbe72508af20654c69ba,913713b2b23738fdfe62bb6f020b43fd83dfd553,1,30/05/14,08/06/14,2,LsRemoteCommand - internal execute need not be protected,"LsRemoteCommand - internal execute need not be protected

Change-Id: I04d054d9f19e4ee200f72b25962be4759cfe5d7e",0,0,0,1,0,0,1,0,0
27594,I9caa559a3d4eb0ec93d90cf1e18aed785ef85a84,https://git.eclipse.org/r/#/c/27594,2,96bd8b4b3ea3e1afae73567523d6cd407bbbfb72,180437339584681d0ed8d563b22fafcd8dc71a11,1,30/05/14,06/06/14,4,Make JavaDoc validator happy by declaring GitAPIException on callAsMap,"Make JavaDoc validator happy by declaring GitAPIException on callAsMap

Change-Id: I9caa559a3d4eb0ec93d90cf1e18aed785ef85a84",0,0,0,1,0,0,1,0,0
27621,Ic4c313a8971a5aa15745518c49e2587a1a0fe8d4,https://git.eclipse.org/r/#/c/27621,5,873eae6c4b5391b12bdc5c1d177f865d197be994,bd61b01a8e3240136d73daded0eeb134212e1ff9,1,30/05/14,15/07/14,81,Cherry-Pick: Support --no-commit,"Cherry-Pick: Support --no-commit

Repository.getRepositoryState() reports the result as CHERRY_PICKING if
there were conflicts and SAFE otherwise.

Change-Id: Ic4c313a8971a5aa15745518c49e2587a1a0fe8d4
Signed-off-by: Konrad Kgler <swamblumat-eclipsebugs@yahoo.de>",0,1,0,0,0,0,1,0,0
27754,Iebcc91f1bee3c91adda51dccd6372e8302bf23fe,https://git.eclipse.org/r/#/c/27754,2,e431bbdafa47f34fb3f3ba0ce411dde1f3bc863c,9b132a2a5d54d656e2a57fbc69042f3a3d52c0f2,1,02/06/14,04/06/14,3,blame: Un-break isFile check in tree walk,"blame: Un-break isFile check in tree walk

Originally, blame's walk to find a scapegoat to blame for a file
walking backward from a commit used the test

	treeWalk.getFileMode(0).getObjectType() != OBJ_BLOB

to throw out gitlink (submodule) entries.  Later, 52500d3264d2 (blame:
Micro optimize blob lookup in tree, 2014-04-17) changed that test to

	(treeWalk.getRawMode(0) & TYPE_FILE) != TYPE_FILE

These checks are not the same, though: the older test accepts files
and symlinks, while the newer one accepts files, symlinks, and gitlink
(submodule) entries.  This is particularly broken in the submodule
case --- trying to parse the referred-to commit as a blob produces

	caught an exception: GET /gerrit/+blame/master/plugins/reviewnotes HTTP/1.1
	org.eclipse.jgit.errors.MissingObjectException: Missing blob 61702414c046dd6b811c9137b765f9db422f83db

Stick to just (possibly executable) files instead.  Symlinks are not
line-oriented data so blame on a symlink is not likely to be useful.

A quick grep for '& TYPE_' doesn't find any other instances of this
bug.

Change-Id: Iebcc91f1bee3c91adda51dccd6372e8302bf23fe
Signed-off-by: Jonathan Nieder <jrn@google.com>",0,0,0,0,0,0,0,0,0
27907,I53bd500188e09ae2e007a58b3cd89aa0805d6f2a,https://git.eclipse.org/r/#/c/27907,4,2bcbc125735230075ccb948dbbe858fe247c719a,d8487e4a6a204f77c0881ce81fa47c263690f3bf,1,04/06/14,04/06/14,528,Prepare 3.5.0-SNAPSHOT builds,"Prepare 3.5.0-SNAPSHOT builds

Change-Id: I53bd500188e09ae2e007a58b3cd89aa0805d6f2a
Signed-off-by: Robin Rosenberg <robin.rosenberg@dewire.com>",0,1,0,1,1,0,1,0,0
27955,If0cfec023788cae7713dd1ccc250e221365ef984,https://git.eclipse.org/r/#/c/27955,1,7b1551bfdafed646522823c60b6f66a4fb4337e6,ee99f104434f4ac665ee0dc33115ba556993651f,1,04/06/14,04/06/14,118,JGit v3.4.0.201406041058-rc3,"JGit v3.4.0.201406041058-rc3

Change-Id: If0cfec023788cae7713dd1ccc250e221365ef984
Signed-off-by: Matthias Sohn <matthias.sohn@sap.com>",1,0,0,1,0,0,1,0,0
27994,I9730bb349d0295c811aa3a9ba0f67bd946e86d1e,https://git.eclipse.org/r/#/c/27994,1,ee99f104434f4ac665ee0dc33115ba556993651f,501c8e258ab9c586f7de2d98abbfa960ab6eb6af,1,04/06/14,04/06/14,118,Prepare post 3.4 RC3 builds,"Prepare post 3.4 RC3 builds

Change-Id: I9730bb349d0295c811aa3a9ba0f67bd946e86d1e
Signed-off-by: Matthias Sohn <matthias.sohn@sap.com>",1,0,0,1,0,0,1,0,0
28000,I344f1bbb8939bda01d524ec1a3218aa32bcc62f5,https://git.eclipse.org/r/#/c/28000,1,f455ea021f9f946cf8cf64f77ce6e65e450563e4,369414c9de418f5344fe79c67ff77e66a52981a9,0,04/06/14,04/06/14,0,Merge branch 'stable-3.4',"Merge branch 'stable-3.4'

* stable-3.4:
  Prepare post 3.4 RC3 builds
  JGit v3.4.0.201406041058-rc3
  blame: Un-break isFile check in tree walk
  Prepare post 3.4.0 RC2 builds
  JGit v3.4.0.201405281120-rc2
  Fix authentication type names broken by 0b5441a8
  Update Luna target platform to Orbit release R20140525021250

Change-Id: I344f1bbb8939bda01d524ec1a3218aa32bcc62f5
Signed-off-by: Matthias Sohn <matthias.sohn@sap.com>",1,0,0,0,0,0,1,NA,NA
28048,Ifd69fbc04156fa4dacdcba6225768f43843eee97,https://git.eclipse.org/r/#/c/28048,4,880ddf019a57bb4b5c7f1c4e4b58c367274992b7,61d9ad02d9670b42ef14ddf06ab5af9e0f692294,1,05/06/14,10/06/14,51,Fixed the problem with calling LsRemoteCommand without a local repository over ssh.,"Fixed the problem with calling LsRemoteCommand without a local repository over ssh.

Bug: 436695
Change-Id: Ifd69fbc04156fa4dacdcba6225768f43843eee97
Signed-off-by: Anton Bannykh <anton.bannykh@gmail.com>",0,1,1,0,0,0,1,0,0
28071,Ia8e3ad956d53d8193937b7fa1bc19aafde9767ff,https://git.eclipse.org/r/#/c/28071,1,784f46845913b62118d6d8a70e6a71d11dbc6302,86597701550bbdc1cded64d87c5d5951d26f9e18,1,05/06/14,06/06/14,2,Fix DeltaTask infinite loop,"Fix DeltaTask infinite loop

DeltaTask$Block.partitionTask was doing an infinite loop if number of
threads was greater than the totalWeight. The weightPerThread was 0
which was causing the infinite loop. Set the weightPerThread to a
minimal value of one.

Bug: 420915
Change-Id: Ia8e3ad956d53d8193937b7fa1bc19aafde9767ff
Signed-off-by: Hugo Ars <hugo.ares@ericsson.com>",0,0,0,0,0,0,0,0,0
28080,Icb09ac751b3d8d7eb14427ad1aac8cee0c371c5f,https://git.eclipse.org/r/#/c/28080,3,717153e46b3cef29171b2fee294a1ee30dff4340,4118e9de3681377724f4073f9af5293cc8f9a16a,1,05/06/14,09/06/14,105,Added setInputStream to RepoCommand.,"Added setInputStream to RepoCommand.

Sometimes an input stream is more useful than the filename of the xml manifest.

Change-Id: Icb09ac751b3d8d7eb14427ad1aac8cee0c371c5f
Signed-off-by: Yuxuan 'fishy' Wang <fishywang@google.com>",0,0,1,0,0,0,1,1,1
28085,Ib7edf51fb5e89232909611de5b4811a62b4f3953,https://git.eclipse.org/r/#/c/28085,3,3bc3c6c0798d557a09842c9448b07b3c270b0591,272eff8480876eeadbb41b74c615512e7b750c27,0,05/06/14,06/06/14,18,Enable passing version number to maven central scripts,"Enable passing version number to maven central scripts

Also check if the passed version matches the version pattern
<major>.<minor>.<micro>.<qualifier>-<classifier>

Change-Id: Ib7edf51fb5e89232909611de5b4811a62b4f3953
Signed-off-by: Matthias Sohn <matthias.sohn@sap.com>",1,0,0,0,0,0,1,NA,NA
28087,Ia32c8b34e16eacdf37a0da7025bf0b5cc5f67ed2,https://git.eclipse.org/r/#/c/28087,2,42cd126d6265111b38ba3db263b4e2fe5b7c2bb1,bc2c4f33b145421de9e7b0725725ab6f523c7dfb,1,06/06/14,09/06/14,4,Better way to handle relative URLs in manifest XML,"Better way to handle relative URLs in manifest XML

Change-Id: Ia32c8b34e16eacdf37a0da7025bf0b5cc5f67ed2
Signed-off-by: Yuxuan 'fishy' Wang <fishywang@google.com>",0,0,1,1,0,0,1,0,0
28216,I71040db2cca69638cfad89acdc9179ee80592b27,https://git.eclipse.org/r/#/c/28216,7,c9584d171b3fb392aec9b393734f39a182afdda6,c4ac2c7ef29fcad9bc7d3e33fefcf7b43e806db1,1,09/06/14,28/07/14,12,Strip trailling /s in repo base URI.,"Strip trailling /s in repo base URI.

Change-Id: I71040db2cca69638cfad89acdc9179ee80592b27
Signed-off-by: Yuxuan 'fishy' Wang <fishywang@google.com>",0,1,0,1,0,0,1,0,0
28264,I2fa1a5c28a1521a837aeaeb994e5cce8d7c4e645,https://git.eclipse.org/r/#/c/28264,1,16e170cc1211c97ac8a0bffd05b63f8a144b60df,f08a23c4ccc6befa599b5dcc9ad504c94cbe654b,1,10/06/14,10/06/14,5,Add missing @since to RepoCommand.setInputStream,"Add missing @since to RepoCommand.setInputStream

Change-Id: I2fa1a5c28a1521a837aeaeb994e5cce8d7c4e645",1,0,0,1,0,0,1,0,0
28308,I7f326b4fc96198de7b424e15d8329bde7d7b39cf,https://git.eclipse.org/r/#/c/28308,2,215a6c1fd29ab41a703a0d60b3501c0d7a4a95a6,77b02013fd87851a2f94bc49e496faea4003a4ab,1,10/06/14,11/06/14,10,Refactor DefaultRemoteReader for easier code reuse,"Refactor DefaultRemoteReader for easier code reuse

Change-Id: I7f326b4fc96198de7b424e15d8329bde7d7b39cf
Signed-off-by: Yuxuan 'fishy' Wang <fishywang@google.com>",0,0,0,1,0,0,1,0,0
28350,I56543234316f04bff4e45628bcb8286a6e52e31f,https://git.eclipse.org/r/#/c/28350,1,a1a2cdb4d71ff9f3e0f360f6112f04a007309d8c,f9de6abc5b69129a05ab9181ff5a0ed95e260877,1,11/06/14,11/06/14,118,JGit v3.4.0.201406110918-r,"JGit v3.4.0.201406110918-r

Change-Id: I56543234316f04bff4e45628bcb8286a6e52e31f
Signed-off-by: Matthias Sohn <matthias.sohn@sap.com>",1,0,0,1,0,0,1,0,0
28368,I49f3741f3973b247a635f7c99b72309d2381a377,https://git.eclipse.org/r/#/c/28368,1,f9de6abc5b69129a05ab9181ff5a0ed95e260877,0fb5f72f0a8b84eac429a57cd2c28d3b978eaaa3,1,11/06/14,11/06/14,118,Prepare post 3.4.0 builds,"Prepare post 3.4.0 builds

Change-Id: I49f3741f3973b247a635f7c99b72309d2381a377
Signed-off-by: Matthias Sohn <matthias.sohn@sap.com>",1,0,0,1,0,0,1,0,0
28369,I1aa3b911c7ace01b82ab9844eec5432d4125b726,https://git.eclipse.org/r/#/c/28369,1,f8cfedcc4414c4d1a173cbe585862aaf196d61e7,f8cfedcc4414c4d1a173cbe585862aaf196d61e7,0,11/06/14,11/06/14,0,Merge branch 'stable-3.4',"Merge branch 'stable-3.4'

* stable-3.4:
  Prepare post 3.4.0 builds
  JGit v3.4.0.201406110918-r

Change-Id: I1aa3b911c7ace01b82ab9844eec5432d4125b726
Signed-off-by: Matthias Sohn <matthias.sohn@sap.com>",1,0,0,0,0,0,1,NA,NA
28404,Ib0a98ce633e83c82a58b633c767e70d316b7254c,https://git.eclipse.org/r/#/c/28404,1,51c9d803d922621020f775517b38606a0758d0f1,0f26071ddbb4464fdede6b925ee29a01cc706506,1,12/06/14,12/06/14,14,Add missing javadoc and since tag for RepoCommand.readFileFromRepo(),"Add missing javadoc and since tag for RepoCommand.readFileFromRepo()

Change-Id: Ib0a98ce633e83c82a58b633c767e70d316b7254c
Signed-off-by: Matthias Sohn <matthias.sohn@sap.com>",0,0,0,1,0,0,1,0,0
28446,Ia72ef591a99415e6f340c5f64583a49c91f1b82f,https://git.eclipse.org/r/#/c/28446,1,0f26071ddbb4464fdede6b925ee29a01cc706506,24cb7006ad2a67560feb5c22e638de1e7dec8371,1,12/06/14,13/06/14,262,Rename RewriteTreeFilter to TreeRevFilter and make it public,"Rename RewriteTreeFilter to TreeRevFilter and make it public

The current behavior of passing a TreeFilter to RevWalk has limited
usefulness, since the RevFilter derived from the TreeFilter is always
ANDed together with any other RevFilters. It is also tied fairly
tightly to the parent rewriting mechanism.

Make TreeRevFilter a generic RevFilter that matches modified paths
against any TreeFilter. This allows for more complex logic like
(modified this path OR authored by this person).

Leave the rewrite flag logic in this class, since it's closely tied to
the parent comparison code, but hidden behind a protected constructor.

Change-Id: Ia72ef591a99415e6f340c5f64583a49c91f1b82f",0,0,0,0,0,0,0,0,0
28447,I65e3702ceb6c8854a2c358cfc2c2e3a9fb9486ff,https://git.eclipse.org/r/#/c/28447,1,24cb7006ad2a67560feb5c22e638de1e7dec8371,3b71247be38bb52daa18f274300b22cc04dc2c67,1,12/06/14,13/06/14,12,Don't set REWRITE flag unless parent rewriting is requested,"Don't set REWRITE flag unless parent rewriting is requested

Change-Id: I65e3702ceb6c8854a2c358cfc2c2e3a9fb9486ff",0,0,0,1,0,0,1,0,0
28538,If3e6aa9c1d92e58b4e7a8e246cf4aace237d7a7b,https://git.eclipse.org/r/#/c/28538,5,446ce293d54adcea6a036cab09a72541d9104ef5,b72b0710e52439e6743c5812a6b7588b818cb6f2,1,15/06/14,01/07/14,30,Don't warn for methods that can be static,"Don't warn for methods that can be static

Making the methods static would gain little in performance,
make the code harder to change. Removing unncessary warnings
is more important.

Change-Id: If3e6aa9c1d92e58b4e7a8e246cf4aace237d7a7b",0,1,0,0,0,0,1,0,0
28539,I8335464061dac1c20de2b698f834e516ef78cf3d,https://git.eclipse.org/r/#/c/28539,2,ea1576d1f575f50c005552d8771c16f92a97bde5,bf028f2e87909c497ec2e585e3cc3428ac0db567,1,15/06/14,15/06/14,2,Remove an unnecessary $NON-NLS$ comment,"Remove an unnecessary $NON-NLS$ comment

Change-Id: I8335464061dac1c20de2b698f834e516ef78cf3d",0,0,0,1,0,0,1,0,0
28540,I6c5b085ae4a47d0026bd2b2341de76ab333936b9,https://git.eclipse.org/r/#/c/28540,2,be1a647c0a1b3cc69e19580fb063f13ee84de88a,f78ec83d4e92207fd955e9eeccc4c8afb902b431,1,15/06/14,15/06/14,2,Remove an unnecessary semicolon,"Remove an unnecessary semicolon

Change-Id: I6c5b085ae4a47d0026bd2b2341de76ab333936b9",0,0,0,1,0,0,1,0,0
28541,I2ea2dec55c187b62662195bae810b3f0af8a2983,https://git.eclipse.org/r/#/c/28541,2,3a745cab3feab085cd1694e90570b7d1bed15c91,a2a2229db7bee13b678a668f5c099c7cd841b7f9,0,15/06/14,15/06/14,19,Remove no longer needed API breakage filters,"Remove no longer needed API breakage filters

Change-Id: I2ea2dec55c187b62662195bae810b3f0af8a2983",0,0,0,1,0,0,1,NA,NA
28542,Iab0aa62530312eb0c78b03b5c6a632742bcc4978,https://git.eclipse.org/r/#/c/28542,5,9c676bb0eda9215f494b760e0cdda7b64e2a0c8e,33ececadd4404078e33192957b1766497c2ab1b4,1,15/06/14,01/07/14,82,Add new default settings from Eclipse 4.4 M7,"Add new default settings from Eclipse 4.4 M7

These settings were added by Eclipse simply by touching
the project settings. Adding these makes it simpler to see
what local changes have been made.

Change-Id: Iab0aa62530312eb0c78b03b5c6a632742bcc4978",0,1,0,0,0,0,1,0,0
28676,I6dd2a3786b7d3f15f5a46821d8edac987a57e381,https://git.eclipse.org/r/#/c/28676,4,22cbadd2f1743732517ace83bf775ca9bc23a3eb,790fdc14b21af9e2c92b8b8e77cd91a149467492,1,18/06/14,20/06/14,115,Retry connecting to SshSession in case of an exception,"Retry connecting to SshSession in case of an exception

Connecting to an SshSession may fail due to different reasons. Jsch for 
example often throws an com.jcraft.jsch.JschException: verify: false.[1]
The issue is still not fixed in JSch 0.1.51.
 
In such a case it is worth retrying to connect. 

Two retries should be sufficient.

[1] http://sourceforge.net/p/jsch/bugs/58/

Bug: 437656
Change-Id: I6dd2a3786b7d3f15f5a46821d8edac987a57e381",0,1,0,0,0,0,1,2,1
28838,I4383a90fd91a243cd5ce5d0ae4e53874b36c1f47,https://git.eclipse.org/r/#/c/28838,1,790fdc14b21af9e2c92b8b8e77cd91a149467492,95e0c84141f6ef5cfd549747e1595132f0daf631,1,20/06/14,20/06/14,526,JGit v3.4.1.201406201815-r,"JGit v3.4.1.201406201815-r

Change-Id: I4383a90fd91a243cd5ce5d0ae4e53874b36c1f47
Signed-off-by: Matthias Sohn <matthias.sohn@sap.com>",1,0,0,1,1,0,1,0,0
28841,If88217d84b88cda6d04c159418d5bc86233fe28c,https://git.eclipse.org/r/#/c/28841,1,95e0c84141f6ef5cfd549747e1595132f0daf631,022069f162118647519ff387848ae649d5af83e8,1,20/06/14,21/06/14,526,Prepare 3.4.2-SNAPSHOT builds,"Prepare 3.4.2-SNAPSHOT builds

Change-Id: If88217d84b88cda6d04c159418d5bc86233fe28c
Signed-off-by: Matthias Sohn <matthias.sohn@sap.com>",1,0,0,1,1,0,1,0,0
28842,I7efb009b9e012637a16c57e2e93e074023b8e46c,https://git.eclipse.org/r/#/c/28842,1,24d20e6900c314c6234aa50d11838e17441b8642,d6e799a512db3e8178a471113c212ee8816c9117,1,20/06/14,21/06/14,597,Merge branch 'stable-3.4',"Merge branch 'stable-3.4'

* stable-3.4:
  Prepare 3.4.2-SNAPSHOT builds
  JGit v3.4.1.201406201815-r
  Allow retrying connecting SshSession in case of an exception

Change-Id: I7efb009b9e012637a16c57e2e93e074023b8e46c
Signed-off-by: Matthias Sohn <matthias.sohn@sap.com>",1,0,0,0,1,0,1,0,0
29154,I2948ca90c10f6ec2574f7f2b9be0a72821ea4daf,https://git.eclipse.org/r/#/c/29154,4,f859b2045cb4bdfd409da9931d0d0a1106c3736b,baa99415e335d4fff4e324eb80c6af482ad3c3f5,0,28/06/14,29/06/14,16,Fix formatting errors in error messages,"Fix formatting errors in error messages

{} is plain wrong and is not accepted by MessageFormat, the other risk
becoming wrong if another single quote is introduced in the future and
sets a bad example.

Change-Id: I2948ca90c10f6ec2574f7f2b9be0a72821ea4daf",0,1,0,0,0,0,1,NA,NA
29155,Idd6839465ea36d072b1c4393f5abd2f39da02b62,https://git.eclipse.org/r/#/c/29155,3,6784a38d8dc01c08f039189c46f38f747bdd156c,4c23d27bc827d2a4da5e226f6f6f6729a1d8fd73,0,28/06/14,29/06/14,1,Remove duplicate string in CLIText.properties,"Remove duplicate string in CLIText.properties

Bug: 438261
Change-Id: Idd6839465ea36d072b1c4393f5abd2f39da02b62",0,0,0,0,0,0,0,NA,NA
29156,I5f712ba290592f7c5aa9ee865ff30383ad315247,https://git.eclipse.org/r/#/c/29156,2,3908a258ba388a3b6d1225c3a7beeb0d5a474e86,e1664eceaef18c1c3c2dc0400b3f6f30977d4256,0,28/06/14,29/06/14,2,Fix spelling error in error messgae,"Fix spelling error in error messgae

Change-Id: I5f712ba290592f7c5aa9ee865ff30383ad315247",0,0,0,1,0,0,1,NA,NA
29157,I073f0c2c0729e6a5d3f1834203f0cfeb4c462eda,https://git.eclipse.org/r/#/c/29157,2,2b25d9c758dd1b41221299cd123944e6dc673d1f,5c4453d977804bfe9d42b6c48ed0b93d762d91b0,0,28/06/14,29/06/14,8,Add a comment to the message properties files on how they are processed,"Add a comment to the message properties files on how they are processed

Change-Id: I073f0c2c0729e6a5d3f1834203f0cfeb4c462eda",0,0,0,1,0,0,1,NA,NA
29161,I68ef3c2878f28b12daebf2ef6a9fa0a5d6e0964d,https://git.eclipse.org/r/#/c/29161,6,6fcc8a32dcc779ab2c137e440935cc3eea5d750e,2b12c69e8ff5d7d9f25e67b66a3e0d7e1daa2b6e,1,28/06/14,01/07/14,7,RFC Fix intermittent test failure related to timestamps,"RFC Fix intermittent test failure related to timestamps

The hypothesis is the system lock lahs behind the file
system clock.

Bug: 436917
Change-Id: I68ef3c2878f28b12daebf2ef6a9fa0a5d6e0964d",0,1,0,0,0,0,1,0,0
29170,I378957b57e9ad1f7195ba416f402178453f0ebd3,https://git.eclipse.org/r/#/c/29170,4,cb139801a7f348385d264d77c537c9e0777e0f97,b4e0b3bd9473391ed5227b828a49b0de6f8aac16,1,29/06/14,07/07/14,143,Handle diff formatting when there is nothing to compare with,"Handle diff formatting when there is nothing to compare with

DiffFormatter now suports either side being null and the log program
will output the diff for the first commit.

Bug: 395791
Change-Id: I378957b57e9ad1f7195ba416f402178453f0ebd3",0,1,0,0,0,0,1,0,0
29185,If75d8f3cd3f356a56623eee96b64e8845de5eb38,https://git.eclipse.org/r/#/c/29185,1,062aa9e722936ea484813ee663f4b60c0889d538,a1f6f728ba99ef4a5182ce6469beb8dc00f9aac9,0,30/06/14,30/06/14,2,"Fix incorrect ""''"" in CLIText.properties","Fix incorrect ""''"" in CLIText.properties

This message is not processed by MessageFormat.

Bug: 438261
Change-Id: If75d8f3cd3f356a56623eee96b64e8845de5eb38
Signed-off-by: Robin Stocker <robin@nibor.org>",0,0,0,0,0,0,0,NA,NA
29186,I7b98475886ef789ae7635d8c9e008fc1aa00d534,https://git.eclipse.org/r/#/c/29186,1,a1f6f728ba99ef4a5182ce6469beb8dc00f9aac9,6afa6004dbb0496acdd95a3cdeff50985a2eb39a,0,30/06/14,01/07/14,6,Clarify comments in message properties files (and fix grammar),"Clarify comments in message properties files (and fix grammar)

Bug: 438261
Change-Id: I7b98475886ef789ae7635d8c9e008fc1aa00d534
Signed-off-by: Robin Stocker <robin@nibor.org>",0,0,0,0,0,0,0,NA,NA
29429,I7e749092c5b51e2857c186088e2c5c6c6d295367,https://git.eclipse.org/r/#/c/29429,2,bdf7940b25c0c381ae037b296cfe386f2d0bf3cb,a5eb8d2bdf17e426f7dc1a5ac823efd4053a182c,1,03/07/14,04/07/14,10,Eliminate s warning about overlapping variable names,"Eliminate s warning about overlapping variable names

Change-Id: I7e749092c5b51e2857c186088e2c5c6c6d295367",0,0,0,1,0,0,1,0,0
29769,I5522707060d7d3e0d848ba579956dc62f8fa0234,https://git.eclipse.org/r/#/c/29769,2,f2645c5b54c0d68c13f12bc91afcf47beb516e2f,c6c5bbfc82e052189e0dba08c5980a22d0fa0815,0,10/07/14,15/07/14,4,Repository.writeMergeHeads to accept a list with subtypes of ObjectId,"Repository.writeMergeHeads to accept a list with subtypes of ObjectId

Allows to pass for example a List<RevCommit>.

Change-Id: I5522707060d7d3e0d848ba579956dc62f8fa0234
Signed-off-by: Konrad Kgler <swamblumat-eclipsebugs@yahoo.de>",0,0,1,0,0,0,1,NA,NA
29770,I4cf69b9d4ec6109d130ab8e3f42fcbdac25a13b2,https://git.eclipse.org/r/#/c/29770,3,770d3dddff4e32479f2e467f1051a791ddac6929,8227797f8e72e827189cf446338e68f75357d238,1,10/07/14,15/07/14,590,Rebase: Add --preserve-merges support,"Rebase: Add --preserve-merges support

With --preserve-merges C Git re-does merges using the rewritten merge
parents, discarding the old merge commit. For the common use-case of
pull with rebase this is unfortunate, as it loses the merge conflict
resolution (and other fixes in the merge), which may have taken quite
some time to get right in the first place.

To overcome this we use a two-fold approach:
If any of the (non-first) merge parents of a merge were rewritten, we
also redo the merge, to include the (potential) new changes in those
commits.
If only the first parent was rewritten, i.e. we are merging a branch
that is otherwise unaffected by the rebase, we instead cherry-pick the
merge commit at hand. This is done with the --mainline 1 and --no-commit
options to apply the changes introduced by the merge. Then we set up an
appropriate MERGE_HEAD and commit the result, thus effectively forging a
merge.

Apart from the approach taken to rebase merge commits, this
implementation closely follows C Git. As a result, both Git
implementations can continue rebases of each other.

Preserving merges works for both interactive and non-interactive rebase,
but as in C Git it is easy do get undesired outcomes with interactive
rebase.

CommitCommand supports committing merges during rebase now.

Change-Id: I4cf69b9d4ec6109d130ab8e3f42fcbdac25a13b2
Signed-off-by: Konrad Kgler <swamblumat-eclipsebugs@yahoo.de>",0,0,1,0,1,0,1,0,0
29771,I345fa295c7e774e0d0a8e6aba30fbfc3552e0084,https://git.eclipse.org/r/#/c/29771,5,49eceff30767a67fc8691a4f2c169086a0752818,ac3ca3f5bf86f7ca68a3ae0c7fbd63d7e7ac662e,1,10/07/14,15/07/14,279,Preserve merges during pull if configured to do so,"Preserve merges during pull if configured to do so

Setting banch.<name>.rebase or pull.rebase to 'preserve' will preserve
merges during rebase. Also, pull.rebase is now consulted if there is no
branch-specific configuration.

Bug: 429664
Change-Id: I345fa295c7e774e0d0a8e6aba30fbfc3552e0084
Signed-off-by: Konrad Kgler <swamblumat-eclipsebugs@yahoo.de>",0,1,1,0,0,0,1,0,0
29941,If534bd0aedaee6160679e965ad08ac30d5dac1c5,https://git.eclipse.org/r/#/c/29941,2,2bc8a65f950cb192123214230a329459a1a329bc,4adb82cd63d69dc0d77157932113994b8fff06b1,0,16/07/14,19/08/14,38,cleanup: Remove no-longer needed API compatibility warning filters,"cleanup: Remove no-longer needed API compatibility warning filters

Change-Id: If534bd0aedaee6160679e965ad08ac30d5dac1c5",0,0,0,1,0,0,1,NA,NA
29942,I6eddb39ccc8f2488741bb58540d9ec5f5665e2c4,https://git.eclipse.org/r/#/c/29942,3,44cb13074464d1cad9749e61b600ebf09c5cb1e9,89ddff20aaa6307395a79ce0f238052a002a0505,1,16/07/14,04/09/14,52,Eliminate warnings for non-nls strings that will never be translated,"Eliminate warnings for non-nls strings that will never be translated

Some of these eliminations just reduces the number of warnings on
lines where messages are constructed that can/will be translated.

Change-Id: I6eddb39ccc8f2488741bb58540d9ec5f5665e2c4",0,0,0,0,0,0,0,1,1
29943,I005a54cde545ea99553c0a2d6dd8d64e6e0a7611,https://git.eclipse.org/r/#/c/29943,3,b86d99957057baa2cb2e0b4a9da608cc7f2df83e,fb310ff2551df9f4326a28db7acd75830dac37de,1,16/07/14,10/08/14,2,We should not warn for unqualifiedFieldAcces,"We should not warn for unqualifiedFieldAcces

It does not make sense and I cannot explain why it slipped through.

Change-Id: I005a54cde545ea99553c0a2d6dd8d64e6e0a7611",1,0,0,0,0,0,1,0,0
29944,I32acdf4b60bf5528566e66b1fd82113b1343ed37,https://git.eclipse.org/r/#/c/29944,3,c2ca2e79bc7b1cc5950ff6d7e31b92d588c1a48b,5bfd37a0f8c06e969b75e2a8fb5fe97b291f8bc0,1,16/07/14,04/09/14,3,Remove non-existing source directories from Java 7 test build,"Remove non-existing source directories from Java 7 test build

This was a copy-artifact when the bundle was created. This chanhe
removed some warnings in Eclipse.

Change-Id: I32acdf4b60bf5528566e66b1fd82113b1343ed37",0,0,0,0,0,0,0,0,0
29945,I15370d7807c82ee85ed7fdb05061a4baf0a77a68,https://git.eclipse.org/r/#/c/29945,3,65c5973ba68e797a6644198aaa435c44ff34c523,fbdeeb626ab2c9261c4ffc07f096aa94527307bc,0,16/07/14,10/08/14,1,Remove redundant semicolon,"Remove redundant semicolon

Change-Id: I15370d7807c82ee85ed7fdb05061a4baf0a77a68",1,0,0,1,0,0,1,NA,NA
29946,I3bbb6da951765d79d77aa955edeac7b5e4da5d8a,https://git.eclipse.org/r/#/c/29946,3,1c89c96a7b0675f5bc52ae0654490504cefdc544,f58d163d7609a668b635b02e3b7d655021981ed6,1,16/07/14,10/08/14,3,Replace deprecated method call in Java7 FTI test,"Replace deprecated method call in Java7 FTI test

Change-Id: I3bbb6da951765d79d77aa955edeac7b5e4da5d8a",1,0,0,1,0,0,1,0,0
29947,I73f38492b6a2e7fd6e77005efd0a8a8c65763e74,https://git.eclipse.org/r/#/c/29947,3,83f78897c32bb822e910bc16aeab36f862f6e42d,fdfc29e3b54fa76f94cc0ef7a3699e4fde614c51,1,16/07/14,04/09/14,100,Rename local variables/parameters to remove warnings about hiding,"Rename local variables/parameters to remove warnings about hiding

Change-Id: I73f38492b6a2e7fd6e77005efd0a8a8c65763e74",0,0,0,1,0,0,1,2,1
29948,Ia9532d1aaf92df9073c85c44ff2ca94796deefc2,https://git.eclipse.org/r/#/c/29948,3,0239b4dbed7d7246ef0b06a2488e64309a65acf8,40a13c0f622494b0deea95566ec598b04f6325a0,0,16/07/14,04/09/14,2,Fix warning about missing serialVersionUID,"Fix warning about missing serialVersionUID

Change-Id: Ia9532d1aaf92df9073c85c44ff2ca94796deefc2",0,0,0,1,0,0,1,NA,NA
29949,Ic8e4c08b70627a3f9b031e2474092e1ce8116f22,https://git.eclipse.org/r/#/c/29949,3,c936119e59c1c94c9ac1f19c489973aea2fb5f28,18fda190b8e11863a8358856d92133e63d21a1a0,1,16/07/14,04/09/14,3,Fix warnings about missing serialVersionUID,"Fix warnings about missing serialVersionUID

Use @SuppressWarnings since these are private classes

Change-Id: Ic8e4c08b70627a3f9b031e2474092e1ce8116f22",0,0,0,0,0,0,0,1,1
29950,I07580aa3cbdaa66852a5c919769bbd9020d78703,https://git.eclipse.org/r/#/c/29950,3,90f237e664c926286e488111e663d019763e0fed,ced900754a07b0ee784fe747e726d826bbef25d8,0,16/07/14,04/09/14,1,Hide warnings about field hiding in the MyersDiff code,"Hide warnings about field hiding in the MyersDiff code

Just suppress warning in this stable code rather then fixing names

Change-Id: I07580aa3cbdaa66852a5c919769bbd9020d78703",0,0,0,0,0,0,0,NA,NA
29951,Ie163a4940f0d13bbdefd8c4643c0944c71800544,https://git.eclipse.org/r/#/c/29951,3,92abb53409c5008e8c6cdc88d0fe9e69eedda60e,94d6c62e1daf1d171cf8e0c99f084410f45610db,1,16/07/14,04/09/14,13,Drop warnings about unchecked casts in a few stable select places,"Drop warnings about unchecked casts in a few stable select places

Change-Id: Ie163a4940f0d13bbdefd8c4643c0944c71800544",0,0,0,1,0,0,1,0,0
29952,Ic30f55f30ce260dc02c428e1ebf11f01cb790a6e,https://git.eclipse.org/r/#/c/29952,3,62a3a47f86545ec918c8b4f3fc8a969dd1857c7b,755362456d3e5e5eda92ab9ab4cd8d73be6dd4d1,0,16/07/14,04/09/14,90,Update the README with current modules and features,"Update the README with current modules and features

Change-Id: Ic30f55f30ce260dc02c428e1ebf11f01cb790a6e",0,0,0,1,0,0,1,NA,NA
29959,I5961ebf2052aff3e5d853451f69c7d75890ac53a,https://git.eclipse.org/r/#/c/29959,3,629a8117343ed1ccc7c85c3c21898c086198ac49,1d881600a5faa15dfaf9695c95faada364a05409,0,16/07/14,04/09/14,1,Add the resources directory to the Eclipse classpath,"Add the resources directory to the Eclipse classpath

This removes a warning in Eclipse.

Change-Id: I5961ebf2052aff3e5d853451f69c7d75890ac53a",0,0,0,0,0,0,0,NA,NA
30026,I5de3a9a2a4c276e60af732e9c507cbbdfd1a4652,https://git.eclipse.org/r/#/c/30026,3,82d2b980d194fc283ab3bca8b32bc63765db0b90,e37ace12bfbd98a74f3fecdd4078119848c7b048,1,17/07/14,30/07/14,101,Fix RevertCommand to correctly revert multiple commits at once.,"Fix RevertCommand to correctly revert multiple commits at once.

The fix is to move the new head commit to the newly-created revert
commit, so that additional revert commits will use the correct head.

Change-Id: I5de3a9a2a4c276e60af732e9c507cbbdfd1a4652
Signed-off-by: Maik Schreiber <blizzy@blizzy.de>",0,0,1,0,0,0,1,0,0
30128,I644ea9e1cb15360f7901bc0483cdb9286308c226,https://git.eclipse.org/r/#/c/30128,5,2d928202342592015dd9fe6a581bd6999cacd0b3,8286ac0587cac0d09e7029a5caa774c5c09cd3fb,1,18/07/14,28/07/14,195,Fix RecursiveMerger,"Fix RecursiveMerger

When RecursiveMerger tried to determine a common base tree it was
recursively tried to merge multiple common bases. But these intermediate
merges which have just been done to determine a single common base for
the final merge already filled some important fields (toBeCheckedOut,
toBeDeleted, ...). These sideeffects of the intermediate merges led to
wrong results of the final merge. One sympton was that after a recursive
merge which should be succesfull you could still see leftofer files in
the worktree: files which existed in the (virtual) common base but which
don't exist anymore in the branches to be merged.

Solution is easy: Clear the appropriate fields after common base
determination and start the final merge with a clean state.

Change-Id: I644ea9e1cb15360f7901bc0483cdb9286308c226",0,1,1,0,0,1,1,0,0
30156,I9ee73f16e6fa8fbf529ac0ca791e2375d4d56d68,https://git.eclipse.org/r/#/c/30156,3,9ca5ec4aa1584467a76577c286d4392db05c59da,9617ee134f65e72fe8f38b7433fb3888b17b6534,0,19/07/14,20/07/14,150,Change SUBMITTING_PATCHES to link to Contributor Guide,"Change SUBMITTING_PATCHES to link to Contributor Guide

It was outdated information about attaching patches to bug reports. The
Contributor Guide is kept up-to-date.

Change-Id: I9ee73f16e6fa8fbf529ac0ca791e2375d4d56d68
Signed-off-by: Robin Stocker <robin@nibor.org>",0,0,0,0,0,0,0,NA,NA
30159,I20bdb787a00bba3e4adf269fd64ec6296bdc2a66,https://git.eclipse.org/r/#/c/30159,2,2cea5223bff917405c29bd16a22cd5c1b666c021,828d2e7b2913e33498aa07d4a7e462c042456ed6,1,19/07/14,20/07/14,152,Don't prefix output from jgit status with '# ',"Don't prefix output from jgit status with '# '

C Git does not do it anymore

Change-Id: I20bdb787a00bba3e4adf269fd64ec6296bdc2a66",0,0,0,0,0,0,0,0,0
30326,I9b9d1bd9ebf349cfca420c891c7b099a18d07ba4,https://git.eclipse.org/r/#/c/30326,3,cf07e08ab743be1f70bc3cebc91a7f47a0848c45,65f0229bad0abf3bdba65408507aff5e9a3a31bf,1,23/07/14,25/07/14,34,Handle initial checkout correctly,"Handle initial checkout correctly

As described in native gits file ""git-read-tree.txt"" git has in a
special mode when doing the ""initial"" checkout. ""Initial"" means that the
index is empty before the checkout. This was not handled correctly in
JGit and is fixed in this commit. Also see
https://github.com/git/git/blob/master/Documentation/git-read-tree.txt#L181

Change-Id: I9b9d1bd9ebf349cfca420c891c7b099a18d07ba4",0,0,0,0,0,0,0,0,0
30438,I4b1c63087a97b7b2f3d7bdb5e066424a84ef6cef,https://git.eclipse.org/r/#/c/30438,1,bcfbd1c0c347430fdd021e778034ce6cd808b121,223a42db643e635e6e6da64d01750a18a88f62dc,0,24/07/14,29/07/14,1,Added the missing export in MANIFEST.MF.,"Added the missing export in MANIFEST.MF.

This fixes bug 440352.

Change-Id: I4b1c63087a97b7b2f3d7bdb5e066424a84ef6cef
Signed-off-by: Yuxuan 'fishy' Wang <fishywang@google.com>",0,0,1,0,0,0,1,NA,NA
30526,Iae7260c6934efdffac7c7bee4d3633a8208924f7,https://git.eclipse.org/r/#/c/30526,4,f1ea2e75d3fb88e120dde5661aef9b9b511fa6ce,f99705340794eb54aa78f0820727cb1f9c480a4f,1,25/07/14,02/08/14,20,HistogramDiff: Convert stack recursion to heap managed queue,"HistogramDiff: Convert stack recursion to heap managed queue

Each time the longest common substring is found the diff algorithm
recurses to reprocess the regions before and after the common string.

Large files with many edits can trigger StackOverflowError as the
algorithm attempts to process a deeply split tree of regions. This
is especially prone to happen in servers where the Java stack size
may have been limited to 1M or even 256K.

To keep edits produced in order two queues are used. ""tmp"" stores
between 0 and 2 edits found in this cycle, which are then pushed
onto the head of the global processing queue. This preserves the
depth-first search strategy previously implemented through recursion.

Change-Id: Iae7260c6934efdffac7c7bee4d3633a8208924f7",0,1,0,0,0,0,1,0,0
30549,Icce87bd23a3698513b76246677f1d45ddbcaab47,https://git.eclipse.org/r/#/c/30549,2,7136ca6686a5fca0d504e512ad1f687ac3018ea6,22c25e42946ea0611c000f1309a54f3cda480eb8,1,27/07/14,01/08/14,22,Fix Javadoc errors with Java 8,"Fix Javadoc errors with Java 8

Bug: 440414
Change-Id: Icce87bd23a3698513b76246677f1d45ddbcaab47
Signed-off-by: Robin Stocker <robin@nibor.org>",0,0,0,0,0,0,0,0,0
30561,Ia3c058d5575decdefd50390ed83b63668d31c1d1,https://git.eclipse.org/r/#/c/30561,2,60c3495b7d6db4dad1da58cbcd6f86f9734bd46a,75d9913ea16122597fc1eaaa6f69a9f7381dd18a,1,28/07/14,28/07/14,8,Fixed message for exception thrown during recursive merge,"Fixed message for exception thrown during recursive merge

During recursive merge jgit potentially has to merge multiple
common ancestors. If this fails because there are conflicts then
the exception thrown for that should have a message which states
this clearly. Previously a wrong message was given (""More than 200
merge bases ..."")

Change-Id: Ia3c058d5575decdefd50390ed83b63668d31c1d1",0,0,0,0,0,0,0,0,0
30562,If45bc3d078b3d3de87b758e71d7379059d709603,https://git.eclipse.org/r/#/c/30562,2,4cbd98343e7672710e95777f4d1397603ea66ad0,6ff9d2aaa7d3c1d6676622620b3b86a63b987b47,1,28/07/14,29/07/14,143,RecursiveMerger should not fail on content-merge conflicts of parents,"RecursiveMerger should not fail on content-merge conflicts of parents

Previously when RecursiveMerger was trying to create a single virtual
common base for the merge it was failing when this lead to content-merge
conflicts. This is different from what native git is doing. When native
git's recursive merge algorithm creates a new common base it will merge
the multiple parents and simply take the merge result (potentially
including conflict markers) as common base. See my discussion with Shawn
here: http://www.spinics.net/lists/git/msg234959.html :

  > - How should workingtree, index (stage1,2,3) look like if during
that
  > merge of common ancestors a conflict occurs? Will I see in stage2
and
  > stage3 really see content of X1 and X2?

  Its done entirely in memory and never touches the working tree or
  index. When a conflict exists in the X1-X2 merge the conflict is
  preserved into the new virtual base.
  
There is still the possibility that the merge of parents lead to
conflicts. File/Folder conclicts, conflicts on filemodes. This commit
only fixes the situation for conflicts when merging content.
  
Bug: 438203
Change-Id: If45bc3d078b3d3de87b758e71d7379059d709603",0,0,0,0,0,0,0,0,0
30585,Ia29c1d6cf8c0ce724cc3ff5ed9e0b396949b44bf,https://git.eclipse.org/r/#/c/30585,5,ffc2f6ff7dc271c1195c5b2bd2c4d4d29fc46b31,c9ff8276388f2488c8169d17a404c8001e16831a,1,28/07/14,02/08/14,116,Test demonstrating improper conflict reporting,"Test demonstrating improper conflict reporting

Bug: 440537
Signed-off-by: Laurent Goubet <laurent.goubet@obeo.fr>
Change-Id: Ia29c1d6cf8c0ce724cc3ff5ed9e0b396949b44bf",0,1,0,0,0,0,1,0,0
30699,I6820c4ef400c530a36150b1228706adfcc43ef64,https://git.eclipse.org/r/#/c/30699,2,f28008f11555caa145b1d8a84caa078c2cda3003,f43dad2116c0f15174004e9b3092e102e6829595,1,29/07/14,29/07/14,133,Remove overlapping submodules from repo manifest.,"Remove overlapping submodules from repo manifest.

Apparently repo allows projects overlapping, e.g. one project's path is ""foo""
and another project's path is ""foo/bar"". This is not supported in git submodule.
At JGit repo side we'll skip all the submodules that are in subdirectories of
other submodules, and on repo side we'll make them submodules to resolve this
problem.

Change-Id: I6820c4ef400c530a36150b1228706adfcc43ef64
Signed-off-by: Yuxuan 'fishy' Wang <fishywang@google.com>",0,0,0,0,0,0,0,-1,0
30726,Ie31687faa2df47ecaacace2504c3b4e93f1ea809,https://git.eclipse.org/r/#/c/30726,2,29d6f24e978003b7666ffd32477bffca9db76154,e9b7aed011ae77bd02e955c8d9731c5cbed2f995,1,30/07/14,30/07/14,15,Added toString() methods for better debugging of ignore rules,"Added toString() methods for better debugging of ignore rules

Change-Id: Ie31687faa2df47ecaacace2504c3b4e93f1ea809
Signed-off-by: Andrey Loskutov <loskutov@gmx.de>",0,0,0,1,0,1,1,0,0
30727,I7d04dccfe24d91275d17ba246662337d6dba66df,https://git.eclipse.org/r/#/c/30727,2,fcfe4087922c1294d334e68ef5f66d86b8dde220,6255ef0a8e439e536ad9d8168bc264ee8fe7fc1f,1,30/07/14,30/07/14,36,Small performance optimization for ignore rules/fnmatcher,"Small performance optimization for ignore rules/fnmatcher

 - don't check empty segments generated by String.split()
 - don't continue to add segments if the matcher fails to match input
 - don't add empty heads
 - don't iterate over empty heads.

Bug: 440732
Change-Id: I7d04dccfe24d91275d17ba246662337d6dba66df
Signed-off-by: Andrey Loskutov <loskutov@gmx.de>",0,0,0,0,0,1,1,0,0
30764,Id05deaca43f135cd1bfe83cf1f29787cbbdbecac,https://git.eclipse.org/r/#/c/30764,2,c00de3d9efaca194e7afc47c73dbff8bf73eb91c,2869bb762f8fd1e47948399914d9474696e2476e,0,30/07/14,30/07/14,2,Mark package org.eclipse.jgit.gitrepo.internal as x-internal,"Mark package org.eclipse.jgit.gitrepo.internal as x-internal

It's an internal package not part for the API. Mark it x-internal to
silence missing @since tag warnings which are only raised for new API.

Bug: 440757
Change-Id: Id05deaca43f135cd1bfe83cf1f29787cbbdbecac
Signed-off-by: Matthias Sohn <matthias.sohn@sap.com>",0,0,0,0,0,0,0,NA,NA
30765,I11897e8e680722313f28d9d241e23e92eddeb966,https://git.eclipse.org/r/#/c/30765,2,6e3385fa7f1c77a6421ba5edb831e195922fcca2,70495a472098db43d9060207111af4fb715d26b4,1,30/07/14,30/07/14,1,Remove @Override annotation illegal for interfaces with Java 5,"Remove @Override annotation illegal for interfaces with Java 5

Bug: 440757
Change-Id: I11897e8e680722313f28d9d241e23e92eddeb966
Signed-off-by: Matthias Sohn <matthias.sohn@sap.com>",0,0,0,0,0,0,0,0,0
30766,I16614c75b62b2fbef05419dd8667e3c50889abe4,https://git.eclipse.org/r/#/c/30766,2,a784fe9cd263b3ffcd87cce7382e216cb824ffa2,f67cf802c66bf7944da1f34dbdda9d10df191208,1,30/07/14,30/07/14,5,Implement RepoCommand.Project.hashCode() since we override equals(),"Implement RepoCommand.Project.hashCode() since we override equals()

Bug: 440757
Change-Id: I16614c75b62b2fbef05419dd8667e3c50889abe4
Signed-off-by: Matthias Sohn <matthias.sohn@sap.com>",0,0,0,0,0,0,0,0,0
30767,Icabbd0e1de7e877c66a5c4a2c8391473f992a1aa,https://git.eclipse.org/r/#/c/30767,2,e9457cf776f2b1ac65d065b00fef66accedc5327,84bfc65dce1d8c918fbd8436ada23c7cab4f5d5a,1,30/07/14,31/07/14,27,Fix API Baseline checks,"Fix API Baseline checks

In change If45bc3d078b3d3de87b758e71d7379059d709603 a new parameter was
added to 3 protected methods of ResolveMerger. This breaks the code of
developers which have subclassed ResolveMerger. The API Baselinecheck in
Eclipse reports this as API breakage.

Since this will break only Providers but not Consumers of the API this
should be allowed also in minor versions. See semantic versioning doc
http://www.osgi.org/wiki/uploads/Links/SemanticVersioning.pdf

Therefore I added these modifications to the API filter rules.

Change-Id: Icabbd0e1de7e877c66a5c4a2c8391473f992a1aa
Bug: 440757",0,0,0,0,0,1,1,0,0
30858,I25915880f304090fe90584c79bddf021231227a2,https://git.eclipse.org/r/#/c/30858,2,84bfc65dce1d8c918fbd8436ada23c7cab4f5d5a,4b430438e8c1626ddc7d106a7d88b2fcf81a1363,1,01/08/14,02/08/14,31,IndexDiffFilter should never filter entries with stage<>0,"IndexDiffFilter should never filter entries with stage<>0

If the IndexDiffFilter is asked whether he should include or filter-out
a certain path and for that path there is a dircache entry with a stage
different from 0, then the filter should never filter-out this entry.
IndexDiffFilter is a optimized version of AnyDiffFilter and there is no
case where the index contains non-0 stages but we still don't see any
diff for that path.

Change-Id: I25915880f304090fe90584c79bddf021231227a2",0,0,0,0,0,1,1,0,0
30915,I4b52f97ff0e3fc8f097512806f043c615a3d2594,https://git.eclipse.org/r/#/c/30915,2,0113c0970262dc91d2f3407a2c8379406f3f31b5,766c40126d4b873b7003fbfcaf0a703d856bed76,0,02/08/14,02/08/14,65,Add more API to BranchConfig,"Add more API to BranchConfig

With these, more code can use BranchConfig instead of directly accessing
the raw configuration values.

Change-Id: I4b52f97ff0e3fc8f097512806f043c615a3d2594",0,0,0,0,0,0,0,NA,NA
30924,I9819f49410e30d32c2157db0556a0dd6a0bcc5a4,https://git.eclipse.org/r/#/c/30924,1,766c40126d4b873b7003fbfcaf0a703d856bed76,48ca8b994c6ea1368fab21799146642a54e2a4b9,1,03/08/14,03/08/14,30,Add isRebase to API of BranchConfig,"Add isRebase to API of BranchConfig

Change-Id: I9819f49410e30d32c2157db0556a0dd6a0bcc5a4
Signed-off-by: Robin Stocker <robin@nibor.org>",0,0,0,1,0,0,1,0,0
30936,Ifdbd1ae8153f2033922eae6ae8942c36db1f9806,https://git.eclipse.org/r/#/c/30936,1,ceaa4e7a66d08f0d5e12df8002934ded39b6031b,a1968f45ecb3c046428281cb77397a0fdd95f80f,0,03/08/14,05/08/14,5,Run unit tests in parallel,"Run unit tests in parallel

Configure Maven surefire plugin to run tests concurrently using
multiple processes. By default use one process per core available
on the machine running the tests.

Running this on my MacBook Pro i7 with 8 cores 16 GB RAM SSD
I get the following results:

forkCount   ""mvn clean install"" on org.eclipse.jgit.test
--------------------------------------------------------
1           02:36 min
2           01:26 min
4           00:56 min
6           00:49 min
8           00:49 min
10          00:51 min

When on-access scan of McAfee virus scanner is enabled the optimum
is at half the number of cores (4 of 8) on my MacBook.

Set system property ""test-fork-count"" to override the default.
Either set it to an absolute number e.g. ""4"" or in units of
cores available on the system running the build. E.g. ""0.5C"" to
use 4 cores on a 8 core system or ""1C"" to use all 8 cores on
a 8 core system.
E.g.
$ mvn clean install -Dtest-fork-count=0.5C
to use half the number of cores processes to run tests.

Change-Id: Ifdbd1ae8153f2033922eae6ae8942c36db1f9806
Signed-off-by: Sohn <matthias.sohn@sap.com>",0,0,0,0,0,0,0,NA,NA
31042,I5ed82b4a4b4a32a81a7fa2854636b921bcb3d471,https://git.eclipse.org/r/#/c/31042,1,6d2e6707101c4cbd56363675cd9e882d13f0b6ca,6359bfb43c6eaaece59aea4857f530934c04f97f,1,05/08/14,11/08/14,123,Fix CheckoutCommand not setting up tracking,"Fix CheckoutCommand not setting up tracking

Instead of passing on the start point as is to CreateBranchCommand, the
resolved ObjectId was used. Given this, CreateBranchCommand did not set
up tracking.

This also fixes CreateBranchCommand with setStartPoint(null) to use HEAD
(instead of NPEing), as documented in the Javadoc.

Bug: 441153
Change-Id: I5ed82b4a4b4a32a81a7fa2854636b921bcb3d471
Signed-off-by: Robin Stocker <robin@nibor.org>",0,0,1,0,0,0,1,0,0
31081,Iff2de8810f14ca304e6655fc8debeb8f3e20712b,https://git.eclipse.org/r/#/c/31081,5,a40e46bb58d71ee0308b211ec41a5fd628e2b533,c338634f13dd5e03f01187998e98e8e668577f8c,1,06/08/14,28/08/14,24,Let ObjectWalk.markUninteresting also mark the root tree as uninteresting,"Let ObjectWalk.markUninteresting also mark the root tree as uninteresting

Using the ObjectWalk and marking a commit as uninteresting didn't mark
its root tree as uninteresting. This caused the ""missing tree ...""
error in Gerrit under special circumstances. For example, if the
patch-set 2 changes only the commit message then the patch-set 1
and patch-set 2 share the same root level tree:

  ps1 -> o   o <- ps2
          \ /
           o root-tree

The transported pack will contain the ps2 commit but not the root-tree
object.

When using the receive.checkReferencedObjectsAreReachable Gerrit will
check the reachability of all referenced objects not provided in the
transported pack. Since the ps1 was advertised it will properly be
marked as uninteresting. However, the root-tree was reachable because
the ObjectWalk.markUninteresting missed to mark it as uninteresting.
Gerrit will then reject the pack with the ""missing tree ..."" exception.

Gerrit-issue: https://code.google.com/p/gerrit/issues/detail?id=1582
Change-Id: Iff2de8810f14ca304e6655fc8debeb8f3e20712b
Signed-off-by: Saa ivkov <sasa.zivkov@sap.com>",0,1,1,0,0,0,1,0,0
31148,Icef46360b32227a9db1d9bb9e6d929c72aeaa8df,https://git.eclipse.org/r/#/c/31148,3,f8b0bde796cb393be771427c0e5dd9769c8d92a4,b90230c3e074d874720fbf4ae1ef0553b796d519,1,07/08/14,07/08/14,13,Fix non-relative remote defined in manifest xml.,"Fix non-relative remote defined in manifest xml.

Currently if the remote defined in repo manifest xml is non-relative (e.g.
""https://chromium.googlesource.com""), our code will break. This change fixed
that.

Change-Id: Icef46360b32227a9db1d9bb9e6d929c72aeaa8df
Signed-off-by: Yuxuan 'fishy' Wang <fishywang@google.com>",0,0,0,0,0,0,0,1,1
31150,I32d468f92e24701ea680435bf3417e3850857303,https://git.eclipse.org/r/#/c/31150,4,ed2a6f5368c7648a77ad6c7d47edfd7878f5d2b9,000b1eb7724787abc58806ddc64036d70f9434ad,1,07/08/14,13/08/14,123,Add support to <include> tag in repo manifest xml.,"Add support to <include> tag in repo manifest xml.

Change-Id: I32d468f92e24701ea680435bf3417e3850857303
Signed-off-by: Yuxuan 'fishy' Wang <fishywang@google.com>",0,1,1,1,0,0,1,2,1
31311,I88d5ee4de121950e1b032a5c10486c9d2c42656c,https://git.eclipse.org/r/#/c/31311,2,7525a020b23775425c0570f98d3f5734f8471e21,e655795e01449931cc662723cf2d3ff80d2286d1,0,08/08/14,08/08/14,35,RecursiveMerger: do not insert virtual commits into repository,"RecursiveMerger: do not insert virtual commits into repository

When merging common ancestors to create a single virtual common
ancestor the commit does not need to be inserted into the Git
repository. Instead just mock it out in memory as part of the
merger's RevWalk pool.

Change-Id: I88d5ee4de121950e1b032a5c10486c9d2c42656c",0,0,0,0,0,0,0,NA,NA
31312,I94d5e927b5b2ec3971e9a70c18966368a61ec14c,https://git.eclipse.org/r/#/c/31312,1,e655795e01449931cc662723cf2d3ff80d2286d1,3a33c19abc9c778d30d29c9ebf571b5540bfde70,0,08/08/14,08/08/14,4,Update Maven JAR plugins,"Update Maven JAR plugins

Seems to fix the build stalls observed under some builds of the
Java 7 JRE.

Change-Id: I94d5e927b5b2ec3971e9a70c18966368a61ec14c",0,0,0,0,0,0,0,NA,NA
31326,I863a303194689a806b667e55eb958e1decf046c1,https://git.eclipse.org/r/#/c/31326,1,356a632e2b65defda1d8957c10de14a6abbd8f28,1d6acd7345fa977eb06dea16835f827ab7851db7,1,08/08/14,08/08/14,7,ResolveMerger: push result file creation into updateIndex(),"ResolveMerger: push result file creation into updateIndex()

The only caller of writeMergedFile is updateIndex, and the only
user of this path object is the code within the method. This is
a no-op change that opens the door to refactoring the way temp
files are handled for inCore merges.

Change-Id: I863a303194689a806b667e55eb958e1decf046c1",0,0,0,0,0,0,0,0,0
31329,I791fc054596e7d9aa9f3cc8126eb0162539c57bf,https://git.eclipse.org/r/#/c/31329,3,0de54923bd2030b4e33d35971c7e4d5f385a7c01,0e785edf486875c32e44a89a80cc8f281b7a96e1,1,08/08/14,11/08/14,24,Update maven plugins to latest versions,"Update maven plugins to latest versions

Change-Id: I791fc054596e7d9aa9f3cc8126eb0162539c57bf
Signed-off-by: Matthias Sohn <matthias.sohn@sap.com>",0,0,1,1,0,0,1,0,0
31330,I3e8b3835b8ebbb8f0a2a9be42e6c16899cb3b993,https://git.eclipse.org/r/#/c/31330,3,535f30f8a77901b7c81f60e343bcda16cb07d3b6,3a7e0da69cf542c17c621572f00b3e0ef4ce8d82,0,08/08/14,11/08/14,10,Update tycho and signing plugins to latest versions,"Update tycho and signing plugins to latest versions

Change-Id: I3e8b3835b8ebbb8f0a2a9be42e6c16899cb3b993
Signed-off-by: Matthias Sohn <matthias.sohn@sap.com>",0,0,1,1,0,0,1,NA,NA
31336,Ieccbd9b354d4dd3d2bc1304857325ae7a9f34ec6,https://git.eclipse.org/r/#/c/31336,1,296f380f1a5afcd0c0d5cc69738e85f45a0d5fee,44627da3ba84d788efb8cbf9a6cd10a04c1fa406,1,09/08/14,11/08/14,127,Process most in-core merges without local temp files,"Process most in-core merges without local temp files

Instead of always writing to disk use TemporaryBuffer.LocalFile to
store up to 10 MiB of merge result in RAM. Most source code will
fit into this limit, avoiding local disk IO for simple merges.

Larger files will automatically spool to a temporary file that
can be cleaned up in the finally, reducing the risk of leaving
them on disk and consuming space in /tmp.

Change-Id: Ieccbd9b354d4dd3d2bc1304857325ae7a9f34ec6",0,0,0,0,0,0,0,0,0
31366,Ibefb930381f2f16eddb9947e592752f8ae2b76e1,https://git.eclipse.org/r/#/c/31366,8,11b94277364dce4f1b7f7e4beb408959e6c4b80e,46b9602bd1bec91328b61af26b6ba53eab621e51,1,11/08/14,27/10/14,3221,Reimplementation of file name matcher and ignore rule parser,"Reimplementation of file name matcher and ignore rule parser

The current IgnoreRule/FileNameMatcher implementation scales not well
with huge repositories - it is both slow and memory expensive (bug
440732). Addtitionally, the ""double star"" pattern is not understood by
the parrser (bug 416348).

The proposed implementation is a complete clean room rewrite of the
gitignore parser and fnmatcher.

Bug 416348
Bug 440732
Change-Id: Ibefb930381f2f16eddb9947e592752f8ae2b76e1
Signed-off-by: Andrey Loskutov <loskutov@gmx.de>",0,1,0,0,1,1,1,7,1
31482,I38967e2a0cff14c0a856cdb46a2c8fedbeb21ed5,https://git.eclipse.org/r/#/c/31482,3,d0bdab6829339155013aac731d6360370cfbbb78,75072a0a3add64606dcbb279d4092dd605e4f64d,1,12/08/14,13/08/14,16,Allow DfsInserter to buffer up to 10 MiB from an InputStream,"Allow DfsInserter to buffer up to 10 MiB from an InputStream

Since 2badedcbe0f87c0a in-core merges can write up to 10 MiB
into a TemporaryBuffer.Heap strategy, where the data is stored
as a chain of byte[] blocks.

Allow the inserter to pull up to 10 MiB from that input stream
and hash the content to determine if the merged result blob is
already present in the repository. This allows the inserter to
avoid creating duplicate objects in more cases, reducing churn.

Change-Id: I38967e2a0cff14c0a856cdb46a2c8fedbeb21ed5",0,0,0,0,0,0,0,0,0
31501,I1803ec6d8141f07dd4085778da6461abe81c30a9,https://git.eclipse.org/r/#/c/31501,4,06a238c73770143e5a0721184f5daac19673bd05,ba7e0646b2d80afc9378e8160be94b7de6176ae3,1,13/08/14,29/08/14,8,PackIndexV2 should check for possible corruption,"PackIndexV2 should check for possible corruption

Change-Id: I1803ec6d8141f07dd4085778da6461abe81c30a9
Signed-off-by: Marc Strapetz <marc.strapetz@syntevo.com>",0,1,1,1,0,0,1,0,0
31552,I075ad95e40af49c92b554480f8993ef5658f7684,https://git.eclipse.org/r/#/c/31552,1,55a631cd05cef3e5e2c5790eca3d802599ca26d5,08cae2e182b09768dcfce7cef5626572f0aa0fa6,1,13/08/14,13/08/14,334,"Revert ""Add a method to DfsOutputStream to read as an InputStream""","Revert ""Add a method to DfsOutputStream to read as an InputStream""

This reverts commit b646578d89513c5db30151f0b865c7335c88d682.

openInputStream() is never used in JGit, nor is it used by any
known working DFS implementation. The method was added as a
utility for reading back from a DfsInserter, but the final
implementation of that feature does not requrire this method.

Change-Id: I075ad95e40af49c92b554480f8993ef5658f7684",0,0,0,0,0,0,0,0,0
31562,Iee5866c005cbc1430dc20ee7db321b8b51afed30,https://git.eclipse.org/r/#/c/31562,1,c6973bd8ba8b834a748cf20291eb9d8aea5f6b2e,49d36d15b778e6524f0d991a5e930c98851b96dc,1,13/08/14,13/08/14,17,Tweak the handling of remote url in jgit repo.,"Tweak the handling of remote url in jgit repo.

This kind of reverted 31148. URI.resolve actually can handle the absolute URL
well, the problem is only the missing ""/"".

Change-Id: Iee5866c005cbc1430dc20ee7db321b8b51afed30
Signed-off-by: Yuxuan 'fishy' Wang <fishywang@google.com>",0,0,0,0,0,0,0,0,0
31598,Ib5d24f8dafacc0d12c36927c2bbc3ebef2fff7b2,https://git.eclipse.org/r/#/c/31598,1,a7802f958fc532c7eef053c59928f7b63a28b818,08d1ffda244090bce3965acd6178bd1a7f0fb4e3,1,13/08/14,13/08/14,1,Add missing @since 3.5 tag to RepoCommand.setIncludedFileReader,"Add missing @since 3.5 tag to RepoCommand.setIncludedFileReader

Change-Id: Ib5d24f8dafacc0d12c36927c2bbc3ebef2fff7b2",0,0,0,1,0,0,1,0,0
31604,I95d02bfeab4bf995a254d49166b4ae62d1f21346,https://git.eclipse.org/r/#/c/31604,4,f4631898fbd4be9737f627f237a1bc300229a5af,655782cf438772ff9d537f640eb42b7e2a47d3b6,1,14/08/14,14/08/14,140,"Cleanup use of java.util.Inflater, fixing rare infinite loops","Cleanup use of java.util.Inflater, fixing rare infinite loops

The native implementation of inflate() can set finished to return
true at the same time as it copies the last bytes into the buffer.

Check for finished on each iteration, terminating as soon as libz
knows the stream was completely inflated.

If not finished, it is likely input is required before the next
native call could do any useful work. Most invocations are passing
in a buffer large enough to store the entire result. A partial return
from inflate() will need more input before it can continue. Checking
right away that needsInput() is true saves a native call to determine
no bytes can be inflated without more input.

This should fix a rare infinite loop condition inside of inflation.
If the inflater was fed the entire pack, and the pack was smaller
than one block size the loop could run forever. The inflater could
set 0 bytes input remaining, which sets needsInput() true. As the
stream is finished each new attempt to inflate() returns n == 0,
as no additional bytes were output. The needsInput() test tries to
add the length of this block to itself, but then loops back around
an reloads the same block as the block is smaller than a full block
size. A zero length input is set to the inflater, which triggers
needsInput() condition again.

org.eclipse.jgit/src/org/eclipse/jgit/internal/storage/dfs/DfsBlock.java

org.eclipse.jgit/src/org/eclipse/jgit/internal/storage/dfs/DfsInserter.java

org.eclipse.jgit/src/org/eclipse/jgit/internal/storage/dfs/DfsReader.java

org.eclipse.jgit/src/org/eclipse/jgit/internal/storage/file/PackFile.java

org.eclipse.jgit/src/org/eclipse/jgit/internal/storage/file/WindowCursor.java

org.eclipse.jgit/src/org/eclipse/jgit/transport/PackParser.java

Change-Id: I95d02bfeab4bf995a254d49166b4ae62d1f21346",0,1,0,0,0,0,1,-1,0
31752,I6ddc7470368acd20abf0885c53c89a982bb0f176,https://git.eclipse.org/r/#/c/31752,1,d3e2833d22cf7711b9c3354f1b2e2f81aca990e0,b68dfd33b500502c7e01c488db10d3ef978acf71,1,15/08/14,28/08/14,2,PackIndexV2: fix possibly wrong check,"PackIndexV2: fix possibly wrong check

According to http://stackoverflow.com/a/8381338, the maximum array
size is not Integer.MAX_VALUE, but Integer.MAX_VALUE - 8

Change-Id: I6ddc7470368acd20abf0885c53c89a982bb0f176
Signed-off-by: Marc Strapetz <marc.strapetz@syntevo.com>",0,0,1,0,0,0,1,0,0
31766,I3f5c55dd4c084529af2319029305ba2e174e0636,https://git.eclipse.org/r/#/c/31766,9,6fc04152009266044f59b5afb5c2c159cc5801fc,b38fe1b265161a752e93e75c4fbbeb5386a6d1b0,1,15/08/14,22/11/14,260,"Set permission bits for ""executable"" attribute according to the umask","Set permission bits for ""executable"" attribute according to the umask

Bug: 424395
Change-Id: I3f5c55dd4c084529af2319029305ba2e174e0636
Signed-off-by: Andrey Loskutov <loskutov@gmx.de>",0,1,1,0,0,1,1,0,0
31771,Iebe739d30fd868ebc4f61dbfb714673146a2c3ec,https://git.eclipse.org/r/#/c/31771,3,d2b32fb2b0367d0fa29f7bd5b20a7ba59ac46138,3a2d352179e2c2e2c1b31142bc668496e656b0d6,1,15/08/14,15/08/14,15,ResolveMerger: Create TreeWalk from the ObjectReader,"ResolveMerger: Create TreeWalk from the ObjectReader

This is necessary to ensure objects accessed by the TreeWalk come from
the associated ObjectInserter when the merger is a RecursiveMerger
instance and a virtual common base was constructed but not flushed.

Change-Id: Iebe739d30fd868ebc4f61dbfb714673146a2c3ec",0,0,0,0,0,0,0,0,0
31802,Ifec3ac59264c91e154b832fdd907736faf8a8412,https://git.eclipse.org/r/#/c/31802,2,11ec519c4f6c09aaa9ddd0e859bd933e2c38506e,87b3b4b603074f54d17bdb9cb6f85ff69f039360,1,17/08/14,17/08/14,32,Add tests for checking out tags with CheckoutCommand,"Add tests for checking out tags with CheckoutCommand

Change-Id: Ifec3ac59264c91e154b832fdd907736faf8a8412
Signed-off-by: Robin Stocker <robin@nibor.org>",0,0,0,1,0,0,1,0,0
31803,I78b92ccbcc099370fc99a1d2fa2cf60d5f5892e6,https://git.eclipse.org/r/#/c/31803,1,5df1c05f8f6525d0d6b75f980c3900bbaff01018,1270ea4b8f4bd2a46e5d78c78c32b72ae160fbae,1,17/08/14,17/08/14,4,Add toString to Git with repository path,"Add toString to Git with repository path

Useful for debugging.

Change-Id: I78b92ccbcc099370fc99a1d2fa2cf60d5f5892e6
Signed-off-by: Robin Stocker <robin@nibor.org>",0,0,0,0,0,0,0,0,0
31853,I3c730a1ce379d142d3ed81dda4a73f86f1f9c3eb,https://git.eclipse.org/r/#/c/31853,1,2608ccaeae8dfc2af32e51b957d0b2f5746b3219,e104055a5981df4be96c793395fd51b197ed5fca,1,18/08/14,18/08/14,62,Support non-default remotes in project tag.,"Support non-default remotes in project tag.

Change-Id: I3c730a1ce379d142d3ed81dda4a73f86f1f9c3eb
Signed-off-by: Yuxuan 'fishy' Wang <fishywang@google.com>",0,0,0,1,0,0,1,0,0
31855,Icbe5761b9d8a4ae5305bfe45b2d042f214156fc8,https://git.eclipse.org/r/#/c/31855,1,e104055a5981df4be96c793395fd51b197ed5fca,6ff646f21ebc0039c82d8cead19354824f1e5fc6,1,18/08/14,18/08/14,31,Support remote aliases in repo manifest.,"Support remote aliases in repo manifest.

Change-Id: Icbe5761b9d8a4ae5305bfe45b2d042f214156fc8
Signed-off-by: Yuxuan 'fishy' Wang <fishywang@google.com>",0,0,0,1,0,0,1,0,0
31893,I320b5cd526827844d4fe0cbc0f32551010e98090,https://git.eclipse.org/r/#/c/31893,1,6ff646f21ebc0039c82d8cead19354824f1e5fc6,d7a5e3d4d364d196c201e808af22e109967796f0,0,19/08/14,19/08/14,2,Fix minor spelling error in comment,"Fix minor spelling error in comment

Change-Id: I320b5cd526827844d4fe0cbc0f32551010e98090",0,0,0,1,0,0,1,NA,NA
31944,I3f40a26d43cd2eb4e32c11aba7dc2594bc1f98e2,https://git.eclipse.org/r/#/c/31944,3,349859dfc1f55c95c67d7d310db8ace1bfe1db40,b9c923ec99e360405af6d72658633bab2fd9366a,0,20/08/14,21/08/14,15,Throw URISyntaxException for incorrect percent-encoding,"Throw URISyntaxException for incorrect percent-encoding

URIish.unescape() threw an ArrayIndexOutOfBoundsException if the given
url has incorrect percent-encoding (e.g. http://example.com/%gg). But an
URISyntaxException is much better to know the reason of the failure.

Change-Id: I3f40a26d43cd2eb4e32c11aba7dc2594bc1f98e2
Signed-off-by: Yi EungJun <eungjun.yi@navercorp.com>",0,0,0,0,0,0,0,NA,NA
32065,I567a3c620e191ce9d37d318417e63cb5d4483419,https://git.eclipse.org/r/#/c/32065,1,ec2f62ab751e1e6bfd829771283e6630ea709e78,632acd6d0af9c359512acf22b0119bca2c665920,1,21/08/14,22/08/14,22,"Strip ""<"", "">"", and ""\n"" from name/email in UserConfig","Strip ""<"", "">"", and ""\n"" from name/email in UserConfig

This matches what C Git does, see ""stripped"" in `man git-commit-tree`.

It also fixes the bug of the user where an user.email like ""<>"" would
show up as ""<<>>"" in EGit.

Bug: 439844
Change-Id: I567a3c620e191ce9d37d318417e63cb5d4483419
Signed-off-by: Robin Stocker <robin@nibor.org>",0,0,0,0,0,0,0,0,0
32434,I46639366b0900052c376091e1688f07def44ab79,https://git.eclipse.org/r/#/c/32434,3,3fcadc334f0f36181b687630fee49fd985eb7185,5366f09a4906f56649834b4b4854d5cae4d76ded,1,27/08/14,27/08/14,23,ReceivePack: Accept shallow lines from Git >= 1.9,"ReceivePack: Accept shallow lines from Git >= 1.9

In Git 1.9 (5dbd767601 ""support pushing from a shallow clone"")
the git-core project intentionally broke the existing send-pack
protocol from shallow clients.

Shallow clients now transmit their shallow information during push,
ahead of the old-new command sequence. JGit must accept these lines
when presented.

Change-Id: I46639366b0900052c376091e1688f07def44ab79",0,0,0,0,0,0,0,0,0
32444,Ic45919a0b695e8a6f4ed47cc060e0c41f1d7e7ea,https://git.eclipse.org/r/#/c/32444,1,4e6df2359a6e1e439ae973e90a28f56457dffc99,bdc7d7f40c52da8b974654b16d857b8d5fc08967,1,27/08/14,27/08/14,20,Handles repo manifest file without default remote.,"Handles repo manifest file without default remote.

Change-Id: Ic45919a0b695e8a6f4ed47cc060e0c41f1d7e7ea
Signed-off-by: Yuxuan 'fishy' Wang <fishywang@google.com>",0,0,0,1,0,0,1,0,0
32518,I53fa312d6b64c6eb2240f08af7d1d60cea99192a,https://git.eclipse.org/r/#/c/32518,1,b168bb5d264cefdf14b27f4e0988ef15a44bb288,c6f23cb6061f9a4482db6b22b5877df9e9a9a3fc,1,29/08/14,29/08/14,5,Allow projects without path attribute in manifest.,"Allow projects without path attribute in manifest.

In such case, we use the name attribute as the default value of path.

Change-Id: I53fa312d6b64c6eb2240f08af7d1d60cea99192a
Signed-off-by: Yuxuan 'fishy' Wang <fishywang@google.com>",0,0,0,0,0,0,0,0,0
32541,Ie5ecc13822faa366f00b3daa07f74c8441cae195,https://git.eclipse.org/r/#/c/32541,3,0c5193e990e5bbd89a06b284394daef0d8266ce7,1d9763ee3d961659bfd51175425075c4f25aaf0b,1,29/08/14,29/08/14,123,Handle -m option for Merge command,"Handle -m option for Merge command

Set the commit message to be used for the merge commit (in case one is
created)

Bug: 422886
Change-Id: Ie5ecc13822faa366f00b3daa07f74c8441cae195
Signed-off-by: Axel Richard <axel.richard@obeo.fr>",0,0,0,0,0,0,0,1,1
32576,Iceae4f68b5473f4223d85c9edfb57837fc818eed,https://git.eclipse.org/r/#/c/32576,1,51455b8eaf8c4a33076ee72f7304c202ee7f887b,db9fc211e539cdc237b7cb0619875bccf9ecfdee,1,29/08/14,29/08/14,7,UploadPack: Always make PackWriter.Statistics available,"UploadPack: Always make PackWriter.Statistics available

If the packer fails, still obtain the stats and make them available
to the logger and the caller. Failures can frequently happen when
a client disconnects in the middle of a pack stream. Server admins
may still want to examine the timing metrics from counting and
compressing phases.

Change-Id: Iceae4f68b5473f4223d85c9edfb57837fc818eed",0,0,0,0,0,0,0,0,0
32626,Ib274e7d9c43bba301089975423de6a05ca5169f6,https://git.eclipse.org/r/#/c/32626,1,6f192f7cd08bb3ddea35311e06b037cf2033becf,ae5afe92702b50d37b4652dfbe9d13be14cfedd9,1,01/09/14,01/09/14,5,Prevent NPE if no CredentialsProvider is registered,"Prevent NPE if no CredentialsProvider is registered

If the git server requires authentication and no CredentialsProvider is
registered TransportHttp.connect() would throw an NPE since it tries to
reset the credentials provider. Instead throw a TransportException
explaining the problem.

Change-Id: Ib274e7d9c43bba301089975423de6a05ca5169f6
Signed-off-by: Matthias Sohn <matthias.sohn@sap.com>",0,0,0,0,0,0,0,0,0
32665,I40b1eb044fa2d9e6c5d4b956c17e32ca6c1bd39f,https://git.eclipse.org/r/#/c/32665,2,d3199633b62d51b566a7fbc91366f8bdfd291227,4d920bfeef8a05a6e9b04575ab4017bb6677a762,1,01/09/14,02/09/14,48,PlotCommitList: Close plot lanes at root commits,"PlotCommitList: Close plot lanes at root commits

Bug: 443006
Change-Id: I40b1eb044fa2d9e6c5d4b956c17e32ca6c1bd39f
Signed-off-by: Konrad Kgler <swamblumat-eclipsebugs@yahoo.de>",0,0,0,0,0,0,0,0,0
32883,I00858aa393a948f8e742e64ae4c00953eadaef95,https://git.eclipse.org/r/#/c/32883,1,7435c827f28e36199888fde1dcfa2ba1cda7d4ef,a7f35b69bccb7264179ad49820f6634ea4481563,1,04/09/14,04/09/14,57,PackWriter: Report more stats during partial writes,"PackWriter: Report more stats during partial writes

It can be useful for a server operator to know how long a pack
writer spent writing out objects, even if the request aborts and
never finishes.

Record more of the stats data inside of a finally block, to
ensure these can be included into the server's monitoring.

Change-Id: I00858aa393a948f8e742e64ae4c00953eadaef95",0,0,0,0,0,0,0,0,0
32924,I2d8c3768998c0cfc8d02d11009bc5b7ed1d75778,https://git.eclipse.org/r/#/c/32924,1,a7f35b69bccb7264179ad49820f6634ea4481563,9f66227c153f2c11d4f881cea3ffd44053e778b5,1,05/09/14,05/09/14,530,Prepare 3.6.0-SNAPSHOT builds,"Prepare 3.6.0-SNAPSHOT builds

Change-Id: I2d8c3768998c0cfc8d02d11009bc5b7ed1d75778
Signed-off-by: Matthias Sohn <matthias.sohn@sap.com>",1,0,0,1,1,0,1,0,0
32993,I567f9a8e355c7624efa3efc9bac4f3b9015afa97,https://git.eclipse.org/r/#/c/32993,1,f3a00182af9ecbc502e0e878b1c287fbb63c1e8f,92f27d46bac4cadc40ed2b2221d611cfc8fe6c2d,1,06/09/14,06/09/14,17,Fix the ls-remote command when there is no local repo,"Fix the ls-remote command when there is no local repo

Bug: 436695
Change-Id: I567f9a8e355c7624efa3efc9bac4f3b9015afa97
Signed-off-by: Matthias Sohn <matthias.sohn@sap.com>",0,0,0,0,0,0,0,0,0
33011,I59e5e2492820da111df1837fbf3649a2ae03841c,https://git.eclipse.org/r/#/c/33011,1,92f27d46bac4cadc40ed2b2221d611cfc8fe6c2d,4533d8552144488da18c5a8e0e2019e2c38ccaa8,1,07/09/14,07/09/14,118,JGit 3.5.0.201409071800-rc1,"JGit 3.5.0.201409071800-rc1

Change-Id: I59e5e2492820da111df1837fbf3649a2ae03841c
Signed-off-by: Matthias Sohn <matthias.sohn@sap.com>",1,0,0,1,0,0,1,0,0
33014,Id9e01b867bff0ed10e887c15a12e5399b788b68e,https://git.eclipse.org/r/#/c/33014,1,4533d8552144488da18c5a8e0e2019e2c38ccaa8,4ef2ff8a19032934159016e4f271f8425723a61a,1,07/09/14,08/09/14,118,Prepare post 3.5.0-rc1 builds,"Prepare post 3.5.0-rc1 builds

Change-Id: Id9e01b867bff0ed10e887c15a12e5399b788b68e
Signed-off-by: Matthias Sohn <matthias.sohn@sap.com>",1,0,0,1,0,0,1,0,0
33054,I1dd741d3e522e396950c30d2f96e9713d0439078,https://git.eclipse.org/r/#/c/33054,1,a0f135a34b7a2f103b940d5277d4cff42ce04daf,c9d3b72b3cc0610d069747321e8f498a2555c674,1,08/09/14,08/09/14,7,PackIndexV1 should check for possible corruption,"PackIndexV1 should check for possible corruption

Change-Id: I1dd741d3e522e396950c30d2f96e9713d0439078
Signed-off-by: Marc Strapetz <marc.strapetz@syntevo.com>",0,0,0,1,0,0,1,0,0
33219,I29f7b79b241929877c93ac485c677487a91bb77b,https://git.eclipse.org/r/#/c/33219,6,c9d3b72b3cc0610d069747321e8f498a2555c674,df568cf392a2fe2481abae73a0d36c301c97b593,1,10/09/14,28/03/15,342,Do not add a newline at the end if neither merged side had one,"Do not add a newline at the end if neither merged side had one

Bug: 390833
Change-Id: I29f7b79b241929877c93ac485c677487a91bb77b
Signed-off-by: Andr de Oliveira <andre.oliveira@liferay.com>",0,1,0,0,0,0,1,0,0
33503,I024101f2810acf6be13ce144c9893d98f5c4ae76,https://git.eclipse.org/r/#/c/33503,4,bdabc839ffe2a36643dac7597a08768f78d58205,c371f67a65493a7b40c72bd46012853335d9391c,1,17/09/14,21/09/14,144,"Add ""aggressive"" option to GC","Add ""aggressive"" option to GC

JGit should offer the possibility to do a garbage collection in
""aggressive"" mode. In this mode garbage collection more aggressively
optimize the repository at the expense of taking much more time.
Technically a aggressive mode garbage collection differs from a
non-aggressive one by:
- not reusing packed objects found in old packs. Recompress every object
- the configuration pack.window is set to 250 (the default is 10)
- the configuration pack.depths is set to 250 (the default is 50)

The associated classes in org.eclipse.jgit.api and the command line
command in org.eclipse.jgit.pgm expose this new option.

The configuration parameters gc.aggressiveDepth and gc.aggressiveWindow
have been introduced to configure this feature.

Bug: 444332 
Change-Id: I024101f2810acf6be13ce144c9893d98f5c4ae76",0,1,1,0,0,1,1,0,0
33510,Ie096983bc1caa90443a504d302bfea8f2d26ab9e,https://git.eclipse.org/r/#/c/33510,1,78dc3ac8427d5b749af27a7f754a23b6114aaa0f,12ab471023660161820ff56f958bcb06a62dd809,1,17/09/14,22/09/14,3,Do not use .netrc implicitly if no CredentialsProvider was set,"Do not use .netrc implicitly if no CredentialsProvider was set

Do not silently set the NetRCCredentialsProvider if no
CredentialsProvider was set explicitly since applications may want to
have full control which provider should be used.

Bug: 444338
Change-Id: Ie096983bc1caa90443a504d302bfea8f2d26ab9e
Signed-off-by: Matthias Sohn <matthias.sohn@sap.com>",0,0,1,0,0,0,1,0,0
33733,I499f304119d7066d011dbde3556dee6facee8ab0,https://git.eclipse.org/r/#/c/33733,4,12ab471023660161820ff56f958bcb06a62dd809,61f30fd9ab63c1b68f4b509d80beaa6f212cb8b2,1,22/09/14,24/09/14,131,Add chaining credentials provider,"Add chaining credentials provider

The chaining credentials provider sequentially tries to obtain
credentials from a list of credential providers and returns the
credentials from the first provider which can provide them.

Change-Id: I499f304119d7066d011dbde3556dee6facee8ab0
Signed-off-by: Matthias Sohn <matthias.sohn@sap.com>",0,1,0,0,0,0,1,0,0
33734,Iba3d5aec18cc7d7f43e53fa6789f0dede9996fb7,https://git.eclipse.org/r/#/c/33734,2,11b72ba026f919cb9167c1f6d356e48443fb06aa,cf7ad5a1b53cab95f4f31bcd6be5782ac4749120,0,22/09/14,23/09/14,17,[Java 8] Configure doclint to accept missing descriptions,"[Java 8] Configure doclint to accept missing descriptions

We avoid trivial descriptions in JavaDoc. Hence configure
doclint to not fail on missing descriptions.

Change-Id: Iba3d5aec18cc7d7f43e53fa6789f0dede9996fb7
Signed-off-by: Matthias Sohn <matthias.sohn@sap.com>",0,0,0,0,0,0,0,NA,NA
33799,Iea1f595618edfb87a37137db08bac8ca2d500ebc,https://git.eclipse.org/r/#/c/33799,3,9cf6841b3fd93afbd213ac28c74baa6f3f6cae86,4cd3c04ac077b09646591051d1e9e57f61ca3f63,0,23/09/14,24/09/14,6,[cli] Use chaining credentials provider to enable .netrc,"[cli] Use chaining credentials provider to enable .netrc

If available use credentials in .netrc otherwise prompt the user
if jgit command line needs credentials for remote operations.

Change-Id: Iea1f595618edfb87a37137db08bac8ca2d500ebc
Signed-off-by: Matthias Sohn <matthias.sohn@sap.com>",1,0,0,0,0,0,1,NA,NA
33813,Ibeb09eb23d47412fa93493bb4e81d24d437e31bc,https://git.eclipse.org/r/#/c/33813,2,72d036023b27a37d317caa60f9831596a64105b4,5e84ffb48218c5a6b242d8c712c2f7da9c09facf,0,24/09/14,24/09/14,12,Fixed API violation errors for 3.6 in ConfigConstants,"Fixed API violation errors for 3.6 in ConfigConstants

Change-Id: Ibeb09eb23d47412fa93493bb4e81d24d437e31bc
Signed-off-by: Andrey Loskutov <loskutov@gmx.de>",0,0,0,1,0,0,1,NA,NA
33890,I76dcbb763984e7a7a526e29ec379d1f923b4253f,https://git.eclipse.org/r/#/c/33890,1,e61bb57b2c2803b1aea8d360945001bc3d123b3a,7c9add9f297c92f865cc1ab7e424b72f635feb24,0,25/09/14,25/09/14,2,Compare API changes with clirr against 3.4.1,"Compare API changes with clirr against 3.4.1

Change-Id: I76dcbb763984e7a7a526e29ec379d1f923b4253f
Signed-off-by: Matthias Sohn <matthias.sohn@sap.com>",1,0,0,1,0,0,1,NA,NA
33891,I6dc5dddea0adbb4abf5560d5d1c833408e944082,https://git.eclipse.org/r/#/c/33891,1,7c9add9f297c92f865cc1ab7e424b72f635feb24,4d86c52f61f0996106343a94084c168af9859da1,0,25/09/14,25/09/14,11,Generate javadocs as part of Maven site project reports,"Generate javadocs as part of Maven site project reports

see http://maven.apache.org/plugins/maven-javadoc-plugin/usage.html

Change-Id: I6dc5dddea0adbb4abf5560d5d1c833408e944082
Signed-off-by: Matthias Sohn <matthias.sohn@sap.com>",1,0,0,0,0,0,1,NA,NA
33892,I7e64c8560ca75196d2232f111ffad953c14f013f,https://git.eclipse.org/r/#/c/33892,1,4d86c52f61f0996106343a94084c168af9859da1,396507ddb0f912c3af1f110a03a8ac9db2b9c7c2,0,25/09/14,25/09/14,24,Enable maven site generation for jgit,"Enable maven site generation for jgit

Generating the site:
$ mvn site:site

Local staging of the site:
$ mvn site:stage
the site is staged under ./target/staging/

If you can connect to build.eclipse.org over ssh
(ask webmaster if you are a committer and need ssh access)
you can deploy a local build of the site:
$ mvn site:deploy
The site is deployed under
http://download.eclipse.org/jgit/site/${project.version}

To select the ssh key to use for deploying over ssh add the following
section to your Maven settings.xml:
<server>
  <id>jgit.website</id>
  <username>username</username>
  <privateKey>${user.home}/.ssh/id_rsa</privateKey>
  <filePermissions>664</filePermission>
  <directoryPermissions>775</directoryPermissions>
  <configuration></configuration>
</server>

To deploy the site from Hudson https://hudson.eclipse.org/egit/
enable the Maven profile ""build-server"".

Change-Id: I7e64c8560ca75196d2232f111ffad953c14f013f
Signed-off-by: Matthias Sohn <matthias.sohn@sap.com>",1,0,0,0,0,0,1,NA,NA
33906,I6b6598a1ec49af68aa77ea6f1f06e827982ea4ac,https://git.eclipse.org/r/#/c/33906,5,7c9436c3df9dc528d70bd4c3f1083b0580efa95e,1af9f15cae9d44f438e80750c684b264d0a6b7e7,1,25/09/14,25/09/14,50,Fix PackWriterBitmapWalker handling non-existing uninteresting objects,"Fix PackWriterBitmapWalker handling non-existing uninteresting objects

When writing new packs it should be allowed to specify objects as ""have""
(objects which should not be included in the pack) which do not exist in
the local repo. This works find with traditional PackWriter, but when
PackWriter was working on a repo with bitmap indexes and used
PackWriterBitmapWalker then this feature was broken. Non-existing ""have""
objects lead to MissingObjectExceptions. That broke e.g. gerrit
replication. When the replication target had branches unknown to the
replication source then the source repository wants to build pack files
where ""have"" included these branch-tips which where unknown in the
source repository.

Also-by: Matthias Sohn <matthias.sohn@sap.com> 
Change-Id: I6b6598a1ec49af68aa77ea6f1f06e827982ea4ac",0,1,0,0,0,1,1,1,1
33939,Ibf382bda3dcbb4b70829b1dd3a8abfd07bc4879e,https://git.eclipse.org/r/#/c/33939,1,1af9f15cae9d44f438e80750c684b264d0a6b7e7,79e6a093911ea7e5b10513ff4b15da3bef04c847,1,26/09/14,26/09/14,118,JGit v3.5.0.201409260305-r,"JGit v3.5.0.201409260305-r

Change-Id: Ibf382bda3dcbb4b70829b1dd3a8abfd07bc4879e
Signed-off-by: Matthias Sohn <matthias.sohn@sap.com>",1,0,0,1,0,0,1,0,0
33963,Ibf89f996c9d9a7e431ee09261987bb76246de441,https://git.eclipse.org/r/#/c/33963,1,79e6a093911ea7e5b10513ff4b15da3bef04c847,5e41e7c59d0c7795a323364c13b806aa70e26369,1,26/09/14,26/09/14,528,Prepare 3.5.1-SNAPSHOT builds,"Prepare 3.5.1-SNAPSHOT builds

Change-Id: Ibf89f996c9d9a7e431ee09261987bb76246de441
Signed-off-by: Matthias Sohn <matthias.sohn@sap.com>",1,0,0,1,1,0,1,0,0
33968,Iaa4485cac6ff9c7917380e89e12e416e0f52a557,https://git.eclipse.org/r/#/c/33968,1,b72a7aee0206cdf1470efb0528c161ffb46cb8ae,aea64b14fb002cf86c43db3a52c988e67a16c0c3,1,26/09/14,26/09/14,635,Merge branch 'stable-3.5',"Merge branch 'stable-3.5'

* stable-3.5:
  Prepare 3.5.1-SNAPSHOT builds
  JGit v3.5.0.201409260305-r
  Fix PackWriterBitmapWalker handling non-existing uninteresting objects
  Enable maven site generation for jgit
  Generate javadocs as part of Maven site project reports
  Compare API changes with clirr against 3.4.1
  [cli] Use chaining credentials provider to enable .netrc
  Add chaining credentials provider
  [Java 8] Configure doclint to accept missing descriptions
  Do not use .netrc implicitly if no CredentialsProvider was set
  Prepare post 3.5.0-rc1 builds
  JGit 3.5.0.201409071800-rc1
  Fix the ls-remote command when there is no local repo

Change-Id: Iaa4485cac6ff9c7917380e89e12e416e0f52a557
Signed-off-by: Matthias Sohn <matthias.sohn@sap.com>",1,0,0,0,1,0,1,0,0
34054,Ia8428af84fb61ba0d572374a19e8e8c55b138a63,https://git.eclipse.org/r/#/c/34054,5,7294d9af9a2e27d049296004899643ccffe82078,90173e8005848e3ab4d9e9063faa73e085f867b8,1,29/09/14,23/10/14,39,Initialize 'pathLen' field also for empty directories,"Initialize 'pathLen' field also for empty directories

Bug: 445363
Change-Id: Ia8428af84fb61ba0d572374a19e8e8c55b138a63
Signed-off-by: Andrey Loskutov <loskutov@gmx.de>",0,1,0,0,0,0,1,0,0
34439,I8ce8a159120ce3747d31d6f012c6d2c0d0ce7917,https://git.eclipse.org/r/#/c/34439,2,612c038908e84947dda9164d94bf45046b893608,975630de160ef5401de1aba4427771536b276ad6,1,06/10/14,13/10/14,2,Only hide gitdir if it starts with a dot,"Only hide gitdir if it starts with a dot

This problem was raised on the jgit list
https://dev.eclipse.org/mhonarc/lists/jgit-dev/msg02675.html

Change-Id: I8ce8a159120ce3747d31d6f012c6d2c0d0ce7917
Signed-off-by: Matthias Sohn <matthias.sohn@sap.com>",0,0,1,0,0,0,1,0,0
34727,Ib7dec10fd2ef1adbb8adbabb9d3d5a64e554286a,https://git.eclipse.org/r/#/c/34727,1,24e253746eec6ecdc09628f28bd29bd1d003fde4,4adf5fc3f1a01ed7dd1bc844e0d6331ea144266d,0,10/10/14,10/10/14,6,When marking commits as uninteresting don't care if the tree exists,"When marking commits as uninteresting don't care if the tree exists

When during an ObjectWalk commits are marked as uninteresting we should
be tolerant against the situation that the commit exists in the repo but
the referenced tree is not exisiting. Since commit
c4797fe98655b3d52d0a90ba44fce6e053db3b8b we are throwing
MissingObjectException in such a case. This semantic differs from native
git behaviour and may cause push operations to fail while they would
work in native git. See:
http://dev.eclipse.org/mhonarc/lists/egit-dev/msg03585.html

Bug: 445744
Change-Id: Ib7dec10fd2ef1adbb8adbabb9d3d5a64e554286a",0,0,0,0,0,0,0,NA,NA
34742,I455902394f9e7b0c7afae42381f34838f7f2a138,https://git.eclipse.org/r/#/c/34742,3,49bffc20ba82803614df09c8fef31ac84ec81f27,2c2ac488e005339365a2eadb6e0e423df94f53ad,1,10/10/14,13/10/14,18,Ensure that path or mode is set before ResetCommand can be executed,"Ensure that path or mode is set before ResetCommand can be executed

If no path and no reset mode was set ResetCommand.call() hit an NPE in
line 198 of ResetCommand.

Change-Id: I455902394f9e7b0c7afae42381f34838f7f2a138
Signed-off-by: Matthias Sohn <matthias.sohn@sap.com>",0,0,1,0,0,0,1,0,0
34778,Iba3d5aec18cc7d7f43e53fa6789f0dede9996fb7,https://git.eclipse.org/r/#/c/34778,1,19e07883962b9f75693701ded2f0f7b26a1aa64f,a6f836e79aa44bff08754a2c39eee4c0a0055238,0,12/10/14,12/10/14,17,[Java 8] Configure doclint to accept missing descriptions,"[Java 8] Configure doclint to accept missing descriptions

We avoid trivial descriptions in JavaDoc. Hence configure
doclint to not fail on missing descriptions.

Change-Id: Iba3d5aec18cc7d7f43e53fa6789f0dede9996fb7
Signed-off-by: Matthias Sohn <matthias.sohn@sap.com>
(cherry picked from commit 54dc4b20b3e084c9c470c8211810dff008b6f0fc)",1,0,0,0,0,0,1,NA,NA
34779,I6dc5dddea0adbb4abf5560d5d1c833408e944082,https://git.eclipse.org/r/#/c/34779,1,a6f836e79aa44bff08754a2c39eee4c0a0055238,437611fdf27a0edb81d952ae3198f478c6224632,0,12/10/14,12/10/14,11,Generate javadocs as part of Maven site project reports,"Generate javadocs as part of Maven site project reports

see http://maven.apache.org/plugins/maven-javadoc-plugin/usage.html

Change-Id: I6dc5dddea0adbb4abf5560d5d1c833408e944082
Signed-off-by: Matthias Sohn <matthias.sohn@sap.com>
(cherry picked from commit a3d0b0d903452ed9ba9d7bb5ea58c275b318a66f)",1,0,0,0,0,0,1,NA,NA
34780,I7e64c8560ca75196d2232f111ffad953c14f013f,https://git.eclipse.org/r/#/c/34780,1,437611fdf27a0edb81d952ae3198f478c6224632,320448ce9b377d8ccb8bdd6412d20f3e67871ea5,0,12/10/14,12/10/14,24,Enable maven site generation for jgit,"Enable maven site generation for jgit

Generating the site:
$ mvn site:site

Local staging of the site:
$ mvn site:stage
the site is staged under ./target/staging/

If you can connect to build.eclipse.org over ssh
(ask webmaster if you are a committer and need ssh access)
you can deploy a local build of the site:
$ mvn site:deploy
The site is deployed under
http://download.eclipse.org/jgit/site/${project.version}

To select the ssh key to use for deploying over ssh add the following
section to your Maven settings.xml:
<server>
  <id>jgit.website</id>
  <username>username</username>
  <privateKey>${user.home}/.ssh/id_rsa</privateKey>
  <filePermissions>664</filePermission>
  <directoryPermissions>775</directoryPermissions>
  <configuration></configuration>
</server>

To deploy the site from Hudson https://hudson.eclipse.org/egit/
enable the Maven profile ""build-server"".

Change-Id: I7e64c8560ca75196d2232f111ffad953c14f013f
Signed-off-by: Matthias Sohn <matthias.sohn@sap.com>
(cherry picked from commit 6d00f0a09c67421d4ac9960c568f9c18ceb4a6a4)",1,0,0,0,0,0,1,NA,NA
34781,I10e51aea66f1446dd1d6d367ea113d824252d82b,https://git.eclipse.org/r/#/c/34781,1,320448ce9b377d8ccb8bdd6412d20f3e67871ea5,667ac7bf41b296811d11e4b43d2fcc2aa1217691,0,12/10/14,12/10/14,2,Compare API changes against 3.5.0,"Compare API changes against 3.5.0

Change-Id: I10e51aea66f1446dd1d6d367ea113d824252d82b
Signed-off-by: Matthias Sohn <matthias.sohn@sap.com>",1,0,0,1,0,0,1,NA,NA
34782,I66559a72ed7284cb721cf929512af884c0db2d61,https://git.eclipse.org/r/#/c/34782,1,667ac7bf41b296811d11e4b43d2fcc2aa1217691,776affd0dbf5be3cb7a5822ed1337ab170b3e074,0,12/10/14,12/10/14,0,Merge branch 'stable-3.5',"Merge branch 'stable-3.5'

* origin/stable-3.5:
  When marking commits as uninteresting don't care if the tree exists

Change-Id: I66559a72ed7284cb721cf929512af884c0db2d61
Signed-off-by: Matthias Sohn <matthias.sohn@sap.com>",1,0,0,0,0,0,1,NA,NA
34784,I05125407fb72531c6831ec721064b0dad278bde5,https://git.eclipse.org/r/#/c/34784,1,776affd0dbf5be3cb7a5822ed1337ab170b3e074,167282a4b66c51ff87c80a95823ba0f2b6e8af07,0,13/10/14,13/10/14,3,Update URL of JGit Maven release repository,"Update URL of JGit Maven release repository

This repository is required to allow clirr to compare the API of the
checked out version against the API of the latest release of jgit. The
old Maven repository on the download server was replaced by Nexus a long
time back.

Change-Id: I05125407fb72531c6831ec721064b0dad278bde5
Signed-off-by: Matthias Sohn <matthias.sohn@sap.com>",1,0,0,0,0,0,1,NA,NA
34828,I37e049c8e81f963cfb7c17f1af91fd4245766aee,https://git.eclipse.org/r/#/c/34828,1,19a4829db24839e76b4e89757fc55fb2e006da91,802b96c81f8ffbcee556648ad210926726e9be68,1,13/10/14,13/10/14,118,JGit v3.5.1.201410131835-r,"JGit v3.5.1.201410131835-r

Change-Id: I37e049c8e81f963cfb7c17f1af91fd4245766aee
Signed-off-by: Matthias Sohn <matthias.sohn@sap.com>",1,0,0,1,0,0,1,0,0
34832,Ib2ccdebe80bad0b09d2d31889a3ab89d77e341f6,https://git.eclipse.org/r/#/c/34832,1,802b96c81f8ffbcee556648ad210926726e9be68,b12a2c6e7239fa6ac84c6514d0e233569edde4a2,1,14/10/14,14/10/14,528,Prepare 3.5.2-SNAPSHOT builds,"Prepare 3.5.2-SNAPSHOT builds

Change-Id: Ib2ccdebe80bad0b09d2d31889a3ab89d77e341f6
Signed-off-by: Matthias Sohn <matthias.sohn@sap.com>",1,0,0,1,1,0,1,0,0
34956,I171e5fb8718cb6829bb1357859c95b4a29910ac6,https://git.eclipse.org/r/#/c/34956,1,fd3d89bf351e22ebce36ccbb47085d6de78a9a67,11242e18a8930b10818acbf338c3c5d03eb5760d,1,15/10/14,15/10/14,581,Merge branch 'stable-3.5',"Merge branch 'stable-3.5'

* stable-3.5:
  Prepare 3.5.2-SNAPSHOT builds
  JGit v3.5.1.201410131835-r
  Only hide gitdir if the repository isn't bare

Change-Id: I171e5fb8718cb6829bb1357859c95b4a29910ac6
Signed-off-by: Matthias Sohn <matthias.sohn@sap.com>",0,0,0,0,1,0,1,0,0
35079,I4c05b89b1398e4a4f371eac3a5d1d5edddec838f,https://git.eclipse.org/r/#/c/35079,2,838c208b2972191f1280128782ed2cf3d1b93e1c,6012a98fb0b4054dda8cc8db0de3b4bb8760b71b,1,17/10/14,20/10/14,49,Add retainOnReset(RevFlag) to RevWalk to simplify reset usage,"Add retainOnReset(RevFlag) to RevWalk to simplify reset usage

Applications sometimes use a RevFlag instead of a Set<RevObject>
to track boolean state bits about objects being processed. However
this requires careful use of the resetRetain() methods to avoid an
accidental clearing of the RevFlag bits, effectively clearing the
Set<RevObject> the application wanted to track.

Simplify that use case by offering retainOnReset, a collection of
flags that are never cleared by the RevWalk.

Change-Id: I4c05b89b1398e4a4f371eac3a5d1d5edddec838f",0,0,1,0,0,0,1,0,0
35092,Ide64aec2a995dd7ff6c1325c3ada242a4eb4565e,https://git.eclipse.org/r/#/c/35092,1,ead0b8d321f97e27c5f9b9046b32427ee61a2b19,6aa344627108f55711635dcfd1aeca40a489d859,1,19/10/14,20/10/14,30,BundleWriter: Support including HEAD in bundle,"BundleWriter: Support including HEAD in bundle

Bug: 446813
Change-Id: Ide64aec2a995dd7ff6c1325c3ada242a4eb4565e
Signed-off-by: Robin Stocker <robin@nibor.org>",0,0,0,0,0,0,0,0,0
35125,Ifd81d574a680f9b4152945ba70f8ec4af4f452c9,https://git.eclipse.org/r/#/c/35125,3,6aa344627108f55711635dcfd1aeca40a489d859,9138f71756272a7594b81ac8e2e14a1f44b0d483,1,20/10/14,03/11/14,390,Support for Submodule configuration submodule.<name>.ignore,"Support for Submodule configuration submodule.<name>.ignore

For each submodule native git allows to configure which modifications to
submodules should be ignored by the status command. It is possible to
ignore ""none"", ""all"", ""dirty"", ""untracked"" [1]. This configuration is
now supported by IndexDiff. The StatusCommand offers the possibility to
specify this mode.

[1] http://git-scm.com/docs/gitmodules

Change-Id: Ifd81d574a680f9b4152945ba70f8ec4af4f452c9",0,0,0,0,0,0,0,1,1
35126,I487bf7484dca3f5501e6e514584e2871524eea19,https://git.eclipse.org/r/#/c/35126,3,fa83461706733d2d244b1a4e3af835524daafd01,f1fc89de3dad579bf23138af38ac877426e9ca5e,1,20/10/14,03/11/14,3,RebaseCommand should ignore submodule modifications,"RebaseCommand should ignore submodule modifications

Before a rebase happens the RebaseCommand checks that the workingtree is
clean. We don't want to start a rebase on a dirty worktree. If the
worktree is dirty a rebase should not be allowed. But RebaseCommand
should ignore modifications done to submodules. E.g. if a submodules
HEAD points to <x> but the root repository has in index that the
submodule should point to <y> then this should not prohibit a rebase.
Also native git allows a rebase in this case. Since jgit's StatusCommand
has learned to ignore submodule changes this is now used by the
RebaseCommand to determine the repository state correctly.

Change-Id: I487bf7484dca3f5501e6e514584e2871524eea19",0,0,0,0,0,0,0,0,0
35190,Id37efb4f4dd77f3b8eb5607d15d32adeda3992d4,https://git.eclipse.org/r/#/c/35190,3,c820c8226a4c4d88ebf7f555496109b7b9c9920f,a2c638f43307631f32c978ebd982344265224d88,1,21/10/14,03/11/14,22,Enhance SubmoduleWalk with a fast check whether a repo contains submodules,"Enhance SubmoduleWalk with a fast check whether a repo contains
submodules

Change-Id: Id37efb4f4dd77f3b8eb5607d15d32adeda3992d4",0,0,0,1,0,0,1,0,0
35295,I322954200dd3c683e3d8f4adc48506eb99e56ae1,https://git.eclipse.org/r/#/c/35295,7,c2b4066c60d12a775034d89ca4a2e64a33b300c1,133818733e82f1bc1824310242b09ef5140d7432,1,22/10/14,29/11/14,304,Consider parent rules if ignore rule is negated,"Consider parent rules if ignore rule is negated

The change tries to make jgit behave more like native CLI git regarding
the negation rules. According to [1] ""... prefix ""!"" which negates the
pattern; any matching file excluded by a previous pattern will become
included again."" Negating the pattern should not automatically make the
file *not ignored* - other pattern rules has to be considered too. 

The fix contains also test cases from bug 407475 but is not covering bug
407475 yet.

[1] https://www.kernel.org/pub/software/scm/git/docs/gitignore.html

Bug: 448094
Change-Id: I322954200dd3c683e3d8f4adc48506eb99e56ae1
Signed-off-by: Andrey Loskutov <loskutov@gmx.de>",0,1,0,0,0,1,1,0,0
35377,I5e33257fd8c9895869a128bad3fd1e720409d361,https://git.eclipse.org/r/#/c/35377,22,1276b4ed450131a440b9695200754fb5578109ad,fae4d9413dade3c542f9fa957db1480be677673e,1,23/10/14,18/11/15,1723,[342372] Adds the git attributes computation on the treewalk.,"[342372] Adds the git attributes computation on the treewalk.

Adds the getAttributes feature to the tree walks. The computation of
attributes needs to be done by the TreeWalk since it needs both a
WorkingTreeIterator and a DirCacheIterator.

Change-Id: I5e33257fd8c9895869a128bad3fd1e720409d361
Signed-off-by: Arthur Daussy <arthur.daussy@obeo.fr>",0,1,0,0,1,0,1,1,1
35818,I27207bafe0ce31caab25ab9c0be1f22adf151783,https://git.eclipse.org/r/#/c/35818,2,dffd6d8dabaf94194ab864aa27d6faf284b41468,ff22633a866e525aefe6d17f523fb8ced2ac22f1,1,03/11/14,03/11/14,8,Add missing @since tags,"Add missing @since tags

Change-Id: I27207bafe0ce31caab25ab9c0be1f22adf151783
Signed-off-by: Matthias Sohn <matthias.sohn@sap.com>",0,0,0,1,0,0,1,0,0
35854,Ica34e6709a34977422fd528cbd4df0044403e45d,https://git.eclipse.org/r/#/c/35854,1,ff22633a866e525aefe6d17f523fb8ced2ac22f1,acc4e2cef3333feb5f3b13804fcb5a9336472339,1,03/11/14,04/11/14,4,Add missing @since tags in SubmoduleWalk,"Add missing @since tags in SubmoduleWalk

Change-Id: Ica34e6709a34977422fd528cbd4df0044403e45d
Signed-off-by: Matthias Sohn <matthias.sohn@sap.com>",0,0,0,1,0,0,1,0,0
35864,Ie8d9c3878116488b973dfc80c7c97f174e769d3f,https://git.eclipse.org/r/#/c/35864,1,acc4e2cef3333feb5f3b13804fcb5a9336472339,15104df35211bf4472018a2fd66fa105ce94fd7a,1,04/11/14,04/11/14,1,add missing @since tag in StatusCommand,"add missing @since tag in StatusCommand

Change-Id: Ie8d9c3878116488b973dfc80c7c97f174e769d3f",0,0,0,1,0,1,1,0,0
35932,Id15f0c6f265667f5b8b57cc2d9f97de568371919,https://git.eclipse.org/r/#/c/35932,3,15104df35211bf4472018a2fd66fa105ce94fd7a,b4250d3d605deedb89a26115fa952ccfbb0c9c49,1,05/11/14,06/11/14,32,Add new method IndexDiff#getPathsWithIndexMode,"Add new method IndexDiff#getPathsWithIndexMode

Get the list of paths that have the given file mode.

This contribution is part of handling symlink icon in EGit's staging
view.

Bug: 429302
Change-Id: Id15f0c6f265667f5b8b57cc2d9f97de568371919
Signed-off-by: Axel Richard <axel.richard@obeo.fr>",0,0,0,0,0,0,0,0,0
35996,Iecdb8149b83389c67e3cd2f64f4a654c175475be,https://git.eclipse.org/r/#/c/35996,3,a85fb9e05962c9a5f5d1e05ea368b522ac0ed4d6,0958b5ccf6ac927863f8ca02bac3c686bfa28756,1,05/11/14,13/11/14,14,Fix variable name and error message for sideband testing,"Fix variable name and error message for sideband testing

Actually the test only allows a range from [1,255], so let's name the
variable so.

Change-Id: Iecdb8149b83389c67e3cd2f64f4a654c175475be
Signed-off-by: Stefan Beller <sbeller@google.com>",0,0,1,0,0,0,1,0,0
36004,Ia803182114f0e8b418428e03601f9afc6542ed28,https://git.eclipse.org/r/#/c/36004,1,267f3f18f2ef6ad27bd5048c624c5553b03307d0,eb340ea4ea4bf9f6b7ef216fe0596f55d6dbaeb0,1,06/11/14,06/11/14,4,Fix non-externalized string warnings in IndexDiff,"Fix non-externalized string warnings in IndexDiff

Change-Id: Ia803182114f0e8b418428e03601f9afc6542ed28
Signed-off-by: Matthias Sohn <matthias.sohn@sap.com>",0,0,0,1,0,0,1,0,0
36005,I8a595e1f01a0731118d3c537be420222f7fec744,https://git.eclipse.org/r/#/c/36005,1,eb340ea4ea4bf9f6b7ef216fe0596f55d6dbaeb0,b48ce8f8e38987bb5921a088f19abbbc71173485,1,06/11/14,06/11/14,4,Do not swallow exception if IndexDiff hits invalid ignore param,"Do not swallow exception if IndexDiff hits invalid ignore param

Change-Id: I8a595e1f01a0731118d3c537be420222f7fec744
Signed-off-by: Matthias Sohn <matthias.sohn@sap.com>",0,0,0,1,0,0,1,0,0
36058,Ie3b4e92933286aa9916070a22422e629b3147f54,https://git.eclipse.org/r/#/c/36058,2,b48ce8f8e38987bb5921a088f19abbbc71173485,2bd609585f16df95cfd80d8a6905555f973f626f,1,06/11/14,11/11/14,21,Introduce config parameter core.trustfolderstat,"Introduce config parameter core.trustfolderstat

JGit's ObjectDirectory implements the optimization that it remembers the
pack folders (.git/objects/pack) lastModified timestamp and doesn't
check for new packfiles in this folder if the lastModified attribute has
not changed.
In environments using NFS this can cause trouble. If multiple JGit
instances from multiple machines work on the same repository and one
instance creates a new ref and a new packfile (e.g. by doing a fetch)
then the other machines may detect the new ref but can't resolve the
referenced object because it doesn't detect that pack folder has a new
packfile. That's because NFS may cache file/folder metadata for quite a
long time and the pack folders modification time is not updated although
a new packfile is there and could be read.

The new config parameter core.trustfolderstat controls this behaviour.
The default is true and jgits behaviours is unchanged. But if this
parameter is set to false then jgit doesn't trust the pack directories
lastmodified anymore. Instead it will always iterate through the content
of that folder to detect new packfiles.

Change-Id: Ie3b4e92933286aa9916070a22422e629b3147f54",0,0,1,0,0,1,1,0,0
36063,I90288d314ffac73c24a9c70a5181f8243bd4679a,https://git.eclipse.org/r/#/c/36063,3,117d512485bbbc6623a935f7edd0496359c28c6c,9986e73561b860713e563ea2d5236eaed354b99f,1,06/11/14,06/11/14,34,Make sure checkout doesn't report conflicts on ignored pathes,"Make sure checkout doesn't report conflicts on ignored pathes

In a situation where a certain path was ignored but a working tree file
existed jgit didn't allowed to checkout a branch which didn't ignored
this path but contained different content. JGit thought it is forced to
override unsaved content and raised an error. This commit fixes this by
checking that dirty working tree files only lead to conflicts if they
are not ignored.

Bug: 450169
Change-Id: I90288d314ffac73c24a9c70a5181f8243bd4679a",0,0,0,0,0,1,1,0,0
36091,Ib169e88d9d51f4d0e6caa3a498f48edc81e0991d,https://git.eclipse.org/r/#/c/36091,1,c23faa2e9975ae198f3f090e40e536f8a7ebcd6c,4f71cfed6e8797204f5bad19af9271609be9ca4b,0,06/11/14,06/11/14,2,Don't use SSL anymore to avoid POODLE attack,"Don't use SSL anymore to avoid POODLE attack

For details about poodle see:
http://cve.mitre.org/cgi-bin/cvename.cgi?name=CVE-2014-3566

Bug 450170
Change-Id: Ib169e88d9d51f4d0e6caa3a498f48edc81e0991d
Signed-off-by: Dani Megert <Daniel_Megert@ch.ibm.com>
Signed-off-by: Matthias Sohn <matthias.sohn@sap.com>",0,0,0,0,0,0,0,NA,NA
36097,I7b5d19c21f3b5557e41b9bcb5d359a65ff1a493d,https://git.eclipse.org/r/#/c/36097,6,892c961417b0713f03af1ec2241b70eeacb4564c,bf82cdd546679a0f7ce22454c8d2fe22cd703b88,1,07/11/14,08/11/14,45,"Implement atomic refs update, if possible by database","Implement atomic refs update, if possible by database

Inspired by the series[1], this is an early work in progress patch.

[1] http://thread.gmane.org/gmane.comp.version-control.git/259019/focus=259024

Change-Id: I7b5d19c21f3b5557e41b9bcb5d359a65ff1a493d
Signed-off-by: Stefan Beller <sbeller@google.com>",0,1,0,0,0,0,1,0,0
36128,I4d4ad42e24ca397745adb0f3385caee3bcf3a186,https://git.eclipse.org/r/#/c/36128,2,1ab5131e2c87d37739d556087e43da537d0d31ad,1252b523426adb9ec3d1569ea79c68604d45c89e,1,07/11/14,12/11/14,6,Let RepositoryBuilder find bare repos,"Let RepositoryBuilder find bare repos

BaseRepositoryBuilder.findGitDir() was not searching correctly for bare
repositories. E.g. when running org.eclipse.jgit.pgm.Log and the current
directory was that of a bare git repository an error ""fatal: error:
can't find git directory"" was raised. With this fix RepositoryBuilder
will also check whether the given directory is the root of a bare
repository.

Bug: 450193
Change-Id: I4d4ad42e24ca397745adb0f3385caee3bcf3a186",0,0,1,0,0,1,1,1,1
36144,I80428441cc8d5de5468813f841d89322413eed8b,https://git.eclipse.org/r/#/c/36144,3,d8710c4b3afd193c4a7f2d0c37b2a10064405a30,1e15f12d5d1dac32596635dc8484320ceffc6afa,1,07/11/14,18/11/14,264,Don't use java.util.regex for two simple wildcard cases,"Don't use java.util.regex for two simple wildcard cases

To improve ignore parser performance we can avoid using java.util.regex
code on simple wildcard patterns with leading or trailing asterisk. As
those patterns represent a majority of ignore rules, the index diff
performance can be drastically increased on huge repository with lot of
ignore rules.

Bug: 450466

Change-Id: I80428441cc8d5de5468813f841d89322413eed8b
Signed-off-by: Andrey Loskutov <loskutov@gmx.de>",0,0,1,0,0,1,1,1,1
36145,I31f331ce797994d164661b421bfbab33c289deaf,https://git.eclipse.org/r/#/c/36145,2,b04a12df81276e2b265fad31db0ce4602d936c5a,6f146c025bb4cd4c27bd0dc95595141c588fd3af,0,07/11/14,09/11/14,83,Add target platform for Mars using Orbit S-build,"Add target platform for Mars using Orbit S-build

updates:
- jsch to 0.1.51 (CQ 8889)
- ant to 1.9.4 (CQ 8890)

CQ: 8889
CQ: 8890
Change-Id: I31f331ce797994d164661b421bfbab33c289deaf
Signed-off-by: Matthias Sohn <matthias.sohn@sap.com>",1,0,0,0,0,0,1,NA,NA
36190,Ia657e46b9abc8c8640f63f6ff579b2f8f2b01de4,https://git.eclipse.org/r/#/c/36190,2,a4fdb690980b3a43e0d715e7dc5210fc9d0ca134,bbe557f908c38bf9d9f407cc014ed960698df72b,1,08/11/14,09/11/14,11,Add missing @since tags,"Add missing @since tags

Change-Id: Ia657e46b9abc8c8640f63f6ff579b2f8f2b01de4",0,0,0,1,0,1,1,0,0
36191,Iabe3b196d998c19483082e5720038ebddaeb1890,https://git.eclipse.org/r/#/c/36191,2,a632d8412198fb303ac07f1066c86dd60aea38cc,fc324f87a861fe49c7d232c27b86a85b46684ceb,1,08/11/14,10/11/14,50,Fix possible NPE in IndexDiff when not all submodules are cloned,"Fix possible NPE in IndexDiff when not all submodules are cloned

The latest changes to IndexDiff just assumed that all configured
submodules are allways cloned. If a configured submodule did not exist
an exception was thrown. This is fixed by this commit.

Bug: 450567
Change-Id: Iabe3b196d998c19483082e5720038ebddaeb1890",0,0,0,0,0,1,1,0,0
36205,I54cdfb5699f87bf86b0434aff0b9618e57a80757,https://git.eclipse.org/r/#/c/36205,1,4f6be187d922c9cc3f882d1d10a9516f6744cda0,ed31b73fb8df01bd3db8f4b74a353631187771c4,0,09/11/14,09/11/14,2,4.4 target platform should use Luna repository,"4.4 target platform should use Luna repository

Change-Id: I54cdfb5699f87bf86b0434aff0b9618e57a80757
Signed-off-by: Matthias Sohn <matthias.sohn@sap.com>",1,0,0,1,0,0,1,NA,NA
36251,I5693408c777e5843ec65fff1163d5d717849fa34,https://git.eclipse.org/r/#/c/36251,1,c56c67a2d06482a234254c81934e83c896c371f1,2a26690fc02bc05ff931e9ed9dc849d3f1af9d1c,1,10/11/14,10/11/14,98,Expand wildcard imports to specfic classes,"Expand wildcard imports to specfic classes

JGit style is to import exactly the classes required, and never
to use ""import foo.*"" as the foo package could add new classes
in the future which are conflicting/confusing with the imports
already used by a source file.

Change-Id: I5693408c777e5843ec65fff1163d5d717849fa34",0,0,0,0,0,0,0,0,0
36301,I6ae39b874a3c1fa9e1cda235ff137c9eb8dd359f,https://git.eclipse.org/r/#/c/36301,1,de750b8fa584ab17de2eb98b26c9853e5358dac7,105ddf2c62213f2245909e70c973f627f6387363,0,11/11/14,12/11/14,38,Fix javadoc formatting in ConfigConstants,"Fix javadoc formatting in ConfigConstants

Change-Id: I6ae39b874a3c1fa9e1cda235ff137c9eb8dd359f
Signed-off-by: Matthias Sohn <matthias.sohn@sap.com>",1,0,0,1,0,0,1,NA,NA
36309,I217d25ee712cbde52bc9319ef1dd15d2f571d37a,https://git.eclipse.org/r/#/c/36309,1,81ebc4b58683896f031f21ad36e451a0c60fcde3,f205387fced0049ea52ddfea4fb8abb1be24903e,1,12/11/14,12/11/14,118,JGit v3.5.2.201411120430-r,"JGit v3.5.2.201411120430-r

Change-Id: I217d25ee712cbde52bc9319ef1dd15d2f571d37a
Signed-off-by: Matthias Sohn <matthias.sohn@sap.com>",1,0,0,1,0,0,1,0,0
36318,Ia37eb66a0deaf6e86a726b1b12eaea25416d4a36,https://git.eclipse.org/r/#/c/36318,2,afd30260b7b54e18f50d53c0509f34149ddc3cbf,70e73d5061fa8d10f04cb39e215e519309a1b3be,1,12/11/14,12/11/14,528,Prepare 3.5.2-SNAPSHOT builds,"Prepare 3.5.2-SNAPSHOT builds

Change-Id: Ia37eb66a0deaf6e86a726b1b12eaea25416d4a36
Signed-off-by: Matthias Sohn <matthias.sohn@sap.com>",1,0,0,1,1,0,1,0,0
36329,Icc8404a94512aae36da83baafb8b10422b7bbf7b,https://git.eclipse.org/r/#/c/36329,1,66743075f1f79216fa9052bbe1f3cae5e7339199,431d6d21dd5a993fe67f91124cd24fa99e92d3ee,1,12/11/14,12/11/14,581,Merge branch 'stable-3.5',"Merge branch 'stable-3.5'

* stable-3.5:
  Prepare 3.5.3-SNAPSHOT builds
  JGit v3.5.2.201411120430-r
  Don't use SSL anymore to avoid POODLE attack

Change-Id: Icc8404a94512aae36da83baafb8b10422b7bbf7b
Signed-off-by: Matthias Sohn <matthias.sohn@sap.com>",1,0,0,0,1,0,1,0,0
36340,I9d789113d88cbbbdbabb8919f80c805aa4ba86fe,https://git.eclipse.org/r/#/c/36340,1,431d6d21dd5a993fe67f91124cd24fa99e92d3ee,825cd68f62cc9ccdbac54cf269444289494c4ce8,1,12/11/14,12/11/14,118,JGit v3.6.0.201411121045-m1,"JGit v3.6.0.201411121045-m1

Change-Id: I9d789113d88cbbbdbabb8919f80c805aa4ba86fe
Signed-off-by: Matthias Sohn <matthias.sohn@sap.com>",1,0,0,1,0,0,1,0,0
36368,Ie9927de64fa6b7d517f96b8cd12e57541f284ff2,https://git.eclipse.org/r/#/c/36368,1,825cd68f62cc9ccdbac54cf269444289494c4ce8,f16cc42ab1a21c0cfe23b155481deb5c926f837a,1,12/11/14,12/11/14,118,Prepare post 3.6.0-m1 builds,"Prepare post 3.6.0-m1 builds

Change-Id: Ie9927de64fa6b7d517f96b8cd12e57541f284ff2
Signed-off-by: Matthias Sohn <matthias.sohn@sap.com>",1,0,0,1,0,0,1,0,0
36410,I4c7dd0e1609fc1939d8ea83c01251dec59c228a3,https://git.eclipse.org/r/#/c/36410,2,0b0af3116b72646026733f79132e6315b069d62e,94eb00a77aa2006e110db85faf064d445a2f08ef,0,13/11/14,18/11/14,6,Include the java7 feature in org.eclipse.jgit.feature,"Include the java7 feature in org.eclipse.jgit.feature

This way we no longer need to advertise it in the release train and
uncategorize the jgit features without making it harder for users to
find and install the java7 feature.

Bug: 451276
Change-Id: I4c7dd0e1609fc1939d8ea83c01251dec59c228a3
Signed-off-by: Matthias Sohn <matthias.sohn@sap.com>",0,0,1,0,0,0,1,NA,NA
36614,I036210fefb6bd81ca04fcd91aaba0f9d0c1e8862,https://git.eclipse.org/r/#/c/36614,2,2f6a9cc84457d42a9c0d11086480c75d6ac9ef7a,72526f34e70b00e945cf38c9f7c2ed5a2afd224f,0,18/11/14,18/11/14,4,Define version of javadoc plugin used to generate site,"Define version of javadoc plugin used to generate site

This silences the Maven warning ""'reporting.plugins.plugin.version' for
org.apache.maven.plugins:maven-javadoc-plugin is missing""

Change-Id: I036210fefb6bd81ca04fcd91aaba0f9d0c1e8862
Signed-off-by: Matthias Sohn <matthias.sohn@sap.com>",1,0,0,0,0,0,1,NA,NA
36824,I7cb2ab4e6d31a838a0af92eac64535fdb66ed74a,https://git.eclipse.org/r/#/c/36824,5,72526f34e70b00e945cf38c9f7c2ed5a2afd224f,d2812b240f52ee26ee78b819ee7e81a0570b5d30,1,20/11/14,21/11/14,42,upload-pack: send symbolic refs as capabilities,"upload-pack: send symbolic refs as capabilities

cgit has this feature for some time. This will teach JGit to send symblic refs,
too.

Change-Id: I7cb2ab4e6d31a838a0af92eac64535fdb66ed74a
Signed-off-by: Yuxuan 'fishy' Wang <fishywang@google.com>",0,1,0,0,0,0,1,0,0
36832,Ie885aab6d71dabd158a718af0d14fff643c9b850,https://git.eclipse.org/r/#/c/36832,4,868d2d622d73bc480e9327b6b7984a73695458a5,614364682ca410321b8e6eab35930a4b7adb77a1,1,21/11/14,27/03/15,18,[DRAFT][452623] Makes RepositoryState.REBASING_MERGE reachable again,"[DRAFT][452623] Makes RepositoryState.REBASING_MERGE reachable again

If a non interactive rebase is launched, stopping after a conflict
should set the repository state to RepositoryState.REBASING_MERGE
instead of RepositoryState.REBASING_INTERACTIVE.

bug: 452623
Change-Id: Ie885aab6d71dabd158a718af0d14fff643c9b850
Signed-off-by: Arthur Daussy <arthur.daussy@obeo.fr>",0,1,0,0,0,0,1,1,1
36927,I36dd5291d53d06af6a3378c0229c1908e153caae,https://git.eclipse.org/r/#/c/36927,1,f9d20a2b588cc242754f5bf0b9a3fc948d4c7822,319800b591d9315f5f0eb2b01347d89976913266,0,24/11/14,24/11/14,122,Delete .eclipse_iplog,"Delete .eclipse_iplog

We don't use this file anymore since a long time since IP log
generation has been automated at the Eclipse foundation.

Change-Id: I36dd5291d53d06af6a3378c0229c1908e153caae
Signed-off-by: Matthias Sohn <matthias.sohn@sap.com>",1,0,0,0,0,0,1,NA,NA
36957,Ib57fba6cb4b774ccff8c416ef4d32e2b390f16a9,https://git.eclipse.org/r/#/c/36957,1,2659424bb8bb7a8261745b9d36b060efc187cd43,b14b9da0ed7b64d196bc2dead14941c90d3d273f,1,24/11/14,24/11/14,6,Deprecate checkoutEntry without ObjectReader,"Deprecate checkoutEntry without ObjectReader

Callers should manage the ObjectReader, as this allows the JGit library to cache
context relevant information across files checked out at the same time. If the
caller only has one file to checkout, it should still explicitly manage the life
span of the ObjectReader.

Change-Id: Ib57fba6cb4b774ccff8c416ef4d32e2b390f16a9",0,0,0,0,0,0,0,0,0
36958,If5b8bb91562715df0699726648123a47426b9850,https://git.eclipse.org/r/#/c/36958,1,b14b9da0ed7b64d196bc2dead14941c90d3d273f,e1d766a53f5cf8309741ac2c96f3f3d004f7af7e,1,24/11/14,24/11/14,6,Cleanup TreeWalk creation/release inside StashApplyCommand,"Cleanup TreeWalk creation/release inside StashApplyCommand

The TreeWalk constructor doesn't throw in a meaninful way that
requires cleanup of the not-yet-created TreeWalk.

Hoist the constructor outside of the try/finally and remove the
now unnecessary != null check during the finally.

Change-Id: If5b8bb91562715df0699726648123a47426b9850",0,0,0,0,0,0,0,0,0
36962,I3c0f411fad209c6bd8fb9c4acf5c55a6799a6a2a,https://git.eclipse.org/r/#/c/36962,1,f628f772a0abe0f8b38d1bd12e65a2c853f0321c,85015d3a9d586bb089525b6c1e2da7b6e36f0320,1,24/11/14,24/11/14,74,Allow configurable ObjectCheckers in fetch,"Allow configurable ObjectCheckers in fetch

RecievePack already honors fsck settings for safeForWindows and
safeForMacOS.  Allow those same checks to be performed during fetch
through a caller-configurable ObjectChecker.

Default the fetch fsck options to match the current platform, as
it can be reasonably assumed the repository will be accessed here.

Change-Id: I3c0f411fad209c6bd8fb9c4acf5c55a6799a6a2a",0,0,0,0,0,0,0,0,0
36964,Ief3fa6abc0c9a18ba0a671ff9854432cec480c4f,https://git.eclipse.org/r/#/c/36964,2,85015d3a9d586bb089525b6c1e2da7b6e36f0320,835a70ad5d802cfd88c94a9c7b23cc5fa7350c6e,1,25/11/14,30/11/14,46,Honor git-core meaning of receive.denyDeletes allowing tag deletion,"Honor git-core meaning of receive.denyDeletes allowing tag deletion

receive.denyDeletes parameter refers only to branch:
http://git.661346.n2.nabble.com/PATCH-Introduce-receive-denyDeletes-td1399844.html

Bug: 412640
Change-Id: Ief3fa6abc0c9a18ba0a671ff9854432cec480c4f",0,0,1,0,0,0,1,0,0
36965,I7f4f23cd50d46ffcde69d6abfe3ca0cc6fa86604,https://git.eclipse.org/r/#/c/36965,2,cb27265e1613f95ae68033a4f654804d7bc1c0e8,b2d34747b30d42534e8899c3bc311dcf38af84f3,1,25/11/14,26/11/14,47,Natively support DfsRepository inside of gc(),"Natively support DfsRepository inside of gc()

Bug: 406379
Change-Id: I7f4f23cd50d46ffcde69d6abfe3ca0cc6fa86604",0,0,0,0,0,0,0,0,0
36966,I8f871181a4689e3ebf0cdd4fd1769333cf7546c3,https://git.eclipse.org/r/#/c/36966,2,62a4a179136ae007e677376c2e0bca31f4a5141c,3bd4fbc96ca2b87aca9f2ba41a752c8bee74a8ab,1,25/11/14,26/11/14,25,DirCache: Buffer TREE extension to $GIT_DIR,"DirCache: Buffer TREE extension to $GIT_DIR

Increase the in-memory buffer for the TREE extension to 5 MiB, and
overflow to $GIT_DIR instead of /tmp.  Using a larger buffer reduces
the chances a repository will overflow and need to spool the extension
to disk.  Using $GIT_DIR allows the TREE extension contents to have
the same file system protections as the final $GIT_DIR/index.

Change-Id: I8f871181a4689e3ebf0cdd4fd1769333cf7546c3",0,0,0,0,0,0,0,0,0
36968,Ice5ec10a7cbadc58486d481b92940056f9ffc43a,https://git.eclipse.org/r/#/c/36968,3,13973e66b3557964b572b001404121edb919e044,855c008d4b38788ac28fef2701e6e652043eb840,0,25/11/14,26/11/14,13,Detect buffering failures while writing rebase todo file,"Detect buffering failures while writing rebase todo file

By routing writes through SafeBufferedOutputStream the caller can be
alerted to any flush at close failures whiel writing or appending to
the rebase todo script.

Switch the character encoding to be done at the line granularity, as
this is sufficiently long enough that encoding overheads will not be a
bottleneck, but short enough that the amount of temporary data will
not cause memory problems for the JVM.

Change-Id: Ice5ec10a7cbadc58486d481b92940056f9ffc43a",0,0,0,0,0,0,0,NA,NA
36969,Icf0970dd02a63877f9e41b51b982b0265e8b8887,https://git.eclipse.org/r/#/c/36969,3,14ad9d8172c26619b3c5150b5dfd0b152e4a79de,95312232034a95539e4b1399b5276d2877945135,0,25/11/14,26/11/14,8,Fix two nits about DirCacheEntry constructors,"Fix two nits about DirCacheEntry constructors

Explicitly pass STAGE_0 when creating a DirCacheEntry from String.
This matches the immediate next constructor that accepts the int
stage argument better, making the code easier to read.

Fix a weird line break where the comma was orphaned by itself.

Change-Id: Icf0970dd02a63877f9e41b51b982b0265e8b8887",0,0,0,0,0,0,0,NA,NA
37029,I3ec332cf41f12eae246cfaee9fd792c52cb2908b,https://git.eclipse.org/r/#/c/37029,1,24436c54ec67113dd4c8a4467c3d5e839453bba3,951b1fc2e3bde7d75744a761637ae0844feb4e76,1,25/11/14,26/11/14,14,AmazonS3: Buffer pushed pack content under $GIT_DIR,"AmazonS3: Buffer pushed pack content under $GIT_DIR

This applies the same filesystem permissions as the source objects.
Users may override in properties files using the tmpdir value.

Change-Id: I3ec332cf41f12eae246cfaee9fd792c52cb2908b",0,0,0,0,0,0,0,0,0
37030,I3fe8be2e5f37d5ae953596dda1ed3fe6d4f6aebc,https://git.eclipse.org/r/#/c/37030,1,951b1fc2e3bde7d75744a761637ae0844feb4e76,0a71bf1de5135644b91f098fbeafba8088c5a89c,1,25/11/14,26/11/14,19,Switch FileHeader.extractFileLines to TemporaryBuffer.Heap,"Switch FileHeader.extractFileLines to TemporaryBuffer.Heap

File contents are processed into a single byte[] for character
conversion. The data must fit entirely in memory, so avoid any
file IO.

Change-Id: I3fe8be2e5f37d5ae953596dda1ed3fe6d4f6aebc",0,0,0,0,0,0,0,-1,0
37031,I89009bbee49d3850d42cd82c2c462e51043acda0,https://git.eclipse.org/r/#/c/37031,1,0a71bf1de5135644b91f098fbeafba8088c5a89c,73d0bc6ed4fcf40fce79ae1961b957004b4bff2d,1,25/11/14,26/11/14,35,Deprecate TemporaryBuffer.LocalFile without parent directory,"Deprecate TemporaryBuffer.LocalFile without parent directory

Encourage callers to explicitly name a directory to hold any
overflow data. Call sites have more information about what is
going into the buffer and how it should be protected at the
filesystem level than just throwing content to the system wide
temporary directory.

Callers that still really don't care (or need to care) can pass
null for the File argument to have the system directory used.

Change-Id: I89009bbee49d3850d42cd82c2c462e51043acda0",0,0,0,0,0,0,0,0,0
37042,I79f422e004f386b3f2875de6997e5a0949fff566,https://git.eclipse.org/r/#/c/37042,1,73d0bc6ed4fcf40fce79ae1961b957004b4bff2d,24918337c57f178226798db25a71307bba3ca893,1,26/11/14,26/11/14,6,Apache HttpClientConnection: replace calls to deprecated LocalFile(),"Apache HttpClientConnection: replace calls to deprecated LocalFile()

Change-Id: I79f422e004f386b3f2875de6997e5a0949fff566",0,0,0,1,0,0,1,0,0
37214,Ic57d041674611802a9384d8fa1d292e821055019,https://git.eclipse.org/r/#/c/37214,1,832becc9cf55c12216e9483fa5d6ff3c339c14e4,cea69332eed49691b132a2b7731b84129a961a90,1,27/11/14,28/11/14,2,DirCacheCheckout: create only one ObjectReader,"DirCacheCheckout: create only one ObjectReader

This deprecated method accidentally creates two ObjectReader
instances. Use the instance created one line above that is
correctly released in the finally block.

Change-Id: Ic57d041674611802a9384d8fa1d292e821055019",0,0,0,0,0,0,0,0,0
37215,I574e41280d0407f1853fda12f4bd0d30f75d74e7,https://git.eclipse.org/r/#/c/37215,1,cea69332eed49691b132a2b7731b84129a961a90,d078dba9c40fe24f31b0ea814d758daa937a4108,1,27/11/14,28/11/14,95,Deprecate checkoutEntry variant that accepts File,"Deprecate checkoutEntry variant that accepts File

Entries should only be written to the working tree managed by the
Repository. Simplify callers by passing only the entry and computing
the work tree location inside of the checkoutEntry method.

Change-Id: I574e41280d0407f1853fda12f4bd0d30f75d74e7",0,0,0,0,0,0,0,-1,0
37216,I978ad9719c018ce1cf26947efbabaa8b9dff2217,https://git.eclipse.org/r/#/c/37216,1,d078dba9c40fe24f31b0ea814d758daa937a4108,5997b9c1bf47ab3ab34ac50ed453f305b62a2141,1,27/11/14,28/11/14,64,Cleanup double stat update of symlinks in DirCacheCheckout,"Cleanup double stat update of symlinks in DirCacheCheckout

When writing a symlink the stat data should only be written once
into the DirCacheEntry, based on the symlink itself and not the
possibly resolved destination observed by java.io.File.

Refactor the code to handle symlinks and early return.  This
removes the risk the blob stat info update is used against a
newly checked out symlink.

Hoist the file length stat update immediately after writing
the file, before a rename. This eliminates any race caused by another
process updating the file length after the rename and having it to
fall into the racily clean path.

Change-Id: I978ad9719c018ce1cf26947efbabaa8b9dff2217",0,0,0,0,0,0,0,0,0
37217,I320d33b3744daf88d3155db99e957408937ddd00,https://git.eclipse.org/r/#/c/37217,1,5997b9c1bf47ab3ab34ac50ed453f305b62a2141,d80d79c6853e1a62cfcac543d6ae3d45c2503ac7,1,27/11/14,28/11/14,11,ResolveMerger: Use checkoutEntry during abort,"ResolveMerger: Use checkoutEntry during abort

The cleanUp path is trying to restore files that previously were
clean, but were overwritten in the work tree by a partial merge
attempt that has failed and needs to be aborted. Reuse the checkout
logic to write the file content and refresh the stat data.

Change-Id: I320d33b3744daf88d3155db99e957408937ddd00",0,0,0,0,0,0,0,0,0
37303,I66f4e71873bb8e6f936fde573bbe4c35fe23a022,https://git.eclipse.org/r/#/c/37303,2,d80d79c6853e1a62cfcac543d6ae3d45c2503ac7,e950206b732b648047327fff65fbfe1261f6d20f,1,28/11/14,29/11/14,10,Use baseline instead of centerline in PlotRenderer,"Use baseline instead of centerline in PlotRenderer

If the text extent height of a to be rendered plot line is odd, then the
SWTPlotRenderer cannot calculate the correct Y position for drawing the
label and draws the label with a 1 pixel offset. SWT text drawing uses
the baseline as Y coordinate. Due to the given centerline API in the
AbstractPlotRenderer the overall calculation of the baseline for SWT is
effectively (height / 2) * 2, thereby rounding all odd heights downward
to the next even number.

This change pushes the division by 2 from the caller into the
implementations of drawText. A corresponding change will be pushed in
the egit repository.

Bug: 450813
Change-Id: I66f4e71873bb8e6f936fde573bbe4c35fe23a022
Signed-off-by: Michael Keppler <michael.keppler@gmx.de>",0,0,0,0,0,0,0,0,0
37314,Iae6e769f2bfcad05c166e70ff255f9cf9fcdc87e,https://git.eclipse.org/r/#/c/37314,1,e950206b732b648047327fff65fbfe1261f6d20f,e8c77dac77216a10daeec29ad28e6cbac83b0b29,1,29/11/14,29/11/14,110,Move checkPath from DirCacheCheckout to ObjectChecker,"Move checkPath from DirCacheCheckout to ObjectChecker

The bulk of the ""is this sane"" logic is inside of ObjectChecker.  The
only caller for the version in DirCacheCheckout is an obtuse usage for
the static isValidRefName() method in Repository.

Deprecate the weird single use method in DirCacheCheckout and move all
code for checking a sequence of path components into ObjectChecker,
where it makes sense alongside the existing code that checks a single
component at a time.

Reuse a single ObjectChecker for the local platform, to avoid looking
up the system properties on each path string considered.

Change-Id: Iae6e769f2bfcad05c166e70ff255f9cf9fcdc87e",0,0,0,0,0,0,0,0,0
37324,Ie2b3685d958c09b241991b74e6177401e8a1ebc9,https://git.eclipse.org/r/#/c/37324,2,226782c7dc8d20d97108f066180b527bbfeb1774,93df0eaa6151110e97d51b9e90ac07a6a00c40f6,1,30/11/14,12/12/14,45,CheckoutCommand: Fix checking out ours/theirs when no base stage exists,"CheckoutCommand: Fix checking out ours/theirs when no base stage exists

In case of an add/add conflict, no base stage exists. The previous
implementation would skip over the entries because the condition
expected the base stage to always exist.

Change-Id: Ie2b3685d958c09b241991b74e6177401e8a1ebc9
Signed-off-by: Robin Stocker <robin@nibor.org>",0,0,0,0,0,0,0,0,0
37325,I7fdb291bda377dab6160599ee537962d5f60f1e8,https://git.eclipse.org/r/#/c/37325,7,516c05cc75a615c7bbafddf87a11adf9049945fc,5ff628cf3014d440ca9acf7064d5c20b0131a909,1,30/11/14,10/12/14,103,Extract path info from requests without decoding,"Extract path info from requests without decoding

Gitiles malfunctions in conjunction with jgit and guice
because of a recent guice bug fix. Work around the problem
by parsing the URI directly, bypassing the unescaping
performed by the getPathInfo method.

This rest of this message is copied from
https://gerrit-review.googlesource.com/#/c/60820/ :

The fix for Guice issue #745[1] causes getPathInfo() within the
GuiceFilter to return decoded values, eliminating the difference
between ""foo/bar"" and ""foo%2Fbar"". This is in spec with the servlet
standard, whose javadoc for getPathInfo[2] states that the return
value be ""decoded by the web container"".

Work around this by extracting the path part directly from the request
URI, which is unmodified by the container. This is copying the Guice
behavior prior to the bugfix. We do this with a static method rather
than using our own HttpServletRequestWrapper as we don't want to
produce a request wrapper that is not in spec.

[1] https://github.com/google/guice/issues/745
[2] http://docs.oracle.com/javaee/7/api/javax/servlet/http/HttpServletRequest.html#getPathInfo()

Change-Id: I7fdb291bda377dab6160599ee537962d5f60f1e8
Signed-off-by: David Pletcher <dpletcher@google.com>",0,1,0,0,0,0,1,0,0
37332,I3fad123c453c3a1e2972ae0616757fd34b003165,https://git.eclipse.org/r/#/c/37332,2,9e1571183470e455cefa0f329689fb796a890e46,abcab48f144d762a484596c8e9f3f99d69416645,0,30/11/14,02/01/15,5,Add .mailmap to correct Shawn and Saa's log entries,"Add .mailmap to correct Shawn and Saa's log entries

Both myself and Saa ivkov have been using different names
and email addresses in the JGit history. Configure .mailmap
to map to consistent entries for us.

Saa ivkov's entries were taken from the Gerrit Code Review
.mailmap file.

Change-Id: I3fad123c453c3a1e2972ae0616757fd34b003165",0,0,0,0,0,0,0,NA,NA
37333,I804e82cde9b84b8ff232a20fb5cbde04478315e7,https://git.eclipse.org/r/#/c/37333,1,40dc7ac45e5d44d2807ac56dae66863d09c00271,1be902d0bf3c55b4a05077d5353604aee7a07b90,1,30/11/14,27/01/15,8,Fix integer overflow in DiffFormatter when context is set to large int,"Fix integer overflow in DiffFormatter when context is set to large int

In original code, if you call the DiffFormatter's setContext() method
with Integer.MAX_VALUE (to get full-context diffs) the format() method
will get into an infinite loop.

Bug: 382680
Change-Id: I804e82cde9b84b8ff232a20fb5cbde04478315e7
Signed-off-by: Ilmars Poikans <ilmars@delibero.lv>",0,0,0,0,0,0,0,0,0
37373,I7e8fc2bee6513f587612accfc456a83d6277ef4a,https://git.eclipse.org/r/#/c/37373,1,38fc8731ce061b2465d844d3ed4d249baa14313f,1996bfdef1bc8821833363aaf7a152412e6599ca,0,01/12/14,27/01/15,8,Make jgit.sh work on windows when JGIT_CLASSPATH is set,"Make jgit.sh work on windows when JGIT_CLASSPATH is set

jgit.sh was concatenating classpath entries with "":"". On Windows systems
using ""Git for Windows"" this caused problems when JGIT_CLASSPATH was set.

Find out whether we are running on a platform which name starts with
""MINGW"" (""Git for Windows"" sets this) and use "";"" as classpath
separator in this case.

Change-Id: I7e8fc2bee6513f587612accfc456a83d6277ef4a",0,0,0,0,0,0,0,NA,NA
37381,I528491e3e20d3c9ebe37fe3cd2bf85b4644d8698,https://git.eclipse.org/r/#/c/37381,8,3b389b62d6a4bada914ea5cef8868000ae5589f8,036ebec1101d4527acfed0f044e060061ca9b187,1,01/12/14,22/12/14,25,[pgm] Add option --bare to clone command,"[pgm] Add option --bare to clone command

Change-Id: I528491e3e20d3c9ebe37fe3cd2bf85b4644d8698
Signed-off-by: Matthias Sohn <matthias.sohn@sap.com>",0,1,1,1,0,0,1,0,0
37382,Ic266f844c23e2519df5770ca56284b26e4cfe1f4,https://git.eclipse.org/r/#/c/37382,2,09c5fc191dc1c30d2c64741bf885b6336dc616c8,338e67e3570f53a4107156e43ba2f143526f4333,1,01/12/14,22/12/14,130,[pgm] Use LsRemoteCommand to implement ls-remote and add a test,"[pgm] Use LsRemoteCommand to implement ls-remote and add a test

Change-Id: Ic266f844c23e2519df5770ca56284b26e4cfe1f4
Signed-off-by: Matthias Sohn <matthias.sohn@sap.com>",0,0,1,1,0,0,1,0,0
37383,Ie66584c2fc7fc224014a43cf928547703dd9d213,https://git.eclipse.org/r/#/c/37383,3,f6bca47b8278b13a674adb45c84ee5cd7ee5e0fc,15340a9d5a8d66e9cdbe303c08648d5b45c38b1d,1,01/12/14,22/12/14,17,[pgm] Add option --heads for ls-remote,"[pgm] Add option --heads for ls-remote

TODO: find a way to use option -h which is already captured by
TextBuiltin's option --help which also uses the alias -h.

Bug: 444072
Change-Id: Ie66584c2fc7fc224014a43cf928547703dd9d213
Signed-off-by: Matthias Sohn <matthias.sohn@sap.com>",0,0,1,0,0,0,1,0,0
37384,I52b470924609fc201e078d9d232aad257506728d,https://git.eclipse.org/r/#/c/37384,3,aa68b37ec74ba954fac23832e305d910eb59e4c6,a7cc1efedaf873db698bff0e91f51d485bb3307e,1,01/12/14,22/12/14,37,[pgm] Add option --tags for ls-remote,"[pgm] Add option --tags for ls-remote

Bug: 444072
Change-Id: I52b470924609fc201e078d9d232aad257506728d
Signed-off-by: Matthias Sohn <matthias.sohn@sap.com>",0,0,1,0,0,0,1,0,0
37526,I56699b7bf9a71f673cb308d3015f51de5b06c1d9,https://git.eclipse.org/r/#/c/37526,7,5c78a95c137345af6f584bed68c76dd1ca0399ec,d5372d682936f5971cf95737db89f59e77adaf8c,1,04/12/14,22/12/14,295,[pgm] Implement clone using CloneCommand,"[pgm] Implement clone using CloneCommand

Change-Id: I56699b7bf9a71f673cb308d3015f51de5b06c1d9
Signed-off-by: Matthias Sohn <matthias.sohn@sap.com>",0,1,1,1,0,0,1,0,0
37658,I90edbaae3c64eea0c9894d05acde4267991575ee,https://git.eclipse.org/r/#/c/37658,1,c61585416708077f8c950da1017bafe7c41bd699,f8e3700f18241965d651b737bf2924eac88def96,0,05/12/14,06/12/14,21,Make sure modifications to config-param trustFolderStat are detected,"Make sure modifications to config-param trustFolderStat are detected

ObjectDirectory.searchPacksAgain() should always read trustFolderStat
from the config and not rely on a cached value.

Change-Id: I90edbaae3c64eea0c9894d05acde4267991575ee",0,0,0,0,0,1,1,NA,NA
37701,Ic18d051327e491d5834929ff7fa28381f0f972c4,https://git.eclipse.org/r/#/c/37701,1,ba3f1bc540eba29957ef0fd6e4505565386f5a00,a6ca2c86bb936f9fe372a568210e0397ae4c4699,1,06/12/14,19/12/14,18,Implement FileSnapshot.toString() to help debugging,"Implement FileSnapshot.toString() to help debugging

Change-Id: Ic18d051327e491d5834929ff7fa28381f0f972c4
Signed-off-by: Matthias Sohn <matthias.sohn@sap.com>",0,0,1,1,0,0,1,0,0
37702,I715c048227553efae6f8f6b6878c0f04f2609d9c,https://git.eclipse.org/r/#/c/37702,3,eeb2bf9d9531556404e73b91f57bef315ed9da7f,0eef0aaa843f6047b15fb9d030c1afe4868dd8ec,1,06/12/14,12/12/14,54,Fix DirCacheCheckout to set correct file length if core.autocrlf=true,"Fix DirCacheCheckout to set correct file length if core.autocrlf=true

To update the file length stat we need to use the length of the
temporary file since it's not yet renamed to the target file name here.
The incorrect file length stat update was introduced in
a606dc363d0f6b09e4527cca6b645d3cb1ec407d.

Bug: 453962
Change-Id: I715c048227553efae6f8f6b6878c0f04f2609d9c
Also-by: Konrad Kgler <swamblumat-eclipsebugs@yahoo.de>
Signed-off-by: Matthias Sohn <matthias.sohn@sap.com>",0,0,1,0,0,0,1,0,0
37833,I0208f643808bf8f28e2c979d6e33662607775f1f,https://git.eclipse.org/r/#/c/37833,7,70c41d012bdedd3eed63b8c31fa2a24727e207b7,683ffd49775b0bade2da3973277209f0df977e8c,1,09/12/14,15/12/14,247,Allow explicit configuration of git directory in InitCommand,"Allow explicit configuration of git directory in InitCommand

Native git's ""init"" command allows to specify the location of the .git
folder with the option ""--separate-git-dir"". This allows for example to
setup repositories with a non-standard layout. E.g. .git folder under
/repos/a.git and the worktree under /home/git/a. Both directories
contain pointers to the other side: /repos/a.git/config contains
core.worktree=/home/git/a . And /home/git/a/.git is a file containing
""gitdir: /repos/a.git"". This commit adds that option to InitCommand.
This feature is needed to support the new submodule layout where the
.git folder of the submodules is under .git/modules/<submodule>.

Change-Id: I0208f643808bf8f28e2c979d6e33662607775f1f",0,1,1,0,0,1,1,0,0
37842,I420fd2ce88c61cf8e786ed45fbb8235dc30c124e,https://git.eclipse.org/r/#/c/37842,1,0c7377dd17d0c8274fc36dc772e84e74561ea54f,a743108a7a793f548e038425abec8951e14efe0c,1,09/12/14,10/12/14,16,Do not use deprecated tasks in maven-antrun-plugin.,"Do not use deprecated tasks in maven-antrun-plugin.

Maven-antrun-plugin deprecated tasks in favor of target, this patch
fixes JGit poms to do the same.

Change-Id: I420fd2ce88c61cf8e786ed45fbb8235dc30c124e
Signed-off-by: Alexander Kurtakov <akurtako@redhat.com>",0,0,0,0,0,0,0,0,0
37846,I32444e926179827be31d9201a6bbc5d514672110,https://git.eclipse.org/r/#/c/37846,1,a743108a7a793f548e038425abec8951e14efe0c,e365d51a20ba6d37b0af3685324c14b36370c9a2,0,09/12/14,10/12/14,6,Build with Tycho 0.22.,"Build with Tycho 0.22.

Change-Id: I32444e926179827be31d9201a6bbc5d514672110
Signed-off-by: Alexander Kurtakov <akurtako@redhat.com>",0,0,0,1,0,0,1,NA,NA
37981,If5f13426cfd09b7677e23478e9700c8c25a6dae5,https://git.eclipse.org/r/#/c/37981,4,2027512318b1a3fb72681bf2ab95d52968137352,dd4e39f41b9edb91f15aa095d4dd64bba5fee438,1,10/12/14,15/12/14,113,Allow explicit configuration of git directory in CloneCommand,"Allow explicit configuration of git directory in CloneCommand

This feature is needed to support the new submodule layout where the
.git folder of the submodules is under .git/modules/<submodule>.

Change-Id: If5f13426cfd09b7677e23478e9700c8c25a6dae5",0,1,1,0,0,1,1,1,1
37982,I9b56a3dfa50f97f6975c2bb7c97b36296f331b64,https://git.eclipse.org/r/#/c/37982,4,803c92ac1667081b81cc1a376ccf6232b1e4bb19,393e65deae706b8b8e46159e5a273e27026aee1b,1,10/12/14,15/12/14,28,Support the new repository layout for submodules,"Support the new repository layout for submodules

When updating a submodule (e.g. during recursive clone) the repository
for the submodule should be located at <gitdir>/modules/<submodule-path>
whereas the working tree of the submodule should be located at
<working-tree>/<submodule-path> (<gitdir> and <working-tree> are
associated to the containing repository). Since CloneCommand has learned
about specifying a separate gitdir this is easy to implement in
SubmoduleUpdateCommand.

Change-Id: I9b56a3dfa50f97f6975c2bb7c97b36296f331b64",0,1,1,0,0,1,1,0,0
37994,I555863bb1251badee8887b9b93c5463eda0a3509,https://git.eclipse.org/r/#/c/37994,1,a1dcfac6b00cd3eea3a989c8057c6bfc78172cc1,a1f4785dd698c440e654affe267bc0326ec84ff2,1,10/12/14,10/12/14,6,AWTPlotRenderer: use float arithmetic instead of double followed by a conversion,"AWTPlotRenderer: use float arithmetic instead of double followed by a conversion

Multiplying by 0.9 and converting back to float is slightly more
complicated and achieves the same effect as multiplying by the float
0.9f directly.

Change-Id: I555863bb1251badee8887b9b93c5463eda0a3509
Signed-off-by: Jonathan Nieder <jrn@google.com>",0,0,0,0,0,0,0,0,0
38074,I4bcf8cf97c5b46e2f3919809eaa121a8d0e47010,https://git.eclipse.org/r/#/c/38074,2,11527c4bb2f0f4ca782130265cc798784a95c13a,89d03cc05cee8514e33361b0a0db03f2bb0f317f,1,12/12/14,12/12/14,7,Fix LocalDiskRepositoryTestCase to create correct type of repos,"Fix LocalDiskRepositoryTestCase to create correct type of repos

In one place LocalDiskRepositoryTestCase was ignoring the specification
whether to create a bare or non-bare repository. Fix this and fix also
one test which fails now because bare repos don't write reflogs by
default.

Change-Id: I4bcf8cf97c5b46e2f3919809eaa121a8d0e47010",0,0,0,0,0,1,1,0,0
38076,Id5fa17bd764cbf28703c2f21639d7e969289c2d6,https://git.eclipse.org/r/#/c/38076,2,a01fbb6b4417ec8132977f5d431bb48729aebe62,026256c798b05e18d797c18a0f549193f9aa4404,1,12/12/14,12/12/14,532,Fix tests on windows by closing repos,"Fix tests on windows by closing repos

Without explicitly closing repos we can't delete the test repositories
on windows.

Change-Id: Id5fa17bd764cbf28703c2f21639d7e969289c2d6",0,0,0,0,1,1,1,0,0
38077,Ia04924aaaad4d16f883b06404c2a85d3f801231f,https://git.eclipse.org/r/#/c/38077,2,ae914e6d0b349ef3cc040221d1148187515b4d4c,16089e84e54421895804580f188dc4d407c46ccd,1,12/12/14,12/12/14,2,RepoCommand should close opened repos,"RepoCommand should close opened repos

RepoCommand opend two repos without closing them or returning them to
the caller. This caused certain tests to fail on Windows.

Change-Id: Ia04924aaaad4d16f883b06404c2a85d3f801231f",0,0,0,0,0,1,1,0,0
38125,I6ec9bf1c0f330eea5eb8277268f62663bdf58f66,https://git.eclipse.org/r/#/c/38125,1,aa884c6037585ff67a756329b549f825e505a107,b3c8f4eac61f767e2763ed1a56d3409c74fcec7d,1,12/12/14,12/12/14,4,Prevent NPE if ref can't be resolved when executing ReflogCommand,"Prevent NPE if ref can't be resolved when executing ReflogCommand

If the specified ref can't be resolved we should throw a
RefNotFoundException instead of an NPE.

Bug: 455005
Change-Id: I6ec9bf1c0f330eea5eb8277268f62663bdf58f66
Signed-off-by: Matthias Sohn <matthias.sohn@sap.com>",0,0,0,0,0,0,0,0,0
38179,I8df9ab6233ff513e427701c8a1a66022c19784eb,https://git.eclipse.org/r/#/c/38179,1,6d27b876795d32bd374db9c86bb92c83b39a30ee,0db01c6fd86104a86335d33ea71a388d8cd13699,1,12/12/14,12/12/14,103,"Revert ""Extract path info from requests without decoding""","Revert ""Extract path info from requests without decoding""

This reverts commit 19f869996f27adf59ec507e5f565d8b5619576f3.
Leaving path info encoded confuses applications like Gitiles.
Trying to fix this inside of JGit was maybe the wrong solution.

Change-Id: I8df9ab6233ff513e427701c8a1a66022c19784eb",0,0,0,0,0,0,0,0,0
38523,Iee8acbaa9d4d9047b550641db1b8845d64530785,https://git.eclipse.org/r/#/c/38523,1,381698242e7207db448c74c344bafbf88fa84940,b41e9cec1a8fe4317cc24c98bddba67ff420beda,1,19/12/14,19/12/14,230,Merge branch 'stable-3.5' into stable-3.6,"Merge branch 'stable-3.5' into stable-3.6

* stable-3.5:
  JGit v3.5.3.201412180710-r
  JGit v3.4.2.201412180340-r
  ObjectChecker: Disallow names potentially mapping to "".git"" on HFS+
  ObjectChecker: Disallow Windows shortname ""GIT~1""
  ObjectChecker: Disallow "".git."" and "".git<space>""
  Always ignore case when forbidding .git in ObjectChecker
  DirCache: Refuse to read files with invalid paths
  DirCache: Replace isValidPath with DirCacheCheckout.checkValidPath
  Replace ""a."" with ""a-"" in unit tests
  Apache HttpClientConnection: replace calls to deprecated LocalFile()
  Fix two nits about DirCacheEntry constructors
  Detect buffering failures while writing rebase todo file
  Deprecate TemporaryBuffer.LocalFile without parent directory
  Switch FileHeader.extractFileLines to TemporaryBuffer.Heap
  AmazonS3: Buffer pushed pack content under $GIT_DIR
  DirCache: Buffer TREE extension to $GIT_DIR

Change-Id: Iee8acbaa9d4d9047b550641db1b8845d64530785
Signed-off-by: Matthias Sohn <matthias.sohn@sap.com>",0,0,0,0,0,0,0,0,0
38575,Ife6f21d64a148dbb0d0d9055356b1568188806fe,https://git.eclipse.org/r/#/c/38575,1,59517ad96caf0c9b0eb401665a5ca81fae8bfdab,32182f1afada02dd8ccfcb0db40fd667b12fa455,0,19/12/14,19/12/14,0,Merge branch 'stable-3.6',"Merge branch 'stable-3.6'

* stable-3.6: (26 commits)
  JGit v3.5.3.201412180710-r
  JGit v3.4.2.201412180340-r
  ObjectChecker: Disallow names potentially mapping to "".git"" on HFS+
  ObjectChecker: Disallow Windows shortname ""GIT~1""
  ObjectChecker: Disallow "".git."" and "".git<space>""
  Always ignore case when forbidding .git in ObjectChecker
  DirCache: Refuse to read files with invalid paths
  DirCache: Replace isValidPath with DirCacheCheckout.checkValidPath
  Replace ""a."" with ""a-"" in unit tests
  Support the new repository layout for submodules
  Allow explicit configuration of git directory in CloneCommand
  Allow explicit configuration of git directory in InitCommand
  Fix tests on windows by closing repos
  RepoCommand should close opened repos
  Fix LocalDiskRepositoryTestCase to create correct type of repos
  Prevent NPE if ref can't be resolved when executing ReflogCommand
  Fix DirCacheCheckout to set correct file length if core.autocrlf=true
  CheckoutCommand: Fix checking out ours/theirs when no base stage exists
  Make sure modifications to config-param trustFolderStat are detected
  Apache HttpClientConnection: replace calls to deprecated LocalFile()
  ...

Change-Id: Ife6f21d64a148dbb0d0d9055356b1568188806fe",0,0,0,0,0,0,0,NA,NA
38666,If5f67d739f744f19b45e6f5c7597a213fd5bf025,https://git.eclipse.org/r/#/c/38666,1,f1adaa3fcecc21b3f07c5635e5c004418311f5d3,37f06a1743db1a378ecc8482e5aa4173b9902703,1,22/12/14,22/12/14,3,Fix unit tests for windows by explicitly closing test repos,"Fix unit tests for windows by explicitly closing test repos

Change-Id: If5f67d739f744f19b45e6f5c7597a213fd5bf025",0,0,0,1,0,1,1,0,0
38667,I87458d1dc63c1f5c18979f972b1c1f0d670a9ed8,https://git.eclipse.org/r/#/c/38667,5,37f06a1743db1a378ecc8482e5aa4173b9902703,3d599ea191998e1e64fa0720792c01c866b345ad,1,22/12/14,22/12/14,20,Fix junit tests under windows when the platform is explicitly changed,"Fix junit tests under windows when the platform is explicitly changed

SystemReader used a chached ObjectChecker which was instantiated only
once. But in case of unit tests where we can change the platform
dynamically (e.g. MockSystemReader.setWindows()) this is wrong and
caused DirCacheCheckoutMaliciousPathTest.testMaliciousAbsoluteCurDrivePathWindowsOnUnix()
to fail. This change allows user of SystemReader to force the creation
of a new ObjectChecker. MockSystemReader.setWindows() and .setUnix()
make use of this feature.

Change-Id: I87458d1dc63c1f5c18979f972b1c1f0d670a9ed8",0,1,0,0,0,1,1,0,0
38713,Ic28e2bbbdb1099e948c64a005c39f6b8d8ac69a8,https://git.eclipse.org/r/#/c/38713,2,fd90b878b11208bdd78d15ba9884ce0c844c4e3e,03b403464d34c0199967ed67844e25dd0455a987,1,23/12/14,23/12/14,121,JGit v3.6.0.201412230720-r,"JGit v3.6.0.201412230720-r

Change-Id: Ic28e2bbbdb1099e948c64a005c39f6b8d8ac69a8
Signed-off-by: Matthias Sohn <matthias.sohn@sap.com>",1,0,0,1,0,0,1,0,0
38745,Ie620c90ffafbffc6755b4e1ed55a61a15b118a2a,https://git.eclipse.org/r/#/c/38745,1,03b403464d34c0199967ed67844e25dd0455a987,3457fca0c39e6da8b01a7f645cb55904f876e0b3,1,23/12/14,23/12/14,532,Prepare 3.6.1-SNAPSHOT builds,"Prepare 3.6.1-SNAPSHOT builds

Change-Id: Ie620c90ffafbffc6755b4e1ed55a61a15b118a2a
Signed-off-by: Matthias Sohn <matthias.sohn@sap.com>",1,0,0,1,1,0,1,0,0
38748,I8f31e76cb7e9416919f37e02c7e51ab1d221df40,https://git.eclipse.org/r/#/c/38748,1,d63f57fe4e2c9f0aeab8f55c9acd1de85ef36000,36318cfd1ae6efc152b4a629889c71771b7a556c,0,24/12/14,24/12/14,0,Merge branch 'stable-3.6',"Merge branch 'stable-3.6'

* stable-3.6:
  Prepare 3.6.1-SNAPSHOT builds
  JGit v3.6.0.201412230720-r
  [pgm] Add option --bare to clone command
  [pgm] Implement clone using CloneCommand
  Fix junit tests under windows when the platform is explicitly changed
  Fix unit tests for windows by explicitly closing test repos
  [pgm] Add option --tags for ls-remote
  [pgm] Add option --heads for ls-remote
  [pgm] Use LsRemoteCommand to implement ls-remote and add a test

Change-Id: I8f31e76cb7e9416919f37e02c7e51ab1d221df40
Signed-off-by: Matthias Sohn <matthias.sohn@sap.com>",1,0,0,0,0,0,1,NA,NA
38749,Ib3e7b5f46ee1e27b9cf25b3b2d01d681a5c4904c,https://git.eclipse.org/r/#/c/38749,2,36318cfd1ae6efc152b4a629889c71771b7a556c,a9046f179b17d9cb9149c3b08ddccc983f8ed508,1,24/12/14,24/12/14,534,Prepare 3.7.0-SNAPSHOT builds,"Prepare 3.7.0-SNAPSHOT builds

Change-Id: Ib3e7b5f46ee1e27b9cf25b3b2d01d681a5c4904c
Signed-off-by: Matthias Sohn <matthias.sohn@sap.com>",1,0,0,1,1,0,1,0,0
38792,I70d2e3f37d02a688436999844884510c2eb5cbda,https://git.eclipse.org/r/#/c/38792,1,a9046f179b17d9cb9149c3b08ddccc983f8ed508,3c106375ad50b8e03bc6d5683b8357b9e70a0b45,0,28/12/14,28/12/14,2,Compare API changes against 3.6.0,"Compare API changes against 3.6.0

Change-Id: I70d2e3f37d02a688436999844884510c2eb5cbda
Signed-off-by: Matthias Sohn <matthias.sohn@sap.com>",1,0,0,1,0,0,1,NA,NA
38793,I621c1644d9e94df3eb9f6f09c6de0fe51f0950a4,https://git.eclipse.org/r/#/c/38793,1,0245193a7f2f614bfe9e85ae33adf7e0743463ec,f651a3f0afa1662294ab0c5159f0246cb1ed3e12,1,28/12/14,28/12/14,118,"PathMatcher should respect ""assumeDirectory"" flag","PathMatcher should respect ""assumeDirectory"" flag

The path matcher should not fail if the rule ends with trailing slash,
target pattern does not ends with the slash and the ""assumeDirectory""
flag is set.

E.g. */bin/ should also match a/bin if this pattern is threated as
directory by WorkingTreeIterator (FileMode.TREE).

The old code/tests have never tested directory rules with patterns
*without* trailing slashes but with the ""assumeDirectory"" flag set.
Unfortunately this is exactly what WorkingTreeIterator does... The tests
are changed to test *both* cases now (with trailing slash and without)
if the target pattern has trailing slash (represents directory).

Bug: 454672
Change-Id: I621c1644d9e94df3eb9f6f09c6de0fe51f0950a4
Also-by: Markus Duft <markus.duft@salomon.at>
Signed-off-by: Andrey Loskutov <loskutov@gmx.de>",0,0,0,0,0,0,0,0,0
38912,Iec2aab12ae9e67074cccb7fbd4d9defe176a0130,https://git.eclipse.org/r/#/c/38912,1,f651a3f0afa1662294ab0c5159f0246cb1ed3e12,f8ce9823768c733a8b3a658c538584b7881010bb,1,02/01/15,02/01/15,126,Rename detection should canonicalize line endings,"Rename detection should canonicalize line endings

Native Git canonicalizes line endings when detecting
renames, more specifically it replaces CRLF by LF.
See: hash_chars in diffcore-delta.c

Bug: 449545
Change-Id: Iec2aab12ae9e67074cccb7fbd4d9defe176a0130
Signed-off-by: Marc Strapetz <marc.strapetz@syntevo.com>
Signed-off-by: Matthias Sohn <matthias.sohn@sap.com>",0,0,0,0,0,0,0,1,1
38913,Idd77b659d0db957626824f6632e2da38d7731625,https://git.eclipse.org/r/#/c/38913,1,f8ce9823768c733a8b3a658c538584b7881010bb,be2e2e720592229e628f300a88b9b44639efa721,1,02/01/15,02/01/15,16,Trim author/committer name and email in commit header,"Trim author/committer name and email in commit header

C Git trims name and email before inserting them into the commit header
so that "" A U Thor  "" and ""  author@example.com "" becomes 
""A U Thor <author@example.com>"" with a single separating space.

This changes PersonIdent#toExternalString() to trim name and email
before concatenating them.

Change-Id: Idd77b659d0db957626824f6632e2da38d7731625
Signed-off-by: Rdiger Herrmann <ruediger.herrmann@gmx.de>",0,0,0,0,0,0,0,0,0
38927,I56e235a271f90ea2d8cdb7d99706f726d4a59c43,https://git.eclipse.org/r/#/c/38927,1,be2e2e720592229e628f300a88b9b44639efa721,e3f758e7aa4e00cad543c3865bda9ce412b8c335,1,03/01/15,04/01/15,118,JGit v3.6.1.201501031845-r,"JGit v3.6.1.201501031845-r

Change-Id: I56e235a271f90ea2d8cdb7d99706f726d4a59c43
Signed-off-by: Matthias Sohn <matthias.sohn@sap.com>",1,0,0,1,0,0,1,0,0
38930,I9699d84af2d4b5382d8ee88ed3517d6b91305421,https://git.eclipse.org/r/#/c/38930,1,e3f758e7aa4e00cad543c3865bda9ce412b8c335,1c421d70e678a6841c68469390348906d164d6d9,1,04/01/15,04/01/15,532,Prepare 3.6.2-SNAPSHOT builds,"Prepare 3.6.2-SNAPSHOT builds

Change-Id: I9699d84af2d4b5382d8ee88ed3517d6b91305421
Signed-off-by: Matthias Sohn <matthias.sohn@sap.com>",1,0,0,1,1,0,1,0,0
38931,Idd48c6d94cf1ab09abc07f70d50890b1b78e1833,https://git.eclipse.org/r/#/c/38931,1,c3970c208bbf3d8056897a6174982d50b2682498,23d9c56d54691d6761a3cc1b3b081b7bab4c3393,1,04/01/15,04/01/15,583,Merge branch 'stable-3.6',"Merge branch 'stable-3.6'

* stable-3.6:
  Prepare 3.6.2-SNAPSHOT builds
  JGit v3.6.1.201501031845-r
  Trim author/committer name and email in commit header
  Rename detection should canonicalize line endings
  PathMatcher should respect ""assumeDirectory"" flag

Change-Id: Idd48c6d94cf1ab09abc07f70d50890b1b78e1833
Signed-off-by: Matthias Sohn <matthias.sohn@sap.com>",1,0,0,0,1,0,1,0,0
39039,Idf38a0db7dc72d672ff185dcac2f41f0012a6673,https://git.eclipse.org/r/#/c/39039,1,23d9c56d54691d6761a3cc1b3b081b7bab4c3393,8d131a7e8002eef6036afdbc8b881b8b063a79fa,1,06/01/15,07/01/15,6,AIOOB in ChangeIdUtil.indexOfChangeId if amended message is a newline,"AIOOB in ChangeIdUtil.indexOfChangeId if amended message is a newline

Bug: 456792
Change-Id: Idf38a0db7dc72d672ff185dcac2f41f0012a6673
Signed-off-by: Andrey Loskutov <loskutov@gmx.de>",0,0,0,0,0,0,0,0,0
39133,Ib6005e8453ecc871a9b72227e2593a3823f56010,https://git.eclipse.org/r/#/c/39133,1,8d131a7e8002eef6036afdbc8b881b8b063a79fa,b2df2afff0226af11887c9496fac3173f904b311,0,07/01/15,12/01/15,1,[pgm] Add missing help text for clone --bare option,"[pgm] Add missing help text for clone --bare option

Bug: 456695
Change-Id: Ib6005e8453ecc871a9b72227e2593a3823f56010
Signed-off-by: Matthias Sohn <matthias.sohn@sap.com>",0,0,1,0,0,0,1,NA,NA
39351,I01fa5e167437e619448ac201fcb1cbf63bad96d7,https://git.eclipse.org/r/#/c/39351,3,094681cf9d299b3c19afe1b537458995acecb910,03934b08135db7b50e586e85e6745a6b9d4b26e3,1,11/01/15,13/01/15,12,[pgm] Prevent commands from writing progress to System.err,"[pgm] Prevent commands from writing progress to System.err

Commands which report progress used to write to System.err. This is not
desirable in cases where jgit.pgm is embedded. This change redirects
progress output to the error stream that is configured by the command.

Change-Id: I01fa5e167437e619448ac201fcb1cbf63bad96d7
Signed-off-by: Rdiger Herrmann <ruediger.herrmann@gmx.de>",0,0,0,0,0,0,0,0,0
39441,I806a8ae3c045ca5936f69cb903baf9b99ee39181,https://git.eclipse.org/r/#/c/39441,1,bf80fab8a812fbdc9d3723869e40161d14c0b13c,2323a53ebf1e368f8ab903807de84accb40784cf,1,13/01/15,13/01/15,2,Update atomic constant,"Update atomic constant

The atomic feature is now cooking in -next in git-core. Very rarely
features are ejected from the the next branch in git-core, so I consider
it reasonable to come up with this patch now to make the 2 implementations
interoperable.

Change-Id: I806a8ae3c045ca5936f69cb903baf9b99ee39181
Signed-off-by: Stefan Beller <sbeller@google.com>",0,0,0,0,0,0,0,0,0
39496,I9e030959f658c58344b04ef2f9edd28060f0c964,https://git.eclipse.org/r/#/c/39496,1,f0d795873be1503b8b8401750d81cfbb01a9f2b3,1e9187d09473f292ef31970d1315f274b5774eaf,0,13/01/15,15/01/15,9,Silence API warning raised since 7fafd372,"Silence API warning raised since 7fafd372

This new git capability isn't yet in the wild in the git-core camp.
Hence we can silence this API warning.

Change-Id: I9e030959f658c58344b04ef2f9edd28060f0c964
Signed-off-by: Matthias Sohn <matthias.sohn@sap.com>",0,0,0,0,0,0,0,NA,NA
39530,I249869cadb2d55aef016371b9311b8583591b9cf,https://git.eclipse.org/r/#/c/39530,16,4820e06af30a335060dad97774bea9bae8682d33,066abbce35da420d60ffeeea4fafaae3beb5d478,1,13/01/15,24/02/15,620,WIP: Port push certificates,"WIP: Port push certificates

push certs have been part of git-core for a few months now. Let's try
to support that feature.

This is not complete and is lacking the static void
prepare_push_cert_sha1(struct child_process *proc) function form git-core

Change-Id: I249869cadb2d55aef016371b9311b8583591b9cf
Signed-off-by: Stefan Beller <sbeller@google.com>",0,1,0,0,1,0,1,2,1
39597,Iae50be89ea6d5aee33bd938a937ac5ca578aabca,https://git.eclipse.org/r/#/c/39597,3,09690e9cb840caac622275fd0e6c1a796cdb49d3,b84dd4875906d197a8fe44871afb3823e8cc34bb,1,14/01/15,17/01/15,9,[456776] fix RawText.getLineDelimiter() for empty first line,"[456776] fix RawText.getLineDelimiter() for empty first line

Change-Id: Iae50be89ea6d5aee33bd938a937ac5ca578aabca
Signed-off-by: Frank Wagner <frank.wagner@fr.ibm.com>",0,0,1,1,0,0,1,0,0
39661,I871f70e4bb1227952e1544b789013583b14e2b96,https://git.eclipse.org/r/#/c/39661,3,64a03adf48c726330d07053372d68b22172739c0,908d4c6effe4c55c5fb1bca764321f1e7e62ddf3,1,15/01/15,21/01/15,22,Log reason for ignoring pack when IOException occurred,"Log reason for ignoring pack when IOException occurred

This should help to identify the root cause of the problem discussed on
the Gerrit list [1].

[1] https://groups.google.com/forum/#!topic/repo-discuss/Qdmbl-YZ4NU

Change-Id: I871f70e4bb1227952e1544b789013583b14e2b96
Signed-off-by: Matthias Sohn <matthias.sohn@sap.com>",0,0,1,0,0,0,1,0,0
39685,I331626110d54b190e46cddc2c40f29ddeb9613cd,https://git.eclipse.org/r/#/c/39685,6,908d4c6effe4c55c5fb1bca764321f1e7e62ddf3,61ad5af63ee5bf695ed6326d6f96c5b4b3b7f815,1,15/01/15,21/01/15,36,[RFC] Don't remove pack if accessing a pack throws IOException,"[RFC] Don't remove pack if accessing a pack throws IOException 

If the IOException is caused by a transient problem that's maybe the
better strategy to avoid the problem reported on the Gerrit list [1].
It looks like in the reported case the pack was removed from the pack
list causing MissingObjectExceptions which disappear when the server is
restarted.

[1] https://groups.google.com/forum/#!topic/repo-discuss/Qdmbl-YZ4NU

Change-Id: I331626110d54b190e46cddc2c40f29ddeb9613cd
Signed-off-by: Matthias Sohn <matthias.sohn@sap.com>",0,1,1,0,0,0,1,0,0
40024,I483fc7bbff1561721cf621dc67ce4a193624fa64,https://git.eclipse.org/r/#/c/40024,1,61ad5af63ee5bf695ed6326d6f96c5b4b3b7f815,7b89c81d57a6e7c5cb95fd8b9beb24854bb511e1,1,21/01/15,21/01/15,118,JGit v3.6.2.201501210735-r,"JGit v3.6.2.201501210735-r

Change-Id: I483fc7bbff1561721cf621dc67ce4a193624fa64
Signed-off-by: Matthias Sohn <matthias.sohn@sap.com>",1,0,0,1,0,0,1,0,0
40051,Ie753dc77a23558d1993e959f48b7eb06557ea686,https://git.eclipse.org/r/#/c/40051,1,7b89c81d57a6e7c5cb95fd8b9beb24854bb511e1,47a6e45dd34ec78c4194d4c7873e9314977d7f3f,1,21/01/15,21/01/15,532,Prepare 3.6.3-SNAPSHOT builds,"Prepare 3.6.3-SNAPSHOT builds

Change-Id: Ie753dc77a23558d1993e959f48b7eb06557ea686
Signed-off-by: Matthias Sohn <matthias.sohn@sap.com>",1,0,0,1,1,0,1,0,0
40077,I61141b52839511d58e5a5b193bfde31e9f444a6c,https://git.eclipse.org/r/#/c/40077,1,f0eb5900ed838598f91c9a7806f936437614c901,6125e82d9d228d5ff012c8f34e586b664070b82f,1,21/01/15,21/01/15,579,Merge remote-tracking branch 'origin/stable-3.6',"Merge remote-tracking branch 'origin/stable-3.6'

* origin/stable-3.6:
  Prepare 3.6.3-SNAPSHOT builds
  JGit v3.6.2.201501210735-r
  Don't remove pack from pack list for problems which could be transient
  Log reason for ignoring pack when IOException occurred

Change-Id: I61141b52839511d58e5a5b193bfde31e9f444a6c
Signed-off-by: Matthias Sohn <matthias.sohn@sap.com>",1,0,0,0,1,0,1,0,0
40082,I4884a1ef2f609f9fb24dda4bd5819dffb9f174b6,https://git.eclipse.org/r/#/c/40082,1,6125e82d9d228d5ff012c8f34e586b664070b82f,c05ceeeda52108324ee0e1032a2fa9f6dc2e2eb4,1,21/01/15,23/01/15,7,"Ensure GitCommand's ""callable"" guard is thread-safe","Ensure GitCommand's ""callable"" guard is thread-safe

This way we can ensure that the same command instance can't be used
concurrently in multiple threads.

Bug: 458023
Change-Id: I4884a1ef2f609f9fb24dda4bd5819dffb9f174b6
Signed-off-by: Matthias Sohn <matthias.sohn@sap.com>",0,0,0,0,0,0,0,0,0
40084,Ieee334f4d82cd71ba98b26abb8667e8f64cac665,https://git.eclipse.org/r/#/c/40084,1,103c8d9c699edaec9df413610cc6e7ce935c061c,9c9a211edd08efc677d4b432f2bbacf9916fda09,1,21/01/15,23/01/15,6,Document that Git instance returned by CloneCommand needs to be closed,"Document that Git instance returned by CloneCommand needs to be closed

Bug: 448570
Change-Id: Ieee334f4d82cd71ba98b26abb8667e8f64cac665
Signed-off-by: Matthias Sohn <matthias.sohn@sap.com>",0,0,0,0,0,0,0,0,0
40085,I05be0a5b07f8e22f55637b9a3080362978368bcb,https://git.eclipse.org/r/#/c/40085,2,9c9a211edd08efc677d4b432f2bbacf9916fda09,36b629904ac616205904a253257e4331c0184f14,1,21/01/15,23/01/15,11,Document that repo returned by SubmoduleAddCommand needs to be closed,"Document that repo returned by SubmoduleAddCommand needs to be closed

Bug: 448570
Change-Id: I05be0a5b07f8e22f55637b9a3080362978368bcb
Signed-off-by: Matthias Sohn <matthias.sohn@sap.com>",0,0,0,0,0,0,0,0,0
40086,Ia25543c0d80817f8eb35c667ba5dcce046131a7c,https://git.eclipse.org/r/#/c/40086,1,b987763176f39a283b999e07ff7678457c2e2cfa,5bec75d39cb08dc0a24344a11130ed99f7f71919,1,21/01/15,22/01/15,8,Silence non-externalized string warnings in RepoCommand,"Silence non-externalized string warnings in RepoCommand

Change-Id: Ia25543c0d80817f8eb35c667ba5dcce046131a7c
Signed-off-by: Matthias Sohn <matthias.sohn@sap.com>",0,0,0,1,0,0,1,0,0
40339,Id3ffd7dc7ae1c55674d88bf1b43953234fe0b68d,https://git.eclipse.org/r/#/c/40339,1,651f367a1b6a2820443d476a0b2f621746023aae,54b9486f3b67c0d669ba9c787829ab41644a266c,1,26/01/15,27/01/15,2,Handle invalid tree extensions,"Handle invalid tree extensions

In case the index contains wrong tree extensions don't throw a
ArrayIndexOutOfBounds exception but revalidate the tree extension.

It happened that the git index written by Git for Windows contained valid
(means entryCount>0) tree extensions for pathes which are not existing
in the index. Native git handles this inconsistency silently but JGit
was crashing with a ArrayIndexOutOfBounds exception. Teach JGit to
better recognize such cases and revalidate such extensions.

It's hard to write a test because JGit doesn't write such extensions. It
only reads, validates and makes use of them. But the bug tells how to
create such situations.

Bug: 457152
Change-Id: Id3ffd7dc7ae1c55674d88bf1b43953234fe0b68d",0,0,0,0,0,1,1,0,0
40379,I5c696ba23bcd2a536a0512fa7f5b6130961905c5,https://git.eclipse.org/r/#/c/40379,2,d7bc04e6db6356ba22b91acbbc588b54aecf100c,8939825f5a06b85f941cd504be6d824a7274efb7,1,26/01/15,27/01/15,13,Make InMemoryRepository internals public,"Make InMemoryRepository internals public

This class is designed specifically for tests, and tests may want to
have finer control over the internals, such as validating arguments
to certain method calls. Make the internal implementation classes
public, and some methods protected, to make this possible.

Change-Id: I5c696ba23bcd2a536a0512fa7f5b6130961905c5",0,0,0,0,0,1,1,0,0
40387,I58c342a91911763055c1073d2f426340fbf94fa4,https://git.eclipse.org/r/#/c/40387,2,8939825f5a06b85f941cd504be6d824a7274efb7,1c9e4512dfbddd3b2ac8daeb2b7d7ee33f937bb7,1,26/01/15,27/01/15,16,Add BatchRefUpdate#toString(),"Add BatchRefUpdate#toString()

Change-Id: I58c342a91911763055c1073d2f426340fbf94fa4",0,0,0,1,0,1,1,0,0
40424,I414ba8ccc82866d3107ba7083a567ea70c879bdf,https://git.eclipse.org/r/#/c/40424,1,14dfad55e62646c1552c0e63d7280784fbb05710,25d35b5f84326826d57fdc137cf5e7eb281e9608,1,27/01/15,27/01/15,538,Prepare 4.0.0-SNAPSHOT builds,"Prepare 4.0.0-SNAPSHOT builds

Change-Id: I414ba8ccc82866d3107ba7083a567ea70c879bdf
Signed-off-by: Matthias Sohn <matthias.sohn@sap.com>",1,0,0,1,1,0,1,0,0
40425,Iea8f2236d4e6a94a8d14bb8cc685006ea3fd1bb7,https://git.eclipse.org/r/#/c/40425,5,25d35b5f84326826d57fdc137cf5e7eb281e9608,878a48efa3bd29eabcb19ae05281ed052687f083,1,27/01/15,09/02/15,200,Set minimum required Java version to Java 7,"Set minimum required Java version to Java 7

Bug: 458475
Change-Id: Iea8f2236d4e6a94a8d14bb8cc685006ea3fd1bb7
Signed-off-by: Matthias Sohn <matthias.sohn@sap.com>",0,1,0,0,0,0,1,0,0
40426,If8e6f2d7405fdfe6f4b178673b4ccf99c67d4b64,https://git.eclipse.org/r/#/c/40426,3,0490a3fdbb9c568bb439291d852dda99a971ac6b,f59788f355219f2a26f5bebfe33bff1a54820233,1,27/01/15,10/02/15,1252,Move console classes to pgm bundle,"Move console classes to pgm bundle

Since we updated minimum Java version to Java 7 the console bundle
doesn't need to be a separate bundle anymore. Move the contained classes
to the pgm bundle which is using these classes.

Change-Id: If8e6f2d7405fdfe6f4b178673b4ccf99c67d4b64
Signed-off-by: Matthias Sohn <matthias.sohn@sap.com>",0,0,0,0,1,0,1,-1,0
40438,I41880862db5303b5bea4b2184ba7844d69c997b5,https://git.eclipse.org/r/#/c/40438,5,71f8b3fd978b187d90183ac93f93cbc0681b9300,d6df75c17319237516a1a7b95aa550159047a3f4,1,27/01/15,09/02/15,13,Implement AutoClosable interface to support try-with-resources block,"Implement AutoClosable interface to support try-with-resources block

Bug: 428039
Change-Id: I41880862db5303b5bea4b2184ba7844d69c997b5
Signed-off-by: Matthias Sohn <matthias.sohn@sap.com>",0,1,0,0,0,0,1,0,0
40463,Id664a91dc5a8cf2ac401e7d87ce2e3b89e221458,https://git.eclipse.org/r/#/c/40463,6,654458d48086364fe54e3910204d07d040b84633,f58c37bd37952b1f189b51c0fc33b43dbd79a7db,1,27/01/15,09/02/15,153,Implement AutoClosable interface on classes that used release(),"Implement AutoClosable interface on classes that used release()

Implement AutoClosable and deprecate the old release() method to give
JGit consumers some time to adapt.

Bug: 428039
Change-Id: Id664a91dc5a8cf2ac401e7d87ce2e3b89e221458
Signed-off-by: Matthias Sohn <matthias.sohn@sap.com>",0,1,0,0,0,0,1,0,0
40503,I5d10f87f364dadbbdbfb61b6b2cbdee9c7457f3d,https://git.eclipse.org/r/#/c/40503,1,bb298dfc22acfceff3514a90503038faf4ca9771,87154e8f6c58384a3f9926478a7a1ce84b6c4b0b,1,27/01/15,02/02/15,5,If a pack isn't found on disk remove it from pack list,"If a pack isn't found on disk remove it from pack list

If accessing a pack throws FileNotFoundException the pack was deleted
and we need to remove it from the pack list. This can be caused e.g. by
git gc.

Change-Id: I5d10f87f364dadbbdbfb61b6b2cbdee9c7457f3d
Signed-off-by: Matthias Sohn <matthias.sohn@sap.com>",0,0,0,0,0,0,0,0,0
40504,I1f82a5205138fd8032614dd5b52aef14e02238ed,https://git.eclipse.org/r/#/c/40504,2,f8bf5e78e81ee7fd30908c712f0b869306f1f99e,be9d7772c131db448bddae95719d8026336f15a1,1,27/01/15,02/02/15,829,Introduce hook support into the FS implementations,"Introduce hook support into the FS implementations

This introduces the background plumbing necessary to run git hooks from
JGit. This implementation will be OS-dependent as it aims to be
compatible with existing hooks, mostly written in Shell. It is
compatible with unix systems and windows as long as an Unix emulator
such as Cygwin is in its PATH.

Change-Id: I1f82a5205138fd8032614dd5b52aef14e02238ed
Signed-off-by: Laurent Goubet <laurent.goubet@obeo.fr>
Signed-off-by: Matthias Sohn <matthias.sohn@sap.com>",0,0,0,0,1,0,1,2,1
40505,I8059ef299aeb43373f4f45274030886171a20a8e,https://git.eclipse.org/r/#/c/40505,2,d1f813210c468fc0a81789dd917303d3833110e2,8741f197cdf51444438fe3e26e57c59f183a030e,1,27/01/15,02/02/15,106,Add a hook test,"Add a hook test

Change-Id: I8059ef299aeb43373f4f45274030886171a20a8e
Signed-off-by: Matthias Sohn <matthias.sohn@sap.com>",0,0,0,1,0,0,1,0,0
40506,If86df98577fa56c5c03d783579c895a38bee9d18,https://git.eclipse.org/r/#/c/40506,3,b184b7370480a8c75a465d130062645e12d47aa9,f06c99f0aefca87529ca8fffd05e68435b13db73,1,27/01/15,02/02/15,177,Support for the pre-commit hook,"Support for the pre-commit hook

Introduce support for the pre-commit hook into JGit, along with the
--no-verify commit command option to bypass it when rebasing /
cherry-picking.

Change-Id: If86df98577fa56c5c03d783579c895a38bee9d18
Signed-off-by: Laurent Goubet <laurent.goubet@obeo.fr>
Signed-off-by: Matthias Sohn <matthias.sohn@sap.com>",0,0,0,0,0,0,0,0,0
40600,If8f9e85368c56d88bb6ae9efe1b3a29cc18cc1d5,https://git.eclipse.org/r/#/c/40600,2,37056b6d01332f75f2a92af6d1942641c83f316b,98fbec9bcc65ee5a3b8a2f1c4cb1afd137ee4276,1,29/01/15,10/03/15,14,Make s3 domain dynamic to support different s3 regions,"Make s3 domain dynamic to support different s3 regions

Change-Id: If8f9e85368c56d88bb6ae9efe1b3a29cc18cc1d5
Signed-off-by: Matthew Spurrier <matthew@spurrier.com.au>",0,0,0,1,0,0,1,0,0
40937,I292eab78e50711529a0412f9a54e174a3ac16109,https://git.eclipse.org/r/#/c/40937,2,cc072a5b15507893e26756b4643c5d054e6de55d,6811d50c34d2158c1e598c8f586e03069e36d782,1,02/02/15,02/02/15,27,Fix FileUtils.testRelativize_mixedCase which failed on Mac OS X,"Fix FileUtils.testRelativize_mixedCase which failed on Mac OS X

HFS is case insensitive hence expecting it to return the result for case
sensitive filesystem doesn't work.

Change-Id: I292eab78e50711529a0412f9a54e174a3ac16109
Signed-off-by: Matthias Sohn <matthias.sohn@sap.com>",1,0,0,0,0,0,1,0,0
41029,Ia2ea65945b7e1d4120da3d6e6c9f6d5fdb642ae6,https://git.eclipse.org/r/#/c/41029,1,fabc764722cfad93b0acccae7d7c46020ea54254,c858471907c3dd0db1f7c2b9099f6f2c94cefd0c,1,03/02/15,03/02/15,118,JGit v3.7.0.201502031740-rc1,"JGit v3.7.0.201502031740-rc1

Change-Id: Ia2ea65945b7e1d4120da3d6e6c9f6d5fdb642ae6
Signed-off-by: Matthias Sohn <matthias.sohn@sap.com>",1,0,0,1,0,0,1,0,0
41035,Id3728e771a4441757de016cc9d68055f668126b0,https://git.eclipse.org/r/#/c/41035,1,c858471907c3dd0db1f7c2b9099f6f2c94cefd0c,4c9cfbabfbb9cbc7454b4022b49fad667d743017,1,04/02/15,04/02/15,118,Prepare post 3.7.0.201502031740-rc1 builds,"Prepare post 3.7.0.201502031740-rc1 builds

Change-Id: Id3728e771a4441757de016cc9d68055f668126b0
Signed-off-by: Matthias Sohn <matthias.sohn@sap.com>",1,0,0,1,0,0,1,0,0
41069,I546a93f3e147d8d6fc70094b22679c0d11cd8921,https://git.eclipse.org/r/#/c/41069,1,4c9cfbabfbb9cbc7454b4022b49fad667d743017,95a7bfaec3b52339ca72a655ea42cf9de92d0065,1,04/02/15,04/02/15,22,Add option --orphan for checkout,"Add option --orphan for checkout

Change-Id: I546a93f3e147d8d6fc70094b22679c0d11cd8921
Signed-off-by: Rdiger Herrmann <ruediger.herrmann@gmx.de>",0,0,0,1,0,0,1,0,0
41071,I936acd24d47b911fa30ab29856094e1b2c6ac3db,https://git.eclipse.org/r/#/c/41071,1,3254b013bf17174cdf369aeb8681dcf21dce522d,e902424fb8543abd1a4c4244f6e97a87a1e9b1f1,1,04/02/15,04/02/15,15,Merge branch 'stable-3.7',"Merge branch 'stable-3.7'

* stable-3.7:
  Add option --orphan for checkout
  Prepare post 3.7.0.201502031740-rc1 builds
  JGit v3.7.0.201502031740-rc1
  Support for the pre-commit hook
  Fix FileUtils.testRelativize_mixedCase which failed on Mac OS X
  Add a hook test
  Introduce hook support into the FS implementations
  If a pack isn't found on disk remove it from pack list

Conflicts:
	org.eclipse.jgit.java7.test/META-INF/MANIFEST.MF

Change-Id: I936acd24d47b911fa30ab29856094e1b2c6ac3db
Signed-off-by: Matthias Sohn <matthias.sohn@sap.com>",1,0,0,0,0,0,1,0,0
41279,I305ac95739cfed0c16735e0987844e57fa27e236,https://git.eclipse.org/r/#/c/41279,4,e902424fb8543abd1a4c4244f6e97a87a1e9b1f1,b3036dd066cb862ee0a85af189f8024fb88722af,1,06/02/15,13/03/15,799,CLI status should support --untracked-files,"CLI status should support --untracked-files

A special options handler is added to properly handle the short -u alias
of the option.

The ""normal"" mode is not supported by this patch, because this mode of
listing untracked files is not
supported by the org.eclipse.jgit.lib.IndexDiff class. This mode is not
necessary for my use case. It can be added later if anyone really needs
it.

The StatusTest is updated to cover all possible combinations of the
--porcelain and --untracked-files options.

Bug: 459319
Change-Id: I305ac95739cfed0c16735e0987844e57fa27e236
Signed-off-by: Kaloyan Raev <kaloyan.r@zend.com>",0,1,0,0,1,0,1,-2,0
41468,Ic68fb7dbe0fb46bf30f157db45bf18d8f3a704c0,https://git.eclipse.org/r/#/c/41468,3,44375015e8aef731463540f2e7eed09245c7ef81,cf2152a3034dbeffa869fb3540ad34aa496c5d95,1,09/02/15,19/02/15,92,Use slf4j to log instead of printing to System.err,"Use slf4j to log instead of printing to System.err

CQ: 9206
Change-Id: Ic68fb7dbe0fb46bf30f157db45bf18d8f3a704c0
Signed-off-by: Matthias Sohn <matthias.sohn@sap.com>",0,0,1,0,0,0,1,0,0
41545,I454ada5f8e69307d3f34d1c1b8f3cb87607ddf35,https://git.eclipse.org/r/#/c/41545,3,06ff54cb9535fdc1568f0bc56dd232564cef5974,5544f86ec00e5c71cf5d24fcf2cb1e9c2d26c5a4,1,10/02/15,25/02/15,39,Provide more details in exceptions thrown when packfile is invalid,"Provide more details in exceptions thrown when packfile is invalid

Mention packfile path in exceptions thrown when we detect that a
packfile is invalid and make excplicit that corrupt packs are removed
from the pack list.

Change-Id: I454ada5f8e69307d3f34d1c1b8f3cb87607ddf35
Signed-off-by: Matthias Sohn <matthias.sohn@sap.com>",0,0,1,0,0,0,1,0,0
41794,Ic06a06da0a74f8fa494c0753cbe9ed2356c21ab3,https://git.eclipse.org/r/#/c/41794,2,36f89871519e2bb16a7f65dfde7f79a27f67d05d,76b660e91cded91c01e0026dfdfde6a491fdc638,0,12/02/15,19/02/15,45,Add log4j and slf4j-log4j bridge to jgit feature and target platforms,"Add log4j and slf4j-log4j bridge to jgit feature and target platforms

Bug: 9241
Change-Id: Ic06a06da0a74f8fa494c0753cbe9ed2356c21ab3
Signed-off-by: Matthias Sohn <matthias.sohn@sap.com>",1,0,1,0,0,0,1,NA,NA
41887,I1d92a1e5249117487da39d19c7593e4b812ad97a,https://git.eclipse.org/r/#/c/41887,3,4b6cacee9cdfcb5c2c5890646b0d65ed43739d1a,796a9696ce432930d6257110ccf29ac16a9ab73a,1,15/02/15,11/03/15,249,ArchiveCommand: Allow to pass options to underlying stream,"ArchiveCommand: Allow to pass options to underlying stream

Current ArchiveCommand design doesn't allow to pass in options to
underlying stream implementations. To overcome this, client has to
implement custom format implementation (it cannot be derived from
the existing one, because the classies are marked as final), and
set the options using ThreadLocal, before the method

  createArchiveOutputStream(OutputStream s)

is get called.

This change extends the ArchiveCommand.Format by allowing to pass
option map during creation of ArchiveOutputStream.

ArchiveCommand is extended correspondingly. That way client can
easily pass options to the underlying streams:

  Map<String, Object> level = ImmutableMap.<String, Object> of(
      ""level"", new Integer(9));
  new ArchiveCommand(repo)
      .setFormat(""zip"")
      .setFormatOptions(level)
      .setTree(tree)
      .setPaths(paths)
      .setPrefix(prefix)
      .setOutputStream(sidebandOut)
      .call();

Change-Id: I1d92a1e5249117487da39d19c7593e4b812ad97a
Signed-off-by: David Ostrovsky <david@ostrovsky.org>",0,0,0,0,0,0,0,2,1
41980,Ia701972785c3e88aba66a7f15a2b3cf638727eea,https://git.eclipse.org/r/#/c/41980,1,1661b2f1e7f7895a5379cbb86ed36bc8969b4d28,88f233f89d4c2194daea3b32dc4c49d2b1d9b51a,0,17/02/15,19/02/15,209,Use Target Platform Definition DSL to generate target platforms,"Use Target Platform Definition DSL to generate target platforms

The ""Target Platform Definition DSL and Generator"" [1] heavily
simplifies maintenance of target platforms. It allows to modularize
target platform definitions which eliminates code duplication. The
.target files understood by P2 and Tycho are generated from .tpd files
which are written in the target platform definition DSL.

In order to edit .tpd files and generate .target files install the
""Target Platform Definition DSL and Generator"" 2.0 or later [2]  (Note:
on Kepler you also need to add [3] to get Xtext 2.5 which is not
available by default on Kepler). This tools is needed only if you need
to change the Target Platform definition files (*.targetplatform and
*.tpd) and re-generate the *.target files. In normal development you do
not need this and can simply use the generated *.target themselves.

In addition
- update Orbit repository for 4.5 to Mars M5
- use latest released Orbit p2 repository for platform version Luna
  and earlier

[1] https://github.com/mbarbero/fr.obeo.releng.targetplatform
[2] http://mbarbero.github.io/fr.obeo.releng.targetplatform/p2/latest/
[3] http://download.eclipse.org/modeling/tmf/xtext/updates/releases/

Change-Id: Ia701972785c3e88aba66a7f15a2b3cf638727eea
Signed-off-by: Matthias Sohn <matthias.sohn@sap.com>",1,0,0,0,0,0,1,NA,NA
42402,I3383ffb10e2f3b588d7367b9139b606ec7f62758,https://git.eclipse.org/r/#/c/42402,8,f5ffb00821cd1fb32edb79cb92551a4276941046,193bf4406292ff1293bfc3780f85a851c855aea5,1,23/02/15,02/03/15,585,[WIP] refactored pre-commit hook to make it less invasive.,"[WIP] refactored pre-commit hook to make it less invasive.

Hooks are now obtained via a convenient API
like git commands, and callers don't have to check
for their existence.
The pre-commit hook has been updated accordingly.

Change-Id: I3383ffb10e2f3b588d7367b9139b606ec7f62758
Signed-off-by: Laurent Delaigue <laurent.delaigue@obeo.fr>",0,1,0,0,1,0,1,0,0
42413,I3ba582b4ae13674cf319652b5b13ebcbb96dd8ec,https://git.eclipse.org/r/#/c/42413,3,6f982fb364086b3ca943ba8402cb09e65b657162,25de8be8821dc8097d15a75691128348191a0efb,1,23/02/15,25/02/15,34,Read user.name and email from environment first,"Read user.name and email from environment first

According to [1] user name and email are taken first from the
environment variables:
GIT_AUTHOR_NAME, GIT_AUTHOR_EMAIL
GIT_COMMITTER_NAME, GIT_COMMITTER_EMAIL

In case (some of) these environment variables are not set, the
information is taken from the git configuration.

JGit doesn not yet support the environment variables GIT_AUTHOR_DATE and
GIT_COMMITTER_DATE.

[1]
https://www.kernel.org/pub/software/scm/git/docs/git-commit-tree.html#_commit_information

Bug: 460586
Change-Id: I3ba582b4ae13674cf319652b5b13ebcbb96dd8ec
Signed-off-by: Matthias Sohn <matthias.sohn@sap.com>",0,0,0,0,0,0,0,0,0
42587,Ic8779868150c910fa55fd20348e35723e6add0f1,https://git.eclipse.org/r/#/c/42587,1,02693f5b744e1c0c503c0384440847285a9bcb22,32e3d8eee60ae994f838f7f59daab5dec4c500e6,0,24/02/15,25/02/15,0,Merge branch 'stable-3.7',"Merge branch 'stable-3.7'

* stable-3.7:
  Add log4j and slf4j-log4j bridge to jgit feature
  Use slf4j to log instead of printing to System.err
  Use Target Platform Definition DSL to generate target platforms

Change-Id: Ic8779868150c910fa55fd20348e35723e6add0f1",1,0,0,0,0,0,1,NA,NA
42632,I19c9d4c04b6aa92b9e04c192dee70775d6985b58,https://git.eclipse.org/r/#/c/42632,1,32e3d8eee60ae994f838f7f59daab5dec4c500e6,1d5b15195fd63772d08f8b18c2c3712332e4dd6f,1,25/02/15,26/02/15,9,Add/fix since tags for new API for push certificates,"Add/fix since tags for new API for push certificates

This was missed in change I249869cadb2d55aef016371b9311b8583591b9cf

Change-Id: I19c9d4c04b6aa92b9e04c192dee70775d6985b58
Signed-off-by: Matthias Sohn <matthias.sohn@sap.com>",0,0,0,0,0,0,0,0,0
42768,Iec17746cad81cfb1d775e782b30f9d8a13c938b6,https://git.eclipse.org/r/#/c/42768,1,6ce0e9efb2459b828231551adde729cb894db8bc,5e01de2ea6746aa7a503325471e2df0883b4471c,1,26/02/15,26/02/15,118,JGit v3.7.0.201502260915-r,"JGit v3.7.0.201502260915-r

Change-Id: Iec17746cad81cfb1d775e782b30f9d8a13c938b6
Signed-off-by: Matthias Sohn <matthias.sohn@sap.com>",1,0,0,1,0,0,1,0,0
42860,I2e97610ea9e552e5800e7ca895fd193c8bc507aa,https://git.eclipse.org/r/#/c/42860,1,5e01de2ea6746aa7a503325471e2df0883b4471c,d2d693f9d6559c3195ef76f18b1faa824ad4bafa,1,27/02/15,27/02/15,538,Prepare 3.7.1-SNAPSHOT builds,"Prepare 3.7.1-SNAPSHOT builds

Change-Id: I2e97610ea9e552e5800e7ca895fd193c8bc507aa
Signed-off-by: Matthias Sohn <matthias.sohn@sap.com>",1,0,0,1,1,0,1,0,0
42861,I427f861c6bc94da5e3e05dbbebbf0ad15719a323,https://git.eclipse.org/r/#/c/42861,1,77548bf582db601ebdd8e77cd32e0c4580d6f56b,fd030a344ebd2218540f025850662d87bb13a847,1,27/02/15,27/02/15,726,Merge branch 'stable-3.7',"Merge branch 'stable-3.7'

* stable-3.7:
  Prepare 3.7.1-SNAPSHOT builds
  JGit v3.7.0.201502260915-r
  Read user.name and email from environment first
  Provide more details in exceptions thrown when packfile is invalid

Change-Id: I427f861c6bc94da5e3e05dbbebbf0ad15719a323
Signed-off-by: Matthias Sohn <matthias.sohn@sap.com>",1,0,0,0,1,0,1,0,0
42864,I90d4d7566b2e220b8ea8ea1c644fe4b7fa81c0a3,https://git.eclipse.org/r/#/c/42864,1,fd030a344ebd2218540f025850662d87bb13a847,1b61f2787184a9655e5a74a4ea0ba570c5ee677e,1,27/02/15,27/02/15,4,Add missing since tags for new API,"Add missing since tags for new API

Change-Id: I90d4d7566b2e220b8ea8ea1c644fe4b7fa81c0a3
Signed-off-by: Matthias Sohn <matthias.sohn@sap.com>",0,0,0,1,0,0,1,0,0
42933,I5db59086740735508c2e70a597c2d1a89014b072,https://git.eclipse.org/r/#/c/42933,1,4901a3d6cb4f0faa97b78f81b272329439d87857,5985e820e34dd75ea2b94d5431a58f72e7d09fe2,1,27/02/15,28/02/15,485,Extract classes for transport within a JGit process,"Extract classes for transport within a JGit process

TransportLocal knows how to spin up a thread to allow two repositories
in the same process to communicate using the wire protocol. However,
it is still tied to local on-disk filesystems, and needs to be able to
fork processes if not using the default git-{upload,receive}-pack
implementation.

Extract out the connection classes so they can be used by other
transport implementations.

Change-Id: I5db59086740735508c2e70a597c2d1a89014b072",0,0,0,0,0,1,1,0,0
42934,I4ba2fff9c8a484f990dea05e14b0772deddb7411,https://git.eclipse.org/r/#/c/42934,2,5985e820e34dd75ea2b94d5431a58f72e7d09fe2,5912f1ffa5cd426437e19b91451a30f586b219f1,1,27/02/15,28/02/15,445,RFC: Add an in-process pack transport for use in tests,"RFC: Add an in-process pack transport for use in tests

Change-Id: I4ba2fff9c8a484f990dea05e14b0772deddb7411",0,0,0,1,0,1,1,0,0
42936,I435eeeb3fe1b1f5632d40528936416e97491d412,https://git.eclipse.org/r/#/c/42936,4,5912f1ffa5cd426437e19b91451a30f586b219f1,d9cbb99dc9804630eb3cfe1f01f76ebc3b67778a,1,28/02/15,02/03/15,12,Allow public access to index getter,"Allow public access to index getter

The index provides access to a list of objects in a pack.
This will be helpful for repository integrity checking.

Change-Id: I435eeeb3fe1b1f5632d40528936416e97491d412
Signed-off-by: David Pletcher <dpletcher@google.com>",0,1,0,0,0,0,1,0,0
43004,Ibe2faadfb5d3932a5a3da2252d8156c4c04856c7,https://git.eclipse.org/r/#/c/43004,2,326fab5e622ac561047b4df809f9a70b00d84040,85d5e851611ecef65da8ea468b017b761babb289,1,02/03/15,02/03/15,262,[WIP] Support for the commit-msg hook.,"[WIP] Support for the commit-msg hook.

This hook uses a file to receive and potentially modify the commit
message.

Change-Id: Ibe2faadfb5d3932a5a3da2252d8156c4c04856c7
Signed-off-by: Laurent Delaigue <laurent.delaigue@obeo.fr>",0,0,0,0,0,0,0,0,0
43142,I65e179b79e89049c6deced3c71cb3ebb08ed0a8f,https://git.eclipse.org/r/#/c/43142,5,9240e78b0523e5d4995225995e02aa4afea99ca6,bf1cd532a9a4d30fce25a016ca6e98aff60e9bb8,1,04/03/15,10/03/15,87,"Add ""--long"" option to JGit describe","Add ""--long"" option to JGit describe

Native git supports ""git describe --long"". This will enforce returning a
long description of a commit even if a tag is directly pointing to the
commit (in contrast to just returning the tag name as it is now). This
commit teaches JGits DescribeCommand and the describe command in the pgm
package to support ""--long"".

Change-Id: I65e179b79e89049c6deced3c71cb3ebb08ed0a8f",0,1,1,0,0,1,1,0,0
43483,I025975eca7b2f10bbafa39f5519f8668e6536541,https://git.eclipse.org/r/#/c/43483,3,4ee3829d59b94ea5573815dcc8e16977cd0ab617,164a7ea2f02bb394caeb204915ce864f35075ff4,1,09/03/15,09/03/15,15,Fix an invalid format string,"Fix an invalid format string

The %x format specifier is not valid for a byte array.
This patch fixes a bug that would cause an IllegalFormatConversionException.

Change-Id: I025975eca7b2f10bbafa39f5519f8668e6536541
Signed-off-by: David Pletcher <dpletcher@google.com>",0,0,0,0,0,0,0,0,0
43488,Ie730db4007fb7614fd7d130cd0858b1ac550066a,https://git.eclipse.org/r/#/c/43488,3,11eaf0fcd5de914b31fa4e40f71449a798b1827b,9a91a8f8987fe212d85f6a4c1a2124823bdff985,0,09/03/15,23/03/15,42,Include slf4j and log4j in jgit command line,"Include slf4j and log4j in jgit command line

This enables the command line to log. Include log4j configuration to log
warnings and errors to stderr.

Exclude the dependencies which log4j 1.2.15 should have marked optional.
See
http://unitstep.net/blog/2009/05/18/resolving-log4j-1215-dependency-problems-in-maven-using-exclusions/
for details

Change-Id: Ie730db4007fb7614fd7d130cd0858b1ac550066a
Signed-off-by: Matthias Sohn <matthias.sohn@sap.com>",0,0,1,0,0,0,1,NA,NA
43491,I319ee4e99462598bf6a934b1efc7939bc4b057a5,https://git.eclipse.org/r/#/c/43491,1,ff355948089793e1b36ca9163e1c62b07448fc81,ae9c10578571957411b4d5a7bb6eafc7b476d4d3,1,10/03/15,10/03/15,67,Cleanup some push certificate related javadoc,"Cleanup some push certificate related javadoc

Change-Id: I319ee4e99462598bf6a934b1efc7939bc4b057a5",0,0,0,1,0,0,1,0,0
43492,If530cb59666a8196d57d2348c893706a517ea541,https://git.eclipse.org/r/#/c/43492,1,ae9c10578571957411b4d5a7bb6eafc7b476d4d3,5d8f4aa916ca64dc9fe0567d13ac2a652464f6ee,1,10/03/15,10/03/15,2,PushCertificateParser: Fix check for blank line after header,"PushCertificateParser: Fix check for blank line after header

Reference equality (!= or ==) cannot be used to check for
String equality. String objects are not necessarily interned
to the same instance.

Use .isEmpty() since the function only cares about an empty
string and does not need to test a specific string value.

Change-Id: If530cb59666a8196d57d2348c893706a517ea541",0,0,0,0,0,0,0,0,0
43493,Ibee19eadd66233e6666b601583daa1834a7778f1,https://git.eclipse.org/r/#/c/43493,2,5d8f4aa916ca64dc9fe0567d13ac2a652464f6ee,55d68c0e38901f7be52c4d24018022a7e9ac460e,1,10/03/15,10/03/15,9,Remove AutoCloseable from internal PackFile and friends,"Remove AutoCloseable from internal PackFile and friends

PackFile is held by the block cache and cannot be auto closed in a
try-with-resources statement.  Remove the interface as JGit does
explicit management of the instances.

ObjectDatabase and RefDatabase are internal details of Repository
and are managed with the Repository. Marking them AutoCloseable
provides no value to the library an application using their API.

Change-Id: Ibee19eadd66233e6666b601583daa1834a7778f1",0,0,0,0,0,0,0,0,0
43610,I9fddd7e6ef513debec5f014ed2efc4fea6917d1f,https://git.eclipse.org/r/#/c/43610,1,04c0b19a31849489e2d766c3a9f4d6d46211a4c5,8a6a9db9a6d91f7548311caa95bcb30f2c28b5f4,0,10/03/15,10/03/15,18,Update all standard maven plugins to latest versions,"Update all standard maven plugins to latest versions

The latest versions of the javadoc and source plugins in particular
avoid some pathological slowness I'd been seeing on Linux with Java
7 or later.

Change-Id: I9fddd7e6ef513debec5f014ed2efc4fea6917d1f",0,0,0,0,0,1,1,NA,NA
43612,Ic0d595dc8d10de79e87549546c6c5ea2dc617e9b,https://git.eclipse.org/r/#/c/43612,2,8a6a9db9a6d91f7548311caa95bcb30f2c28b5f4,292ba2ecd0412fe1ac1eba40b780db7e4c6841cd,1,10/03/15,10/03/15,25,RevWalk: Do not close reader passed explicitly to constructor,"RevWalk: Do not close reader passed explicitly to constructor

The RevWalk(ObjectReader) constructor is explicitly to handle the case
where the caller is responsible for opening and closing the reader.
The reader should only be closed when it was created in the
RevWalk(Repository) constructor.

Change-Id: Ic0d595dc8d10de79e87549546c6c5ea2dc617e9b",0,0,0,0,0,1,1,0,0
43615,If4d34f18352bd17467aeded6fd3478f29244657b,https://git.eclipse.org/r/#/c/43615,1,0c1195b8dade11f1279d071b2eafcceb49e184be,7b4d70516231f7a72bc8081876b8fd1cee3536e2,1,10/03/15,10/03/15,4,RevWalk: Stop using deprecated ObjectReader#release(),"RevWalk: Stop using deprecated ObjectReader#release()

Change-Id: If4d34f18352bd17467aeded6fd3478f29244657b",0,0,0,1,0,1,1,0,0
43616,I334034a2991a07664302bc8d1f3dead85c2caffe,https://git.eclipse.org/r/#/c/43616,2,9e0a856d19793fcd35d570ea068e8b0657c80b70,f751ba3b8cee3f13cf4eb72b840609ec06a6dd2c,0,10/03/15,10/03/15,5,TreeWalk: Stop using deprecated ObjectReader#release(),"TreeWalk: Stop using deprecated ObjectReader#release()

Change-Id: I334034a2991a07664302bc8d1f3dead85c2caffe",0,0,0,1,0,1,1,NA,NA
43617,I627681be80d69ea549f953255a64c7b3b68bcec9,https://git.eclipse.org/r/#/c/43617,2,ef546d4eb573a50685c0505f90a589cc52a58167,6871d66d4b8f88182eb40da38fe1a57883cdc27f,0,10/03/15,10/03/15,20,TreeWalk: Do not close reader passed explicitly to constructor,"TreeWalk: Do not close reader passed explicitly to constructor

The TreeWalk(ObjectReader) constructor is explicitly to handle the case
where the caller is responsible for opening and closing the reader.
The reader should only be closed when it was created in the
TreeWalk(Repository) constructor.

Change-Id: I627681be80d69ea549f953255a64c7b3b68bcec9",0,0,0,0,0,1,1,NA,NA
43697,I06f9534ab84278df37a140700fc2bed5ab667299,https://git.eclipse.org/r/#/c/43697,1,9c02b923f63755d5ea239f52929a3569b2c408af,aa1f7f4fb4adec9c5f0901ab6371d791162ad087,1,11/03/15,12/03/15,132,TestRepository: Use try-with-resources where appropriate,"TestRepository: Use try-with-resources where appropriate

Change-Id: I06f9534ab84278df37a140700fc2bed5ab667299",0,0,0,1,0,1,1,0,0
43698,I078fe00470ebe60f93f4a718c163dd1412fdc776,https://git.eclipse.org/r/#/c/43698,1,aa1f7f4fb4adec9c5f0901ab6371d791162ad087,c3efb650dc9c216e557f63ee185e8d10fbc6d38a,1,11/03/15,12/03/15,41,TestRepository: Allow custom author/committer per-commit,"TestRepository: Allow custom author/committer per-commit

Change-Id: I078fe00470ebe60f93f4a718c163dd1412fdc776",0,0,0,1,0,1,1,0,0
43699,Iade0e2d70bde70cfa830fe23bcc41959b011a14a,https://git.eclipse.org/r/#/c/43699,3,c3efb650dc9c216e557f63ee185e8d10fbc6d38a,5528296d4c81a1be6b4506cbd896a3d0f544eee7,1,11/03/15,12/03/15,114,TestRepository: Optionally insert Change-Id in commit message,"TestRepository: Optionally insert Change-Id in commit message

Copied the implementation from CommitCommand.

Change-Id: Iade0e2d70bde70cfa830fe23bcc41959b011a14a",0,0,0,0,0,1,1,0,0
43700,I47082416f6e281262b160ba15272258f9109abd1,https://git.eclipse.org/r/#/c/43700,8,9b75a34a3dfd50a916cc2baaedcd11303439cd00,75ae3d57760ba34f9e125a4522386f0845cc64bc,1,11/03/15,12/03/15,205,TestRepository: Add a method to amend a ref,"TestRepository: Add a method to amend a ref

Change-Id: I47082416f6e281262b160ba15272258f9109abd1",0,1,0,1,0,1,1,0,0
43701,Ifd12115a0060b9ff45a88d305b72f91ca0472f9a,https://git.eclipse.org/r/#/c/43701,7,691a3810f8797116c3a01c6016d61536ff67eafa,f3e1a89baaabcb406c877463b5af36b849c117cc,1,11/03/15,12/03/15,195,TestRepository: Add a checkout method to move HEAD around,"TestRepository: Add a checkout method to move HEAD around

This flushed out a number of bugs in the way DfsRefUpdate, or at least
the InMemoryRepository implementation, processes symrefs. These have
been fixed, to an extent, in InMemoryRepository, but other
implementations may still suffer from these bugs.

Change-Id: Ifd12115a0060b9ff45a88d305b72f91ca0472f9a",0,1,0,0,0,1,1,2,1
43714,I98a9f17f987c4f3ea19d107f681c44754ed83dca,https://git.eclipse.org/r/#/c/43714,3,cd4d3ad26055416a55821a6c52c555e3e8b28970,7742b11622a482780d9fa0f3834c94c83713a871,1,12/03/15,12/03/15,3,Fix ompile error due to StringUtils in BaseFormatter not available.,"Fix ompile error due to StringUtils in BaseFormatter not available.

Change-Id: I98a9f17f987c4f3ea19d107f681c44754ed83dca
Signed-off-by: Markus Duft <markus.duft@ssi-schaefer.com>",0,0,0,1,0,0,1,0,0
43729,Ic6d179bd2de0081633c22fb82ca68ea619cb686f,https://git.eclipse.org/r/#/c/43729,5,2db9565816008be24154f1fa56fe56990440fcd9,41cf379f8518b7362a74d7d88fb6af7540ab57d5,1,12/03/15,12/03/15,16,TestRepository: Expose some getters for CommitBuilder,"TestRepository: Expose some getters for CommitBuilder

Change-Id: Ic6d179bd2de0081633c22fb82ca68ea619cb686f",0,1,0,1,0,1,1,0,0
43742,I6bcee635adda7c929f6fa68ef20438fe77e49184,https://git.eclipse.org/r/#/c/43742,2,89353bdff7ca921f2d717b3ad5f6c6b1b57d1d14,82b6af9779255619a13a7fbad6a3c33a893b4e7d,1,12/03/15,12/03/15,13,TestRepository: Support committing to unborn symref,"TestRepository: Support committing to unborn symref

Change-Id: I6bcee635adda7c929f6fa68ef20438fe77e49184",0,0,0,1,0,1,1,0,0
43743,I891e2cf9ca89ae1948e9713a412d31ec66faac86,https://git.eclipse.org/r/#/c/43743,2,54229d1a1d21ee2cf434116f85dd529481f0e121,cea435b5efd204ebc82c03890f2e97d673b1f021,1,12/03/15,17/03/15,17,Add missing @since tags for new API methods in archive bundle,"Add missing @since tags for new API methods in archive bundle

Change-Id: I891e2cf9ca89ae1948e9713a412d31ec66faac86
Signed-off-by: Matthias Sohn <matthias.sohn@sap.com>",0,0,1,1,0,0,1,0,0
43748,I343c3065fa369ef8aab2b033ac1e392b28d10daf,https://git.eclipse.org/r/#/c/43748,1,51e6f024ec8265ea43f8b36c8c11d5c1d7a464fd,ad8d556d06c56cf43af5ebcf664f987d4727d2d6,1,12/03/15,12/03/15,14,TestRepository: Ignore existing Change-Id in message,"TestRepository: Ignore existing Change-Id in message

Change-Id: I343c3065fa369ef8aab2b033ac1e392b28d10daf",0,0,0,0,0,1,1,0,0
43749,Iaaffb0107ae27de24df1f0e95a8d628fb8ea5364,https://git.eclipse.org/r/#/c/43749,1,ad8d556d06c56cf43af5ebcf664f987d4727d2d6,f94228c1a3299e100bbfa7670a366c3e149d3f25,1,12/03/15,12/03/15,42,TestRepository: Allow setting explicit Change-Id,"TestRepository: Allow setting explicit Change-Id

This includes both leaving existing Change-Ids alone (as, for example
Gerrit's commit-msg hook does) and programmatically setting a value.

Change-Id: Iaaffb0107ae27de24df1f0e95a8d628fb8ea5364",0,0,0,0,0,1,1,0,0
43759,Ie40aa1f889191e45e4d4a7a144c3176d521f6cfa,https://git.eclipse.org/r/#/c/43759,2,a3759fca3046d46de1681aa97e296e033bba191f,4e4d0462e91a36630b273faf01d33eda78f940a5,1,12/03/15,17/03/15,12,Fix string externalization warnings in BaseFormat,"Fix string externalization warnings in BaseFormat

Change-Id: Ie40aa1f889191e45e4d4a7a144c3176d521f6cfa
Signed-off-by: Matthias Sohn <matthias.sohn@sap.com>",0,0,1,1,0,0,1,0,0
43768,Ib5da61b0886ddbdea65298f1e8c6d65c9879ced1,https://git.eclipse.org/r/#/c/43768,2,d851e129cfed546028f38c03df217fac56d8ef52,2ed7e919c6c7e34497b1a2f12df02cee439be566,1,13/03/15,23/03/15,3970,Merge bundle org.eclipse.jgit.java7 into org.eclipse.jgit,"Merge bundle org.eclipse.jgit.java7 into org.eclipse.jgit

As we moved minimum Java version to 7 we don't need a separate bundle
and feature for JGit features depending on Java 7 anymore.

Change-Id: Ib5da61b0886ddbdea65298f1e8c6d65c9879ced1
Signed-off-by: Matthias Sohn <matthias.sohn@sap.com>",0,0,1,0,1,0,1,2,1
43926,If096c4ddd17c5aae0e99e3ea6eea4b69bd3c5466,https://git.eclipse.org/r/#/c/43926,4,12caea214759d4bef6351c6909a2c947102e37aa,e7259ce5ccd61ee37134c567c65e5aa34e59f391,1,16/03/15,03/04/15,2,Clearer error message when service is not enabled,"Clearer error message when service is not enabled

When a user tried to use a service not enabled in the remote server (for example, push to a slave over httpd), a misleading error message was given:

   fatal: remote error: Git access forbidden

This patch modifies the error message to make the cause clearer to the user. Now, when the user tries to use a service not enabled, the message error clearly states it:

   fatal: remote error: Service not enabled

Change-Id: If096c4ddd17c5aae0e99e3ea6eea4b69bd3c5466
Signed-off-by: Hector Oswaldo Caballero <hector.caballero@ericsson.com>",0,1,0,0,0,0,1,0,0
44041,I6e006ccb122d1e68c9846a24d5399d94776c2858,https://git.eclipse.org/r/#/c/44041,1,e184263d9ad7b3ebafe37ff2413f9588fc8e2bb1,f42c7a80cd3c4f581b29718a59b4eb7953ff7c7d,1,17/03/15,18/03/15,57,Make MyersDiff interruptible,"Make MyersDiff interruptible

For some specific file, MyersDiff goes into an infinite loop[1]. Since
this problem is hard to reproduce and possibly harder to fix, this
change makes the MyersDiff interruptible so the diff can be aborted at
least when such infinite loop happens.

[1]https://bugs.eclipse.org/bugs/show_bug.cgi?id=444623

Change-Id: I6e006ccb122d1e68c9846a24d5399d94776c2858
Signed-off-by: Hugo Ars <hugo.ares@ericsson.com>",0,0,0,0,0,0,0,0,0
44050,Ie927a26ce3ae2bf8c3ef5cb963a60847067db95a,https://git.eclipse.org/r/#/c/44050,2,c20be162b9fa2791256fa8a793a964c6f1917a13,5adb9e39804e7d1f55902dce47eb484c5d432e1e,1,17/03/15,18/03/15,63,Git: Don't close underlying repo if it came from from a caller,"Git: Don't close underlying repo if it came from from a caller

Since 27ae8bc65 Git has implemented AutoCloseable, which means Eclipse
may warn if close() is never called on a Git instance. For example,
the following would result in a resource warning:

  Repository repo = openRepository(foo);
  Git git = new Git(repo);
  try {
    git.someCommand().call();
  } finally {
    repo.close();
  }

(The same warning would occur if repo were created in a try-with-
resources block.)

The ""obvious"" fix is to open git in a try-with-resources block:

  try (Repository repo = openRepository(foo);
      Git git = new Git(repo)) {
    git.someCommand().call();
  }

Unfortunately, this construction was subtly broken: it would call both
git.close() and repo.close(), but git.close() would call repo.close()
again. Depending on the repository implementation, this might or might
not be ok. If it's not ok, it might not immediately cause an error, if
the reference count of repo was >2 at the time of closing.

Of course, explicitly calling git.close() followed by repo.close() in
two finally blocks would has had the same double-closing problem since
forever. But the problem became worse when Git started implementing
AutoCloseable, because now Eclipse is _actively encouraging_
developers to change working code into broken code.

To work around this, keep track in Git's constructor of whether the
repository was passed in or opened at construction time, and only
close the repository if it was opened by Git.

Note that in the original example, there was not _actually_ a resource
leak, since repo was closed exactly once; git did not _need_ to be
closed in this case. But at least fixing this false-positive warning
no longer introduces a real bug.

Change-Id: Ie927a26ce3ae2bf8c3ef5cb963a60847067db95a",0,0,0,0,0,1,1,0,0
44051,I2fab7dd9a24205686db4724e77c0fd0a28f2075e,https://git.eclipse.org/r/#/c/44051,3,5adb9e39804e7d1f55902dce47eb484c5d432e1e,89ced2c0aa5ff28f5afa697df3bab6d7a5c541a5,1,17/03/15,18/03/15,12,TestRepository: Expose a Git instance,"TestRepository: Expose a Git instance

Change-Id: I2fab7dd9a24205686db4724e77c0fd0a28f2075e",0,0,0,1,0,1,1,0,0
44053,Ibf4c299f9d203c78cae79e61f88d4bea60ea2795,https://git.eclipse.org/r/#/c/44053,8,00b3cb50cd083eeb9912fc0734b95a5d73256c0f,e633db7870a2f43a9b1bc530464c53ffe85fdc72,1,17/03/15,26/05/15,422,Fix warnings in ObjectChecker,"Fix warnings in ObjectChecker

- externalize error messages
- fix boxing warnings

Change-Id: Ibf4c299f9d203c78cae79e61f88d4bea60ea2795
Signed-off-by: Matthias Sohn <matthias.sohn@sap.com>",0,1,0,0,0,0,1,-1,0
44056,I161b98a58503415955a21f2720395611f439ce98,https://git.eclipse.org/r/#/c/44056,2,6a0fb89f0c797e7646548cae3d68b875a26f7b77,7c7d48f0dce03b3fa89f756a1c4f4e3d48edcbf2,1,18/03/15,18/03/15,19,InMemoryRepository: Use a real Builder class,"InMemoryRepository: Use a real Builder class

Change-Id: I161b98a58503415955a21f2720395611f439ce98",0,0,0,1,0,1,1,0,0
44122,Ic332e44df1308b9336e884666b08c1f6db64513d,https://git.eclipse.org/r/#/c/44122,4,7c7d48f0dce03b3fa89f756a1c4f4e3d48edcbf2,a8a28d931fd239b744da620bd1069ea0dfff0e56,1,18/03/15,24/03/15,143,WIP: TestRepository: Add a cherryPick method,"WIP: TestRepository: Add a cherryPick method

Change-Id: Ic332e44df1308b9336e884666b08c1f6db64513d",0,1,1,1,0,1,1,0,0
44126,I794eca3ac4472bcc605b3641e177922aca92b9c0,https://git.eclipse.org/r/#/c/44126,3,9368ff4c5466ad6612dbc7434a773b30ee422634,44da6feb9e950742daf78977d8743f23af25cd1b,1,18/03/15,18/03/15,74,TemporaryBuffer: Allow presizing block pointer list,"TemporaryBuffer: Allow presizing block pointer list

Callers may wish to use TemporaryBuffer as an essentially unbounded
buffer by passing Integer.MAX_VALUE as the size. (This makes it
behave like ByteArrayOutputStream, only without requiring contiguous
memory.) Unfortunately, it was always allocating an array in the
backing block pointer list to hold enough blocks to MAX_VALUE--all
262,016 of them. It wasn't allocating the blocks themselves, but this
array was still extremely wasteful, using about 2MiB of memory on a
64-bit system.

Tweak the interface to specify an estimated size, and only allocate
the block pointer list enough entries to hold that size. It's an
ArrayList, so if that estimate was wrong, it'll grow. We assume the
cost of finding enough contiguous memory to grow that array is
acceptable.

While we're in there, fix an off-by-one error: due to integer division
we were undercounting the number of blocks needed to store n bytes of
data as (n / SZ).

Change-Id: I794eca3ac4472bcc605b3641e177922aca92b9c0",0,0,0,0,0,1,1,0,0
44127,I511675035dcff1117381a46c294cc11aded10893,https://git.eclipse.org/r/#/c/44127,3,de75c9759c8490be19559521e8a5f167adc57b8d,1751a3c7ddd1331e7ee420e526d70578995ca591,0,18/03/15,18/03/15,10,TemporaryBuffer: Clear block pointer list instead of reallocating,"TemporaryBuffer: Clear block pointer list instead of reallocating

The block pointer list may have been relatively large, so no need to
make more garbage. Instead, just clear the list and null out all the
elements.

Another possible motivation: a caller may have provided an inaccurate
estimated size, so the list might have been resized several times. If
the list is reused later for a similarly underestimated workload, this
fix will prevent additional resizing on subsequent usages.

Change-Id: I511675035dcff1117381a46c294cc11aded10893",0,0,0,0,0,1,1,NA,NA
44136,Ia682238397eb1de8541802210fa875fdd50f62f0,https://git.eclipse.org/r/#/c/44136,1,d9f6ac40df8d87cecf2916b6e362aad06309ad23,911eca0c7360b1ce4abe175d9d3e2992692ef05c,1,18/03/15,19/03/15,180,"Revert ""CommitBuilder should check for duplicate parents""","Revert ""CommitBuilder should check for duplicate parents""

This reverts commit 6bc48cdc62287934ce1b7003280b19a5994e7668.

Until git v1.7.10.2~29^2~1 (builtin/merge.c: reduce parents early,
2012-04-17), C git merge would make merge commits with duplicate parents
when asked to with a series of commands like the following:

  git checkout origin/master
  git merge --no-ff origin/master

Nowadays ""git merge"" removes redundant parents more aggressively
(whenever one parent is an ancestor of another and not just when
duplicates exist) but merges with duplicate parents are still permitted
and can be created with git fast-import or git commit-tree and history
viewers need to be able to cope with them.

CommitBuilder is an interface analagous to commit-tree, so it should
allow duplicate parents.  (That said, an option to automatically remove
redundant parents would be useful.)

Reported-by: Dave Borowitz <dborowitz@google.com>
Change-Id: Ia682238397eb1de8541802210fa875fdd50f62f0
Signed-off-by: Jonathan Nieder <jrn@google.com>",0,0,0,0,0,0,0,0,0
44167,Ibadbc1b476bfe0d1fe11979ec237a3554966eb59,https://git.eclipse.org/r/#/c/44167,1,911eca0c7360b1ce4abe175d9d3e2992692ef05c,0a065e2e60ef64f1c946e9f615dcaf6b7a497e8e,1,19/03/15,19/03/15,1,Add missing @since tag to DiffInterruptedException,"Add missing @since tag to DiffInterruptedException

Change-Id: Ibadbc1b476bfe0d1fe11979ec237a3554966eb59
Signed-off-by: Matthias Sohn <matthias.sohn@sap.com>",0,0,0,1,0,0,1,0,0
44395,I195239ac3a3f0efbe1409f0ebaad2d1a29c4782e,https://git.eclipse.org/r/#/c/44395,1,47d2bb8978b80faa60244b7b98c6a497173946a3,21f33898e77c175641cca1a870aa93ce7f870855,0,23/03/15,23/03/15,98,JGit v4.0.0.201503231230-m1,"JGit v4.0.0.201503231230-m1

Change-Id: I195239ac3a3f0efbe1409f0ebaad2d1a29c4782e
Signed-off-by: Matthias Sohn <matthias.sohn@sap.com>",1,0,0,1,0,0,1,NA,NA
44546,Iddf50d90c7e3ccb15b9ff71233338c6b204b3648,https://git.eclipse.org/r/#/c/44546,2,ddcd41973b6b0d4c7f33e8cb8864aeaa5bda1707,83befba8e83cb2dcb47375049e841f03f7d6e478,1,25/03/15,10/05/15,4,Fix IllegalArgumentException in AmazonS3,"Fix IllegalArgumentException in AmazonS3

JGit hit IllegalArgumentException: invalid content length
when pushing large packs to S3.

Bug: 463015
Change-Id: Iddf50d90c7e3ccb15b9ff71233338c6b204b3648
Signed-off-by: Matthias Sohn <matthias.sohn@sap.com>",0,0,0,0,0,0,0,0,0
44567,Ibd96302f5f81383f36d3b1e3edcbf5822147b1a4,https://git.eclipse.org/r/#/c/44567,1,39979ea70d0a52609bc759f0efd8437174a3e90d,66c9646c1a9835119b9fb8b25ac9c2fbd32a984b,1,25/03/15,26/03/15,75,"Fix RecursiveMerger in case of multiple, independent base commits","Fix RecursiveMerger in case of multiple, independent base commits

When RecursiveMerger found that there are multiple base-commits for the
commits to be merged it tries to temporarily merge the base commits. But
if these base commits have no common predecessor there was a bug in JGit
leading to a NPE. This commit fixes this by enforcing that an empty tree
is used as base when merging two unrelated base commits.

This logic was already there when merging two commits which have no
common predecessor (ThreeWayMerger.mergeBase()). But the code which was
computing a new temporary base commit in case of criss-cross merges
didn't take care to pick an empty tree when no common predecessor can be
found.

Bug: 462671
Change-Id: Ibd96302f5f81383f36d3b1e3edcbf5822147b1a4",0,0,0,0,0,1,1,0,0
44794,I4b6d42a1420652ab6824e237bd231ba86896acbf,https://git.eclipse.org/r/#/c/44794,1,7ed8753f0976f618a9d598b155284deaf2defdad,1459de2b920a159da1a6d6d11c29d23cd413ca89,0,28/03/15,09/04/15,2,FS.readPipe() shouldn't log IOException as an error,"FS.readPipe() shouldn't log IOException as an error

This unintentionally was changed from severity debug to error which is
causing unexpected log entries.

Bug: 463349
Change-Id: I4b6d42a1420652ab6824e237bd231ba86896acbf
Signed-off-by: Matthias Sohn <matthias.sohn@sap.com>",0,0,0,0,0,0,0,NA,NA
44962,I822721c76c64e614f87a080ced2457941f53adcd,https://git.eclipse.org/r/#/c/44962,1,12c49365683795fc32e5aa1977226196c7847048,575939dc54e053cdd3486b4cc6d636aa13a34f4e,1,01/04/15,01/04/15,2,ResolveMerge only needs to visit differing TreeEntries,"ResolveMerge only needs to visit differing TreeEntries

This should considerably speed up the treewalk on larger repositories.

Found by discussing new EGit API to support model merge in change
eda23bb556d342f421f03b93c7faa160998598aa

Change-Id: I822721c76c64e614f87a080ced2457941f53adcd
Signed-off-by: Matthias Sohn <matthias.sohn@sap.com>
cc: Laurent Delaigue <laurent.delaigue@obeo.fr>",0,0,0,0,0,0,0,0,0
45063,I3415f9a390ee215210a17bb5bf39164d197e1348,https://git.eclipse.org/r/#/c/45063,1,575939dc54e053cdd3486b4cc6d636aa13a34f4e,5c6ffde4d925c4657cf2b8189866f700b25409a3,1,01/04/15,01/04/15,8,Optimize EolAwareOutputStream for bulk output,"Optimize EolAwareOutputStream for bulk output

Formatting merge conflicts one byte at a time is going to be very
slow when the final OutputStream is a FileOutputStream and the JVM
is making system calls for each byte output.

When outputting a range of bytes from a byte[] the bol (beginning
of line) value only depends on the value of the last byte written.
Other bytes in the array can be passed directly to the lower stream
for more efficient output.

Change-Id: I3415f9a390ee215210a17bb5bf39164d197e1348",0,0,0,0,0,0,0,0,0
45064,If5539aab1de19bb22400c862bbe2cdf7c3e85535,https://git.eclipse.org/r/#/c/45064,1,5c6ffde4d925c4657cf2b8189866f700b25409a3,9b3f76c062d952264d46d2a1e52dfeb07dfdcf88,1,01/04/15,01/04/15,10,Use try-with-resources and BufferedOutputStream for local merge conflicts,"Use try-with-resources and BufferedOutputStream for local merge conflicts

Change-Id: If5539aab1de19bb22400c862bbe2cdf7c3e85535",0,0,0,1,0,0,1,0,0
45065,I95532aa092676d18f1dc1e3fdbe6dcb1f91b782e,https://git.eclipse.org/r/#/c/45065,1,9b3f76c062d952264d46d2a1e52dfeb07dfdcf88,1e6256e9a2ec29d35e7c00c9c2fb025d846cec83,1,01/04/15,01/04/15,3,Use local GIT_DIR for overflow during merge conflicts,"Use local GIT_DIR for overflow during merge conflicts

By writing the temporary overflow merge result to $GIT_DIR JGit
can ensure the same filesystem permissions apply to protect the
file contents.

If no directory is available from the repository (e.g. DfsRepository)
null will be passed and the system temporary directory will be used
instead.

Change-Id: I95532aa092676d18f1dc1e3fdbe6dcb1f91b782e",0,0,0,0,0,0,0,0,0
45066,Id83d8f16f5b2c2618a9f841ec3508508455a6ae1,https://git.eclipse.org/r/#/c/45066,1,1e6256e9a2ec29d35e7c00c9c2fb025d846cec83,85e555404ca26eb95e81fd3b5156f8a591ba1ab4,1,01/04/15,01/04/15,5,Fix overflow stream leak during merge conflicts,"Fix overflow stream leak during merge conflicts

When reading back from an overflowed TemporaryBuffer the InputStream
must be closed to close the FileInputStream that is reading from
the backing file.

Change-Id: Id83d8f16f5b2c2618a9f841ec3508508455a6ae1",0,0,0,0,0,0,0,0,0
45067,I09f4136dd65c48830cfda86d9101bc647581018a,https://git.eclipse.org/r/#/c/45067,1,85e555404ca26eb95e81fd3b5156f8a591ba1ab4,cdfa9fa2c6b60b6898d0f6d7cb48fb8fed08680d,0,01/04/15,01/04/15,3,Buffer overflow output stream,"Buffer overflow output stream

Most callers/users of TemporaryBuffer are sizing the in-memory
portion large enough that most outputs fit into RAM. With this
assumption they don't pay close attention to the size of IOs
being written, as it ""should"" just be a copy from one byte array
to another.

Overflow sets up a local file handle, which is costly to write to
for small IO units. Wrap the local file in a BufferedOutputStream
to combine small writes together. Larger writes can still bypass the
buffer as BOS automatically avoids copying for larger writes.

Change-Id: I09f4136dd65c48830cfda86d9101bc647581018a",0,0,0,0,0,0,0,NA,NA
45081,I958d540a6afb1462a3fbb3d76c8f51f386ac068e,https://git.eclipse.org/r/#/c/45081,1,cdfa9fa2c6b60b6898d0f6d7cb48fb8fed08680d,7da9e06deb4b0bbd547598e4f974153b2a6242bf,0,01/04/15,09/04/15,45,Remove obsolete API warning filters to silence warnings,"Remove obsolete API warning filters to silence warnings

Change-Id: I958d540a6afb1462a3fbb3d76c8f51f386ac068e
Signed-off-by: Matthias Sohn <matthias.sohn@sap.com>",0,0,1,1,0,0,1,NA,NA
45084,I0211bcf0a76a2fccc2c85fa74778e20c256984ba,https://git.eclipse.org/r/#/c/45084,1,49828e6e4cb0983cd0900e8fe31dcab2d1ea5100,3a343e8058d3e67090de27e115236716c775eaae,1,01/04/15,09/04/15,8,Use try-with-resources to fix warnings in AddNoteCommand,"Use try-with-resources to fix warnings in AddNoteCommand 

Replaces use of deprecated release() methods.

Change-Id: I0211bcf0a76a2fccc2c85fa74778e20c256984ba
Signed-off-by: Matthias Sohn <matthias.sohn@sap.com>",0,0,1,0,0,0,1,0,0
45085,I540ee711b8c3430a71fdff07add506b7d9c039dc,https://git.eclipse.org/r/#/c/45085,1,75604ae8cbf9f45e882504b9b5ae8601039ac333,775b925dd6b949171cd661ffb5aaa947fed8a10c,1,01/04/15,09/04/15,6,Use try-with-resources to fix warnings in AddCommand,"Use try-with-resources to fix warnings in AddCommand

- replaces use of deprecated ObjectInserter.release()
- auto-close TreeWalk

Change-Id: I540ee711b8c3430a71fdff07add506b7d9c039dc
Signed-off-by: Matthias Sohn <matthias.sohn@sap.com>",0,0,1,0,0,0,1,0,0
45087,Iad4d41271eff4e8744efece5bc777c1cb06dead7,https://git.eclipse.org/r/#/c/45087,1,78c942fc3732f2dec6779512bc72a50a9887d652,72fc2d9a4418e791cbdc1199302b77652eaf82f6,1,01/04/15,09/04/15,2,Silence warning for non-translatable String in AddNoteCommand,"Silence warning for non-translatable String in AddNoteCommand

Change-Id: Iad4d41271eff4e8744efece5bc777c1cb06dead7
Signed-off-by: Matthias Sohn <matthias.sohn@sap.com>",0,0,1,1,0,0,1,0,0
45088,I77120d77a12f1bab5c918a23b0e3eac90e320b2b,https://git.eclipse.org/r/#/c/45088,1,f6722d3da40e8cf25fb1d68cbed082d1dc727abf,3e0837b2856265566cb650f36ecd4aa0c2637b08,1,01/04/15,02/04/15,8,Use try-with-resources to close walks in ArchiveCommand,"Use try-with-resources to close walks in ArchiveCommand

Change-Id: I77120d77a12f1bab5c918a23b0e3eac90e320b2b
Signed-off-by: Matthias Sohn <matthias.sohn@sap.com>",0,0,0,1,0,0,1,0,0
45089,If90a6cca9a2ae80474f5ad023cb2a0a8905010be,https://git.eclipse.org/r/#/c/45089,1,c83ddf2aefe55aaa3f87ffc4a33ffbbadc3e50b2,330e02743e415c37e2c19e4d52da73282d97605a,1,01/04/15,09/04/15,7,Replace use of deprecated release() in BasePackFetchConnection,"Replace use of deprecated release() in BasePackFetchConnection

Change-Id: If90a6cca9a2ae80474f5ad023cb2a0a8905010be
Signed-off-by: Matthias Sohn <matthias.sohn@sap.com>",0,0,1,1,0,0,1,0,0
45091,I28a5c7e222daf35e3d1a1a6fda8ed6ef9b960f78,https://git.eclipse.org/r/#/c/45091,1,330e02743e415c37e2c19e4d52da73282d97605a,91619372cebbf3f707d77dc0769d15de27df01af,1,01/04/15,09/04/15,10,Replace use of deprecated release() in BasePackPushConnection,"Replace use of deprecated release() in BasePackPushConnection

Change-Id: I28a5c7e222daf35e3d1a1a6fda8ed6ef9b960f78
Signed-off-by: Matthias Sohn <matthias.sohn@sap.com>",0,0,1,1,0,0,1,0,0
45093,Iacaad1a7e0719541e5616d231422ea6fd4c95161,https://git.eclipse.org/r/#/c/45093,1,0a297e8f1a74b9eff734c48e102fad29a02ee224,e9033620c31bb1ba95649bcb81c032ef08e8c26d,1,01/04/15,09/04/15,119,Use try-with-resources to close resources in BaseReceivePack,"Use try-with-resources to close resources in BaseReceivePack

Change-Id: Iacaad1a7e0719541e5616d231422ea6fd4c95161
Signed-off-by: Matthias Sohn <matthias.sohn@sap.com>",0,0,1,1,0,0,1,0,0
45094,I184945ee29fb9a6b1f30aec88958375e7b5239b3,https://git.eclipse.org/r/#/c/45094,1,e9033620c31bb1ba95649bcb81c032ef08e8c26d,4669b452db5ce0d845686e4fe5d4c2956dca8a1c,1,01/04/15,09/04/15,2,Remove unnecessary $NON-NLS comment in BaseReceivePack,"Remove unnecessary $NON-NLS comment in BaseReceivePack

Change-Id: I184945ee29fb9a6b1f30aec88958375e7b5239b3
Signed-off-by: Matthias Sohn <matthias.sohn@sap.com>",0,0,1,1,0,0,1,0,0
45095,Id4cb9a236dddfc674b55e9e7037329a885455288,https://git.eclipse.org/r/#/c/45095,1,1aa5109aa3e661e85d3a7e0fb159a2ee320e84c9,4d88e9741e756fcf0b130eca22cf4723e12ba178,1,01/04/15,09/04/15,5,Use try-with-resource to close BlameGenerator,"Use try-with-resource to close BlameGenerator

Change-Id: Id4cb9a236dddfc674b55e9e7037329a885455288
Signed-off-by: Matthias Sohn <matthias.sohn@sap.com>",0,0,1,1,0,0,1,0,0
45096,Ic555e6e0443337aed694bc6445a60abe08e07ad2,https://git.eclipse.org/r/#/c/45096,1,4d88e9741e756fcf0b130eca22cf4723e12ba178,d77e26cbe0d0639eba19fe21b4b5ddc89859b408,1,01/04/15,09/04/15,8,Replace use of deprecated release() method in BlameResult,"Replace use of deprecated release() method in BlameResult

Change-Id: Ic555e6e0443337aed694bc6445a60abe08e07ad2
Signed-off-by: Matthias Sohn <matthias.sohn@sap.com>",0,0,1,1,0,0,1,0,0
45097,Idb890788a88049d07326cd48e7c5534148f18e32,https://git.eclipse.org/r/#/c/45097,1,7c611c1a8b260a3eae0155b0410cac24b04318c8,14e0e5878fdfaad804b6115305253ac2cc61cf2c,0,01/04/15,09/04/15,14,Use try-with-resource to close resources in BlobBasedConfig,"Use try-with-resource to close resources in BlobBasedConfig

Change-Id: Idb890788a88049d07326cd48e7c5534148f18e32
Signed-off-by: Matthias Sohn <matthias.sohn@sap.com>",0,0,1,1,0,0,1,NA,NA
45098,Id79c01133b835e278d5b494b5bc5972d7aeed9a9,https://git.eclipse.org/r/#/c/45098,1,44ba2d046584d10b2faa43bc6a779470c543d800,5f42ae10a3f1d7630125a80e61e77e184e1c3a8f,0,01/04/15,09/04/15,10,Use try-with-resource to close resources in BundleFetchConnection,"Use try-with-resource to close resources in BundleFetchConnection

Change-Id: Id79c01133b835e278d5b494b5bc5972d7aeed9a9
Signed-off-by: Matthias Sohn <matthias.sohn@sap.com>",0,0,1,1,0,0,1,NA,NA
45099,I5341973737f6d21c04982bcbefc2ed672ac9bcff,https://git.eclipse.org/r/#/c/45099,1,a8f9d311a9dde9bd9e69afecef7ecb11443cafb5,c8b9abb97c6911783d7fa39fa2c968cd7cab2b53,1,01/04/15,09/04/15,5,Use try-with-resource to close resources in BundleWriter,"Use try-with-resource to close resources in BundleWriter

Change-Id: I5341973737f6d21c04982bcbefc2ed672ac9bcff
Signed-off-by: Matthias Sohn <matthias.sohn@sap.com>",0,0,1,1,0,0,1,0,0
45100,I5cb3e9c7e167248697932933eef925c446514683,https://git.eclipse.org/r/#/c/45100,1,2991983458512c4638898b16b928d5760558ce7d,c8875b1237c5114b28a5f5cf9af87635b3da8edd,1,01/04/15,08/04/15,6,Fix resource leak in ChangeIdUtil,"Fix resource leak in ChangeIdUtil

Change-Id: I5cb3e9c7e167248697932933eef925c446514683
Signed-off-by: Matthias Sohn <matthias.sohn@sap.com>",0,0,1,1,0,0,1,0,0
45182,Ia4d4f9bff03a03d116b80022d7691df67bf8b51b,https://git.eclipse.org/r/#/c/45182,3,835f1a12d60412ac49f0826f93d18df1a17e4fcf,a34627acc6fc0819843f144665a8b7258e49ea70,1,02/04/15,08/04/15,54,Use try-with-resource to close resources in CheckoutCommand,"Use try-with-resource to close resources in CheckoutCommand

Change-Id: Ia4d4f9bff03a03d116b80022d7691df67bf8b51b
Signed-off-by: Matthias Sohn <matthias.sohn@sap.com>",0,0,1,1,0,0,1,0,0
45183,Ifbc469b07e63218107157ffbf23ae55c52a55ef4,https://git.eclipse.org/r/#/c/45183,3,2803dbd8a3b075d7ade066ec1a7a7a6e5eb6f77a,8274c103ec5cdd302f8748d17f6f5d7a1bc8775e,1,02/04/15,08/04/15,5,Externalize error message used in CheckoutCommand,"Externalize error message used in CheckoutCommand

Change-Id: Ifbc469b07e63218107157ffbf23ae55c52a55ef4
Signed-off-by: Matthias Sohn <matthias.sohn@sap.com>",0,0,1,1,0,0,1,0,0
45184,I62d6de7d67c7de2460f4cbe918ad2bb8109650b9,https://git.eclipse.org/r/#/c/45184,1,70bdeec616a5391838475353820be07b0cdf806b,66d759683276d8ed1ee726360087a260adb1bc02,1,02/04/15,08/04/15,5,Use try-with-resource to close resources in CherryPickCommand,"Use try-with-resource to close resources in CherryPickCommand

Change-Id: I62d6de7d67c7de2460f4cbe918ad2bb8109650b9
Signed-off-by: Matthias Sohn <matthias.sohn@sap.com>",0,0,1,1,0,0,1,0,0
45185,I8c06635ce655470b5b650fa5c0c546e64445420c,https://git.eclipse.org/r/#/c/45185,1,66d759683276d8ed1ee726360087a260adb1bc02,4be437ecdf9b6541ae9475545d52760d61b31947,1,02/04/15,08/04/15,2,Silence non-externalized string warning in CherryPickCommand,"Silence non-externalized string warning in CherryPickCommand

Change-Id: I8c06635ce655470b5b650fa5c0c546e64445420c
Signed-off-by: Matthias Sohn <matthias.sohn@sap.com>",0,0,1,1,0,0,1,0,0
45186,I515abbcb4319b744c5074de5a0c56caed13c2fb5,https://git.eclipse.org/r/#/c/45186,1,238627db5bd5242b64b7a03394201952f920968f,6bf8b5e96daad7df9cceddf8e8239ff50f581315,0,02/04/15,08/04/15,6,Silence non-externalized string warnings in CherryPickResult,"Silence non-externalized string warnings in CherryPickResult

Change-Id: I515abbcb4319b744c5074de5a0c56caed13c2fb5
Signed-off-by: Matthias Sohn <matthias.sohn@sap.com>",0,0,1,1,0,0,1,NA,NA
45188,I9536bc208a5f3ec34f0a82fb565b4253be38e074,https://git.eclipse.org/r/#/c/45188,1,a56800980ada23d629dd5888f251fdadecc97c62,b1d09332621a89a9722ea6ac07ca871562dad9af,1,02/04/15,08/04/15,5,Use try-with-resource to close resources in CloneCommand,"Use try-with-resource to close resources in CloneCommand

Change-Id: I9536bc208a5f3ec34f0a82fb565b4253be38e074
Signed-off-by: Matthias Sohn <matthias.sohn@sap.com>",0,0,1,1,0,0,1,0,0
45189,Ibbbc74acfd050f28e68f318970660b5959caf7e3,https://git.eclipse.org/r/#/c/45189,3,71f85b782ba5a4fbf2cc67ffe2f6f41740bb0003,6b4a98fdb359c7c51f5351ce0a05adfd4d1ab0c9,0,02/04/15,09/04/15,321,Use try-with-resource to close resources in CommitCommand,"Use try-with-resource to close resources in CommitCommand

Change-Id: Ibbbc74acfd050f28e68f318970660b5959caf7e3
Signed-off-by: Matthias Sohn <matthias.sohn@sap.com>",0,0,1,1,0,0,1,NA,NA
45190,Ie4bfdeb37d345d6ff1525a737f3b7653b2f8e23e,https://git.eclipse.org/r/#/c/45190,1,dabc1820ed69368e70899fe548c191541b631d11,86dbe4b3aac913a742d7197047c0d98af2e989d1,0,02/04/15,08/04/15,2,Replace call to deprecated RevWalk.release() in DescribeCommand,"Replace call to deprecated RevWalk.release() in DescribeCommand

Change-Id: Ie4bfdeb37d345d6ff1525a737f3b7653b2f8e23e
Signed-off-by: Matthias Sohn <matthias.sohn@sap.com>",0,0,1,1,0,0,1,NA,NA
45191,Iaa51a46a9dde13d6f5c0f9ff54a68cea0ef1fde3,https://git.eclipse.org/r/#/c/45191,2,c557ed200e8be7de15ae1afe847aebd57084d13b,bf9a543a9d8e889df824a24c263d941585019f2c,1,02/04/15,08/04/15,21,Use try-with-resource to close resources in DfsGarbageCollector,"Use try-with-resource to close resources in DfsGarbageCollector

Change-Id: Iaa51a46a9dde13d6f5c0f9ff54a68cea0ef1fde3
Signed-off-by: Matthias Sohn <matthias.sohn@sap.com>",0,0,1,1,0,0,1,0,0
45192,I11631afb33a2bb29d994551a0be8775bbe277300,https://git.eclipse.org/r/#/c/45192,3,82ffa1094a0934915bafd6717c1a7e18aa591d6b,08e8c708cee3df09f50edce0da34f7e98071e724,1,02/04/15,08/04/15,10,Externalize error messages used in DfsGarbageCollector,"Externalize error messages used in DfsGarbageCollector

Change-Id: I11631afb33a2bb29d994551a0be8775bbe277300
Signed-off-by: Matthias Sohn <matthias.sohn@sap.com>",0,0,1,1,0,0,1,0,0
45193,I13d7c8bd0eb049aa69effd8b74384746226414cb,https://git.eclipse.org/r/#/c/45193,1,b8ad104a7465e05f544a5dcd798a4088937ea281,6731d1447646570eb4448f53e9ef765ed95b5554,1,02/04/15,08/04/15,7,Use try-with-resource to close resources in DiffCommand,"Use try-with-resource to close resources in DiffCommand

Change-Id: I13d7c8bd0eb049aa69effd8b74384746226414cb
Signed-off-by: Matthias Sohn <matthias.sohn@sap.com>",0,0,1,1,0,0,1,0,0
45194,I41b2b10a1a44270a6ceaa1741e996c0921439852,https://git.eclipse.org/r/#/c/45194,1,928e3b5e053ad0d308283fe8f844bfe74971d5d4,f91246f44c534de5f7dd4b067d7dfedddaf6d57c,1,02/04/15,08/04/15,11,Fix resource leak in DiffFormatter,"Fix resource leak in DiffFormatter

- close RevWalk allocated in scan()
- replace use of deprecated ObjectReader.release() method

Change-Id: I41b2b10a1a44270a6ceaa1741e996c0921439852
Signed-off-by: Matthias Sohn <matthias.sohn@sap.com>",0,0,1,0,0,0,1,0,0
45195,I7dd3fd38784689816a1a8e9d8ccb499ae2138a8a,https://git.eclipse.org/r/#/c/45195,1,88e31958f242ea115d838e525781a74e0b3f128c,aa858e4126a773ebf59d8585bf89105a1f44fef0,1,02/04/15,08/04/15,5,Use try-with-resource to close resources in DirCache,"Use try-with-resource to close resources in DirCache

Change-Id: I7dd3fd38784689816a1a8e9d8ccb499ae2138a8a
Signed-off-by: Matthias Sohn <matthias.sohn@sap.com>",0,0,1,1,0,0,1,0,0
45198,I37cf753b1f081602dee9f0f47979eff39d735f92,https://git.eclipse.org/r/#/c/45198,1,8d074073997d030df37003ea05c271b8955b2e05,71dceb64d44fcaaed9e42a32f9b81e122baff279,1,03/04/15,08/04/15,4,Reduce visibility of DirCacheCheckout.checkValidPath(),"Reduce visibility of DirCacheCheckout.checkValidPath()

This was deprecated and should only be used by DirCacheCheckout and
friends. Other classes should use SystemReader.checkPath() instead.

Change-Id: I37cf753b1f081602dee9f0f47979eff39d735f92
Signed-off-by: Matthias Sohn <matthias.sohn@sap.com>",0,0,1,0,0,0,1,0,0
45267,If489d530ca39ae279c8da848f870b561c38eac3c,https://git.eclipse.org/r/#/c/45267,1,8c839fd53419189bf197d51b140cd2abeb58e314,81da5561cf6e44131dbfc7b3be485eaf52378b67,1,03/04/15,08/04/15,10,Use try-with-resource to close resources in FetchProcess,"Use try-with-resource to close resources in FetchProcess

Change-Id: If489d530ca39ae279c8da848f870b561c38eac3c
Signed-off-by: Matthias Sohn <matthias.sohn@sap.com>",0,0,1,1,0,0,1,0,0
45271,I62a755a4ce839a252a5e80abf3f0d21243862376,https://git.eclipse.org/r/#/c/45271,1,3e5d0425c2d56d9e83f36bbb9e7c8bfe756c67b7,e002029ee1c5107652359f0070cb60780d209b77,1,03/04/15,08/04/15,21,Use try-with-resource to close resources in GC,"Use try-with-resource to close resources in GC

Change-Id: I62a755a4ce839a252a5e80abf3f0d21243862376
Signed-off-by: Matthias Sohn <matthias.sohn@sap.com>",0,0,1,1,0,0,1,0,0
45272,I80ce98511a6e9048f1eea93288d6960dcbf3326f,https://git.eclipse.org/r/#/c/45272,1,f67bea44635582141d99ad106c9a9103b7473727,b0d11b8b2715ff73d056153fad89e0c8fc3b932c,1,03/04/15,08/04/15,10,Replace deprecated release() methods by close() in Merger,"Replace deprecated release() methods by close() in Merger

Change-Id: I80ce98511a6e9048f1eea93288d6960dcbf3326f
Signed-off-by: Matthias Sohn <matthias.sohn@sap.com>",0,0,1,1,0,0,1,0,0
45275,Icc35a81081759d664fe9e2b05e962ff3cd9aad92,https://git.eclipse.org/r/#/c/45275,1,498f0a75425ed17f027986be111742fbba07b5ee,a0eab187e58490b27ed2534333c9b45612555589,1,03/04/15,08/04/15,4,Ensure that NameRevCommand.call() closes RevWalk,"Ensure that NameRevCommand.call() closes RevWalk

Change-Id: Icc35a81081759d664fe9e2b05e962ff3cd9aad92
Signed-off-by: Matthias Sohn <matthias.sohn@sap.com>",0,0,1,1,0,0,1,0,0
45276,Iaa76f0e853bb82cd7f231fd2f462a319f4196d8c,https://git.eclipse.org/r/#/c/45276,1,c74dbcdf631b5b286aee3b0c32dffad5a94fa615,acdac1a7cf1082e43ada544869f8fcac7a2a4566,1,03/04/15,08/04/15,4,Replace deprecated release() methods by close() in NoteMapMerger,"Replace deprecated release() methods by close() in NoteMapMerger

Change-Id: Iaa76f0e853bb82cd7f231fd2f462a319f4196d8c
Signed-off-by: Matthias Sohn <matthias.sohn@sap.com>",0,0,1,1,0,0,1,0,0
45277,Ib410bf0d3c300c25b615bb6a51488b3d88aeb3bd,https://git.eclipse.org/r/#/c/45277,1,6e476dd123b6fc2829ccf96af4e773ac61c5b49d,400ca0ae6834061f8ce55374d527ce3db419d264,1,03/04/15,08/04/15,10,Use try-with-resource to close resources in ObjectDatabase,"Use try-with-resource to close resources in ObjectDatabase

Change-Id: Ib410bf0d3c300c25b615bb6a51488b3d88aeb3bd
Signed-off-by: Matthias Sohn <matthias.sohn@sap.com>",0,0,1,1,0,0,1,0,0
45279,I3bc26847071fbc31267a4a4cf5a10b428bcf229d,https://git.eclipse.org/r/#/c/45279,1,b4e8f7b7f798941925d5daa4a81d51c10b86bf40,4f66f02700b93e79068f69a3e077659ae5357aef,1,03/04/15,08/04/15,13,Externalize error messages used in ObjectDirectoryInserter,"Externalize error messages used in ObjectDirectoryInserter

Change-Id: I3bc26847071fbc31267a4a4cf5a10b428bcf229d
Signed-off-by: Matthias Sohn <matthias.sohn@sap.com>",0,0,1,1,0,0,1,0,0
45281,Ia39085557b38840dfaa9b4995e6f6c40e19042cb,https://git.eclipse.org/r/#/c/45281,1,4f66f02700b93e79068f69a3e077659ae5357aef,08d186a74046acf0b277dc24adf6154a10fb7199,1,03/04/15,08/04/15,2,Silence false null pointer access warnings in PackFile,"Silence false null pointer access warnings in PackFile

Change-Id: Ia39085557b38840dfaa9b4995e6f6c40e19042cb
Signed-off-by: Matthias Sohn <matthias.sohn@sap.com>",0,0,1,1,0,0,1,0,0
45282,I8c94811972c593c898f6375178f250a2123d01c6,https://git.eclipse.org/r/#/c/45282,1,1b9aa15b0df054541d91aa176066cc2df3ae5716,d7afabd3f5e4b6ef19e215fed37f4d0d51b19228,1,03/04/15,08/04/15,2,Silence non-externalized string warning in PackIndexV2,"Silence non-externalized string warning in PackIndexV2

Change-Id: I8c94811972c593c898f6375178f250a2123d01c6
Signed-off-by: Matthias Sohn <matthias.sohn@sap.com>",0,0,1,1,0,0,1,0,0
45283,Ic2db051130059cce89486f55ecca32a7ce6715fd,https://git.eclipse.org/r/#/c/45283,1,631b0dfcf31a0a4a6d669447bc8268c6e6495e7e,d412fb6b0c9ccc2b345ab1987b1263fdb2ee8af1,1,03/04/15,08/04/15,2,Replace call to deprecated release() by close() in PackParser,"Replace call to deprecated release() by close() in PackParser

Change-Id: Ic2db051130059cce89486f55ecca32a7ce6715fd
Signed-off-by: Matthias Sohn <matthias.sohn@sap.com>",0,0,1,1,0,0,1,0,0
45284,I1a4181fc292c42157c69479f71c7674b2e00d2ce,https://git.eclipse.org/r/#/c/45284,1,d412fb6b0c9ccc2b345ab1987b1263fdb2ee8af1,81383018da9668d42905e7606034aad1dd262105,1,03/04/15,08/04/15,2,Silence non-externalized string warning in PackParser,"Silence non-externalized string warning in PackParser

Change-Id: I1a4181fc292c42157c69479f71c7674b2e00d2ce
Signed-off-by: Matthias Sohn <matthias.sohn@sap.com>",0,0,1,1,0,0,1,0,0
45605,I7fa180db0c59e4a317a0c99ec48574cb0e5ac2f2,https://git.eclipse.org/r/#/c/45605,6,d332fb003e8817483d66cedc9246448fcbaa98c1,f06e299548b9377aba9815ab70dbfdbef64f5dcd,1,10/04/15,26/05/15,79,Silence non-externalized string warnings in org.eclipse.jgit,"Silence non-externalized string warnings in org.eclipse.jgit

Change-Id: I7fa180db0c59e4a317a0c99ec48574cb0e5ac2f2
Signed-off-by: Matthias Sohn <matthias.sohn@sap.com>",0,1,0,1,0,0,1,0,0
45607,Ib26cf8372f210798e104112edf14e91bfeaf23ec,https://git.eclipse.org/r/#/c/45607,3,0091e55ad72223935c62890927c57b5e0c15587b,b932a6f5ff569f8f133b541633e01ac0518dd48a,1,10/04/15,04/05/15,2,"Revert ""ResolveMerge only needs to visit differing TreeEntries""","Revert ""ResolveMerge only needs to visit differing TreeEntries""

This reverts commit bda5e764200dafb2311149a9152c02373127287d.

Change-Id: Ib26cf8372f210798e104112edf14e91bfeaf23ec",0,0,0,0,0,1,1,0,0
45641,I2400fe5fec07ac6d6c244b852cce615663774e6e,https://git.eclipse.org/r/#/c/45641,4,1e9e0bb1491a08c12887601e661bba8c7e96cbb2,4f2f4a0587c6d0f608ddbee1b21c86d92436576f,0,10/04/15,30/04/15,21,Lower log level to warn for handled pack errors,"Lower log level to warn for handled pack errors

Pack not found and pack corrupted/invalid are handled by the code (pack
is removed from the list) so logging an error and the stacktrace is
misleading because it implies that there is an action to take to fix the
error.

Lower the log level to warn and remove the stacktrace for those 2 types
of errors and keep the error log statement for any other.

Change-Id: I2400fe5fec07ac6d6c244b852cce615663774e6e
Signed-off-by: Hugo Ars <hugo.ares@ericsson.com>",0,1,1,0,0,0,1,NA,NA
45649,I368af61a6cf73706601a3e4df4ef24f0aa0465c5,https://git.eclipse.org/r/#/c/45649,5,261272a7be39fe47b44a1655021c735de48703bf,02811d4ba028dae1b21edf5f339b593fab8bd2d3,1,10/04/15,30/04/15,8,Remove pack from list when file handle is stale,"Remove pack from list when file handle is stale

This error happens on nfs file system when you try to read a file that
was deleted or replaced.

When the error happens because the file was deleted, removing it from
the list is the proper way to handle the error, same use case as
FileNotFoundException. When the error happens because the file was
replaced, removing the file from the list will cause the file to be
re-read so it will get the latest version of the file.

Change-Id: I368af61a6cf73706601a3e4df4ef24f0aa0465c5
Signed-off-by: Hugo Ars <hugo.ares@ericsson.com>",0,1,1,0,0,0,1,0,0
45700,I30c074a1b3436e47316b2eb2f083708161182d32,https://git.eclipse.org/r/#/c/45700,5,bf858eb927a7a59120e86c65afae34454c93605b,07a6bec2c7705b0ec8b7cc24042b57da5bf1b5d4,1,11/04/15,28/05/15,2,Silence false potential null pointer access warnings,"Silence false potential null pointer access warnings

Change-Id: I30c074a1b3436e47316b2eb2f083708161182d32",0,1,0,1,0,0,1,0,0
45701,I39c2ea6b3090d7028cc1e246af6e3cc4e7bc70c2,https://git.eclipse.org/r/#/c/45701,5,e453f6b37da0e89b4653e5015114bb17fa8a86f9,2a7a2a1fa9776e13a18052ab1fb2add082ebe599,1,11/04/15,28/05/15,3,Fix potential null pointer access in IndexDiffFilter,"Fix potential null pointer access in IndexDiffFilter

Change-Id: I39c2ea6b3090d7028cc1e246af6e3cc4e7bc70c2
Signed-off-by: Matthias Sohn <matthias.sohn@sap.com>",0,1,0,1,0,0,1,0,0
45703,I0f139c3535679087b7fa09649166bca514750b81,https://git.eclipse.org/r/#/c/45703,5,c42f2cffe03901ebadb76af95f53456c91cce19d,c09b22bf7bcabcecfcb17df8d99e70c50ed13db2,1,11/04/15,21/05/15,816,Use AutoClosable to close resources in bundle org.eclipse.jgit,"Use AutoClosable to close resources in bundle org.eclipse.jgit

- use try-with-resource where possible
- replace use of deprecated release() by close()

Change-Id: I0f139c3535679087b7fa09649166bca514750b81
Signed-off-by: Matthias Sohn <matthias.sohn@sap.com>",0,1,0,0,1,0,1,0,0
45704,I63a74651689c10426d5f150ab2e027c6b63cab95,https://git.eclipse.org/r/#/c/45704,5,3865ec80b6a2e7be50d21b944cf0ac04fc5504e8,b841e049172a5428bbc9ded75ae1a5b9ef374969,1,11/04/15,28/05/15,7,Silence resource leak warnings where caller is responsible to close,"Silence resource leak warnings where caller is responsible to close

Change-Id: I63a74651689c10426d5f150ab2e027c6b63cab95
Signed-off-by: Matthias Sohn <matthias.sohn@sap.com>",0,1,0,1,0,0,1,0,0
45705,I7b6d7be4bb283c1f451bc58f29c71a8082580989,https://git.eclipse.org/r/#/c/45705,5,40be4f26579f130e22b16b33e7f286fdd3051056,6eb9979eb9ff143ce3aa602ec17aacf3145c7286,0,11/04/15,28/05/15,1,Silence unused object warning in MyersDiff,"Silence unused object warning in MyersDiff

Change-Id: I7b6d7be4bb283c1f451bc58f29c71a8082580989
Signed-off-by: Matthias Sohn <matthias.sohn@sap.com>",0,1,0,1,0,0,1,NA,NA
45706,I4e79cefe15037df0e1c520956bf2482240e31a7d,https://git.eclipse.org/r/#/c/45706,7,009c39f1142a5965042db9ec099946e1bf28d30a,71b9fb738594a57140d51f31ead58b1f2b9b4354,1,11/04/15,31/05/15,19,Fix hidden field warnings in bundle org.eclipse.jgit,"Fix hidden field warnings in bundle org.eclipse.jgit

Change-Id: I4e79cefe15037df0e1c520956bf2482240e31a7d
Signed-off-by: Matthias Sohn <matthias.sohn@sap.com>",0,1,0,1,0,0,1,0,0
45707,I9e021ba2e0d1317bd98e86f832d55787ed6b0a63,https://git.eclipse.org/r/#/c/45707,7,7436ce046a278b8a2e513f1c7cb20e85aae97f34,be7c2f231215d69ad5049633e55d84f79267cc88,1,11/04/15,31/05/15,1,Silence deprecation warning in DirCacheCheckout,"Silence deprecation warning in DirCacheCheckout

Change-Id: I9e021ba2e0d1317bd98e86f832d55787ed6b0a63
Signed-off-by: Matthias Sohn <matthias.sohn@sap.com>",0,1,0,1,0,0,1,0,0
45708,I923b65efeaacc5e9cc8aecc754ab8d8e63ccd2e5,https://git.eclipse.org/r/#/c/45708,7,438097b00780d50668f895661a18946558e8d6a6,0888ae6a5bae1ae83d73803e8042ab656801f4c6,1,11/04/15,31/05/15,1,Silence deprecation warning in WindowCacheConfig,"Silence deprecation warning in WindowCacheConfig

Change-Id: I923b65efeaacc5e9cc8aecc754ab8d8e63ccd2e5
Signed-off-by: Matthias Sohn <matthias.sohn@sap.com>",0,1,0,1,0,0,1,0,0
45709,Id57ef8b2e80736652e4c5062364efa3ccd39c4c7,https://git.eclipse.org/r/#/c/45709,7,e57564cacc17bae1011a6569a791ba0d70897e1c,e6ab9c24a6750f5b7bf5f5797f655f673b817800,1,11/04/15,28/05/15,2,Fix unchecked conversion warning in MergeFormatter,"Fix unchecked conversion warning in MergeFormatter

Change-Id: Id57ef8b2e80736652e4c5062364efa3ccd39c4c7
Signed-off-by: Matthias Sohn <matthias.sohn@sap.com>",0,1,0,1,0,0,1,0,0
45710,I3dc8e0b483072bdf193ae4190a60d1867ebefd12,https://git.eclipse.org/r/#/c/45710,7,386a85b11a69c84977fdaca980c15302d1b47544,98ae1dc885506891a5901dcf997b92c5ae7998d8,0,11/04/15,31/05/15,1,Silence unchecked conversion warning in TransportSftp,"Silence unchecked conversion warning in TransportSftp

Change-Id: I3dc8e0b483072bdf193ae4190a60d1867ebefd12
Signed-off-by: Matthias Sohn <matthias.sohn@sap.com>",0,1,0,1,0,0,1,NA,NA
45718,I17b3a06f369cee009490f54ad1a2deb6c145c7cf,https://git.eclipse.org/r/#/c/45718,4,f4114ea428d4bec41111e6d8efd728be26305a98,c6cc8ce1002c14d32c6282fbe4509c7f01860687,1,12/04/15,10/05/15,6,[RFC} Use ANY_DIFF filter in ResolveMerger only for bare repositories,"[RFC} Use ANY_DIFF filter in ResolveMerger only for bare repositories

As Chris pointed out change I822721c76c64e614f87a080ced2457941f53adcd
slowed down merge since ANY_DIFF filter is much less efficient than the
manual detection of diffs done in ResolveMerger.processEntry() since it
avoids unnecessary filesystem calls using the git index. Hence only set
the ANY_DIFF filter on bare repositories which don't have a working tree
to scan.

To test performance I used the setup described in Chris' comment on
change I822721c76c64e614f87a080ced2457941f53adcd and modified
ResolveMerger.mergeTrees() to not add the working tree in order to
simulate merging in a bare repository.

At least on Mac I couldn't detect a speedup, with and without the
ANY_DIFF filter merge test takes in average 0.67sec. I will try the same
test on a larger repo tomorrow.

Change-Id: I17b3a06f369cee009490f54ad1a2deb6c145c7cf
Signed-off-by: Matthias Sohn <matthias.sohn@sap.com>",0,1,0,0,0,0,1,0,0
45805,I6e7d9262b94cb168c84faef1dea22c1e082fe5ad,https://git.eclipse.org/r/#/c/45805,2,606e44f1402e97f3a244ef91fc0dd005d21f0d94,f0dfc84b123806023d2ea554a3c7923976ec04a4,1,14/04/15,16/04/15,4,Fix error message to include cause if ResetCommand fails,"Fix error message to include cause if ResetCommand fails

Bug: 464048
Change-Id: I6e7d9262b94cb168c84faef1dea22c1e082fe5ad
Signed-off-by: Matthias Sohn <matthias.sohn@sap.com>",0,0,0,0,0,0,0,0,0
45835,Ib7d18bb2eeeac0fc218daea375b290ea5034bda1,https://git.eclipse.org/r/#/c/45835,7,7f23f316e4843a899ac981589d3488432c476940,782375d8465c254537998372fe7db0202bfcc765,1,15/04/15,31/05/15,70,Improve exception thrown when pull can't find advertised ref,"Improve exception thrown when pull can't find advertised ref

- throw an API exception instead of an internal exception to allow
applications to handle this problem
- improve error message to give hints about possible root causes

Bug: 464660
Change-Id: Ib7d18bb2eeeac0fc218daea375b290ea5034bda1
Signed-off-by: Matthias Sohn <matthias.sohn@sap.com>",0,1,0,0,0,0,1,0,0
45957,I4603d5fd3bd4a767e3e2419b0f2da3664cfbd7f8,https://git.eclipse.org/r/#/c/45957,2,6010a166a0abbc94d16e83b9a042eba6b29977f3,9f474cec9422125203d317489b07d3bd689ef692,1,16/04/15,16/04/15,13,Expose public getDepth method,"Expose public getDepth method

The clone or fetch depth is a valuable bit of information
for access logging. Create a public getter to faciliate access.
A precondition check prevents unintentional misuse when the
data isn't valid yet.

Change-Id: I4603d5fd3bd4a767e3e2419b0f2da3664cfbd7f8
Signed-off-by: David Pletcher <dpletcher@google.com>",0,0,0,0,0,0,0,0,0
46260,Iba71001a7762e73d6579ba9dfa5a08ddaba777ea,https://git.eclipse.org/r/#/c/46260,1,9f474cec9422125203d317489b07d3bd689ef692,d0f601c2f46575e8d9244fc5c21c90b0ca7dde67,1,22/04/15,24/04/15,254,Restore AwtCredentialsProvider to enable debugging pgm in Eclipse,"Restore AwtCredentialsProvider to enable debugging pgm in Eclipse

In 6c1f7393882baf8464859136a70199ea96fcae0f the AWT based credentials
provider was dropped because we don't support Java 5 any longer so we
can always use the ConsoleCredentialsProvider which requires Java 6.
This broke debugging org.eclipse.jgit.pgm since Eclipse doesn't support
using a system console authenticator [1].

[1] see https://bugs.eclipse.org/bugs/show_bug.cgi?id=148831

Change-Id: Iba71001a7762e73d6579ba9dfa5a08ddaba777ea",0,0,0,0,0,0,0,1,1
46261,I86518cb76842f7d326b51f8715e3bbf8ada89859,https://git.eclipse.org/r/#/c/46261,19,d0f601c2f46575e8d9244fc5c21c90b0ca7dde67,2f03043aaa3d546bd8638bba452c5219f9369846,1,22/04/15,17/08/17,1252,[RFC] Add support to follow HTTP redirects,"[RFC] Add support to follow HTTP redirects

git-core follows HTTP redirects so JGit should also provide this.

Bug: 465167
Change-Id: I86518cb76842f7d326b51f8715e3bbf8ada89859
Signed-off-by: Matthias Sohn <matthias.sohn@sap.com>",0,1,0,0,1,0,1,3,1
46348,Ic075764ea152939ce72c446252464620dd54edea,https://git.eclipse.org/r/#/c/46348,7,99e9e05aa1452c70d98e67a2060f260719a94dd5,3452b5cdcc3c85abf2ffad7def010074df0f2c86,1,23/04/15,27/05/15,90,Better report too large pack-files from PushCommand,"Better report too large pack-files from PushCommand

JGits PushCommand and BasePackPushConnection where throwing generic
TransportExceptions when the pushed pack-file was too big for the
server. Let JGit better interprete the servers response to detect this
situation and throw a more specific exception.
This detection works by parsing the status line sent by the server. This
change only recognizes the response sent by a JGit based server. All
other servers which report such problems in a different way still lead
to generic TransportExceptions.

Change-Id: Ic075764ea152939ce72c446252464620dd54edea",0,1,0,0,0,1,1,0,0
46387,I2e53de27f3dcfb93de68b1fad45f75ab23e79fe7,https://git.eclipse.org/r/#/c/46387,3,3ca998ce331b3e6b696f99f138f3eb46ee07c6f9,5be42d47cfa28eae44900f50a29033ee326561f3,1,23/04/15,24/04/15,310,Avoid storing large packs in block cache during reuse,"Avoid storing large packs in block cache during reuse

When a large pack (> 30% of the block cache) is being reused by
copying it pollutes the block cache with noise by storing blocks
that are never referenced again.

Avoid this by streaming the file directly from its channel onto
the output stream.

Change-Id: I2e53de27f3dcfb93de68b1fad45f75ab23e79fe7",0,0,0,0,0,0,0,-1,0
46390,Ia986a1bb8640eecb91cfbd515c61fa1ff1574a6f,https://git.eclipse.org/r/#/c/46390,4,1e1cca70ad7af992d112d8ad33d332ed2a527b35,5df58bba5afe92a09ce0ed823ee6cd713cd6d2b6,1,24/04/15,24/04/15,44,Add readAheadBuffer hint to ReadableChannel,"Add readAheadBuffer hint to ReadableChannel

Change-Id: Ia986a1bb8640eecb91cfbd515c61fa1ff1574a6f",0,1,0,1,0,0,1,0,0
46447,I4e6056eb352d51277867f857a0cab380eca153ac,https://git.eclipse.org/r/#/c/46447,2,9436076bda61f4d85cf14f8c2ca03caec5f30dd9,ca1ca57b5383c06f57199c21769ba576a3671b63,1,24/04/15,26/04/15,29,"Revert ""Let ObjectWalk.markUninteresting also mark the root tree as""","Revert ""Let ObjectWalk.markUninteresting also mark the root tree as""

The Iff2de881 tried to fix missing tree ..."" but introduced severe
performance degradation (>10x in some cases) when acting as server
(git push) and as client (replication). IOW cure is worse than the
disease.

This reverts commit c4797fe98655b3d52d0a90ba44fce6e053db3b8b.

Change-Id: I4e6056eb352d51277867f857a0cab380eca153ac
Signed-off-by: David Ostrovsky <david@ostrovsky.org>",0,0,0,0,0,0,0,0,0
46448,I225775bfb6d3d91ae066ff00f9d80a9c02a422c2,https://git.eclipse.org/r/#/c/46448,2,a55d2579ef6f1999788489c478e7330448a822df,4e9b45e19a88b286232473771039a82b8a85b9ec,1,24/04/15,24/04/15,4,Rename canCopyThroughCache to shouldCopyThroughCache,"Rename canCopyThroughCache to shouldCopyThroughCache

Sensible suggestion from Terry Parker as a late comment on
commit f2efcdc6f769d59722b17e9274932d585035cfb6.

Change-Id: I225775bfb6d3d91ae066ff00f9d80a9c02a422c2",0,0,0,0,0,0,0,0,0
46452,If0d7baf2ae1bf1f7e71bf773151302c9f7887039,https://git.eclipse.org/r/#/c/46452,2,4e9b45e19a88b286232473771039a82b8a85b9ec,272dc8a8494528e08c6f3b0a7803521a4e88309d,1,24/04/15,24/04/15,170,Remove validate support when reusing cached pack,"Remove validate support when reusing cached pack

Cached packs are only used when writing over the network or to
a bundle file and reuse validation is always disabled in these
two contexts. The client/consumer of the stream will be SHA-1
checksumming every object.

Reuse validation is most critical during local GC to avoid silently
ignoring corruption by stopping as soon as a problem is found and
leaving everything alone for the end-user to debug and salvage.
Cached packs are not supported during local GC as the bitmap rebuild
logic does not support including a cached pack in the result.

Strip out the validation and force PackWriter to always disable the
cached pack feature if reuseValidation is enabled.

Change-Id: If0d7baf2ae1bf1f7e71bf773151302c9f7887039",0,0,0,0,0,0,0,-1,0
46468,Ibcf722978e65745218a1ccda45344ca295911659,https://git.eclipse.org/r/#/c/46468,5,272dc8a8494528e08c6f3b0a7803521a4e88309d,263783e6e8a78ac979120169174bbb55dfcf05b3,1,24/04/15,17/08/15,81,Use NIO2 to implement FileUtils.rename() and expose options,"Use NIO2 to implement FileUtils.rename() and expose options

- use NIO2's Files.move() to reimplement rename()
- provide a second method accepting CopyOptions which can be used to 
  request atomic move.

Change-Id: Ibcf722978e65745218a1ccda45344ca295911659
Signed-off-by: Matthias Sohn <matthias.sohn@sap.com>",0,1,1,0,0,0,1,0,0
46469,I5137212f5cd3195a52f90ed5e4ce3cf194a13efd,https://git.eclipse.org/r/#/c/46469,6,be02b6fd6cfb8e401761ef7c6b3d616eaa1fe4b5,444a5e4bee7e255bd275fd81f4af16ec9ce9e567,1,24/04/15,30/12/15,207,Rename files using NIO2 atomic rename,"Rename files using NIO2 atomic rename

Bug: 319233
Change-Id: I5137212f5cd3195a52f90ed5e4ce3cf194a13efd
Signed-off-by: Matthias Sohn <matthias.sohn@sap.com>",0,1,1,0,0,0,1,2,1
46490,I7fcf6534e6092ba87360ccd68a7dd7466c5c8911,https://git.eclipse.org/r/#/c/46490,1,16cd2068ed47f4768aea0e63a6ee440265b3f38c,6a0659f12c04b693cdf3422dd7736e3f2e3ac076,1,25/04/15,10/05/15,67,Delete deprecated checkoutEntry() methods in DirCacheCheckout,"Delete deprecated checkoutEntry() methods in DirCacheCheckout

Change-Id: I7fcf6534e6092ba87360ccd68a7dd7466c5c8911
Signed-off-by: Matthias Sohn <matthias.sohn@sap.com>",0,0,0,1,0,0,1,0,0
46491,Ia9c3d1231a5d97f3f5bddc81113954c9f9d8ee1e,https://git.eclipse.org/r/#/c/46491,1,6a0659f12c04b693cdf3422dd7736e3f2e3ac076,064b44404f724be5dc9336d1f0dc7303317d84a9,1,25/04/15,10/05/15,940,Delete deprecated class IgnoreRule,"Delete deprecated class IgnoreRule

Was replaced by FastIgnoreRule in 3.6

Change-Id: Ia9c3d1231a5d97f3f5bddc81113954c9f9d8ee1e
Signed-off-by: Matthias Sohn <matthias.sohn@sap.com>",0,0,0,0,1,0,1,-2,0
46492,I62befa4a933c9ffd42d14519f555554cc513ddd9,https://git.eclipse.org/r/#/c/46492,1,064b44404f724be5dc9336d1f0dc7303317d84a9,1880f96136b9bc19ddeed157425112ffe113d034,1,25/04/15,10/05/15,94,Delete deprecated PackWriter.preparePack() methods,"Delete deprecated PackWriter.preparePack() methods

Change-Id: I62befa4a933c9ffd42d14519f555554cc513ddd9
Signed-off-by: Matthias Sohn <matthias.sohn@sap.com>",0,0,0,1,0,0,1,0,0
46522,I80639e317df80c103aef5cad75ad9079d43fb9d0,https://git.eclipse.org/r/#/c/46522,1,150676b2129e7ab129abb894d28e402b9cc26c69,9d0f0d7df57bb8fac2f270f37c0ff02613029c94,1,26/04/15,26/04/15,118,JGit v3.7.1.201504261725-r,"JGit v3.7.1.201504261725-r

Change-Id: I80639e317df80c103aef5cad75ad9079d43fb9d0
Signed-off-by: Matthias Sohn <matthias.sohn@sap.com>",1,0,0,1,0,0,1,0,0
46523,Ia42a665e76953b643a080b58d2cd4526575ddf2e,https://git.eclipse.org/r/#/c/46523,1,9d0f0d7df57bb8fac2f270f37c0ff02613029c94,15d7741b063f12d294a5aaaa2e8e43bfd2049c91,1,26/04/15,27/04/15,538,Prepare 3.7.2-SNAPSHOT builds,"Prepare 3.7.2-SNAPSHOT builds

Change-Id: Ia42a665e76953b643a080b58d2cd4526575ddf2e
Signed-off-by: Matthias Sohn <matthias.sohn@sap.com>",1,0,0,1,1,0,1,0,0
46597,If1b62ff695e063d797c3d13c43e488ca56f29cbe,https://git.eclipse.org/r/#/c/46597,1,b9863c8f13650c67bb246347f86e395d20ab7cbe,b9a2c0db13a4ae8e4fcdec306ede81cc24ddf49a,1,27/04/15,27/04/15,1167,Merge branch 'stable-3.7',"Merge branch 'stable-3.7'

* stable-3.7:
  Prepare 3.7.2-SNAPSHOT builds
  JGit v3.7.1.201504261725-r
  Revert ""Let ObjectWalk.markUninteresting also mark the root tree as""

Change-Id: If1b62ff695e063d797c3d13c43e488ca56f29cbe
Signed-off-by: Matthias Sohn <matthias.sohn@sap.com>",1,0,0,0,1,0,1,0,0
46835,I6d529542c765c131de590f4f7ef8e7c1c8cb9db9,https://git.eclipse.org/r/#/c/46835,3,b9a2c0db13a4ae8e4fcdec306ede81cc24ddf49a,6b9ebe8ed4555312c5032b528a67fca5519c5158,1,30/04/15,30/04/15,70,Add fsck.allowInvalidPersonIdent to accept invalid author/committers,"Add fsck.allowInvalidPersonIdent to accept invalid author/committers

A larger than expected number of real-world repositories found on
the Interent contain invalid author, committer and tagger lines
in their history. Many of these seem to be caused by users misuing
the user.name and user.email fields, e.g.:

  [user]
    name = Au Thor <author@example.com>
	email = author@example.com

that some version of Git (or a reimplementation thereof) copied
directly into the object header. These headers are not valid and
are rejected by a strict fsck, making it impossible to transfer
the repository with JGit/EGit.

Allow callers and users to weaken the fsck settings to accept these
sorts of breakages if they really want to work on a repo that has
broken history.  Most routines will still function fine, however
commit timestamp sorting in RevWalk may become confused by a corrupt
committer line and sort commits out of order.

Change-Id: I6d529542c765c131de590f4f7ef8e7c1c8cb9db9",0,0,0,0,0,0,0,0,0
46928,Icfc6524d84a787386d1786310b421b2f92ae9e65,https://git.eclipse.org/r/#/c/46928,5,0905e7df436ff162db69ce2892732f705291b5a8,b980973ba651dbf7eade3fdf41a217f4d6d6ea13,1,30/04/15,30/04/15,419,Support agent= capability in wire protocol,"Support agent= capability in wire protocol

Since git-core ff5effd (v1.7.12.1) the native wire protocol transmits
the server and client implementation and version strings using
capability ""agent=git/1.7.12.1"" or similar.

Support this in JGit and hang the implementation data off UploadPack
and ReceivePack.  On HTTP transports default to the User-Agent HTTP
header until the client overrides this with the optional capability
string in the first line.

Extract the user agent string into a UserAgent class under transport
where it can be specified to a different value if the application's
build process has broken the Implementation-Version header in the
JGit package.

Change-Id: Icfc6524d84a787386d1786310b421b2f92ae9e65",0,1,0,0,0,0,1,0,0
47004,I7fb4a65f888194f7209c866cd58551891c89fb7a,https://git.eclipse.org/r/#/c/47004,2,b980973ba651dbf7eade3fdf41a217f4d6d6ea13,618e0b04754709e9375db9ed8fb4420f1ce1cd42,0,04/05/15,04/05/15,12,Use CBI eclipse-jarsigner-plugin 1.1.2-SNAPSHOT,"Use CBI eclipse-jarsigner-plugin 1.1.2-SNAPSHOT

CBI recently fixed a couple of resource leaks which probably caused
bug 464947 which also affected JGit builds. Hence use version
1.1.2-SNAPSHOT until a new release is available.

Bug:464947
Change-Id: I7fb4a65f888194f7209c866cd58551891c89fb7a
Signed-off-by: Matthias Sohn <matthias.sohn@sap.com>",1,0,0,0,0,0,1,NA,NA
47017,I6535d924a22cba9a05df0ccd7e6dc2c9ddc42375,https://git.eclipse.org/r/#/c/47017,1,cd1d134b4e21280aca31bb8020369dc76d15387f,19bdab7950dc462c2cfa2495e05777cdb757b685,1,04/05/15,11/05/15,2,Fix possible AIOOB in DirCacheTree.contains(),"Fix possible AIOOB in DirCacheTree.contains()

When DirCacheTree.contains() is called and 'aOff' is greater than 'aLen'
an ArrayIndexOutOfBoundsException was thrown. This fix makes
DirCacheTree.contains() more robust and allows parsing such index files
without throwing AIOOB.

I couldn't create a test case leading to this situation but I have seen
such situations while inspecting Bug: 465393. It seems that such
situations are created on Windows when there are invalid pathes in the
index. There may be a not yet known bug leading to such situations in
combination with invalid pathes.

Bug: 465393
Change-Id: I6535d924a22cba9a05df0ccd7e6dc2c9ddc42375",0,0,1,0,0,0,1,0,0
47025,I3145f74ecee9f5b368e7f4b9fd7cb906f407eff5,https://git.eclipse.org/r/#/c/47025,3,6ff155764fcb8b684deb41e9e2459f5e625b806e,fbe2a7a020540c8b7d6b94163bbdeda57e99e5fa,0,04/05/15,07/05/15,24,FS_Win32: Avoid an IOException on Windows if bash is not in PATH,"FS_Win32: Avoid an IOException on Windows if bash is not in PATH

Change-Id: I3145f74ecee9f5b368e7f4b9fd7cb906f407eff5
Signed-off-by: Sebastian Schuberth <sschuberth@gmail.com>",0,0,1,1,0,0,1,NA,NA
47091,I2e6a90d74f774d576e7d3595344dccaa27a96027,https://git.eclipse.org/r/#/c/47091,1,ee81fd39ac5599e08e1a7bb5dca3b295933343b1,7af6e137c3320718341b28ccb023e76ad01dbc79,0,04/05/15,04/05/15,98,Prepare post 4.0.0-m1 builds,"Prepare post 4.0.0-m1 builds

Change-Id: I2e6a90d74f774d576e7d3595344dccaa27a96027
Signed-off-by: Matthias Sohn <matthias.sohn@sap.com>",1,0,0,1,0,0,1,NA,NA
47092,I962461630384b76e7f387f4e1c1248833fbc4673,https://git.eclipse.org/r/#/c/47092,1,7af6e137c3320718341b28ccb023e76ad01dbc79,3b766f30f561f4bfa5822c44a7ea2a21b4ee768e,0,04/05/15,04/05/15,0,Merge branch 'master' into stable-4.0,"Merge branch 'master' into stable-4.0

Change-Id: I962461630384b76e7f387f4e1c1248833fbc4673
Signed-off-by: Matthias Sohn <matthias.sohn@sap.com>",1,0,0,1,0,0,1,NA,NA
47125,I4a360a654d5d5e4200bf1e4817613f85755bb3ff,https://git.eclipse.org/r/#/c/47125,1,3b766f30f561f4bfa5822c44a7ea2a21b4ee768e,f1dab08350c7c6933dc346398ef9ff564671bf2b,0,05/05/15,05/05/15,98,JGit v4.0.0.201505050340-m2,"JGit v4.0.0.201505050340-m2

Change-Id: I4a360a654d5d5e4200bf1e4817613f85755bb3ff
Signed-off-by: Matthias Sohn <matthias.sohn@sap.com>",1,0,0,1,0,0,1,NA,NA
47168,I11c2d5120508526ed2671d62f4dd6a395c3b4749,https://git.eclipse.org/r/#/c/47168,1,f1dab08350c7c6933dc346398ef9ff564671bf2b,34b97fdd5e63e168c65541f9b4f980ee94bf149f,0,05/05/15,05/05/15,98,Prepare post 4.0.0-m2 builds,"Prepare post 4.0.0-m2 builds

Change-Id: I11c2d5120508526ed2671d62f4dd6a395c3b4749
Signed-off-by: Matthias Sohn <matthias.sohn@sap.com>",1,0,0,1,0,0,1,NA,NA
47174,I2cf68424bb550816f6137d693e792ebffa11bf87,https://git.eclipse.org/r/#/c/47174,1,34b97fdd5e63e168c65541f9b4f980ee94bf149f,34b97fdd5e63e168c65541f9b4f980ee94bf149f,0,05/05/15,05/05/15,0,Merge branch 'stable-4.0',"Merge branch 'stable-4.0'

* stable-4.0:
  Prepare post 4.0.0-m2 builds
  JGit v4.0.0.201505050340-m2
  Prepare post 4.0.0-m1 builds
  JGit v4.0.0.201503231230-m1

Change-Id: I2cf68424bb550816f6137d693e792ebffa11bf87
Signed-off-by: Matthias Sohn <matthias.sohn@sap.com>",1,0,0,0,0,0,1,NA,NA
47392,I58f22b33cdb40994f044a26fba9fe965b45be51d,https://git.eclipse.org/r/#/c/47392,1,34b97fdd5e63e168c65541f9b4f980ee94bf149f,df5882366a4415b839091b8b83bbce9a4ee86fc3,1,06/05/15,06/05/15,47,Add repository name to failures in HTTP server log,"Add repository name to failures in HTTP server log

If UploadPack or ReceivePack has an exception record an identifier
associated with the repository as part of the log message. This can
help the HTTP admin track down the offending repository and take
action to repair the root cause.

Change-Id: I58f22b33cdb40994f044a26fba9fe965b45be51d",0,0,0,0,0,0,0,0,0
47395,Ifc8cf06032489dc6431be1ba66101cf3d4299218,https://git.eclipse.org/r/#/c/47395,1,df5882366a4415b839091b8b83bbce9a4ee86fc3,1dc74b3bd3c3e26fc314cc9ab917d45617b385a9,1,06/05/15,06/05/15,12,Skip logging stack trace on corrupt objects,"Skip logging stack trace on corrupt objects

Instead of dumping a full stack trace when a client sends an invalid
commit, record only a short line explaining the attempt:

  Cannot receive Invalid commit c0ff33...: invalid author into /tmp/jgit.git

The text alone is sufficient to explain the problem and the stack
trace does not lend any additional useful information. ObjectChecker
is quite clear about its rejection cases.

Change-Id: Ifc8cf06032489dc6431be1ba66101cf3d4299218",0,0,0,0,0,0,0,0,0
47521,I8f5fc09469b56d73d3838e7bcfecfd21140429eb,https://git.eclipse.org/r/#/c/47521,1,3b13575b8b2c2a8adc0f0c882252d3f67d447fc7,2d2c9f2669ba70562021bdb1a6b1743f6e31cc32,1,08/05/15,08/05/15,4,GroupHead: Remove a redundant call to String.format(),"GroupHead: Remove a redundant call to String.format()

Change-Id: I8f5fc09469b56d73d3838e7bcfecfd21140429eb
Signed-off-by: Sebastian Schuberth <sschuberth@gmail.com>",0,0,0,1,0,0,1,0,0
47522,Ibdd0338b638b864d6572045b084b08a04471ecf7,https://git.eclipse.org/r/#/c/47522,1,2d2c9f2669ba70562021bdb1a6b1743f6e31cc32,300b69b4a2b647146dd29d9e55487ce18c37b917,1,08/05/15,08/05/15,2,IndexDiffFilter: Simplify a boolean expression,"IndexDiffFilter: Simplify a boolean expression

Change-Id: Ibdd0338b638b864d6572045b084b08a04471ecf7
Signed-off-by: Sebastian Schuberth <sschuberth@gmail.com>",0,0,0,1,0,0,1,0,0
47523,I519f7bf1c9b6670e63c3714210f834ee845dc69f,https://git.eclipse.org/r/#/c/47523,1,300b69b4a2b647146dd29d9e55487ce18c37b917,6f6e1f8b647d792cc0b2bd29f0f31d157afa7a7f,1,08/05/15,08/05/15,32,Do not concatenate strings as arguments to StringBuilder.append(),"Do not concatenate strings as arguments to StringBuilder.append()

That more or less defeats the purpose of using a StringBuilder.

Change-Id: I519f7bf1c9b6670e63c3714210f834ee845dc69f
Signed-off-by: Sebastian Schuberth <sschuberth@gmail.com>",0,0,0,0,0,0,0,0,0
47561,I36608afdac13a6c3084d7c7e0af5e0cb22900332,https://git.eclipse.org/r/#/c/47561,5,94cb5005acfdbc260d5e453503e7ede6eaf5121e,7524ac910acf7f628c66869c6b8485bb59ffa3f1,1,09/05/15,10/05/15,60,ObjectReader: remove the walkAdvice API,"ObjectReader: remove the walkAdvice API

This was added a very long time ago to support the failed
DHT storage implementation. Since then no storage system
was able to make use of this API, but it pollutes internals
of the walkers.

Kill the API on ObjectReader and drop the invocations from
the walker code.

Change-Id: I36608afdac13a6c3084d7c7e0af5e0cb22900332",0,1,0,0,0,0,1,0,0
47563,Ic1419cc1d9ee95f4d09386dd0730d54c12dcc157,https://git.eclipse.org/r/#/c/47563,4,2bf83ff6d9aabd16c9abf26c4c99962b44933518,cae81f11207a5ceced75193f2d086432028e9cf4,1,09/05/15,10/05/15,2,RevWalk: Discard uninteresting commits unless RevSort.BOUNDARY,"RevWalk: Discard uninteresting commits unless RevSort.BOUNDARY

Previously using an ObjectWalk meant uninteresting commits may keep
their commit message buffers in memory just in case they were found to
be on the boundary and were output as UNINTERESTING for the caller.

This was incorrect inside StartGenerator. ObjectWalk hides these
internal UNINTERESTING cases from its caller unless RevSort.BOUNDARY
was explicitly set, and its false by default. Callers never see an
one of these saved uninteresting commits.

Change the test to allow early dispose unless the application has
explicitly asked for RevSort.BOUNDARY. This allows uninteresting
commit buffers to be discarded and garbage collected in ObjectWalks
when the caller will never be given the RevCommit.

Change-Id: Ic1419cc1d9ee95f4d09386dd0730d54c12dcc157",0,1,0,0,0,0,1,0,0
47568,I367e42209e805bd5e1f41b4072aeb2fa98ec9d99,https://git.eclipse.org/r/#/c/47568,3,01a351bf57182c63c37a42bbc64ef4870ef2556b,0ec0f25583f087b90b6876c2d7845eba7fd2e844,1,10/05/15,10/05/15,80,ObjectWalk: make setRetainBody(false) the default,"ObjectWalk: make setRetainBody(false) the default

Despite being the primary author of RevWalk and ObjectWalk I still
fail to remember to setRetainBody(false) in application code using
an ObjectWalk to examine the graph.

Document the default for RevWalk is setRetainBody(true), where the
application usually wants the commit bodies to display or inspect.

Change the default for Objectwalk to setRetainBody(false), as nearly
all callers want only the graph shape and do not need the larger text
inside a commit body. This allows some code in JGit to be simplified.

Change-Id: I367e42209e805bd5e1f41b4072aeb2fa98ec9d99",0,0,0,0,0,0,0,0,0
47569,Ib27486eaa1b1d2bf1c745a56d0a5832bfb029322,https://git.eclipse.org/r/#/c/47569,2,9bc4a1697fbee78b8cf1a6fe2e08c711e1457264,4c3bea629f0ef526080182f49aee09250a16515e,1,10/05/15,11/05/15,243,Fix memory leak in dfs.DeltaBaseCase,"Fix memory leak in dfs.DeltaBaseCase

The LRU chain management code was broken leading to situations where
the chain was incomplete.  This prevented the cache from removing
items when it exceeded its memory target, causing a leak.

One case was repeated hit on the head of the chain. moveToHead(e)
was invoked linking the head back to itself in a cycle orphaning
the rest of the table.

Add some unit tests to cover this and a few other paths.

Change-Id: Ib27486eaa1b1d2bf1c745a56d0a5832bfb029322",0,0,0,0,0,0,0,0,0
47570,I87586b3e71b1cba0308a6a278d42e971be4bccd3,https://git.eclipse.org/r/#/c/47570,2,9e541ece0801a6d7256ec98725c2c4186c25dc44,5d4e64ab23937480424e25f6b1d90a705fa7ff93,1,10/05/15,11/05/15,89,Remove SoftReference from dfs.DeltaBaseCache,"Remove SoftReference from dfs.DeltaBaseCache

The Java GC doesn't always clear these before running out of memory
and failing allocations. In practice OpenJDK 7 is leaving these live,
removing any advantage of the SoftReference to attempt to shed memory
when the GC is unable to continue allocating.

Instead follow the pattern of the DfsBlockCache and use hard refs
to the object data. Require applications to configure the cache
size more accurately given expected memory usage.

Change-Id: I87586b3e71b1cba0308a6a278d42e971be4bccd3",0,0,0,0,0,0,0,0,0
47572,Ifad154ed2f52f0102d297ac7fd4943ff1f309b9e,https://git.eclipse.org/r/#/c/47572,4,10c639d78ccbe156330fe4ee1b1cd1bf43be523d,d44635625f64c151b67e0a08e895d7c6d1a4954e,0,10/05/15,11/05/15,38,Update javax.servlet to 3.1,"Update javax.servlet to 3.1

Change-Id: Ifad154ed2f52f0102d297ac7fd4943ff1f309b9e
Signed-off-by: Matthias Sohn <matthias.sohn@sap.com>",0,1,0,1,0,0,1,NA,NA
47573,Iace29e6e99836019bb603ce06a08b91bada7c627,https://git.eclipse.org/r/#/c/47573,6,9c35ac441def74e8fecef6e57e82eb8e37bd4c1e,63a6b7cf58dfc93baf404106cd39c8451ce3d7d3,1,10/05/15,12/05/15,255,Update to Jetty 9.2.10,"Update to Jetty 9.2.10

Change-Id: Iace29e6e99836019bb603ce06a08b91bada7c627
Signed-off-by: Matthias Sohn <matthias.sohn@sap.com>",0,1,0,1,0,0,1,0,0
47585,I4142a0749c24f15386ee7fb119934a0432234de3,https://git.eclipse.org/r/#/c/47585,2,87cc180f5c64fa2ee31bd20b4f61f59b957832a1,586c7efc6d4537e304d17c66586451e464259d3a,1,10/05/15,10/05/15,28,Expose disposeBody() on RevCommit and RevTag,"Expose disposeBody() on RevCommit and RevTag

Applications that use a commit message once and do not
need it again can free the body to save memory. Expose
the disposeBody() methods to support this and use it in
pgm.Log which only visits each commit once.

Change-Id: I4142a0749c24f15386ee7fb119934a0432234de3",0,0,0,0,0,0,0,0,0
47587,Ie713647615bc5bdf5d71b731a6748c28ea21c900,https://git.eclipse.org/r/#/c/47587,3,9a94c491f9696a5360aa1b77ee737f0f5e2e779d,48fca2199b2b9b938e54216ca9f0f7923ce22756,1,10/05/15,11/05/15,279,FS_POSIX: Rework umask detection to make it settable,"FS_POSIX: Rework umask detection to make it settable

Avoid always calling `sh -c umask` on startup, instead deferring
the invocation until the first time a working tree file needs to
use the execute bit. This allows servers using bare repos to avoid
a costly fork+exec for a value that is never used.

Store the umask as an int instead of two Boolean. This is slightly
smaller memory (one int vs. two references) and makes it easier for
an application to force setting the umask to a value that overrides
whatever the shell told JGit.

Simplify the code to bail by returning early when canExecute is
false, which is the common case for working tree files.

Change-Id: Ie713647615bc5bdf5d71b731a6748c28ea21c900",0,0,0,0,0,0,0,0,0
47938,I637008b25bf9fb57df60ebb2133a70214930546a,https://git.eclipse.org/r/#/c/47938,4,88a7238fe9cb943e941d7c6b17eb4205a246ba02,341c554ee863a9eed4793320f347042502b729e2,1,14/05/15,15/05/15,139,Allow ObjectWalk to be filtered by an arbitrary predicate,"Allow ObjectWalk to be filtered by an arbitrary predicate

This will make it possible to declare a collection of objects as
ineligible for the walk en masse, for example if they are known to be
uninteresting via a bitmap.

NEEDSWORK: This version of the change introduces the API but doesn't
implement it yet, so I can get early review.

Change-Id: I637008b25bf9fb57df60ebb2133a70214930546a
Signed-off-by: Jonathan Nieder <jrn@google.com>",0,1,0,0,0,0,1,0,0
47966,I1ad544f2b5673ed3b4a2206b5eb4ce20fd3c86d2,https://git.eclipse.org/r/#/c/47966,2,341c554ee863a9eed4793320f347042502b729e2,d1a5540dee1ded846433595da21a5eb7b4d8e72d,1,15/05/15,15/05/15,2,Fix typo in reflog message written by RebaseCommand.tryFastForward(),"Fix typo in reflog message written by RebaseCommand.tryFastForward()

Change-Id: I1ad544f2b5673ed3b4a2206b5eb4ce20fd3c86d2
Signed-off-by: Matthias Sohn <matthias.sohn@sap.com>",1,0,0,1,0,0,1,0,0
47989,I867ce29664e661a81a9d441e59ffd0b72270dd98,https://git.eclipse.org/r/#/c/47989,1,275537693289eab7b324493d58bd9e2f69e45de0,27a76eb9a75776fc77cd7e8bb3965b7a0e35d2dc,0,15/05/15,15/05/15,2,Fix typo in ObjectWalk#getObjectFilter javadoc,"Fix typo in ObjectWalk#getObjectFilter javadoc

While trying to decide between ""which matches every object"" and ""as it
matches every object"", I became distracted and wrote both.

Change-Id: I867ce29664e661a81a9d441e59ffd0b72270dd98
Signed-off-by: Jonathan Nieder <jrn@google.com>",0,0,0,0,0,0,0,NA,NA
47990,I863ba85c6303f8ef2eb13bca5e2d30e5d3c58b29,https://git.eclipse.org/r/#/c/47990,1,27a76eb9a75776fc77cd7e8bb3965b7a0e35d2dc,918185d6bb866d3d13b4cae0e26d520c7213b220,1,15/05/15,15/05/15,6,Correct @since tags for ObjectFilter,"Correct @since tags for ObjectFilter

Although the stable-4.0 branch already exists, 4.0 development is
still happening on master until IP logs are sent for review, which
will happen at the end of May.

Change-Id: I863ba85c6303f8ef2eb13bca5e2d30e5d3c58b29
Signed-off-by: Jonathan Nieder <jrn@google.com>",0,0,0,0,0,0,0,0,0
47993,I247651ec8fd7ca9941d256ca46d14cc43cc35c6e,https://git.eclipse.org/r/#/c/47993,1,918185d6bb866d3d13b4cae0e26d520c7213b220,e4f23f05cdaceaf58d08e0c1482a8a17631ef3fb,1,15/05/15,20/05/15,4,Fix ObjectReader resources leak,"Fix ObjectReader resources leak

In 77030a5e, AutoClosable was implemented on classes that use release().
This caused a resource leak because the ObjectReader.close method  was
not calling the now deprecated release method, which is the method that
sub classes implements to release resources.

Change-Id: I247651ec8fd7ca9941d256ca46d14cc43cc35c6e
Signed-off-by: Hugo Ars <hugo.ares@ericsson.com>",0,0,1,0,0,0,1,0,0
47998,I24b9dcc49f66380f77345d704df70c05f7f74db8,https://git.eclipse.org/r/#/c/47998,1,0e892fab5682c0b02be286026e2c7bce5372d9d1,2301f2ffd7726b365e63bf82068c4ee4f1e2323a,0,15/05/15,15/05/15,16,Fix warnings in ObjectFilter,"Fix warnings in ObjectFilter

- add missing tags in JavaDoc of ObjectFilter.include()
- remove unnecessary import

Change-Id: I24b9dcc49f66380f77345d704df70c05f7f74db8
Signed-off-by: Matthias Sohn <matthias.sohn@sap.com>",0,0,0,0,0,0,0,NA,NA
48006,I144a53fe677070fff8c3ddf8cba07a848773bc1b,https://git.eclipse.org/r/#/c/48006,4,2301f2ffd7726b365e63bf82068c4ee4f1e2323a,fe1b435218023ed13438004668981f5e45cebca8,0,16/05/15,28/05/15,186,Add tests for ObjectFilter,"Add tests for ObjectFilter

NEEDSWORK: will have more tests --- just sending this out early in
case reviewers want to comment on the scaffolding.  I'd like to
test that

 - the default ObjectFilter is ALL
 - ObjectFilter affects nextObject() and not next()
 - omitting a tree implies omitting its subtrees
 - a blob or tree reached by another path is still returned
 - ObjectFilter can be mixed with RevFilter

Change-Id: I144a53fe677070fff8c3ddf8cba07a848773bc1b
Signed-off-by: Jonathan Nieder <jrn@google.com>",0,1,1,0,0,0,1,NA,NA
48075,I22af50d70bd3b81e7c056358724956122b0d158d,https://git.eclipse.org/r/#/c/48075,2,9e056e93193e0c2e5509a615445d76072a8fba9a,cb135e67663855ad24ab635dd038d56e00b588d5,1,18/05/15,01/06/15,13,Fix CommitCommand.setOnly(),"Fix CommitCommand.setOnly()

When CommitCommand.setOnly(path) is used a temporary index has to be
created containing only modifications for the specified pathes. The
process to fill this temporary index was broken because filling the
index was stopped when we reached the first untracked file. Instead the
process to fill the temporary index should continue until we processed
all pathes.

Bug: 451465
Change-Id: I22af50d70bd3b81e7c056358724956122b0d158d",0,0,0,0,0,1,1,0,0
48112,I0a609acc6152ab43b47a93d712deb65bb1105f75,https://git.eclipse.org/r/#/c/48112,9,205fd6c2c92f0fe4e89a6d3a26426270afb35665,185fb1ab08a2cbfe059719fd40b1b824a0887d4a,1,18/05/15,27/05/15,311,Fix that exceptions in ReceivePack cause Invalid Channel 101 exceptions,"Fix that exceptions in ReceivePack cause Invalid Channel 101 exceptions

When during a PushOperation the server hits an exception different from
UnpackException the JGit server behaved wrong. That kind of exceptions
are handled so late that the connection is already released and the
information whether to talk sideband to the client is lost. In detail:
ReceivePack.receive() will call release() and that will reset the
capabilities. But later on the stack in ReceivePackServlet.doPost() it
is tried to send a response to client now with reset capabilities (no
sideband!).

Change-Id: I0a609acc6152ab43b47a93d712deb65bb1105f75",0,1,1,0,0,1,1,0,0
48140,I67ec732ea2e5345a6946783f0c5ef60c07ce254e,https://git.eclipse.org/r/#/c/48140,3,1b667d673a57d0a6879a10a168ca9df013f5e8d7,b0c8ccca1502f080523ac1aeb8f496e7c0b561a4,1,19/05/15,22/05/15,31,Move resolveGrandparentFile() to the base class for wider use,"Move resolveGrandparentFile() to the base class for wider use

Change-Id: I67ec732ea2e5345a6946783f0c5ef60c07ce254e
Signed-off-by: Sebastian Schuberth <sschuberth@gmail.com>",0,0,1,1,0,0,1,0,0
48141,I936df151890d4bba9079d79c65b75a69c209523b,https://git.eclipse.org/r/#/c/48141,3,cabd17f48fecdac4c014b6f77a8e9632c4f392b6,b5ab039fb6e19aac58b2ce4171f22ea35abacf85,1,19/05/15,22/05/15,34,Equalize discoverGitPrefix() implementations between POSIX and Win32,"Equalize discoverGitPrefix() implementations between POSIX and Win32

Change-Id: I936df151890d4bba9079d79c65b75a69c209523b
Signed-off-by: Sebastian Schuberth <sschuberth@gmail.com>",0,0,1,1,0,0,1,0,0
48142,I700540eec06efb24eeb09bfcb40420820c32d156,https://git.eclipse.org/r/#/c/48142,3,381e4651e3d5e2f5252eff95a8e2777f6a629d9f,c7251ff22ccb0fe83492178aed034a151dc65d52,1,19/05/15,22/05/15,77,Split discoverGitPrefix() code out into discoverGitExe(),"Split discoverGitPrefix() code out into discoverGitExe()

Change-Id: I700540eec06efb24eeb09bfcb40420820c32d156
Signed-off-by: Sebastian Schuberth <sschuberth@gmail.com>",0,0,1,1,0,0,1,0,0
48143,I36f0edf0f9d0bfa26448e25355c6d78dea524079,https://git.eclipse.org/r/#/c/48143,3,d294f6cae6e6265497fb4ee4191bb38fec7fe32a,385f544df587262d73c48bab20ed981fbbfeb741,0,19/05/15,22/05/15,1,FS: Document readpipe()'s encoding parameter,"FS: Document readpipe()'s encoding parameter

Change-Id: I36f0edf0f9d0bfa26448e25355c6d78dea524079
Signed-off-by: Sebastian Schuberth <sschuberth@gmail.com>",0,0,1,1,0,0,1,NA,NA
48144,I4db7763826e4ada92074317d4d1c9a32299f3af8,https://git.eclipse.org/r/#/c/48144,5,5b8fe391ebccf61cf97dd8f9a8b0f62f33ef22d4,88c390d6af3e3dfd59711956fa54e234304f7029,0,19/05/15,22/05/15,27,FS: Extend readPipe() to optionally take additional environment variables,"FS: Extend readPipe() to optionally take additional environment variables

Change-Id: I4db7763826e4ada92074317d4d1c9a32299f3af8
Signed-off-by: Sebastian Schuberth <sschuberth@gmail.com>",0,1,1,1,0,0,1,NA,NA
48145,I969e26a5ab5f8ca3ab29024f405c1e34afdba493,https://git.eclipse.org/r/#/c/48145,6,17f6b70fe2f8125f0c91cd510a9d94945e3c5589,8cdb734287816e5adac535416203ad0b3652073c,0,19/05/15,22/05/15,27,FS: Add discoverGitSystemConfig() to discover the system-wide config file,"FS: Add discoverGitSystemConfig() to discover the system-wide config file

Change-Id: I969e26a5ab5f8ca3ab29024f405c1e34afdba493
Signed-off-by: Sebastian Schuberth <sschuberth@gmail.com>",0,1,1,1,0,0,1,NA,NA
48146,Id768294e83f374f50ae5e6486f4e757515c8262d,https://git.eclipse.org/r/#/c/48146,6,368ecff6fb2360885f266286b1f1f2afd5d93cdc,9b0d9421a6b0b2fd58a021023a073fb2cb28d7c8,1,19/05/15,22/05/15,8,SystemReader: Use discoverGitSystemConfig() in openSystemConfig(),"SystemReader: Use discoverGitSystemConfig() in openSystemConfig()

Bug: 410568
Change-Id: Id768294e83f374f50ae5e6486f4e757515c8262d
Signed-off-by: Sebastian Schuberth <sschuberth@gmail.com>",0,1,1,0,0,0,1,0,0
48147,Iaa88df9bd066dc1ed4067c18618af809e49876b3,https://git.eclipse.org/r/#/c/48147,6,576a4f79bdd18adde7eda3bcc8bc3ee16540444e,1ecb1503cac3d74107ab5d929d8e7c1514428a36,0,19/05/15,22/05/15,41,FS: Remove the gitprefix logic,"FS: Remove the gitprefix logic

The only purpose of the gitprefix logic was to determine the path to the
system-wide config file. This is now done by discoverGitSystemConfig()
independent of the gitprefix, so get rid of this unused code.

Change-Id: Iaa88df9bd066dc1ed4067c18618af809e49876b3
Signed-off-by: Sebastian Schuberth <sschuberth@gmail.com>",0,1,1,0,0,0,1,NA,NA
48175,Ica3d4f0675c81684fbe48fcf0053f2a949bc5c9b,https://git.eclipse.org/r/#/c/48175,1,9530fe73011381f13c7e5c8bf8bd8a33e3418404,3de6aa449b44f4f6a68c6fc5f621fa5c9b054d51,0,19/05/15,19/05/15,0,Merge branch 'master' into stable-4.0,"Merge branch 'master' into stable-4.0

* master:
  Fix warnings in ObjectFilter
  Fix typo in reflog message written by RebaseCommand.tryFastForward()
  Correct @since tags for ObjectFilter
  Fix typo in ObjectWalk#getObjectFilter javadoc
  Allow ObjectWalk to be filtered by an arbitrary predicate
  Remove SoftReference from dfs.DeltaBaseCache
  Fix memory leak in dfs.DeltaBaseCase
  Update to Jetty 9.2.10
  Update javax.servlet to 3.1
  Use ANY_DIFF filter in ResolveMerger only for bare repositories
  FS_POSIX: Rework umask detection to make it settable
  Expose disposeBody() on RevCommit and RevTag
  ObjectReader: remove the walkAdvice API
  RevWalk: Discard uninteresting commits unless RevSort.BOUNDARY
  ObjectWalk: make setRetainBody(false) the default
  Do not concatenate strings as arguments to StringBuilder.append()
  IndexDiffFilter: Simplify a boolean expression
  GroupHead: Remove a redundant call to String.format()
  FS_Win32: Avoid an IOException on Windows if bash is not in PATH
  Skip logging stack trace on corrupt objects
  Add repository name to failures in HTTP server log
  Fix possible AIOOB in DirCacheTree.contains()
  Delete deprecated PackWriter.preparePack() methods
  Delete deprecated class IgnoreRule
  Delete deprecated checkoutEntry() methods in DirCacheCheckout
  Fix IllegalArgumentException in AmazonS3

Change-Id: Ica3d4f0675c81684fbe48fcf0053f2a949bc5c9b
Signed-off-by: Matthias Sohn <matthias.sohn@sap.com>",1,0,0,0,0,0,1,NA,NA
48176,Ib3371a082cbfaafd67471c56807b6d89f1161c8b,https://git.eclipse.org/r/#/c/48176,1,3de6aa449b44f4f6a68c6fc5f621fa5c9b054d51,190b8b40a5f3e910449ad3a9e04e673bca79848e,0,19/05/15,19/05/15,98,JGit v4.0.0.201505191015-rc1,"JGit v4.0.0.201505191015-rc1

Change-Id: Ib3371a082cbfaafd67471c56807b6d89f1161c8b
Signed-off-by: Matthias Sohn <matthias.sohn@sap.com>",1,0,0,1,0,0,1,NA,NA
48220,I5c18bb97336e5b94fae46743cbbb0f02a6e4b477,https://git.eclipse.org/r/#/c/48220,1,190b8b40a5f3e910449ad3a9e04e673bca79848e,b6c209102faceb4583bd1e81bf50d4561a9696e4,0,19/05/15,19/05/15,98,Prepare post 4.0.0-rc1 builds,"Prepare post 4.0.0-rc1 builds

Change-Id: I5c18bb97336e5b94fae46743cbbb0f02a6e4b477
Signed-off-by: Matthias Sohn <matthias.sohn@sap.com>",1,0,0,1,0,0,1,NA,NA
48239,I9731a591368e2e7ed642e36bd1ffee312b9568c7,https://git.eclipse.org/r/#/c/48239,1,e578747691af212701396da767bb199825d89c78,e578747691af212701396da767bb199825d89c78,0,20/05/15,20/05/15,0,Merge branch 'stable-4.0',"Merge branch 'stable-4.0'

* stable-4.0:
  Prepare post 4.0.0-rc1 builds
  JGit v4.0.0.201505191015-rc1

Change-Id: I9731a591368e2e7ed642e36bd1ffee312b9568c7
Signed-off-by: Matthias Sohn <matthias.sohn@sap.com>",1,0,0,0,0,0,1,NA,NA
48241,I1df7e38d16765446b441366500b017a90b8ff958,https://git.eclipse.org/r/#/c/48241,2,e578747691af212701396da767bb199825d89c78,a65e8e9666b4c85830643c0dd4d07e64e963e61e,1,20/05/15,20/05/15,57,ReceivePack: support quiet capability,"ReceivePack: support quiet capability

git-core has supported this for a long time; allowing clients to
avoid progress messages from the server if they are dumping to a
pipe instead of a tty.

Avoid the two progress monitors going on side-band and expose
isQuiet() method to allow hooks to also reduce their output if
this is sensible for them.

Change-Id: I1df7e38d16765446b441366500b017a90b8ff958",0,0,0,0,0,0,0,0,0
48288,I2eb1f98370936b5be541d96d70c3973cbfc39238,https://git.eclipse.org/r/#/c/48288,3,2d908a0d13753c27d0c3bd48f8b96ab9f8469c67,f6b65ebbaba6306ea6d8d9620772425a4a9122fe,1,20/05/15,26/05/15,18,Don't invalidate pack file on InterruptedIOException,"Don't invalidate pack file on InterruptedIOException

If the thread reading a pack file is interrupted don't invalidate that
pack file.

This could happen when Gerrit invoked JGit for computing a diff in one
thread and waited for the call to finish from another thread, with a
timeout. When the timeout was reached the ""diff"" thread was interrupted.
If it happened to be in an IO operation, reading a pack file, an
InterruptedIOException was thrown and the pack file was marked as
invalid and removed from the pack list.

Invalidating the pack in that case could cause the project disappearing in
Gerrit as discussed in [1] and [2].

[1] https://groups.google.com/forum/#!topic/repo-discuss/CYYoHfDxCfA
[2] https://groups.google.com/forum/#!topic/repo-discuss/ZeGWPyyJlrM

Change-Id: I2eb1f98370936b5be541d96d70c3973cbfc39238
Signed-off-by: Matthias Sohn <matthias.sohn@sap.com>
Signed-off-by: Sasa Zivkov <sasa.zivkov@sap.com>",0,0,1,0,0,0,1,2,1
48326,I2c67384309c5c2e8511a7d0d4e088b4e95f819ff,https://git.eclipse.org/r/#/c/48326,4,d30d93a945c08934012ccefdda0a6799280d0470,dbf7d8eecea1deddf99cf14f98145592fa4f7cd3,1,20/05/15,21/05/15,997,Delete deprecated release() methods replaced by close(),"Delete deprecated release() methods replaced by close()

See the discussion [1] in the Gerrit mailing list.

[1] https://groups.google.com/forum/#!topic/repo-discuss/RRQT_xCqz4o

Change-Id: I2c67384309c5c2e8511a7d0d4e088b4e95f819ff
Signed-off-by: Matthias Sohn <matthias.sohn@sap.com>",0,1,0,0,1,0,1,-1,0
48413,I2b268e6a5dbf12174201f45259f9f007686708d2,https://git.eclipse.org/r/#/c/48413,1,dbf7d8eecea1deddf99cf14f98145592fa4f7cd3,34a82a7a6cec2c598e3eccd54a8aa187d2bd97e0,1,21/05/15,28/05/15,9,Expose Sets helper to tests outside org.eclipse.jgit.api,"Expose Sets helper to tests outside org.eclipse.jgit.api

A later patch will make use of this class in a org.eclipse.jgit.lib
test.

Change-Id: I2b268e6a5dbf12174201f45259f9f007686708d2
Signed-off-by: Jonathan Nieder <jrn@google.com>",0,0,1,0,0,0,1,0,0
48416,I5001bd2fe77541109fe32dbe2597a065e6ad585e,https://git.eclipse.org/r/#/c/48416,2,40938dabaa2790470e642b284d9ddec20e02d164,e543e36f456ffa1556c51eaf1392f053b548efee,1,21/05/15,22/05/15,1083,Refactor to expose ManifestParser.,"Refactor to expose ManifestParser.

The repo xml manifest parser used in RepoCommand could also be useful for
others, so refactor to make it public.

Change-Id: I5001bd2fe77541109fe32dbe2597a065e6ad585e
Signed-off-by: Yuxuan 'fishy' Wang <fishywang@google.com>",0,0,0,0,1,0,1,0,0
48477,Icd965bffbe2f11b18c9505ee2ddd2afad5b64d70,https://git.eclipse.org/r/#/c/48477,3,b099185d9caa505a1ba57434a5d722e92f52ac53,3cf8517c1920183f561943b1d74d7265382744bd,1,22/05/15,25/05/15,30,FS: Allow to manually set the path to the Git system config file,"FS: Allow to manually set the path to the Git system config file

Now that d7a4473 removed the gitprefix property, we did not have a way to
specify the path to the Git system config file in case
discoverGitSystemConfig() fails. Fix that by introducing a member variable
that caches the result of discoverGitSystemConfig() as well as a setter
method to overwrite the content of that variable.

Change-Id: Icd965bffbe2f11b18c9505ee2ddd2afad5b64d70
Signed-off-by: Sebastian Schuberth <sschuberth@gmail.com>",0,0,1,0,0,0,1,0,0
48521,Idd83d87803e86b25f106dfd725214b5a3ec5171c,https://git.eclipse.org/r/#/c/48521,3,885014ba4791d90c8d9bfd7029ea2f5d6d2e76c7,de2093cd04d7279d0bb7f2df9f9d5d90c1038b14,1,24/05/15,25/05/15,17,Guard agains null ReflogReader if named ref does not exist,"Guard agains null ReflogReader if named ref does not exist

Follow up on egit bug 466973.

Change-Id: Idd83d87803e86b25f106dfd725214b5a3ec5171c
Signed-off-by: Andrey Loskutov <loskutov@gmx.de>",0,0,0,0,0,1,1,0,0
48522,I4185f451d97039d155391f62815bb9d3afe39fa6,https://git.eclipse.org/r/#/c/48522,3,7bcbd2167ecbd4a8fafbef9391c4cfd911825b1a,84b45556967b83290ca0456ea59ef6bdb410e5e7,1,24/05/15,24/05/15,25,Fix API error after IncludedFileReader move to ManifestParser,"Fix API error after IncludedFileReader move to ManifestParser

Change-Id: I4185f451d97039d155391f62815bb9d3afe39fa6
Signed-off-by: Andrey Loskutov <loskutov@gmx.de>",0,0,0,1,0,1,1,0,0
48555,I74ded6c2c3f5985568cd77bd8799b45017fb1d09,https://git.eclipse.org/r/#/c/48555,4,57e6926fb2362228e840297ee65268d8fea2d42a,9548dd744cb6b7266e384b84dc3ac9e50b2197eb,1,25/05/15,26/05/15,141,Add getters to RepoProject.,"Add getters to RepoProject.

Change-Id: I74ded6c2c3f5985568cd77bd8799b45017fb1d09
Signed-off-by: Yuxuan 'fishy' Wang <fishywang@google.com>",0,1,0,1,0,0,1,0,0
48556,I31e788ee20ac3e8439559d9060d39e9792f6dc7d,https://git.eclipse.org/r/#/c/48556,2,d71b1ff15f695834eafdd2f86eaecc108f8fdea5,bb98d9c6895613375f2c2306a8fa3affa1e986cf,0,25/05/15,25/05/15,6,FS: Improve docs to some recently introduced methods,"FS: Improve docs to some recently introduced methods

Change-Id: I31e788ee20ac3e8439559d9060d39e9792f6dc7d
Signed-off-by: Sebastian Schuberth <sschuberth@gmail.com>",0,0,0,1,0,0,1,NA,NA
48557,I5b1a5f3732aa97f83a4d39b42ba0f1e8eff9dec4,https://git.eclipse.org/r/#/c/48557,2,ed94df8f123c1a2b4f022054e88cecd0c1e15a56,968cb1fb996fb726fefd0e617c134dbac3ea6e3c,0,25/05/15,25/05/15,2,FS: Fix a minor typo in runInShell() docs,"FS: Fix a minor typo in runInShell() docs

Change-Id: I5b1a5f3732aa97f83a4d39b42ba0f1e8eff9dec4
Signed-off-by: Sebastian Schuberth <sschuberth@gmail.com>",0,0,0,1,0,0,1,NA,NA
48568,Ic2fb30cf851542e12508e4cf638b52b65519f41d,https://git.eclipse.org/r/#/c/48568,1,96158596055b365ae735845e0266bc661fb232aa,6c79813f9a47bd879249b5672d32970df87b55cb,0,25/05/15,25/05/15,4,Update build to use eclipse-jarsigner-plugin 1.1.2,"Update build to use eclipse-jarsigner-plugin 1.1.2

Change-Id: Ic2fb30cf851542e12508e4cf638b52b65519f41d
Signed-off-by: Matthias Sohn <matthias.sohn@sap.com>",1,0,0,1,0,0,1,NA,NA
48571,Idda321d5026329ec194d53ad635973465bcccd49,https://git.eclipse.org/r/#/c/48571,1,6c79813f9a47bd879249b5672d32970df87b55cb,cb0775fea07617b8a6e610c9d6ee3d29c22254f2,0,25/05/15,25/05/15,24,Update Mars target platforms to use Mars RC2 orbit,"Update Mars target platforms to use Mars RC2 orbit

Change-Id: Idda321d5026329ec194d53ad635973465bcccd49
Signed-off-by: Matthias Sohn <matthias.sohn@sap.com>",1,0,0,1,0,0,1,NA,NA
48574,I3f72670da643be3bb8e261c5af5e9664bcd0401b,https://git.eclipse.org/r/#/c/48574,3,4bba1944b172d4b479bc5229d802edae32eb7013,3d0a4cdea3532bae26cd6f17003f62b3a4d6bd87,1,25/05/15,26/05/15,52,Enable public access to SimilarityIndex scoring function,"Enable public access to SimilarityIndex scoring function

The SimilarityIndex class implements the useful capability of scoring
the similarity between two files. That capability is required for a
feature that's being developed in another package, to detect files
derived from a set of potential sources.

This CL adds a public factory method to create a SimilarityIndex from
an ObjectLoader. It grants public access to the SimilarityIndex class,
the score method, an inner exception class and a special marker
instance of that exception class.

Change-Id: I3f72670da643be3bb8e261c5af5e9664bcd0401b
Signed-off-by: David Pletcher <dpletcher@google.com>",0,0,0,0,0,0,0,0,0
48611,I0cd9f7ad57f26f0a0cbf412845d00ba1efbea346,https://git.eclipse.org/r/#/c/48611,1,8cfceaaa2fc5053d6a63322dca9bb7ee660be26b,cca57210321942f914ca4528a759d8ab5eb37f36,0,26/05/15,26/05/15,0,Merge branch 'master' into stable-4.0,"Merge branch 'master' into stable-4.0

* master:
  Silence non-externalized string warnings in org.eclipse.jgit
  Externalize translatable texts in org.eclipse.jgit
  Don't invalidate pack file on InterruptedIOException
  Update Mars target platforms to use Mars RC2 orbit
  Update build to use eclipse-jarsigner-plugin 1.1.2
  Guard agains null ReflogReader if named ref does not exist
  FS: Allow to manually set the path to the Git system config file
  FS: Fix a minor typo in runInShell() docs
  FS: Improve javadoc of some recently introduced methods
  Cleanup code and Eclipse compile errors in new gitrepo API
  Refactor to expose ManifestParser.
  FS: Remove the gitprefix logic
  SystemReader: Use discoverGitSystemConfig() in openSystemConfig()
  FS: Add a method to discover the system-wide config file
  FS: Extend readPipe() to optionally take additional environment
  FS: Document readpipe()'s encoding parameter
  Split discoverGitPrefix() code out into discoverGitExe()
  Equalize discoverGitPrefix() implementations between POSIX and Win32
  Move resolveGrandparentFile() to the base class for wider use
  Replace deprecated release() methods by close()
  Use AutoClosable to close resources in bundle org.eclipse.jgit
  ReceivePack: support quiet capability
  Fix ObjectReader resources leak

Change-Id: I0cd9f7ad57f26f0a0cbf412845d00ba1efbea346
Signed-off-by: Matthias Sohn <matthias.sohn@sap.com>",1,0,0,0,0,0,1,NA,NA
48612,I496743145da865f9631b46a432c65c1e63ccb501,https://git.eclipse.org/r/#/c/48612,1,cca57210321942f914ca4528a759d8ab5eb37f36,2d8539fb6e83095c27189a044dbcf4dbc23ac6db,0,26/05/15,26/05/15,98,JGit v4.0.0.201505260635-rc2,"JGit v4.0.0.201505260635-rc2

Change-Id: I496743145da865f9631b46a432c65c1e63ccb501
Signed-off-by: Matthias Sohn <matthias.sohn@sap.com>",1,0,0,1,0,0,1,NA,NA
48636,I3ba1bb0d7f220f88eb768a3137493f737aadf466,https://git.eclipse.org/r/#/c/48636,1,2d8539fb6e83095c27189a044dbcf4dbc23ac6db,54ac2a623d4424cb080c002fc80aba1f59545c51,0,26/05/15,26/05/15,98,Prepare post 4.0.0-rc2 builds,"Prepare post 4.0.0-rc2 builds

Change-Id: I3ba1bb0d7f220f88eb768a3137493f737aadf466
Signed-off-by: Matthias Sohn <matthias.sohn@sap.com>",1,0,0,1,0,0,1,NA,NA
48653,I1a67726b037be5311d85d90d815110b422182d33,https://git.eclipse.org/r/#/c/48653,1,54ac2a623d4424cb080c002fc80aba1f59545c51,54ac2a623d4424cb080c002fc80aba1f59545c51,0,26/05/15,26/05/15,0,Merge branch 'stable-4.0',"Merge branch 'stable-4.0'

* stable-4.0:
  Prepare post 4.0.0-rc2 builds
  JGit v4.0.0.201505260635-rc2

Change-Id: I1a67726b037be5311d85d90d815110b422182d33
Signed-off-by: Matthias Sohn <matthias.sohn@sap.com>",1,0,0,0,0,0,1,NA,NA
48692,Ie0135a0a0aeba2dfb6df78839d545006629f16cb,https://git.eclipse.org/r/#/c/48692,3,5d1d2f804f138b5bfbc077a9d8b4e72f754760b5,18ce49f29bbdb6223e8886d02718bf59b2dc889c,1,26/05/15,26/05/15,35,Add bitmap index misses to PackWriter.Statistics,"Add bitmap index misses to PackWriter.Statistics

RevWalks to find commits that are not in bitmap indices are expensive.
Track the count of commits that are enumerated via RevWalks as ""bitmap
index misses"" in the PackWriter.Statistics class.

Change-Id: Ie0135a0a0aeba2dfb6df78839d545006629f16cb
Signed-off-by: Terry Parker <tparker@google.com>",0,0,0,0,0,0,0,0,0
48808,Ibf16d15b47a85b6f41844a177e398c2fc94f27b0,https://git.eclipse.org/r/#/c/48808,2,bbc8a0af3485143ce07281262ed3b6ed53d8ae94,5ed4271a101002df163565a2b46fb390f5f90221,1,27/05/15,27/05/15,92,FS: Extract GobblerThread into a private static class,"FS: Extract GobblerThread into a private static class

The primary goal is to improve exception readability. Since this is a
standalone thread, just logging the stack trace of the caught
exception is not very useful:

java.io.IOException: Stream closed
	at java.io.BufferedInputStream.getBufIfOpen(BufferedInputStream.java:162)
	at java.io.BufferedInputStream.read(BufferedInputStream.java:258)
	at org.eclipse.jgit.util.FS$2.run(FS.java:451)

Providing a named class eliminates the ""FS$2"", and including the
command name provides a little more context in the error message.
A future improvement might include the stack trace that created the
GobblerThread as well.

Change-Id: Ibf16d15b47a85b6f41844a177e398c2fc94f27b0",0,0,0,0,0,1,1,0,0
48901,I0185bdaa60ecee4a541eab5d8ff6c9c4dbe40bf1,https://git.eclipse.org/r/#/c/48901,1,63db2644895a2eb4c4bc437bdd3912393dae14ec,9ca0230d9bbb718b74322e9a7ac851905cf6552a,1,28/05/15,28/05/15,13,Close 'out' consistently in ArchiveCommand.call,"Close 'out' consistently in ArchiveCommand.call

Whether the output stream specified with setOutputStream() is closed by
ArchiveCommand.call() is murky and inconsistent:

- on success, it is closed
- if an exception is encountered when writing the archive, it is closed
- if an exception is encountered when calling createArchiveStream to
  open the archive, we forget to close it

Close the output stream consistently to avoid leaks.

Now that the inner try-with-resources doesn't have its own finally
block, this allows us to merge the two try blocks.

It would be even better to never close the output stream.  That will
involve more API changes to avoid silently breaking callers, so it is
deferred to a later change.

Change-Id: I0185bdaa60ecee4a541eab5d8ff6c9c4dbe40bf1
Signed-off-by: Jonathan Nieder <jrn@google.com>",0,0,0,0,0,0,0,0,0
48902,I7a181432eda7e18bd32cf110d89c0efbe490c4f1,https://git.eclipse.org/r/#/c/48902,1,9ca0230d9bbb718b74322e9a7ac851905cf6552a,a1298d7bf39d8b3b1bd137c8ae3f3bef1a58c0d2,1,28/05/15,28/05/15,160,archive: Drop unnecessary empty comments and 'final' qualifiers on locals,"archive: Drop unnecessary empty comments and 'final' qualifiers on locals

Early JGit code used comments to inform the Eclipse formatter about
where to break lines and used final in the hope of making code faster.
The ArchiveCommand command implementation imitated that style.

Nowadays the project relies less on the Eclipse formatter and relies
more on Java having sane performance with local variables that are not
explicitly marked 'final'.  Removing the unnecessary empty comments and
'final' qualifiers makes this code more readable and more consistent
with recent JGit code.

Change-Id: I7a181432eda7e18bd32cf110d89c0efbe490c4f1
Signed-off-by: Jonathan Nieder <jrn@google.com>",0,0,0,0,0,0,0,0,0
48904,I50d0d1d19a26e306fd0dba77b246a95a44fd6584,https://git.eclipse.org/r/#/c/48904,1,c7fc846310f57dfddb23180cf2aea1926fb78e11,863d7f550596f5d91855485bc95bec8efdd01325,1,28/05/15,28/05/15,15,Fix WindowCursor memory leak.,"Fix WindowCursor memory leak.

ObjectReader release method was replaced by close method but
WindowCursor was still implementing release method.

To prevent the same mistake again, make ObjectReader close method
abstract to force sub classes to implement it.

Change-Id: I50d0d1d19a26e306fd0dba77b246a95a44fd6584
Signed-off-by: Hugo Ars <hugo.ares@ericsson.com>",0,0,0,0,0,0,0,0,0
48908,I187403ed432f7d6b1e84223918bd72d895e6bdfe,https://git.eclipse.org/r/#/c/48908,1,75fc98cca9568fd97a18ada152ea87682b6d92a3,21ebe6f8e5291ab84bc6b9bc5e01fed17bff5884,1,28/05/15,28/05/15,5,Close WindowCursor using try-with-resources in UnpackedObject,"Close WindowCursor using try-with-resources in UnpackedObject

Change-Id: I187403ed432f7d6b1e84223918bd72d895e6bdfe
Signed-off-by: Hugo Ars <hugo.ares@ericsson.com>",0,0,0,1,0,0,1,0,0
48924,I661b987513365a8af0b568ec95b0898e5758f59f,https://git.eclipse.org/r/#/c/48924,2,a3d8735dd55aabc5db8cffcd12ea2d5ea4001928,934b0bb1d0cbef5cd7169be78124ef9bc78d84ec,0,29/05/15,29/05/15,1,"Add ""src"" folder to source folders of org.eclipse.jgit.test","Add ""src"" folder to source folders of org.eclipse.jgit.test

Otherwise MergeCommandTest using Sets doesn't compile in Eclipse

Change-Id: I661b987513365a8af0b568ec95b0898e5758f59f
Signed-off-by: Matthias Sohn <matthias.sohn@sap.com>",1,0,0,0,0,0,1,NA,NA
49088,Id819fd700ed44cdc3cdbe33a4bb9ee52a6fbbd41,https://git.eclipse.org/r/#/c/49088,1,ffc761d2ec266367be6d6970b9efec21f88d05ee,939f2eb75d519990d69c7eca13c5daa6992abd33,0,01/06/15,01/06/15,2,Compare API changes in clirr report against 3.7.0,"Compare API changes in clirr report against 3.7.0

Change-Id: Id819fd700ed44cdc3cdbe33a4bb9ee52a6fbbd41
Signed-off-by: Matthias Sohn <matthias.sohn@sap.com>",1,0,0,1,0,0,1,NA,NA
49089,Ie8ff09e6b054e5fae0786557b8fe831eb9e82dd2,https://git.eclipse.org/r/#/c/49089,1,939f2eb75d519990d69c7eca13c5daa6992abd33,c1a055b63ea1e4acac223a452061173044f6749b,0,01/06/15,01/06/15,10,Update 4.5 target platform to use final Mars Orbit repository,"Update 4.5 target platform to use final Mars Orbit repository

Change-Id: Ie8ff09e6b054e5fae0786557b8fe831eb9e82dd2
Signed-off-by: Matthias Sohn <matthias.sohn@sap.com>",1,0,0,1,0,0,1,NA,NA
49090,Ie536182d1efc6dcc3abd03f8a9acd013adcbf2a8,https://git.eclipse.org/r/#/c/49090,1,c1a055b63ea1e4acac223a452061173044f6749b,d7a45eac8c48cfc00f01a7ac430818e59a7c92a8,0,01/06/15,01/06/15,8,Update dependencies to the versions used in target platform,"Update dependencies to the versions used in target platform

- update com.jcraft.jsch to 0.1.51
- update javax.servlet to 3.1.0

Change-Id: Ie536182d1efc6dcc3abd03f8a9acd013adcbf2a8
Signed-off-by: Matthias Sohn <matthias.sohn@sap.com>",1,0,0,0,0,0,1,NA,NA
49091,If32bed323ec283b5e83d28ffe8775220f7c4cecd,https://git.eclipse.org/r/#/c/49091,1,d7a45eac8c48cfc00f01a7ac430818e59a7c92a8,7b782be23f01940e75fecb28917e14cf17f83a12,0,01/06/15,01/06/15,25,Update project meta-data in pom.xml used for site generation,"Update project meta-data in pom.xml used for site generation

- Update list of committers
- Update scm information
- Expose jgit hudson for Maven site
- Name our project's organization
- Scm URL should point to a web-enabled view on the repository
- Extract tycho-extras version used during signing to a property

Change-Id: If32bed323ec283b5e83d28ffe8775220f7c4cecd
Signed-off-by: Matthias Sohn <matthias.sohn@sap.com>",1,0,0,0,0,0,1,NA,NA
49092,Ibb6a2e13e128d7728b3c632cc16bf79716dc75f5,https://git.eclipse.org/r/#/c/49092,3,7b782be23f01940e75fecb28917e14cf17f83a12,7b387978cc2d64bbfee997c32b04de6ddd6a22a2,0,01/06/15,01/06/15,42,Add more reports to maven site,"Add more reports to maven site

Add the following additional reports:
- cross-reference report
- API changes report using clirr
- findbugs report
- surefire-report

Change-Id: Ibb6a2e13e128d7728b3c632cc16bf79716dc75f5
Signed-off-by: Matthias Sohn <matthias.sohn@sap.com>",0,0,0,0,0,0,0,NA,NA
49146,I34b2bb45f51ed6f52a6bb1215de654ebb2ffde10,https://git.eclipse.org/r/#/c/49146,1,33ff4c3d4956e123a1accad5985a856d4cb619ed,e5e4df72230794f488529ca0e71dcfd37857ae51,0,01/06/15,01/06/15,0,Merge branch 'master' into stable-4.0,"Merge branch 'master' into stable-4.0

* master:
  Add more reports to maven site
  Update project meta-data in pom.xml used for site generation
  Update dependencies to the versions used in target platform
  Update 4.5 target platform to use final Mars Orbit repository
  Compare API changes in clirr report against 3.7.0
  Fix CommitCommand.setOnly()
  Add ""src"" folder to source folders of org.eclipse.jgit.test
  Improve exception thrown when pull can't find advertised ref
  Silence unchecked conversion warning in TransportSftp
  Silence deprecation warning in WindowCacheConfig
  Silence deprecation warning in DirCacheCheckout
  Fix unchecked conversion warning in MergeFormatter
  Fix hidden field warnings in bundle org.eclipse.jgit
  Close WindowCursor using try-with-resources in UnpackedObject
  Fix WindowCursor memory leak.
  archive: Drop unnecessary empty comments and 'final' qualifiers on locals
  Close 'out' consistently in ArchiveCommand.call
  Fix that exceptions in ReceivePack cause Invalid Channel 101 exceptions
  Better report too large pack-files from PushCommand
  FS: Extract GobblerThread into a private static class
  Add bitmap index misses to PackWriter.Statistics
  Enable public access to SimilarityIndex scoring function
  Add getters to RepoProject.
  Silence unused object warning in MyersDiff
  Silence resource leak warnings where caller is responsible to close
  Silence false potential null pointer access warnings
  Fix potential null pointer access in IndexDiffFilter
  Add tests for ObjectFilter
  Expose Sets helper to tests outside org.eclipse.jgit.api

Change-Id: I34b2bb45f51ed6f52a6bb1215de654ebb2ffde10
Signed-off-by: Matthias Sohn <matthias.sohn@sap.com>",1,0,0,0,0,0,1,NA,NA
49198,I31c6177d19cba228aa67b2b5c3e0d82c38395cda,https://git.eclipse.org/r/#/c/49198,1,e5e4df72230794f488529ca0e71dcfd37857ae51,f06c01353e693d8047ff2e09ff51575a26a4ff96,0,02/06/15,02/06/15,98,JGit v4.0.0.201506020755-rc3,"JGit v4.0.0.201506020755-rc3

Change-Id: I31c6177d19cba228aa67b2b5c3e0d82c38395cda
Signed-off-by: Matthias Sohn <matthias.sohn@sap.com>",1,0,0,1,0,0,1,NA,NA
49254,I74469f1243503098fb05b5ddec3fa609132debab,https://git.eclipse.org/r/#/c/49254,1,f06c01353e693d8047ff2e09ff51575a26a4ff96,a45de65acecc317a0d4dca9b1ef8e33769a5c26b,0,02/06/15,02/06/15,98,Prepare post 4.0-RC3 builds,"Prepare post 4.0-RC3 builds

Change-Id: I74469f1243503098fb05b5ddec3fa609132debab
Signed-off-by: Matthias Sohn <matthias.sohn@sap.com>",1,0,0,1,0,0,1,NA,NA
49267,I3387e5d90a24645cba736a2d0739fb95cd557049,https://git.eclipse.org/r/#/c/49267,1,a45de65acecc317a0d4dca9b1ef8e33769a5c26b,a45de65acecc317a0d4dca9b1ef8e33769a5c26b,0,02/06/15,02/06/15,0,Merge branch 'stable-4.0',"Merge branch 'stable-4.0'

* stable-4.0:
  Prepare post 4.0-RC3 builds
  JGit v4.0.0.201506020755-rc3

Change-Id: I3387e5d90a24645cba736a2d0739fb95cd557049
Signed-off-by: Matthias Sohn <matthias.sohn@sap.com>",0,0,0,0,0,0,0,NA,NA
49268,I03d08b8e2d3400d4b5cdb4ab541b312870776843,https://git.eclipse.org/r/#/c/49268,2,a45de65acecc317a0d4dca9b1ef8e33769a5c26b,14f91f7d86c8493689636f0a9e6949ec99794b48,0,02/06/15,02/06/15,498,Prepare 4.1.0-SNAPSHOT builds,"Prepare 4.1.0-SNAPSHOT builds

Change-Id: I03d08b8e2d3400d4b5cdb4ab541b312870776843
Signed-off-by: Matthias Sohn <matthias.sohn@sap.com>",0,0,0,1,0,0,1,NA,NA
49277,I2c6be9cb74af932f0dcb121a381a64f2ad876766,https://git.eclipse.org/r/#/c/49277,1,14f91f7d86c8493689636f0a9e6949ec99794b48,24736806f25e5456b2ecbc97f16ee1a98f53267d,1,02/06/15,10/06/15,15,Clarify description of ServiceNotAuthorizedException,"Clarify description of ServiceNotAuthorizedException

This exception's detail message states

	Service not permitted

and according to the Javadoc it indicates that the current user does not
have access to the service.  In practice, though, callers handle this
exception by presenting a '401 Unauthorized' response to the client,
meaning that the user is unauthenticated and should authenticate.

Clarify the documentation and detail message to match the practice.

The exception message is not used anywhere except logs.  No
client-visible effect intended.

Change-Id: I2c6be9cb74af932f0dcb121a381a64f2ad876766
Signed-off-by: Jonathan Nieder <jrn@google.com>",0,0,1,0,0,0,1,0,0
49278,I945ba18879c360f433e026aa125ef3f9f6a75793,https://git.eclipse.org/r/#/c/49278,1,24736806f25e5456b2ecbc97f16ee1a98f53267d,fdc3989678672561de40680fb00508c5c59673f7,1,02/06/15,10/06/15,8,dumb HTTP: Clarify AsIsFilter by introducing req and res locals,"dumb HTTP: Clarify AsIsFilter by introducing req and res locals

No functional change.

Change-Id: I945ba18879c360f433e026aa125ef3f9f6a75793
Signed-off-by: Jonathan Nieder <jrn@google.com>",0,0,1,0,0,0,1,0,0
49279,Id1fe1c2042fb96487c3671c1965c8a65c4b8e1b8,https://git.eclipse.org/r/#/c/49279,1,fdc3989678672561de40680fb00508c5c59673f7,a80493caf80f4a338d198d6fcf5495bc9a2003a6,1,02/06/15,10/06/15,26,"Use message from ServiceNotAuthorizedException, ServiceNotEnabledException","Use message from ServiceNotAuthorizedException, ServiceNotEnabledException

When sending an error response due to ServiceNotAuthorizedException or
ServiceNotEnabledException, usually we send a default message.  In the
ServiceNotEnabledException case, we use

	403 Git access forbidden

except in a dumb-HTTP-specific filter where we use the servlet
container's default 403 response:

	403 Forbidden

In the ServiceNotAuthorizedException case, we use the servlet
container's default 401 response:

	401 Unauthorized

There is one exception: a ServiceNotEnabledException when handling a
smart HTTP /info/refs request uses the message from the exception:

	403 Service not enabled

Be more consistent by always using the message from the exception.  This
way, authors of a RepositoryResolver, UploadPackFactory, or
ReceivePackFactory can provide a more detailed message when appropriate.
The defaults are

	401 Unauthorized
	403 Service not enabled

Change-Id: Id1fe1c2042fb96487c3671c1965c8a65c4b8e1b8
Signed-off-by: Jonathan Nieder <jrn@google.com>",0,0,1,0,0,0,1,0,0
49280,I38e1798e1e9d09b5e75cefacd9d85f25729235a9,https://git.eclipse.org/r/#/c/49280,1,a80493caf80f4a338d198d6fcf5495bc9a2003a6,46c4839470fc844a52e530b54e212f52df5742f8,1,02/06/15,10/06/15,96,Allow setting detail message and cause when constructing most exceptions,"Allow setting detail message and cause when constructing most exceptions

In particular, this means a RepositoryResolver, UploadPackFactory, or
ReceivePackFactory can set a detail message for
ServiceNotAuthorizedException or ServiceNotEnabledException with
information for the client about why access is not allowed.

Change-Id: I38e1798e1e9d09b5e75cefacd9d85f25729235a9
Signed-off-by: Jonathan Nieder <jrn@google.com>",0,0,1,0,0,0,1,0,0
49289,I78d4600b462c19f62b347217a0b2c19eaaf3a14b,https://git.eclipse.org/r/#/c/49289,2,2ebf805553cd2372d38417998640e3439d46b1ab,19e750ea1cd1f7915e4059437be87a920635f73e,1,03/06/15,03/06/15,2,Update PackWriter.Statistics.getBitmapIndexMises(),"Update PackWriter.Statistics.getBitmapIndexMises()

Return -1 from PackWriter.Statistics.getBitmapIndexMises() when no
bitmap indices were found, to differenciate it from the case where
the bitmap indices contained all of the want/have commits.

Change-Id: I78d4600b462c19f62b347217a0b2c19eaaf3a14b
Signed-off-by: Terry Parker <tparker@google.com>",0,0,0,0,0,0,0,0,0
49333,I3b39a2c0d547110709b4c28b66c4694cdef943e8,https://git.eclipse.org/r/#/c/49333,1,8cd4a913423fd298749b0b3dcc77eabe8e2595c7,0ca1d4ef9ae63fe7bcbb0827c521069e538d5a63,1,03/06/15,03/06/15,33,Delete deprecated Merger.getBaseCommit(),"Delete deprecated Merger.getBaseCommit()

Change-Id: I3b39a2c0d547110709b4c28b66c4694cdef943e8
Signed-off-by: Matthias Sohn <matthias.sohn@sap.com>",0,0,0,1,0,0,1,0,0
49334,I184c2f0e0203fa95e0a117391bae93da0d23a435,https://git.eclipse.org/r/#/c/49334,1,0ca1d4ef9ae63fe7bcbb0827c521069e538d5a63,01b7b5d182a38924588fc8e84868bf5782c7759b,1,03/06/15,03/06/15,10,Delete deprecated TextBuiltin.out,"Delete deprecated TextBuiltin.out

Change-Id: I184c2f0e0203fa95e0a117391bae93da0d23a435
Signed-off-by: Matthias Sohn <matthias.sohn@sap.com>",0,0,0,1,0,0,1,0,0
49335,Ib7f36282d69a3298b1ac177ae17af0f80d64964f,https://git.eclipse.org/r/#/c/49335,1,01b7b5d182a38924588fc8e84868bf5782c7759b,d4069572af1d8c33d438a2f1a1247f8956e94299,1,03/06/15,03/06/15,9,Delete deprecated TransferConfig.isFsckObjects(),"Delete deprecated TransferConfig.isFsckObjects()

Change-Id: Ib7f36282d69a3298b1ac177ae17af0f80d64964f
Signed-off-by: Matthias Sohn <matthias.sohn@sap.com>",0,0,0,1,0,0,1,0,0
49336,Id298fc860684d2a2288769282fd8ce4475009dc8,https://git.eclipse.org/r/#/c/49336,1,d4069572af1d8c33d438a2f1a1247f8956e94299,17fb6757681fd84c13d58f6440a5d1ddaf1057bd,0,03/06/15,03/06/15,68,Delete deprecated UploadPackMayNotContinueException,"Delete deprecated UploadPackMayNotContinueException

Change-Id: Id298fc860684d2a2288769282fd8ce4475009dc8
Signed-off-by: Matthias Sohn <matthias.sohn@sap.com>",0,0,0,1,0,0,1,NA,NA
49337,I687c392e5a625fd66c45998c94373aa59921b986,https://git.eclipse.org/r/#/c/49337,1,17fb6757681fd84c13d58f6440a5d1ddaf1057bd,d5178021686ceb382f462bca0b66ed686bb3466f,0,03/06/15,03/06/15,27,"Delete deprecated WorkingTreeIterator.isModified(DirCacheEntry, boolean)","Delete deprecated WorkingTreeIterator.isModified(DirCacheEntry, boolean)

Change-Id: I687c392e5a625fd66c45998c94373aa59921b986
Signed-off-by: Matthias Sohn <matthias.sohn@sap.com>",0,0,0,1,0,0,1,NA,NA
49338,Ifa63e3743fb4de25e074404c301f860a1ffb5e02,https://git.eclipse.org/r/#/c/49338,1,d5178021686ceb382f462bca0b66ed686bb3466f,9ff0f00fa9f27079266ed6b2966571a6d959f7ea,0,03/06/15,03/06/15,14,"Delete deprecated FileUtils.setExecute(File, boolean)","Delete deprecated FileUtils.setExecute(File, boolean)

Change-Id: Ifa63e3743fb4de25e074404c301f860a1ffb5e02
Signed-off-by: Matthias Sohn <matthias.sohn@sap.com>",0,0,0,1,0,0,1,NA,NA
49339,I5fdbf997ebcbe48e86f4c41c6b2643f47054b0c3,https://git.eclipse.org/r/#/c/49339,1,9ff0f00fa9f27079266ed6b2966571a6d959f7ea,279851b403b9292ce1c5366aed67ddaec8c0e0b3,0,03/06/15,03/06/15,23,Delete deprecated TemporaryBuffer.LocalFile constructors,"Delete deprecated TemporaryBuffer.LocalFile constructors

Change-Id: I5fdbf997ebcbe48e86f4c41c6b2643f47054b0c3
Signed-off-by: Matthias Sohn <matthias.sohn@sap.com>",0,0,0,1,0,0,1,NA,NA
49400,I01f0c7cd997b9b3577cc1e98ab1adb5cdc5b55e4,https://git.eclipse.org/r/#/c/49400,1,c5913ee0db8e8234173beb622b0a0a5721bf99e2,64f6326eefb9c9293b9eef13fb0c03335c8bd970,1,03/06/15,03/06/15,2,"Revert ""Fix unchecked conversion warning in MergeFormatter""","Revert ""Fix unchecked conversion warning in MergeFormatter""

This reverts commit 6d4ebd168da236c5753f237e77b2dfcbb4e42065.

Change-Id: I01f0c7cd997b9b3577cc1e98ab1adb5cdc5b55e4",0,0,0,0,0,0,0,0,0
49406,Id23a39cc6a3cd122ff1738cb85b7451bbfd8af5f,https://git.eclipse.org/r/#/c/49406,1,0c2702cd05a7240f4af3c4d0fe3b4e0a9ff7f39d,cd38a781f70bfcea6fb385dc4cd228a9f68ef8da,0,03/06/15,03/06/15,0,Merge branch 'stable-4.0',"Merge branch 'stable-4.0'

* stable-4.0:
  Revert ""Fix unchecked conversion warning in MergeFormatter""
  Delete deprecated TemporaryBuffer.LocalFile constructors
  Delete deprecated FileUtils.setExecute(File, boolean)
  Delete deprecated WorkingTreeIterator.isModified(DirCacheEntry, boolean)
  Delete deprecated UploadPackMayNotContinueException
  Delete deprecated TransferConfig.isFsckObjects()
  Delete deprecated TextBuiltin.out
  Delete deprecated Merger.getBaseCommit()

Change-Id: Id23a39cc6a3cd122ff1738cb85b7451bbfd8af5f
Signed-off-by: Jonathan Nieder <jrn@google.com>",0,0,0,0,0,0,0,NA,NA
49469,If0dbb7470c524259de0b167148db87f81be2d04a,https://git.eclipse.org/r/#/c/49469,1,cd38a781f70bfcea6fb385dc4cd228a9f68ef8da,cff944adaf6ad11bb2f5023bcf7e2410a7dcaefc,1,04/06/15,04/06/15,73,Config: Distinguish between empty and null strings,"Config: Distinguish between empty and null strings

The C git API and command line tools distinguish between a key having
the empty string as a value and no key being present in the config
file:

$ echo -e '[a]\nx =' > foo.config
$ git config -f foo.config a.x; echo $?

0
$ git config -f foo.config a.y; echo $?
1

Make JGit make the same distinction. This is in line with the current
Javadoc of getString, which claims to return ""a String value from the
config, null if not found"". It is more reasonable to interpret ""x =""
in the above example as ""found"" rather than ""missing"".

We need to maintain the special handling of a key name with no ""=""
resolving to a boolean true, but ""="" with an empty string is still not
a valid boolean.

Change-Id: If0dbb7470c524259de0b167148db87f81be2d04a",0,0,0,0,0,1,1,1,1
49470,Icfcf8304adb43c79e2b8b998f8d651b2a94f6acb,https://git.eclipse.org/r/#/c/49470,1,cff944adaf6ad11bb2f5023bcf7e2410a7dcaefc,d1440dc4756184dff2d6127dce66750b40042e7f,1,04/06/15,04/06/15,11,"Config: Allow ending a file with ""="" and no newline","Config: Allow ending a file with ""="" and no newline

This is a perfectly valid construction according to C git:

$ echo -en '[a]\nx =' > foo.config
$ git config -f foo.config a.x; echo $?

0

Change-Id: Icfcf8304adb43c79e2b8b998f8d651b2a94f6acb",0,0,0,0,0,1,1,0,0
49472,I363cd0c9de57c5e8659cdfe2d51b17823f4fe793,https://git.eclipse.org/r/#/c/49472,2,49fb8762332d9ac95594e385004404543ef20882,e0eb5d1c67f842575d541aa526c1888486a4068f,1,04/06/15,04/06/15,61,Restore checkObjectCollisions flag,"Restore checkObjectCollisions flag

I am developing an offline pack verification feature based on
PackParser. The birthday collision check is a prohibitive obstacle
to performance at scale because it interacts with the repository
to perform collision checks. This CL restores the checkObjectCollisions
flag that was removed in 9638e0aa87614a6fb4f109bbeac0cde3462b9769,
while changing the flag getter and setter to protected from public as a
precaution against misuse.

Change-Id: I363cd0c9de57c5e8659cdfe2d51b17823f4fe793
Signed-off-by: David Pletcher <dpletcher@google.com>",0,0,0,0,0,0,0,0,0
49486,I1baeedcc6946b1093652de4a707fe597a577e526,https://git.eclipse.org/r/#/c/49486,6,ae4ea619e8fabe1320ce8660244afe1d0580ac6b,5e641394c3e2ea1b648723064453490bdcce499c,1,04/06/15,09/06/15,192,Expose the PackWriter stats in BundleWriter.,"Expose the PackWriter stats in BundleWriter.

Most stats are only available after writeBundle function finishes. The
count of objects is available during writeBundle function call, and is
most important, so add a callback in PackWriter and a dedicated function
in BundleWriter for it.

Change-Id: I1baeedcc6946b1093652de4a707fe597a577e526
Signed-off-by: Yuxuan 'fishy' Wang <fishywang@google.com>",0,1,1,0,0,0,1,0,0
49548,If1bd09bcfc9919e7976a4d77f13184ea58dcda52,https://git.eclipse.org/r/#/c/49548,4,bb0731b7568319652a55c9d87b160c6ebbf3441f,9bfc50efe737061b624c8297e1d1b09ab0723884,1,05/06/15,05/06/15,101,Introduce getExactRef to get a single ref whose exact name is known,"Introduce getExactRef to get a single ref whose exact name is known

This can be faster then either getRef(name) or getRefs(ALL).get(name) because it
only needs to examine a single ref.

NEEDSWORK: tests

Change-Id: If1bd09bcfc9919e7976a4d77f13184ea58dcda52
Signed-off-by: Jonathan Nieder <jrn@google.com>",0,1,0,0,0,0,1,0,0
49574,I35375d942baeb3ded15520388f8ebb9c0cc86f8c,https://git.eclipse.org/r/#/c/49574,7,10912054e378510cd9f19dfdce0619979b7dca5f,b9fc1385ce3a0f39052d194452c6fb20a6cfbacb,1,05/06/15,25/11/15,441,Introduce exactRef and findRef as replacements for getRef in Repository,"Introduce exactRef and findRef as replacements for getRef in Repository

Deprecate getRef since it's easy to use by mistake instead of exactRef.
Callers should use findRef when they mean that.

NEEDSWORK: tests, update callers

Change-Id: I35375d942baeb3ded15520388f8ebb9c0cc86f8c
Signed-off-by: Jonathan Nieder <jrn@google.com>",0,1,1,0,0,0,1,0,0
49577,I5c6fcf1d3920f6968b8b97f3d4c3a267258c4b86,https://git.eclipse.org/r/#/c/49577,2,8b1ef2405afe546db9e3f8aa1bb31f38f88ea73d,6d3d240539e7bc2b972c6b37a8b67cf043f26511,1,05/06/15,05/06/15,92,Allow lookup of multiple exact refs in one shot,"Allow lookup of multiple exact refs in one shot

exactRef(ref1, ref2, ref3) requests multiple specific refs in a single
lookup, which may be faster in some backends than looking them up one by
one.

firstExactRef generalizes getRef by finding the first existing ref from
the list of refs named.  Its main purpose is for the default
implementation of getRef (finding the first existing ref in a search
path).  Hopefully it can be useful for other operations that look for
refs in a search path (e.g., git log --notes=<name>), too.

Change-Id: I5c6fcf1d3920f6968b8b97f3d4c3a267258c4b86
Signed-off-by: Jonathan Nieder <jrn@google.com>",0,0,0,0,0,0,0,0,0
49642,I70e6711294e2a92efa77fd9dd1c906c449c9b4db,https://git.eclipse.org/r/#/c/49642,1,093678e41ac515a46b40a76c46e53ea2032e95c8,97a599506d4185b2053c9df716c5eb1a093585f1,0,08/06/15,08/06/15,4,Update build to use Tycho 0.23,"Update build to use Tycho 0.23

see https://wiki.eclipse.org/Tycho/Release_Notes/0.23

Change-Id: I70e6711294e2a92efa77fd9dd1c906c449c9b4db
Signed-off-by: Matthias Sohn <matthias.sohn@sap.com>",1,0,0,0,0,0,1,NA,NA
49652,Id39771a6e42d8082099acde11249306828a053c0,https://git.eclipse.org/r/#/c/49652,2,a608468e9fcde1eae5ab67e50079a889460e3e7a,3b10fe12cc69fd326f2688f32dffabd98e72c927,1,08/06/15,10/06/15,40,UploadPack: Use reachable-sha1-in-want configuration,"UploadPack: Use reachable-sha1-in-want configuration

C git 2.5 supports setting the equivalent of
RequestPolicy.REACHABLE_COMMIT with uploadpack.allowreachablesha1inwant.
Parse this into TransportConfig and use it from UploadPack. An explicitly
set RequestPolicy overrides the config, and the policy may still be
upgraded on a unidirectional connection to avoid races.

Change-Id: Id39771a6e42d8082099acde11249306828a053c0
Signed-off-by: Fredrik Medley <fredrik.medley@gmail.com>",0,0,0,0,0,0,0,1,1
49690,I351cee0ba2e77e3360846ac0c5368da3a322725c,https://git.eclipse.org/r/#/c/49690,1,7746a05116e745bff5034118b80a9ce3324bb626,669398aadcc6e4b7a65c9130755d585d6ad7d4f9,0,08/06/15,08/06/15,2,Add missing # to javadoc comment,"Add missing # to javadoc comment

Change-Id: I351cee0ba2e77e3360846ac0c5368da3a322725c
Reported-by: Markus Keller <markus_keller@ch.ibm.com>
Signed-off-by: Jonathan Nieder <jrn@google.com>",0,0,0,1,0,0,1,NA,NA
49729,I01ad84fc74555656c42934cd62a85269a7030557,https://git.eclipse.org/r/#/c/49729,1,66aa7f6e29654417b9578afdaf176c0e2227f404,5977609674c7d067125e415fc5eb867a7c2d79c2,0,09/06/15,09/06/15,98,JGit v4.0.0.201506090130-r,"JGit v4.0.0.201506090130-r

Change-Id: I01ad84fc74555656c42934cd62a85269a7030557
Signed-off-by: Matthias Sohn <matthias.sohn@sap.com>",1,0,0,1,0,0,1,NA,NA
49734,Ie97dc0607b71499560444616f362bccee9cce515,https://git.eclipse.org/r/#/c/49734,2,77bcbc2f7c70fd181f4d2dda29157823cb4f2b78,23ddff889512a2f7857b2fa89935719b13b9b598,1,09/06/15,11/06/15,13,Add new submodule layout to SubmoduleAddCommand,"Add new submodule layout to SubmoduleAddCommand

The new submodule layout where GITDIR of a submodule is located at
<parent-repo-GITDIR>/modules/<submodule-path> was only used during
clone. Teach SubmoduleAddCommand to use the new layout.

Bug: 469666
Change-Id: Ie97dc0607b71499560444616f362bccee9cce515",0,0,0,0,0,1,1,0,0
49787,I51d03d1a47d1e3cd453701e397750749867028a2,https://git.eclipse.org/r/#/c/49787,1,0246c8009f6fab339fad86e00c9ff4c6cd407ff2,bf78eb382e26600db00a567c896705dca1ded10d,0,09/06/15,09/06/15,496,Prepare 4.0.1-SNAPSHOT builds,"Prepare 4.0.1-SNAPSHOT builds

Change-Id: I51d03d1a47d1e3cd453701e397750749867028a2
Signed-off-by: Matthias Sohn <matthias.sohn@sap.com>",1,0,0,1,0,0,1,NA,NA
49802,I732b601c198ad1a50aa7ba3c1d1fb516b10912b5,https://git.eclipse.org/r/#/c/49802,2,685d36245e93ec849a1b2fc817fa4b0382223bee,9cf920b1664d52bb7d604f0a478ee6c95d7fc5b0,0,09/06/15,09/06/15,529,Merge branch 'stable-4.0',"Merge branch 'stable-4.0'

* stable-4.0:
  Prepare 4.0.1-SNAPSHOT builds
  JGit v4.0.0.201506090130-r
  Update build to use Tycho 0.23

Change-Id: I732b601c198ad1a50aa7ba3c1d1fb516b10912b5
Signed-off-by: Matthias Sohn <matthias.sohn@sap.com>",1,0,0,0,1,0,1,NA,NA
49856,I3ea25c157b9e11a46a140d2c3ab9373d1596c163,https://git.eclipse.org/r/#/c/49856,1,8c31cc98bf8fd47c36df34fc6f497fa152a94d80,ae6f31dec5912858dfe8a0647e7b7dfa266049a4,1,09/06/15,09/06/15,2,Fix a javadoc typo in RepoProject.,"Fix a javadoc typo in RepoProject.

Change-Id: I3ea25c157b9e11a46a140d2c3ab9373d1596c163
Signed-off-by: Yuxuan 'fishy' Wang <fishywang@google.com>",0,0,0,1,0,0,1,0,0
49862,Ie8042f380ea0e34e3203e1991aa0feb2e6e44641,https://git.eclipse.org/r/#/c/49862,3,d04e078156c5ce8db6d77833932ca4c6d9bf83cf,a2f8a777336ce1eb20690e4df3a53d8f444fe345,1,09/06/15,09/06/15,14,"Revert ""Config: Distinguish between empty and null strings""","Revert ""Config: Distinguish between empty and null strings""

This reverts commit 96eb3ee3976e7e9e3e118851fa614cce8a1f7d88, which
broke Gerrit tests that set a config value to 'null', serialize the
result, deserialize, and expect 'null' from Config.getString.

The intent of that commit was to make it possible to distinguish between
an absent and an empty config value, which we'll have to do with a new
method.

The code part of this commit is a straightforward revert.  Keep the
tests from 428cb23f2de8 instead of reverting them --- they illustrate
the behavior well.

Change-Id: Ie8042f380ea0e34e3203e1991aa0feb2e6e44641
Signed-off-by: Jonathan Nieder <jrn@google.com>",0,0,0,0,0,0,0,0,0
49864,Ic13943139f23cdb1eac840417de43796236d578f,https://git.eclipse.org/r/#/c/49864,1,76479f46447ccfc0c32b409f071e430da89e5ef3,17bf9c6ef9bcf72d909e83e4506eb9b02268278c,0,09/06/15,09/06/15,10,Remove no longer used API warning filter for FileUtil,"Remove no longer used API warning filter for FileUtil

Change-Id: Ic13943139f23cdb1eac840417de43796236d578f
Signed-off-by: Matthias Sohn <matthias.sohn@sap.com>",0,0,0,1,0,0,1,NA,NA
49865,I91acdc3680bde09ae5809c14460500223a410395,https://git.eclipse.org/r/#/c/49865,2,17bf9c6ef9bcf72d909e83e4506eb9b02268278c,c3c3953b7af4bf32fef3588ce959bf2753ec7120,1,09/06/15,09/06/15,6,Add missing javadoc @param for PackWriter.setObjectCountCallback(),"Add missing javadoc @param for PackWriter.setObjectCountCallback()

Change-Id: I91acdc3680bde09ae5809c14460500223a410395
Signed-off-by: Matthias Sohn <matthias.sohn@sap.com>",0,0,0,1,0,0,1,0,0
49866,I5eb186ad27c93feab2664fcbcc9ca0b617a15462,https://git.eclipse.org/r/#/c/49866,2,c3c3953b7af4bf32fef3588ce959bf2753ec7120,dcf1ba04c931372c4f5c9fcf1a318add59fffb6d,1,09/06/15,10/06/15,2,Add missing import in BundleWriter,"Add missing import in BundleWriter

Change-Id: I5eb186ad27c93feab2664fcbcc9ca0b617a15462
Signed-off-by: Matthias Sohn <matthias.sohn@sap.com>",0,0,0,1,0,0,1,0,0
49868,I643f916e394ca95272b58d0b5826e81cc1092f2f,https://git.eclipse.org/r/#/c/49868,2,683da2cbe4d926d5fb26a67ee93f3095f8b807e7,949516ff65693b36fddc53c21084fb5c01701fb7,1,09/06/15,10/06/15,1,Document empty catch block to silence warning,"Document empty catch block to silence warning

Change-Id: I643f916e394ca95272b58d0b5826e81cc1092f2f
Signed-off-by: Matthias Sohn <matthias.sohn@sap.com>",0,0,0,1,0,0,1,0,0
49872,I95e3cfaa49f3f7371e794d5c253cf6981f87cae0,https://git.eclipse.org/r/#/c/49872,3,fed0b2a778c4de1664a15998d48ddf808f7deb3a,9b15f1a8ed7c80257d0052f7872b1653cca2be0c,1,10/06/15,10/06/15,85,Fix public API issues introduced in 49486.,"Fix public API issues introduced in 49486.

Move ObjectCountCallback and WriteAbortedException to package
org.eclipse.jgit.transport, so that they'll become public API.

Change-Id: I95e3cfaa49f3f7371e794d5c253cf6981f87cae0
Signed-off-by: Yuxuan 'fishy' Wang <fishywang@google.com>",0,0,0,0,0,0,0,0,0
49881,I24780a28c01047654d81af09045d88c6a84950b6,https://git.eclipse.org/r/#/c/49881,1,0f48ccb00a4feaecbf3cf40fabbb169f4710d746,b33a521b0a9f5962ca30cb61ec75984851b5b92d,1,10/06/15,10/06/15,3,Add missing imports for javadoc to ObjectCountCallback,"Add missing imports for javadoc to ObjectCountCallback

Change-Id: I24780a28c01047654d81af09045d88c6a84950b6
Signed-off-by: Jonathan Nieder <jrn@google.com>",0,0,0,1,0,0,1,0,0
49965,I4bca6342a7482a53c9a5815a94b3c181a479d04b,https://git.eclipse.org/r/#/c/49965,5,ab04ec267558a841bb423f1855e65e02e690bb4d,758e38042530c67bff0dda860d22f8262c935b53,1,10/06/15,11/06/15,107,Allow trailing newlines when parsing ReceiveCommand,"Allow trailing newlines when parsing ReceiveCommand

C git's receive-pack.c strips trailing newlines in command lists when
present[1], although send-pack.c does not send them[2]. Change JGit to
match this behavior. Add tests.

This also fixes parsing of commands in the push cert, which, unlike
commands sent in the non-push case, always have trailing newlines.

[1] https://github.com/git/git/blob/7974889a053574e449b55ca543a486e38e74864f/builtin/receive-pack.c#L1428
where packet_read_line above chomps newlines:
https://github.com/git/git/blob/7974889a053574e449b55ca543a486e38e74864f/pkt-line.c#L202

[2] https://github.com/git/git/blob/7974889a053574e449b55ca543a486e38e74864f/send-pack.c#L470

Change-Id: I4bca6342a7482a53c9a5815a94b3c181a479d04b",0,1,0,0,0,1,1,0,0
49966,I5382193347a8eb1811032d9b32af9651871372d0,https://git.eclipse.org/r/#/c/49966,7,4232c49fcd89556c55e7a74b84b4f572c519ed9f,1ea1788ed41c7e840429a9a3460d861b1569482f,1,10/06/15,11/06/15,568,Rewrite push certificate parsing,"Rewrite push certificate parsing

- Consistently return structured data, such as actual ReceiveCommands,
  which is more useful for callers that are doing things other than
  verifying the signature, e.g. recording the set of commands.
- Store the certificate version field, as this is required to be part
  of the signed payload.
- Add a toText() method to recreate the actual payload for signature
  verification.
- Separate the parser from the certificate itself, so the actual
  PushCertificate object can be immutable. Make a fair attempt at deep
  immutability, but this is not possible with the current mutable
  ReceiveCommand structure.
- Use more detailed error messages that don't involve NON-NLS strings.
- Document null return values more thoroughly. Instead of having the
  undocumented behavior of throwing NPE from certain methods if they
  are not first guarded by enabled(), eliminate enabled() and return
  null from those methods.
- Add tests for parsing a push cert from a section of pkt-line stream
  using a real live stream captured with Wireshark (which, it should
  be noted, uncovered several simply incorrect statements in C git's
  Documentation/technical/pack-protocol.txt).

Change-Id: I5382193347a8eb1811032d9b32af9651871372d0",0,1,0,0,1,1,1,1,1
49974,I7af29fbbd333a2598843d62c320093c48b2ad972,https://git.eclipse.org/r/#/c/49974,1,6d1a454c5d9bd683a3cb506c3e196bac030015a0,aced99e6d78757901f7463a8ea7074230ee5b658,0,10/06/15,11/06/15,5,submodule test: Use config.unset instead of setting to null,"submodule test: Use config.unset instead of setting to null

Most relative-URL tests for SubmoduleInitCommand carry out the following
steps:

 1. add a submodule at path ""sub"" to the index
 2. set remote.origin.url in .git/config
 3. configure .gitmodules, possibly using relative URLs, and see what
    happens

resolveWorkingDirectoryRelativeUrl() is meant to test the fallback when
remote.origin.url is not set, to match C git which treats the URL as
relative to the cwd in that case.  To do so, in step (2) it sets
remote.origin.url to null.

However, Config.setString when taking a null value does not actually
unset that value from the configuration --- it sets it to the empty
string.  This means we are testing a behavior that C git never
supported.  Use Config.unset instead.

Change-Id: I7af29fbbd333a2598843d62c320093c48b2ad972
Signed-off-by: Jonathan Nieder <jrn@google.com>",0,0,0,0,0,0,0,NA,NA
49975,Ic189efc50d9c1f573dda0c79e5b0dad0813a5577,https://git.eclipse.org/r/#/c/49975,1,3eedc02b9cd5b77db3c6e79ede7cc09bc9be0029,935221292c9af622c7724e6f2d5953e5061fb825,1,10/06/15,10/06/15,4,Tweak exception Javadoc to be eclipse-clean,"Tweak exception Javadoc to be eclipse-clean

Bug: 469887
Change-Id: Ic189efc50d9c1f573dda0c79e5b0dad0813a5577
Signed-off-by: Jonathan Nieder <jrn@google.com>",0,0,0,0,0,0,0,0,0
49976,I7f2cdbe8042d99cf8a3c1a8c4c2dcb58c5b8c305,https://git.eclipse.org/r/#/c/49976,2,935221292c9af622c7724e6f2d5953e5061fb825,2ebc03ef51cd3fa83eb7e6af6e434850bfe8a6dc,1,10/06/15,12/06/15,3,Add null check to CloneCommand.setURI,"Add null check to CloneCommand.setURI

The function was never advertised to allow a null URI and call() throws
URISyntaxException on null, so adding this check should be safe.

Change-Id: I7f2cdbe8042d99cf8a3c1a8c4c2dcb58c5b8c305
Signed-off-by: Jonathan Nieder <jrn@google.com>",0,0,0,0,0,0,0,0,0
49977,I76f502da5e677df501d3ef387e7f61f42a7ca238,https://git.eclipse.org/r/#/c/49977,2,6d6dbce5469ac16eb9ea1fb0356d3c258d4163b6,69a2057e41cdf7936a787a546ba4c1acd0b5cc5b,1,10/06/15,12/06/15,66,Add null check to CloneCommand.setRemote,"Add null check to CloneCommand.setRemote

A non-bare clone command with null remote produces a
NullPointerException when trying to produce a refspec to fetch against.

In a bare repository, a null remote name is accepted by mistake,
producing a configuration with items like 'remote.url' instead of
'remote.<remote>.url'.  This was never meant to work --- forbid it.

While we're here, add tests for setRemote working normally.

Change-Id: I76f502da5e677df501d3ef387e7f61f42a7ca238
Signed-off-by: Jonathan Nieder <jrn@google.com>",0,0,0,0,0,0,0,0,0
49978,I960e7046b8d5b5bc75c7f3688f3a075d3a951b00,https://git.eclipse.org/r/#/c/49978,2,801f72dbfbb587a662f58cf96f5ca0af2839ded0,ab1ed0fa6a95d5638e8adfa049da81d2d42c520f,1,10/06/15,12/06/15,6,Add null check to CloneCommand.setBranch,"Add null check to CloneCommand.setBranch

This method is documented to take a branch name (not a possibly null
string).  The only way a caller could have set null without either
re-setting to a sane value afterward or producing NullPointerException
was to also call setNoCheckout(true), in which case there would have
been no reason to set the branch in the first place.

Forbid null to make the semantics clear.

Change-Id: I960e7046b8d5b5bc75c7f3688f3a075d3a951b00
Signed-off-by: Jonathan Nieder <jrn@google.com>",0,0,0,0,0,0,0,0,0
49979,I74757ca68eaa941833846a7c8d983b4e996fa207,https://git.eclipse.org/r/#/c/49979,2,20a7fbea7a51b4256c355d0495a235c0baaefc45,67e5f12ca8b0320dd54022f87736f4c33b42c965,1,10/06/15,12/06/15,6,Document CloneCommand.setDirectory(null) and setGitDir(null) more clearly,"Document CloneCommand.setDirectory(null) and setGitDir(null) more clearly

Change-Id: I74757ca68eaa941833846a7c8d983b4e996fa207
Signed-off-by: Jonathan Nieder <jrn@google.com>",0,0,0,1,0,0,1,-1,0
49980,I63ad93ea8ad669fd333a5fd40880e7583ba24827,https://git.eclipse.org/r/#/c/49980,2,fa8e802a26bdc41553f75d7292b3b530c62c4cd9,faa3d54a859d17acb9623061e691fb831464dd86,1,10/06/15,12/06/15,20,Handle null in ProgressMonitor setters,"Handle null in ProgressMonitor setters

These commands' monitor fields can never be null unless someone passes
null to setProgressMonitor.  Anyone passing null probably meant to
disable the ProgressMonitor, so do that (by falling back to
NullProgressMonitor.INSTANCE) instead of saving a null and eventually
producing NullPointerException.

Change-Id: I63ad93ea8ad669fd333a5fd40880e7583ba24827
Signed-off-by: Jonathan Nieder <jrn@google.com>",0,0,0,0,0,0,0,-1,0
49981,I8c7014dd6042183d7fecb2202af5acdc384aa8e4,https://git.eclipse.org/r/#/c/49981,3,6f7237bfe63faaca56e0b3bca0f172d07edf5ca0,823ba739868672c4eac32cc540ef8a08f61f6a3c,1,10/06/15,11/06/15,6,Require all projects to have a name,"Require all projects to have a name

A project's name attribute is required according to repo's
doc/manifest-format.txt:

    <!ELEMENT project (annotation*,
                       project*)>
    <!ATTLIST project name        CDATA #REQUIRED>

Enforcing this in code makes reading easier (in particular making it
clearer that getName() and getPath() can never return null).

Change-Id: I8c7014dd6042183d7fecb2202af5acdc384aa8e4
Signed-off-by: Jonathan Nieder <jrn@google.com>",0,0,0,0,0,0,0,0,0
50130,Ic51df1613e471f568ffee25ae67e118425b38986,https://git.eclipse.org/r/#/c/50130,5,0ebe0f680d3e70bf01c9c60e7964fd9b1af385f9,4d663cbc6c61a05e47bcd84bc67ae560266b32bc,1,12/06/15,12/06/15,880,Introduce PostUploadHook to replace UploadPackLogger,"Introduce PostUploadHook to replace UploadPackLogger

UploadPackLogger is incorrectly named--it can be used to trigger any
post upload action, such as GC/compaction. This change introduces
PostUploadHook/PostUploadHookChain to replace
UploadPackLogger/UploadPackLoggerChain and deprecates the latter.

It also introduces PackStatistics as a replacement for
PackWriter.Statistics, since the latter is not public API.
It changes PackWriter to use PackStatistics and reimplements
PackWriter.Statistics to delegate to PackStatistics.

Change-Id: Ic51df1613e471f568ffee25ae67e118425b38986
Signed-off-by: Terry Parker <tparker@google.com>",0,1,0,0,1,0,1,-1,0
50183,Id5ec1945eab76db6d2e4b592cb25907ea3d835cd,https://git.eclipse.org/r/#/c/50183,2,071fb2f8aacc89f93a9944a2887c55cfc5c46d1b,f1e326193b58fedbcb8213a9a5a132e65c900b79,1,15/06/15,15/06/15,162,Add tests for HMACSHA1NonceGenerator,"Add tests for HMACSHA1NonceGenerator

Correct documentation of NonceStatus.OK/SLOP to match the implemented
behavior.

Change-Id: Id5ec1945eab76db6d2e4b592cb25907ea3d835cd",0,0,0,0,0,1,1,0,0
50221,I976102e054369b045340d4b9209984b5243e3750,https://git.eclipse.org/r/#/c/50221,2,f1e326193b58fedbcb8213a9a5a132e65c900b79,ccfdec953e3ce1b21145a5c80b3036b740ce0234,1,15/06/15,15/06/15,24,Add the set of shallow commits to PackStatistics,"Add the set of shallow commits to PackStatistics

Change-Id: I976102e054369b045340d4b9209984b5243e3750
Signed-off-by: Terry Parker <tparker@google.com>",0,0,0,1,0,0,1,0,0
50230,I3956411d19b47aaadc215dab360d57fa6c24635e,https://git.eclipse.org/r/#/c/50230,2,047e00e58626987381caf38a1a0a66aafae09a14,64d2dd28b211052307258031d9b85fdb3ccda45d,1,16/06/15,22/06/15,101,Add a grace period for packfiles during GC,"Add a grace period for packfiles during GC

For loose objects an expiration date can be set which will save too
young objects from being deleted. Add the same for packfiles. Packfiles
which are too young are not deleted.

Bug: 468024
Change-Id: I3956411d19b47aaadc215dab360d57fa6c24635e",0,0,1,0,0,1,1,0,0
50238,Ib918a634d829c9898072ae7bdeb22b099a32b1c9,https://git.eclipse.org/r/#/c/50238,3,79ec7ef23e542eff1c888307b1d4841ae0c8d136,d0885f1f07483cf901d2abc36d8f6b5c74340595,1,16/06/15,23/06/15,56,API to remove repositories from RepositoryCache,"API to remove repositories from RepositoryCache

- Added methods that allow to unregister repositories from the
  RepositoryCache individually.

Bug: 470234
Change-Id: Ib918a634d829c9898072ae7bdeb22b099a32b1c9
Signed-off-by: Tobias Oberlies <tobias.oberlies@sap.com>",0,0,1,0,0,0,1,0,0
50291,I4862932dc38b58cc98400ed584cc506013846065,https://git.eclipse.org/r/#/c/50291,1,4af44edb2e776bc9702baa3458c255ee09e14551,8c5e5d50be12c32a028bffd4a53b71a443b99266,1,16/06/15,16/06/15,18,Update comments about PackStatistics,"Update comments about PackStatistics

Change-Id: I4862932dc38b58cc98400ed584cc506013846065
Signed-off-by: Terry Parker <tparker@google.com>",0,0,0,1,0,0,1,0,0
50293,If3d92f5ceade8ba7605847a4b2bc55ff17d119ac,https://git.eclipse.org/r/#/c/50293,4,ae2a4cc69ab5d867cd44331e38f7229c707ead32,e3e8283996382bad2fefef4a456890b8233c253f,1,16/06/15,18/06/15,12,BaseReceivePack: fix reading cert lines in command loop,"BaseReceivePack: fix reading cert lines in command loop

Add a missing continues to prevent falling through to the command
parsing section. The first continue happens when the command list is
empty, so change the condition to see whether we have read the first
line, rather than any commands.

Fix comparison to BEGIN_SIGNATURE to use raw line with newline.

Change-Id: If3d92f5ceade8ba7605847a4b2bc55ff17d119ac",0,1,0,0,0,1,1,0,0
50294,Ib8f33e75daa0b2fbd000a2c4558c01c014ab1ce5,https://git.eclipse.org/r/#/c/50294,6,258536c9b34841303e127d92fd1451067617cd4b,b37a32fb31a1beac09dba530793d6737ea46b182,1,16/06/15,18/06/15,186,Extract a class for signed push configuration,"Extract a class for signed push configuration

The default behavior is to read a repository's signed push
configuration from that repo's config file, but this is not very
flexible when it comes to managing groups of repositories (e.g. with
Gerrit). Allow callers to override the configuration using a POJO.

Change-Id: Ib8f33e75daa0b2fbd000a2c4558c01c014ab1ce5",0,1,0,0,0,1,1,1,1
50295,I1d323909ffe70757ea56e511556080695b1a0c11,https://git.eclipse.org/r/#/c/50295,6,f17b0b92495b93c5a05ea3c7c9f2341831f32139,f807563e1a7e44837072ea57dd6e7122482c0783,1,16/06/15,18/06/15,16,PushCertificateParser: throw PackProtocolException in more cases,"PushCertificateParser: throw PackProtocolException in more cases

Change-Id: I1d323909ffe70757ea56e511556080695b1a0c11",0,1,0,1,0,1,1,0,0
50296,I22097bead2746da5fc53419f79761cafd5c31c3b,https://git.eclipse.org/r/#/c/50296,6,5ea02aecd4bb0bbbd1fce01d0dc1cff67f388a9c,bafb999133d8546b881f9a6d8c2a4b7ab8b88564,1,16/06/15,18/06/15,19,PushCertificateParser: include begin/end lines in signature,"PushCertificateParser: include begin/end lines in signature

The signature is intended to be passed to a verification library such
as Bouncy Castle, which expects these lines to be present in order to
parse the signature.

Change-Id: I22097bead2746da5fc53419f79761cafd5c31c3b",0,1,0,0,0,1,1,0,0
50361,I40f613cfdcabf0dc9455bee45116ab8d8c7dd6ee,https://git.eclipse.org/r/#/c/50361,2,fb3e24af5c802713d0f1730125a29eb5d2322283,1a6a8e2225fa3bea1aa3406a8498c74d56136fc6,1,17/06/15,31/12/15,1,Fix encoding problem from curl repostory on github,"Fix encoding problem from curl repostory on github

Pushing curl repository to gerrit fails with a message:
remote: error: internal error while processing changes
java.nio.charset.IllegalCharsetNameException: 'utf8'

curl repository url: https://github.com/bagder/curl.git

To avoid this problem encodingAliases in RawParseUtils have
been extended to contain ""'utf8'"" (single quoted utf8) string.

Change-Id: I40f613cfdcabf0dc9455bee45116ab8d8c7dd6ee
Signed-off-by: Eryk Szymanski <eryksz@gmail.com>",0,0,1,0,0,0,1,0,0
50371,Ice2c152e9391368dc5748d7b825a838e3eb755f9,https://git.eclipse.org/r/#/c/50371,10,037cde2f77aa2d9b991f7dd318c555b1afae3fee,a2ef1a5465f4e854401251d9b7d7a34a8e4e0e0c,1,17/06/15,03/11/15,282,Enhance FS.runProcess() to support stdin-redirection and binary data,"Enhance FS.runProcess() to support stdin-redirection and binary data

In order to support filters in gitattributes FS.runProcess() is made
public. Support for stdin redirection has been added. Support for binary
data on stdin/stdout (as used be clean/smudge filters) has been added.

Change-Id: Ice2c152e9391368dc5748d7b825a838e3eb755f9",0,1,1,0,0,1,1,0,0
50372,Iffd72914cec5b434ba4d0de232e285b7492db868,https://git.eclipse.org/r/#/c/50372,25,fd4ea2717ca15d2e02e19c2529b5546d85996802,702e016c8bb4ca86ffa5c5fb938bbc9c8b59e256,1,17/06/15,27/11/15,555,Call clean filter during AddCommand,"Call clean filter during AddCommand

When filters are defined for certain pathes in the gitattributes make
sure that the clean filter is called during AddCommand.call().

Change-Id: Iffd72914cec5b434ba4d0de232e285b7492db868",0,1,1,0,1,1,1,-1,0
50394,I37714ce7372ccf554b24ddbff56aa61f0b19cbae,https://git.eclipse.org/r/#/c/50394,4,15e965065f62cc50e9654a9a3f34d67f1dbf6bda,020f93d00e5a04ad27bf8ec28be453409cc34545,1,17/06/15,18/06/15,617,Add a separate type for the identity in a push certificate,"Add a separate type for the identity in a push certificate

These differ subtly from a PersonIdent, because they can contain
anything that is a valid User ID passed to gpg --local-user. Upstream
git push --signed will just take the configuration value from
user.signingkey and pass that verbatim in both --local-user and the
pusher field of the certificate. This does not necessarily contain an
email address, which means the parsing implementation ends up being
substantially different from RawParseUtils.parsePersonIdent.
Nonetheless, we try hard to match PersonIdent behavior in
questionable cases.

Change-Id: I37714ce7372ccf554b24ddbff56aa61f0b19cbae",0,1,0,0,1,1,1,0,0
50395,I1d0ba9ea0a347e8ff5a0f4af169d9bb18c5838d2,https://git.eclipse.org/r/#/c/50395,1,3299883f83db913c99ea06195601434cf2d723d1,6ac4e7198d65800656cac35b346f552c80d07d98,1,17/06/15,17/06/15,31,Silence API warnings introduced by a85e817d,"Silence API warnings introduced by a85e817d

a85e817d is a slightly breaking API change to classes that were
technically public and technically released in 4.0. However, it is
highly unlikely that people were actually depending on public behavior,
since there were no public methods to create PushCertificates with
anything other than null field values, or a PushCertificateParser that
did anything other than infinite loop or throw exceptions when reading.

Change-Id: I1d0ba9ea0a347e8ff5a0f4af169d9bb18c5838d2
Signed-off-by: Matthias Sohn <matthias.sohn@sap.com>",0,0,0,0,0,0,0,0,0
50446,I9f57318a59f668906b80f67230d36ba6439fc7b4,https://git.eclipse.org/r/#/c/50446,1,2f5db0b6cabcaa55b76c55c8842453a4ffc2c7f0,2e3b18841aa33b8f63a7fe1c05ea68539d36facd,1,18/06/15,18/06/15,40,Remove redundant @since tags in new signed push classes,"Remove redundant @since tags in new signed push classes

Change-Id: I9f57318a59f668906b80f67230d36ba6439fc7b4",0,0,0,1,0,1,1,0,0
50447,I44adbfad704b76f9c1beced6e1ce82eaf71410d2,https://git.eclipse.org/r/#/c/50447,2,2e3b18841aa33b8f63a7fe1c05ea68539d36facd,9c7309f98853752b05a470e8b1b03b954548b5a5,1,18/06/15,18/06/15,62,Include push certificates in RefUpdate,"Include push certificates in RefUpdate

This may be used by e.g. a custom reflog implementation to record
this information along with the ref update.

Change-Id: I44adbfad704b76f9c1beced6e1ce82eaf71410d2",0,0,0,0,0,1,1,0,0
50451,If9d12192a2dc9f9dd1eac9844b5a7b0edadc0b34,https://git.eclipse.org/r/#/c/50451,2,9c7309f98853752b05a470e8b1b03b954548b5a5,efd35ec6ec631f8fbdaf4ba523ca1e716241fb14,1,18/06/15,18/06/15,137,PackCertificateParser: return null if nothing was received,"PackCertificateParser: return null if nothing was received

Add test for this case in both the enabled and disabled cases.

Change-Id: If9d12192a2dc9f9dd1eac9844b5a7b0edadc0b34",0,0,0,0,0,1,1,0,0
50461,Ic0156a7d65d99881ef27801fcce7754594c436f0,https://git.eclipse.org/r/#/c/50461,1,efd35ec6ec631f8fbdaf4ba523ca1e716241fb14,d9de052d0fdcf7d1c2524cddb9912c11ddf40e0d,1,18/06/15,18/06/15,52,SignedPushConfig: Allow setting a custom nonce generator impl,"SignedPushConfig: Allow setting a custom nonce generator impl

Change-Id: Ic0156a7d65d99881ef27801fcce7754594c436f0",0,0,0,1,0,1,1,0,0
50580,I14d1983bb7c208faeffee0504e0567e38d8a89f3,https://git.eclipse.org/r/#/c/50580,7,d9de052d0fdcf7d1c2524cddb9912c11ddf40e0d,e2245bf5b4204163ae638bb59f86f51f1a09122e,0,20/06/15,21/08/15,33,Enable annotation based NPE analysis in jgit,"Enable annotation based NPE analysis in jgit

Bug: 470647
Change-Id: I14d1983bb7c208faeffee0504e0567e38d8a89f3
Signed-off-by: Andrey Loskutov <loskutov@gmx.de>",0,1,0,0,0,1,1,NA,NA
50761,Ib7713b657e7812b0debd72bb4eece0daa187e80d,https://git.eclipse.org/r/#/c/50761,1,5fd9cc1426bd27507675b466fcb9c7d281197f00,2ed6a078065fa0514b02ba445a2f2a691886263b,0,24/06/15,24/06/15,98,JGit v4.0.1.201506240215-r,"JGit v4.0.1.201506240215-r

Change-Id: Ib7713b657e7812b0debd72bb4eece0daa187e80d
Signed-off-by: Matthias Sohn <matthias.sohn@sap.com>",1,0,0,1,0,0,1,NA,NA
50784,I645cacfdde21aa28aa2e17c10dec0576b170ed0e,https://git.eclipse.org/r/#/c/50784,1,a3cdc44e1446df5ff9c17af25d21129983a153fd,a2a0c9c1edb98cfa3b1518da921e6509de2d3010,0,24/06/15,24/06/15,496,Prepare 4.0.2-SNAPSHOT builds,"Prepare 4.0.2-SNAPSHOT builds

Change-Id: I645cacfdde21aa28aa2e17c10dec0576b170ed0e
Signed-off-by: Matthias Sohn <matthias.sohn@sap.com>",1,0,0,1,0,0,1,NA,NA
50795,I5c965206ad10bababe366a51ab7c33a8836a7868,https://git.eclipse.org/r/#/c/50795,1,5afe9169ef2fd544962fef87583adf5ed91d2340,54a91222383af1c8188f643cc94b7fda167be27c,0,24/06/15,24/06/15,529,Merge branch 'stable-4.0',"Merge branch 'stable-4.0'

Change-Id: I5c965206ad10bababe366a51ab7c33a8836a7868
Signed-off-by: Matthias Sohn <matthias.sohn@sap.com>",1,0,0,1,1,0,1,NA,NA
50809,I7cb7e89875b5238a54411b8c43c298d4cbe9f7ac,https://git.eclipse.org/r/#/c/50809,1,54a91222383af1c8188f643cc94b7fda167be27c,a10ef34f46ee6542b3be6835f88b41018451c686,0,24/06/15,24/06/15,2,Compare API against 4.0.0.201506090130-r,"Compare API against 4.0.0.201506090130-r

Change-Id: I7cb7e89875b5238a54411b8c43c298d4cbe9f7ac
Signed-off-by: Matthias Sohn <matthias.sohn@sap.com>",1,0,0,1,0,0,1,NA,NA
51015,I284a1b5f8220f68496f992b0e97e6934e03ae616,https://git.eclipse.org/r/#/c/51015,5,7c708d324258f3597316f31eafc466e5bc4702d8,836ea060766d1173a466572129fc9abc3c7b85ee,0,28/06/15,29/07/15,10,Fixed javadoc: the getBranch() and getFullBranch() can return null,"Fixed javadoc: the getBranch() and getFullBranch() can return null

Change-Id: I284a1b5f8220f68496f992b0e97e6934e03ae616
Signed-off-by: Andrey Loskutov <loskutov@gmx.de>",0,1,0,1,0,1,1,NA,NA
51073,I25f3a5582a45dd0ec8f78f5daf74c2203797a184,https://git.eclipse.org/r/#/c/51073,5,90f120a2324808b6130ca136c5f27934fcf02f9f,d2bdb58f25298544d0ea25bdfc02929acedf11d4,1,29/06/15,09/07/15,90,PushCertificateParser: Catch more errors when parsing commands,"PushCertificateParser: Catch more errors when parsing commands

Change-Id: I25f3a5582a45dd0ec8f78f5daf74c2203797a184",0,1,0,1,0,1,1,0,0
51126,Ib7be76aa7ac889354ad4782e2b64d4221a0e25b9,https://git.eclipse.org/r/#/c/51126,8,6225855015f0f85db4575f1518531dd2680e19e1,271cd0ada4596298bd1899a711f12e1fe00ee2f6,1,30/06/15,09/07/15,185,IO: Add a method for reading lines,"IO: Add a method for reading lines

Change-Id: Ib7be76aa7ac889354ad4782e2b64d4221a0e25b9",0,1,0,1,0,1,1,2,1
51127,I70de313b1ae463407b69505caee63e8f4e057ed4,https://git.eclipse.org/r/#/c/51127,11,3635cb8d94e422b6bc1ee28b15e2cfea4442cd63,b6008b6fb4957453df13ad79164c06debc88b09c,1,30/06/15,09/07/15,223,PushCertificateParser: Add method for parsing from a stream,"PushCertificateParser: Add method for parsing from a stream

We intend to store received push certificates somewhere, like a
particular ref in the repository in question. For reading data back
out, it will be useful to read push certificates (without pkt-line
framing) in a streaming fashion.

Change-Id: I70de313b1ae463407b69505caee63e8f4e057ed4",0,1,0,0,0,1,1,0,0
51128,Id3eb32416f969fba4b5e4d9c4b47053c564b0ccd,https://git.eclipse.org/r/#/c/51128,13,02a801777d6ffa60ea67e0edf948ac1872943378,476dbab56e88012b55c560da2963807327984950,1,30/06/15,10/07/15,753,RFC: Store push certificates in refs/push-certs,"RFC: Store push certificates in refs/push-certs

Change-Id: Id3eb32416f969fba4b5e4d9c4b47053c564b0ccd",0,1,0,1,1,1,1,0,0
51143,I13972eebde27a4128828e6c64517666f0ba6288b,https://git.eclipse.org/r/#/c/51143,2,ac08760ebd12365d5edd4b7d9b6613d39ab2c858,17729efeabc76f7efd4fbe0fa769cf130f64af31,1,30/06/15,06/07/15,19,Avoid double-colon in InvalidObjectIdException description,"Avoid double-colon in InvalidObjectIdException description

The invalidId message in JGitText and the asAscii bad id both contain a
colon, so the resulting message would say

	Invalid id: : a78987c98798ufa

Fix it by keeping the colon in the translated message and not adding
another colon programmatically.

Noticed by code inspection.

Change-Id: I13972eebde27a4128828e6c64517666f0ba6288b
Signed-off-by: Jonathan Nieder <jrn@google.com>",0,0,0,0,0,0,0,0,0
51144,I24e1422d51607c86a1cb816a495703279e461f01,https://git.eclipse.org/r/#/c/51144,3,5c6c62b9cbc349d94249fe0d019b46034eff0672,92fa4e7ae2262f4c4c334139d412f5e8ddd2c688,1,30/06/15,06/07/15,34,"Throw InvalidObjectIdException from ObjectId.fromString(""tooshort"")","Throw InvalidObjectIdException from ObjectId.fromString(""tooshort"")

ObjectId.fromString already throws InvalidObjectIdException for most
malformed object ids, but for this kind it previously threw
IllegalArgumentException.  Since InvalidObjectIdException is a child of
IllegalArgumentException, callers that catch IllegalArgumentException
will continue to work.

Change-Id: I24e1422d51607c86a1cb816a495703279e461f01
Signed-off-by: Jonathan Nieder <jrn@google.com>",0,0,0,0,0,0,0,0,0
51204,Ib588a3f47492cee5e5e6274a3b088678919a0fa0,https://git.eclipse.org/r/#/c/51204,7,cfa9159b9cd5f153f507af959db014468c854e12,dc42d83c49a2a765a9a3813cbbaded56e2ac1098,0,01/07/15,09/07/15,42,PushCertificate: implement hashCode/equals/toString,"PushCertificate: implement hashCode/equals/toString

Change-Id: Ib588a3f47492cee5e5e6274a3b088678919a0fa0",0,1,1,1,0,1,1,NA,NA
51207,I175dc75dcdd05ba6fdec315c04c79550cfdc2342,https://git.eclipse.org/r/#/c/51207,8,0922130d3ab367a300a86d0ebd97321bc109b18a,2023479ebc64114eb819c053fdc28269d321b9dc,1,01/07/15,09/07/15,2,PushCertificateParser: Change error string for invalid field,"PushCertificateParser: Change error string for invalid field

The old one didn't take an argument; the new one includes the field
name.

Change-Id: I175dc75dcdd05ba6fdec315c04c79550cfdc2342",0,1,1,0,0,1,1,-1,0
51208,I7f3c5fa78f2e35172a93180036e679687415cac4,https://git.eclipse.org/r/#/c/51208,9,573dc335c69f94f5a13d8ebf29b96f973b8549ac,f308498ca8c58a53c1662d17127fb7f8ee51f892,1,01/07/15,09/07/15,39,PushCertificateParser: Make pushee optional,"PushCertificateParser: Make pushee optional

When pushing to an HTTP server using the C git client, I observed a
certificate lacking a pushee field. Handle this gracefully in the
parser.

Change-Id: I7f3c5fa78f2e35172a93180036e679687415cac4",0,1,1,0,0,1,1,0,0
51209,Ib3b1c7f05e31a5b3e40e85eb07b16736920a033b,https://git.eclipse.org/r/#/c/51209,6,7b447c9cab3988b9642f5af9bad3d3cd0a743af4,03f994a1eda162fc0fd19ee74635f722212c0181,1,01/07/15,09/07/15,104,RFC: Report PackProtocolExceptions to client during receive-pack,"RFC: Report PackProtocolExceptions to client during receive-pack

We have done this since forever with the ""wanted old new ref"" error,
so let's do it for other such errors thrown in the same block as well.

Change-Id: Ib3b1c7f05e31a5b3e40e85eb07b16736920a033b",0,1,1,0,0,1,1,0,0
51253,I44400c6ab72a2722d2155d53d63671bd867d6c44,https://git.eclipse.org/r/#/c/51253,4,cff9c8560241a6954c74c2de3558bf2782a89713,2bb2482389e387544f3730eedb228a7bd8217612,1,02/07/15,10/09/15,78,URIish: fix parsing of URIs with hostname only,"URIish: fix parsing of URIs with hostname only

We fail to parse URIs that contain a hostname only, like
""ssh://example.com"". Fix this by making the path component of the
URI optional and moving the home-part into the path-group.

Change-Id: I44400c6ab72a2722d2155d53d63671bd867d6c44
Signed-off-by: Patrick Steinhardt <ps@pks.im>",0,1,0,0,0,0,1,0,0
51366,Icda5b4db38076789d06498428909306aef3cb68b,https://git.eclipse.org/r/#/c/51366,3,dc57951af0dbbefed96819fa9b1eaaee4e1f4f0f,f3596316c182b2dafbf1734df1169b2b60986fc8,0,03/07/15,07/07/15,16,Fix non-escaped quotes in JGitText.properties,"Fix non-escaped quotes in JGitText.properties

In most texts we use ""cannot"" hence instead of escaping the apostroph in
""can't"" use ""cannot"".

Bug: 471796
Change-Id: Icda5b4db38076789d06498428909306aef3cb68b
Signed-off-by: Matthias Sohn <matthias.sohn@sap.com>",0,0,1,0,0,0,1,NA,NA
51436,I817231c4d4defececb8722142fea18ff42e06e44,https://git.eclipse.org/r/#/c/51436,3,333d1b028a850138957db699e454a11adec60e66,67ae893a9ef8ecfac49a171e6cef1db8522b3d83,1,06/07/15,09/07/15,187,BaseReceivePack: Treat all LFs as optional,"BaseReceivePack: Treat all LFs as optional

Discussion on the git mailing list has concluded[1] that the intended
behavior for all (non-sideband) portions of the receive-pack protocol
is for trailing LFs in pkt-lines to be optional. Go back to using
PacketLineIn#readString() everywhere.

For push certificates specifically, we agreed that the payload signed
by the client is always concatenated with LFs even though the client
MAY omit LFs when framing the certificate for the wire. This is still
reflected in the implementation of PushCertificate#toText().

[1] http://thread.gmane.org/gmane.comp.version-control.git/273175/focus=273412

Change-Id: I817231c4d4defececb8722142fea18ff42e06e44",0,0,1,0,0,1,1,0,0
51475,Iac95b046dc5bd0b3756642e241c3637f1fad3609,https://git.eclipse.org/r/#/c/51475,1,231f39fd02995cedf0afceecb70d92337de7a33b,6f7291853fba05eff6835dc8894dd61ef4997ce0,1,07/07/15,09/07/15,2,Use local variable in RepositoryTestCase.indexState,"Use local variable in RepositoryTestCase.indexState

There is a signature of the test helper method `indexState`,
in `RepositoryTestCase`, that accepts a `Repository` object
as an argument.  However, there was one line of code where
this variable was not being used, and the method was instead
referring to a member variable `db`.  I believe this was
probably just an oversight in a previous refactor, and
that the correct behavior is to use the variable from
the argument list.  This change also has the benefit
of making it possible to convert this method to a static
method, since it no longer relies on any state from the class.

Bug: 436200
Change-Id: Iac95b046dc5bd0b3756642e241c3637f1fad3609
Signed-off-by: Chris Price <chris@puppetlabs.com>",0,0,0,0,0,0,0,0,0
51614,I013316de5c373417ea758ca6e17da29209fead53,https://git.eclipse.org/r/#/c/51614,2,daf7e3bd695cea4638cb9a64a356459ddecbb1a7,8b0788e72bce53fcad276212fd300aec8a57f2d1,1,08/07/15,09/07/15,2,Change `indexState` to static method,"Change `indexState` to static method

The `indexState` method is no longer referring to any
member variables from the class, so it can be made static.

Bug: 436200
Change-Id: I013316de5c373417ea758ca6e17da29209fead53
Signed-off-by: Chris Price <chris@puppetlabs.com>",0,0,0,0,0,0,0,0,0
51615,I2b6de75c001d2d77ddb607488af246548784a67f,https://git.eclipse.org/r/#/c/51615,2,cc053c926fee8d4b442ebea4549ed1a6a534e6bc,5d1f2443086fe7dfea9c54ddc24d6750eda0ef0b,1,08/07/15,09/07/15,206,Move `RepositoryTestCase.indexState` to parent class,"Move `RepositoryTestCase.indexState` to parent class

The test helper method `indexState` in `RepositoryTestCase` is
very useful for writing tests, even in cases where we need to
do things like create more than one repository for a test and
thus we don't want to use the built-in `db` member variable that
exists in `RepositoryTestCase`.  Since the method is static,
we can move it up to the parent class `LocalDiskRepositoryTestCase`,
where it can be used by tests that aren't a great fit for inheriting
directly from `RepositoryTestCase`.

Bug: 436200
Change-Id: I2b6de75c001d2d77ddb607488af246548784a67f
Signed-off-by: Chris Price <chris@puppetlabs.com>",0,0,0,0,0,0,0,-2,0
51629,Ia24179773140d9ecc616b3a6b2e630c85d800157,https://git.eclipse.org/r/#/c/51629,3,989faf8bb9808e0fe50644c337494549147525dd,f1e3f38168b5e98bfb5a26f9b0b95ea3c8ef734b,1,09/07/15,09/07/15,8,PushCertificateParser: Make constructor public,"PushCertificateParser: Make constructor public

Primarily to aid in writing end-to-end tests, which must be written
outside this package as we don't currently have a Bouncy Castle
dependency.

Change-Id: Ia24179773140d9ecc616b3a6b2e630c85d800157",0,0,0,0,0,1,1,0,0
51630,I8ab5fb97303e25b28187375b6f9ff28f918bdd43,https://git.eclipse.org/r/#/c/51630,3,9d2174607bbcda14cce2e9781ead6a809b07fcdc,a78eba58dd77f21a9d5fbcf2c5e45607bc13fcab,1,09/07/15,09/07/15,52,PushCertificateParser: Move reader parsing to instance method,"PushCertificateParser: Move reader parsing to instance method

Change-Id: I8ab5fb97303e25b28187375b6f9ff28f918bdd43",0,0,0,1,0,1,1,0,0
51696,I578ed9ecbc6423416239e31ad644531dae9fb5c3,https://git.eclipse.org/r/#/c/51696,3,94b7ed3192ef499b191082189f25bbab8cdd235b,02d2ccabb7e79c241e7056e2019b86a17b97b26e,1,10/07/15,10/07/15,130,Add setTargetBranch in RepoCommand.,"Add setTargetBranch in RepoCommand.

This will allow us to write the super project in a branch other than
master.

Change-Id: I578ed9ecbc6423416239e31ad644531dae9fb5c3
Signed-off-by: Yuxuan 'fishy' Wang <fishywang@google.com>",0,0,0,0,0,0,0,0,0
51801,I77bc2ec486ffe4c8b864663d103d8cf39c3f35e1,https://git.eclipse.org/r/#/c/51801,1,906061c3eea998711198a808dc176efc7c41be65,48f783ce7b243b2b40514d584d2a935520936bed,1,12/07/15,13/07/15,6,Fixed @since tags on new API,"Fixed @since tags on new API

Change-Id: I77bc2ec486ffe4c8b864663d103d8cf39c3f35e1
Signed-off-by: Andrey Loskutov <loskutov@gmx.de>",0,0,0,1,0,1,1,0,0
51860,I4ceb57a30f2e5a8f7e55109ef260a244ed5e7044,https://git.eclipse.org/r/#/c/51860,2,48f783ce7b243b2b40514d584d2a935520936bed,075d3206e394cdffdc2ef5b34be6a1f878e9f0d4,0,13/07/15,14/07/15,13,Access static member LocalDiskRepositoryTestCase.CONTENT directly,"Access static member LocalDiskRepositoryTestCase.CONTENT directly

37a1e4be moved this constant causing the following error message in
Eclipse: ""The static field LocalDiskRepositoryTestCase.CONTENT should be
accessed directly"".

Change-Id: I4ceb57a30f2e5a8f7e55109ef260a244ed5e7044
Signed-off-by: Matthias Sohn <matthias.sohn@sap.com>",0,0,0,0,0,0,0,NA,NA
51866,I8bfaee1a52d368ffe2cd7e8af1754a5261569078,https://git.eclipse.org/r/#/c/51866,2,781147f774677c23f2e1ad2955c05c77bfaa1419,44541232e6c728ac432de5b9b327ae1fb55c368a,1,13/07/15,13/07/15,94,PushCertificateStore: Add method to save in batch,"PushCertificateStore: Add method to save in batch

Change-Id: I8bfaee1a52d368ffe2cd7e8af1754a5261569078",0,0,0,1,0,1,1,0,0
51874,I4661bfe2ead28a2883b33a4e3dfe579b3157d68a,https://git.eclipse.org/r/#/c/51874,4,44541232e6c728ac432de5b9b327ae1fb55c368a,9ab2b370094624b8e29a945ebd16a4b259a73436,1,13/07/15,16/07/15,97,RFC: Save push certs in batch only if commands match,"RFC: Save push certs in batch only if commands match

Consider a BatchRefUpdate produced by Gerrit Code Review, where the
original command pushed over the wire might refer to
""refs/for/master"", but that command is ignored and replaced with some
additional commands like creating ""refs/changes/34/1234/1"". We do not
want to store the cert in ""refs/for/master@{cert}"", since that may
lead someone looking to the ref to the incorrect conclusion that that
ref exists.

Add a separate method, saveMatching, that filters which files are
actually stored by looking at the existing command list in the passed
in BatchRefUpdate.

Change-Id: I4661bfe2ead28a2883b33a4e3dfe579b3157d68a",0,1,1,0,0,1,1,2,1
51888,I85208c7f85246fbf6c5029ce3c8b7bb8f4dbd947,https://git.eclipse.org/r/#/c/51888,4,ecb2e9027be2f3b95f9d86bcdfe7910a34915407,7903a1ef3ea71761f3733beee74e99dbe77e1b2a,1,13/07/15,21/07/15,32,Consider only escaping backslash for regular expressions in ignore rules,"Consider only escaping backslash for regular expressions in ignore rules

While checking if we should consider an ignore rule without '[]'
brackets as a regular expression, check if the backslash escapes one of
the glob special characters '?', '*', '[', '\\'. If not, backslash is
not a part of a regex and should be treated literally.

Bug: 463581
Change-Id: I85208c7f85246fbf6c5029ce3c8b7bb8f4dbd947
Signed-off-by: Andrey Loskutov <loskutov@gmx.de>",0,1,1,0,0,1,1,1,1
51889,I9cf13f8775cb49f0b6d61cfd3ca3fd6d665fccd8,https://git.eclipse.org/r/#/c/51889,4,f8bb129308e2e03e730048e15d72e1ea2aa43a27,6fa3de8b85d7ecb23135f3009547fc11bbfcf1f1,1,13/07/15,21/07/15,31,Don't trim trailing space if it is escaped with backslash,"Don't trim trailing space if it is escaped with backslash

According to [1] backslash can escape trailing space in ignore rules.

[1] https://www.kernel.org/pub/software/scm/git/docs/gitignore.html

Bug: 463581
Change-Id: I9cf13f8775cb49f0b6d61cfd3ca3fd6d665fccd8
Signed-off-by: Andrey Loskutov <loskutov@gmx.de>",0,1,1,0,0,1,1,1,1
51890,I4c02927413a9c63ea5dbf2954877080d902ec1b2,https://git.eclipse.org/r/#/c/51890,4,8fb0f1c026914b94d7d5bda79f45d103de8da9de,cc22be8582ca9b9aedcb805cd89b95c986c15f52,1,13/07/15,21/07/15,53,Allow leading literal '#' and '!' in ignore rules if they are escaped,"Allow leading literal '#' and '!' in ignore rules if they are escaped

According to [1] backslash can escape leading special characters '#' and
'!' in ignore rules, so that they are treated literally.

[1] https://www.kernel.org/pub/software/scm/git/docs/gitignore.html

Bug: 463581
Change-Id: I4c02927413a9c63ea5dbf2954877080d902ec1b2
Signed-off-by: Andrey Loskutov <loskutov@gmx.de>",0,1,1,0,0,1,1,0,0
51894,I39b80b250c6c1daede6a23e9f177fb2988ac37bb,https://git.eclipse.org/r/#/c/51894,1,aeb6ed32796b0aa5d60159c3cc885a43adbe41a3,dc22ce3719367398abb0399fba0a517fcc222f66,0,14/07/15,15/07/15,48,Update org.apache.httpcomponents,"Update org.apache.httpcomponents

- update org.apache.httpcomponents.httpcore to 4.3.3
- update org.apache.httpcomponents.httpclient to 4.3.6, 4.3.5 and later
  are reported to fix vulnerability CVE-2014-3577

CQ: 9220
CQ: 9221
Bug: 470523
Change-Id: I39b80b250c6c1daede6a23e9f177fb2988ac37bb
Signed-off-by: Matthias Sohn <matthias.sohn@sap.com>",1,0,0,0,0,0,1,NA,NA
51940,Id0936d9816769ec0cfae1898beda0f7a3c146e67,https://git.eclipse.org/r/#/c/51940,3,0169e238e7355dbb62c677f32ebeb4b54233a9e1,ba5cf6a0491b06d31a4e6f6b5a1e322bffe5a769,1,14/07/15,21/07/15,21,Don't crash while parsing ignore patterns,"Don't crash while parsing ignore patterns

Catch unexpected PatternSyntaxException and convert it to
InvalidPatternException. Log such errors, do not silently ignore them.

Bug: 463581
Change-Id: Id0936d9816769ec0cfae1898beda0f7a3c146e67
Signed-off-by: Andrey Loskutov <loskutov@gmx.de>",0,0,1,0,0,1,1,0,0
52003,I5e3ae5599cb9e5d80072f38c82c20cbc9475a18a,https://git.eclipse.org/r/#/c/52003,3,4ef1158a8c3e33e7b43b9eef36a2d2590b2aff3b,6bc39a3961f05064bf108e3e22e8f98aae3a914e,1,15/07/15,21/07/15,65,Allow leading/trailing spaces in ignore rules,"Allow leading/trailing spaces in ignore rules

According to [1] leading spaces are allowed in ignore rules and trailing
spaces are allowed too if they are escaped via backslash.

[1] https://www.kernel.org/pub/software/scm/git/docs/gitignore.html

Bug: 472762
Change-Id: I5e3ae5599cb9e5d80072f38c82c20cbc9475a18a
Signed-off-by: Andrey Loskutov <loskutov@gmx.de>",0,0,1,0,0,1,1,0,0
52016,I9730cb4f60c60ee6d5a7a156a0b6a53f79309ec3,https://git.eclipse.org/r/#/c/52016,2,aaf0fad62132553baf43382570bb8ab6f447de61,5a5026a5e6e39d930bb333e6496dd1b1897c6e17,1,15/07/15,16/07/15,12,PushCertificateStore: Return boolean from batch save methods,"PushCertificateStore: Return boolean from batch save methods

Change-Id: I9730cb4f60c60ee6d5a7a156a0b6a53f79309ec3",0,0,0,1,0,1,1,0,0
52019,Icd893dfaba06561bbe5cc60ebf866ec5d8301c22,https://git.eclipse.org/r/#/c/52019,2,bd0a7ed12dad09f8db0796bced082169846d01d9,8c92961dd7ba24124ef9d4affad1aec86ff407a3,1,15/07/15,21/07/15,35,Don't keep empty ignore rules in the ignore node list,"Don't keep empty ignore rules in the ignore node list

Change-Id: Icd893dfaba06561bbe5cc60ebf866ec5d8301c22
Signed-off-by: Andrey Loskutov <loskutov@gmx.de>",0,0,1,1,0,1,1,0,0
52020,I5dcaf1a44bf4e321adc281e3381e7e17ac89db06,https://git.eclipse.org/r/#/c/52020,1,a01fdef1a5d0acf3cff557499a9600afdb7a46d5,27f6181beeee96e90650226569aaa3edd85bd6f9,1,16/07/15,16/07/15,7,BaseReceivePack: Don't throw from getPushCertificate(),"BaseReceivePack: Don't throw from getPushCertificate()

Rather than lazily parsing the push in this method, parse it at the
end of recvCommands(), which already contains the necessary try/catch
for handling this error. This allows later callers to avoid having to
handle this condition superfluously.

Change-Id: I5dcaf1a44bf4e321adc281e3381e7e17ac89db06",0,0,0,0,0,1,1,0,0
52021,Id912f45c933c78a85b245fa7b6edebbeb40b009c,https://git.eclipse.org/r/#/c/52021,1,27f6181beeee96e90650226569aaa3edd85bd6f9,37c3842cb4167db5048caca7903374197c1af6c7,1,16/07/15,16/07/15,14,BaseReceivePack: Add method to override the push cert,"BaseReceivePack: Add method to override the push cert

Change-Id: Id912f45c933c78a85b245fa7b6edebbeb40b009c",0,0,0,1,0,1,1,0,0
52022,I74c3f65a9ff297f708d996a4c138456a31a466b8,https://git.eclipse.org/r/#/c/52022,1,37c3842cb4167db5048caca7903374197c1af6c7,07700298f48d62e326e45f975515febfa3e4ec89,1,16/07/15,16/07/15,31,PushCertificateParser: Add fromString method,"PushCertificateParser: Add fromString method

Change-Id: I74c3f65a9ff297f708d996a4c138456a31a466b8",0,0,0,1,0,1,1,0,0
52023,Ic0129373cc0c0321ffa43dc11a658d4f891ec2c2,https://git.eclipse.org/r/#/c/52023,2,07700298f48d62e326e45f975515febfa3e4ec89,356685a0f20f172054008745524d04b7fe99034f,1,16/07/15,16/07/15,18,PushCertificate: Add toTextWithSignature() method,"PushCertificate: Add toTextWithSignature() method

Change-Id: Ic0129373cc0c0321ffa43dc11a658d4f891ec2c2",0,0,0,1,0,1,1,0,0
52115,I36ce31febad6e881182bc3a278c7ed35cc04cbda,https://git.eclipse.org/r/#/c/52115,1,356685a0f20f172054008745524d04b7fe99034f,5f130a4e03368476843e36f9d9a6c40e7feefb3b,0,16/07/15,16/07/15,7,DFS: Override exactRef() with optimal version,"DFS: Override exactRef() with optimal version

This avoids scanning a directory to find all names and
then weeding down to the requested name.

Change-Id: I36ce31febad6e881182bc3a278c7ed35cc04cbda",0,0,0,0,0,0,0,NA,NA
52116,I0fc06fc46eef0e36e571a6ef622f38dc2aa59038,https://git.eclipse.org/r/#/c/52116,1,5f130a4e03368476843e36f9d9a6c40e7feefb3b,271305a65c34b3ccb0e71d9d020f607518656271,0,16/07/15,16/07/15,10,DFS: Remove now-redundant getOneRef,"DFS: Remove now-redundant getOneRef

Instead of reimplementing exactRef in a separate, private method,
use it directly.

Change-Id: I0fc06fc46eef0e36e571a6ef622f38dc2aa59038",0,0,0,0,0,0,0,NA,NA
52175,Ic2503a2c3c616934d923937fdf8ceb4ae57b7028,https://git.eclipse.org/r/#/c/52175,2,271305a65c34b3ccb0e71d9d020f607518656271,3a494bda197fb9b39d9fe8020346a0bbf6b3d8f8,1,17/07/15,21/07/15,8,Fix typos in javadoc of ObjectId.equals(),"Fix typos in javadoc of ObjectId.equals()

Change-Id: Ic2503a2c3c616934d923937fdf8ceb4ae57b7028
Signed-off-by: Matthias Sohn <matthias.sohn@sap.com>",0,0,1,1,0,0,1,0,0
52176,I3a95954543c8570d73929e55f4a884b55dbf1b7a,https://git.eclipse.org/r/#/c/52176,12,1710fc37cb63b5d7fc579ce39f859bd029e12c75,26ac28f0c036acdf3a7716dc75d50a521ba1e15a,1,17/07/15,04/02/16,5339,Implement SHA-256 abstraction,"Implement SHA-256 abstraction

The Large File Storage extension specified by GitHub [1] uses SHA-256 to
compute the ID of large files stored by the extension. Hence implement a
SHA-256 abstraction similar to the SHA-1 abstraction used by JGit.

[1] https://git-lfs.github.com/

Change-Id: I3a95954543c8570d73929e55f4a884b55dbf1b7a
Signed-off-by: Matthias Sohn <matthias.sohn@sap.com>",0,1,0,0,1,0,1,4,1
52177,I7378da5575159d2195138d799704880c5c82d5f3,https://git.eclipse.org/r/#/c/52177,16,de9d20a2b512245cb159a5dd744294f0591fdb3d,fff181a12c2db812598a0d88185d412e6b04c6c6,1,17/07/15,04/02/16,4208,Implement simple LFS content storage servlet,"Implement simple LFS content storage servlet

Simple servlet supporting file content storage for ""Large File Storage""
(LFS) server as defined by the Github LFS API [1].

- upload and download of large files is probably network bound hence use
  asynchronous servlet for good scalability
- simple object storage in file system with 2 level fan-out
- storage interface LargeObjectRepository allows alternate storage
  implementations
- use LockFile to protect writing large objects against multiple
  concurrent uploads of the same object
- to prevent corrupt uploads the uploaded file is rejected if its hash
  doesn't match id given in URL

The meta data API defined in [2] which is used to discover the URLs of
large objects stored by the LFS server will be implemented in another
change.

[1] https://github.com/github/git-lfs/tree/master/docs/api
[2] https://github.com/github/git-lfs/blob/master/docs/api/http-v1-batch.md

Change-Id: I7378da5575159d2195138d799704880c5c82d5f3
Signed-off-by: Matthias Sohn <matthias.sohn@sap.com>",0,1,0,0,1,0,1,0,0
52213,I71fac5a6a2ef926c01adc266c6f9b3275e870129,https://git.eclipse.org/r/#/c/52213,3,8e8e25eaf6d3b832eaa8f2fd785628393624bf3c,da9767dca57014930023ed63d5fa5d2421681ed3,1,19/07/15,23/07/15,90,Fix ResolveMerger when files should be replaced by folders,"Fix ResolveMerger when files should be replaced by folders

When during Merge for a certain path OURS & BASE contains a file and
THEIRS contains a folder there was a bug in JGit leading to unnecessary
conflicts. This commit fixes it and adds a test for this situation.
 
Bug: 472693
Change-Id: I71fac5a6a2ef926c01adc266c6f9b3275e870129",0,0,1,0,0,1,1,0,0
52257,I940701093eb6c6d26e147b79de77997b0df481a0,https://git.eclipse.org/r/#/c/52257,1,6beb6741014e9caa05b7007bfa5d64c514925981,91dd3095e3cebd4a76546fcf0aa288bf917ae0d7,1,20/07/15,13/08/15,3,"Remove ""experimental"" from the description of the pack bitmap index","Remove ""experimental"" from the description of the pack bitmap index

Change-Id: I940701093eb6c6d26e147b79de77997b0df481a0
Signed-off-by: Terry Parker <tparker@google.com>",0,0,0,1,0,0,1,0,0
52354,I7feb6b2b8f7b736888370aad94e4c436ae6014bb,https://git.eclipse.org/r/#/c/52354,9,ebaa8f9c4f687cb8d46c918bcb072a24f11799fd,5bafb4df470b1ee58d0fad5a33682ce052d7d8bc,0,22/07/15,04/02/16,14,Add com.google.gson 2.2.4.v201311231704 to target platform,"Add com.google.gson 2.2.4.v201311231704 to target platform

CQ: 9966
Change-Id: I7feb6b2b8f7b736888370aad94e4c436ae6014bb
Signed-off-by: Matthias Sohn <matthias.sohn@sap.com>",0,1,0,0,0,0,1,NA,NA
52486,I1002cb575e26cd842bf81ad751ec7c267b585ce2,https://git.eclipse.org/r/#/c/52486,3,4a6c34f5ae963669b97f632c74cb01ac8ada3618,1970ea4723f8cf39e55faaa918c2be130b44132c,0,24/07/15,24/07/15,56,Honor also https_proxy environment variable,"Honor also https_proxy environment variable

In addition to honor the http_proxy variable for setting a proxy for
http JGit should also honor the https_proxy variable to set a similar
proxy for https traffic

Bug: 473365
Change-Id: I1002cb575e26cd842bf81ad751ec7c267b585ce2",0,0,0,0,0,1,1,NA,NA
52530,Ib0404daaf485aa6c8dc6ba0b169b46fb800325e4,https://git.eclipse.org/r/#/c/52530,1,1970ea4723f8cf39e55faaa918c2be130b44132c,2c82212576febd72246ea9f07ce8a4813a477254,0,24/07/15,24/07/15,2,Fix non-externalized string warning in Main.execute(),"Fix non-externalized string warning in Main.execute()

Change-Id: Ib0404daaf485aa6c8dc6ba0b169b46fb800325e4
Signed-off-by: Matthias Sohn <matthias.sohn@sap.com>",1,0,0,1,0,0,1,NA,NA
52547,I9f16ba714c3ea9e6585e9c11623270dbdf4fb1df,https://git.eclipse.org/r/#/c/52547,4,68a17c4cdeefd659b71932b725a6161ec26e6107,e4a0e09df5b0eaa0312bfe06a35b8c538898b43b,1,24/07/15,13/08/15,61,Consider original file mode while checking parent ignore rules,"Consider original file mode while checking parent ignore rules

The WorkingTreeIterator.isEntryIgnored() should use originally requested
file mode while descending to the file tree root and checking ignore
rules. Original code asking isEntryIgnored() on a file was using
directory mode instead if the .gitignore was not located in the same
directory.

Bug: 473506
Change-Id: I9f16ba714c3ea9e6585e9c11623270dbdf4fb1df
Signed-off-by: Andrey Loskutov <loskutov@gmx.de>",0,1,0,0,0,1,1,0,0
52575,Ie93c249fa46e792198d362e531d5cbabaf41fdc4,https://git.eclipse.org/r/#/c/52575,5,20e50dc55f549f514c8b0cfba186f973a294fe0a,b999cb28ac2f53baf233ea372afc61024f90f1e9,1,26/07/15,25/08/15,55,"Set ""potentialNullReference"" to ""error"" level and fixed all issues","Set ""potentialNullReference"" to ""error"" level and fixed all issues

There should be no functional change, the logic updated only to make
code simple so that compiler can understand what is going for. Removed
all @SuppressWarnings(""null"") annotations since they cannot be used if
""org.eclipse.jdt.core.compiler.problem.potentialNullReference"" option is
set to the ""error"" level.

Bug: 470647
Change-Id: Ie93c249fa46e792198d362e531d5cbabaf41fdc4
Signed-off-by: Andrey Loskutov <loskutov@gmx.de>",0,1,0,0,0,1,1,0,0
52737,Ie9546f2e0e9ee62e0a3c919572153b6076355195,https://git.eclipse.org/r/#/c/52737,1,5674911dc2fa05c60a9a1e934b0b32e64c0a7d2a,bf3539e88c296a695017bfd9945debae91577b95,1,28/07/15,28/07/15,9,PushCertificate: Omit null pushee from text representation,"PushCertificate: Omit null pushee from text representation

Change-Id: Ie9546f2e0e9ee62e0a3c919572153b6076355195",0,0,0,1,0,0,1,0,0
53005,Iba7e4674b3d33c730613a6ac703977f48b015853,https://git.eclipse.org/r/#/c/53005,3,3366f4dac9c07847a3f9986d8e58d74fd7e0869f,4cba77736dd0b8a5c0670286312f8c34a9a89abc,1,01/08/15,04/08/15,20,containsGitModulesFile() should not crash on bare repository,"containsGitModulesFile() should not crash on bare repository

Change-Id: Iba7e4674b3d33c730613a6ac703977f48b015853
Signed-off-by: Andrey Loskutov <loskutov@gmx.de>",0,0,1,1,0,0,1,0,0
53027,Ia0a1478260b94a71a947aa8c04ee0c836d390aec,https://git.eclipse.org/r/#/c/53027,1,40f28bb3e4ad636eb25fcb5cbf20ef0dedc5c41d,ef166a3dd84fff0c772741615982d4be2c2db7d9,1,02/08/15,04/08/15,9,Clone should close repository after errors in fetch or checkout,"Clone should close repository after errors in fetch or checkout

Bug: 474093
Change-Id: Ia0a1478260b94a71a947aa8c04ee0c836d390aec
Signed-off-by: Andrey Loskutov <loskutov@gmx.de>",0,0,0,0,0,0,0,1,1
53094,I13be133dac7834d1d2b51eb9948a716b8719d057,https://git.eclipse.org/r/#/c/53094,2,9ac7622b37bf9e2ab60700cdba41e0b8e040921e,e94a06edac4fc374347d2d9f27bce4e9ae4f4fb8,1,03/08/15,04/08/15,4,Clone should create Git instances which are able to close repository,"Clone should create Git instances which are able to close repository

Bug: 474093
Change-Id: I13be133dac7834d1d2b51eb9948a716b8719d057
Signed-off-by: Andrey Loskutov <loskutov@gmx.de>",0,0,0,0,0,0,0,1,1
53103,I3ac8ccdab5e2d5539c63d7b0a88d8bdb0c5ff66e,https://git.eclipse.org/r/#/c/53103,2,dc59b69c32df0d6a3f947bb308817e5968398089,9df8e39eff622d3ea503812233ea21439c154a75,1,03/08/15,25/08/16,8,NoteMap: Add missing @Test methods,"NoteMap: Add missing @Test methods

The RepositoryTestCase hierarchy no longer comes from TestCase, so all
test methods must have @Test.

Fix one test that was broken but never run; fortunately this was just
a typo in the test code.

Change-Id: I3ac8ccdab5e2d5539c63d7b0a88d8bdb0c5ff66e",0,0,0,0,0,1,1,0,0
53451,I0be6daf7758189b0eecc4e26294bd278ed8bf7a0,https://git.eclipse.org/r/#/c/53451,2,5b51d4a3f38516d63491eef7435045e69e4efe18,f841fd17df27ed8fff29f3c3ac0655ebf26c25bc,1,09/08/15,13/08/15,46,Cleanup Attributes and remove obsoleted Java7BasicAttributes class,"Cleanup Attributes and remove obsoleted Java7BasicAttributes class

After jgit moved to Java 7 there is no need in an extra
Java7BasicAttributes class. Also all fields of Attributes can be made
final now.

Change-Id: I0be6daf7758189b0eecc4e26294bd278ed8bf7a0
Signed-off-by: Andrey Loskutov <loskutov@gmx.de>",0,0,1,0,0,1,1,-1,0
53532,I8be8934cf6cb3ee60567b59f8e836475efb780ac,https://git.eclipse.org/r/#/c/53532,1,47441c742fa9600629964fc1c25196b9449860ae,6202407dfd694e6670e5224a94cde99a38fd3b15,0,11/08/15,11/08/15,2,"Changed default log4j log level from ""WARNING"" to ""WARN""","Changed default log4j log level from ""WARNING"" to ""WARN""

Bug: 474674
Change-Id: I8be8934cf6cb3ee60567b59f8e836475efb780ac
Signed-off-by: Andrey Loskutov <loskutov@gmx.de>",0,0,0,0,0,0,0,NA,NA
53677,I97d4a440c9fc313873fd224bd05b9d9e3dc575db,https://git.eclipse.org/r/#/c/53677,1,6202407dfd694e6670e5224a94cde99a38fd3b15,2dcc762521f5430cc581db3b676a10d5cb15cb08,1,13/08/15,13/08/15,1,Do not retain commit body during bitmap generation,"Do not retain commit body during bitmap generation

The bitmap preparer only needs commit graph topology; it does not use
the message body.  Allow the RevWalk to free the body after the commit
has been parsed to save memory.

Change-Id: I97d4a440c9fc313873fd224bd05b9d9e3dc575db",0,0,0,0,0,0,0,0,0
53678,Ibfaf84b22fa0590896a398ff659a91fcf03d7128,https://git.eclipse.org/r/#/c/53678,2,ad53053eca80660c0469da8a762248a990929244,17d6e19d6e2e142d8718c5a9cf2c865a1a0fa3a4,1,13/08/15,13/08/15,94,PackWriter: shed memory while creating bitmaps,"PackWriter: shed memory while creating bitmaps

Once bitmap creation begins the internal maps required for packing are
no longer necessary.  On a repository with 5.2M objects this can save
more than 438 MiB of memory by allowing the ObjectToPack instances to
get garbage collected away.

Downside is the PackWriter cannot be used for any further opertions
except to write the bitmap index.  This is an acceptable trade-off as
in practice nobody uses the PackWriter after the bitmaps are built.

Change-Id: Ibfaf84b22fa0590896a398ff659a91fcf03d7128",0,0,0,0,0,0,0,0,0
53679,I2bd19a786189db5b01c4c96f209b83de50e10c3b,https://git.eclipse.org/r/#/c/53679,1,574faed5ed13d377f5a19ee2609b672f2218cacb,bb60dbcf05643e04ed6e257298f1d131eae387f3,1,13/08/15,13/08/15,5,Bitmap builder: actually compress EWAH bitmaps in memory,"Bitmap builder: actually compress EWAH bitmaps in memory

For construction performance each new EWAHBitmap is allocated at the
roughly worst-case size the bitmap would need if all of the words must
be literal and no run length compression is available.  In practice
this is far larger than is required, wasting heap memory while the
bitmaps are computed.

Trim down each bitmap to its minimum required size. This copies the
internal array to a new smaller array, allowing the GC to reclaim the
prior larger array for reuse.

A single bitmap of 5.2M bits is only 79 KiB of memory without this
trim call but 15,000 such bitmaps is 1.1 GiB. Trimming can help fit
a larger number of bitmaps during processing.

Change-Id: I2bd19a786189db5b01c4c96f209b83de50e10c3b",0,0,0,0,0,0,0,0,0
53743,If0b80a31cb00894f1485ff8f53ef7ae5a759a046,https://git.eclipse.org/r/#/c/53743,2,304f001976e57cb3f5eacd2ab51281c67a466d7e,fe903fec953a616b5adb2811a8cbc921151f5b78,1,14/08/15,14/08/15,73,Fix NPE in DfsGarbageCollector and further reduce memory,"Fix NPE in DfsGarbageCollector and further reduce memory

DfsGarbageCollector asks PackWriter for the set of objects packed
after the bitmap index is written out.  This is now null as it was
cleared to release memory. Instead use PackBitmapIndexBuilder to
build the set as it also has the objects.

Reduce memory in PackBitmapIndexBuilder by fully discarding the
ObjectToPack instances. This was the original intent of commit
4bb523475d44 (""PackWriter: shed memory while creating bitmaps"")
but failed as the instances were still held live here.

Switch to BlockList instead of ObjectToPack[]. This allows the
JVM to allocate many smaller arrays instead of one contiguous
array with 5.2M reference pointers. In a tight heap the smaller
allocations are more feasible.

Reduce the initial EWAHCompressedBitmaps for the 4 type maps.  On
average a typical repository is 30% commits, 30% trees and 30% blobs.
These bitmaps are typically very dense.  PackWriter orders objects by
commit, tree, blob when writing the file so these should always be a
very dense run of 1s with some 0s before and after. So even the 1/3rd
allocation is likely too large, but the later trim() will reduce the
internal buffer anyway.

Change-Id: If0b80a31cb00894f1485ff8f53ef7ae5a759a046",0,0,0,0,0,0,0,0,0
53767,I6746ffe4584ad919369afd5bdbba66fe736be314,https://git.eclipse.org/r/#/c/53767,4,f0a1153ec31963612e352a19bb104f633981606b,0d1e7ecb83073845e53caa6fa91c6dcce31246c3,0,14/08/15,16/12/15,4,Fix InterruptTimer leak in BasePackConnection,"Fix InterruptTimer leak in BasePackConnection

When setting timeout on push, BasePackConnection creates a timer, which
will be terminated when push finishes. But, when using
SmartHttpPushConnection, it drops the first timer created in the
constructor and then creates another timer in doPush. If new threads are
created faster than the gc collects them this may stop the service if
it's hitting the max process limit. Hence terminate the timer if it
existed before BasePackConnection.init() creates a new timer.

Bug: 474947
Change-Id: I6746ffe4584ad919369afd5bdbba66fe736be314
Signed-off-by: Matthias Sohn <matthias.sohn@sap.com>",0,1,1,0,0,0,1,NA,NA
53827,Ifc6c61592d9b54d26c66367163acdebea369145c,https://git.eclipse.org/r/#/c/53827,22,15c5a16e58adc44f4eaccb84f8dad461cb36751f,5b1725887a6fc3e8eeb4de2636a901d191e111a9,1,16/08/15,09/10/15,485,[WIP] Delete non empty directories before checkout,"[WIP] Delete non empty directories before checkout

I the checkout target is currently a non-empty directory (and was a link
or a regular file before), the possibly existing non-empty directory
will be removed before performing checkout.

TODO: this works so far only if the new non-empty directory has no files
added to the index. If there are such files, they are currently added to
the index but deleted in the working directory. The fix must be improved
to check which files can be safely deleted and which shouldn't.

Bug: 474973
Change-Id: Ifc6c61592d9b54d26c66367163acdebea369145c
Signed-off-by: Andrey Loskutov <loskutov@gmx.de>",0,1,0,0,0,1,1,0,0
53836,I258f4bf291e02ef8e6f867b5d71c04ec902b6bcb,https://git.eclipse.org/r/#/c/53836,2,6a3308c78d35bf32afb55d6e80ea19806c1da5d9,d6657338dc21ed6015081a44c099d712f3853d5b,1,16/08/15,17/08/15,120,Move createSymLink/readSymLink to FileUtils,"Move createSymLink/readSymLink to FileUtils

Bug: 475070
Change-Id: I258f4bf291e02ef8e6f867b5d71c04ec902b6bcb
Signed-off-by: Andrey Loskutov <loskutov@gmx.de>",0,0,0,0,0,1,1,-1,0
53837,I6dc651f4b47e1b2c8d7954ec982e21ae6bb5f7a6,https://git.eclipse.org/r/#/c/53837,7,8acc34621c35157b541d284ba5cc9e4570bac655,0cdde261b5468a3ab0d037db91c9cbb8db1df284,1,16/08/15,26/08/15,24,Remove delete(File) from FileUtil,"Remove delete(File) from FileUtil

Bug: 475070
Change-Id: I6dc651f4b47e1b2c8d7954ec982e21ae6bb5f7a6
Signed-off-by: Andrey Loskutov <loskutov@gmx.de>",0,1,1,0,0,1,1,0,0
53842,Id891dbc1f17c816cea404569578bb7635ff85cdb,https://git.eclipse.org/r/#/c/53842,1,119c21cef3fae39dabfa10b7bb4b6665732b15b7,7ebfa9aa3b221de4e89d0be26c868c9ac8e88a1a,1,16/08/15,17/08/15,13,Expose the set of root commits in PackStatistics,"Expose the set of root commits in PackStatistics

Root commits are commits with zero parents.  If a commmit has no
parents it is the first commit in the repository.  In general the root
commits should be unique for any given project, as the first commit
will be created at a different time, by a different user with its own
message.  These root commits can be used as a ""fingerprint"" to
identify disjoint histories.

Change-Id: Id891dbc1f17c816cea404569578bb7635ff85cdb",0,0,0,0,0,0,0,0,0
53843,I38a4d36dc6452b5dacae3d0dbf562b569ca3c19b,https://git.eclipse.org/r/#/c/53843,1,617e597e19ee1436513141850effb01180de08eb,5462eb05a62a063803da9cfeb0681a852bc2a95d,1,16/08/15,17/08/15,8,Change FS not to throw NPE when facing InMemory databases,"Change FS not to throw NPE when facing InMemory databases

The FS class and the subclasses FS_POSIX assumed in the findHook()
method that every repository has a valid gitDir. But in tests when using
in-memory-repositories this is not true and this method was generating
NPEs. Change the method to return null if no repository directory can be
determined.

Change-Id: I38a4d36dc6452b5dacae3d0dbf562b569ca3c19b",0,0,0,0,0,1,1,0,0
54018,I425ad842dc26b55f747f192348398a3912c0ca6b,https://git.eclipse.org/r/#/c/54018,1,661c18e67907fa9a4e711c24c2f077625bfc4cff,794498d7d2eee92f118592b039f25f1a9593d446,1,18/08/15,19/08/15,39,Restored obsoleted createSymLink/readSymLink in FileUtil,"Restored obsoleted createSymLink/readSymLink in FileUtil

Bug: 475070
Change-Id: I425ad842dc26b55f747f192348398a3912c0ca6b
Signed-off-by: Andrey Loskutov <loskutov@gmx.de>",0,0,0,0,0,1,1,0,0
54117,I1bf151fbee7b00c7bd38cf1236c9bad50e3c64bd,https://git.eclipse.org/r/#/c/54117,1,ac3c3cce07ee821920a2893a1531fa95ffcb12e3,903dc8a013dc81813fa85dc101573bc63f235d04,0,19/08/15,22/08/15,53,Update com.jcraft.jsch to 0.1.53,"Update com.jcraft.jsch to 0.1.53

Update target platform to Orbit M20150818205559 for Mars in order to
update com.jcraft.jsch to 0.1.53. Also update pom.xml to use Mars target
platform profile by default.

CQ: 10045
Bug: 463580
Change-Id: I1bf151fbee7b00c7bd38cf1236c9bad50e3c64bd
Signed-off-by: Matthias Sohn <matthias.sohn@sap.com>",1,0,1,0,0,0,1,NA,NA
54177,I0c2a4cafcd1992431888c2a48592d9cb1ac04747,https://git.eclipse.org/r/#/c/54177,1,bf91f417f689b901599be9b38e96fb2665bea7ed,665e44bf81d7906ff7670db01843dd24d6e3938c,0,19/08/15,20/08/15,156,Update Jetty to 9.2.13.v20150730,"Update Jetty to 9.2.13.v20150730

Change-Id: I0c2a4cafcd1992431888c2a48592d9cb1ac04747
Signed-off-by: Matthias Sohn <matthias.sohn@sap.com>",1,0,0,1,0,0,1,NA,NA
54324,I692b226edaff502f06235ec05da9052b5fe6478a,https://git.eclipse.org/r/#/c/54324,2,6c70c0c645271521bd50e8670674ace4f2b6ae1c,543c45cc5045e4e0ff23c532b74e98591213f935,0,21/08/15,31/12/15,22,Fix hanging fetch via SSH,"Fix hanging fetch via SSH

Signaling the need to flush() only via the interrupted status of a
copying thread doesn't work realiably with jsch. The write() method of
com.jcraft.jsch.Session catches the InterruptedException in several
places. As a result StreamCopyThread can easily miss the interrupt if it
was interrupted during the dst.write() call. When it happens,
StreamCopyThread will not send some data to the remote side and will not
get the response back, because remote side will wait for more data from
us.

Change-Id: I692b226edaff502f06235ec05da9052b5fe6478a
Signed-off-by: Dmitry Neverov <dmitry.neverov@gmail.com>",0,0,1,0,0,0,1,NA,NA
54350,I085c472bafa6e2f32f610a33ddc8368bb4ab1814,https://git.eclipse.org/r/#/c/54350,4,007abb0eb2fbdef54d5204dcdac4e8e7801efe71,4bf7407b380ee85f96dc4dc6d86d78e76acf4423,1,21/08/15,26/08/15,54,Handle stale file handles on packed-refs file,"Handle stale file handles on packed-refs file

A stale file handle exception will be raised on NFS servers if the
packed-refs file is replaced by another client while the current one is
reading the old one.  On a local filesystem, the old orphaned file will
just be read.  But files cannot be orphaned on NFS servers (since NFS
servers do no keep track of open files), so the replacement will cause
the old file to be garbage collected instead, and reads will fail with
stale file handle exceptions.  Since we no longer have access to the old
file, loop on stale file handle exceptions trying to read the
packed-refs file again, until we either read the new file, or find that
the file no longer exists.

Change-Id: I085c472bafa6e2f32f610a33ddc8368bb4ab1814
Signed-off-by: Martin Fick<mfick@codeaurora.org>",0,1,1,0,0,0,1,0,0
54489,I21f80014546ba1afec7335890e5ae79e7f521412,https://git.eclipse.org/r/#/c/54489,1,ad581adf1354842da109f5561eef84c7ac61910e,c9e8fd8cd4ad4e2ef1e4bbec4b97106635039ca0,1,25/08/15,26/08/15,16,"Add public isStaleFileHandle() API, improve detection.","Add public isStaleFileHandle() API, improve detection.

Add a public API to the FileUtils to determine if an IOException is a
stale NFS file handle exception.  This will make it easier to detect
such errors, and interpret them consistently throughout the codebase.
This new API is a bit more lenient in its detection than the previous
detection, and should be able to detect some errors which previously
were not identified as stale file handle exceptions because they had the
word NFS in the error message.  Adjust the packfile handling code to use
this new API for detection.

Change-Id: I21f80014546ba1afec7335890e5ae79e7f521412
Signed-off-by: Martin Fick<mfick@codeaurora.org>",0,0,0,0,0,0,0,0,0
54632,I864176ced64e9569e7f2cdf8f777720655bfc578,https://git.eclipse.org/r/#/c/54632,1,29e4aa1172801f11159a2e70ef50bb06d4f864ec,b0cd2637b77805213f36c356ef8f3904bad4e127,0,26/08/15,26/08/15,4,Fix warnings on FileUtils.isStaleFileHandle(),"Fix warnings on FileUtils.isStaleFileHandle()

- add @since annotation for new API method
- silence non-externalized String warning

Change-Id: I864176ced64e9569e7f2cdf8f777720655bfc578
Signed-off-by: Matthias Sohn <matthias.sohn@sap.com>",1,0,0,0,0,0,1,NA,NA
54757,I74684dc3957ae1ca52a7097f83a6c420aa24310f,https://git.eclipse.org/r/#/c/54757,1,b0cd2637b77805213f36c356ef8f3904bad4e127,09ed11c34f66b09ea9f9f0b245b0ce67de424d44,0,28/08/15,31/08/15,2,Use java.io.File to check existence of loose objects in ObjectDirectory,"Use java.io.File to check existence of loose objects in ObjectDirectory

It was reported in [1] that 197e3393a51424fae45e51dce4a649ba26e5a368 led
to a performance regression in a BFG benchmark. Analysis showed that
this is caused by the exists() method in FS_POSIX, now overriding the
default implementation in FS. The default implementation of FS.exists()
uses java.io.File.exists(), while the new implementation in FS_POSIX
uses java.nio.file.Files.exists() - by simply removing the override in
FS_POSIX, performance was restored.

Profiling showed that java.nio.file.Files.exists() is substantially
slower than java.io.File.exists(), to the point where the exists() call
doubles the average cost of a call to
ObjectDirectory.insertUnpackedObject() - which the BFG uses a lot,
because it's rewriting history. Average times measured on Ubuntu were:

java.io.File.exists() - 4 microseconds
java.nio.file.Files.exists() - 60 microseconds

The loose object exists test should be using java.io.File and not FS.
ObjectDirectory uses FS.resolve() to traverse symlinks to objects but
then once inside objects all 256 sharded directories should be real
directories, and the object files should be real files, not dangling
symlinks. java.io.File.exists() is sufficient here, and faster.

Change ObjectDirectory to use File.exists() once its computed the File
handle.

This does mean JGit cannot run ObjectDirectory code on an abstract
virtual filesystem plugged into NIO2. If you really want to run JGit on
an esoteric non-standard filesystem like ""in memory"" you should look at
the DFS storage backend, which has fewer abstraction points to deal
with. Or write your own from scratch.

[1] https://dev.eclipse.org/mhonarc/lists/jgit-dev/msg02954.html

Change-Id: I74684dc3957ae1ca52a7097f83a6c420aa24310f
Signed-off-by: Matthias Sohn <matthias.sohn@sap.com>",0,0,1,0,0,0,1,NA,NA
54872,I185ba097884ead9cd034eba842bd3bf34181a99b,https://git.eclipse.org/r/#/c/54872,2,09ed11c34f66b09ea9f9f0b245b0ce67de424d44,1f2cb09b2cd73b4f70deb78dbdd82c1b1700c68b,0,31/08/15,31/08/15,57,Update uses-clauses in OSGi manifests,"Update uses-clauses in OSGi manifests

In Bug 476164 it was reported that EGit doesn't start when the platform
comes with jsch 0.1.51 while this version of EGit/JGit brings jsch
0.1.53. This could be caused by outdated uses-clauses. Hence recompute
them using PDE tooling.

Bug: 476164
Change-Id: I185ba097884ead9cd034eba842bd3bf34181a99b
Signed-off-by: Matthias Sohn <matthias.sohn@sap.com>",0,0,0,0,0,0,0,NA,NA
54936,I1f841f978fb93278e3ec0533a01f1363510dd976,https://git.eclipse.org/r/#/c/54936,1,1f2cb09b2cd73b4f70deb78dbdd82c1b1700c68b,968b489018ec39c9e56116be5dd3e1f4b84087f6,0,31/08/15,01/09/15,5,Restore lazy Bundle-ActivationPolicy removed in 3a4a5a4e,"Restore lazy Bundle-ActivationPolicy removed in 3a4a5a4e

This header was removed unintentionally from some bundles in
3a4a5a4e57f41c595ba950ea6f6680260669bf34. Restore it to ensure lazy
activation of bundles.

Change-Id: I1f841f978fb93278e3ec0533a01f1363510dd976
Signed-off-by: Matthias Sohn <matthias.sohn@sap.com>",1,0,0,0,0,0,1,NA,NA
55128,I6837389b08e6c80bc2d4c9e9c506d07293ea5fb2,https://git.eclipse.org/r/#/c/55128,2,968b489018ec39c9e56116be5dd3e1f4b84087f6,8304c1337e8c9ec965d8da5fe8e45ad5e2ff7e3e,1,02/09/15,02/09/15,30,PushCertificateStore: Don't add no-op command to batch,"PushCertificateStore: Don't add no-op command to batch

If no refs match the input list and we are writing to a batch, we
the returned new commit from write() will match the current commit.
Adding a command to the batch for this case is harmless as it will
succeed, but it's more straightforward to just skip adding a command
in this case.

Add tests or the combination of saving matching refs and saving to a
batch.

Change-Id: I6837389b08e6c80bc2d4c9e9c506d07293ea5fb2",0,0,0,0,0,1,1,0,0
55148,I79bb3da099ebc3c262d2e6c61ed4578eb1aa3474,https://git.eclipse.org/r/#/c/55148,11,8304c1337e8c9ec965d8da5fe8e45ad5e2ff7e3e,df98b63716f9a47e860d32a0abdad841fb99d8f0,1,02/09/15,17/04/17,284,Prevent alternates loop,"Prevent alternates loop

When looping through alternates, prevent visiting the same object
directory twice.  This could happen when the objects/info/alternates
file includes itself directly or indirectly via a another repo and its
alternates file.

Change-Id: I79bb3da099ebc3c262d2e6c61ed4578eb1aa3474
Signed-off-by: Martin Fick<mfick@codeaurora.org>",0,1,0,0,0,0,1,2,1
55246,I024448c941e81f7c1dc1cc2394329df90e9b3048,https://git.eclipse.org/r/#/c/55246,1,241ee5719a9f64a27c4c8a0db1ed3e8f197b2cfd,d019f1a306484f5abf6279c677b0d06524a9bfbb,0,03/09/15,03/09/15,46,Update org.apache.httpcomponents,"Update org.apache.httpcomponents

- update org.apache.httpcomponents.httpcore to 4.3.3
- update org.apache.httpcomponents.httpclient to 4.3.6, 4.3.5 and later
  are reported to fix vulnerability CVE-2014-3577

CQ: 9220
CQ: 9221
Bug: 470523
Change-Id: I024448c941e81f7c1dc1cc2394329df90e9b3048
Signed-off-by: Matthias Sohn <matthias.sohn@sap.com>",1,0,0,0,0,0,1,NA,NA
55247,I32d4c21f7cdd0c1a24f797012f98daa9a7f48acf,https://git.eclipse.org/r/#/c/55247,1,d019f1a306484f5abf6279c677b0d06524a9bfbb,afa1bc6d6f98f90a1f97115ad5b3624ffda06301,0,03/09/15,03/09/15,49,Update build to final R20150821153341 Orbit repository for Mars.1,"Update build to final R20150821153341 Orbit repository for Mars.1

Change-Id: I32d4c21f7cdd0c1a24f797012f98daa9a7f48acf
Signed-off-by: Matthias Sohn <matthias.sohn@sap.com>",1,0,0,1,0,0,1,NA,NA
55592,Idffcf9840496c448173af7c052d8898ada68e27b,https://git.eclipse.org/r/#/c/55592,4,e9a9c4a9859131819badf5db83640069fbeb72ab,2a6c1c18f237af15f1db5b463532e1ebfe12106d,1,09/09/15,27/09/15,417,Deprecate FileUtil and move the code to FileUtils,"Deprecate FileUtil and move the code to FileUtils

As discussed on https://git.eclipse.org/r/53836 it does not make sense
to have two similar utility classes in same package with intersecting
functionality. To not break the API, all methods from FileUtil are
copied to FileUtils, all FileUtil API is made deprecated and redirecting
now to FileUtils.

Bug: 475070
Change-Id: Idffcf9840496c448173af7c052d8898ada68e27b
Signed-off-by: Andrey Loskutov <loskutov@gmx.de>",0,1,1,0,0,1,1,1,1
55595,I495521f67a8b544e7b7247d99bbd05a42ea16d20,https://git.eclipse.org/r/#/c/55595,4,eae3758f73c443823cb258c31e3c8b550c2ebc0d,34efc59ec433bff9c475a7a877b421d422aa2473,1,09/09/15,27/09/15,58,[performance] Cache platform name in SystemReader,"[performance] Cache platform name in SystemReader

SystemReader.isMacOs() and SystemReader.isWindows() return values are
unlikely to change during the JVM lifetime (except tests). Don't read
system properties each time the methods are called, just use previously
calculated value.

Change-Id: I495521f67a8b544e7b7247d99bbd05a42ea16d20
Signed-off-by: Andrey Loskutov <loskutov@gmx.de>",0,1,1,0,0,1,1,0,0
55692,Ice72c9f4388583e18cf8aca6e837cc4299fd07fd,https://git.eclipse.org/r/#/c/55692,1,a2c89c4e3b327e6ccdbdba187b86dc3a1c9a0b0f,b556d96f2e198aede163fa50461ff5cea97d7d65,1,10/09/15,11/09/15,2,S3 transport: Fix check for tmpdir,"S3 transport: Fix check for tmpdir

Properties.containsKey() is the correct call here; contains() was testing
if a value is present but the key is what was meant.

Change-Id: Ice72c9f4388583e18cf8aca6e837cc4299fd07fd",0,0,0,0,0,0,0,0,0
55898,I86c7b36174e384f106b51fe92f306018fd1dbdf0,https://git.eclipse.org/r/#/c/55898,6,b556d96f2e198aede163fa50461ff5cea97d7d65,eb9fc9f10c84130ed2d478bd2f24e817600deba6,1,14/09/15,07/04/16,30,Fix repository cache never closing repository,"Fix repository cache never closing repository

Repository has a usage counter that is initialized to 1 at
instantiation and this counter is decremented when Repository.close
method is called. There is also a Repository.incrementOpen method that
RepositoryCache uses to increment the usage count when it's returning a
repository that is already opened.

The problem was that RepositoryCache was incrementing the usage count
for repositories that it just opened. The usage count was 2 when it
should have been 1.

Incrementing usage count is now only be done for repository that are
served from the cache.

This bug is causing slow memory increase of our Gerrit server until the
server become slow. Even if the RepositoryCache is using SoftReference,
it seems that the JVM is not garbage collecting the repositories because
it's not yet on the edge of being out of memory.

To test this change, I replicated all repositories(11k) from Gerrit
master to one slave. The Gerrit master used memory after this test was
10GB without this change and 3.5GB with.

Change-Id: I86c7b36174e384f106b51fe92f306018fd1dbdf0
Signed-off-by: Hugo Ars <hugo.ares@ericsson.com>",0,1,0,0,0,0,1,0,0
55902,Iacb961de8e8b1f5b37824bf0d1a4caf4c6f1233f,https://git.eclipse.org/r/#/c/55902,5,514530f53da0fb073271f4fcc8f73229e95c5ad8,3d85a5c152364790ecda32deb64b0e573442b8b0,0,14/09/15,07/04/16,6,Fix RefDirectory not closing resources,"Fix RefDirectory not closing resources

When repositories are opened using the RepositoryCache, they are kept in
memory and when the repository usage counter reaches 0, the
Repository.close method is called which then calls close method on its
reference and object databases.

The problem is that RefDirectory.close method was a no-op and the
reference database was kept in memory. This problem is only happening
when opening a repository using the RepositoryCache because it never
evicts repositories, it's just calling the close method.

Change-Id: Iacb961de8e8b1f5b37824bf0d1a4caf4c6f1233f
Signed-off-by: Hugo Ars <hugo.ares@ericsson.com>",0,1,0,0,0,0,1,NA,NA
55903,Ic6c57a90a42813164ce65c2244705fc42e84d700,https://git.eclipse.org/r/#/c/55903,3,845e55f69bf7a5287e1aa353b4e1ba3c7f5b4dba,c0a02b95dfedecb9aad3a12d5ea2de24f541f6db,1,14/09/15,14/09/15,35,UploadPack: Verify clients send only commits for shallow lines,"UploadPack: Verify clients send only commits for shallow lines

If a client mistakenly tries to send a tag object as a shallow line
JGit blindly assumes this is a commit and tries to parse the tag
buffer using the commit parser. This can cause an obtuse error like:

  InvalidObjectIdException: Invalid id: t c0ff331234...

The ""t"" comes from the ""object c0ff331234..."" line of the tag tring
to be parsed as though it where the ""tree"" line of a commit.

Run any client supplied shallow lines through the RevWalk to lookup
the object types. Fail fast with a protocol exception if any of them
are non-commit.

Skip objects not known to this repository. This matches behavior
with git-core's upload-pack, which sliently skips over any shallow
line object named by the client but not known by the server.

Change-Id: Ic6c57a90a42813164ce65c2244705fc42e84d700",0,0,0,0,0,0,0,0,0
55907,I766d95aa282c92dcbd2846145ee52e9cc62dd1f8,https://git.eclipse.org/r/#/c/55907,1,6c82f69fb192c7518224b603d37f0a8d7c03b07f,88b85ba85761ec82f326da665a6765298e2e65e4,0,14/09/15,14/09/15,98,JGit v4.0.2.201509141540-r,"JGit v4.0.2.201509141540-r

Change-Id: I766d95aa282c92dcbd2846145ee52e9cc62dd1f8
Signed-off-by: Matthias Sohn <matthias.sohn@sap.com>",1,0,0,1,0,0,1,NA,NA
55927,Ic5ab059bee460c76c6ff3e08141ce351a559691c,https://git.eclipse.org/r/#/c/55927,1,88b85ba85761ec82f326da665a6765298e2e65e4,29f33e7479e7dfdfb3c1a938206ca25e1f9e14ae,0,14/09/15,14/09/15,496,Prepare 4.0.3-SNAPSHOT builds,"Prepare 4.0.3-SNAPSHOT builds

Change-Id: Ic5ab059bee460c76c6ff3e08141ce351a559691c
Signed-off-by: Matthias Sohn <matthias.sohn@sap.com>",1,0,0,1,0,0,1,NA,NA
55930,I1b448ce01f4cdfa62611da9e4d37321a4af9c12d,https://git.eclipse.org/r/#/c/55930,2,034cd2961e0cd02fbe9f805d0b3fb3d87f726c7a,6e8ffe34025100d8be474001a0c17e400be895c7,0,14/09/15,14/09/15,586,Merge branch 'stable-4.0',"Merge branch 'stable-4.0'

Change-Id: I1b448ce01f4cdfa62611da9e4d37321a4af9c12d
Signed-off-by: Matthias Sohn <matthias.sohn@sap.com>",1,0,0,1,1,0,1,NA,NA
56115,I889bfe1d8c48210d9a42147a523c4829c5b5d1e3,https://git.eclipse.org/r/#/c/56115,1,411f7542b3adc020729aa866bf225cff80ac341a,40acbe9199e5fb03cd17f1abfbfd8023269d69b4,1,16/09/15,17/09/15,37,Fix integer boxing eclipse warning,"Fix integer boxing eclipse warning

There was this warning because private assertEquals(Object, Object)
method was shadowing JUnit assertEquals methods.

Change-Id: I889bfe1d8c48210d9a42147a523c4829c5b5d1e3
Signed-off-by: Hugo Ars <hugo.ares@ericsson.com>",0,0,0,0,0,0,0,0,0
56116,I89a8495a799254586016393e51697cfbceacac8b,https://git.eclipse.org/r/#/c/56116,2,b994e2a2d9d95c7edc0abd2befa5f1b59fa14bae,f817b5dd0a27a2e01bee3504b49d4d77186fc491,0,16/09/15,17/09/15,2,Fix integer boxing eclipse warning,"Fix integer boxing eclipse warning

Change-Id: I89a8495a799254586016393e51697cfbceacac8b
Signed-off-by: Hugo Ars <hugo.ares@ericsson.com>",0,0,0,1,0,0,1,NA,NA
56120,Ieff64896aebeab793ff08ab89f10d5ccaee66021,https://git.eclipse.org/r/#/c/56120,2,6dd6dc1d1027cf37a27428df15fb52a0d315c8aa,aee5a323d9444d33f519d96fdb35f4474c145946,1,16/09/15,17/09/15,3,Fix warnings about missing serialVersionUID,"Fix warnings about missing serialVersionUID

Change-Id: Ieff64896aebeab793ff08ab89f10d5ccaee66021
Signed-off-by: Hugo Ars <hugo.ares@ericsson.com>",0,0,0,1,0,0,1,0,0
56177,I0ba416f1cc172a835dd2723ff7fa904597ffd097,https://git.eclipse.org/r/#/c/56177,2,aee5a323d9444d33f519d96fdb35f4474c145946,0f4f59843ebb1168cef84f722abe7170a58d301b,1,17/09/15,17/09/15,14,Fix endless loop in ObjectChecker for MacOS,"Fix endless loop in ObjectChecker for MacOS

Bug: 477090
Change-Id: I0ba416f1cc172a835dd2723ff7fa904597ffd097",0,0,0,0,0,1,1,0,0
56263,If13f7b406904fad814416c93ed09ea47ef183337,https://git.eclipse.org/r/#/c/56263,3,0f4f59843ebb1168cef84f722abe7170a58d301b,eb5bd1736a5d91f2bf9b7094d974cabc179056ed,1,18/09/15,25/09/15,38,show submodule difference as a hunk,"show submodule difference as a hunk

Current DiffFormat behavior regarding submodules (aka git links) is
incorrect. The ""Subproject commit <sha1>"" appears as part of the diff
header, rather than as its own hunk.

--> From JGit implementation
 diff --git a/plugins/cookbook-plugin b/plugins/cookbook-plugin
 index b9d3ca8..ec6ed89 160000
 --- a/plugins/cookbook-plugin
 +++ b/plugins/cookbook-plugin
 -Subproject commit b9d3ca8a65030071e28be19296ba867ab424fbbf
 +Subproject commit ec6ed89c47ba7223f82d9cb512926a6c5081343e

--> From C Git 2.5.2
 diff --git a/plugins/cookbook-plugin b/plugins/cookbook-plugin
 index b9d3ca8..ec6ed89 160000
 --- a/plugins/cookbook-plugin
 +++ b/plugins/cookbook-plugin
 @@ -1 +1 @@
 -Subproject commit b9d3ca8a65030071e28be19296ba867ab424fbbf
 +Subproject commit ec6ed89c47ba7223f82d9cb512926a6c5081343e

The current way of processing submodules results in no hunk header and
includes the contents of the hunk as part of the headers. To fix this, we
can't just have our writeGitLinkDiffText output the hunk header. We have
to change the flow so that the raw text gets parsed as a diff. The easiest
way to do this is to fake the RawText in the FormatResult when we have a
GITLINK.

It should be noted that it seems possible for there to be a difference
between a GITLINK and a non-GITLINK, but I don't think this can happen in
practice, so I don't think we need to worry too much about it.

This patch also fixes up the test for GitLink headers, as the test was
for the old behavior. My setup has 3 other failing tests which may or
may not be the result of environmental changes. However, the same tests
fail without this commit, so I do not believe they are related.

Change-Id: If13f7b406904fad814416c93ed09ea47ef183337
Signed-off-by: Jacob Keller <jacob.keller@gmail.com>",0,0,1,0,0,0,1,0,0
56278,I5412fe2f72c8ea0227b9ff3a3352ccb555e22231,https://git.eclipse.org/r/#/c/56278,3,bf9e2000f0bc272f7e62c2a00c3eb9c8f183d435,abe1d8092595bc2dffc0989e40fec5a73fdf0827,1,18/09/15,23/09/15,8,"Remove unneeded @SuppressWarnings(""boxing"")","Remove unneeded @SuppressWarnings(""boxing"")

Fix the unit tests to not do boxing by using assertEquals(int, int)
instead of assertThat with a matcher.

Change-Id: I5412fe2f72c8ea0227b9ff3a3352ccb555e22231
Signed-off-by: Hugo Ars <hugo.ares@ericsson.com>",0,0,1,0,0,0,1,0,0
56281,Ia364816e4da8d7b6cfa72f10758ca31aa8a1f9db,https://git.eclipse.org/r/#/c/56281,3,00deb7ebe764f069b0834eaa3e5dfd6a42ab25d6,4e72c9b6737af2efb92b554bf1505f1061094b15,1,18/09/15,07/04/16,58,Remove repository from cache when it's closed,"Remove repository from cache when it's closed

RepositoryCache has 2 methods to remove a repository from the cache but
they are never called when a repository is closed. Users of the cache
were expected to call one of those 2 methods but how could they have
called them at proper time without having visibility of the repository
usage count.

Ideally, I would have rework the RepositoryCache to wrap any repository
it opens in a class that would be responsible to unregister them from the
cache when it's really closed, i.e. when usage counter reaches 0. The
problem preventing the wrapping solution is the RepositoryCache.register
method that allows to register an already opened repository in the cache.
Such repositories cannot be wrapped because caller are still holding a
reference on the unwrapped repository.

Document that RepositoryCache.close method is removing the repository
from the cache as well as closing it and rework
RepositoryCache.unregister method to only remove the repository from the
cache. Use the latter to unregister repository when Repository.doClose
is getting executed.

Change-Id: Ia364816e4da8d7b6cfa72f10758ca31aa8a1f9db
Signed-off-by: Hugo Ars <hugo.ares@ericsson.com>",0,0,0,0,0,0,0,0,0
56390,I5dbde6ec806c66c86ac542978918361461021294,https://git.eclipse.org/r/#/c/56390,3,f608a46cb08e34df6ca572124aa1fc120d2729a9,670cdb47020765cae61c77581d6d569f581b0c5a,1,21/09/15,27/09/15,161,Use java.nio.file consistently in FS,"Use java.nio.file consistently in FS

Since 4.0 we require Java 7 so there is no longer a need to override the
following methods in FS_POSIX and FS_Win32
- lastModified()
- setLastModified()
- length()
- isSymlink()
- exists()
- isDirectory()
- isFile()
- isHidden()
hence implement these methods in FS and remove overrides in subclasses.

Change-Id: I5dbde6ec806c66c86ac542978918361461021294
Signed-off-by: Matthias Sohn <matthias.sohn@sap.com>",0,0,1,0,0,0,1,0,0
56391,I6f455fd9fb4eac261ca73d0bec6a4e7dae9f2e91,https://git.eclipse.org/r/#/c/56391,20,afbf304a1218ac2297ec068538efc12c0d642990,b3e711848eb8606564ed590a89d477483e5865f1,1,21/09/15,18/10/15,1454,Adding AES Walk Encryption support in http://www.jets3t.org/ mode,"Adding AES Walk Encryption support in http://www.jets3t.org/ mode

See previous attempt: https://git.eclipse.org/r/#/c/16674/

Here we preserve as much of JetS3t mode as possible
while allowing to use new Java 8 PBE algorithms
such as PBEWithHmacSHA512AndAES_256

List of changes:
* change pom.xml to control long tests
* add WalkEncryptionTest.launch to run long tests
* add AmazonS3.Keys to to normalize use of constants
* change WalkEncryption to support AES in JetS3t mode
* add WalkEncryptionTest to test remote encryption pipeline
* add support for CI configuration for live Amazon S3 testing

Change-Id: I6f455fd9fb4eac261ca73d0bec6a4e7dae9f2e91
Signed-off-by: Andrei Pozolotin <andrei.pozolotin@gmail.com>",0,1,0,0,1,0,1,0,0
56437,Ic7276442d7f8f02594b85eae1ef697362e62d3bd,https://git.eclipse.org/r/#/c/56437,4,4e718da6768cfc25a8e63c439e92eaa66ea0bc07,7ac86fc6c1c3d268bee05b3180f13862eb1a6808,1,22/09/15,24/09/15,94,Properly support ^ and $ special characters in ignore rules,"Properly support ^ and $ special characters in ignore rules

Ignore rules should escape $ and ^ chars if using regular expressions,
because they should be treated literally if they aren't part of a
character group.

Bug 478055
Change-Id: Ic7276442d7f8f02594b85eae1ef697362e62d3bd
Signed-off-by: Andrey Loskutov <loskutov@gmx.de>",0,1,0,0,0,1,1,0,0
56567,I7ec09e82d806cde61165a6ceb79de022f18d9fe2,https://git.eclipse.org/r/#/c/56567,1,2fac1ec39c4afb887d962d6a2de30eb5468c7259,2c1eee8a3d10ae6f7e2a246212d9b2d0273b0090,0,23/09/15,23/09/15,98,JGit v4.0.3.201509231615-r,"JGit v4.0.3.201509231615-r

Change-Id: I7ec09e82d806cde61165a6ceb79de022f18d9fe2
Signed-off-by: Matthias Sohn <matthias.sohn@sap.com>",1,0,0,1,0,0,1,NA,NA
56650,I1a10861bcd0df3b3673fc2d481c8129b2bdac5f9,https://git.eclipse.org/r/#/c/56650,18,936920568cd9ea228f0b9d6dfc7bd0236947121c,44538c253730895bb09be50efa2e59262de136cc,1,24/09/15,05/10/15,83,RepoCommand: Add an optional branch config to the gitmodules creation,"RepoCommand: Add an optional branch config to the gitmodules creation

When there is a ""branch"" key in the .gitmodules file, projects hosted
in Gerrit will automatically update once a submodule changes.
This mechanism is called superproject subscription [1].
This allows to enable this feature.

[1] https://review.openstack.org/Documentation/user-submodules.html

Change-Id: I1a10861bcd0df3b3673fc2d481c8129b2bdac5f9
Signed-off-by: Stefan Beller <sbeller@google.com>",0,1,0,0,0,0,1,0,0
56678,I3dc973475d1943c5622103701fa8cb3ea0684e3e,https://git.eclipse.org/r/#/c/56678,3,df3117ad7a419d7e13e5b358cd3cc7c3ddf03a04,7d3ec81495d98cd1abd16fe48c63613045c3283c,1,24/09/15,26/09/15,99,[wip] Possible fix for backspace handling in ignore rules,"[wip] Possible fix for backspace handling in ignore rules

Just ideas, need to be validated if the git CLI behavior matches tests,
add more test cases etc.

Bug: 478065
Change-Id: I3dc973475d1943c5622103701fa8cb3ea0684e3e
Signed-off-by: Andrey Loskutov <loskutov@gmx.de>",0,0,0,0,0,1,1,-1,0
56744,I713290bcacbe92d88e5ef28ce137de73dd1abe2f,https://git.eclipse.org/r/#/c/56744,7,8db212f9250b5a54f314daaf02c4c83b0272cb25,0f3527caa914d95185629912f887006ffdcb66d5,1,25/09/15,18/10/15,770,Adding JGitV1 and JGitV2 Walk Encryption,"Adding JGitV1 and JGitV2 Walk Encryption

Building on top of https://git.eclipse.org/r/#/c/56391/

Here we preserve compatibility with JetS3t
and add 2 new native JGit encryption implementations.

For reference, see connection configuration files:
* Version 0: jgit-s3-connection-v-0.properties
* Version 1: jgit-s3-connection-v-1.properties
* Version 2: jgit-s3-connection-v-2.properties

Change-Id: I713290bcacbe92d88e5ef28ce137de73dd1abe2f
Signed-off-by: Andrei Pozolotin <andrei.pozolotin@gmail.com>",0,1,0,0,1,0,1,3,1
56760,I70d3657a2a328818ea2bdc1409d18ecb3a85825b,https://git.eclipse.org/r/#/c/56760,1,b6047677ee30cb7ad19cd65a69c6d17cc21dc021,906b2bdfc63582809ef06dca9a6b71ec25f0d739,1,26/09/15,26/09/15,3,[ignore rules] Fix for character group matcher,"[ignore rules] Fix for character group matcher

Currently we fail to properly recognize character group if the pattern
before character group contains opening bracket.

See comment from Sebastien Arod on https://git.eclipse.org/r/56678/

Change-Id: I70d3657a2a328818ea2bdc1409d18ecb3a85825b
Signed-off-by: Andrey Loskutov <loskutov@gmx.de>",0,0,0,0,0,1,1,0,0
56773,I734a4d14fcdd721070e3f75d57e33c2c0700d503,https://git.eclipse.org/r/#/c/56773,6,428138ad7e2ff0b1fdf45e68eb707e11e84ced21,3f47ffeacc99505034dfc0e938498bef91db4db9,1,26/09/15,02/10/15,60,[ignore rules] Added extra tests for not single brackets,"[ignore rules] Added extra tests for not single brackets

See also http://article.gmane.org/gmane.comp.version-control.git/278699

Change-Id: I734a4d14fcdd721070e3f75d57e33c2c0700d503
Signed-off-by: Andrey Loskutov <loskutov@gmx.de>",0,1,0,0,0,1,1,-1,0
56817,I9a536870b9f5c1247c52d6c976a954115982fa1c,https://git.eclipse.org/r/#/c/56817,1,7b0fdb35d31c6c69832464fa5166658f0710012d,c58b43afa3fa0657d6139ca75dc8f04ac257f100,0,28/09/15,28/09/15,98,JGit v4.1.0.201509280440-r,"JGit v4.1.0.201509280440-r

Change-Id: I9a536870b9f5c1247c52d6c976a954115982fa1c
Signed-off-by: Matthias Sohn <matthias.sohn@sap.com>",1,0,0,1,0,0,1,NA,NA
56840,I035f3a8d0f0de86e8b8f00e668be5ce008402e82,https://git.eclipse.org/r/#/c/56840,1,c58b43afa3fa0657d6139ca75dc8f04ac257f100,193602ab9a3303bbb790f42eefc8142051194d86,0,28/09/15,28/09/15,496,Prepare 4.1.1-SNAPSHOT builds,"Prepare 4.1.1-SNAPSHOT builds

Change-Id: I035f3a8d0f0de86e8b8f00e668be5ce008402e82
Signed-off-by: Matthias Sohn <matthias.sohn@sap.com>",1,0,0,1,0,0,1,NA,NA
56844,Ibcce1ed375d4a6ba05461e6c6b287d16752fa681,https://git.eclipse.org/r/#/c/56844,5,0febda4575f8bc2855fa0d0897cea960e0655d7a,05d7c4e342e703e95fb18ddb77c571de6ccf9586,1,28/09/15,30/09/15,275,Add test case comparing CGit vs JGit ignore behavior for random patterns,"Add test case comparing CGit vs JGit ignore behavior for random patterns

This test case was developed in the scope of bug 478065.

Bug: 478065
Change-Id: Ibcce1ed375d4a6ba05461e6c6b287d16752fa681
Signed-off-by: Sbastien Arod <sebastien.arod@gmail.com>",0,1,0,0,0,0,1,0,0
56845,Ie898f10c39f32419628f2b6dff7e3ec083ddfdfe,https://git.eclipse.org/r/#/c/56845,1,c6f3edd5194bc9e4feffbb3e53b6fd26382ba4c4,27702b49dbefe5eab1882364e6af1563f59d97be,0,28/09/15,28/09/15,0,Merge branch 'stable-4.1',"Merge branch 'stable-4.1'

* stable-4.1:
  Prepare 4.1.1-SNAPSHOT builds
  JGit v4.1.0.201509280440-r

Change-Id: Ie898f10c39f32419628f2b6dff7e3ec083ddfdfe
Signed-off-by: Matthias Sohn <matthias.sohn@sap.com>",1,0,0,0,0,0,1,NA,NA
56846,If559d3565b1f84c93a533e1ce18d5293605d1950,https://git.eclipse.org/r/#/c/56846,2,27702b49dbefe5eab1882364e6af1563f59d97be,3d6acb8c3714bbeb1e480bc006a00f675bb807c0,0,28/09/15,28/09/15,498,Prepare 4.2.0-SNAPSHOT builds,"Prepare 4.2.0-SNAPSHOT builds

Change-Id: If559d3565b1f84c93a533e1ce18d5293605d1950
Signed-off-by: Matthias Sohn <matthias.sohn@sap.com>",0,0,0,1,0,0,1,NA,NA
57050,I30058eed31b92067a6ab22e787732b08e29f8d63,https://git.eclipse.org/r/#/c/57050,1,cab3be23755c9d044f75d4eb80687b7dce1f0fc5,6bd6e84914f8d0d1ddd9621d6cee807afcd5c15d,1,30/09/15,30/09/15,5,Fix compiler warnings in DiffFormatter.writeGitLinkText,"Fix compiler warnings in DiffFormatter.writeGitLinkText

- Remove declaration of IOException that is no longer thrown

- Add missing //$NON-NLS-1$ to prevent ""Non-externalized string literal""
  warning.

These warnings seem to have been introduced by If13f7b406.

Change-Id: I30058eed31b92067a6ab22e787732b08e29f8d63
Signed-off-by: David Pursehouse <david.pursehouse@sonymobile.com>",0,0,0,0,0,1,1,0,0
57139,If4b30a6d6aa849b4d6b3b0c900558c609822840c,https://git.eclipse.org/r/#/c/57139,1,e53a5ef3eaa8c84350137c7a9e9a1177afa10e34,e159953dc4130f8b661974f163699296e23135f9,0,30/09/15,01/10/15,475,Use japicmp instead of clirr to detect API changes,"Use japicmp instead of clirr to detect API changes

Clirr doesn't support Java 8 hence use japicmp instead.
See https://github.com/siom79/japicmp

Change-Id: If4b30a6d6aa849b4d6b3b0c900558c609822840c
Signed-off-by: Matthias Sohn <matthias.sohn@sap.com>",1,0,0,0,0,0,1,NA,NA
57148,Ife09be2822bc476199f10da8d1eb7ccc8da05b79,https://git.eclipse.org/r/#/c/57148,1,173d1a9d24ef60f8f634c8c4cd0262ae6a0e120c,61f3bf3d95e72fdb4555f8d196a01895f1dcbf6b,1,01/10/15,01/10/15,4,FanoutBucket: Create ObjectInserter.Formatter in try-with-resource,"FanoutBucket: Create ObjectInserter.Formatter in try-with-resource

To prevent potential resource leak.

Change-Id: Ife09be2822bc476199f10da8d1eb7ccc8da05b79
Signed-off-by: David Pursehouse <david.pursehouse@sonymobile.com>",0,0,0,0,0,1,1,0,0
57155,I8ac4ae61193324849bafb46501a55f93c5029a4e,https://git.eclipse.org/r/#/c/57155,1,61f3bf3d95e72fdb4555f8d196a01895f1dcbf6b,c32cfb39a47091918a58bd917a3e16a4dd7fbc9e,1,01/10/15,01/10/15,454,pgm: Create instances of Git in try-with-resource,"pgm: Create instances of Git in try-with-resource

To prevent potential resource leak.

Change-Id: I8ac4ae61193324849bafb46501a55f93c5029a4e
Signed-off-by: David Pursehouse <david.pursehouse@sonymobile.com>",0,0,0,0,0,1,1,0,0
57161,I3f4af9037c9d26ec575b529ab66066365ab918a5,https://git.eclipse.org/r/#/c/57161,1,c32cfb39a47091918a58bd917a3e16a4dd7fbc9e,9ab5f571b57ad99a58ff9d66b9fd5f76a28af459,1,01/10/15,01/10/15,16,ant: Open Repository and Git in try-with-resource,"ant: Open Repository and Git in try-with-resource

To prevent potential resource leak.

Change-Id: I3f4af9037c9d26ec575b529ab66066365ab918a5
Signed-off-by: David Pursehouse <david.pursehouse@sonymobile.com>",0,0,0,0,0,1,1,0,0
57162,I2039af04d9fb75405f8e13abf508623b7d4ef324,https://git.eclipse.org/r/#/c/57162,1,9ab5f571b57ad99a58ff9d66b9fd5f76a28af459,f0d32d92d215df45b0b483610dd54453a034cd71,1,01/10/15,01/10/15,168,pgm: Open RevWalk and TreeWalk in try-with-resource,"pgm: Open RevWalk and TreeWalk in try-with-resource

To prevent potential resource leaks.

Change-Id: I2039af04d9fb75405f8e13abf508623b7d4ef324
Signed-off-by: David Pursehouse <david.pursehouse@sonymobile.com>",0,0,0,0,0,1,1,0,0
57255,I448ecc9a1334977d9f304dd61ea20c7a8e692b10,https://git.eclipse.org/r/#/c/57255,1,18982ed5b67647f3195d493ba568dfe354014595,7390441d37f15654f867cc0a3d5b38ab595477f2,0,01/10/15,01/10/15,0,Merge branch 'stable-4.1',"Merge branch 'stable-4.1'

* stable-4.1:
  pgm: Open RevWalk and TreeWalk in try-with-resource
  ant: Open Repository and Git in try-with-resource
  pgm: Create instances of Git in try-with-resource
  FanoutBucket: Create ObjectInserter.Formatter in try-with-resource
  Fix compiler warnings in DiffFormatter.writeGitLinkText

Change-Id: I448ecc9a1334977d9f304dd61ea20c7a8e692b10
Signed-off-by: Matthias Sohn <matthias.sohn@sap.com>",1,0,0,0,0,0,1,NA,NA
57327,Ia04d09ca337c357004567a54a9fc01ea1e55e508,https://git.eclipse.org/r/#/c/57327,1,d2639fc93d0da5f4fbd2dfcc34b195e4b1247bd8,0b887c027c168cd2fe6bfe27edfdde0143069f4c,0,02/10/15,03/10/15,2,Compare API against 4.1.0.201509280440-r,"Compare API against 4.1.0.201509280440-r

Change-Id: Ia04d09ca337c357004567a54a9fc01ea1e55e508
Signed-off-by: Matthias Sohn <matthias.sohn@sap.com>",1,0,0,1,0,0,1,NA,NA
57553,Ia3aa1130795d162e482b4088f190956d70857244,https://git.eclipse.org/r/#/c/57553,2,32b1bbb31d84a2dbaf53f6d6d02d81b6a3b3491a,0237db5b0cc49836c78ccde7a94c376f0f37ad1d,1,06/10/15,06/10/15,6,Fix docstring for RepoCommand.setRecordRemoteBranch,"Fix docstring for RepoCommand.setRecordRemoteBranch

Change-Id: Ia3aa1130795d162e482b4088f190956d70857244
Signed-off-by: Stefan Beller <sbeller@google.com>",0,0,0,1,0,0,1,0,0
57728,Idb8b270e92daf02ecdc381d148a5958bd83ec057,https://git.eclipse.org/r/#/c/57728,2,a2cc7e3ab0d36e1ba6946c340b2ec1a1bee92125,4ca9bb488d503033e264aeb3d5c2ad0074031744,1,08/10/15,09/10/15,24,Add utility method allowing to check for empty folders in workdir,"Add utility method allowing to check for empty folders in workdir

Previously the method DirCacheCheckoutTest#assertWorkDir() silently
skipped over empty folders. If tests would have left unexpected empty
folders in the worktree this would be overlooked. Now empty folders have
to be specified by something like mkmap(""<foldername>"", ""/"", ...]

Change-Id: Idb8b270e92daf02ecdc381d148a5958bd83ec057",0,0,0,0,0,1,1,0,0
57759,Ied92c70cfa0778facc670e0f14a0980bed5e3bfb,https://git.eclipse.org/r/#/c/57759,1,5c8505a436a163457b0fb32ec68f0a9e404b01a4,46b339b81ed746bdfdc65e79cfea81c5eae71ada,1,08/10/15,10/10/15,170,Limit the range of commits for which bitmaps are created.,"Limit the range of commits for which bitmaps are created.

A bitmap index contains bitmaps for a set of commits in a pack file.
Creating a bitmap for every commit is too expensive, so heuristics
select the most ""important"" commits. The most recent commits are the
most valuable. To clone a repository only those for the branch tips are
needed. When fetching, only commits since the last fetch are needed.

The commit selection heuristics generally work, but for some
repositories the number of selected commits is prohibitively high. One
example is the MSM 3.10 Linux kernel. With over 1 million commits on
2820 branches, the current heuristics resulted in +36k selected commits.
Each uncompressed bitmap for that repository is ~413k, making it
difficult to complete a GC operation in available memory.

The benefit of creating bitmaps over the entire history of a repository
like the MSM 3.10 Linux kernel isn't clear. For that repository, most
history for the last year appears to be in the last 100k commits.
Limiting bitmap commit selection to just those commits reduces the count
of selected commits from ~36k to ~10.5k. Dropping bitmaps for older
commits does not affect object counting times for clones or for fetches
on clients that are reasonably up-to-date.

This patch defines a new ""bitmapCommitRange"" PackConfig parameter to
limit the commit selection process when building bitmaps. The range
starts with the most recent commit and walks backwards. A range of 10k
considers only the 10000 most recent commits. A range of zero creates
bitmaps only for branch tips. A range of -1 (the default) does not limit
the range--all commits in the pack are used in the commit selection
process.

Change-Id: Ied92c70cfa0778facc670e0f14a0980bed5e3bfb
Signed-off-by: Terry Parker <tparker@google.com>",0,0,0,0,0,0,0,1,1
57799,I08e23822a577aaf22120c5137eb169b6bd08447b,https://git.eclipse.org/r/#/c/57799,6,f68ecd1913b9657701d17e3b0e4b7d7ff2894960,904c7335cc2807fced2a951140a7d482204ce1ef,1,09/10/15,18/05/16,43,"Make sure when ""reset --hard"" detect conflicts to overwrite","Make sure when ""reset --hard"" detect conflicts to overwrite

Even when performing a ""reset --hard"" a checkout is done. The pathes are
checked for potential checkout conflicts. But in the end for all
remaining conflicts these files are simply deleted from the working
tree. That's not the right strategy to handle checkout conflicts during
""reset --hard"". Instead for every conflict we should simply checkout the
mergeCommit's content.

Bug: 474842
Change-Id: I08e23822a577aaf22120c5137eb169b6bd08447b",0,1,0,0,0,1,1,1,1
57900,I6645a8f36ea349a5f04fd14d2c1ef2ecac2bcc37,https://git.eclipse.org/r/#/c/57900,1,63191f9a323ead8de848414a7ef166c4c91a153a,e7883a47bdea4d7d140fc12c03a02d56246091a0,1,10/10/15,10/10/15,1,Don't call reader.close() 2 times on dispose(),"Don't call reader.close() 2 times on dispose()

Bug: 479406
Change-Id: I6645a8f36ea349a5f04fd14d2c1ef2ecac2bcc37
Signed-off-by: Andrey Loskutov <loskutov@gmx.de>",0,0,0,0,0,1,1,0,0
57925,I34f074ac447eb4c3ada8b250309bb568b426189d,https://git.eclipse.org/r/#/c/57925,2,3cbb879b33e054aec96dead40fba351ce045f9e0,3f8dcbb2a64ca377b17bc627c85332a1c28cc991,1,11/10/15,12/10/15,52,Fixed jgit test failures on Windows,"Fixed jgit test failures on Windows

RepoCommandTest was failing because of open file handle left.
IgnoreNodeTest was failing because of problems with creation of files
with trailing spaces on Windows.
RepoCommandTest was failing because of wrong line delimiter.

Change-Id: I34f074ac447eb4c3ada8b250309bb568b426189d
Signed-off-by: Andrey Loskutov <loskutov@gmx.de>",0,0,0,0,0,1,1,0,0
58100,I23d98dd565912c58dcf2f24f3ebc24824670cff3,https://git.eclipse.org/r/#/c/58100,1,319c6a2a48ef232f49786c6944ac8675fd6a7da4,166894debfb7d7c625d2424a47d1d4d01aeda47f,1,13/10/15,14/10/15,1,Test stability: add fsTick() to avoid random testPruneNone() failures,"Test stability: add fsTick() to avoid random testPruneNone() failures

At least on Windows the test failed each second time on the last assert.
Adding a small timeout before gc.prune() makes the test stable again.

Change-Id: I23d98dd565912c58dcf2f24f3ebc24824670cff3
Signed-off-by: Andrey Loskutov <loskutov@gmx.de>",0,0,0,0,0,1,1,0,0
58165,I88feb0c3ffb2c686b1d0594e669729b065cda4cb,https://git.eclipse.org/r/#/c/58165,4,a757016a9e338d59cee5e447a813754647d5713b,45cefb8abb6e1a1f97d33bb896e0cec3f4115393,1,14/10/15,20/01/16,135,add setAllowEmpty() to CommitCommand,"add setAllowEmpty() to CommitCommand

CommitCommand should allow to specify whether empty commits (commits
having the same tree as the sole predecessor commit) are allowed or not.
Similar to native git's ""--allow-empty"" flag. 

The defaults differ between JGit and native git even after this change.
When not specifying paths then by default JGit allows to create empty
commits while native git does not. It would be API breaking to changes
this now.

Bug: 460301
Change-Id: I88feb0c3ffb2c686b1d0594e669729b065cda4cb",0,1,0,0,0,1,1,0,0
58403,I750ca3765e95afb06609a362fb3354afc3b66b90,https://git.eclipse.org/r/#/c/58403,2,98e3b9b754e77078a13cfbcfdad6c61cea53790b,af8596c29827d9ca1903f10655cceaa2f7f15967,0,18/10/15,18/10/15,3,Silence Maven complaining about unset versions of reporting plugins,"Silence Maven complaining about unset versions of reporting plugins

Since we use the reporting plugins only in the parent pom.xml there's no
point in using the new pluginManagement tag in the reporting section
which was introduced to fix
https://issues.apache.org/jira/browse/MSITE-443

Change-Id: I750ca3765e95afb06609a362fb3354afc3b66b90
Signed-off-by: Matthias Sohn <matthias.sohn@sap.com>",1,0,0,0,0,0,1,NA,NA
58468,I5ccbb96c8849f331c302d9f7840e05f9650c4608,https://git.eclipse.org/r/#/c/58468,3,479c15bd89b3cc73d23c99002022d328e7f3bcdd,6f98c0a84b58c9251ce7bd279e1d3facaec7ecb5,1,19/10/15,22/10/15,620,Update bitmap selection throttling to fully span active branches.,"Update bitmap selection throttling to fully span active branches.

Replace the bitmapCommitRange knob that was recently introduced with
two new knobs: bitmapExcessiveBranchCount and
bitmapInactiveBranchAgeInDays. If the count of branches does not
exceed bitmapExcessiveBranchCount, then the current algorithm is kept
for all branches.

If the branch count is excessive, then the commit time for the tip
commit for each branch is used to determine if a branch is inactive.
""Active"" branches get full commit selection using the existing
algorithm. ""Inactive"" branches get fewer bitmaps near the branch tips.

Expose all of the bitmap selection parameters via PackConfig:
""bitmapContiguousCommitCount"", ""bitmapRecentCommitCount"",
""bitmapRecentCommitSpan"", ""bitmapDistantCommitSpan"",
""bitmapExcessiveBranchCount"", and ""bitmapInactiveBranchAge"".

Add an optimization to break out of the inner loop of selectCommits() if
all of the commits for the current branch have already been found.

When reusing bitmaps from an existing packs, remove unnecessary
populating and clearing of the writeBitmaps/PackBitmapIndexBuilder.

Add comments to PackWriterBitmapPreparer, rename methods and variables
for readability.

Add tests.

Change-Id: I5ccbb96c8849f331c302d9f7840e05f9650c4608
Signed-off-by: Terry Parker <tparker@google.com>",0,0,1,0,1,0,1,0,0
58526,Ibbd9fe7f85d0064b0a19e3b675b9718a9e67c479,https://git.eclipse.org/r/#/c/58526,3,25efbd258809852c6f90ff7a8290205d98782c3b,bd7988e90dc7063c5c2ea794ec4c9688316f5e6b,1,20/10/15,20/10/15,92,Push control of time into MockSystemReader,"Push control of time into MockSystemReader

LocalDiskRepositoryTestCase and TestRepository have competing ideas
about time. Push them into MockSystemReader so they can
cooperate.

Change-Id: Ibbd9fe7f85d0064b0a19e3b675b9718a9e67c479
Signed-off-by: Terry Parker <tparker@google.com>",0,0,0,0,0,0,0,0,0
58586,I0fee9c0aaa1d98f918f25aa11c2160d86399467e,https://git.eclipse.org/r/#/c/58586,1,beb16c0b467da05226e3d50de01b9a8b1e2aea64,674e41afc432a61a73b9e7967a9c4ca6e5eb6be9,1,21/10/15,23/10/15,5,WalkEncryptionTest: get rid of Log4J dependency,"WalkEncryptionTest: get rid of Log4J dependency

Instead use SLF4J as all other code does

Change-Id: I0fee9c0aaa1d98f918f25aa11c2160d86399467e
Signed-off-by: Marc Strapetz <marc.strapetz@syntevo.com>",0,0,0,0,0,0,0,0,0
58593,Icb78afbd282c425173b3a7bc10eadc4015689bb8,https://git.eclipse.org/r/#/c/58593,1,d31352f08521ae14f13b910373e86983d4487e35,8f15b00d81bed9d3f3035ab16c5ff1aecf0b4f17,1,21/10/15,16/12/15,54,"Refspec: loosen restrictions on wildcard ""*""","Refspec: loosen restrictions on wildcard ""*""

Since Git 2.6 wildcard restrictions for refspecs have been loosened:
refspecs like ""refs/heads/*foo:refs/heads/foo*"" are valid now.

See Git commit 8d3981ccbed9fc211b4e67105015179d9d2a5692

Change-Id: Icb78afbd282c425173b3a7bc10eadc4015689bb8
Signed-off-by: Marc Strapetz <marc.strapetz@syntevo.com>",0,0,0,0,0,0,0,-1,0
58684,I288bf3f97d6fbfdfcd5dde2699eff433a7307fb9,https://git.eclipse.org/r/#/c/58684,2,9af825dc1f6f23dcf0e8bb6d26c7344d2e5b3a97,7a59d2f5b52222e64a72716a8537c88e5afcc425,1,22/10/15,22/10/15,435,Expose bitmap selection parameters via PackConfig,"Expose bitmap selection parameters via PackConfig

Expose the following bitmap selection parameters via PackConfig:
""bitmapContiguousCommitCount"", ""bitmapRecentCommitCount"",
""bitmapRecentCommitSpan"", ""bitmapDistantCommitSpan"",
""bitmapExcessiveBranchCount"", and ""bitmapInactiveBranchAge"".

The value of bitmapContiguousCommitCount, whereby bitmaps are
created for the most recent N commits in a branch, has never
been verified. If experiments show that they are not valuable,
then we can simplify the implementation so that there is only
a concept of recent and distant commit history (defined by
""bitmapRecentCommitCount""), and the only controls we need are
""bitmapRecentCommitSpan"" and ""bitmapDistantCommitSpan"".

Change-Id: I288bf3f97d6fbfdfcd5dde2699eff433a7307fb9
Signed-off-by: Terry Parker <tparker@google.com>",0,0,0,0,0,0,0,0,0
58760,I097c4b1369754f59137eb8848a680c61b06510ad,https://git.eclipse.org/r/#/c/58760,2,137d7002dfbcaae4172ce05348ee79784d6790d0,5b81170d670b12e057ef72e222097c2690f6b300,0,22/10/15,22/10/15,25,Add best-effort variant of File.getCanonicalFile(),"Add best-effort variant of File.getCanonicalFile()

See https://git.eclipse.org/r/#/c/58405/.

Change-Id: I097c4b1369754f59137eb8848a680c61b06510ad
Signed-off-by: Thomas Wolf <thomas.wolf@paranor.ch>",0,0,0,0,0,0,0,NA,NA
58770,I88880f18998e33377c0c684cbd8007b5d27d76e7,https://git.eclipse.org/r/#/c/58770,1,5b81170d670b12e057ef72e222097c2690f6b300,fdbce48a602c8ec1fca639ef98456b223c6d5527,1,22/10/15,22/10/15,11,"Restore TestRepository.getClock(), it is used by Gerrit/Gitiles","Restore TestRepository.getClock(), it is used by Gerrit/Gitiles

Change-Id: I88880f18998e33377c0c684cbd8007b5d27d76e7
Signed-off-by: Terry Parker <tparker@google.com>",0,0,0,1,0,0,1,0,0
58884,I5bad895896194ad468c260d6c0810132a358f152,https://git.eclipse.org/r/#/c/58884,1,abdb0a8a43aae8c0aed279aabc39eb178e92c02d,f4adabd1d18a63bc54942e7a1819d5e816e0a565,0,24/10/15,24/10/15,3,Add missing dependency to org.slf4j for org.eclipse.jgit.test bundle,"Add missing dependency to org.slf4j for org.eclipse.jgit.test bundle

This OSGi dependency was missed in 6c424d32.

Change-Id: I5bad895896194ad468c260d6c0810132a358f152
Signed-off-by: Matthias Sohn <matthias.sohn@sap.com>",1,0,0,0,0,0,1,NA,NA
59000,I621eb058619fb1b78888a54c4b60bb110a722fc3,https://git.eclipse.org/r/#/c/59000,14,d83db970565c0d480288bcd9354cd5e72e0e2bae,1fddbc350ce3f7299f7a39451736ea7c6613a496,1,27/10/15,09/01/17,343,RFC: Add LargeObjectPointerFilter TreeFilter,"RFC: Add LargeObjectPointerFilter TreeFilter

Add new variation of TreeFilter in order to detect LFS pointer files in
the repository.

LFS file pointer format[1] is a way to store and revision large pointer
files within Git repository.

[1] https://github.com/github/git-lfs/blob/master/docs/spec.md

Change-Id: I621eb058619fb1b78888a54c4b60bb110a722fc3
Signed-off-by: Dariusz Luksza <dariusz@luksza.org>",0,1,0,0,0,0,1,1,1
59012,I0d7f7a648671e7ff678f2b19fe39b85f8835c061,https://git.eclipse.org/r/#/c/59012,2,e00556b0cdb8345ed741fe4b13757890f1227f84,6f0742c3544670bbd6c57a814eaa673e07825d05,0,27/10/15,29/10/15,8,JGit CLI should check if calling itself when invoking native git exe,"JGit CLI should check if calling itself when invoking native git exe

Bug: 480782
Change-Id: I0d7f7a648671e7ff678f2b19fe39b85f8835c061
Signed-off-by: Kaloyan Raev <kaloyan.r@zend.com>",0,0,0,0,0,0,0,NA,NA
59060,Ia85b1aead03dcf2fcb50ce0391b656f7c60a08d4,https://git.eclipse.org/r/#/c/59060,2,be89bc9e0a8d61bd2a8a149ddd33839c5782906a,cb6b32792e8237ed56cfb16bd1543c461e0229ce,1,27/10/15,29/10/15,185,reset command should support the -- <paths> parameters,"reset command should support the -- <paths> parameters

Bug: 480750
Change-Id: Ia85b1aead03dcf2fcb50ce0391b656f7c60a08d4
Signed-off-by: Kaloyan Raev <kaloyan.r@zend.com>",0,0,0,0,0,0,0,0,0
59073,If53ec94145bae47b74e2561305afe6098012715c,https://git.eclipse.org/r/#/c/59073,2,70983df4565fb46619eda491e364ae512b429693,3c734f682ddfd813e6969f30f10e100d78cff8ce,1,27/10/15,27/10/15,102,[performance] Remove synthetic access$ methods in pack and file packages,"[performance] Remove synthetic access$ methods in pack and file packages

Java compiler must generate synthetic access methods for private methods
and fields of the enclosing class if they are accessed from inner
classes and vice versa.

While invisible in the code, those synthetic access methods exist in the
bytecode and seem to produce some extra execution overhead at runtime
(compared with the direct access to this fields or methods), see
https://git.eclipse.org/r/58948/.

By removing the ""private"" access modifier from affected methods and
fields we help compiler to avoid generation of synthetic access methods
and hope to improve execution performance.

To validate changes, one can either use javap or use Bytecode Outline
plugin in Eclipse. In both cases one should look for ""synthetic
access$<number>"" methods at the end of the class and inner class files
in question - there should be none. 

NB: don't mix this ""synthetic access$"" methods with ""public synthetic
bridge"" methods generated to allow generic method override return types.

Change-Id: If53ec94145bae47b74e2561305afe6098012715c
Signed-off-by: Andrey Loskutov <loskutov@gmx.de>",0,0,0,0,0,0,0,0,0
59077,I49e7a1c35307298f7bc32ebfc46ab08e94290125,https://git.eclipse.org/r/#/c/59077,2,3c734f682ddfd813e6969f30f10e100d78cff8ce,16aff11186c81c4bf3ae88c4863b7740bca9cbc1,1,28/10/15,29/10/15,68,Pack bitmaps: improve readability,"Pack bitmaps: improve readability

Add comments and rename variables in PackWriterBitmapPreparer to improve
readability.

Change-Id: I49e7a1c35307298f7bc32ebfc46ab08e94290125
Signed-off-by: Terry Parker <tparker@google.com>",0,0,0,0,0,0,0,0,0
59093,I7974975c3ab05e68c208384e69cf0692ded6e8db,https://git.eclipse.org/r/#/c/59093,2,c6a7a65f5049f0b2756d1720aca3cbc707420692,b113562759e0360c50c817e3810e572485ba2104,1,28/10/15,20/01/16,60,Fix ResetCommand to return the resulting ref,"Fix ResetCommand to return the resulting ref

ResetCommand was not returning the updated ref as a result of the call()
method. Since the ResetCommand is always updating the same ref (HEAD)
this should always be the HEAD ref.

Bug: 440750
Change-Id: I7974975c3ab05e68c208384e69cf0692ded6e8db",0,0,0,0,0,1,1,0,0
59102,I2ad2c71ad30b969455bdea89637b8e996b1dad8c,https://git.eclipse.org/r/#/c/59102,13,95ebfdc3c80031e36e80a20b6c7376e7fbfc120e,599574e13321ffadd23538d1edcb9b03b42d6ee6,1,28/10/15,18/11/15,118,Introduce FS.execute() to execute a command defined by a ProcessBuilder,"Introduce FS.execute() to execute a command defined by a ProcessBuilder

Change-Id: I2ad2c71ad30b969455bdea89637b8e996b1dad8c",0,1,0,1,0,1,1,0,0
59170,I0ebaeb2bc454cd8051b901addb102c1a6688688b,https://git.eclipse.org/r/#/c/59170,1,a7bb088b02405e235d3b4b6e5ed9541dda166314,172e9782630f6bb32a56f9c5057af6d611902b04,1,28/10/15,28/10/15,102,[performance] Remove synthetic access$ methods in transport package,"[performance] Remove synthetic access$ methods in transport package

Java compiler must generate synthetic access methods for private methods
and fields of the enclosing class if they are accessed from inner
classes and vice versa.

While invisible in the code, those synthetic access methods exist in the
bytecode and seem to produce some extra execution overhead at runtime
(compared with the direct access to this fields or methods), see
https://git.eclipse.org/r/58948/.

By removing the ""private"" access modifier from affected methods and
fields we help compiler to avoid generation of synthetic access methods
and hope to improve execution performance.

To validate changes, one can either use javap or use Bytecode Outline
plugin in Eclipse. In both cases one should look for ""synthetic
access$<number>"" methods at the end of the class and inner class files
in question - there should be none.

NB: don't mix this ""synthetic access$"" methods up with ""public synthetic
bridge"" methods generated to allow generic method override return types.

Change-Id: I0ebaeb2bc454cd8051b901addb102c1a6688688b
Signed-off-by: Andrey Loskutov <loskutov@gmx.de>",0,0,0,0,0,0,0,0,0
59172,Ie7b65f251ec4452d5a5ed48aa0f272cf49a9aecd,https://git.eclipse.org/r/#/c/59172,1,172e9782630f6bb32a56f9c5057af6d611902b04,aafd95f3d40c4c231da885fadfdb0a337eb75a57,1,28/10/15,28/10/15,46,"[performance] Remove synthetic access$ methods in lib, util and dircache","[performance] Remove synthetic access$ methods in lib, util and dircache

Java compiler must generate synthetic access methods for private methods
and fields of the enclosing class if they are accessed from inner
classes and vice versa.

While invisible in the code, those synthetic access methods exist in the
bytecode and seem to produce some extra execution overhead at runtime
(compared with the direct access to this fields or methods), see
https://git.eclipse.org/r/58948/.

By removing the ""private"" access modifier from affected methods and
fields we help compiler to avoid generation of synthetic access methods
and hope to improve execution performance.

To validate changes, one can either use javap or use Bytecode Outline
plugin in Eclipse. In both cases one should look for ""synthetic
access$<number>"" methods at the end of the class and inner class files
in question - there should be none.

NB: don't mix this ""synthetic access$"" methods up with ""public synthetic
bridge"" methods generated to allow generic method override return types.

Change-Id: Ie7b65f251ec4452d5a5ed48aa0f272cf49a9aecd
Signed-off-by: Andrey Loskutov <loskutov@gmx.de>",0,0,0,0,0,0,0,0,0
59174,I94fb481b68c84841c1db1a5ebe678b13e13c962b,https://git.eclipse.org/r/#/c/59174,1,aafd95f3d40c4c231da885fadfdb0a337eb75a57,2bf44f12d9a42074499897db2928fb232efdfba2,1,28/10/15,28/10/15,34,"[performance] Remove synthetic access$ methods in dfs, diff and merge","[performance] Remove synthetic access$ methods in dfs, diff and merge

Java compiler must generate synthetic access methods for private methods
and fields of the enclosing class if they are accessed from inner
classes and vice versa.

While invisible in the code, those synthetic access methods exist in the
bytecode and seem to produce some extra execution overhead at runtime
(compared with the direct access to this fields or methods), see
https://git.eclipse.org/r/58948/.

By removing the ""private"" access modifier from affected methods and
fields we help compiler to avoid generation of synthetic access methods
and hope to improve execution performance.

To validate changes, one can either use javap or use Bytecode Outline
plugin in Eclipse. In both cases one should look for ""synthetic
access$<number>"" methods at the end of the class and inner class files
in question - there should be none.

NB: don't mix this ""synthetic access$"" methods up with ""public synthetic
bridge"" methods generated to allow generic method override return types.

Change-Id: I94fb481b68c84841c1db1a5ebe678b13e13c962b
Signed-off-by: Andrey Loskutov <loskutov@gmx.de>",0,0,0,0,0,0,0,0,0
59191,I8e80cac29c4ca8193b41c9898e5436c22a659f11,https://git.eclipse.org/r/#/c/59191,1,2bf44f12d9a42074499897db2928fb232efdfba2,69f568fd94378a2455ae7ec44981942a3380ee47,1,29/10/15,29/10/15,410,"Bitmap generation: Add a test of ordering commits by ""chains""","Bitmap generation: Add a test of ordering commits by ""chains""

When commits are selected for bitmap generation, they are reordered
so that related ""chains"" of commits are grouped together. Chains are
""subbranches"" of commits that may branch off of and re-merge with the
main line. Grouping by chains means that the XOR difference between
consecutive selected commits will be smaller, resulting in better
run-length compression of the XORed bitmaps.

Add a new testSelectionOrderingWithChains() test in a new
GcCommitSelectionTest test class. Also move related GC commit selection
tests out of GcBasicPackingTest and into GcCommitSelectionTest.

Change-Id: I8e80cac29c4ca8193b41c9898e5436c22a659f11
Signed-off-by: Terry Parker <tparker@google.com>",0,0,0,0,0,0,0,0,0
59281,I3da98e85107154c159093c138893f54dfa7ef435,https://git.eclipse.org/r/#/c/59281,5,4695f8e11233e93402f7971a99f963921d142a33,3b1406f994bb93351c1d5630ce9176cac5bfa990,1,29/10/15,29/10/15,27,Building bitmaps: Simplify the logic to sort by chains,"Building bitmaps: Simplify the logic to sort by chains

Change-Id: I3da98e85107154c159093c138893f54dfa7ef435
Signed-off-by: Terry Parker <tparker@google.com>",0,1,0,1,0,0,1,0,0
59282,I20f2062230f3af3bccd6f21d3b7342f1152a5532,https://git.eclipse.org/r/#/c/59282,3,c01c807d5b39d3432674dc186d2fbeed51b020ea,f591d630e3fa0c5c276e1d7e07d66bf4fff3331b,1,29/10/15,05/11/15,94,Insert duplicate objects to prevent race during garbage collection.,"Insert duplicate objects to prevent race during garbage collection.

Prior to this change, DfsInserter would not insert an object into a pack
if it already existed in another pack in the repository, even if that
pack was unreachable. Consider this sequence of events:

- Object FOO is pushed to a repository.
- Subsequent ref changes make FOO UNREACHABLE_GARBAGE.
- FOO is subsequently re-inserted using a DfsInserter, but skipped
  due to existing in UNREACHABLE_GARBAGE.
- The repository is repacked; FOO will not be written into a new pack
  because it is not yet reachable from a reference. If the
  UNREACHABLE_GARBAGE packs are deleted, FOO disappears.
- A reference is updated to reference FOO. This reference is now broken
  as FOO was removed when the repacking process deleted the
  UNREACHABLE_GARBAGE pack that stored the only copy of FOO.

The garbage collector can't safely delete the UNREACHABLE_GARBAGE
pack because FOO might be in the middle of being re-inserted/re-packed.

This change writes a duplicate copy of an object if it only exists in
UNREACHABLE_GARBAGE. This ""freshens"" the object to give it a chance to
survive long enough to be made reachable through a reference.

Change-Id: I20f2062230f3af3bccd6f21d3b7342f1152a5532
Signed-off-by: Mike Williams <miwilliams@google.com>",0,0,0,0,0,0,0,0,0
59318,Ibbb58ee3227742d1a2f913134ce11e7a135c7f4c,https://git.eclipse.org/r/#/c/59318,3,015b0c25a58230098a7debebdff4b159feb24691,12da13f2df382b1749080675e483638b7da263bf,1,30/10/15,03/11/15,240,Add support for pre-push hooks,"Add support for pre-push hooks

When the file <git-dir>/hooks/pre-push exists make sure that is is
executing during a push. The pre-push hook runs during git push, after
the remote refs have been updated but before any objects have been
transferred.

Change-Id: Ibbb58ee3227742d1a2f913134ce11e7a135c7f4c",0,0,0,0,0,1,1,1,1
59319,I168fdb81a8e1a9f991587b3e95a36550ea845f0a,https://git.eclipse.org/r/#/c/59319,16,30e7e4490615a14d09bc500552dc236443ac0c72,07f850f2046bea78abc3eaf35654b812eacd06de,1,30/10/15,27/11/15,253,WIP: Add support for smudge filters,"WIP: Add support for smudge filters

If defined in .gitattributes call smudge filter during checkout.

To support checkout where current HEAD,index do not contain attributes
we need to also consider attributes from the tree we checkout. Therefore
CanonicalTreeParser has to learn how to provide attributes.

TODO: write a test which clones a repo with smudge filters
TODO: TreeWalk.getAttributes should be inspected. Decisions on whether
to search for attributes are done based on iterators which look at the
current entry. But relevant attributes could reside in the other
iterators.

Change-Id: I168fdb81a8e1a9f991587b3e95a36550ea845f0a
Signed-off-by: Matthias Sohn <matthias.sohn@sap.com>",0,1,0,0,0,1,1,0,0
59392,I6a10116cd2e6b58d2300a9e741afe2eeac719b03,https://git.eclipse.org/r/#/c/59392,1,685625959c9b5090b4f8c486f4cdeb08115892e9,3592fad1e4009e8de59bca46d58a0e24858d6c2c,0,30/10/15,03/11/15,28,"Don't report errors logged by FS with ""debug"" level","Don't report errors logged by FS with ""debug"" level

Change-Id: I6a10116cd2e6b58d2300a9e741afe2eeac719b03
Signed-off-by: Andrey Loskutov <loskutov@gmx.de>",0,0,0,1,0,1,1,NA,NA
59416,I2ae37efa83bca42b0e716266ae6aa9d182e76d9c,https://git.eclipse.org/r/#/c/59416,4,8b98790af07fbf30534ec6b705f4e703cd0ea933,ef8e6e06959f26456a8b12ed9bcb45d87ce31d2b,1,31/10/15,04/11/15,23,[performance] Speed up delta search in existing packs,"[performance] Speed up delta search in existing packs

Searching for deltas in an existing pack is O(N^2). The delta search is
partitioned into tasks, and each task contains one or more slices of work to be
performed. Once each DeltaTask works through its initial (small) set of
assigned work it attempts to ""steal"" additional work by searching for the
largest remaining slice via a linear search. So if N is the number of tasks and
K is average number of slices per task, then the number of comparisons performed
finding largest remaining slices is K*N * N.

I don't understand the delta compression algorithm well enough to know whether
choosing the longest remaining task is always required (the current algorithm
strongly suggests it is), or if there might be a better way to assign initial
work so that less ""stealing"" is required. The change here is modest and based
on the following understanding: tasks are set up prior to execution, and once a
task is completed no new work is added to it. So once a task is seen as
completed, it can be excluded from future searches. DeltaTask.Block.stealWork()
is already synchronized. This patch removes completed tasks from the
DeltaTask.Block.tasks member variable in that synchronized block. On the MSM
3.10 Linux kernel repository, this was seen to decrease the time in the
PackWriter.parallelDeltaSearch() method from (1615+1633+1458)/3 = 1568 seconds
to (465+479+477)/3 = 473 seconds.

Change-Id: I2ae37efa83bca42b0e716266ae6aa9d182e76d9c
Signed-off-by: Terry Parker <tparker@google.com>",0,1,0,0,0,0,1,-1,0
59434,Id882af2762cfb75f010f693b2e1c46eb6968ee82,https://git.eclipse.org/r/#/c/59434,2,389a5dcd3098394a3bfbc388a8e7bc71f027c829,8491760fdd3440c83fe82b32a977393e353b2f38,0,01/11/15,03/11/15,49,Cleaned up various readPipe() threading issues,"Cleaned up various readPipe() threading issues

Fixed random errors in discoverGitSystemConfig() on Linux where the
process error stream was closed by readPipe() before or while
GobblerThread was reading from it.

Marked readPipe() as @Nullable and fixed potential NPE in
discoverGitSystemConfig() on readPipe() return value.

Fixed process error output randomly mixed with other threads log
messages.

Change-Id: Id882af2762cfb75f010f693b2e1c46eb6968ee82
Signed-off-by: Andrey Loskutov <loskutov@gmx.de>",0,0,0,0,0,1,1,NA,NA
59541,I909c2892100da89f6670ffbf3442f11c9cb7b008,https://git.eclipse.org/r/#/c/59541,1,b848125fe96c66cc63949c6b75274cf99db4f9cb,cdebe883a26f943ce14e43afeb3ff310452cf7b7,1,03/11/15,16/12/15,3,BaseRepositoryBuilder should trim CR from .git symref,"BaseRepositoryBuilder should trim CR from .git symref

Change-Id: I909c2892100da89f6670ffbf3442f11c9cb7b008
Signed-off-by: Marc Strapetz <marc.strapetz@syntevo.com>",0,0,0,1,0,0,1,0,0
59553,I57c34ed6daabb7d308bc383b17c1ef4af433e714,https://git.eclipse.org/r/#/c/59553,5,f2db2eaf018f3a0d215937577edddf8aa353e4d0,1b35d15b17f83f61a275d7a18215d7b56b1a02db,1,03/11/15,11/12/15,1309,Add remote command to JGit CLI,"Add remote command to JGit CLI

Supported subcommands are:
 - <none> (lists available remotes)
 - add
 - remove
 - set-url
 - update
 
Supported options are:
 --verbose
 --push
 --prune

Bug: 481316
Change-Id: I57c34ed6daabb7d308bc383b17c1ef4af433e714
Signed-off-by: Kaloyan Raev <kaloyan.r@zend.com>",0,1,0,0,1,0,1,2,1
59594,I1580de444fccde08070f696218c12041151a924a,https://git.eclipse.org/r/#/c/59594,1,9836ba6242ba2c00bb41f869d32ada7e422455d9,0a05dd4ffb45dadae4430d430895f82d5f3a7f6f,1,03/11/15,04/11/15,50,Decrease indentation in setupTipCommitBitmaps,"Decrease indentation in setupTipCommitBitmaps

Avoid leaving the reader in suspense by handling the unusual
(!RevCommit) case first.  As a nice side effect, there is less nesting
to keep track of in the rest of the loop body.

No functional change intended.

Change-Id: I1580de444fccde08070f696218c12041151a924a",0,0,0,0,0,0,0,0,0
59595,Ic375210fa69330948be488bf9dbbe4cb0d069ae6,https://git.eclipse.org/r/#/c/59595,4,0a05dd4ffb45dadae4430d430895f82d5f3a7f6f,aa14dc6205e774d8aff7971ef8a747d052df8a6d,1,03/11/15,05/11/15,42,Use 'reused' bitmap to filter tip commit setup walk,"Use 'reused' bitmap to filter tip commit setup walk

When garbage collecting, we decide to reuse some bitmaps in older
history from the previous pack to save time.  The remainder of commit
selection only involves commits not covered by those bitmaps.

Currently we carry that out in two ways:

1. by building a bitmap representing the already-covered commits,
   for easy containment checks and AND-NOT-ing against
2. by marking the reused bitmap commits as uninteresting in the
   RevWalk that finds new commits

The mechanism in (2) is less efficient than (1): rw.next() will walk
back from reused bitmap commits to check whether the commit it is
about to emit is an ancestor of them, when using the bitmap from (1)
would let us perform the same check with a single contains() call.
Add a RevFilter teaching the RevWalk to perform that same check
directly using the bitmap from (1)

The next time the RevWalk is used, a different RevFilter is installed
so this does not break that.

A later commit will drop the markUninteresting calls.

No functional change intended except a possible speedup.

Change-Id: Ic375210fa69330948be488bf9dbbe4cb0d069ae6",0,1,0,0,0,0,1,0,0
59596,If467ccd1d75e17cf9367b2a0399fca3f9d52adf9,https://git.eclipse.org/r/#/c/59596,4,eb3e593bd72e9b4a798fcf631c45093bab3ba6b4,121ada948120225053cc796ed606b2cf047a8a3f,1,03/11/15,05/11/15,1,Rely on bitmap RevFilter to filter tip commit setup walk,"Rely on bitmap RevFilter to filter tip commit setup walk

This RevWalk filters out reused bitmap commits via the 'reuse' bitmap.
Avoid possible wasted time and complexity by not redundantly marking
them UNINTERESTING any more.

Change-Id: If467ccd1d75e17cf9367b2a0399fca3f9d52adf9",0,1,0,0,0,0,1,0,0
59597,I1112641852d72aa05c9a8bd08a552c70342ccedb,https://git.eclipse.org/r/#/c/59597,4,12b7fea6473552607442dcb97f5b01bb2f600815,9386f1c26621c1159c1360ae57119e8729408199,1,03/11/15,05/11/15,10,Use 'reused' bitmap to filter walk during bitmap selection,"Use 'reused' bitmap to filter walk during bitmap selection

When building fullBitmap in order to determine which ancestor chain to
add this commit to, we were excluding the ancestors of reusedCommits
using markUninteresting.  This use of markUninteresting is a bit
wasteful because we already have a bitmap indicating exactly which
commits should be excluded (which can save some walking).  Use it.

A separate commit will remove the now-redundant markUninteresting
call.

No behavior change intended (except for performance improvement).

Change-Id: I1112641852d72aa05c9a8bd08a552c70342ccedb",0,1,0,0,0,0,1,0,0
59598,Ibb714002ddac599963d148a9aab90645fcc73141,https://git.eclipse.org/r/#/c/59598,4,b0389803605d022f673ec65f28620ee3b1768017,5fca07322835617d5358ab0a9805aa0d3f163ab8,1,03/11/15,05/11/15,3,Rely on bitmap RevFilter to filter walk during bitmap selection,"Rely on bitmap RevFilter to filter walk during bitmap selection

This RevWalk filters out reused bitmap commits via the 'reuse' bitmap.
Avoid possible wasted time and complexity by not also redundantly
marking them UNINTERESTING.

Change-Id: Ibb714002ddac599963d148a9aab90645fcc73141",0,1,0,0,0,0,1,0,0
59613,I3306cc77544dec6d9273b2c35b8db0ed43799992,https://git.eclipse.org/r/#/c/59613,1,dcd0fce5d7e12ec608350152fdffca55b699ea2a,7c668a5152ff5414cfad530c762ae5dde5aa6446,1,03/11/15,03/11/15,44,[style] Add braces to DeltaTask,"[style] Add braces to DeltaTask

Change-Id: I3306cc77544dec6d9273b2c35b8db0ed43799992
Signed-off-by: Terry Parker <tparker@google.com>",0,0,0,1,0,0,1,0,0
59614,I07ed5207b175735b4e2c46edf652cc35908dad02,https://git.eclipse.org/r/#/c/59614,1,21cf7c23f204904038a836327c72bbc72ec5e6be,81cec2e15e0ad1c8d5542ceb5807a43bdb4b5978,1,03/11/15,04/11/15,5,Delta compression: reuse DeltaTask.getAdjustedWeight(),"Delta compression: reuse DeltaTask.getAdjustedWeight()

Change-Id: I07ed5207b175735b4e2c46edf652cc35908dad02
Signed-off-by: Terry Parker <tparker@google.com>",0,0,0,1,0,0,1,0,0
59622,I30844134bfde0cbabdfaab884c84b9809dd8bdb8,https://git.eclipse.org/r/#/c/59622,1,1b4400134ac2292eb79af6322173d6083c317269,7be24ce7322d84c5b66a8f01e8d1519662391409,1,04/11/15,05/11/15,23,Include ancestors of reused bitmap commits in reuse bitmap again,"Include ancestors of reused bitmap commits in reuse bitmap again

Until 320a4142 (Update bitmap selection throttling to fully span
active branches, 2015-10-20), setupTipCommitBitmaps contained code
along the following lines:

	for (PackBitmapIndexRemapper.Entry entry : bitmapRemapper) {
		if (!reuse(entry))
			continue;
		RevCommit rc = (RevCommit) rw.peel(rw.parseAny(entry));

		reuseCommits.add(new BitmapCommit(rc));
		EWAHCompressedBitmap bitmap =
			remap.ofObjectType(remap.getBitmap(rc), OBJ_COMMIT);
		writeBitmaps.addBitmap(rc, bitmap, 0);
		reuse.add(rc, OBJ_COMMIT);
	}
	writeBitmaps.clearBitmaps();	// Remove temporary bitmaps

This loop OR-ed together bitmaps for commits whose bitmaps would be
reused.  A subtle point is the use of the add() method, which ORs in a
bitmap from the BitmapIndex when it exists and falls back to OR-ing in
a single bit when that bitmap does not exist in the BitmapIndex.

Commit 320a4142 removed the addBitmap step, so the bitmap does not
exist in the BitmapIndex and the fallback behavior is triggered.

Simplify and restore the intended behavior by avoiding use of the
subtle use of the add() method --- use or() directly instead.

Change-Id: I30844134bfde0cbabdfaab884c84b9809dd8bdb8",0,0,0,0,0,0,0,0,0
59624,I92c65f3407a334acddd32ec9e09ab7d1d39c4dc6,https://git.eclipse.org/r/#/c/59624,3,b1d640790dd87c69fb8bf548c58086139ea74f3d,4991c5c921e7e02a505354d0d71012e396a59456,1,04/11/15,05/11/15,16,Add @Override annotations to BitmapIndexImpl,"Add @Override annotations to BitmapIndexImpl

This makes it easier to distinguish between implementations of methods
from the interface from helpers internal to org.eclipse.jgit.internal.storage.*.

This was illegal in Java 5 but JGit requires newer Java these days.

Change-Id: I92c65f3407a334acddd32ec9e09ab7d1d39c4dc6",0,0,0,0,0,0,0,0,0
59625,Ib745645f187e1b1483f8587e99501dfcb7b867a5,https://git.eclipse.org/r/#/c/59625,5,bafee9e42a5a31ac7021d24d41ceb055cec52c75,d27701e775497b7e921f8423943437cf6fce8c60,1,04/11/15,05/11/15,28,Deprecate BitmapBuilder.add and add simpler set method,"Deprecate BitmapBuilder.add and add simpler set method

The BitmapIndex.BitmapBuilder.add API is subtle:

	/**
	 * Adds the id and the existing bitmap for the id, if one
	 * exists, to the bitmap.
	 *
	 * @return true if the value was not contained or able to be
	 * loaded.
	 */
	boolean add(AnyObjectId objectId, int type);

Reading the name of the method does not make it obvious what it will
do.  Does it add the named object to the bitmap, or all objects
reachable from it?  It depends on whether the BitmapIndex owns an
existing bitmap for that object.  I did not notice this subtlety when
skimming the javadoc, either.  This resulted in enough confusion to
subtly break the bitmap building code (see change
I30844134bfde0cbabdfaab884c84b9809dd8bdb8 for details).

So discourage use of the add() API by deprecating it.

To replace it, provide a set() method that sets a single bit.  This
way, callers can decide whether to use set() or or() based on the
context.

For example,

	if (bitmap.add(c)) {
		for (RevCommit p : c.getParents()) {
			rememberToAlsoHandle(p);
		}
	}

can be replaced with

	if (bitmap.contains(c)) {
		// already included
	} else if (index.getBitmap(c) != null) {
		bitmap.or(index.getBitmap(c));
	} else {
		bitmap.set(c, OBJ_COMMIT);
		for (RevCommit p : c.getParents()) {
			rememberToAlsoHandle(p);
		}
	}

which is more verbose but makes it clearer that the behavior
depends on the content of index.getBitmaps().

Change-Id: Ib745645f187e1b1483f8587e99501dfcb7b867a5",0,1,0,0,0,0,1,0,0
59628,I2773aa94d8b67f12194608e6317c0792a5de21e2,https://git.eclipse.org/r/#/c/59628,2,800ae20ed1df8581fd28e6d88ba2a59bd17795ae,1025f3e8a3a2c41192f770ae2b71eb6cf6a2e810,1,04/11/15,05/11/15,10,Make BitmapBuilder.getBitmapIndex public,"Make BitmapBuilder.getBitmapIndex public

Every Bitmap in current JGit code has an associated BitmapIndex.  Make
it public in BitmapBuilder to make retrieving bitmaps to or in from
that index easier.

Change-Id: I2773aa94d8b67f12194608e6317c0792a5de21e2",0,0,0,0,0,0,0,0,0
59629,Ia95da47831d9e89d6f8068470ec4529aaabfa7dd,https://git.eclipse.org/r/#/c/59629,2,adcb6c3b2e21b42b8b14d43c4624c2f04a9e33ca,d4436df57d275963759f9e4eda0bce5d4b3e8406,1,04/11/15,05/11/15,16,Remove BitmapRevFilter.getCountOfLoadedCommits,"Remove BitmapRevFilter.getCountOfLoadedCommits

The count of loaded commits is equal to the number of commits returned
by the walk.  Simplify BitmapRevFilter by counting them in the caller.

Change-Id: Ia95da47831d9e89d6f8068470ec4529aaabfa7dd",0,0,0,0,0,0,0,0,0
59630,I590ac4604b61fc1ffe7aba2ed89f8139847ccac3,https://git.eclipse.org/r/#/c/59630,2,4655def60a1fc320a476a8d58047e5a1ffcef10c,153339a578143f754b225049df65676567532cdf,1,04/11/15,05/11/15,90,Replace anonymous BitmapRevFilter subclasses with explicit classes,"Replace anonymous BitmapRevFilter subclasses with explicit classes

This puts the code for include() in each RevFilter returned by
newRevFilter in one place and should make the code easier to
understand and modify.

Change-Id: I590ac4604b61fc1ffe7aba2ed89f8139847ccac3",0,0,0,0,0,0,0,0,0
59631,I57b1d7c1dc8fb800b242b76c606922b5aa36b9b2,https://git.eclipse.org/r/#/c/59631,2,6c351535008d2665715859cc338b2737207918f5,a330ad46f7749a218bbd8732b757378d60aae3ff,1,04/11/15,05/11/15,20,Use .addObject and .or instead of .add in AddToBitmapFilter,"Use .addObject and .or instead of .add in AddToBitmapFilter

This is the caller that the BitmapBuilder.add method was designed
around.  Moving away from .add makes it more verbose but hopefully
clearer.

Change-Id: I57b1d7c1dc8fb800b242b76c606922b5aa36b9b2",0,0,0,0,0,0,0,0,0
59632,I7b816145251a7fa4f1fffe0d03644257ea7f5440,https://git.eclipse.org/r/#/c/59632,3,5aed0e61b9dce2c58b4b7f827cc9ab249c30bd3a,6557ee0c77c8b1d9751168b9a64d0106ed548b61,1,04/11/15,06/11/15,6,Convert remaining callers of BitmapBuilder.add to use .addObject,"Convert remaining callers of BitmapBuilder.add to use .addObject

When setupTipCommitBitmaps is called, writeBitmaps does not have any
bitmaps saved, so these calls to .add always add a single commit and
do not OR in a bitmap.

The objects returned by nextObject after a commit walk is finished
are trees and blobs.  Non-commit objects do not have bitmaps
associated so the call to .add also can only add a single object.

Change-Id: I7b816145251a7fa4f1fffe0d03644257ea7f5440",0,0,0,0,0,0,0,0,0
59633,Ida6ff1c0457a47a1bd1e4ed0fd1dd42a616d214f,https://git.eclipse.org/r/#/c/59633,3,3d8972168dd11e4d82a73d8cee0c1441b8664ce4,04d92944a97b1411250f4b72ecbd381504dccd83,1,04/11/15,06/11/15,22,Inline PackWriterBitmapWalker.newRevFilter into callers,"Inline PackWriterBitmapWalker.newRevFilter into callers

Instead of using the newRevFilter helper, call the appropriate
RevFilter constructor directly.  This means one less hop to find
documentation about what the RevFilter will do.

Change-Id: Ida6ff1c0457a47a1bd1e4ed0fd1dd42a616d214f",0,0,0,0,0,0,0,0,0
59787,I1c7cec2734bd58370a7dfae70a6a4ccbe3e304ce,https://git.eclipse.org/r/#/c/59787,1,adcbe70736290e4df638b49bc47c7a553abd192f,2a53c98bb559bfa11738ac009b13430d40577a6d,1,05/11/15,05/11/15,19,Fix imports in DfsInserterTest,"Fix imports in DfsInserterTest

- remove unused import of AnyObjectId
- auto-sort import statements

Change-Id: I1c7cec2734bd58370a7dfae70a6a4ccbe3e304ce
Signed-off-by: Matthias Sohn <matthias.sohn@sap.com>",0,0,0,0,0,0,0,0,0
59895,I420fcd308a97e30b8c74026d74b93ed3ec74bb3f,https://git.eclipse.org/r/#/c/59895,1,59854786c04786c06166a5c42fb4ff77b62764cf,2431b1a9f18bc354ef139204a554258c6504a7db,1,07/11/15,07/11/15,8,[style] Shorten line lengths and import order in bitmap code,"[style] Shorten line lengths and import order in bitmap code

Change-Id: I420fcd308a97e30b8c74026d74b93ed3ec74bb3f
Signed-off-by: Terry Parker <tparker@google.com>",0,0,0,1,0,0,1,0,0
59898,I26ea695809594347575d14a1d8e6721b8608eb9c,https://git.eclipse.org/r/#/c/59898,2,2431b1a9f18bc354ef139204a554258c6504a7db,678fb802146ed103ddaed05ec36d63594d6bb748,1,07/11/15,09/11/15,11,RFC: Skip redundant 'OR-reuse' step in tip commit bitmap setup,"RFC: Skip redundant 'OR-reuse' step in tip commit bitmap setup

When creating bitmaps during gc, the bitmaps in tipCommitBitmaps are
built in setupTipCommitBitmaps using the following procedure:

 0. create a bitmap ('reuse') that lists all ancestors of commits
    whose existing bitmaps will be reused.  I will call this the
    reused part of history.

 1. initialize a bitmap for each of the pack's ""want""s by taking
    a copy of the 'reuse' bitmap and setting the bit corresponding
    to the one wanted commit.

 2. walk through ancestors of wants, excluding the reused part of
    history.  Add parents of visited commits to bitmaps that have
    those commits.

 3. AND-NOT each tipCommitBitmap against the 'reuse' bitmap

 4. Sort the bitmaps and AND-NOT each against the previous so they
    partition the new commits.

The OR against 'reuse' in step 1 and the AND-NOT against 'reuse'
cancel each other out, except when commits from the reused part of
history are added to a bitmap in step 2.  So avoid adding commits from
the reused part of history in step 2 and skip the OR and AND-NOT.

DO NOT SUBMIT unless this is measured to be faster.

Change-Id: I26ea695809594347575d14a1d8e6721b8608eb9c",0,0,0,0,0,0,0,0,0
59899,I0feb2003f58776d50fab2d31d46ac98ae863bea8,https://git.eclipse.org/r/#/c/59899,3,ca0f778c2fccdf4c7124ea238a4d70a51a59ee92,5999c7d6a3fb724aba1198a01654f7bd49d39cd9,1,07/11/15,07/11/15,11,Avoid repeated sort of tipCommitBitmaps,"Avoid repeated sort of tipCommitBitmaps

Change-Id: I0feb2003f58776d50fab2d31d46ac98ae863bea8",0,0,0,1,0,0,1,0,0
59914,Ifb2e8804a6d5ee46e82a76d276c4f8507eaa2a4c,https://git.eclipse.org/r/#/c/59914,6,4e923785a8733b242019b499fe4eb250edd89832,96d8315ac002601a72d97bdb9200c705a49b20db,1,09/11/15,09/11/15,25,Remove an unneeded parameter in BitmapIndexImpl.toBitmap(),"Remove an unneeded parameter in BitmapIndexImpl.toBitmap()

Change-Id: Ifb2e8804a6d5ee46e82a76d276c4f8507eaa2a4c
Signed-off-by: Terry Parker <tparker@google.com>",0,1,0,1,0,0,1,0,0
59989,Id85659fc4fc3ad82034db3370cce4cdbe0c5492c,https://git.eclipse.org/r/#/c/59989,3,858b7826367f281d5d4e10c515fefbeb7a580f1e,d2b387e918f2ab4f4c451c588d2638d354b00d86,1,09/11/15,09/11/15,149,"Make BitmapIndexImpl.CompressedBitmap, CompressedBitmapBuilder static","Make BitmapIndexImpl.CompressedBitmap, CompressedBitmapBuilder static

A CompressedBitmap represents a pair (EWAH bit vector, PackIndex
assigning bit positions to git objects).  The bit vector is a member
field and the PackIndex is implicit via the 'this' reference to the
outer class.

Make this clearer by making CompressedBitmap a static class and
replacing the 'this' reference an explicit field.

Likewise for CompressedBitmapBuilder.

Change-Id: Id85659fc4fc3ad82034db3370cce4cdbe0c5492c
Suggested-by: Terry Parker <tparker@google.com>",0,0,0,0,0,0,0,0,0
59993,I63dc8f9a6dc46b517cbde211bb5e2f8521a54d04,https://git.eclipse.org/r/#/c/59993,2,eaad4661e4c755173960071f113590ea8084efab,8cb041a2b9595053a3cc7690526601d9cfc838fa,1,09/11/15,09/11/15,67,Add a JGit-internal Nullable type,"Add a JGit-internal Nullable type

Commit 847b3d1 enabled annotation-based NPE analysis to JGit.

In so doing, it introduced a new dependency on the org.eclipse.jdt that
is undesirable. Follow Gerrit's lead by adding an internal Nullable type
(see
https://gerrit.googlesource.com/gerrit/+/stable-2.11/gerrit-common/src/main/java/com/google/gerrit/common/Nullable.java). 

The javax.annotations.Nullable class uses a retention policy of RUNTIME,
whereas the org.eclipse.jdt.annotation.Nullable class used a policy of
CLASS. Since I'm not aware of tools that make use of the annotation at
runtime I chose the CLASS policy. If in the future there is a benefit to
retaining the annotations in the running binary we can update this
class.

Change-Id: I63dc8f9a6dc46b517cbde211bb5e2f8521a54d04
Signed-off-by: Terry Parker <tparker@google.com>",0,0,0,0,0,0,0,0,0
59994,I95234ffad4c3110f9597fbd3a2760f653e22ecf7,https://git.eclipse.org/r/#/c/59994,2,fb41e8a2745edb60ef4dc2a255f4142ec315f17a,69c006ed61dadf29bc08f870045a3def83719da8,0,09/11/15,09/11/15,8,Use the JGit-internal @Nullable annotation,"Use the JGit-internal @Nullable annotation

Update existing @Nullable uses to use the JGit-internal version of the
annotation. 

Change-Id: I95234ffad4c3110f9597fbd3a2760f653e22ecf7
Signed-off-by: Terry Parker <tparker@google.com>",0,0,0,0,0,0,0,NA,NA
59995,I9af1b786d1b44b9b0d9c609480dc842df79bf698,https://git.eclipse.org/r/#/c/59995,2,49f9ad34a9f7f143caf2eda579d469723a43a657,8e64332b1d97337db9ff678f153a2610d5dd266c,0,09/11/15,09/11/15,29,Update dependencies to use the JGit-internal @Nullable,"Update dependencies to use the JGit-internal @Nullable

Update the project-specific Eclipse settings to replace the use of the
org.eclipse.jdt.annotation.Nullable class the new JGit-specific
@Nullable annotation. I verified that Eclipse reports errors when the
return value of a method annotated with
@org.eclipse.jgit.annotations.Nullable is dereferenced without a null
check.

Also remove the Maven and MANIFEST.MF dependencies on
org.eclipse.jdt.annotation.

Eclipse null analysis uses three annotations: @Nullable, @NonNull and
@NonNullByDefault. All three are updated in this patch because it is
invalid to set the Eclipse preferences to empty values. So far only
@Nullable has been introduced in org.eclipse.jgit.annotations.

My personal preference is to follow the advice in Effective Java and
avoid the null-return idiom, and to avoid passing null values in
general. This sets the expectation is that arguments and return types
are assumed non-null unless otherwise documented. If that is the
expectation, then consistent application of @NonNull is redundant and
hurts readability by cluttering the code, obscuring the occasional
@Nullable annotation that really requires attention.

If the JGit community decides there is value in using the @NonNull and
@NonNullByDefault annotations we can add them--this change configures
Eclipse to use them.

Change-Id: I9af1b786d1b44b9b0d9c609480dc842df79bf698
Signed-off-by: Terry Parker <tparker@google.com>",0,0,0,0,0,0,0,NA,NA
59999,Ib9fd230c9465a719df53cfcb314d8b5015743928,https://git.eclipse.org/r/#/c/59999,1,5cebb279d9c2875eb1a09bbcc7838a812655c7ad,d8b7294a131a7df38d76f9f52eb6d563452558f0,1,10/11/15,10/11/15,10,Add missing javadoc to bitmap index classes,"Add missing javadoc to bitmap index classes

Change-Id: Ib9fd230c9465a719df53cfcb314d8b5015743928
Signed-off-by: Matthias Sohn <matthias.sohn@sap.com>",0,0,0,1,0,0,1,0,0
60000,If45d204181ea9bc788b6b57693ca17b1847564c7,https://git.eclipse.org/r/#/c/60000,1,d8b7294a131a7df38d76f9f52eb6d563452558f0,0432269fdd2f1799e662eba4491189c1efc51150,0,10/11/15,10/11/15,14,Silence API errors for new methods added to BitmapBuilder,"Silence API errors for new methods added to BitmapBuilder

These API changes were introduced in f523f21e and 73474466.

BitmapBuilder is an interface to be implemented by implementors of this
interface. According to OSGi semantic versioning rules breaking API
changes require update of the minor version only if implementors of the
API have to be adapted and the changes do not affect clients of the API.

Change-Id: If45d204181ea9bc788b6b57693ca17b1847564c7
Signed-off-by: Matthias Sohn <matthias.sohn@sap.com>",0,0,0,0,0,0,0,NA,NA
60003,I3d474210e49089aa788314b4e08f505f0d26619b,https://git.eclipse.org/r/#/c/60003,1,d4fd0e530546153e71c8761a1926298ff36b5e47,f5c6309889cd2874e34b887e16f2126840b27563,1,10/11/15,10/11/15,497,Remove PackWriter.Statistics and other deprecated classes,"Remove PackWriter.Statistics and other deprecated classes

These classes make improper use of internal classes in the public API
and were replaced by corresponding classes in the JGit 4.1 release.

Change-Id: I3d474210e49089aa788314b4e08f505f0d26619b
Signed-off-by: Terry Parker <tparker@google.com>",0,0,0,0,0,0,0,0,0
60068,I6d96f5d095ed2e3c259d4b12124e404f5215bd9f,https://git.eclipse.org/r/#/c/60068,6,497b53da12adcf5ce0697b08607caf8ee48c62d1,8c8c2134df7d4322f661a137c7506675f93e8757,1,10/11/15,18/11/15,198,Add attribute accessors CanonicalTreeParser and use it in Treewalk,"Add attribute accessors CanonicalTreeParser and use it in Treewalk

When checking out a branch it is needed to access the attributes stored
in the tree to be checked out. E.g. directly after a clone we checkout
the remote HEAD. But in this case index and workingtree is still empty.
We have to look into tree to be checked and check and search there for
attributes.



Change-Id: I6d96f5d095ed2e3c259d4b12124e404f5215bd9f",0,1,1,0,0,1,1,0,0
60097,I659e9e95a96797f78f23669cfc5946c6b2d9c088,https://git.eclipse.org/r/#/c/60097,1,95489f03c91c5b7db1817b0b6e06be52a2845cae,519d0a10cef0cceb658ef8649852a186acc74e64,0,10/11/15,10/11/15,98,JGit v4.2.0.201511101648-m1,"JGit v4.2.0.201511101648-m1

Change-Id: I659e9e95a96797f78f23669cfc5946c6b2d9c088
Signed-off-by: Matthias Sohn <matthias.sohn@sap.com>",1,0,0,1,0,0,1,NA,NA
60105,I20e5eadc243ea375948ceca8c99441605c45ad95,https://git.eclipse.org/r/#/c/60105,1,519d0a10cef0cceb658ef8649852a186acc74e64,7400e1bb1951d9196ffcc5bd7699142b1ca5a8c8,0,11/11/15,11/11/15,98,Prepare post 4.2-m1 builds,"Prepare post 4.2-m1 builds

Change-Id: I20e5eadc243ea375948ceca8c99441605c45ad95
Signed-off-by: Matthias Sohn <matthias.sohn@sap.com>",1,0,0,1,0,0,1,NA,NA
60106,Ic138a5564a099ebf32248d86b93e2de9ab3c94ee,https://git.eclipse.org/r/#/c/60106,2,0f2c5fc3b7b49f417fa52ccfc267581c5810f2f9,04b7d7ab8cdd9b04f89f5d23b4d99cc7033d2d8a,1,11/11/15,12/11/15,43,RefDirectory.exactRef: do not ignore symrefs to unborn branch,"RefDirectory.exactRef: do not ignore symrefs to unborn branch

When asked to read a symref pointing to a branch-yet-to-be-born (such
as HEAD in a newly initialized repository), DfsRepository and
FileRepository return different results.

FileRepository:

	exactRef(""HEAD"") => null

DfsRepository:

	exactRef(""HEAD"") => SymbolicRef[HEAD -> refs/heads/master=00000000]

getRef(""HEAD"") returns the same as DfsRepository's exactRef in both
backends.

The intended behavior is the DfsRepository one: exactRef() is supposed
to be like getRef(), but more exact because it doesn't need to
traverse the search path.

The discrepancy is because DfsRefDatabase implements exactRef()
directly with the intended semantics, while RefDirectory uses a
fallback implementation built on top of getRefs().  getRefs() skips
symrefs to an unborn branch.

Let the fallback implementation use getRef instead to avoid this.
This means that exactRef will waste some effort traversing the ref
search path when the named ref is not found --- optimizing it to avoid
that traversal will happen in a followup change.

Change-Id: Ic138a5564a099ebf32248d86b93e2de9ab3c94ee
Reported-by: David Pursehouse <david.pursehouse@sonymobile.com>
Bug: 478865",0,0,0,0,0,0,0,0,0
60107,Icb1c7fafd4f1e34c9b43538e27ab5bbc17ad9eef,https://git.eclipse.org/r/#/c/60107,3,f80c29667f9a24a8518128207ec930ae150077ab,011bd6fab8bd26907c8f7f09b2e9762395d07c7d,1,11/11/15,24/11/15,32,RefDirectory.getRef: Treat fake missing symrefs like real ones,"RefDirectory.getRef: Treat fake missing symrefs like real ones

getRef() loops over its search path to find a ref:

	Ref ref = null;
	for (String prefix : SEARCH_PATH) {
		ref = readRef(prefix + needle, packed);
		if (ref != null) {
			ref = resolve(ref, 0, null, null, packed);
			break;
		}
	}
	fireRefsChanged();
	return ref;

If readRef returns null (indicating that the ref does not exist), the
loop continues so we can find the ref later in the search path.  And
resolve should never return null, so if we return null it should mean
we exhausted the entire search path and didn't find the ref.

... except that resolve can return null: it does so when it has
followed too many symrefs and concluded that there is a symref loop:

	if (MAX_SYMBOLIC_REF_DEPTH <= depth)
		return null; // claim it doesn't exist

Continue the loop instead of returning null immediately.  This makes
the behavior more consistent.

Arguably getRef should throw an exception when a symref loop is
detected.  That would be a more invasive change, so if it's a good
idea it will have to wait for another patch.

Change-Id: Icb1c7fafd4f1e34c9b43538e27ab5bbc17ad9eef",0,0,1,0,0,0,1,0,0
60111,Ife4bee69f82151de6ef8ea1a4c6c146d91bbf0d5,https://git.eclipse.org/r/#/c/60111,1,675c34c0c00a5cc45a8ef0a5483992ef6c979a48,382c7e55910414d3b8dc4c23d497a9a9e73a1a44,1,11/11/15,11/11/15,497,"Revert ""Remove PackWriter.Statistics and other deprecated classes""","Revert ""Remove PackWriter.Statistics and other deprecated classes""

This reverts commit bbcbcab8d39dd4bdf194cdba02c97a9eb70b2379.
These classes were part of the public API and should not be removed
until JGit 5.0.

Change-Id: Ife4bee69f82151de6ef8ea1a4c6c146d91bbf0d5",0,0,0,0,0,0,0,0,0
60150,I60f04e3ce3bf4731640ffd2433d329e621330029,https://git.eclipse.org/r/#/c/60150,2,246bc275fba615fb730f4627a3bd5dbc66a062f1,f8b2ab0bbd165abca0dfe033772e642d5f09b446,0,11/11/15,12/11/15,17,Fallback exactRef: Do not ignore symrefs to unborn branch,"Fallback exactRef: Do not ignore symrefs to unborn branch

When asked to read a symref pointing to a branch-yet-to-be-born (such
as HEAD in a newly initialized repository), getRef and getRefs provide
different results.

	getRef: SymbolicRef[HEAD -> refs/heads/master=00000000]
	getRefs and getAdditionalRefs: nothing

exactRef should match the getRef behavior: it is meant to be a
simpler, faster version of getRef that lets you search for a ref
without resolving it using the search path without other semantic
changes.  But the fallback implementation of exactRef relis on getRefs
and produces null for this case.

Luckily the in-tree RefDatabase implementations override exactRef and
get the correct behavior.  But any out-of-tree storage backend that
doesn't inherit from DfsRefDatabase or RefDirectory would still return
null when it shouldn't.

Let the fallback implementation use getRef instead to avoid this.
This means that exactRef would waste some effort traversing the ref
search path when the named ref is not found --- but subclasses tend to
override exactRef for performance already, so in the default
implementation correctness is more important.

Bug: 478865
Change-Id: I60f04e3ce3bf4731640ffd2433d329e621330029",0,0,0,0,0,0,0,NA,NA
60186,Idef8f81a82e2625e4b46141fae74975227f3ab7d,https://git.eclipse.org/r/#/c/60186,1,fd614e6b7d540bfbda33103fddc9d6efa5e2f1a0,fd614e6b7d540bfbda33103fddc9d6efa5e2f1a0,0,12/11/15,12/11/15,0,Merge branch 'stable-4.2',"Merge branch 'stable-4.2'

* stable-4.2:
  Prepare post 4.2-m1 builds
  JGit v4.2.0.201511101648-m1

Change-Id: Idef8f81a82e2625e4b46141fae74975227f3ab7d",1,0,0,0,0,0,1,NA,NA
60187,I1d2fe09f99df2a5f75f8077811a72fb2271cdddb,https://git.eclipse.org/r/#/c/60187,4,fd614e6b7d540bfbda33103fddc9d6efa5e2f1a0,303fd259623186ed96dc8d1cbf1fbd4892a0d85a,1,12/11/15,20/11/15,41,Avoid UnknownHostException in WalkEncryptionTest,"Avoid UnknownHostException in WalkEncryptionTest

Prevent that WalkEncryptionTest fails when it can't determine the public
IP address using http://checkip.amazonws.com

Change-Id: I1d2fe09f99df2a5f75f8077811a72fb2271cdddb
Signed-off-by: Matthias Sohn <matthias.sohn@sap.com>",0,1,1,0,0,0,1,0,0
60226,I4e86276039c630617610cc51d0eefa56d7d3952f,https://git.eclipse.org/r/#/c/60226,2,dfc494ba373b08f891ce18665c46abea32b1f615,0bda42ef61488702edbe574a2cdb03b18cc1a5c2,1,12/11/15,17/11/15,37,Fix MissingObjectException in RenameDetector,"Fix MissingObjectException in RenameDetector

When attempting to determine the size of a blob that does not exist,
the RenameDetector throws a MissingObjectException.

The fix is to return a size of zero if the size is requested for a blob
id that doesn't exist.

Bug: 481577
Change-Id: I4e86276039c630617610cc51d0eefa56d7d3952f
Signed-off-by: Rdiger Herrmann <ruediger.herrmann@gmx.de>",0,0,1,0,0,0,1,0,0
60391,If0246daab39fa279c30874549b198e7aa917bc62,https://git.eclipse.org/r/#/c/60391,1,b81ac404461a769c52bb0405c24cec068586c557,271eff5efb12f08d72fad97f40ec27e1afc140c1,0,13/11/15,13/11/15,98,JGit v4.1.1.201511131810-r,"JGit v4.1.1.201511131810-r

Change-Id: If0246daab39fa279c30874549b198e7aa917bc62
Signed-off-by: Matthias Sohn <matthias.sohn@sap.com>",1,0,0,1,0,0,1,NA,NA
60406,I1d1c4d918f2260c866c4392c1abea1e40a1de962,https://git.eclipse.org/r/#/c/60406,1,271eff5efb12f08d72fad97f40ec27e1afc140c1,307367fb9be7ad2a41618237711303c83ff1bf0e,0,14/11/15,14/11/15,496,Prepare 4.1.2-SNAPSHOT builds,"Prepare 4.1.2-SNAPSHOT builds

Change-Id: I1d1c4d918f2260c866c4392c1abea1e40a1de962
Signed-off-by: Matthias Sohn <matthias.sohn@sap.com>",1,0,0,1,0,0,1,NA,NA
60408,I66afb303f355aad8a7eaa7a6dff06de70ae9c490,https://git.eclipse.org/r/#/c/60408,1,e4ec56b2c53dc535baadf4195a91a44435191c36,6dd0c2d328880cd6fbe9920760c046fe71357623,0,14/11/15,14/11/15,536,Merge branch 'stable-4.1',"Merge branch 'stable-4.1'

* stable-4.1:
  Prepare 4.1.2-SNAPSHOT builds
  JGit v4.1.1.201511131810-r
  Fallback exactRef: Do not ignore symrefs to unborn branch
  RefDirectory.exactRef: Do not ignore symrefs to unborn branch

Change-Id: I66afb303f355aad8a7eaa7a6dff06de70ae9c490
Signed-off-by: Matthias Sohn <matthias.sohn@sap.com>",1,0,0,0,1,0,1,NA,NA
60437,Ib2a778a246c6d84b7c32565f54df2385b59f6498,https://git.eclipse.org/r/#/c/60437,4,6dd0c2d328880cd6fbe9920760c046fe71357623,6d89d231f81b75d6155c4a75eec79c27bf06bb20,0,15/11/15,17/11/15,67,Added jgit own NonNull annotation type,"Added jgit own NonNull annotation type

The annotation is required for example in Repository case (patch
follows), where almost all non-void return methods return Nullable
except few returning NonNull. I definitely do not favor this style, but
it is a nightmare to clients to guess if the null check is needed or
not.

Change-Id: Ib2a778a246c6d84b7c32565f54df2385b59f6498
Signed-off-by: Andrey Loskutov <loskutov@gmx.de>",0,1,0,0,0,1,1,NA,NA
60438,I978288754dea0c6fffd3457fad7d4d971e27c6c2,https://git.eclipse.org/r/#/c/60438,1,e112eb8b065968c12779cebb9d528e7af73bfadf,4decbdb86a4377873a3f43777ce03023ef2c858a,0,15/11/15,15/11/15,3,Handle InternalError during symlink support detection on Windows,"Handle InternalError during symlink support detection on Windows

When JGit tries to detect symlink support the attempt to create a
symlink may fail with a java.lang.InternalError. This was reported for a
case where the application using JGit runs in Windows XP compatibility
mode using Oracle JDK 1.8. Handle this by assuming symlinks are not
supported in this case.

Bug: 471027
Change-Id: I978288754dea0c6fffd3457fad7d4d971e27c6c2
Signed-off-by: Matthias Sohn <matthias.sohn@sap.com>",0,0,0,0,0,0,0,NA,NA
60439,I6ef5fbdb57e7cba010ad23cb3f6af02891e7fe78,https://git.eclipse.org/r/#/c/60439,3,a865704be8e0e5c126cfdf7319e63ae2fcb50a02,19e1fe1bcd495cba1d27c6a6652f19393552b784,0,15/11/15,17/11/15,2,Fixed typo in preferences: NonByDefault -> NonNullByDefault,"Fixed typo in preferences: NonByDefault -> NonNullByDefault

Change-Id: I6ef5fbdb57e7cba010ad23cb3f6af02891e7fe78
Signed-off-by: Andrey Loskutov <loskutov@gmx.de>",0,0,0,1,0,1,1,NA,NA
60442,Ie8369d2c9c5fac5ce83b3b1b9bc217d7b55502a3,https://git.eclipse.org/r/#/c/60442,7,97bdf8263a0e0e6f3a7e723a0528bc9ecfc09f4b,a6f887251d88cce0ac09d260269532b0feb7c628,1,15/11/15,25/11/15,230,[wip] Null-annotated Repository class and fixed related compiler errors,"[wip] Null-annotated Repository class and fixed related compiler errors

org.eclipse.jgit.lib.Repository class is an example of the API which
should be written with Java 8 java.util.Optional<T> type. Unfortunately
this API is already released and widely used. The good clients are
currently doing their best with checking return values for null and bad
clients do not know how bad their code is.

I've tried not to change any logic and to be as less intrusive as
possible. Most of the JGit code was well prepared to this, only few
classes needed some smaller fixes. That's not the case for EGit - we
will have 110 compiler errors there after this change, a huge patch
follows later.

This change fixes all compiler errors in JGit and replaces possible
NPE's with either appropriate exceptions, avoiding multiple ""Nullable
return"" method calls or early returning from the method.

Change-Id: Ie8369d2c9c5fac5ce83b3b1b9bc217d7b55502a3
Signed-off-by: Andrey Loskutov <loskutov@gmx.de>",0,1,1,0,0,1,1,1,1
60601,I8348c8c457a2a7f1f0c48050e10399b0fa1cdbe1,https://git.eclipse.org/r/#/c/60601,10,217d0fb9462a89d327dd958ea043871c6f5870f8,791901de87a58ade9ee186eeb954135245217c9f,1,17/11/15,27/11/15,366,"Based on https://git.eclipse.org/r/#/c/60068/ Adds the new class Attributes.java that represents a semantic collector of Attributes and replaces the anonymous Map<String,Attribute>. Adds preparations for a future Attribute Macro Expansion","Based on https://git.eclipse.org/r/#/c/60068/ Adds the new class
Attributes.java that represents a semantic collector of Attributes and
replaces the anonymous Map<String,Attribute>. Adds preparations for a
future Attribute Macro Expansion

Change-Id: I8348c8c457a2a7f1f0c48050e10399b0fa1cdbe1
Signed-off-by: Ivan Motsch <ivan.motsch@bsiag.com>",0,1,1,1,0,0,1,0,0
60617,I2e69c9fc84e9d7fb8df0a05817d688fc456d8f00,https://git.eclipse.org/r/#/c/60617,11,66f9df74add22e61b6abbb2a670e92c911fe3efb,ec67fdd6eb4915950d555f5576994f82556fc06a,1,17/11/15,11/02/16,1237,Add Attribute Macro Expansion,"Add Attribute Macro Expansion

Attributes MacroExpander implements macros in git attributes. This is
implemented inside the TreeWalk using the MacroExpanderImpl class. Basic
attribute tests use a NullMacroExpander.

Change-Id: I2e69c9fc84e9d7fb8df0a05817d688fc456d8f00
Signed-off-by: Ivan Motsch <ivan.motsch@bsiag.com>",0,1,0,0,1,0,1,3,1
60632,Idb9b0a48cefac01abfcfdf00f6d173f8fa1d9a7b,https://git.eclipse.org/r/#/c/60632,3,59bf3bd69465e1059411cbb32df75b3f6d870e38,5700d207ed1eaeb9347395c7368edcbae61667d0,1,17/11/15,18/11/15,3,Fix pre-push hook to not set null remoteName as first argument,"Fix pre-push hook to not set null remoteName as first argument

According to [1] the pre-push hook expects two parameters which provide
the name and location of the destination remote, if a named remote is
not being used both values should be the same.

We did set the first parameter to null in that case which caused
ProcessBuilder to throw a NullPointerException since its start() method
doesn't accept null arguments.

[1] https://git-scm.com/docs/githooks#_pre_push

Bug: 482393
Change-Id: Idb9b0a48cefac01abfcfdf00f6d173f8fa1d9a7b
Signed-off-by: Matthias Sohn <matthias.sohn@sap.com>",1,0,0,0,0,0,1,0,0
60635,Ie4f6367afc2a6aec1de56faf95120fff0339a358,https://git.eclipse.org/r/#/c/60635,24,07b85bef1c7b70709c6b81c7755452aa3ec00691,0bcceff259b71323c3929847ac811e69a802c672,1,17/11/15,07/03/16,2415,Added StreamType detection using attributes and core.config,"Added StreamType detection using attributes and core.config

TreeWalk implements the new interface StreamTypeProvider which yields
the StreamType enum of the current element. This new method can be used
with StreamTypeUtil in order to create a wrapped InputStream or
OutputStream when reading / writing files. The implementation is based
on the concepts of the cli git with regards to core.crlf, core.eol and
the .gitattributes keys ""text"", ""eol"" and the macro ""binary""
Change-Id: Ie4f6367afc2a6aec1de56faf95120fff0339a358
Signed-off-by: Ivan Motsch <ivan.motsch@bsiag.com>",0,1,0,0,1,0,1,5,1
60638,Ieeeb578c2fe35223a7561d668dce8e767dc89ef0,https://git.eclipse.org/r/#/c/60638,2,f0f024fd2ee1e8a433341170688247e7a8949eb0,d69a30e3f3802d19670545c677099542c1a732cc,1,17/11/15,17/11/15,56,Make jgit annotations accessible to other plugins,"Make jgit annotations accessible to other plugins

Other plugins which want to use JGit nulness annotations in their code
cannot do this if the annotations aren't part of the published API.

Unfortunately it looks like although Eclipse JDT allows to use custom
nullness annotation types per project, it does not understand if those
annotations are used mixed with other nullness annotations in other
projects. E.g. EGit can either configure JGit annotations for NPE
analysis and so ""understand"" nullness from JGit API but so it looses the
ability to use any other nullness annotations to annotate its own code.

Change-Id: Ieeeb578c2fe35223a7561d668dce8e767dc89ef0
Signed-off-by: Andrey Loskutov <loskutov@gmx.de>",0,0,0,0,0,0,0,0,0
60762,I85527eb2a34bb94979fdab1311043ae77a2b5ecd,https://git.eclipse.org/r/#/c/60762,3,292b72d6af729e68abaf659e826bc274a62d7d57,26dc1e727aa2d050b2a102a00b6b5fa22fa8d1ae,0,18/11/15,20/11/15,9,Fix classpath of test launch configurations,"Fix classpath of test launch configurations

Remove references to the bundle org.eclipse.jgit.java7 which was removed
in 4.0.

Change-Id: I85527eb2a34bb94979fdab1311043ae77a2b5ecd
Signed-off-by: Matthias Sohn <matthias.sohn@sap.com>",0,0,0,0,0,0,0,NA,NA
60799,I50bfcb719c45caac3cb5550a8b16307c2ea9def4,https://git.eclipse.org/r/#/c/60799,2,34aa498f3c1b803c4a144187b9920653c5aea130,a15e5e22f1860e3cbe99fe5afe0e7b9166a6728c,1,19/11/15,19/11/15,91,Throw IndexReadException if existing index can't be read,"Throw IndexReadException if existing index can't be read

If the index file exists but can't be read for example because of wrong
filesystem permissions we should throw a specific exception. This allows
EGit to handle this error situation.

Bug: 482607
Change-Id: I50bfcb719c45caac3cb5550a8b16307c2ea9def4",0,0,0,0,0,1,1,1,1
60836,I225a36ecc4711fd2eb9af67ca8fb79681d94c587,https://git.eclipse.org/r/#/c/60836,4,a98d794e9d2ecaa75a1c251cee305a623d28eb87,8120fc8a12aef4ba0221b4a72a8f8e9151fec50f,1,19/11/15,19/11/15,20,git rev-parse: Add --verify option,"git rev-parse: Add --verify option

Add the --verify option to be more compatible with git

Change-Id: I225a36ecc4711fd2eb9af67ca8fb79681d94c587
Signed-off-by: Thomas Meyer <thomas.mey@web.de>",0,1,0,0,0,0,1,0,0
60853,I670b2e48a88138a1f2104ea201baa958e9edbddb,https://git.eclipse.org/r/#/c/60853,5,eee8a0eed1ab04b6ea33485ce02fa4c42b400a03,29f3ed046b860bcc9796889463a42610f3e81b36,1,19/11/15,25/11/15,5,repo: Do not use search path to find refs/remotes/origin/<branch>,"repo: Do not use search path to find refs/remotes/origin/<branch>

When running from a non-bare repository, ""jgit repo"" checks whether
the rev passed in is a sha1 or branch name and in the latter case will
check out origin/<branch>.

We are expecting refs/remotes/origin/<branch>, but as a side effect of
using getRef we also end up looking for refs/origin/<branch>,
refs/heads/origin/<branch>, and so on.  Avoid that by using exactRef
instead.

Change-Id: I670b2e48a88138a1f2104ea201baa958e9edbddb
Signed-off-by: Jonathan Nieder <jrn@google.com>",0,1,1,0,0,0,1,0,0
60917,Ie2394631ffc4c489bd37c3ec142ed44bbfcac726,https://git.eclipse.org/r/#/c/60917,2,8729495bcafd01009dc1476aee1f5dc5af372821,92c500795e385a9a2e4d3a71076ebc4a5e8ccaae,1,20/11/15,23/11/15,17,Let FS_Win32_Cygwin detect symlink support by creating temporary symlink,"Let FS_Win32_Cygwin detect symlink support by creating temporary symlink

The class FS_Win32 was always trying out to create a temporary symlink
in order to find out whether symlinks are supported. FS_Win32_Cygwin was
overwriting this method and always returned true. But when the user
running JGit does not have administrative rights then the creation of
symlinks is forbidden even he is  running on FS_Win32_Cygwin. A lot of
tests failed only on the Windows platform because of this. It was
detected that FS_Win32_Cygwin the correct Filesystemabstraction but
creation of symlinks always failed because of lacking privileges of the
user running the tests.
This fix tells FS_Win32_Cygwin to behave like FS_Win32 and to try out
whether symlinks can be created in order to find out whether symlinks
are supported.

Change-Id: Ie2394631ffc4c489bd37c3ec142ed44bbfcac726",0,0,1,0,0,1,1,0,0
60918,I604e08cda8cebe276b5214ba0f618b6112c3441f,https://git.eclipse.org/r/#/c/60918,3,11eb64d7402c4698152fc89de61e4b1eecbe333a,f759f716980e1402e4298d343efa3c93a3081881,1,20/11/15,26/11/15,21,Fix HookTest when running on Win32_Cygwin,"Fix HookTest when running on Win32_Cygwin

This test expected that the test scripts emit a platform-dependent
newline (crlf on windows, lf on linux). But that's not true. Expected
result should always be a trailing ""\n"" because the test scripts
explicitly echo a ""\n"" in the end.

Change-Id: I604e08cda8cebe276b5214ba0f618b6112c3441f",0,0,1,0,0,1,1,0,0
60939,If4a94217fb5b7cfd4c04d881902f3e86193c7008,https://git.eclipse.org/r/#/c/60939,5,f1748e2de1bcca7513974d173e9c2e473d1465b1,cf801f72b626525f95342a6e80ca857862066c8c,1,20/11/15,24/11/15,72,Raise error if FileNotFoundException is caught for an existing file,"Raise error if FileNotFoundException is caught for an existing file

File, FileInputStream and friends may throw FileNotFoundException even
if the file is existing e.g. when file permissions don't allow to access
the file content. In most cases this is a severe error we should not
suppress hence rethrow the FileNotFoundException in this case.

This may also fix bug 451508.

Bug: 451508
Change-Id: If4a94217fb5b7cfd4c04d881902f3e86193c7008
Signed-off-by: Matthias Sohn <matthias.sohn@sap.com>",0,1,1,0,0,0,1,1,1
60957,If77056378befe86c1773950dbe48a82c833fd532,https://git.eclipse.org/r/#/c/60957,2,461c0ca18d584f33648d571f2ba44c689217e1f1,f43e0f3218c8c7349310d065b9352191de804191,0,20/11/15,20/11/15,6,Remove no longer need outdated API warning filter,"Remove no longer need outdated API warning filter

This fixes a warning saying this filter isn't needed anymore.

Change-Id: If77056378befe86c1773950dbe48a82c833fd532
Signed-off-by: Matthias Sohn <matthias.sohn@sap.com>",1,0,0,0,0,0,1,NA,NA
61165,I0ed738a775e5c977b21447d195acee1ecf5e2cb9,https://git.eclipse.org/r/#/c/61165,2,fa3db23887be529c7eb35e3de9d1a3fe1f065d2d,5be4319e7ff4f15829b86496643c25712ffef70c,0,24/11/15,25/11/15,13,Fix FS.runProcess() to close the InputStream,"Fix FS.runProcess() to close the InputStream

When FS.runProcess was called and an InputStream was given the method
tried to pump the whole InputStream to the process. When the method
ended the InputStream was not giving any data anymore. Consequently
close the InputStream inside the method.

Change-Id: I0ed738a775e5c977b21447d195acee1ecf5e2cb9",0,0,0,0,0,1,1,NA,NA
61203,Idcdc41cd7e535ff88df33ea0a249333ed8fc91b0,https://git.eclipse.org/r/#/c/61203,2,73275ded870bdc467c362a2568b66e31c61fe00f,fb676954c2447ee92ea453a6530846bda4d21cf5,1,24/11/15,26/11/15,43,Fix unit tests on Windows,"Fix unit tests on Windows

PushCommandTest and RunExternalScriptTest didn't succeeded
on Windows. Fix this by expecting a simple newline as line
ending (instead of expecting the platform dependent line
seperator. Additionally correct computation of expected
URLs in PushCommandTest.

Change-Id: Idcdc41cd7e535ff88df33ea0a249333ed8fc91b0",0,0,0,0,0,1,1,0,0
61290,If2606fb208f6690bd4fd7ad953e709a3ebd6398c,https://git.eclipse.org/r/#/c/61290,1,17fdf62889c9966aaf6806d1da3511d871b61e65,9b0722c738c119d2c5a3a1dedf4c7e892ec168a8,0,25/11/15,25/11/15,19,Null-annotated RefDatabase class,"Null-annotated RefDatabase class

No other code changes except adding nullness annotations.

Change-Id: If2606fb208f6690bd4fd7ad953e709a3ebd6398c
Signed-off-by: Andrey Loskutov <loskutov@gmx.de>",0,0,0,0,0,0,0,NA,NA
61300,I8575797127fc96abea8af56f019ca39f5897486f,https://git.eclipse.org/r/#/c/61300,2,38e9398ee857b1ab66cf6460a73243d269fda8c1,090473d4fd7f8d3b8cd3aa694a1516fd62da7b29,1,25/11/15,26/11/15,38,Add missing @since tags and missing javadoc,"Add missing @since tags and missing javadoc

Change-Id: I8575797127fc96abea8af56f019ca39f5897486f
Signed-off-by: Matthias Sohn <matthias.sohn@sap.com>",0,0,0,1,0,0,1,0,0
61509,I24c8a600ec962d61d5f40abf73eac4203e115240,https://git.eclipse.org/r/#/c/61509,7,3a1750901da10d49ee5bf53de3e6c27e08ed2fdd,60ce491f22d08ae609603bd4c6c27564b88680b3,1,27/11/15,15/12/15,336,[wip] Null-annotated Ref class and fixed related compiler errors,"[wip] Null-annotated Ref class and fixed related compiler errors

This change fixes all compiler errors in JGit and replaces possible
NPE's with either appropriate exceptions, avoiding multiple ""Nullable
return"" method calls or early returning from the method.

Change-Id: I24c8a600ec962d61d5f40abf73eac4203e115240
Signed-off-by: Andrey Loskutov <loskutov@gmx.de>",0,1,0,0,0,0,1,3,1
61512,I14046559fddb9656d890d3099010117e84cd9439,https://git.eclipse.org/r/#/c/61512,1,e9f6391f0a255f6ba795df5ed96a74831b5cced5,5e9142ed46b4ff2adf3497b49ca30114d0cc2fe8,1,28/11/15,29/11/15,27,Fix performance regression in CanonicalTreeParser,"Fix performance regression in CanonicalTreeParser

Change-Id: I14046559fddb9656d890d3099010117e84cd9439",0,0,0,1,0,0,1,0,0
61513,I19efb05e103fab6b739ced407f6e28155a48dba6,https://git.eclipse.org/r/#/c/61513,1,5e9142ed46b4ff2adf3497b49ca30114d0cc2fe8,586624b3ef83996e741ea20198927c256be2a837,1,28/11/15,29/11/15,4,"DirCache: Fix getEntriesWithin("""") to not include null entries","DirCache: Fix getEntriesWithin("""") to not include null entries

The internal array may be longer than entryCnt, in this case the tail
of the array is padded with null entries. Do not return those to the
caller of getEntriesWithin().

Change-Id: I19efb05e103fab6b739ced407f6e28155a48dba6",0,0,0,0,0,0,0,0,0
61516,I6db7bc793ece99ff3c356338d793c07c061aeac7,https://git.eclipse.org/r/#/c/61516,1,586624b3ef83996e741ea20198927c256be2a837,354b96c66ece47ba582f32cd0c3902ea1d31cf1d,1,28/11/15,29/11/15,60,DirCacheEntry: Speed up creation by avoiding string cast,"DirCacheEntry: Speed up creation by avoiding string cast

The checkPath function is available as a byte[] form, in fact the
String form just converts to byte[] to run the algorithm.

Having DirCacheEntry take a byte[] -> String -> byte[] to check if
each path is valid is a huge waste of CPU time. On some systems it
can double the time required to read 38,999 files from trees to the
DirCache. This slows down any operation using a DirCache.

Expose the byte[] form and use it for DirCacheEntry creation.

Change-Id: I6db7bc793ece99ff3c356338d793c07c061aeac7",0,0,0,0,0,0,0,0,0
61517,I5d990389e7ba24ef0861cf8ec0026ed030d4aeda,https://git.eclipse.org/r/#/c/61517,1,354b96c66ece47ba582f32cd0c3902ea1d31cf1d,a7c123e4049575c032b6a1a3928e6114ae9f29ce,1,28/11/15,29/11/15,17,DirCache: Fix bad code formatting,"DirCache: Fix bad code formatting

Line breaking before , is ugly to read.  Most formatters and humans
expect line break after , so update a few offensive locations.

Use String.format() for the construction of the error message when
a bad DirCachEntry is being failed on. This simplifies the code and
its not a performance critical section.

Change-Id: I5d990389e7ba24ef0861cf8ec0026ed030d4aeda",0,0,0,0,0,0,0,0,0
61518,If1490ca25de0679a71cf508f59b486f9cc816165,https://git.eclipse.org/r/#/c/61518,7,a7c123e4049575c032b6a1a3928e6114ae9f29ce,466c1f84b0ec606d2701e61f864ba7ae87fe58b2,1,28/11/15,01/12/15,72,DirCacheBuilder: Speed up reading from trees,"DirCacheBuilder: Speed up reading from trees

Recursively copying a tree into a DirCache is a bottleneck for some
algorithms like the in memory merge code in Gerrit Code Review.  Drop
a layer down in the stack and use CanonicalTreeParser directly as the
addition logic only processes 1 tree at a time and does not need the
merge sorting feature (or overhead) of TreeWalk.

Combined with 761814fe9c (""DirCacheEntry: Speed up creation by
avoiding string cast"") tree loading nearly halves in running time
from 70ms to 36ms on some platforms.

Change-Id: If1490ca25de0679a71cf508f59b486f9cc816165",0,1,0,0,0,0,1,0,0
61520,I578b7e18e58753d154937f4ab835012b09e5adca,https://git.eclipse.org/r/#/c/61520,3,97bba091b297f8f61fc0661de69ccec80a98ed24,88083a3f5571f91a206bb597a0ca7ed994bc5826,1,28/11/15,30/11/15,63,DirCache: Add helper to read from a tree,"DirCache: Add helper to read from a tree

Application code sometimes wants to read a DirCache from an ObjectId,
but its confusing how to do this because its buried inside the
DirCacheBuilder.

Use this utility in a few places within JGit that also want to read
a DirCache from a tree's ObjectId.

Change-Id: I578b7e18e58753d154937f4ab835012b09e5adca",0,0,0,0,0,0,0,0,0
61522,Ife950253b687be325340d27e9915c9a40df2641c,https://git.eclipse.org/r/#/c/61522,5,ee7c650e337396c830c1b59900a3d13f46f269b1,c4d8e2e5cd25d07a52950a951b61c20b770d31fc,1,29/11/15,01/12/15,157,Delay locating .gitattributes until requested,"Delay locating .gitattributes until requested

Instead of checking every entry for .gitattributes only look for the
entry on request by TreeWalk.  This avoids impacting uses like RevWalk
filtering history.

When the attrs is requested skip to the start of the tree and look for
.gitattributes until either it is found, or it is impossible to be
present.  Due to the sorting rules of tree entries "".gitattributes""
should be among the first or second entries in the tree so very few
entries will need to be considered.

Waiting to find the .gitattributes file by native ordering may miss
attrs for files like "".config"", which sorts before "".gitattributes"".
Starting from the front of the tree on demand ensures the attributes
are parsed as early as necessary to process any entry in the tree.

Change-Id: Ife950253b687be325340d27e9915c9a40df2641c",0,1,0,0,0,0,1,0,0
61596,I8b6e3eb648c8ec2c38f73de22382537b1276b779,https://git.eclipse.org/r/#/c/61596,3,532c74ff31465bee2a0015a39e8d6d7987ff3075,ffc76d8dd6818242060bcdb11cc424247f09abd2,1,30/11/15,12/12/15,27,URIish: fixed full uri pattern not expecting end of line after host name,"URIish: fixed full uri pattern not expecting end of line after host name

Bug: 483326
Change-Id: I8b6e3eb648c8ec2c38f73de22382537b1276b779
Signed-off-by: Andrey Loskutov <loskutov@gmx.de>",0,0,0,0,0,1,1,0,0
61712,Ib1341876c703670945ef209edc8259715ee86c26,https://git.eclipse.org/r/#/c/61712,1,c61cab9999678c581e0c9939222f9c2d429547ae,5afcc7bc9b8dc773def92da0e30ddfeb61b77cd1,1,02/12/15,02/12/15,35,ReceiveCommand.filter: Accept Iterable,"ReceiveCommand.filter: Accept Iterable

PreReceiveHook is given a Collection<ReceiveCommand> and it can be
very useful here to call ReceiveCommand.filter(cmds, NOT_ATTEMPTED).

Overload filter to accept both Iterable and List.
Keep backwards binary compatibility for List by upcasting to Iterable.

Change-Id: Ib1341876c703670945ef209edc8259715ee86c26",0,0,0,0,0,0,0,1,1
61781,I58fa657dd4783fed0ffca94020c87c49d99009c6,https://git.eclipse.org/r/#/c/61781,1,5afcc7bc9b8dc773def92da0e30ddfeb61b77cd1,63f828c44f7ba234a391f0ebc539d4cae524d6e9,1,02/12/15,02/12/15,2,Fix wrong @since tag In ReceiveCommand,"Fix wrong @since tag In ReceiveCommand

Change-Id: I58fa657dd4783fed0ffca94020c87c49d99009c6
Signed-off-by: Matthias Sohn <matthias.sohn@sap.com>",1,0,0,1,0,0,1,0,0
61826,Id1b988aded06939b1d7edd2671e34bf756896c0e,https://git.eclipse.org/r/#/c/61826,2,edaa3f9ab83598c7b1b59cb45201252ed955be1c,3f29aadbf9c4a3f0506b45b7da2d3f74d89ce5ae,1,02/12/15,13/12/15,10,Fix FileTreeIterator.idSubmodule(Entry),"Fix FileTreeIterator.idSubmodule(Entry)

FileTreeIterator was calling by mistake
WorkingTreeIterator.idSubmodule(Entry). Instead it should always compute
idSubmodule on its own.

Change-Id: Id1b988aded06939b1d7edd2671e34bf756896c0e",0,0,1,0,0,1,1,0,0
61841,I15083fbe48447678e034afeffb4639572a32f50c,https://git.eclipse.org/r/#/c/61841,2,1045fbe280c4b06a64a8630c15fad3f389b3176d,872ece0357859ef4889ffbfd257337f9fca24497,1,03/12/15,03/12/15,482,Support atomic push in JGit client,"Support atomic push in JGit client

This should mirror the behavior of `git push --atomic` where the
client asks the server to apply all-or-nothing. Some JGit servers
already support this based on a custom DFS backend. InMemoryRepository
is extended to support atomic push for unit testing purposes.

Local disk server side support inside of JGit is a more complex animal
due to the excessive amount of file locking required to protect every
reference as a loose reference.

Change-Id: I15083fbe48447678e034afeffb4639572a32f50c",0,0,0,0,0,0,0,2,1
61938,I301a71b19fba35a5093d8cc64d4ba970c2877a44,https://git.eclipse.org/r/#/c/61938,3,872ece0357859ef4889ffbfd257337f9fca24497,bd5bd0e4b083640e7155fa0a9e90fcfca3ba651f,0,04/12/15,31/12/15,212,Implement Buck driven build,"Implement Buck driven build

Today there are plenty of modern build tool systems available in the
wild (in no particular order):

* http://bazel.io
* https://pantsbuild.github.io
* http://shakebuild.com
* https://ninja-build.org
* https://buckbuild.com

The attributes, that all these build tools have in common, are:

* reliable
* correct
* very fast
* reproducible

It must not always be the other build tool, this project is currently
using. Or, quoting Gerrit Code Review maintainer here:

  ""Friends, don't let friends use <the other build tool system>!""

This change is non-complete implementation of JGit build in Buck,
needed by Gerrit Code Review to replace its dependency with standlone
JGit cell. This is very useful when a developer is working on both
projects and is trying to integrate changes made in JGit in Gerrit.

The supported workflow is:

  $ cd jgit
  $ emacs <hack>
  $ cd ../gerrit
  $ buck build --config repositories.jgit=../jgit gerrit

With --config repositories.jgit=../jgit jgit cell is routed through
JGit development tree.

To build jgit, issue:

  $ buck build //:jgit
  [-] PROCESSING BUCK FILES...FINISHED 0,0s

Yes, you can't measure no-op build time, given that Buck daemon is
used.

Change-Id: I301a71b19fba35a5093d8cc64d4ba970c2877a44
Signed-off-by: David Ostrovsky <david@ostrovsky.org>",0,0,1,0,0,0,1,NA,NA
62112,I107f1b44e0e6371e3cfbd1cc18a970412e1fc679,https://git.eclipse.org/r/#/c/62112,3,e0bb7c84dce600ed1dc99d2bbe894777ccbbd669,1149d1a383ee49da744cd64e3c806b5da759ce4a,1,07/12/15,16/12/15,27,Fix NPE in HttpSupport,"Fix NPE in HttpSupport

Bug: 483366
Change-Id: I107f1b44e0e6371e3cfbd1cc18a970412e1fc679
Signed-off-by: Matthias Sohn <matthias.sohn@sap.com>",0,0,1,0,0,0,1,0,0
62117,Ifae6eecca38d5f114861f44658a32521e6e96866,https://git.eclipse.org/r/#/c/62117,1,58708d1c272dc5b91fe90114bfdbf7e0dd6589e5,9da13f7eca5f5b29339bae15ba00b8c57224c945,1,07/12/15,08/12/15,3,Fix NPE in HttpAuthMethod,"Fix NPE in HttpAuthMethod

If the password char array is null constructing a new String from this
array fails with a NPE. Add a null check to fix this.

Change-Id: Ifae6eecca38d5f114861f44658a32521e6e96866
Signed-off-by: Matthias Sohn <matthias.sohn@sap.com>",0,0,0,0,0,0,0,0,0
62118,I9539c50db35e564db9d43d8ebb71d7e9c6fdcc19,https://git.eclipse.org/r/#/c/62118,2,9da13f7eca5f5b29339bae15ba00b8c57224c945,f66dccd35aecf0054bba108053586b79ae4e8267,1,07/12/15,15/12/15,10,Fix ChainingCredentialsProvider,"Fix ChainingCredentialsProvider

The ChainingCredentialsProvider gave up chaining to the next provider if
the first one returned no credentials items for the given URI.

Change-Id: I9539c50db35e564db9d43d8ebb71d7e9c6fdcc19
Signed-off-by: Matthias Sohn <matthias.sohn@sap.com>",0,0,1,0,0,0,1,0,0
62119,Ibbd45b73efc663821866754454cea65e6d03f832,https://git.eclipse.org/r/#/c/62119,3,6e8d8213d88cdbfa1cb42024598495bb85d995bb,2f257705bd48c6abcecd30eedafc6e581a892c88,0,07/12/15,15/12/15,7,Enable retrieval of credentials from .netrc for AwtCredentialsProvider,"Enable retrieval of credentials from .netrc for AwtCredentialsProvider

This was done for ConsoleCredentialsProvider earlier, we need the
AwtCredentialsProvider for debugging jgit command line since there is no
console in Eclipse. Hence also add support for .netrc here.

Change-Id: Ibbd45b73efc663821866754454cea65e6d03f832
Signed-off-by: Matthias Sohn <matthias.sohn@sap.com>",0,0,1,0,0,0,1,NA,NA
62120,Ic4e0f8b60d4bd6e69d91eae0c7e1b44cdf851b00,https://git.eclipse.org/r/#/c/62120,4,ca380ce030993eb064414c88ffbf5f71d5c96f1f,027eaa9c306738a652b10990077eb02c14d48209,1,07/12/15,15/12/15,22,"Fix push with jgit pgm failing with ""unauthorized""","Fix push with jgit pgm failing with ""unauthorized""

Pushing with JGit commandline to e.g. Github failed with ""unauthorized""
since HttpUrlConnection calls the configured authenticator implicitly.

The problem is that during a push two requests are sent to the server,
first a GET and then a POST (containing the pack data). The first GET
request sent anonymously is rejected with 401 (unauthorized). When an
Authenticator is installed the java.net classes will use the
Authenticator to ask the user for credentials and retry the request.
But this happens under the hood and JGit level code doesn't see that
this happens.

The next request is the POST but since JGit thinks the first GET request
went through anonymously it doesn't add authentication headers to the
POST request. This POST of course also fails with 401 but since this
request contains a lot of body-data streamed from JGit (the pack file!)
the java.net classes can't simply retry the request with authorization
headers. The whole process fails.

Fix this by using Apache httpclient which doesn't use Authenticator to
retrieve credentials. Instead initialize TransportCommand to use the
default credential provider if no other credentials provider was set
explicitly. org.eclipse.jgit.pgm.Main sets this default for the JGit
command line client.

Change-Id: Ic4e0f8b60d4bd6e69d91eae0c7e1b44cdf851b00
Signed-off-by: Matthias Sohn <matthias.sohn@sap.com>",0,1,1,0,0,0,1,0,0
62148,I6c482653d2b53e3509abb11211b67fc29cf2949c,https://git.eclipse.org/r/#/c/62148,5,58e99916401b28e5ebaf47d31b97ef3d5e40d7aa,f1349153faea40498729310ad6dfd66572367443,1,07/12/15,08/12/15,39,Use runtime retention for Nullable annotation,"Use runtime retention for Nullable annotation

JGit's Nullable type was added[1] in the hope of being able to add
nullness annotations that (a) do not preclude building and running
with Java 7 and (b) could be shared by Gerrit, which uses a custom
Nullable type for other reasons[2].  Sharing a type is useful because
Eclipse's null analysis is only able to use one Nullable type at a
time in a given workspace (so for this analysis to function in a
workspace used to develop Gerrit, JGit and Gerrit would need to use
the same Nullable type).

The new Nullable type has CLASS instead of RUNTIME retention because
there wasn't any obvious use for the annotation at run time.

Gerrit uses the Nullable annotation to communicate with Guice.  Guice
injection happens at runtime, so it needs to be able to read the
@Nullable annotations at run time.  Otherwise Guice produces
provisioning errors, such as

 3) null returned by binding at com.google.gerrit.lucene.LuceneChangeIndex$Factory.create()
  but parameter 7 of com.google.gerrit.lucene.LuceneChangeIndex.<init>() is not @Nullable

Switch to RUNTIME retention to avoid this.

While at it, update the javadoc to explain more clearly how this
annotation relates to other Nullable types[3].  This should make it
clearer why JGit needed another Nullable type:

 A. Avoiding dependency on Java 8
 B. RUNTIME retention to allow Guice to read the annotation at run time
 C. Named Nullable so Guice can recognize the annotation
 D. Not an addition to Java EE's javax. annotation package, to avoid
    the split-package problem[2] that prevents the annotation from
    being readable at run time when loaded from an OSGi container
 E. Avoiding heavyweight dependencies, deprecated dependencies, and
    dependencies on package internals

 org.checkerframework.checker.nullness.qual.Nullable: A
 com.sun.istack.internal.Nullable: B, E
 *.CheckForNull, *.NullAllowed, etc: C
 edu.umd.cs.findbugs.annotations.Nullable: B, E
 javax.annotation.Nullable: D
 org.eclipse.jdt.annotation.Nullable: B
 org.jetbrains.annotations.Nullable: B
 org.jmlspecs.annotation.Nullable: E
 android.annotation.Nullable, android.support.annotation.Nullable: E

[1] https://git.eclipse.org/r/59993
[2] https://gerrit-review.googlesource.com/50112
[3] https://github.com/typetools/checker-framework/blob/5832a01f1/checker/src/org/checkerframework/checker/nullness/NullnessAnnotatedTypeFactory.java#L118
    http://types.cs.washington.edu/checker-framework/current/checker-framework-manual.html#nullness-related-work

Change-Id: I6c482653d2b53e3509abb11211b67fc29cf2949c
Signed-off-by: Jonathan Nieder <jrn@google.com>",0,1,0,0,0,0,1,0,0
62207,I894d1621aaccd71dfe100fe83a1bd9d50a1e0808,https://git.eclipse.org/r/#/c/62207,1,8045ff10e8c61e197b4a21d6d224ebc9bbbbe396,7b4335662d45bd4ef712c61abba82a3de308d070,1,08/12/15,15/12/15,24,NetRCCredentialsProvider should return false if any item is missing,"NetRCCredentialsProvider should return false if any item is missing

Change-Id: I894d1621aaccd71dfe100fe83a1bd9d50a1e0808",0,0,1,1,0,0,1,0,0
62269,If28f64053d20ab1bee54245f223e952dc2fe392c,https://git.eclipse.org/r/#/c/62269,2,30340c5ed301a0c91ea868ac696e88a92bb9b94a,ecb8567622b0c468aa986281304b804180f26d14,1,08/12/15,03/03/16,113,Bug 483943 - Apply patch does not work with non-ascii characters,"Bug 483943 - Apply patch does not work with non-ascii characters

Change-Id: If28f64053d20ab1bee54245f223e952dc2fe392c
Signed-off-by: XinTong Wang <xintong@ca.ibm.com>",0,0,0,1,0,0,1,0,0
62356,I25b5474779952fe2c076180b96fc2869eef190a8,https://git.eclipse.org/r/#/c/62356,1,c4e17b69e69b6b83e3e7e0f5b9eb11fb8e79bdbe,e2861d5aa66039db694eda073f8de9c75aa922bb,0,09/12/15,16/12/15,10,Accept UTF8 BOM with BlobBasedConfig,"Accept UTF8 BOM with BlobBasedConfig

In I1f5dc07182dbf6bba2a9f4807fdd25b475da4ead, FileBasedConfig got
support for reading a configuration with UTF8 BOM.  Apply the same
support to BlobBasedConfig, to make SubmoduleWalk able to parse
.gitmodules configurations with BOM.

Change-Id: I25b5474779952fe2c076180b96fc2869eef190a8
Signed-off-by: Doug Kelly <dougk.ff7@gmail.com>",0,0,1,0,0,0,1,NA,NA
62358,I8399ccada1834d4cc5d023344b97dcf8d5869b16,https://git.eclipse.org/r/#/c/62358,6,69279f0ca7a96d2583b08660a1155f61947fd817,e99bbad8c30edf11016300cb94eadeb15cb6de31,1,09/12/15,04/09/17,94,Don't assume name = path in .gitmodules,"Don't assume name = path in .gitmodules

While parsing .gitmodules, the name of the submodule subsection is
purely arbitrary: it frequently is the path of the submodule, but
there's no requirement for it to be.  By building a map of paths to
the section name in .gitmodules, we can more accurately return
the submodule URL.

Change-Id: I8399ccada1834d4cc5d023344b97dcf8d5869b16
Signed-off-by: Doug Kelly <dougk.ff7@gmail.com>",0,1,0,0,0,0,1,0,0
62650,Id3920837e6c47100376225bb4dd61fa3e88c64db,https://git.eclipse.org/r/#/c/62650,2,852f981d21c62cae84a05733cef80fd9ab852bae,4170da5254b273a1a9ab3d00680919df5e42d4d9,1,14/12/15,14/12/15,160,push: Do not blindly overwrite peer,"push: Do not blindly overwrite peer

If an application uses PushConnection directly on the native Git wire
protocols JGit should send along the application's expected oldId, not
the advertised value.  This allows the remote peer to compare-and-swap
since it was not tested inside JGit.

Change-Id: Id3920837e6c47100376225bb4dd61fa3e88c64db",0,0,0,0,0,0,0,0,0
62670,Ia92c91e1226da7d6455ab14f1e255a1546f8f357,https://git.eclipse.org/r/#/c/62670,1,5043e8c3fac1a1be4bbfe47dd8c6748d05f77425,a6e1e211669ca78da6103ac7ece9131a84e3fabe,0,14/12/15,15/12/15,0,Merge branch 'master' into stable-4.2,"Merge branch 'master' into stable-4.2

Change-Id: Ia92c91e1226da7d6455ab14f1e255a1546f8f357
Signed-off-by: Matthias Sohn <matthias.sohn@sap.com>",0,0,0,1,0,0,1,NA,NA
62671,Id725ea888acd23793d37de2864ec0727160a2eaf,https://git.eclipse.org/r/#/c/62671,1,a6e1e211669ca78da6103ac7ece9131a84e3fabe,56a90ada4599673e9a1a5a4afc51305db5572715,0,14/12/15,15/12/15,98,JGit v4.2.0.201512141825-rc1,"JGit v4.2.0.201512141825-rc1

Change-Id: Id725ea888acd23793d37de2864ec0727160a2eaf
Signed-off-by: Matthias Sohn <matthias.sohn@sap.com>",1,0,0,1,0,0,1,NA,NA
62686,I5795e925afff796488ba26c83694e806b76a374f,https://git.eclipse.org/r/#/c/62686,4,386c3186a55e197bd14737d3adb541fd7391a304,d5029d114d6e49b908fe2c3de69ae74dc1c5fc53,1,15/12/15,16/12/15,44,Support @ in username in SSH url.,"Support @ in username in SSH url.

Change-Id: I5795e925afff796488ba26c83694e806b76a374f
Signed-off-by: Mike Gilbode <gilbode@gmail.com>",0,1,0,1,0,0,1,1,1
62690,I55bd512cd049fc2018659e2f86a4b8650f171fda,https://git.eclipse.org/r/#/c/62690,2,a63e73b3b869f4498c701bb9c2aed767defac3f4,e8a192710173c98070df66bf85aeb6753113189b,1,15/12/15,16/12/15,119,Add tests for PathFilterGroup.Single,"Add tests for PathFilterGroup.Single

Expand the existing PathFilterGroup tests to check which paths the
tree entry matches.  This expands test coverage by ensuring that
PathFilterGroup's simpler code path to match against a single
PathFilter works correctly.

While at it, move the check on tree entry d/e/f/g.y into two separate
tests: one to check that it doesn't match any of the configured paths,
and another to check that it does not throw StopWalkException to end
the walk early.

Change-Id: I55bd512cd049fc2018659e2f86a4b8650f171fda",0,0,0,0,0,0,0,0,0
62691,Ib4d53bddd8413a9548622c7b25b338d287d8889d,https://git.eclipse.org/r/#/c/62691,2,01d3b8db29ec127574be4170897102e00f0785e5,3b235e2f4a9da4cde879f5dc33eb64beaa94c3c3,1,15/12/15,16/12/15,56,"Do not let PathFilter.create(""a/b"") match 'a' unless 'a' is a subtree","Do not let PathFilter.create(""a/b"") match 'a' unless 'a' is a subtree

PathFilter and PathFilterGroup form JGit's implementation of git's
path-limiting feature in commands like log and diff.  To save time
when traversing trees, a path specification

	foo/bar/baz

tells the tree walker not to traverse unrelated trees like qux/.  It
does that by returning false from include when the tree walker is
visiting qux and true when it is visiting foo.

Unfortunately that test was implemented to be slightly over-eager: it
doesn't only return true when asked whether to visit a subtree ""foo""
but when asked about a plain file ""foo"" as well.  As a result, diffs
and logs restricted to some-file/non-existing-suffix unexpectedly
match against some-file:

 $ jgit log LICENSE/no-such-file
 commit 629fd0d594d242eab26161b0dac34f7576fd4d3d
 Author: Shawn O. Pearce <spearce@spearce.org>
 Date:   Fri Jul 02 14:52:49 2010 -0700

     Clean up LICENSE file
[...]
 commit 1a6964c8274c50f0253db75f010d78ef0e739343
 Author: Git Development Community <git@vger.kernel.org>
 Date:   Tue Sep 29 16:47:03 2009 -0700

     Initial JGit contribution to eclipse.org
[...]

Fix it by checking against the entry's mode.

Gitiles +log has the same bug and benefits from the same fix.

Callers know not to worry about what subtrees are included in the tree
walk because shouldBeRecursive() returns true in this case, so this
behavior change should be safe.  This also better matches the behavior
of C git:

 $ empty=$(git mktree </dev/null)
 $ git diff-tree --abbrev $empty HEAD -- LICENSE/no-such-file
 $ git diff-tree --abbrev $empty HEAD -- tools/no-such-file
 :000000 040000 0000000... b62648d... A  tools

Bug: 484266
Change-Id: Ib4d53bddd8413a9548622c7b25b338d287d8889d",0,0,0,0,0,0,0,0,0
62692,Ie2a86312c1bcb1ec3e6388fa490ab3c845d41808,https://git.eclipse.org/r/#/c/62692,2,4c3575a9baed6110e3e0337f57fe9749121e64d9,5194e0351851cab9d6d4682001dc768087b1cc80,1,15/12/15,16/12/15,3,Fix possible arithmetic overflow when setting a timeout,"Fix possible arithmetic overflow when setting a timeout

BasePackPushConnection#readStringLongTimeout() was setting a timeout 10
times bigger than some other timeout or the pack transfer time. This
could lead to negative integer values when we hit an arithmetic
overflow. Add a check for this situation and set the timeout to
Integer.MAX_VALUE when overflow happens.

Bug: 484352
CC: Eugene Petrenko <eugene.petrenko@gmail.com>
Change-Id: Ie2a86312c1bcb1ec3e6388fa490ab3c845d41808",0,0,0,0,0,0,0,0,0
62815,I7db35f4360e29d006d1e4e6ccfaa78ae598e3b4e,https://git.eclipse.org/r/#/c/62815,2,05d01a693e2c5df5c689763444a2c8e376c72dea,b9fc8e2ded3a2eda047a087fef3d9682bed09d45,0,16/12/15,18/12/15,3,Remove unused import 'org.apache.commons.codec.binary',"Remove unused import 'org.apache.commons.codec.binary'

Change-Id: I7db35f4360e29d006d1e4e6ccfaa78ae598e3b4e
Signed-off-by: Rdiger Herrmann <ruediger.herrmann@gmx.de>",0,0,0,1,0,0,1,NA,NA
62840,I29dbf57d1daec2ba98454975b093e1d381d05196,https://git.eclipse.org/r/#/c/62840,5,5c6147bac676e5cf18879391bcb1807d719e8402,58f5b261c75edf9038b60ea9b10b4a489c55b069,1,16/12/15,17/12/15,95,[wip] Check for symlinks if deleting a file before creating a symlink,"[wip] Check for symlinks if deleting a file before creating a symlink

The code is OK, but we need a test for it.

Bug: 484491
Change-Id: I29dbf57d1daec2ba98454975b093e1d381d05196
Signed-off-by: Andrey Loskutov <loskutov@gmx.de>",0,1,0,0,0,0,1,0,0
62846,Ie8f181d1aa606d4ae69e5d3ca4db387cea739f38,https://git.eclipse.org/r/#/c/62846,2,33c84bfdf9a1919f6704837da5f6e768c335d440,46225e08d4833941e32535aa5c1b377875241371,0,16/12/15,16/12/15,149,ProgressSpinner: Simple busy wait entertainment,"ProgressSpinner: Simple busy wait entertainment

Keep a user amused while the server does work by spinning a
little ASCII-art object on a single line.

Change-Id: Ie8f181d1aa606d4ae69e5d3ca4db387cea739f38",0,0,0,0,0,0,0,NA,NA
62864,I7684d8214875f0a7569b34614f8a3ba341dbde9c,https://git.eclipse.org/r/#/c/62864,1,9b10478b0432936a725279b5b50c8e65f45c255d,0af4788c64eaab469d2be497a9402d99708f07df,1,16/12/15,16/12/15,36,Included cached deltas in delta packStatistics.,"Included cached deltas in delta packStatistics.

Previously, non-reuse deltas were only included in packStatistics if they
were not cached by the deltaWindow.

Change-Id: I7684d8214875f0a7569b34614f8a3ba341dbde9c
Signed-off-by: James Kolb <jkolb@google.com>",0,0,0,0,0,0,0,0,0
62879,I2b0e77959a72e4aac68452dc3846adaa745b0831,https://git.eclipse.org/r/#/c/62879,7,c63036afca6356cda830801c76e0b1f0d5af9535,f205004f0e6a703a01f16c3b901d7f29e7088b1d,1,16/12/15,28/12/15,57,[wip] tests for broken jgit CLI checkout,"[wip] tests for broken jgit CLI checkout

Even if ""a"" is a valid path in the git repo, jgit CLI can't checkout it:
$jgit checkout -- a
error: pathspec 'a' did not match any file(s) known to git.

Change-Id: I2b0e77959a72e4aac68452dc3846adaa745b0831
Signed-off-by: Andrey Loskutov <loskutov@gmx.de>",0,1,1,0,0,1,1,0,0
62967,Id47e5d4d32149a9e500854147edd7d93c1041a39,https://git.eclipse.org/r/#/c/62967,13,124ff25870b8979990b8eb7caeb45d0c96f0a3e9,cb69381b65f2182f394e5da455d1dfb2a70fbd0e,1,17/12/15,08/01/16,1026,RefTree: Store references in a Git tree,"RefTree: Store references in a Git tree

Track the ""refs/"" directory as a root tree by storing references
that point directly at an object as a GITLINK entry in the tree.
For example ""refs/heads/master"" is written as ""heads/master"".

Annotated tags also store their peeled value with ^{} suffix, using
""tags/v1.0"" and ""tags/v1.0^{}"" GITLINK entries.

Symbolic references are written as SYMLINK entries with the blob of
the symlink carrying the name of the symbolic reference target.

HEAD is outside of ""refs/"" namespace so it is stored as a special
""..HEAD"" entry. This name is chosen because "".."" is not valid in
a reference name and it almost looks like ""../HEAD"" which names
HEAD if the reader was inside of the ""refs/"" directory.

A group of updates can be applied by updating the tree in one step.
A new Command type is required to handle symbolic references and
peeled references.

Change-Id: Id47e5d4d32149a9e500854147edd7d93c1041a39",0,1,0,0,1,0,1,2,1
62968,I20b1eeb81c55dc49dd600eac3bf8f90297394113,https://git.eclipse.org/r/#/c/62968,14,a5774eeabab7f7cf2a82d0cd2d5284ddd205b666,75e549fa1cecc77575eca0cc1051202fe80c3705,1,17/12/15,08/01/16,134,debug-rebuild-ref-tree: Simple program to build a RefTree,"debug-rebuild-ref-tree: Simple program to build a RefTree

This tool scans all references in the repository and writes out a new
reference pointing to a single commit whose root tree is a RefTree
containing the current refs of this repository.

It alway skips storing the reference it will write to, avoiding the
obvious cycle.

Change-Id: I20b1eeb81c55dc49dd600eac3bf8f90297394113",0,1,0,0,0,0,1,0,0
62969,I75caa631162dc127a780095066195cbacc746d49,https://git.eclipse.org/r/#/c/62969,14,0b9d78161c781a1a32d7333fa0e0fa74e84ca11b,89825b84b5754929e5ed6a24a09207f80519fd93,1,17/12/15,12/01/16,1941,RefTreeDb: Ref database using refs/txn/committed,"RefTreeDb: Ref database using refs/txn/committed

Instead of storing references in the local filesystem rely on the
RefTree rooted at refs/txn/committed.  This avoids needing to store
references in the packed-refs file by keeping all data rooted under
a single refs/txn/committed ref.

Performance to scan all references from a well packed RefTree is very
close to reading the packed-refs file from local disk.

Storing a packed RefTree is smaller due to pack file compression,
about 49.39 bytes/ref (on average) compared to packed-refs using
~65.49 bytes/ref.

Change-Id: I75caa631162dc127a780095066195cbacc746d49",0,1,0,0,1,0,1,0,0
62970,Icf600e4a36b2f7867822a7ab1f1617d73c710a4b,https://git.eclipse.org/r/#/c/62970,15,8d650f266513d24d22e704d6a14e99e3b75923df,5cb92abbfc42b8c2d371c5ad488bbde5a5463024,1,17/12/15,12/01/16,77,FileRepository: Support extensions.refsBackendType = RefTree,"FileRepository: Support extensions.refsBackendType = RefTree

This experimental code can be enabled in $GIT_DIR/config:

  [core]
    repositoryformatversion = 1

  [extensions]
    refsBackendType = RefTree

When these are set the repository will read references from the
RefTree rooted by the $GIT_DIR/refs/txn/committed reference.

Change-Id: Icf600e4a36b2f7867822a7ab1f1617d73c710a4b",0,1,0,0,0,0,1,2,1
62981,I95660787e88df336297949b383f4c5fda52e75f5,https://git.eclipse.org/r/#/c/62981,13,6811133d44df5ac04cd19aad6798db1d20d48ff4,24bb2f4cc96725dc69cb902819b5102f55443702,1,18/12/15,01/01/16,200,DirCache: Show failure where file overlaps tree,"DirCache: Show failure where file overlaps tree

This test passes cleanly, however DirCache should never allow a
file and a subtree to share the same name in the parent tree. This
is an invalid tree structure.

Change-Id: I95660787e88df336297949b383f4c5fda52e75f5",0,1,0,0,0,0,1,0,0
62983,Idbe965ec20a682fca0432802858162f8238f05de,https://git.eclipse.org/r/#/c/62983,8,38807e50f066c676ccd77166dcaea5441084fd11,20bf6b256d74da58e38174eaaafed10e9b11f12e,1,18/12/15,22/12/15,62,Skip nested copyfiles in RepoCommand.,"Skip nested copyfiles in RepoCommand.

Similar to nested directories, nested copyfiles won't work with git submodule
either.

Change-Id: Idbe965ec20a682fca0432802858162f8238f05de
Signed-off-by: Yuxuan 'fishy' Wang <fishywang@google.com>",0,1,1,0,0,0,1,0,0
63061,I61b49cbe949ca8b4b98f9eb6dbe7b1f82eabb724,https://git.eclipse.org/r/#/c/63061,4,09f824ae97ca10670543d5a258ee679b48f0fcd4,63a45e513b16f22f66e2bba900289f5f9cc567ba,1,18/12/15,01/01/16,202,add: Use NameConflictTreeWalk to identify file-dir changes,"add: Use NameConflictTreeWalk to identify file-dir changes

Adding a path that already exists but is changing type such as
from symlink to subdirectory requires a NameConflictTreeWalk to
match up the two different entry types that share the same name.

Change-Id: I61b49cbe949ca8b4b98f9eb6dbe7b1f82eabb724",0,1,0,0,0,0,1,2,1
63116,I264c5972d67b1cbb1ed690580f5706e671b9affd,https://git.eclipse.org/r/#/c/63116,8,40dfd347bcbfdd71411bafe17755536777013d0c,86aa55eed5046e76180110a92f6b6253f3096024,1,21/12/15,10/10/16,303,Fix symlink content comparison on MacOS in tree walk,"Fix symlink content comparison on MacOS in tree walk

Symlinks on MacOS are written as UTF-8 NFD, but
readSymbolicLink().toString() converts to NFC with potentially fewer
bytes. May occur in particular if the link target has non-ASCII
characters for which the NFC and NFD encodings differ. This may lead
to an EOFException: Short read of block.

Fix by allowing the read to succeed even if less than the expected
number of bytes are returned by the entry's input stream.

Change-Id: I264c5972d67b1cbb1ed690580f5706e671b9affd
Signed-off-by: Thomas Wolf <thomas.wolf@paranor.ch>",0,1,0,0,0,0,1,2,1
63117,I3c7105188e615b6b994261f4ece0c8abc98eb444,https://git.eclipse.org/r/#/c/63117,2,22afc7cb50a6db454e1dd3a13693e3a65f03ecce,3a4f2270a5744c8fe70b61578dca7e8633969912,1,21/12/15,24/12/15,15,Close copy threads in case of errors,"Close copy threads in case of errors

Bug: 484775
Change-Id: I3c7105188e615b6b994261f4ece0c8abc98eb444
Signed-off-by: Dmitry Neverov <dmitry.neverov@gmail.com>",0,0,1,0,0,0,1,0,0
63255,I3093cab5f0edfaf3efbbd6c644e9c922edc67d38,https://git.eclipse.org/r/#/c/63255,1,601fdb9f20367168624c06ed31c681ea516fe920,fac348befc5a63f961217716335a8ead22ce7bef,1,24/12/15,28/12/15,99,AddCommand: Cleanup conditional logic,"AddCommand: Cleanup conditional logic

Unnest and simplify conditional logic for handling entries.

Change-Id: I3093cab5f0edfaf3efbbd6c644e9c922edc67d38",0,0,1,0,0,0,1,0,0
63257,I13634caeccd9f675a86adfdfa94099b6fb75463a,https://git.eclipse.org/r/#/c/63257,4,fac348befc5a63f961217716335a8ead22ce7bef,b50757a86bee6e3ffad3338a81c0c74dbc28afb5,1,24/12/15,28/12/15,28,AddCommand: avoid unnecessary string conversions,"AddCommand: avoid unnecessary string conversions

Change-Id: I13634caeccd9f675a86adfdfa94099b6fb75463a",0,1,1,1,0,0,1,1,1
63315,I621a9ec198c31e28a383818efeb4b3f835ba1d6f,https://git.eclipse.org/r/#/c/63315,3,bcb9619a4da4a2ad46bf41a9f424733bca78a4cd,c70386a8c028a1630c5943c2dde9b6c223e75fe2,1,28/12/15,29/12/15,46,Simplify development of commands: added main() to CLIGitCommand,"Simplify development of commands: added main() to CLIGitCommand

This will execute git commands (with arguments) specified on the command
line, handy for developing/debugging arbitrary git commands. 

The git repository path can be specified via system property
""-Dgit_repo"". If not specified, current directory will be used.

Change-Id: I621a9ec198c31e28a383818efeb4b3f835ba1d6f
Signed-off-by: Andrey Loskutov <loskutov@gmx.de>",0,0,0,0,0,1,1,0,0
63319,I5ef334a49fb2d88d5e856b443687f3dcb126a77a,https://git.eclipse.org/r/#/c/63319,5,026444d67ba9af7a87349c65e4d367565b59ba54,7fc72a0237699ba3cac423097def62cde541722f,1,28/12/15,30/12/15,15,Un-ignored existing CLI tests which run just fine on Java 7+,"Un-ignored existing CLI tests which run just fine on Java 7+

Change-Id: I5ef334a49fb2d88d5e856b443687f3dcb126a77a
Signed-off-by: Andrey Loskutov <loskutov@gmx.de>",0,1,0,1,0,0,1,0,0
63320,Iafaa03dbacbe7f1b2b074d3294db988b08fdb0d7,https://git.eclipse.org/r/#/c/63320,2,d4101787345b21915d25d34e5ee4377b4cdaa87b,f157204734123634250a32eb3a9fe89071662bf5,1,28/12/15,29/12/15,30,Provide a root cause for aborted commands,"Provide a root cause for aborted commands

Change-Id: Iafaa03dbacbe7f1b2b074d3294db988b08fdb0d7
Signed-off-by: Andrey Loskutov <loskutov@gmx.de>",0,0,0,1,0,0,1,0,0
63321,Ic8b362e07a40ad923dc9acde0c0983a1e7932a02,https://git.eclipse.org/r/#/c/63321,4,fb809aa5c840bf04140c850001aa0abaed4e9da9,7c435999e532c732f725af46d14324f2315981b0,1,28/12/15,30/12/15,26,repo command: properly name the required 'path' argument,"repo command: properly name the required 'path' argument

Fixes point 4 in bug 484951, where ""jgit repo"" or ""jgit repo -h"" dumps a
stack trace.

Bug: 484951
Change-Id: Ic8b362e07a40ad923dc9acde0c0983a1e7932a02
Signed-off-by: Andrey Loskutov <loskutov@gmx.de>",0,1,0,0,0,0,1,0,0
63322,I1b1d614470c67fe4736fdc9c26ae26fb38dd58b5,https://git.eclipse.org/r/#/c/63322,1,791df09957246f009a5eecfae750f39e76adbe8c,297a50ec8142f298b745e94fba48ad5e2801e3c6,1,28/12/15,28/12/15,8,"DirCacheEditor: Fix formatting to avoid , at start of line","DirCacheEditor: Fix formatting to avoid , at start of line

Change-Id: I1b1d614470c67fe4736fdc9c26ae26fb38dd58b5",1,0,0,1,0,0,1,0,0
63323,Ib68e017769a1f5c03200354a805769d585a48c8b,https://git.eclipse.org/r/#/c/63323,1,297a50ec8142f298b745e94fba48ad5e2801e3c6,432391307dbf7bd5431238fd86f87f024b6ce42a,1,28/12/15,28/12/15,9,DirCacheEditor: Cleanup DeleteTree constructor,"DirCacheEditor: Cleanup DeleteTree constructor

Neaten up formatting and avoid strings, which prevents the need for
NLS comment tags.  Instead check the last character using char
literal, and append a char literal instead of a string.

Change-Id: Ib68e017769a1f5c03200354a805769d585a48c8b",1,0,0,0,0,0,1,0,0
63329,Ie843d9388825f9e3d918a5666aa04e47cd6306e7,https://git.eclipse.org/r/#/c/63329,5,e38e5bdd704751c62d255fd1ebbd967ac8b5f7f7,408db9f038404a2409da90c7704feb3c4cb5ee26,1,29/12/15,01/01/16,259,DirCacheEditor: Replace file-with-tree and tree-with-file,"DirCacheEditor: Replace file-with-tree and tree-with-file

If a PathEdit tries to store a file where a subtree was, or a subtree
where a file was, replace the entry in the DirCache with the new
name(s).  This supports switching between file and tree entry types
using a DirCacheEditor.

Add new unit tests to cover the conditions where these can happen.

Change-Id: Ie843d9388825f9e3d918a5666aa04e47cd6306e7",0,1,0,0,0,0,1,0,0
63330,If45c41c0d32895ab6822a7ff9d851877dcef5771,https://git.eclipse.org/r/#/c/63330,3,4e16dee1248bb88c4c2479a5d998082e57cc80c8,c7b1c11e928f78af309eb1a0421dd5668e4556a7,1,29/12/15,30/12/15,228,Don't treat command termination due '-h' option as a fatal error,"Don't treat command termination due '-h' option as a fatal error

Signal early command termination due '-h' or '--help' option via
TerminatedByHelpException. This allows tests using
CLIGitCommand differentiate between unexpected command parsing errors
and expected command cancellation ""on help"" (which also allows
validation of expected/unexpected help messages).

Additional side-effect: jgit supports now git style of handling help
option: any unexpected command line options before help are reported as
errors, but after help ignored.

Change-Id: If45c41c0d32895ab6822a7ff9d851877dcef5771
Signed-off-by: Andrey Loskutov <loskutov@gmx.de>",0,0,0,0,0,0,0,2,1
63331,I614e71101b4f9f46ef8f02379d1a9d135f3292d2,https://git.eclipse.org/r/#/c/63331,4,a32dfc2581463d33ba3fa8b321be2e7180b5c2be,95720975ccd733d22446413cb4425c9a3fd516d9,1,29/12/15,30/12/15,43,reset command: provide convenient and meaningful options help,"reset command: provide convenient and meaningful options help

This commit changes the jgit ""reset"" command line options help from
this:

jgit reset name [VAL ...] [-- path ... ...] [--hard] [--help (-h)]
[--mixed] [--soft]
 name        : Reset current HEAD to the specified state
 [...]

to this:

jgit reset [commit-ish] [path ... ...] [-- path ... ...] [--hard]
[--help (-h)] [--mixed] [--soft]
 commit-ish  : Reset to given reference name
 [...]

Bug: 484951
Change-Id: I614e71101b4f9f46ef8f02379d1a9d135f3292d2
Signed-off-by: Andrey Loskutov <loskutov@gmx.de>",0,1,0,0,0,0,1,0,0
63332,I5558589049544ea6c84932bc01f1f9df09e1f682,https://git.eclipse.org/r/#/c/63332,6,64018480cdd8a1d9b483cc36f7478024bee19c2c,d27523f02b2bb77c5a5bb0285eefc81c9236a86a,1,29/12/15,02/01/16,374,[wip] branch command: provide convenient and meaningful options help,"[wip] branch command: provide convenient and meaningful options help

TODO: more tests

Bug: 484951
Change-Id: I5558589049544ea6c84932bc01f1f9df09e1f682
Signed-off-by: Andrey Loskutov <loskutov@gmx.de>",0,1,0,0,0,0,1,2,1
63342,I86b81e7f2bab6e928bb8e973bd50c8f4b9c6fecf,https://git.eclipse.org/r/#/c/63342,3,df94b506411406cf2a7fad7010accd73eff4469b,a2feb2c25aea1e98b08c85b3b6aa334576c63e20,1,29/12/15,30/12/15,6,status command: consume more then one argument after --,"status command: consume more then one argument after --

See bug 484951 comment 4: ""jgit status -- a b"" doesn't work and
complains that ""b"" is not an allowed argument

Bug 484951
Change-Id: I86b81e7f2bab6e928bb8e973bd50c8f4b9c6fecf
Signed-off-by: Andrey Loskutov <loskutov@gmx.de>",0,0,0,0,0,0,0,0,0
63343,I37a4ccd68101a66520ef99110f7aa0cbdcc8beba,https://git.eclipse.org/r/#/c/63343,3,e5642ea0527c6907a78432eb036bf699fb412187,714e7a26c10f9d0dbe47d8d31de342aa4627beeb,1,29/12/15,30/12/15,115,commit command: allow to specify path(s) argument(s),"commit command: allow to specify path(s) argument(s)

This fixes the command below:

jgit commit a -m ""added file a""

which currently fails with:

org.eclipse.jgit.api.errors.JGitInternalException: The combination of
arguments --all and --only is not allowed

Bug 484973
Change-Id: I37a4ccd68101a66520ef99110f7aa0cbdcc8beba
Signed-off-by: Andrey Loskutov <loskutov@gmx.de>",0,0,0,0,0,0,0,0,0
63344,I3db332bf293ca8d6bfaab0d546cd35af689bd46e,https://git.eclipse.org/r/#/c/63344,4,78acc790402f166bce8caf2610e1665d1d06d8d5,502b323809f00a61bf687a975223637fecab7922,1,29/12/15,30/12/15,51,"Sort ""eager"" path-like options to the end of the help","Sort ""eager"" path-like options to the end of the help

The ""--"" path option (and all other similar options consuming all
remaining arguments) should be placed at the end of the command line
help.

Currently jgit reset -h shows this:

jgit reset [commit-ish] [path ... ...] [-- path ... ...] [--hard]
[--help (-h)] [--mixed] [--soft]

After the patch the help shows this:

jgit reset [commit-ish] [path ... ...] [--hard] [--help (-h)] [--mixed]
[--soft] [-- path ... ...]

Bug: 484951
Change-Id: I3db332bf293ca8d6bfaab0d546cd35af689bd46e
Signed-off-by: Andrey Loskutov <loskutov@gmx.de>",0,1,0,0,0,0,1,0,0
63361,Ib62b062421d475bd52abd6c84a73916ef36e084b,https://git.eclipse.org/r/#/c/63361,2,19a27b67c78e008b46de740f6a09ac1b96e2c5b4,e9f2500825bcdab4c20bc62711f58b9aa050a8c4,1,29/12/15,30/12/15,157,PackWriter: use lib.ObjectIdSet to avoid wrapper,"PackWriter: use lib.ObjectIdSet to avoid wrapper

Hoist ObjectIdSet up to lib as part of the public API and add
the interface to some common types like PackIndex and JGit custom
ObjectId map types.  This cleans up wrapper code in a number of
places by allowing direct use of the types as an ObjectIdSet.

Future commits can now rely on ObjectIdSet as a simple read-only
type to check a set of objects from a number of storage options.

Change-Id: Ib62b062421d475bd52abd6c84a73916ef36e084b",0,0,0,0,0,0,0,0,0
63363,I62bd7c0b0848981f73dd7c752860fd02794233a6,https://git.eclipse.org/r/#/c/63363,4,e9f2500825bcdab4c20bc62711f58b9aa050a8c4,316e2f6fe91bf7ac6d92faaea5997530e840c72f,1,29/12/15,03/01/16,1695,ObjectChecker: allow some objects to skip errors,"ObjectChecker: allow some objects to skip errors

Some ancient objects may be broken, but in a relatively harmless way.
Allow the ObjectChecker caller to whitelist specific objects that are
going to fail checks, but that have been reviewed by a human and decided
the objects are OK enough to permit continued use of.

This avoids needing to rewrite history to scrub the broken objects out.

Honor the git-core fsck.skipList configuration setting when receiving a
push or fetching from a remote repository.

Change-Id: I62bd7c0b0848981f73dd7c752860fd02794233a6",0,1,0,0,1,0,1,1,1
63366,I41193e093e981a79fc2f63914e273aaa44b82162,https://git.eclipse.org/r/#/c/63366,2,9968b87f4ad31f4da0d6288fb84d51056ec862ca,cc07265973305e016a1e347dc66a54e67a446a01,1,30/12/15,30/12/15,85,Unify fetch and receive ObjectChecker setup,"Unify fetch and receive ObjectChecker setup

This avoids duplication of code between receive-pack and fetch-pack paths.
Separate methods are still required to check use of receive.fsckobjects vs.
fetch.fsckobjects, both of which default to transfer.fsckobjects.

Change-Id: I41193e093e981a79fc2f63914e273aaa44b82162",0,0,0,0,0,0,0,0,0
63371,Idaed9310e2a5ce5511670ead1aaea2b30aac903c,https://git.eclipse.org/r/#/c/63371,4,b3cdbf575e7f187c5e9ad6848cf388fb6cdcad42,eff575481cd1311228f92158f7f13a5b69575210,1,30/12/15,03/01/16,805,ObjectChecker: honor some git-core fsck.* options,"ObjectChecker: honor some git-core fsck.* options

Accept some of the same section keys that fsck does in git-core,
allowing repositories to skip over specific kinds of acceptable
broken objects, e.g.:

  [fsck]
    duplicateEntries = ignore
    zeroPaddedFilemode = ignore

The zeroPaddedFilemode = ignore is a synonym for the JGit specific
allowLeadingZeroFileMode = true. Only accept the JGit key if git-core
key was not specified.

This commit only covers issues with tree objects. Covering issues
related to person ident parsing inside of commit and tag objets may
be a future commit.

Change-Id: Idaed9310e2a5ce5511670ead1aaea2b30aac903c",0,1,0,0,1,0,1,-1,0
63385,I98e14b72629a7a729a2d40a3aa275932841274e8,https://git.eclipse.org/r/#/c/63385,2,5b7252f0c1c0d7e54e53e42ed74966104070156f,3694c2962d8e7a542976b667d4a75f7832cd86d3,1,30/12/15,30/12/15,57,ObjectChecker: use java.text.Normalizer directly,"ObjectChecker: use java.text.Normalizer directly

Base Java version for JGit is now Java 7. The java.text.Normalizer
class was available in Java 6. Reflection is no longer required to
normalize strings for Mac OS X.

Change-Id: I98e14b72629a7a729a2d40a3aa275932841274e8",0,0,0,0,0,0,0,0,0
63389,I5b09aad9443515636811fc4d00bf8b8b9587a626,https://git.eclipse.org/r/#/c/63389,1,31a77b68a2181d51d47ae76cb37702900316a2a1,8486aefb14e4f5b94676aaa66373bfc216786fd5,1,30/12/15,31/12/15,88,"Make sure tests don't blindly continue if a command is ""silently"" failed","Make sure tests don't blindly continue if a command is ""silently"" failed

Make the default execute() function fail fast on first command printed
""fatal: "" to output.

Introduced executeUnchecked() for few tests which wanted to test fatal
output.

Change-Id: I5b09aad9443515636811fc4d00bf8b8b9587a626
Signed-off-by: Andrey Loskutov <loskutov@gmx.de>",0,0,0,0,0,0,0,0,0
63400,I4aceb4e77b2ec9be76a32ec93d94f2dafe9acce6,https://git.eclipse.org/r/#/c/63400,2,7d8600aadedd464f0800cb51d53290316e52a6f9,852db4cb6a2f317099e9aab03ba2038a147889cd,0,31/12/15,01/01/16,105,buck: build standalone jgit binary,"buck: build standalone jgit binary

Construct the java_application JAR wrapped with the shell script
header.  This is enough to at least display help messages from jgit.

Change-Id: I4aceb4e77b2ec9be76a32ec93d94f2dafe9acce6",0,0,0,0,0,0,0,NA,NA
63401,I8d6541268315089299f933ed23d785b1b3431133,https://git.eclipse.org/r/#/c/63401,3,49a7a695ffa74eaed67a3f09d38a226867db3c5c,29a561602360a69c91f06ee6d37b901e282e35f6,0,31/12/15,01/01/16,161,buck: run tests from org.eclipse.jgit.test,"buck: run tests from org.eclipse.jgit.test

DO NOT SUBMIT: this doesn't quite work. Tests hang with no output.

Change-Id: I8d6541268315089299f933ed23d785b1b3431133",0,0,0,0,0,0,0,NA,NA
63402,I979277502c990f6dec052d095461c996ff8fe577,https://git.eclipse.org/r/#/c/63402,2,1f1bea51d0cdea30176f3f6d8c796cad7e27af32,0e91477f5d53e2f9eecc964e2ed96df3fbb4ace2,1,01/01/16,01/01/16,21,clone: display progress messages,"clone: display progress messages

Also support -q/--quiet flag to disable progress.

Change-Id: I979277502c990f6dec052d095461c996ff8fe577",1,0,0,0,0,0,1,0,0
63403,If6a3707d64094253b1a5304fbfafcf195db7497a,https://git.eclipse.org/r/#/c/63403,2,14719432153f04febb86b609b65b6f948277fd8d,06bd0bb1c69d84785a28edabb0096a4946767dbb,1,01/01/16,01/01/16,19,"Fix ""remote: Counting objects: ..."" formatting","Fix ""remote: Counting objects: ..."" formatting

Trailing whitespace is usually removed in properties files so
JGitText did not supply a space between : and the remote message.
Ensure the space exists at runtime by reading the localized string
and appending a space if it is missing.

Messages should be dynamically fetched and not held in a static
class variable, as they can be changed using thread locals.

Change-Id: If6a3707d64094253b1a5304fbfafcf195db7497a",1,0,0,0,0,0,1,0,0
63406,I6b94c332e4bde97a1910f48cf12eb8698f97d540,https://git.eclipse.org/r/#/c/63406,1,ca48a72d901f79434b486cddcf72a94ef01ed5b8,af3dac204bb774ee133a2bdbadd29c1636802a48,0,01/01/16,01/01/16,1,buck: pin to stable version,"buck: pin to stable version

Like with Gerrit, pin JGit to a single version of Buck that is known
to work with current Buck files and JUnit tests. Notably a more recent
version of Buck used by Gerrit (01a0c54d827) fails WalkEncryptionTest.

Change-Id: I6b94c332e4bde97a1910f48cf12eb8698f97d540",1,0,0,0,0,0,1,NA,NA
63407,Ice5476dd09352a444a0c97aa0dc28806fddf2ab4,https://git.eclipse.org/r/#/c/63407,1,af3dac204bb774ee133a2bdbadd29c1636802a48,1414ffd34ea8abc741918141a220bdf8a4f0cfda,0,01/01/16,01/01/16,2,buck: set vm_args for tests,"buck: set vm_args for tests

Maven pom files force the local encoding to UTF-8 to ensure there are
no differences between machines.  They also set the JVM max heap to
256m. Match both in Buck so that results are consistent.

Change-Id: Ice5476dd09352a444a0c97aa0dc28806fddf2ab4",1,0,0,0,0,0,1,NA,NA
63408,I82a01b5fd3f0a930bec2423a29a256601dadc248,https://git.eclipse.org/r/#/c/63408,1,ffb96d0a001a6768a4a7f4970ca00ef0111c4a94,9b954f0b8222c262409e8814e0d4151f1b314421,0,02/01/16,03/01/16,114,buck: run http tests,"buck: run http tests

Running tests using buck reveals that HttpClientTests are broken
and weren't executed by Maven since these test classes don't match the
maven-surefire-plugin's default for test classes **/*Test.java.
Will be fixed in a follow-up change.

Change-Id: I82a01b5fd3f0a930bec2423a29a256601dadc248
Signed-off-by: Matthias Sohn <matthias.sohn@sap.com>",0,0,0,0,0,0,0,NA,NA
63409,I487a30fb333de993a9f8d8fff491d3b0e7fb02cc,https://git.eclipse.org/r/#/c/63409,1,9b954f0b8222c262409e8814e0d4151f1b314421,9f5931b6790c5d0b67c314389609f06083cea168,0,02/01/16,03/01/16,11,Ensure all http tests are run and fix broken tests,"Ensure all http tests are run and fix broken tests

HttpClientTests were broken. This wasn't discovered since
maven-surefire-plugin's by default only executes test classes
matching **/*Test.java. Fix this by also including **/*.Tests.java
and fix the failing tests.

Change-Id: I487a30fb333de993a9f8d8fff491d3b0e7fb02cc
Signed-off-by: Matthias Sohn <matthias.sohn@sap.com>",0,0,0,0,0,0,0,NA,NA
63414,If51f3c750684d82cb6443f1578636c9f5ca56e2b,https://git.eclipse.org/r/#/c/63414,1,66d6e55a8e4547c3f3d0dfd110ca6b495d5e7510,82a098430e5e98937b685b2297fbc2cf0d0e0259,1,02/01/16,02/01/16,80,Fixed few locale dependent pgm tests,"Fixed few locale dependent pgm tests

See https://dev.eclipse.org/mhonarc/lists/jgit-dev/msg03040.html

Change-Id: If51f3c750684d82cb6443f1578636c9f5ca56e2b
Signed-off-by: Andrey Loskutov <loskutov@gmx.de>",0,0,0,0,0,0,0,0,0
63415,Ia5bcd9e560b90cf872fef75c2800c889ef1cc85a,https://git.eclipse.org/r/#/c/63415,1,82a098430e5e98937b685b2297fbc2cf0d0e0259,8607c264c06019a8ccb38778d654758e86e835ce,1,02/01/16,02/01/16,51,Simplify pgm tests: allow varargs and trim output for toString(),"Simplify pgm tests: allow varargs and trim output for toString()

Change-Id: Ia5bcd9e560b90cf872fef75c2800c889ef1cc85a
Signed-off-by: Andrey Loskutov <loskutov@gmx.de>",0,0,0,1,0,0,1,0,0
63428,Iecde79beb33ea595171f168f46b0b10ab2f339bb,https://git.eclipse.org/r/#/c/63428,4,3d48e57acdf71cb9b60f6536262ac3c3957f3ff9,ad2acae3a4d8a304d022daa458f9b538037a8ac4,1,03/01/16,07/01/16,45,Added CLIText.fatalError(String) API for tests,"Added CLIText.fatalError(String) API for tests

In different places (Main, TextBuiltin, CLIGitCommand) we report fatal
errors and at same time want to check for fatal errors in the tests.
Using common API simplifies the error testing and helps to navigate to
the actual error check implementation.

Change-Id: Iecde79beb33ea595171f168f46b0b10ab2f339bb
Signed-off-by: Andrey Loskutov <loskutov@gmx.de>",0,1,1,0,0,1,1,0,0
63429,I51265ebe295f22da540792c6a1980b8bdb295a02,https://git.eclipse.org/r/#/c/63429,5,522bdccf9934436bfdb70b025043275b0241fe5f,4f303f927096d2a6d80070632ba60a9dafdff22c,1,03/01/16,07/01/16,51,"branch command: print help if requested, even if arguments are wrong","branch command: print help if requested, even if arguments are wrong

git branch -d -h reports an error (because of missing -d option value)
but does not print the help as expected. To fix this, CmdLineParser must
catch, print but do not propagate exceptions if help is requested.

Bug: 484951
Change-Id: I51265ebe295f22da540792c6a1980b8bdb295a02
Signed-off-by: Andrey Loskutov <loskutov@gmx.de>",0,1,1,0,0,1,1,0,0
63430,I87b7b61d1c84a89e5917610d84409f01be90b70b,https://git.eclipse.org/r/#/c/63430,5,9fb5dff0f88ef87238a89b5b7910c0e5b0fe15e9,83556673daf520ba18b7fb143ea7b09d3606501e,1,03/01/16,07/01/16,370,Make sure CLIGitCommand and Main produce (almost) same results,"Make sure CLIGitCommand and Main produce (almost) same results

Currently execution of tests in pgm uses CLIGitCommand which
re-implements few things from Main. Unfortunately this can results in a
different test behavior compared to the real CLI runtime.

The change let CLIGitCommand extend Main and only slightly modifies the
runtime (stream redirection and undesired exit() termination).

Change-Id: I87b7b61d1c84a89e5917610d84409f01be90b70b
Signed-off-by: Andrey Loskutov <loskutov@gmx.de>",0,1,1,0,0,1,1,-1,0
63432,I0ad24125c31e4280ccf900bac4065924087b05aa,https://git.eclipse.org/r/#/c/63432,1,b70a7f6d3157d92980c82efcf9e78de28e3226d5,c3ac7ff6560a93ad232d1d000cb99ace95ba6e30,0,03/01/16,03/01/16,40,buck: set Bundle-Version for :jgit_bin,"buck: set Bundle-Version for :jgit_bin

Run git describe during the build to determine the lineage of this
working directory and stamp this information into the binary.

Change-Id: I0ad24125c31e4280ccf900bac4065924087b05aa",0,0,0,0,0,0,0,NA,NA
63443,I00e3269a7a1a6c6d1fe7e60d1bf1c69b8e57d79d,https://git.eclipse.org/r/#/c/63443,2,74ae6915949ed9d3499a494aac23e27c118dfcf7,9c1d086b95a03b171f47c696368454be76be8cee,0,03/01/16,03/01/16,5,buck: Make :jgit_src target work in cross-cell environment,"buck: Make :jgit_src target work in cross-cell environment

This artifact is used from unzip utility in Gerrit Code Review
build toolchain and thus the file must exist on the file system.
Moreover, trying to use java_binary() didn't work either, as the
zip layout was wrong: all file contained 'org.eclipse.jgit/src/'
prefix.

Change-Id: I00e3269a7a1a6c6d1fe7e60d1bf1c69b8e57d79d
Signed-off-by: David Ostrovsky <david@ostrovsky.org>",0,0,0,0,0,0,0,NA,NA
63657,If15b491aa9a1e4fd9b8bbed2dd9e6be47a64ccb7,https://git.eclipse.org/r/#/c/63657,3,fa605279d671943d9039ed967d2744ea0c28d342,c6cc962e6987bf7771f3c9749adbfe9647ee3c73,0,06/01/16,21/01/16,27,Fix TransportException when reading bundle.,"Fix TransportException when reading bundle.

When reading a bundle file, commit messages who's oneline format is longer than
982 characters caused JGit to treat subsequent text in the commit as a SHA,
then throw a TransportException because it's not a valid SHA.

Now the readLine method will read all the way to the end of the line, not just the first 1024 characters of it.

Change-Id: If15b491aa9a1e4fd9b8bbed2dd9e6be47a64ccb7
Signed-off-by: Chris Gavin <chris@chrisgavin.me>",0,0,1,0,0,0,1,NA,NA
63664,I0383018b48426e25a0bc562387e8cd73cbe13129,https://git.eclipse.org/r/#/c/63664,3,b331dfb4aeb238c79bcd152a8596712a5bd10d78,510529318bf775e5831f863e88607459ccf4e8b9,1,06/01/16,06/01/16,6,GitServletResponseTest: Fix testObjectCheckerException,"GitServletResponseTest: Fix testObjectCheckerException

The recent ObjectChecker changes to pass in AnyObjectId as part
of the checkCommit method signature meant the override here was no
longer throwing an exception as expected.

Change-Id: I0383018b48426e25a0bc562387e8cd73cbe13129",0,0,0,0,0,0,0,0,0
63669,Ia263285f547bde1943993cc994d0222185021a16,https://git.eclipse.org/r/#/c/63669,1,d6d1addc0172b532e3e80951a404fecf8543ddab,1baa243546f3fde477d37cc19158e97f7b7ea1dc,1,06/01/16,06/01/16,22,DFS: Allow other RefDatabase implementations,"DFS: Allow other RefDatabase implementations

Permit a DfsRepository implementation to use a different RefDatabase
than DfsRefDatabase.

Change-Id: Ia263285f547bde1943993cc994d0222185021a16",0,0,0,0,0,0,0,0,0
63671,I1692240841aa4f4cb252bdccbc6f11d9246929c1,https://git.eclipse.org/r/#/c/63671,1,fe561e285eb062b2fb38eef96063e519a67582c2,6a7cad13ff6abf88c1277586f68858ebd605c3f6,1,06/01/16,06/01/16,5,InMemoryRepository: Abort BatchRefUpdate if a command previously failed,"InMemoryRepository: Abort BatchRefUpdate if a command previously failed

If any command has already been marked as failing, fail the entire batch.

Change-Id: I1692240841aa4f4cb252bdccbc6f11d9246929c1",0,0,0,0,0,0,0,0,0
63912,Ice2bec6ad12b1e2cea15988c01aa9dd4e016a849,https://git.eclipse.org/r/#/c/63912,1,1405a6bd271c82333d9f1fb404ece8a39a2fd560,71e64481deb2ce45456b1165da2ac782cdbed51e,1,09/01/16,11/01/16,139,Add Paths utility class,"Add Paths utility class

Simple container for some path related utility functions.

Change-Id: Ice2bec6ad12b1e2cea15988c01aa9dd4e016a849",0,0,0,0,0,0,0,0,0
63913,I82f64bbb8601ca2d8316ca57ae8119df32bb5c08,https://git.eclipse.org/r/#/c/63913,4,71e64481deb2ce45456b1165da2ac782cdbed51e,52f9aebca5092d1cd5ba3e677ac56b0a169cd7d8,1,09/01/16,11/01/16,337,Paths.pathCompare: Utility to sort paths from byte[],"Paths.pathCompare: Utility to sort paths from byte[]

Consolidate copies of this function into one location,
fixing a few bugs on the same-length case.

Change-Id: I82f64bbb8601ca2d8316ca57ae8119df32bb5c08",0,1,0,0,0,0,1,0,0
63914,I3f73347ba78c639e0c6a504812bc1a0702f829b1,https://git.eclipse.org/r/#/c/63914,3,d609bcbf3049d2e4f950af5a01f76af4dbbd7e90,e752b537202c36fa7be76ccdebfc1485d016f8ff,1,09/01/16,11/01/16,1723,"Remove deprecated Tree, TreeEntry, FileTreeEntry and friends","Remove deprecated Tree, TreeEntry, FileTreeEntry and friends

These types were deprecated in 0.9.1 (aka 384a19eee07a2f).
If anyone is still using them, its time to stop.

Change-Id: I3f73347ba78c639e0c6a504812bc1a0702f829b1",0,0,0,0,1,0,1,0,0
63926,I26d2247a0428dfe26a9c319c02159502b3a67455,https://git.eclipse.org/r/#/c/63926,4,2c7e6efa7c4d5c7f06f4ad28af02de858a9c9aaa,4a5642038ae77cf0bd27613088d79bb1e02970d1,1,10/01/16,12/01/16,12,"RefTree: Change peel suffix to "" ^"" (space carrot)","RefTree: Change peel suffix to "" ^"" (space carrot)

Using ^{} as the peel suffix as caused problems when projects used
tags like v2.1 and then v2.1.1, v2.2.2, etc.  The peeled value for
v2.1 was stored very far away in the tree relative to v2.1 itself as
^ sorts in the ASCII/UTF-8 encoding very after all other common tag
characters like digits and dots.

Use "" ^"" instead as space is not valid in a reference name, sorts
before all other valid reference characters (thus forcing next entry
locality) and this looks like a peeled marker for the prior tag.

Change-Id: I26d2247a0428dfe26a9c319c02159502b3a67455",0,1,0,0,0,0,1,0,0
64073,I4c0c88750475560e1f2263180c4a98eb8febeca0,https://git.eclipse.org/r/#/c/64073,1,2457439865237dc8c22872a39fc45d38bb9e806d,e319a7b9c189e14f780e06816383ffe302fea4de,1,11/01/16,11/01/16,319,RevCommit: Better support invalid encoding headers,"RevCommit: Better support invalid encoding headers

With this support we no longer need the 'utf-8' alias. UTF-8 will be
automatically tried when the encoding header is not recognized and used
if the character sequence cleanly decodes as UTF-8.

Modernize some of the references to use StandardCharsets.

Change-Id: I4c0c88750475560e1f2263180c4a98eb8febeca0",0,0,0,0,0,0,0,1,1
64087,I04adcdb68bee7d5f608bb7ab959fe36a890f9ecd,https://git.eclipse.org/r/#/c/64087,3,996875811b0373c71cc6f979ce6c5963ef2a2c7c,e35b5210ec9dc0444b5b6cea9b940597c13e6261,0,12/01/16,19/01/16,40,"Ignore API errors about Tree, TreeEntry, FileTreeEntry and friends being removed","Ignore API errors about Tree, TreeEntry, FileTreeEntry and friends being removed

Change-Id: I04adcdb68bee7d5f608bb7ab959fe36a890f9ecd",0,0,1,1,0,0,1,NA,NA
64092,If345a2403a996e358b29cfa2a2298f6e8d59d96b,https://git.eclipse.org/r/#/c/64092,1,6125cdeccfe68e5aa0a0655172206d721e86e0c6,511bc2e6b8b7f5b51accf7efddf2d06f05b3e2a4,1,12/01/16,12/01/16,2,Change to extensions.refsStorage,"Change to extensions.refsStorage

git-core just rerolled the extensible backends series with refsStorage
as the configuration key. Update JGit to match git-core.

Change-Id: If345a2403a996e358b29cfa2a2298f6e8d59d96b",0,0,0,0,0,0,0,0,0
64166,Icbb735be8fa91ccbf0708ca3a219b364e11a6b83,https://git.eclipse.org/r/#/c/64166,3,7b84178d4972656e3812f8946fe6d58cb5c12e91,0dc51eb08306c13a3360661adc0459a669adf40a,1,12/01/16,12/01/16,230,GC: Pack RefTrees in their own pack,"GC: Pack RefTrees in their own pack

The RefTreeGraph needs to be quickly accessed to read references.
It is also distinct graph disconnected from the rest of the
repository. Store the commit and tree objects in their own pack.

Change-Id: Icbb735be8fa91ccbf0708ca3a219b364e11a6b83",0,0,0,0,0,0,0,0,0
64202,Ifda4450f5e488cbfefd728382b7d30797e229217,https://git.eclipse.org/r/#/c/64202,3,0dc51eb08306c13a3360661adc0459a669adf40a,7b976dd9c232ffd49ee7cdbf2273316b2de98571,1,13/01/16,13/01/16,80,PackWriter: Declare preparePack object sets as @NonNull,"PackWriter: Declare preparePack object sets as @NonNull

Require callers to pass in valid sets for both want and have
collections. Offer PackWriter.NONE as a handy constant for an
empty collection for the have part of preparePack instead of null.

Change-Id: Ifda4450f5e488cbfefd728382b7d30797e229217",0,0,0,0,0,0,0,0,0
64206,Ib378dab068961fc7de624cd96030266660b64fb4,https://git.eclipse.org/r/#/c/64206,6,2f8eabb260c7163e1e5d854a8908912365f4d6cd,065a6d6661faa9c17dee2099e45ececd58274a6c,1,13/01/16,21/01/16,4672,Ketch: Basic replication system,"Ketch: Basic replication system

Change-Id: Ib378dab068961fc7de624cd96030266660b64fb4",0,1,1,1,1,0,1,11,1
64207,Ia736b32c2c710b5a802233badc0d30818de763cd,https://git.eclipse.org/r/#/c/64207,5,fae7f6a6ed570c10a6b5d4189d6ffac5dfa9c2ab,8fa7d623bd83f7b712f02b0fa7f47d350c97760b,1,13/01/16,21/01/16,126,Ketch: Simple map of running leader instances,"Ketch: Simple map of running leader instances

Supports use in basic daemons where RepositoryCache is also effective.

Change-Id: Ia736b32c2c710b5a802233badc0d30818de763cd",0,1,1,0,0,0,1,0,0
64208,I25dfeb2a93821af65354337f391480a72bae2210,https://git.eclipse.org/r/#/c/64208,5,2fdb4431d188636793b8c583459741f2e0fbfddb,6ce7853fa5f630d6296acc884abc5f3906c4d212,1,13/01/16,21/01/16,167,Ketch: Intercept push and route it through Ketch,"Ketch: Intercept push and route it through Ketch

Capture commands and pass to the in-process KetchLeader, allowing
it to replicate to followers.

Change-Id: I25dfeb2a93821af65354337f391480a72bae2210",0,1,1,0,0,0,1,0,0
64209,I165f85970a77e16b5263115290d685d8a00566f5,https://git.eclipse.org/r/#/c/64209,5,d15b605d4d93340a6cb6c251a332768c4e733b0b,a4e800d4b78f71eb7ec890c2a0c1aa2f2a288d2e,1,13/01/16,21/01/16,60,daemon: Add --ketch=LEADER flag,"daemon: Add --ketch=LEADER flag

Experimental flag to turn on the KetchLeader within this daemon JVM.
This is a manually elected leader process, set from the command line.
Remote followers for each repository are configured per-repository
using remote sections with ketch-type = VOTER, e.g.:

  [remote ""zone-a""]
    uri = https://zone-a.example.com/repo-name.git
    ketch-type = VOTER

  [remote ""zone-b""]
    uri = https://zone-b.example.com/repo-name.git
    ketch-type = VOTER

Change-Id: I165f85970a77e16b5263115290d685d8a00566f5",0,1,1,0,0,0,1,0,0
64280,I17b978b3fc91750dd88649638b90a46820a0877c,https://git.eclipse.org/r/#/c/64280,3,8e4bb481a1b9e3ce478a665f3ec89948977b2d54,9e3c0786bce6f6bead2a330416a3897b68505820,1,13/01/16,21/01/16,58,Add progress monitor to Merger,"Add progress monitor to Merger

GitCommand and MergeCommand are also affected.
Monitoring progress of merges can be useful for users for large
repositories or complex merge processes that take some time.

Change-Id: I17b978b3fc91750dd88649638b90a46820a0877c
Signed-off-by: Laurent Delaigue <laurent.delaigue@obeo.fr>",0,0,1,0,0,0,1,0,0
64312,I597b0f774ff857b8900519f14a1a17a904cf7c6f,https://git.eclipse.org/r/#/c/64312,1,205bd81fc2edcbc502ef8469b7ea8aa336b25b38,8d4733f5df7eed499cc26339f07e2a33ea3e7366,0,14/01/16,14/01/16,2,CommitCommand: Remove redundant null check,"CommitCommand: Remove redundant null check

Repository.getWorkTree is annotated as @NonNull, so the check
for it returning null is redundant.

Change-Id: I597b0f774ff857b8900519f14a1a17a904cf7c6f
Signed-off-by: David Pursehouse <david.pursehouse@sonymobile.com>",0,0,0,0,0,0,0,NA,NA
64313,I64b1850c3bb80b09409044461ca3fdde1c46d4bb,https://git.eclipse.org/r/#/c/64313,1,8d4733f5df7eed499cc26339f07e2a33ea3e7366,dbe659a3a5be2778722c171b6cbf1706f0b4b6ce,1,14/01/16,18/01/16,2,RefUpdateTest: Add null check to prevent potential NPE,"RefUpdateTest: Add null check to prevent potential NPE

Change-Id: I64b1850c3bb80b09409044461ca3fdde1c46d4bb
Signed-off-by: David Pursehouse <david.pursehouse@sonymobile.com>",0,0,1,1,0,0,1,0,0
64314,I25c8db0e410aa2a4a53dc7d8863e4a6efefcf7cb,https://git.eclipse.org/r/#/c/64314,1,dbe659a3a5be2778722c171b6cbf1706f0b4b6ce,4e944aa4a449d2c58b98ec3a163ae75c9b7e17da,1,14/01/16,18/01/16,23,RefUpdateTest: Use try-with-resource for auto-closable types,"RefUpdateTest: Use try-with-resource for auto-closable types

Change-Id: I25c8db0e410aa2a4a53dc7d8863e4a6efefcf7cb
Signed-off-by: David Pursehouse <david.pursehouse@sonymobile.com>",0,0,1,1,0,0,1,0,0
64315,I5975bc58d7933dafb3e7a8d891e9f6878b98a9a1,https://git.eclipse.org/r/#/c/64315,1,4e944aa4a449d2c58b98ec3a163ae75c9b7e17da,834b08d03079daf6081264668f0736cb5df84f22,0,14/01/16,18/01/16,2,RevParse: Remove superfluous semicolon,"RevParse: Remove superfluous semicolon

Change-Id: I5975bc58d7933dafb3e7a8d891e9f6878b98a9a1
Signed-off-by: David Pursehouse <david.pursehouse@sonymobile.com>",0,0,1,1,0,0,1,NA,NA
64316,If01fa896537209821d6a7a262ee978572195a397,https://git.eclipse.org/r/#/c/64316,2,834b08d03079daf6081264668f0736cb5df84f22,c47f839201184c8d22c696f5542eede77150e6b7,1,14/01/16,19/01/16,51,Don't use deprecated constructors of CmdLineException,"Don't use deprecated constructors of CmdLineException

Change-Id: If01fa896537209821d6a7a262ee978572195a397
Signed-off-by: David Pursehouse <david.pursehouse@sonymobile.com>",0,0,1,1,0,1,1,0,0
64319,I3e6f83ad2bc7d493e2c1ab5a8c60affa2b49c386,https://git.eclipse.org/r/#/c/64319,2,69c3185fea2f35228b951cb8cc4a9501c94fc72a,5ee4ddedaa54c55a4247498bab6855031cd37bdf,1,14/01/16,19/01/16,82,"Add $NON-NLS to suppress ""Non-externalized string literal"" warnings","Add $NON-NLS to suppress ""Non-externalized string literal"" warnings

Change-Id: I3e6f83ad2bc7d493e2c1ab5a8c60affa2b49c386
Signed-off-by: David Pursehouse <david.pursehouse@sonymobile.com>",0,0,1,1,0,1,1,0,0
64320,Ibb405e0b36ce5a2cb30268a7de31ab2bd079ad80,https://git.eclipse.org/r/#/c/64320,2,f4e1b91c0fdbd22962a81ea81ef2785e6a0ce772,1cf5ae312319d03ac7d8224db4ed183dbc296c2c,1,14/01/16,19/01/16,13,"Suppress ""The allocated object is never used"" warning in tests","Suppress ""The allocated object is never used"" warning in tests

Change-Id: Ibb405e0b36ce5a2cb30268a7de31ab2bd079ad80
Signed-off-by: David Pursehouse <david.pursehouse@sonymobile.com>",0,0,1,1,0,1,1,0,0
64321,I8a640c0e42353533e4e73b85b50c224dc060f2d7,https://git.eclipse.org/r/#/c/64321,2,d89ca4ec182df7bd4f1d90a0be877f499e62998f,e129f24eaf701293601d47316f77aaca61b7c934,0,14/01/16,19/01/16,46,URIishTest: Use @Test annotation's `expected` argument,"URIishTest: Use @Test annotation's `expected` argument

Specify the expected exception in the annotation, instead of
catching it and calling `fail()` when it wasn't raised.

Change-Id: I8a640c0e42353533e4e73b85b50c224dc060f2d7
Signed-off-by: David Pursehouse <david.pursehouse@sonymobile.com>",0,0,1,0,0,1,1,NA,NA
64322,I8becee479fab91a18e6daffd6f4fd57338c9d120,https://git.eclipse.org/r/#/c/64322,2,48f516f99befeac844cfefaab241a5edfb835b35,fdc70c7cb6eb6a78797a30f94c9b23db6e47a3a7,0,14/01/16,19/01/16,20,BranchTest: Create Git instances in try-with-resource,"BranchTest: Create Git instances in try-with-resource

Change-Id: I8becee479fab91a18e6daffd6f4fd57338c9d120
Signed-off-by: David Pursehouse <david.pursehouse@sonymobile.com>",0,0,1,1,0,1,1,NA,NA
64323,I49a03f7bee0b61c062ce160674f9aa0cd1bcc8ba,https://git.eclipse.org/r/#/c/64323,2,b5ccd36f447dc567575f2f835534795cacde0fae,4e3c0578acf52175cdca0ca8c1089628a9318b7d,1,14/01/16,19/01/16,523,CheckoutTest: Create Git instances in try-with-resource,"CheckoutTest: Create Git instances in try-with-resource

Change-Id: I49a03f7bee0b61c062ce160674f9aa0cd1bcc8ba
Signed-off-by: David Pursehouse <david.pursehouse@sonymobile.com>",0,0,1,1,1,1,1,0,0
64324,Ia4d94cdbf2d83d8be2645f0a93d8891d01606c59,https://git.eclipse.org/r/#/c/64324,2,d00837fcb5fcad2e3f2eb702af88e5aafd18f88f,904444a98337349181782d3e304dfb21b76038e2,1,14/01/16,19/01/16,64,BranchCommandTest: Create Git instances in try-with-resource,"BranchCommandTest: Create Git instances in try-with-resource

Also remove a local variable in one of the tests that was
hiding a member variable with the same name.

Change-Id: Ia4d94cdbf2d83d8be2645f0a93d8891d01606c59
Signed-off-by: David Pursehouse <david.pursehouse@sonymobile.com>",0,0,1,0,0,1,1,0,0
64325,Ia9398157b87a78df6eef0b64a833c16ca2e57ce3,https://git.eclipse.org/r/#/c/64325,2,b561b5b1f6901c5bf781a2aa029af8264fb4c295,cf05fa382df72f9f8bec18e36ad1b675cdcc2cdb,1,14/01/16,19/01/16,87,CheckoutCommandTest: Create Git instances in try-with-resource,"CheckoutCommandTest: Create Git instances in try-with-resource

Also rename a local variable in one of the tests that was hiding
a class variable of the same name.

Change-Id: Ia9398157b87a78df6eef0b64a833c16ca2e57ce3
Signed-off-by: David Pursehouse <david.pursehouse@sonymobile.com>",0,0,1,0,0,1,1,0,0
64415,I665cd2456e9316640215b6a08bc728d1356f36d8,https://git.eclipse.org/r/#/c/64415,2,1938cca59fd1aecda1a71366a138ae85fcd97d91,4a83d4769103a20bd6b04ecf600bc43099d57b4d,1,15/01/16,21/01/16,89,RefTreeDatabase: Expose bootstrap refs in getAdditionalRefs,"RefTreeDatabase: Expose bootstrap refs in getAdditionalRefs

By showing the bootstrap layer in getAdditionalRefs() garbage
collector code can be more RefDatabase agnostic and not care about
the special case of RefTree and RefTreeNames for the purposes of
building up the roots to GC. Instead they can combine getRefs(ALL)
and getAdditionalRefs() and have a clean set of roots.

Change-Id: I665cd2456e9316640215b6a08bc728d1356f36d8",0,0,1,0,0,0,1,0,0
64478,Ie3d6a28e622a5c0cf54768a2299f1c44c0114c19,https://git.eclipse.org/r/#/c/64478,1,15ba871f434c82b95e3d4a58f8ac7e730431f129,e6960748f5e332c4e37746a38fd4cbe0818444be,1,15/01/16,15/01/16,1721,"Revert ""Remove deprecated Tree, TreeEntry, FileTreeEntry and friends""","Revert ""Remove deprecated Tree, TreeEntry, FileTreeEntry and friends""

This reverts commit 0f8743d4d7a4f3af1eccea60d45d51d13f1a2ad4.

JGit is unable to iterate its API.

Change-Id: Ie3d6a28e622a5c0cf54768a2299f1c44c0114c19",1,0,0,0,1,0,1,0,0
64501,I5595bf514e4475b7c7e799c2c79446597a3abb4a,https://git.eclipse.org/r/#/c/64501,1,772633098c44d36aed6273fbd0d08c9a101b2d2d,8c46c766f2ac86805bcf0c806b03ba558d4cc20c,1,15/01/16,21/01/16,171,"RefTreeDatabase: Allow ORIG_HEAD, etc. on non-bare repositories","RefTreeDatabase: Allow ORIG_HEAD, etc. on non-bare repositories

Store these in the bootstrap layer where they are using $GIT_DIR
as the storage directory for any reference that does not contain '/'.

Change-Id: I5595bf514e4475b7c7e799c2c79446597a3abb4a",0,0,1,0,0,0,1,1,1
64505,Iad8ebdb0c4c0ad6dcd2b12dd56ffe1be6a20840f,https://git.eclipse.org/r/#/c/64505,1,8c46c766f2ac86805bcf0c806b03ba558d4cc20c,2b29ec5de44780d35855e73e0a07fdf74d892c32,1,15/01/16,21/01/16,14,debug-rebuild-ref-tree: Add --enable flag to turn the database on,"debug-rebuild-ref-tree: Add --enable flag to turn the database on

Change-Id: Iad8ebdb0c4c0ad6dcd2b12dd56ffe1be6a20840f",0,0,1,1,0,0,1,1,1
64506,I46cbc2611b9ae683ef7319dc46af277925dfaee5,https://git.eclipse.org/r/#/c/64506,1,2b29ec5de44780d35855e73e0a07fdf74d892c32,dab500b1d100f278dffa7b20646e64f49b64a2da,1,15/01/16,21/01/16,17,debug-rebuild-ref-tree: Copy HEAD into RefTree,"debug-rebuild-ref-tree: Copy HEAD into RefTree

HEAD is not part of getRefs(ALL) and must be copied explicitly.
This allows `jgit debug-rebuild-ref-tree --enable` to convert an
existing repository to use RefTree with a local working tree:

  mkdir testRepo
  cd testRepo

  jgit init
  jgit debug-rebuild-ref-tree --enable

  touch a
  jgit add a
  jgit commit -m initial

Change-Id: I46cbc2611b9ae683ef7319dc46af277925dfaee5",0,0,1,0,0,0,1,0,0
64604,I3b9399b7e26ce2b0dc5f7baa85d585a433b4eaed,https://git.eclipse.org/r/#/c/64604,1,9cae6e39b6867e9ae3d404934ca06a2684578996,1c16e284dd8b8207938a0050839020de2e11bb3b,1,18/01/16,19/01/16,120,ReceiveCommand.abort(): Utility to mark batch of commands as failed,"ReceiveCommand.abort(): Utility to mark batch of commands as failed

If one or more commands is failing the entire group usually has to
also fail with ""transaction aborted"". Pull this loop into a helper
so the idiom can be easily reused in several places throughout JGit.

Change-Id: I3b9399b7e26ce2b0dc5f7baa85d585a433b4eaed",0,0,0,0,0,0,0,1,1
64605,I0c6ff3e39ebecdd7a028dbcae1856a818937b186,https://git.eclipse.org/r/#/c/64605,4,1c16e284dd8b8207938a0050839020de2e11bb3b,a3223c02f37a6af07d79063b5b73ae184be77b67,1,18/01/16,19/01/16,393,Transport: Implement AutoCloseable,"Transport: Implement AutoCloseable

After creating a Transport instance callers should always call
its close() method. Use AutoCloseable to document this idiom
and allow use of try-with-resources.

Change-Id: I0c6ff3e39ebecdd7a028dbcae1856a818937b186",0,1,0,0,0,0,1,0,0
64625,Ic47f094928a259e5264c92b3aacf6d90210907a8,https://git.eclipse.org/r/#/c/64625,11,c8ed1718aa3c0d3a0ff72715acb01a64a8775982,a7fdc33c62e00ad4513aa6ef45080b0bc3df3b1e,1,19/01/16,17/02/16,926,Support Amazon S3 based storage for LFS,"Support Amazon S3 based storage for LFS

Add another storage implementation storing large objects in Amazon S3.
The AmazonS3Repository pre-signs download and upload requests.

AWS access and secret key are expected to be in the
$HOME/.aws/credentials file in the following format:

[default]
  accessKey = ...
  secretKey = ...

Use AWS version 4 request signing because it is more secure and
supported by all regions. The version 3 signing is not supported in
newer regions.

TODO:
- implement getVerifyAction() and do actual verification. Subclasses of
S3Repository can implement caching for object meta data (size) in order
to avoid extra roundtrips to S3. Verification should ensure that meta
data store and content of S3 storage are in sync
- HEAD request used in S3Repository.getSize() seems to always return
Content-length 0 in contrast to the documentation [1]. So getSize() does
detect if the object exists in S3 or not but in case the object exists
it always returns size 0

[1] https://forums.aws.amazon.com/thread.jspa?threadID=223616

Change-Id: Ic47f094928a259e5264c92b3aacf6d90210907a8
Signed-off-by: Matthias Sohn <matthias.sohn@sap.com>
Signed-off-by: Sasa Zivkov <sasa.zivkov@sap.com>",0,1,0,0,1,0,1,1,1
64647,I460e43da0d487279608729a2081c614e7065f56f,https://git.eclipse.org/r/#/c/64647,1,ab4a57b2801bd614108738a7da71d6185ab3a02d,1b38a9ba6f805b624a41d46e9834c64d8f767214,1,19/01/16,19/01/16,10,Annotated to be removed Tree API with @noreference and @noextend,"Annotated to be removed Tree API with @noreference and @noextend

See https://wiki.eclipse.org/Eclipse/API_Central/API_Removal_Process.

Bug: 486105
Change-Id: I460e43da0d487279608729a2081c614e7065f56f
Signed-off-by: Andrey Loskutov <loskutov@gmx.de>",0,0,0,0,0,1,1,0,0
64656,Ie2d030134942add152847581797db3a213ec4c9e,https://git.eclipse.org/r/#/c/64656,1,1d053297d8494a74d09b3f81f82787273221b24b,a3c4b73cfa943996c5048172701054c6e77a38ec,0,19/01/16,19/01/16,11,Remove org.eclipse.jgit.updatesite project from tools/version.sh,"Remove org.eclipse.jgit.updatesite project from tools/version.sh

We don't need to update versions for this project which was removed
a long time ago.

Change-Id: Ie2d030134942add152847581797db3a213ec4c9e
Signed-off-by: Matthias Sohn <matthias.sohn@sap.com>",1,0,0,0,0,0,1,NA,NA
64657,Ibe38a95bf36db0c0ed948280b28c416943ec0329,https://git.eclipse.org/r/#/c/64657,1,a3c4b73cfa943996c5048172701054c6e77a38ec,a14643f3276671d0eae6210b99ce6ca133ac46e5,0,19/01/16,19/01/16,98,Prepare 4.2.0-SNAPSHOT builds,"Prepare 4.2.0-SNAPSHOT builds

Change-Id: Ibe38a95bf36db0c0ed948280b28c416943ec0329
Signed-off-by: Matthias Sohn <matthias.sohn@sap.com>",1,0,0,1,0,0,1,NA,NA
64670,I191fec5cac718657407230de141440e86d0151fb,https://git.eclipse.org/r/#/c/64670,4,0bfeecc57ab6eab2760dc1e6c3e000ffbe24599a,e118a71bc8389f9825a511a59703e28f07c02440,1,19/01/16,19/01/16,8,ChangeIdUtil: Don't throw IOException,"ChangeIdUtil: Don't throw IOException

This could have only happened during the getBytes call. Instead, use
Constants.encode, which is a non-throwing implementation.

Not to be submitted until the next major version bump, as this method
change could break compilation of existing code.

Change-Id: I191fec5cac718657407230de141440e86d0151fb",0,1,0,0,0,1,1,0,0
64677,Ie00b5e14244a9a036cbdef94768007f1c25aa8d3,https://git.eclipse.org/r/#/c/64677,5,b979fa1370641223a405f6d44ee463e7c342231b,7f376ff7ba28f564664e852ad7199b4616974002,1,19/01/16,04/02/16,104,"Allow to reuse disableSslVerify method, move it to HttpSupport","Allow to reuse disableSslVerify method, move it to HttpSupport

The disableSslVerify method will be used in the follow up change.

Change-Id: Ie00b5e14244a9a036cbdef94768007f1c25aa8d3",0,1,0,0,0,0,1,0,0
64678,Id4f9987c33d66cbed9de6e4d4d6784afdd01a3cf,https://git.eclipse.org/r/#/c/64678,3,0fe628c6682286ee8d181077c65a66bdefa1fc0c,8b3081efc5fc42711105abb5d377f2f76e5907fc,1,19/01/16,19/01/16,1733,"Revert ""Revert ""Remove deprecated Tree, TreeEntry, FileTreeEntry and friends""""","Revert ""Revert ""Remove deprecated Tree, TreeEntry, FileTreeEntry and friends""""

This reverts commit 2cc80187d3633adedc99eb97132e0a749b457c19.

Change-Id: Id4f9987c33d66cbed9de6e4d4d6784afdd01a3cf",0,0,0,0,1,1,1,0,0
64711,I2179859289b2f2e3d0b7c6d02ef7e7890c467f7b,https://git.eclipse.org/r/#/c/64711,1,90bd2415b9182775d77fbe525ed016ecb7ee3a64,d33f103f28cd93b9646904bb6ac82c6346bd2a3a,1,20/01/16,20/01/16,28,Merge branch 'stable-4.2',"Merge branch 'stable-4.2'

* stable-4.2:
  CheckoutCommandTest: Create Git instances in try-with-resource
  BranchCommandTest: Create Git instances in try-with-resource
  CheckoutTest: Create Git instances in try-with-resource
  BranchTest: Create Git instances in try-with-resource
  URIishTest: Use @Test annotation's `expected` argument
  Suppress ""The allocated object is never used"" warning in tests
  Add $NON-NLS to suppress ""Non-externalized string literal"" warnings
  Don't use deprecated constructors of CmdLineException
  Prepare 4.2.0-SNAPSHOT builds
  Remove org.eclipse.jgit.updatesite project from tools/version.sh
  RevParse: Remove superfluous semicolon
  RefUpdateTest: Use try-with-resource for auto-closable types
  RefUpdateTest: Add null check to prevent potential NPE
  CommitCommand: Remove redundant null check
  JGit v4.2.0.201512141825-rc1

Change-Id: I2179859289b2f2e3d0b7c6d02ef7e7890c467f7b
Signed-off-by: David Pursehouse <david.pursehouse@sonymobile.com>",0,0,0,0,0,1,1,0,0
64712,I0bf43f2346dadbbfe7e6cbcb38b5525456fbf686,https://git.eclipse.org/r/#/c/64712,1,4244691cd759f3281fc0a18c140f01d6e52d1c0b,25cfc4d4e89cdd7df4a67e7720c7afc94931ab08,1,20/01/16,20/01/16,6,Remove declared IOException which is no longer thrown,"Remove declared IOException which is no longer thrown

Since 2ccea7f0 ChangeIdUtil.computeChangeId() doesn't throw IOException
anymore.

Change-Id: I0bf43f2346dadbbfe7e6cbcb38b5525456fbf686
Signed-off-by: Matthias Sohn <matthias.sohn@sap.com>",0,0,0,0,0,0,0,0,0
64717,I493e90e8a0d96db5acc49759c8e138b0a8c7b099,https://git.eclipse.org/r/#/c/64717,1,466a4ad25659f5a72196be646b240f4cefec3dba,8a551eaabd4a1c47e6f913dcc61f623275a977e6,0,20/01/16,20/01/16,70,FileTreeIteratorJava7Test: Create Git instances in try-with-resource,"FileTreeIteratorJava7Test: Create Git instances in try-with-resource

Change-Id: I493e90e8a0d96db5acc49759c8e138b0a8c7b099
Signed-off-by: David Pursehouse <david.pursehouse@sonymobile.com>",0,0,0,1,0,1,1,NA,NA
64718,Iff02e4e3532bd6ab6e423f197e70d44c4f328d0b,https://git.eclipse.org/r/#/c/64718,1,8a551eaabd4a1c47e6f913dcc61f623275a977e6,7bc4e79ddc42123b81c34573e47c689c1dc7d903,0,20/01/16,20/01/16,27,SideBandOutputStreamTest: Use try-with-resource,"SideBandOutputStreamTest: Use try-with-resource

Factor out the creation of the SideBandOutputStream objects into
a utility method that wraps it in a try-with-resource.

Remove the ""unused"" suppression that is now unnecessary, and add
declaration that the tests methods can throw Exception.

Change-Id: Iff02e4e3532bd6ab6e423f197e70d44c4f328d0b
Signed-off-by: David Pursehouse <david.pursehouse@sonymobile.com>",0,0,0,0,0,1,1,NA,NA
64743,Icb9e6bb9ee99589fa2e0388c8b305a8a1f5954db,https://git.eclipse.org/r/#/c/64743,1,7bc4e79ddc42123b81c34573e47c689c1dc7d903,2f1fddf661d876b7f1a9c31b7d1ecfd020462015,0,20/01/16,20/01/16,528,BlameCommandTest: Instantiate Git objects in try-with-resource,"BlameCommandTest: Instantiate Git objects in try-with-resource

Change-Id: Icb9e6bb9ee99589fa2e0388c8b305a8a1f5954db
Signed-off-by: David Pursehouse <david.pursehouse@sonymobile.com>",0,0,0,1,1,1,1,NA,NA
64744,I08959650e2970e964bc864dc6d120d7bddfd8232,https://git.eclipse.org/r/#/c/64744,1,2f1fddf661d876b7f1a9c31b7d1ecfd020462015,095b8c567122737c5fd560bcd4e151d1c2458cd2,1,20/01/16,20/01/16,210,TagCommandTest: Instantiate Git and RevWalk objects in try-with-resource,"TagCommandTest: Instantiate Git and RevWalk objects in try-with-resource

Change-Id: I08959650e2970e964bc864dc6d120d7bddfd8232
Signed-off-by: David Pursehouse <david.pursehouse@sonymobile.com>",0,0,0,1,0,1,1,0,0
64779,Id338035302903bab81569d1576eab063eee0885a,https://git.eclipse.org/r/#/c/64779,1,07454094f3361a28d7bcfd43c6b16194b915c935,2f76d8be60db92abff2e79c6cc185ae0dd1ec492,0,20/01/16,20/01/16,15,TreeWalk: Remove CorruptObjectException from addTree(AbstractTreeIterator),"TreeWalk: Remove CorruptObjectException from addTree(AbstractTreeIterator)

This form of addTree() does not parse any objects and cannot throw the
declared checked exception.  Callers are being forced to try-catch
CorruptObjectException that cannot occur when the iterator instance
has already been constructed.

Change-Id: Id338035302903bab81569d1576eab063eee0885a",0,0,0,0,0,0,0,NA,NA
64824,Icbfd92395db85818736142fd3fb3432385e89ca9,https://git.eclipse.org/r/#/c/64824,1,9f0dc73f6e09655f728a95879f1ccb64418ba378,c724777b64a1d46d2da231b3bdce1fe3f0cfb02e,1,21/01/16,21/01/16,152,ArchiveCommandTest: Create Git instances in try-with-resource,"ArchiveCommandTest: Create Git instances in try-with-resource

Change-Id: Icbfd92395db85818736142fd3fb3432385e89ca9
Signed-off-by: David Pursehouse <david.pursehouse@sonymobile.com>",0,0,0,1,0,0,1,0,0
64825,Idf42f03099eeb9975fef9492ea8a75776afc2a3c,https://git.eclipse.org/r/#/c/64825,1,c724777b64a1d46d2da231b3bdce1fe3f0cfb02e,7e4b42ab76ed248ce6500ce941489b2c4d81b9e6,1,21/01/16,21/01/16,607,AddCommandTest: Create Git instances in try-with-resource,"AddCommandTest: Create Git instances in try-with-resource

Change-Id: Idf42f03099eeb9975fef9492ea8a75776afc2a3c
Signed-off-by: David Pursehouse <david.pursehouse@sonymobile.com>",0,0,0,1,1,0,1,0,0
64827,I6e9014adcc604588e10e5963d13d0c6ef0e1c617,https://git.eclipse.org/r/#/c/64827,1,aa16a57a4eff1ba03f4e08a80cdeac7fc23f5095,50f34f62be2ba6c0d76daea44dfc661e90b56f7a,1,21/01/16,21/01/16,6,Fix unused throws CorruptObjectException from addTree,"Fix unused throws CorruptObjectException from addTree

2262a794b48ea removed throws CorruptObjectException, but was not
compiled under Eclipse and did not see errors generated by Eclipse.
Maven build silently ignored the unnecessary code.

Change-Id: I6e9014adcc604588e10e5963d13d0c6ef0e1c617",1,0,0,0,0,0,1,0,0
64828,Id06417f1d3914cd3addacdbe9b5801a06cc3955f,https://git.eclipse.org/r/#/c/64828,1,00edca9e150d0110b0ac72ec6f2f5e7c157ba48d,a11d10b893c681056d28e11bdf65ce35f8af658f,1,21/01/16,21/01/16,474,CommitAndLogCommandTest: Create Git instances in try-with-resource,"CommitAndLogCommandTest: Create Git instances in try-with-resource

Change-Id: Id06417f1d3914cd3addacdbe9b5801a06cc3955f
Signed-off-by: David Pursehouse <david.pursehouse@sonymobile.com>",0,0,0,1,0,0,1,0,0
64829,I3f59440cfe62c37c127e381052b60471fbe8ec5e,https://git.eclipse.org/r/#/c/64829,1,a11d10b893c681056d28e11bdf65ce35f8af658f,26d559ffb132375c7d39da8bf045650cee73f0ae,1,21/01/16,21/01/16,4,CommitAndLogCommandTest: Use assumeFalse to skip test on Windows,"CommitAndLogCommandTest: Use assumeFalse to skip test on Windows

Use JUnit's assumeFalse method to cause the test to skip when
run on Windows.

Change-Id: I3f59440cfe62c37c127e381052b60471fbe8ec5e
Signed-off-by: David Pursehouse <david.pursehouse@sonymobile.com>",0,0,0,0,0,0,0,0,0
64830,Ie65c69e0f1aed95bcdf68ebd68d21b3e2590b41c,https://git.eclipse.org/r/#/c/64830,1,26d559ffb132375c7d39da8bf045650cee73f0ae,02c84617feaefb4ee8cb4ee2eda60ea70f95d1cb,0,21/01/16,21/01/16,4,ConfigTest: Create Git instance in try-with-resource,"ConfigTest: Create Git instance in try-with-resource

Change-Id: Ie65c69e0f1aed95bcdf68ebd68d21b3e2590b41c
Signed-off-by: David Pursehouse <david.pursehouse@sonymobile.com>",0,0,0,1,0,0,1,NA,NA
64840,I83395116acb4b4f7cd4300fd69564355bc07e4bb,https://git.eclipse.org/r/#/c/64840,1,02c84617feaefb4ee8cb4ee2eda60ea70f95d1cb,2c0cf7cbb6322b3d9ae02e1ae3b849b9276a8230,1,21/01/16,21/01/16,146,DiffFormatterTest: Create auto-closeable instances in try-with-resource,"DiffFormatterTest: Create auto-closeable instances in try-with-resource

Git, ByteArrayOutputStream, and DiffFormatter are auto-closeable and
should be managed in try-with-resource.

Change-Id: I83395116acb4b4f7cd4300fd69564355bc07e4bb
Signed-off-by: David Pursehouse <david.pursehouse@sonymobile.com>",0,0,0,0,0,0,0,0,0
64842,I9d49258bdf12f3221013c37cfb8a21ea27f28860,https://git.eclipse.org/r/#/c/64842,1,2c0cf7cbb6322b3d9ae02e1ae3b849b9276a8230,23eacb5184156fc4df7a1a96d6f5ba9b0139a678,1,21/01/16,21/01/16,358,CherryPickCommandTest: Create Git instances in try-with-resource,"CherryPickCommandTest: Create Git instances in try-with-resource

Change-Id: I9d49258bdf12f3221013c37cfb8a21ea27f28860
Signed-off-by: David Pursehouse <david.pursehouse@sonymobile.com>",0,0,0,1,0,0,1,0,0
64853,Ia7a3b05b79c3a5530a4445e6e48ceae445425224,https://git.eclipse.org/r/#/c/64853,1,23eacb5184156fc4df7a1a96d6f5ba9b0139a678,cace4068b850fc67af2068fa4b67e939cae58230,1,21/01/16,21/01/16,4,DiffFormatterTest: Remove accidentally added trailing whitespace,"DiffFormatterTest: Remove accidentally added trailing whitespace

Change-Id: Ia7a3b05b79c3a5530a4445e6e48ceae445425224
Signed-off-by: David Pursehouse <david.pursehouse@sonymobile.com>",0,0,0,1,0,1,1,0,0
64854,Ie25770a73b19d6522bad9fdc0966f48370f96265,https://git.eclipse.org/r/#/c/64854,1,cace4068b850fc67af2068fa4b67e939cae58230,5c6cd19c162b00c3d623f634f5c7687bae46dc30,0,21/01/16,21/01/16,36,BundleWriterTest: Open RevWalk in try-with-resource,"BundleWriterTest: Open RevWalk in try-with-resource

Change-Id: Ie25770a73b19d6522bad9fdc0966f48370f96265
Signed-off-by: David Pursehouse <david.pursehouse@sonymobile.com>",0,0,0,1,0,1,1,NA,NA
64872,Ib572e98e6117b70442aee9cd7e7b8c3cf65562a7,https://git.eclipse.org/r/#/c/64872,1,6ce6093c20bbf3ddc4af8822933dc50ea5c26c2e,68d18d71af0cbeb7df915a7e8a40e1dca70296d5,1,21/01/16,21/01/16,9,Merge branch 'stable-4.2',"Merge branch 'stable-4.2'

* stable-4.2:
  BundleWriterTest: Open RevWalk in try-with-resource
  DiffFormatterTest: Remove accidentally added trailing whitespace
  CherryPickCommandTest: Create Git instances in try-with-resource
  DiffFormatterTest: Create auto-closeable instances in try-with-resource
  ConfigTest: Create Git instance in try-with-resource
  CommitAndLogCommandTest: Use assumeFalse to skip test on Windows
  CommitAndLogCommandTest: Create Git instances in try-with-resource
  AddCommandTest: Create Git instances in try-with-resource
  ArchiveCommandTest: Create Git instances in try-with-resource
  TagCommandTest: Instantiate Git and RevWalk objects in try-with-resource
  BlameCommandTest: Instantiate Git objects in try-with-resource
  SideBandOutputStreamTest: Use try-with-resource
  FileTreeIteratorJava7Test: Create Git instances in try-with-resource

Change-Id: Ib572e98e6117b70442aee9cd7e7b8c3cf65562a7
Signed-off-by: Matthias Sohn <matthias.sohn@sap.com>",1,0,0,0,0,0,1,0,0
64898,Ieec4f51aedadf5734ae0e3f4e8713248a3c4fc52,https://git.eclipse.org/r/#/c/64898,1,c431a944a31d5b31c93c5f77146b0aaa272897c0,2fdd8816e5e0bb85aff7da190b768834e4e8edc6,1,21/01/16,21/01/16,9,Merge branch 'master' into stable-4.2,"Merge branch 'master' into stable-4.2

Change-Id: Ieec4f51aedadf5734ae0e3f4e8713248a3c4fc52
Signed-off-by: Matthias Sohn <matthias.sohn@sap.com>",1,0,0,1,0,0,1,0,0
64899,I6e9014adcc604588e10e5963d13d0c6ef0e1c617,https://git.eclipse.org/r/#/c/64899,1,2fdd8816e5e0bb85aff7da190b768834e4e8edc6,1492232640b3fa7b7d0f4a978ce77a11284084d5,1,21/01/16,21/01/16,6,Fix unused throws CorruptObjectException from addTree,"Fix unused throws CorruptObjectException from addTree

2262a794b48ea removed throws CorruptObjectException, but was not
compiled under Eclipse and did not see errors generated by Eclipse.
Maven build silently ignored the unnecessary code.

Change-Id: I6e9014adcc604588e10e5963d13d0c6ef0e1c617",0,0,0,0,0,0,0,0,0
64900,If15b491aa9a1e4fd9b8bbed2dd9e6be47a64ccb7,https://git.eclipse.org/r/#/c/64900,1,1492232640b3fa7b7d0f4a978ce77a11284084d5,7bedc6f4018c0d3582d58f87d32848c1b7ebd524,0,21/01/16,21/01/16,27,Fix TransportException when reading bundle,"Fix TransportException when reading bundle

When reading a bundle file, commit messages who's oneline format is
longer than 982 characters caused JGit to treat subsequent text in
the commit as a SHA, then throw a TransportException because it's
not a valid SHA.

Now the readLine method will read all the way to the end of the
line, not just the first 1024 characters of it.

Change-Id: If15b491aa9a1e4fd9b8bbed2dd9e6be47a64ccb7
Signed-off-by: Chris Gavin <chris@chrisgavin.me>",0,0,0,0,0,0,0,NA,NA
64901,I17b978b3fc91750dd88649638b90a46820a0877c,https://git.eclipse.org/r/#/c/64901,1,7bedc6f4018c0d3582d58f87d32848c1b7ebd524,ceda0e44dd4649b0f33d24c14a955eb6e7a08c2f,1,21/01/16,21/01/16,58,Add progress monitor to Merger,"Add progress monitor to Merger

Monitoring progress of merges can be useful for users for large
repositories or complex merge processes that take some time.

This enables setting a monitor. Existing merge implementations in jgit
do not yet report progress if a monitor is set. This will be added in a
later change.

Change-Id: I17b978b3fc91750dd88649638b90a46820a0877c
Signed-off-by: Laurent Delaigue <laurent.delaigue@obeo.fr>
Signed-off-by: Matthias Sohn <matthias.sohn@sap.com>",0,0,0,0,0,0,0,0,0
64920,Idcf0479529693b023042becd96698f9afd344bd4,https://git.eclipse.org/r/#/c/64920,1,51055ae983d5975f58673e1cf85db12ef2fc1da9,8645ee58f70d8b22bc3ca369d940bb5d4d5d1d67,0,21/01/16,21/01/16,514,Prepare 4.3.0-SNAPSHOT builds,"Prepare 4.3.0-SNAPSHOT builds

Change-Id: Idcf0479529693b023042becd96698f9afd344bd4
Signed-off-by: Matthias Sohn <matthias.sohn@sap.com>",0,0,0,1,1,0,1,NA,NA
64921,I8ea167e44e9ebcac7ca08920e806d8bcb8188bf0,https://git.eclipse.org/r/#/c/64921,2,3463349b77fea6294fe8775f4dc073901b3e95bc,bf142845aa4b16977663f2104cda212826691ffa,1,21/01/16,21/01/16,8,Remove unused variable from DfsBlockCache,"Remove unused variable from DfsBlockCache

Change-Id: I8ea167e44e9ebcac7ca08920e806d8bcb8188bf0",0,0,0,1,0,0,1,0,0
64933,I89f33b0da81ff499315baa5311f95f31724fa510,https://git.eclipse.org/r/#/c/64933,1,028ef899e6e7effb09f7bad19e4687f6ba9e36b0,048e0dbfc2c1bbcc927814717a6554a5ae0ea0e3,0,21/01/16,21/01/16,98,JGit v4.2.0.201601211800-r,"JGit v4.2.0.201601211800-r

Change-Id: I89f33b0da81ff499315baa5311f95f31724fa510
Signed-off-by: Matthias Sohn <matthias.sohn@sap.com>",0,0,0,1,0,0,1,NA,NA
64937,Ic9eac53b10ac97b2038b334d388ae3d21393f993,https://git.eclipse.org/r/#/c/64937,1,048e0dbfc2c1bbcc927814717a6554a5ae0ea0e3,203e0876fe056fca588d54e021e82c4948a64259,0,22/01/16,22/01/16,510,Prepare 4.2.1-SNAPSHOT builds,"Prepare 4.2.1-SNAPSHOT builds

Change-Id: Ic9eac53b10ac97b2038b334d388ae3d21393f993
Signed-off-by: Matthias Sohn <matthias.sohn@sap.com>",1,0,0,1,1,0,1,NA,NA
64938,I57dbc0b18eaf164c8f53cc2b776ecb80481a993d,https://git.eclipse.org/r/#/c/64938,1,203e0876fe056fca588d54e021e82c4948a64259,29f610948af3d08847d55da7232f7829739f5eb1,0,22/01/16,22/01/16,2,Remove java7 bundle from Maven central scripts,"Remove java7 bundle from Maven central scripts

The bundle org.eclipse.jgit.java7 was deleted in 4.0

Change-Id: I57dbc0b18eaf164c8f53cc2b776ecb80481a993d
Signed-off-by: Matthias Sohn <matthias.sohn@sap.com>",1,0,0,0,0,0,1,NA,NA
64946,I7d7adeee81bda6e80d91a119c7d690de3d00dc2b,https://git.eclipse.org/r/#/c/64946,1,4cd817fd565adf5049e08c7d9d2b1949a6193085,a6f5bcec452e862abd963351b3cc8b5fbf483236,1,22/01/16,24/01/16,19,"RepositorySetupWorkDirTest: Fix ""resource leak"" warnings","RepositorySetupWorkDirTest: Fix ""resource leak"" warnings

Use FileRepositoryBuilder to create the Repository, except in cases
where the creation was already in a try-block. Convert those to use
a try-with-resource.

Change-Id: I7d7adeee81bda6e80d91a119c7d690de3d00dc2b
Signed-off-by: David Pursehouse <david.pursehouse@sonymobile.com>",0,0,0,0,0,1,1,0,0
64947,I3ad58d4cc2d4c019cd8edda7cb401e9d9f3fb790,https://git.eclipse.org/r/#/c/64947,1,a6f5bcec452e862abd963351b3cc8b5fbf483236,b37db16474257f6710af9a0b39c3e010124574af,1,22/01/16,24/01/16,86,FileRepositoryBuilderTest: Use try-with-resource for auto-closeables,"FileRepositoryBuilderTest: Use try-with-resource for auto-closeables

Use try-with-resource to create instances of FileRepository and
FileWriter.

""resource"" and ""unused"" warnings no longer occur, so remove the
suppression annotations.

Change-Id: I3ad58d4cc2d4c019cd8edda7cb401e9d9f3fb790
Signed-off-by: David Pursehouse <david.pursehouse@sonymobile.com>",0,0,0,0,0,1,1,0,0
64948,I4ef823110c2152ac7905681df3217eb8001f5bd9,https://git.eclipse.org/r/#/c/64948,1,b37db16474257f6710af9a0b39c3e010124574af,7aeb88ad2a2d567df1f95e0b6275537facfe89b9,1,22/01/16,24/01/16,16,UnpackedObjectTest: Create ObjectInserter.Formatter in try-with-resource,"UnpackedObjectTest: Create ObjectInserter.Formatter in try-with-resource

The ObjectInserter.Formatter instance is only used to call idFor.

Factor out a utility method to do that.

Change-Id: I4ef823110c2152ac7905681df3217eb8001f5bd9
Signed-off-by: David Pursehouse <david.pursehouse@sonymobile.com>",0,0,0,0,0,1,1,0,0
64949,Ia3db8696f66f8d294e1d443fb54e716d26d517b1,https://git.eclipse.org/r/#/c/64949,1,7aeb88ad2a2d567df1f95e0b6275537facfe89b9,fb8c81788a9157b66c95be3b1cb739bc55cd5ed2,1,22/01/16,24/01/16,10,CommitOnlyTest: Open RevWalk in try-with-resource,"CommitOnlyTest: Open RevWalk in try-with-resource

Change-Id: Ia3db8696f66f8d294e1d443fb54e716d26d517b1
Signed-off-by: David Pursehouse <david.pursehouse@sonymobile.com>",0,0,0,1,0,1,1,0,0
64950,Idc7b7bbdc1df05372b873cbe4c495474f3ffd64b,https://git.eclipse.org/r/#/c/64950,1,fb8c81788a9157b66c95be3b1cb739bc55cd5ed2,4a3af9c47624f175f4f8845d94516606f72e5a5f,1,22/01/16,24/01/16,9,ConcurrentRepackTest: Open RevWalk in try-with-resource,"ConcurrentRepackTest: Open RevWalk in try-with-resource

Change-Id: Idc7b7bbdc1df05372b873cbe4c495474f3ffd64b
Signed-off-by: David Pursehouse <david.pursehouse@sonymobile.com>",0,0,0,1,0,1,1,0,0
64951,Ifdb33501a2209239029c815b1e4e844ea5b56075,https://git.eclipse.org/r/#/c/64951,1,4a3af9c47624f175f4f8845d94516606f72e5a5f,81cf987dcb5887e1b9b0ddd0ccff0da06a7bf23a,1,22/01/16,24/01/16,7,ConcurrentRepackTest: Don't use deprecated WindowCache.reconfigure,"ConcurrentRepackTest: Don't use deprecated WindowCache.reconfigure

Replace with calls to WindowCacheConfig.install() as mentioned in
WindowCache.reconfigure's deprecation notice.

Change-Id: Ifdb33501a2209239029c815b1e4e844ea5b56075
Signed-off-by: David Pursehouse <david.pursehouse@sonymobile.com>",0,0,0,0,0,1,1,0,0
65041,Iab3ddfb926a2f8d31622e212c845c825369b09d5,https://git.eclipse.org/r/#/c/65041,2,a336c7fa2a1a8cb0043379ee12ef96ba3ce8cdd4,2d6f419769693b63f60c45d92ac3ffcfd24b310f,1,23/01/16,23/01/16,2,Fix an @since tag,"Fix an @since tag

Ketch didn't make it into 4.2

Change-Id: Iab3ddfb926a2f8d31622e212c845c825369b09d5
Signed-off-by: Thomas Wolf <thomas.wolf@paranor.ch>",0,0,0,0,0,0,0,0,0
65045,I08e2cf8f3fbb9e63f4a264daf8d9cc41dde55921,https://git.eclipse.org/r/#/c/65045,1,2d6f419769693b63f60c45d92ac3ffcfd24b310f,d580a340a727d3faa2221b850192ffc1cedced2e,0,23/01/16,24/01/16,2,Compare API against 4.2.0,"Compare API against 4.2.0

Change-Id: I08e2cf8f3fbb9e63f4a264daf8d9cc41dde55921
Signed-off-by: Matthias Sohn <matthias.sohn@sap.com>",1,0,0,1,0,0,1,NA,NA
65046,I2325fb995561a6249b7b5e82fa413dfd34ef6007,https://git.eclipse.org/r/#/c/65046,1,d580a340a727d3faa2221b850192ffc1cedced2e,cbab7c55dc2e3a08bc56081507832afd993e4dd6,0,24/01/16,24/01/16,507,Merge branch 'stable-4.2',"Merge branch 'stable-4.2'

* stable-4.2:
  ConcurrentRepackTest: Don't use deprecated WindowCache.reconfigure
  ConcurrentRepackTest: Open RevWalk in try-with-resource
  CommitOnlyTest: Open RevWalk in try-with-resource
  UnpackedObjectTest: Create ObjectInserter.Formatter in try-with-resource
  FileRepositoryBuilderTest: Use try-with-resource for auto-closeables
  RepositorySetupWorkDirTest: Fix ""resource leak"" warnings
  Remove java7 bundle from Maven central scripts
  Prepare 4.2.1-SNAPSHOT builds
  JGit v4.2.0.201601211800-r
  Add progress monitor to Merger
  Fix TransportException when reading bundle
  Fix unused throws CorruptObjectException from addTree

Change-Id: I2325fb995561a6249b7b5e82fa413dfd34ef6007
Signed-off-by: Matthias Sohn <matthias.sohn@sap.com>",1,0,0,0,1,0,1,NA,NA
65049,Ibbca0f7023350a5d424b6a5a84a5d11845a8ded7,https://git.eclipse.org/r/#/c/65049,1,cbab7c55dc2e3a08bc56081507832afd993e4dd6,c5ab1efc52aa791f7bc7893dea75582bb6e293ad,0,24/01/16,31/01/16,4,Remove unused dependency to commons logging,"Remove unused dependency to commons logging

Signed-off-by: Rdiger Herrmann <ruediger.herrmann@gmx.de>
Change-Id: Ibbca0f7023350a5d424b6a5a84a5d11845a8ded7",0,0,1,0,0,0,1,NA,NA
65066,I65a6fd7028e209c300d992c2756100c09ab4dc19,https://git.eclipse.org/r/#/c/65066,1,4fd273ea3ff21e8974bd466a8c2fd9903af3c4b5,b5fc8363a36b6824b148deb82ce3d4167be3e463,0,25/01/16,31/01/16,478,CommitCommandTest: Open Git and TreeWalk in try-with-resource,"CommitCommandTest: Open Git and TreeWalk in try-with-resource

Change-Id: I65a6fd7028e209c300d992c2756100c09ab4dc19
Signed-off-by: David Pursehouse <david.pursehouse@sonymobile.com>",0,0,1,1,0,0,1,NA,NA
65068,I966f7e5053651661abc7de63c968e1f5bf2de464,https://git.eclipse.org/r/#/c/65068,1,b5fc8363a36b6824b148deb82ce3d4167be3e463,0ad4f46628ed3d383564f2ac218431fdeca3ff6a,1,25/01/16,31/01/16,259,DiffCommandTest: Open Git and RevWalk in try-with-resource,"DiffCommandTest: Open Git and RevWalk in try-with-resource

Change-Id: I966f7e5053651661abc7de63c968e1f5bf2de464
Signed-off-by: David Pursehouse <david.pursehouse@sonymobile.com>",0,0,1,1,0,0,1,0,0
65069,If4a49268b9b7ec3a44ed1508ed78db365b0c9e5b,https://git.eclipse.org/r/#/c/65069,1,0ad4f46628ed3d383564f2ac218431fdeca3ff6a,271880d393939978149726c64f3f8585d8bb45e9,1,25/01/16,31/01/16,469,DiffEntryTest: Open Git and TreeWalk in try-with-resource,"DiffEntryTest: Open Git and TreeWalk in try-with-resource

Change-Id: If4a49268b9b7ec3a44ed1508ed78db365b0c9e5b
Signed-off-by: David Pursehouse <david.pursehouse@sonymobile.com>",0,0,1,1,0,0,1,0,0
65070,I722f8c2e80129e0129349b55a53b29626e2af21c,https://git.eclipse.org/r/#/c/65070,1,271880d393939978149726c64f3f8585d8bb45e9,8459316299cb49604f054849ff0de969bb6752fc,1,25/01/16,31/01/16,3,Remove unnecessary suppression of deprecation warnings in tests,"Remove unnecessary suppression of deprecation warnings in tests

Change-Id: I722f8c2e80129e0129349b55a53b29626e2af21c
Signed-off-by: David Pursehouse <david.pursehouse@sonymobile.com>",0,0,1,1,0,0,1,0,0
65072,I2dc4191603fbd6c3214763b869882c51b0e53284,https://git.eclipse.org/r/#/c/65072,1,8459316299cb49604f054849ff0de969bb6752fc,bcea8eaac6ea4d37500d98eca31e6c4aada62552,1,25/01/16,31/01/16,203,BlameGeneratorTest: Create Git instances in try-with-resource,"BlameGeneratorTest: Create Git instances in try-with-resource

Change-Id: I2dc4191603fbd6c3214763b869882c51b0e53284
Signed-off-by: David Pursehouse <david.pursehouse@sonymobile.com>",0,0,1,1,0,0,1,0,0
65073,I676cd7ef4bb29f980a313acd77506dd070e6c98f,https://git.eclipse.org/r/#/c/65073,1,bcea8eaac6ea4d37500d98eca31e6c4aada62552,71f778a669e4238308c1ead7ee5a7b37e4cd7099,0,25/01/16,31/01/16,33,PullCommandTest: Open RevWalk in try-with-resource,"PullCommandTest: Open RevWalk in try-with-resource

Change-Id: I676cd7ef4bb29f980a313acd77506dd070e6c98f
Signed-off-by: David Pursehouse <david.pursehouse@sonymobile.com>",0,0,1,1,0,0,1,NA,NA
65078,If7b7a90171d1349d634a84f135471ebac29e3210,https://git.eclipse.org/r/#/c/65078,1,71f778a669e4238308c1ead7ee5a7b37e4cd7099,6520f18d6020ced426284a749fe9d06ffd6ee709,0,25/01/16,31/01/16,372,RebaseCommandTest: Open RevWalk in try-with-resource,"RebaseCommandTest: Open RevWalk in try-with-resource

Change-Id: If7b7a90171d1349d634a84f135471ebac29e3210
Signed-off-by: David Pursehouse <david.pursehouse@sonymobile.com>",0,0,1,1,0,0,1,NA,NA
65161,I6e68c4b028e0aa01964eace10307372060371df7,https://git.eclipse.org/r/#/c/65161,1,6520f18d6020ced426284a749fe9d06ffd6ee709,8300520f79b46fd3ec86ae3259485b71bd164766,1,26/01/16,31/01/16,363,FileTreeIteratorTest: Open Git and RevWalk in try-with-resource,"FileTreeIteratorTest: Open Git and RevWalk in try-with-resource

Change-Id: I6e68c4b028e0aa01964eace10307372060371df7
Signed-off-by: David Pursehouse <david.pursehouse@sonymobile.com>",0,0,1,1,0,1,1,0,0
65208,Icc0907af4fe26877d066db3c813dba37213a3ccc,https://git.eclipse.org/r/#/c/65208,1,3f45dced2f9982133c3a926c9066280e45c57cff,25ddb92d939a43308dbcad75e693e580a50afea0,1,26/01/16,28/01/16,2,Prevent ChainingCredentialsProvider from adding delegated providers twice,"Prevent ChainingCredentialsProvider from adding delegated providers twice

Signed-off-by: Rdiger Herrmann <ruediger.herrmann@gmx.de>
Change-Id: Icc0907af4fe26877d066db3c813dba37213a3ccc",0,0,0,0,0,0,0,0,0
65310,I2281d818c9f76019e7e053e89b20214f2d663957,https://git.eclipse.org/r/#/c/65310,2,4639ef3e096f1004868dbed0eb27934ff4c75634,f102838be0c6490725cfb09f7adeb73e9e1341c1,1,27/01/16,15/02/16,23,Modify RefUpdate to allow deletion of HEAD ref only if the repository is bare.,"Modify RefUpdate to allow deletion of HEAD ref only if the repository is bare.

Change-Id: I2281d818c9f76019e7e053e89b20214f2d663957
Signed-off-by: Mike Williams <miwilliams@google.com>",0,0,0,1,0,0,1,0,0
65326,I1c878a2505b9d09fa09fbd404a119b71f2fb8fdb,https://git.eclipse.org/r/#/c/65326,4,098b61362dcce5ec17b2dea872293bc0a35ef832,0012ade5075ceb8ff5d61ded26c4503b730bd57b,1,27/01/16,28/01/16,95,[gitrepo] Support revision in remote tag.,"[gitrepo] Support revision in remote tag.

Repo manifest file allows revision attribute in <remote> tag. This change
teaches JGit to read that information.

Change-Id: I1c878a2505b9d09fa09fbd404a119b71f2fb8fdb
Signed-off-by: Yuxuan 'fishy' Wang <fishywang@google.com>",0,1,0,0,0,0,1,0,0
65531,Ic886ec9b1a4b3b46f9fa14188b4df832ce36cfa6,https://git.eclipse.org/r/#/c/65531,1,73fadad083fb77feb295808289525bc8e3c0c8ee,134adf81f5e67c1002012437bee3fdad45aeebc0,0,01/02/16,01/02/16,0,Merge branch 'stable-4.2',"Merge branch 'stable-4.2'

* stable-4.2:
  FileTreeIteratorTest: Open Git and RevWalk in try-with-resource
  RebaseCommandTest: Open RevWalk in try-with-resource
  PullCommandTest: Open RevWalk in try-with-resource
  BlameGeneratorTest: Create Git instances in try-with-resource
  Remove unnecessary suppression of deprecation warnings in tests
  DiffEntryTest: Open Git and TreeWalk in try-with-resource
  DiffCommandTest: Open Git and RevWalk in try-with-resource
  CommitCommandTest: Open Git and TreeWalk in try-with-resource

Change-Id: Ic886ec9b1a4b3b46f9fa14188b4df832ce36cfa6
Signed-off-by: David Pursehouse <david.pursehouse@sonymobile.com>",0,0,0,0,0,1,1,NA,NA
65633,I9c56b5efdb9c13b929073a786092a707fca21281,https://git.eclipse.org/r/#/c/65633,1,a7c1c8c78aa4ed54a951b7f67f0a6d3f98467c89,0029f5ba10d7f223ce97befedec328d6691c26cb,1,02/02/16,03/02/16,191,PackFileTest: Open ObjectInserter.Formatter in try-with-resource,"PackFileTest: Open ObjectInserter.Formatter in try-with-resource

Change-Id: I9c56b5efdb9c13b929073a786092a707fca21281
Signed-off-by: David Pursehouse <david.pursehouse@sonymobile.com>",0,0,0,1,0,1,1,0,0
65634,I9390b2c7d5c4507923b6f06271a070dc868534e5,https://git.eclipse.org/r/#/c/65634,1,0029f5ba10d7f223ce97befedec328d6691c26cb,3d1f9b343451def3c129976e2335071131abff43,1,02/02/16,03/02/16,29,ApplyCommandTest: Open Git in try-with-resource,"ApplyCommandTest: Open Git in try-with-resource

Also, add missing braces around if-block.

Change-Id: I9390b2c7d5c4507923b6f06271a070dc868534e5
Signed-off-by: David Pursehouse <david.pursehouse@sonymobile.com>",0,0,0,0,0,1,1,0,0
65635,I334092010a9c80686fb79713852d4bfa166ce12f,https://git.eclipse.org/r/#/c/65635,1,3d1f9b343451def3c129976e2335071131abff43,d7bfe8796c05f8f647909175bf59a3ef796d5fbc,1,02/02/16,03/02/16,16,Branch: Fix variable hiding warning,"Branch: Fix variable hiding warning

The Branch class has a member named 'branch', which was being
hidden by the local variable of the same name used in a for-loop.

Change-Id: I334092010a9c80686fb79713852d4bfa166ce12f
Signed-off-by: David Pursehouse <david.pursehouse@sonymobile.com>",0,0,0,0,0,1,1,0,0
65636,I1795b1e510ab170f062ee6c5988d7a7567abe260,https://git.eclipse.org/r/#/c/65636,1,d7bfe8796c05f8f647909175bf59a3ef796d5fbc,5bee96a5d8be048b00d2fb115b1919ff965e9a2b,0,02/02/16,03/02/16,2,CommitCommand: Remove declaration of unthrown exception,"CommitCommand: Remove declaration of unthrown exception

Change-Id: I1795b1e510ab170f062ee6c5988d7a7567abe260
Signed-off-by: David Pursehouse <david.pursehouse@sonymobile.com>",0,0,0,1,0,1,1,NA,NA
65637,Icc8eda841e6a437e1acf3438525014e7c46d5eb2,https://git.eclipse.org/r/#/c/65637,1,5bee96a5d8be048b00d2fb115b1919ff965e9a2b,22877743a7b0ea86006d2755e6017800bddebeea,1,02/02/16,03/02/16,195,DirCacheCheckoutTest: Open Git and TreeWalk in try-with-resource,"DirCacheCheckoutTest: Open Git and TreeWalk in try-with-resource

Change-Id: Icc8eda841e6a437e1acf3438525014e7c46d5eb2
Signed-off-by: David Pursehouse <david.pursehouse@sonymobile.com>",0,0,0,1,0,1,1,0,0
65762,I8484b10fad5a4c35fcfaedc1cdf8ccf97471618e,https://git.eclipse.org/r/#/c/65762,1,98f9bd0a1be1d950d715aa06f6b8d1b0c587eff1,71d1287abf7946769a0f31d0e2783d7e3ee8034e,0,03/02/16,03/02/16,0,Merge branch 'stable-4.2',"Merge branch 'stable-4.2'

* stable-4.2:
  DirCacheCheckoutTest: Open Git and TreeWalk in try-with-resource
  CommitCommand: Remove declaration of unthrown exception
  Branch: Fix variable hiding warning
  ApplyCommandTest: Open Git in try-with-resource
  PackFileTest: Open ObjectInserter.Formatter in try-with-resource

Change-Id: I8484b10fad5a4c35fcfaedc1cdf8ccf97471618e
Signed-off-by: Matthias Sohn <matthias.sohn@sap.com>",1,0,0,0,0,0,1,NA,NA
65763,I8b1c99b108b4cea6356e0a62e6bfc0731df44cf5,https://git.eclipse.org/r/#/c/65763,1,71d1287abf7946769a0f31d0e2783d7e3ee8034e,ff379c2900be614f69a125986c093af0a2bdad9d,0,03/02/16,03/02/16,116,Remove unused API problem filters,"Remove unused API problem filters

Change-Id: I8b1c99b108b4cea6356e0a62e6bfc0731df44cf5
Signed-off-by: Matthias Sohn <matthias.sohn@sap.com>",1,0,0,1,0,0,1,NA,NA
65771,I501f37e06b686a3a0bb5fd857dd72e424da91d3e,https://git.eclipse.org/r/#/c/65771,2,7a8dc923d9ad9b67e76d62a55dec9f06f317298f,772deebbb464391d96e00dc8429151fe60be5444,1,03/02/16,04/02/16,16,Add support for HEAD requests to HttpClientConnection,"Add support for HEAD requests to HttpClientConnection

Change-Id: I501f37e06b686a3a0bb5fd857dd72e424da91d3e
Signed-off-by: Matthias Sohn <matthias.sohn@sap.com>",0,0,0,1,0,0,1,0,0
65903,I4330c2aa3f10e29d7d6b0b2e5286e59293a06239,https://git.eclipse.org/r/#/c/65903,2,b65999a31494742de54ae1590e13730ed805fa35,5668c4c8fa45b72ed4220365ce1207b351c31bc5,1,04/02/16,09/02/16,65,Fix diff for added and removed submodule,"Fix diff for added and removed submodule

Since If13f7b406, submodule difference as shown as a hunk. The issue
was that added and removed submodule were considered as Edit.REPLACE
instead of Edit.INSERT and Edit.DELETE in the DiffFormatter result.

Change-Id: I4330c2aa3f10e29d7d6b0b2e5286e59293a06239
Signed-off-by: Hugo Ars <hugo.ares@ericsson.com>",0,0,1,0,0,0,1,0,0
65959,I99a483c482b5395653b0d57b368ec1b5fdba450c,https://git.eclipse.org/r/#/c/65959,1,3fe1acb67bc24817717b652deda8b094c03bf3cd,b6ad7371ba5f9a1d7e26d634f2844bf91f2c867b,1,05/02/16,09/02/16,17,TreeWalkJava7Test: Open TreeWalk in try-with-resource,"TreeWalkJava7Test: Open TreeWalk in try-with-resource

Change-Id: I99a483c482b5395653b0d57b368ec1b5fdba450c
Signed-off-by: David Pursehouse <david.pursehouse@sonymobile.com>",0,0,1,1,0,1,1,0,0
65960,If100a66e544926bcffe9a9a0b31bfd4806902864,https://git.eclipse.org/r/#/c/65960,1,b6ad7371ba5f9a1d7e26d634f2844bf91f2c867b,099eac070bc5b71c566c0b38499c9b5026ba5000,1,05/02/16,09/02/16,21,TreeFilterTest: Open TreeWalk in try-with-resource,"TreeFilterTest: Open TreeWalk in try-with-resource

Change-Id: If100a66e544926bcffe9a9a0b31bfd4806902864
Signed-off-by: David Pursehouse <david.pursehouse@sonymobile.com>",0,0,1,1,0,1,1,0,0
65961,Ic49dcb7cc2a1b3fb46ad78450042c8c8fb464a80,https://git.eclipse.org/r/#/c/65961,1,099eac070bc5b71c566c0b38499c9b5026ba5000,07e19aaa9f67c595f8029821d68ea4bed18aff2f,1,05/02/16,09/02/16,14,TextHashFunctions: Fix warnings about variable hiding,"TextHashFunctions: Fix warnings about variable hiding

The local variables/arguments named 'db' were hiding the member
variable of the same name in the superclass TextBuiltin.

Change-Id: Ic49dcb7cc2a1b3fb46ad78450042c8c8fb464a80
Signed-off-by: David Pursehouse <david.pursehouse@sonymobile.com>",0,0,1,0,0,1,1,0,0
65962,I270829f0a4030083c9599eb5785b0145dc590ed8,https://git.eclipse.org/r/#/c/65962,1,07e19aaa9f67c595f8029821d68ea4bed18aff2f,99a56fec810c5ec8a9cb0943936e6ba6ac5b8b01,1,05/02/16,09/02/16,22,T0003_BasicTest: Open autocloseable types in try-with-resource,"T0003_BasicTest: Open autocloseable types in try-with-resource

FileRepository and ObjectInserter.Formatter are autocloseable, so
use try-with-resource for these.

Remove suppression of unused variable warning that is no longer
necessary.

Change-Id: I270829f0a4030083c9599eb5785b0145dc590ed8
Signed-off-by: David Pursehouse <david.pursehouse@sonymobile.com>",0,0,1,0,0,1,1,0,0
65963,I0fd1933e843375029fa795447b688f23a893f84b,https://git.eclipse.org/r/#/c/65963,1,99a56fec810c5ec8a9cb0943936e6ba6ac5b8b01,957ed1a44dc3abb1ee8c64d304e99d2e50829709,1,05/02/16,09/02/16,337,SymlinksTest: Open git and TreeWalk in try-with-resource,"SymlinksTest: Open git and TreeWalk in try-with-resource

Change-Id: I0fd1933e843375029fa795447b688f23a893f84b
Signed-off-by: David Pursehouse <david.pursehouse@sonymobile.com>",0,0,1,1,0,1,1,0,0
65964,I1276ce206e891729adfa681e00952ca0ba6ffc53,https://git.eclipse.org/r/#/c/65964,1,957ed1a44dc3abb1ee8c64d304e99d2e50829709,3df7873951dc241e19425ee96c8d2fc3443b1501,1,05/02/16,09/02/16,178,SubmoduleAddTest: Open Git in try-with-resource,"SubmoduleAddTest: Open Git in try-with-resource

Change-Id: I1276ce206e891729adfa681e00952ca0ba6ffc53
Signed-off-by: David Pursehouse <david.pursehouse@sonymobile.com>",0,0,1,1,0,1,1,0,0
65969,Id13ad9fa3157d0479da12fb8184437be3ca8c948,https://git.eclipse.org/r/#/c/65969,1,3df7873951dc241e19425ee96c8d2fc3443b1501,fb86a514a8725fdde3d94bcb1c78fb0245b36eb7,1,05/02/16,09/02/16,168,StatusCommandTest: Open Git in try-with-resource,"StatusCommandTest: Open Git in try-with-resource

Change-Id: Id13ad9fa3157d0479da12fb8184437be3ca8c948
Signed-off-by: David Pursehouse <david.pursehouse@sonymobile.com>",0,0,1,1,0,1,1,0,0
65970,Ife94d1f0279ed3671a9bca79fb26c0403549fa17,https://git.eclipse.org/r/#/c/65970,1,fb86a514a8725fdde3d94bcb1c78fb0245b36eb7,d5dae85a75b1b3007e3a0d637a024c8e25fc5cb1,1,05/02/16,09/02/16,23,SquashMessageFormatterTest: Open git in try-with-resource,"SquashMessageFormatterTest: Open git in try-with-resource

Change-Id: Ife94d1f0279ed3671a9bca79fb26c0403549fa17
Signed-off-by: David Pursehouse <david.pursehouse@sonymobile.com>",0,0,1,1,0,1,1,0,0
65971,I659adbb0a6f741c4c6f615c8a24b4603c3f6681e,https://git.eclipse.org/r/#/c/65971,1,d5dae85a75b1b3007e3a0d637a024c8e25fc5cb1,e8c8dc9d6b7ccfce84c940d7dd73f880d102b229,0,05/02/16,09/02/16,426,RevertCommandTest: Open Git in try-with-resource,"RevertCommandTest: Open Git in try-with-resource

Change-Id: I659adbb0a6f741c4c6f615c8a24b4603c3f6681e
Signed-off-by: David Pursehouse <david.pursehouse@sonymobile.com>",0,0,1,1,0,1,1,NA,NA
65972,I2341977223be1dc5252492f4775626122f56496b,https://git.eclipse.org/r/#/c/65972,1,e8c8dc9d6b7ccfce84c940d7dd73f880d102b229,8cfbcc6042cfe7afcc80af77422e20d0b48cf8ec,1,05/02/16,09/02/16,7,RevTagParseTest: Open ObjectInserter.Formatter in try-with-resource,"RevTagParseTest: Open ObjectInserter.Formatter in try-with-resource

Change-Id: I2341977223be1dc5252492f4775626122f56496b
Signed-off-by: David Pursehouse <david.pursehouse@sonymobile.com>",0,0,1,1,0,1,1,0,0
65973,I19bcbb2f12036c5043436f3d544ccefbb7385b8d,https://git.eclipse.org/r/#/c/65973,1,8cfbcc6042cfe7afcc80af77422e20d0b48cf8ec,afc08452aebf6098a83a89d5834c9d5b426b0044,1,05/02/16,09/02/16,9,RevObjectTest: Open RevWalk in try-with-resource,"RevObjectTest: Open RevWalk in try-with-resource

Change-Id: I19bcbb2f12036c5043436f3d544ccefbb7385b8d
Signed-off-by: David Pursehouse <david.pursehouse@sonymobile.com>",0,0,1,1,0,1,1,0,0
65974,Iaa87c51bc19b4fa832393c11db20b69865d30d48,https://git.eclipse.org/r/#/c/65974,1,afc08452aebf6098a83a89d5834c9d5b426b0044,c90df205855d57b9e5ba576fbe6084d07d7a40c1,1,05/02/16,09/02/16,5,RevCommitParseTest: Open ObjectInserter.Formatter in try-with-resource,"RevCommitParseTest: Open ObjectInserter.Formatter in try-with-resource

Change-Id: Iaa87c51bc19b4fa832393c11db20b69865d30d48
Signed-off-by: David Pursehouse <david.pursehouse@sonymobile.com>",0,0,1,1,0,1,1,0,0
65975,I4ba273a364a12f82a3b3b06ba050bc633411daf6,https://git.eclipse.org/r/#/c/65975,1,c90df205855d57b9e5ba576fbe6084d07d7a40c1,a54e143ea4de78754d349acfc7fcfc2c357d3c34,1,05/02/16,09/02/16,36,RevCommitListTest: Open Git and RevWalk in try-with-resource,"RevCommitListTest: Open Git and RevWalk in try-with-resource

Change-Id: I4ba273a364a12f82a3b3b06ba050bc633411daf6
Signed-off-by: David Pursehouse <david.pursehouse@sonymobile.com>",0,0,1,1,0,1,1,0,0
65976,Ic378ec25c4a3ea4354ee643029f87e46b6449ed4,https://git.eclipse.org/r/#/c/65976,1,a54e143ea4de78754d349acfc7fcfc2c357d3c34,02838fa777a7de12b08a40584b2a826d88e04f35,1,05/02/16,09/02/16,47,ResolveMergerTest: Open Git in try-with-resource,"ResolveMergerTest: Open Git in try-with-resource

Change-Id: Ic378ec25c4a3ea4354ee643029f87e46b6449ed4
Signed-off-by: David Pursehouse <david.pursehouse@sonymobile.com>",0,0,1,1,0,1,1,0,0
65977,Ibe822ded76a80b94922e92bbc6f5d90bcc52f8a3,https://git.eclipse.org/r/#/c/65977,1,02838fa777a7de12b08a40584b2a826d88e04f35,2643d61b744c7f3bd51b3df98856bac084b9bc80,0,05/02/16,09/02/16,14,ResetCommandTest: Use Git member in testHardResetAfterSquashMerge,"ResetCommandTest: Use Git member in testHardResetAfterSquashMerge

Use the class member instance of the Git rather than creating
a new one in the test. This makes it consistent with the other
tests in the module.

Change-Id: Ibe822ded76a80b94922e92bbc6f5d90bcc52f8a3
Signed-off-by: David Pursehouse <david.pursehouse@sonymobile.com>",0,0,1,0,0,1,1,NA,NA
65979,I48c4001aaa7d9c1e36369e9799bfbb7c3bb46d8b,https://git.eclipse.org/r/#/c/65979,1,2643d61b744c7f3bd51b3df98856bac084b9bc80,02bb2b678f051b7e8efbf8bafc905249d5658eca,1,05/02/16,09/02/16,9,RepositoryTestCase: Open autocloseable types in try-with-resource,"RepositoryTestCase: Open autocloseable types in try-with-resource

ObjectInserter.Formatter and Git are autocloseable and can be
opened in try-with-resource to prevent a resource leak warning.

Change-Id: I48c4001aaa7d9c1e36369e9799bfbb7c3bb46d8b
Signed-off-by: David Pursehouse <david.pursehouse@sonymobile.com>",0,0,1,0,0,1,1,0,0
65981,Ibb612f3d8fd0f9913291430474311d9da62f4e6f,https://git.eclipse.org/r/#/c/65981,1,02bb2b678f051b7e8efbf8bafc905249d5658eca,46e8a6c6591620ee93ad6b1744e61bfeee8792dd,1,05/02/16,09/02/16,52,RepositoryResolveTest: Open Git in try-with-resource,"RepositoryResolveTest: Open Git in try-with-resource

Change-Id: Ibb612f3d8fd0f9913291430474311d9da62f4e6f
Signed-off-by: David Pursehouse <david.pursehouse@sonymobile.com>",0,0,1,1,0,1,1,0,0
65984,Ic83778bbff0b2f57d37b95aef70324859d42cd58,https://git.eclipse.org/r/#/c/65984,1,46e8a6c6591620ee93ad6b1744e61bfeee8792dd,5ea93c7f29f4963a190c5c0cf9abaabe986b9b30,1,05/02/16,09/02/16,36,RepoTest: Open Git in try-with-resources,"RepoTest: Open Git in try-with-resources

Allocate a new Git for each part of the test, rather than
reassigning to the same variable.

Change-Id: Ic83778bbff0b2f57d37b95aef70324859d42cd58
Signed-off-by: David Pursehouse <david.pursehouse@sonymobile.com>",0,0,1,0,0,1,1,0,0
65989,I182f2715894ac4259b09a371cb4e0eb24f52518a,https://git.eclipse.org/r/#/c/65989,1,5ea93c7f29f4963a190c5c0cf9abaabe986b9b30,f47c7e217a1af191f3742d248001a264080f98ea,1,05/02/16,09/02/16,12,RepoProject: Fix warnings about variable hiding,"RepoProject: Fix warnings about variable hiding

Method parameter names were hiding class members of the same
name.

Change-Id: I182f2715894ac4259b09a371cb4e0eb24f52518a
Signed-off-by: David Pursehouse <david.pursehouse@sonymobile.com>",0,0,1,0,0,1,1,0,0
66256,I37dd71ed19b06e9bbcffe37370081ab875c6d8d4,https://git.eclipse.org/r/#/c/66256,1,d9c7e0ec3bfc908039c6136a3e8e8513eac77296,e32bf414cfd4a4f48f8756519ae26bbe2feb19ed,0,09/02/16,10/02/16,0,Merge branch 'stable-4.1' into stable-4.2,"Merge branch 'stable-4.1' into stable-4.2

* stable-4.1:
  Fix diff for added and removed submodule

Change-Id: I37dd71ed19b06e9bbcffe37370081ab875c6d8d4
Signed-off-by: Matthias Sohn <matthias.sohn@sap.com>",1,0,0,0,0,0,1,NA,NA
66257,If3ecc63f6dfac55474d3c1dd2f4105371f3d24fb,https://git.eclipse.org/r/#/c/66257,1,eeeb69e1146681b24e9a627eb2aa9b94812e6cf8,7466945eb68549aab419b7a8cb9f3bd3c22c4bdd,0,09/02/16,10/02/16,0,Merge branch 'stable-4.2',"Merge branch 'stable-4.2'

* stable-4.2:
  RepoProject: Fix warnings about variable hiding
  RepoTest: Open Git in try-with-resources
  RepositoryResolveTest: Open Git in try-with-resource
  RepositoryTestCase: Open autocloseable types in try-with-resource
  ResetCommandTest: Use Git member in testHardResetAfterSquashMerge
  ResolveMergerTest: Open Git in try-with-resource
  RevCommitListTest: Open Git and RevWalk in try-with-resource
  RevCommitParseTest: Open ObjectInserter.Formatter in try-with-resource
  RevObjectTest: Open RevWalk in try-with-resource
  RevTagParseTest: Open ObjectInserter.Formatter in try-with-resource
  RevertCommandTest: Open Git in try-with-resource
  SquashMessageFormatterTest: Open git in try-with-resource
  StatusCommandTest: Open Git in try-with-resource
  SubmoduleAddTest: Open Git in try-with-resource
  SymlinksTest: Open git and TreeWalk in try-with-resource
  T0003_BasicTest: Open autocloseable types in try-with-resource
  TextHashFunctions: Fix warnings about variable hiding
  TreeFilterTest: Open TreeWalk in try-with-resource
  TreeWalkJava7Test: Open TreeWalk in try-with-resource
  Fix diff for added and removed submodule

Change-Id: If3ecc63f6dfac55474d3c1dd2f4105371f3d24fb
Signed-off-by: Matthias Sohn <matthias.sohn@sap.com>",1,0,0,0,0,0,1,NA,NA
66444,I6781d4e9d131b373c9f191d785495e88b906c671,https://git.eclipse.org/r/#/c/66444,2,dc92bdbe4bd27960907accf2650bd10f26847170,9729a286257ee7a508ee66e685466e315246a9f7,0,12/02/16,12/02/16,8,Fix packaging of lfs bundles,"Fix packaging of lfs bundles

- pgm feature needs to include the lfs feature
- add the lfs feature to the jgit p2 repository

Change-Id: I6781d4e9d131b373c9f191d785495e88b906c671
Signed-off-by: Matthias Sohn <matthias.sohn@sap.com>",1,0,0,0,0,0,1,NA,NA
66447,I171e84eeb7862e74761ba6c961f14c86beaba9e7,https://git.eclipse.org/r/#/c/66447,1,1a8d45854d04bb2140e98667d225ab7acee7bb44,b457f451a4d620f8e1b1e1975c40db8fe39545c3,1,12/02/16,12/02/16,56,RepoCommandTest: Open Git instances in try-with-resource,"RepoCommandTest: Open Git instances in try-with-resource

Change-Id: I171e84eeb7862e74761ba6c961f14c86beaba9e7
Signed-off-by: David Pursehouse <david.pursehouse@sonymobile.com>",0,0,0,1,0,1,1,0,0
66448,I950b6f16148cfe11de729b04904f88d6e4c28b9a,https://git.eclipse.org/r/#/c/66448,1,b457f451a4d620f8e1b1e1975c40db8fe39545c3,7293e5763412cedd0cdfbddb1c230e6ec8ac5e69,1,12/02/16,12/02/16,29,ReflogTest: Open Git instances in try-with-resource,"ReflogTest: Open Git instances in try-with-resource

Change-Id: I950b6f16148cfe11de729b04904f88d6e4c28b9a
Signed-off-by: David Pursehouse <david.pursehouse@sonymobile.com>",0,0,0,1,0,1,1,0,0
66449,I11ee38bfcf4951bf05a1632df08b1d074d38338b,https://git.eclipse.org/r/#/c/66449,1,7293e5763412cedd0cdfbddb1c230e6ec8ac5e69,3e87c1f92bbbe38df074cfe0fee6bd080bc988b3,1,12/02/16,12/02/16,162,ReflogResolveTest: Open Git instances in try-with-resource,"ReflogResolveTest: Open Git instances in try-with-resource

Change-Id: I11ee38bfcf4951bf05a1632df08b1d074d38338b
Signed-off-by: David Pursehouse <david.pursehouse@sonymobile.com>",0,0,0,1,0,1,1,0,0
66450,I646525e82900e23ffabfc756bcf5052ef873656a,https://git.eclipse.org/r/#/c/66450,1,3e87c1f92bbbe38df074cfe0fee6bd080bc988b3,7aeb4a7a8932a5ba5e21ada72338b84eb9f7c904,1,12/02/16,12/02/16,4,RefDirectoryTest: Fix warning about member variable hiding,"RefDirectoryTest: Fix warning about member variable hiding

The parameter name 'totalWork' was hiding a class member variable
of the same name.

Change-Id: I646525e82900e23ffabfc756bcf5052ef873656a
Signed-off-by: David Pursehouse <david.pursehouse@sonymobile.com>",0,0,0,0,0,1,1,0,0
66451,Ib320dad316e0f6e3e95363c4d6a64744032db857,https://git.eclipse.org/r/#/c/66451,1,7aeb4a7a8932a5ba5e21ada72338b84eb9f7c904,953b61e2f7704c56813c64372be3686d583edcdd,0,12/02/16,12/02/16,11,Update .mailmap,"Update .mailmap

- List names alphabetically by Firstname Surname
- Replace tabs with spaces
- Add missing name

Change-Id: Ib320dad316e0f6e3e95363c4d6a64744032db857
Signed-off-by: David Pursehouse <david.pursehouse@sonymobile.com>",0,0,0,0,0,1,1,NA,NA
66452,I66b057df388835d57f332fdcbadb8a9f4e1094a4,https://git.eclipse.org/r/#/c/66452,1,953b61e2f7704c56813c64372be3686d583edcdd,a678252cf846de2f5acfbb375f83dcac4b35923b,1,12/02/16,12/02/16,17,ReflogConfigTest: refactor commit method to avoid variable hiding,"ReflogConfigTest: refactor commit method to avoid variable hiding

The author and committer parameters were hiding class members of
the same name.

Since the passed in PersonIdent instances were being created from
the class members anyway, remove the parameters and instead create
the PersonIdent instances inline in the method.

Change-Id: I66b057df388835d57f332fdcbadb8a9f4e1094a4
Signed-off-by: David Pursehouse <david.pursehouse@sonymobile.com>",0,0,0,0,0,1,1,0,0
66453,I381d535eb4ed7535ba8541c5320f81ce11d5b173,https://git.eclipse.org/r/#/c/66453,1,a678252cf846de2f5acfbb375f83dcac4b35923b,961d2f905a78b0e53149be2f3cc8acfaf078a0e6,0,12/02/16,12/02/16,29,RecursiveMergerTest: Open TreeWalk and BufferedReader in try-with-resource,"RecursiveMergerTest: Open TreeWalk and BufferedReader in try-with-resource

Change-Id: I381d535eb4ed7535ba8541c5320f81ce11d5b173
Signed-off-by: David Pursehouse <david.pursehouse@sonymobile.com>",0,0,0,1,0,1,1,NA,NA
66454,Ic17b05fd7d056761b352168de97efb607a289276,https://git.eclipse.org/r/#/c/66454,1,961d2f905a78b0e53149be2f3cc8acfaf078a0e6,85a465053a12b658638c2281c2161146f1529f69,1,12/02/16,12/02/16,68,RacyGitTests: Open NameConflictTreeWalk in try-with-resource,"RacyGitTests: Open NameConflictTreeWalk in try-with-resource

Change-Id: Ic17b05fd7d056761b352168de97efb607a289276
Signed-off-by: David Pursehouse <david.pursehouse@sonymobile.com>",0,0,0,1,0,1,1,0,0
66455,I3a8e28a4097e868a34ee1b23256c7f28d570cd75,https://git.eclipse.org/r/#/c/66455,1,85a465053a12b658638c2281c2161146f1529f69,af70978281efb412f939aa5a4b47d06927834cdf,1,12/02/16,12/02/16,353,PushCommandTest: Open Git instances in try-with-resource,"PushCommandTest: Open Git instances in try-with-resource

Change-Id: I3a8e28a4097e868a34ee1b23256c7f28d570cd75
Signed-off-by: David Pursehouse <david.pursehouse@sonymobile.com>",0,0,0,1,0,1,1,0,0
66456,I16f4d219e8b103d30149b2a94d3484424f3de84b,https://git.eclipse.org/r/#/c/66456,1,af70978281efb412f939aa5a4b47d06927834cdf,acd4d6cbd561b14a9cd17bc2d50a97b34cc6fb5d,0,12/02/16,12/02/16,37,PullCommandWithRebaseTest: Open RevWalk in try-with-resource,"PullCommandWithRebaseTest: Open RevWalk in try-with-resource

Change-Id: I16f4d219e8b103d30149b2a94d3484424f3de84b
Signed-off-by: David Pursehouse <david.pursehouse@sonymobile.com>",0,0,0,1,0,1,1,NA,NA
66457,Id59f8403c0a7b38ebb6b3a24814257cd59ea575d,https://git.eclipse.org/r/#/c/66457,1,acd4d6cbd561b14a9cd17bc2d50a97b34cc6fb5d,496f8491b6af0e26c278484cfef780487424a277,0,12/02/16,12/02/16,170,PostOrderTreeWalkTest: Open TreeWalk in try-with-resource,"PostOrderTreeWalkTest: Open TreeWalk in try-with-resource

Also remove unnecessary nesting in test methods.

Change-Id: Id59f8403c0a7b38ebb6b3a24814257cd59ea575d
Signed-off-by: David Pursehouse <david.pursehouse@sonymobile.com>",0,0,0,0,0,1,1,NA,NA
66458,If0ee71f09a5464e27f0496dac364f8f9bb015eb6,https://git.eclipse.org/r/#/c/66458,1,496f8491b6af0e26c278484cfef780487424a277,9d77ea2cf6ce90134e4c23a933103cf86949101e,0,12/02/16,12/02/16,17,PathSuffixFilterTest: Open TreeWalk in try-with-resource,"PathSuffixFilterTest: Open TreeWalk in try-with-resource

Change-Id: If0ee71f09a5464e27f0496dac364f8f9bb015eb6
Signed-off-by: David Pursehouse <david.pursehouse@sonymobile.com>",0,0,0,1,0,1,1,NA,NA
66459,I39e898e52c3d9dffaba9dabf11c085503fbc1acf,https://git.eclipse.org/r/#/c/66459,1,9d77ea2cf6ce90134e4c23a933103cf86949101e,2ceb5a6092d6f6d6dabf423be4c5f6b73e239d3b,1,12/02/16,12/02/16,82,PatchIdDiffFormatterTest: Open Git and PatchIdDiffFormatter in try-with-resource,"PatchIdDiffFormatterTest: Open Git and PatchIdDiffFormatter in try-with-resource

Change-Id: I39e898e52c3d9dffaba9dabf11c085503fbc1acf
Signed-off-by: David Pursehouse <david.pursehouse@sonymobile.com>",0,0,0,1,0,1,1,0,0
66460,Ic8ed941d096718e81c7ffeb166bcf7faaa2ff57d,https://git.eclipse.org/r/#/c/66460,1,2ceb5a6092d6f6d6dabf423be4c5f6b73e239d3b,7f1749411286530d91a021e4551ec90dcd4bf87a,1,12/02/16,12/02/16,11,PackWriterTest: Open RevWalk in try-with-resource,"PackWriterTest: Open RevWalk in try-with-resource

Change-Id: Ic8ed941d096718e81c7ffeb166bcf7faaa2ff57d
Signed-off-by: David Pursehouse <david.pursehouse@sonymobile.com>",0,0,0,1,0,1,1,0,0
66461,I27017afdc5f49c38c6f5be494e7a21239ea601a7,https://git.eclipse.org/r/#/c/66461,1,7f1749411286530d91a021e4551ec90dcd4bf87a,e5852dc2e0e706e546cd034d97fe88aedadaba2d,1,12/02/16,12/02/16,8,ObjectDirectoryTest: Fix warnings about variable hiding,"ObjectDirectoryTest: Fix warnings about variable hiding

The variable and parameter named 'db' were hiding class members
with the same name.

Change-Id: I27017afdc5f49c38c6f5be494e7a21239ea601a7
Signed-off-by: David Pursehouse <david.pursehouse@sonymobile.com>",0,0,0,0,0,1,1,0,0
66462,I70da0140fe087e7e69c28e9ddd125495d916ec1b,https://git.eclipse.org/r/#/c/66462,1,e5852dc2e0e706e546cd034d97fe88aedadaba2d,3ce249bc1dab88b0c68c3de9f999b3cb633705f7,1,12/02/16,12/02/16,20,NoteMapTest: Open TreeWalk instances in try-with-resource,"NoteMapTest: Open TreeWalk instances in try-with-resource

Change-Id: I70da0140fe087e7e69c28e9ddd125495d916ec1b
Signed-off-by: David Pursehouse <david.pursehouse@sonymobile.com>",0,0,0,1,0,1,1,0,0
66463,I95074358cec6fef6b5ced7bb7b117c33fee08a7a,https://git.eclipse.org/r/#/c/66463,1,3ce249bc1dab88b0c68c3de9f999b3cb633705f7,d0e6ea3b25d7c00632de99dc18a5139a2a034fc6,0,12/02/16,15/02/16,2092,MergeCommandTest: Open Git instances in try-with-resource,"MergeCommandTest: Open Git instances in try-with-resource

Change-Id: I95074358cec6fef6b5ced7bb7b117c33fee08a7a
Signed-off-by: David Pursehouse <david.pursehouse@sonymobile.com>",0,0,1,1,1,1,1,NA,NA
66464,I13672371f6cd3c481a0a6247e0eaed3aac6d766e,https://git.eclipse.org/r/#/c/66464,1,d0e6ea3b25d7c00632de99dc18a5139a2a034fc6,a966bbafd11590bc4f7784a663d18e11ef7889b9,0,12/02/16,15/02/16,7,MergeCommandTest: Use JUnit's assume to check preconditions,"MergeCommandTest: Use JUnit's assume to check preconditions

Using the assume method, instead of just returning, will cause the
test to be marked as skipped rather than passed on systems where
the precondition is not satisfied.

Change-Id: I13672371f6cd3c481a0a6247e0eaed3aac6d766e
Signed-off-by: David Pursehouse <david.pursehouse@sonymobile.com>",0,0,1,0,0,1,1,NA,NA
66477,I7964b699396629e31a9cc5600aedcf4be4e659a8,https://git.eclipse.org/r/#/c/66477,1,dd1d0d057d6bf9be490e6bcbdf241564fb9049bb,d9dfa52bea4703aef57825d8579754b6ad2af6f5,0,12/02/16,12/02/16,0,Merge branch 'stable-4.2',"Merge branch 'stable-4.2'

* stable-4.2:
  NoteMapTest: Open TreeWalk instances in try-with-resource
  ObjectDirectoryTest: Fix warnings about variable hiding
  PackWriterTest: Open RevWalk in try-with-resource
  PatchIdDiffFormatterTest: Open Git and PatchIdDiffFormatter in try-with-resource
  PathSuffixFilterTest: Open TreeWalk in try-with-resource
  PostOrderTreeWalkTest: Open TreeWalk in try-with-resource
  PullCommandWithRebaseTest: Open RevWalk in try-with-resource
  PushCommandTest: Open Git instances in try-with-resource
  RacyGitTests: Open NameConflictTreeWalk in try-with-resource
  RecursiveMergerTest: Open TreeWalk and BufferedReader in try-with-resource
  ReflogConfigTest: refactor commit method to avoid variable hiding
  Update .mailmap
  RefDirectoryTest: Fix warning about member variable hiding
  ReflogResolveTest: Open Git instances in try-with-resource
  ReflogTest: Open Git instances in try-with-resource
  RepoCommandTest: Open Git instances in try-with-resource

Change-Id: I7964b699396629e31a9cc5600aedcf4be4e659a8
Signed-off-by: Matthias Sohn <matthias.sohn@sap.com>",1,0,0,0,0,0,1,NA,NA
66511,Idd2c22bbd2c81311c87a205fe707770300ec8f0c,https://git.eclipse.org/r/#/c/66511,1,d9dfa52bea4703aef57825d8579754b6ad2af6f5,444815c2447df28d11ea9b7b66d349e033b14272,0,12/02/16,12/02/16,2,Fix buck classpath for tests,"Fix buck classpath for tests

Change-Id: Idd2c22bbd2c81311c87a205fe707770300ec8f0c",0,0,0,1,0,0,1,NA,NA
66512,I3de69bfe2afc5c58aef704b72d6531aea826e179,https://git.eclipse.org/r/#/c/66512,1,444815c2447df28d11ea9b7b66d349e033b14272,4084fb44cdbe68d117f3662f78819a3b02826d03,0,12/02/16,12/02/16,2,Update Buck version to the same version used in Gerrit master,"Update Buck version to the same version used in Gerrit master

Change-Id: I3de69bfe2afc5c58aef704b72d6531aea826e179",0,0,0,1,0,0,1,NA,NA
66513,I6aa2a8f094d36ef04dd12c81dfba8328e4a3bee9,https://git.eclipse.org/r/#/c/66513,1,4084fb44cdbe68d117f3662f78819a3b02826d03,6aa36b41c0ee5893ee03a0049a907f4bb0a3db91,0,12/02/16,12/02/16,8,Add Buck build aliases,"Add Buck build aliases

Change-Id: I6aa2a8f094d36ef04dd12c81dfba8328e4a3bee9",0,0,0,1,0,0,1,NA,NA
66562,Idf9ecb783cbd2b9984d4118047968f1f5204d642,https://git.eclipse.org/r/#/c/66562,1,62f700fc8f781b8ec0dab1dfffc02ecea0ca873f,3ca36506a8af187da4b3d0e57e7c96622a48d36a,0,14/02/16,15/02/16,99,Buck: Simplify root build file,"Buck: Simplify root build file

Remove all proxy rules, that were introduced to allow to build Gerrit
with hijacked JGit cell. New approach suggested in: [1], that emulates
real JGit project structure in its own cell, makes them unnecessary.

Add :all rule, that build all artifacts and packages them in zip file.
Add shell binary :jgit_bin rule, that allows to execute JGit binary
from with buck run command, e.g.:

  $ buck run jgit_bin status
  $ buck run jgit_bin -- --version

* [1] https://gerrit-review.googlesource.com/74859

Change-Id: Idf9ecb783cbd2b9984d4118047968f1f5204d642
Signed-off-by: David Ostrovsky <david@ostrovsky.org>",0,0,0,0,0,0,0,NA,NA
66574,If0721109f389835a3a00b1a97559fd8f8c156556,https://git.eclipse.org/r/#/c/66574,1,701d440faad8f89ef86daaf4adb6b0da81e0a264,94a2a4a3d6c71cc333e140072fac5ef360d05e25,0,14/02/16,14/02/16,98,JGit v4.1.2.201602141800-r,"JGit v4.1.2.201602141800-r

Change-Id: If0721109f389835a3a00b1a97559fd8f8c156556
Signed-off-by: Matthias Sohn <matthias.sohn@sap.com>",1,0,0,1,0,0,1,NA,NA
66576,I4156fd539da989c989aabce68d20dd9f8b5ad47c,https://git.eclipse.org/r/#/c/66576,1,51fa6952527d07d962338b2d6d7841b07cc3fe8c,51fa6952527d07d962338b2d6d7841b07cc3fe8c,0,15/02/16,15/02/16,187,Merge branch 'stable-4.1' into stable-4.2,"Merge branch 'stable-4.1' into stable-4.2

* stable-4.1:
  JGit v4.1.2.201602141800-r

Change-Id: I4156fd539da989c989aabce68d20dd9f8b5ad47c
Signed-off-by: David Pursehouse <david.pursehouse@sonymobile.com>",0,0,0,0,0,1,1,NA,NA
66580,Ie2b0e55e606f50c46e21227f23de74dbea8388e5,https://git.eclipse.org/r/#/c/66580,1,51fa6952527d07d962338b2d6d7841b07cc3fe8c,ff2dda6e040bbf35ffc57078f682a267c4330efc,1,15/02/16,15/02/16,35,LockFileTest: Open Git instance in try-with-resource,"LockFileTest: Open Git instance in try-with-resource

Change-Id: Ie2b0e55e606f50c46e21227f23de74dbea8388e5
Signed-off-by: David Pursehouse <david.pursehouse@sonymobile.com>",0,0,0,1,0,1,1,0,0
66581,Ie0046771b1ab1c9784d9a3bb597a9d76c6c3017d,https://git.eclipse.org/r/#/c/66581,1,ff2dda6e040bbf35ffc57078f682a267c4330efc,4c66e89e6fc6cc643fb6c1d82c5d41fba8eb445f,0,15/02/16,15/02/16,69,InterIndexDiffFilterTest: Open TreeWalk in try-with-resource,"InterIndexDiffFilterTest: Open TreeWalk in try-with-resource

Change-Id: Ie0046771b1ab1c9784d9a3bb597a9d76c6c3017d
Signed-off-by: David Pursehouse <david.pursehouse@sonymobile.com>",0,0,0,1,0,1,1,NA,NA
66582,If52c071b71f5df822b1ac276a6f665515f6c9d00,https://git.eclipse.org/r/#/c/66582,1,4c66e89e6fc6cc643fb6c1d82c5d41fba8eb445f,e0016c282f3a583c64f5ccbccbe5f9234aa19c7b,1,15/02/16,15/02/16,103,IndexModificationTimesTest: Open Git instances in try-with-resource,"IndexModificationTimesTest: Open Git instances in try-with-resource

Change-Id: If52c071b71f5df822b1ac276a6f665515f6c9d00
Signed-off-by: David Pursehouse <david.pursehouse@sonymobile.com>",0,0,0,1,0,1,1,0,0
66583,Iec81a1341d5bf377801475845b96a465753096ef,https://git.eclipse.org/r/#/c/66583,1,e0016c282f3a583c64f5ccbccbe5f9234aa19c7b,a1ec84c318060dc276e7cfea91c2556d0449736b,1,15/02/16,15/02/16,4,InMemoryRepository: Remove unused RevWalk from batch method signature,"InMemoryRepository: Remove unused RevWalk from batch method signature

The RevWalk given in the arguments is not used. According to the
comment at the top of the method, a new RevWalk is intentionally
used in the implementation.

Remove the unused argument.

Change-Id: Iec81a1341d5bf377801475845b96a465753096ef
Signed-off-by: David Pursehouse <david.pursehouse@sonymobile.com>",0,0,0,0,0,0,0,0,0
66584,I5ca8d721a756a82ea5f5687a20555303eb1dfc18,https://git.eclipse.org/r/#/c/66584,1,a1ec84c318060dc276e7cfea91c2556d0449736b,a5bda08b9a93451a4de949a04b2841348ca49dab,1,15/02/16,15/02/16,5,ManifestParserTest: Don't use deprecated StringBufferInputStream,"ManifestParserTest: Don't use deprecated StringBufferInputStream

Replace it with ByteArrayInputStream as suggested in [1].

[1] http://stackoverflow.com/a/2219543/381622

Change-Id: I5ca8d721a756a82ea5f5687a20555303eb1dfc18
Signed-off-by: David Pursehouse <david.pursehouse@sonymobile.com>",0,0,0,0,0,0,0,0,0
66586,I7fa2d16561982ddfde053f2fe78135c114b66b1d,https://git.eclipse.org/r/#/c/66586,1,e5ca5eb6fbe64e877b442b103512ba3f37307b73,bba2c96b3d7bfd0c834b53cb8ac5e7eb42502a7c,1,15/02/16,15/02/16,596,IndexDiffTest: Open Git instances in try-with-resources,"IndexDiffTest: Open Git instances in try-with-resources

Change-Id: I7fa2d16561982ddfde053f2fe78135c114b66b1d
Signed-off-by: David Pursehouse <david.pursehouse@sonymobile.com>",0,0,0,1,1,0,1,0,0
66587,Iddf658acd1c78161d6028cfcfb7e5c73534ae40b,https://git.eclipse.org/r/#/c/66587,1,bba2c96b3d7bfd0c834b53cb8ac5e7eb42502a7c,130e081298b0c1eaad7949ea244f470bb33ec006,1,15/02/16,15/02/16,11,GitConstructionTest: Open Git instance in try-with-resource,"GitConstructionTest: Open Git instance in try-with-resource

Change-Id: Iddf658acd1c78161d6028cfcfb7e5c73534ae40b
Signed-off-by: David Pursehouse <david.pursehouse@sonymobile.com>",0,0,0,1,0,0,1,0,0
66588,Ie4d0eb9c0fe1d8b8f41da161e701137cd7dd178f,https://git.eclipse.org/r/#/c/66588,1,130e081298b0c1eaad7949ea244f470bb33ec006,dcf25f52141d663b46cbc53e54c96f5db713fc32,0,15/02/16,15/02/16,23,ForPathTest: Open TreeWalk in try-with-resource,"ForPathTest: Open TreeWalk in try-with-resource

Change-Id: Ie4d0eb9c0fe1d8b8f41da161e701137cd7dd178f
Signed-off-by: David Pursehouse <david.pursehouse@sonymobile.com>",0,0,0,1,0,0,1,NA,NA
66589,If23597acaebf2295b85411bf87bc0292d5dc789e,https://git.eclipse.org/r/#/c/66589,1,dcf25f52141d663b46cbc53e54c96f5db713fc32,eeea501efac20062782ab2671e02b74cece34992,1,15/02/16,15/02/16,179,DirCacheIteratorTest: Open TreeWalk instances in try-with-resource,"DirCacheIteratorTest: Open TreeWalk instances in try-with-resource

Change-Id: If23597acaebf2295b85411bf87bc0292d5dc789e
Signed-off-by: David Pursehouse <david.pursehouse@sonymobile.com>",0,0,0,1,0,0,1,0,0
66590,Iacb4e25f0ada74b1a01e448216cb02c7ec18b2d7,https://git.eclipse.org/r/#/c/66590,1,eeea501efac20062782ab2671e02b74cece34992,d80459ebcdf65817d2c166e201e8283245eb1da0,1,15/02/16,15/02/16,123,DirCacheCheckoutMaliciousPathTest: Open Git and RevWalk in t-w-r,"DirCacheCheckoutMaliciousPathTest: Open Git and RevWalk in t-w-r

Change-Id: Iacb4e25f0ada74b1a01e448216cb02c7ec18b2d7
Signed-off-by: David Pursehouse <david.pursehouse@sonymobile.com>",0,0,0,1,0,0,1,0,0
66591,I81a8bd2aba7eb0a6efaea5d6f7720aa725052157,https://git.eclipse.org/r/#/c/66591,1,d80459ebcdf65817d2c166e201e8283245eb1da0,e6b512216ec3223cf6efe15dda2061b153cb246e,1,15/02/16,15/02/16,19,DirCacheCGitCompatabilityTest: Open TreeWalk in try-with-resource,"DirCacheCGitCompatabilityTest: Open TreeWalk in try-with-resource

Change-Id: I81a8bd2aba7eb0a6efaea5d6f7720aa725052157
Signed-off-by: David Pursehouse <david.pursehouse@sonymobile.com>",0,0,0,1,0,0,1,0,0
66592,I94836315918924cba9a2b5be6b9ae417cb2ad215,https://git.eclipse.org/r/#/c/66592,1,e6b512216ec3223cf6efe15dda2061b153cb246e,f6706b4a9a88d90a3ba8e7c40e0b40550d740dea,0,15/02/16,15/02/16,31,DirCacheBuilderIteratorTest: Open TreeWalk in try-with-resource,"DirCacheBuilderIteratorTest: Open TreeWalk in try-with-resource

Change-Id: I94836315918924cba9a2b5be6b9ae417cb2ad215
Signed-off-by: David Pursehouse <david.pursehouse@sonymobile.com>",0,0,0,1,0,0,1,NA,NA
66593,Ie4b3e5ad9616bc56b6d8d2476d1e6c6319c1a0aa,https://git.eclipse.org/r/#/c/66593,1,f6706b4a9a88d90a3ba8e7c40e0b40550d740dea,63cf6b8bf3549165ab5cc816f4550687eea1891e,1,15/02/16,15/02/16,8,DirCacheBasicTest: Open ObjectInserter.Formatter in try-with-resource,"DirCacheBasicTest: Open ObjectInserter.Formatter in try-with-resource

Change-Id: Ie4b3e5ad9616bc56b6d8d2476d1e6c6319c1a0aa
Signed-off-by: David Pursehouse <david.pursehouse@sonymobile.com>",0,0,0,1,0,0,1,0,0
66595,I98b770587aaf73744a93e6a3ee33d131a9fa91e9,https://git.eclipse.org/r/#/c/66595,1,63cf6b8bf3549165ab5cc816f4550687eea1891e,e208cc7e38df4078b3032e16513b7566d28378ad,1,15/02/16,15/02/16,23,DiffAlgorithms: Fix warnings about variable hiding,"DiffAlgorithms: Fix warnings about variable hiding

Local variables/parameters named 'db' and 'cmp' were hiding class
member variables of the same name.

Change-Id: I98b770587aaf73744a93e6a3ee33d131a9fa91e9
Signed-off-by: David Pursehouse <david.pursehouse@sonymobile.com>",0,0,0,0,0,0,0,0,0
66596,Id74694e18fec326df2b04eb796b46ccc6484b23f,https://git.eclipse.org/r/#/c/66596,1,e208cc7e38df4078b3032e16513b7566d28378ad,be308e2de6905eecbd5c9b1406869184ed53786d,1,15/02/16,15/02/16,2,"Suppress ""unchecked cast"" warnings related to UploadPackFactory.DISABLED","Suppress ""unchecked cast"" warnings related to UploadPackFactory.DISABLED

Change-Id: Id74694e18fec326df2b04eb796b46ccc6484b23f
Signed-off-by: David Pursehouse <david.pursehouse@sonymobile.com>",0,0,0,1,0,0,1,0,0
66598,I5a4a9b59f244c450dbcae9fdde7d9e0f0cd24e6f,https://git.eclipse.org/r/#/c/66598,2,be308e2de6905eecbd5c9b1406869184ed53786d,532ef743286ea72a043a6c01500278db28398f04,0,15/02/16,15/02/16,17,HugeFileTest: Make Git a class member and open in try-with-resource,"HugeFileTest: Make Git a class member and open in try-with-resource

There's only one test method in this module and it's quite long, so
rather than using a try-with-resource and having to indent a huge
block of existing code, make the Git a member variable that gets
initialised and closed in @Before and @After annotated methods.

The methods are named 'before' and 'after' rather than the conventional
'setUp' and 'tearDown' so as not to conflict with the names of the
existing methods in LocalDiskRepositoryTestCase.

Change-Id: I5a4a9b59f244c450dbcae9fdde7d9e0f0cd24e6f
Signed-off-by: David Pursehouse <david.pursehouse@sonymobile.com>",0,0,0,0,0,0,0,NA,NA
66601,Ic5ce6d220e3b644032819ce4b2f31c669be1cdb9,https://git.eclipse.org/r/#/c/66601,1,532ef743286ea72a043a6c01500278db28398f04,8ae32df360f78a05f19b7f8bc2c410bb6390b789,0,15/02/16,15/02/16,2,MockServletConfig: Fix warning about unchecked conversion of Enumeration,"MockServletConfig: Fix warning about unchecked conversion of Enumeration

Change-Id: Ic5ce6d220e3b644032819ce4b2f31c669be1cdb9
Signed-off-by: David Pursehouse <david.pursehouse@sonymobile.com>",0,0,0,1,0,0,1,NA,NA
66602,I1490b2209fa7b39676849c624adbc262a672f6df,https://git.eclipse.org/r/#/c/66602,1,8ae32df360f78a05f19b7f8bc2c410bb6390b789,1610f895bf3b8c78d85e772c96fc0138c93ee5e6,1,15/02/16,15/02/16,4,Fix warnings about unchecked conversion of MergeResult,"Fix warnings about unchecked conversion of MergeResult

Change-Id: I1490b2209fa7b39676849c624adbc262a672f6df
Signed-off-by: David Pursehouse <david.pursehouse@sonymobile.com>",0,0,0,1,0,1,1,0,0
66604,Ibc3e2f3372e1a65732dd6d3c71cec53fb1aa15e2,https://git.eclipse.org/r/#/c/66604,1,1610f895bf3b8c78d85e772c96fc0138c93ee5e6,35aea2c69518858f38ea44c5679a9a141d1de225,1,15/02/16,15/02/16,48,Don't use deprecated LockFile constructor,"Don't use deprecated LockFile constructor

Change-Id: Ibc3e2f3372e1a65732dd6d3c71cec53fb1aa15e2
Signed-off-by: David Pursehouse <david.pursehouse@sonymobile.com>",0,0,0,1,0,0,1,0,0
66658,Ie5dba6b9132a29e86958a04fa2b76465bcd2c6b5,https://git.eclipse.org/r/#/c/66658,1,1b3fa57f287c9ae876f04ebec3cee3dd2c648ec2,77400e43456e0895958129b34fe8eee42d89f606,0,15/02/16,15/02/16,0,Merge branch 'stable-4.2',"Merge branch 'stable-4.2'

* stable-4.2:
  Don't use deprecated LockFile constructor
  Fix warnings about unchecked conversion of MergeResult
  MockServletConfig: Fix warning about unchecked conversion of Enumeration
  HugeFileTest: Make Git a class member and open in try-with-resource
  Suppress ""unchecked cast"" warnings related to UploadPackFactory.DISABLED
  DiffAlgorithms: Fix warnings about variable hiding
  DirCacheBasicTest: Open ObjectInserter.Formatter in try-with-resource
  DirCacheBuilderIteratorTest: Open TreeWalk in try-with-resource
  DirCacheCGitCompatabilityTest: Open TreeWalk in try-with-resource
  DirCacheCheckoutMaliciousPathTest: Open Git and RevWalk in t-w-r
  DirCacheIteratorTest: Open TreeWalk instances in try-with-resource
  ForPathTest: Open TreeWalk in try-with-resource
  GitConstructionTest: Open Git instance in try-with-resource
  IndexDiffTest: Open Git instances in try-with-resources
  ManifestParserTest: Don't use deprecated StringBufferInputStream
  InMemoryRepository: Remove unused RevWalk from batch method signature
  IndexModificationTimesTest: Open Git instances in try-with-resource
  InterIndexDiffFilterTest: Open TreeWalk in try-with-resource
  LockFileTest: Open Git instance in try-with-resource
  JGit v4.1.2.201602141800-r
  MergeCommandTest: Use JUnit's assume to check preconditions
  MergeCommandTest: Open Git instances in try-with-resource

Change-Id: Ie5dba6b9132a29e86958a04fa2b76465bcd2c6b5
Signed-off-by: Matthias Sohn <matthias.sohn@sap.com>",1,0,0,0,0,0,1,NA,NA
66659,I54af657898d49f64d6906fe3edfb6b08e996d901,https://git.eclipse.org/r/#/c/66659,1,00b99a497b2ea419931d0971e61ffe561954320b,bc0da1d9012d57613f643da1600387838afacc39,1,15/02/16,16/02/16,4,"Revert ""Fix warnings about unchecked conversion of MergeResult""","Revert ""Fix warnings about unchecked conversion of MergeResult""

This reverts commit 979fa19110df0906a82e92e32d7d3ccf7eca3712.
Breaks API.

Change-Id: I54af657898d49f64d6906fe3edfb6b08e996d901",1,0,0,0,0,0,1,0,0
66660,I31c2e0679ad4cff77190858ac9a570d04841c386,https://git.eclipse.org/r/#/c/66660,1,d962eaa17be8c6655b4851b1685cce0b651a12d2,ab742e0efd2665f5d8571afc542364c0e399d7f1,0,16/02/16,16/02/16,0,Merge branch 'stable-4.2',"Merge branch 'stable-4.2'

* stable-4.2:
  Revert ""Fix warnings about unchecked conversion of MergeResult""

Change-Id: I31c2e0679ad4cff77190858ac9a570d04841c386
Signed-off-by: Matthias Sohn <matthias.sohn@sap.com>",1,0,0,0,0,0,1,NA,NA
66724,I8d96b064ec655aef64ac2ef3e01853625af32cd1,https://git.eclipse.org/r/#/c/66724,1,ab742e0efd2665f5d8571afc542364c0e399d7f1,45d11a3eb0aaebfefb77c8dc8362a31849c9b2eb,1,16/02/16,16/02/16,57,"smart HTTP server: Pass along ""want X not valid"" to client","smart HTTP server: Pass along ""want X not valid"" to client

If the client sends a SHA-1 that the server does not recognize echo
this back to the client with an explicit error message instead of
the generic ""internal server error"".

This was always the intent of the implementation but it was being
dropped on smart HTTP due to the UploadPackServlet catching the
PackProtocolException, discarding the buffered message UploadPack
meant to send, and sending along a generic message instead.

Change-Id: I8d96b064ec655aef64ac2ef3e01853625af32cd1",0,0,0,0,0,0,0,0,0
66726,I4b1adb7497f396432da420b0f600ad25a261f912,https://git.eclipse.org/r/#/c/66726,1,45d11a3eb0aaebfefb77c8dc8362a31849c9b2eb,6fd7f75bef749ae2144a8f0833bab493391da3b8,1,17/02/16,17/02/16,111,Introduce specific WantNotValidException for servers,"Introduce specific WantNotValidException for servers

Capture the internal ""want X not valid"" state as a specific subclass
of PackProtocolException, allowing this to be more easily identified
in server stack traces and wrapper application code.

Change-Id: I4b1adb7497f396432da420b0f600ad25a261f912",0,0,0,0,0,0,0,0,0
66876,I0294448965de8ad8c254b26382386ef2b9f6e863,https://git.eclipse.org/r/#/c/66876,1,6af75b93acf325a748f2b7f9f180b42d9506c977,85f460496207b88b45befeef76643397b3ba265d,0,18/02/16,18/02/16,3,Remove unused package export from bundle org.eclipse.jgit.lfs.test,"Remove unused package export from bundle org.eclipse.jgit.lfs.test

This may have caused the spurious compile errors sometimes observed in
Eclipse since org.eclipse.jgit.lfs.lib is a split package to enable
testing package private code in bundle org.eclipse.jgit.lfs.

Change-Id: I0294448965de8ad8c254b26382386ef2b9f6e863
Signed-off-by: Matthias Sohn <matthias.sohn@sap.com>",1,0,0,0,0,0,1,NA,NA
66881,I24cceef84a9351b84ca46635a3898de113f1046c,https://git.eclipse.org/r/#/c/66881,1,85f460496207b88b45befeef76643397b3ba265d,f26acbfcf9577b3901509585a4df7c3e8f831375,0,18/02/16,19/02/16,116,Add Neon target platform,"Add Neon target platform

Change-Id: I24cceef84a9351b84ca46635a3898de113f1046c
Signed-off-by: Matthias Sohn <matthias.sohn@sap.com>",1,0,0,1,0,0,1,NA,NA
66885,Ib6075af19be88fa418ecbe4dd7a217d9879e178a,https://git.eclipse.org/r/#/c/66885,1,f26acbfcf9577b3901509585a4df7c3e8f831375,1831ee6297ecaaa07f2fe4ff101f357f120c7a26,0,18/02/16,19/02/16,38,Remove the profiles for selecting the target platform,"Remove the profiles for selecting the target platform

Target platform can be configured directly, e.g.:
  $ mvn clean install -Dtarget-platform=jgit-4.6

Set the default to use the Mars target platform.

Change-Id: Ib6075af19be88fa418ecbe4dd7a217d9879e178a
Signed-off-by: Matthias Sohn <matthias.sohn@sap.com>",1,0,0,0,0,0,1,NA,NA
67334,I8e2013fff30b7bb198ff733c038e21366667b8a0,https://git.eclipse.org/r/#/c/67334,1,fd6bbb409ec3cb0be43886a6f304a57522d6ba64,0282d973c912ff7884ab0cb21a7bf86ee0859b33,0,25/02/16,26/02/16,2,Tests on Windows with URIish fail,"Tests on Windows with URIish fail

The reason is that URIish(URL) and URIish(String) make different parsing
of path / rawPath with regard to drive letters. /C:/... for URL and
C:/... for String. This patch fixes the issue.

Change-Id: I8e2013fff30b7bb198ff733c038e21366667b8a0
Signed-off-by: Ivan Motsch <ivan.motsch@bsiag.com>",0,0,0,0,0,0,0,NA,NA
67472,I81d7a643233386442bd31ee602669d2c88b68576,https://git.eclipse.org/r/#/c/67472,1,0282d973c912ff7884ab0cb21a7bf86ee0859b33,0ea3a484eb6207064053e23561ec4c50aa74c32f,0,26/02/16,26/02/16,18,Update Mars orbit repository to R20160221192158,"Update Mars orbit repository to R20160221192158

This version fixes signing of Apache httplclient.

Change-Id: I81d7a643233386442bd31ee602669d2c88b68576
Signed-off-by: Matthias Sohn <matthias.sohn@sap.com>",1,0,0,0,0,0,1,NA,NA
67634,I637ea55084a913f5105ebf4cf2baef8b81877938,https://git.eclipse.org/r/#/c/67634,1,50dce1caae14f53075c5f043d51d986a027004cf,212fd5087ac860ac369e750527b08d9757eac389,1,01/03/16,01/03/16,3,Fix help text for option --enable of command debug-rebuild-ref-tree,"Fix help text for option --enable of command debug-rebuild-ref-tree

This fixes a MissingResourceException thrown when executing
jgit debug-rebuild-ref-tree --help

Change-Id: I637ea55084a913f5105ebf4cf2baef8b81877938
Signed-off-by: Matthias Sohn <matthias.sohn@sap.com>",0,0,0,0,0,0,0,0,0
67848,I58dd6bcdef88820aa7de29761d43e2edfa18fcbe,https://git.eclipse.org/r/#/c/67848,1,345e07ed2635a39e2f17cf40faee3e43fa101f5e,55baddecf10327f64f6b9f1c888a736c0276810b,1,05/03/16,05/03/16,2,Fix RebuildRefTree trying to add HEAD twice to RefTree,"Fix RebuildRefTree trying to add HEAD twice to RefTree

14dfa70520 fixed the problem that HEAD wasn't added to the reftree when
rebuilding the reftree in an empty repository where HEAD isn't yet
resolvable. Since non-resolvable refs are filtered out by
RefDatabase.getRefs(ALL) we have to add HEAD to the reftree explicitly
in this special case.

This fix resulted in another bug: rebuilding the reftree in a repository
which has a resolvable HEAD failed with a DirCacheNameConflictException
in RefTree.apply(). If HEAD is resolvable RefDatabase.getRefs(ALL) does
not filter out HEAD. This results in two identical CREATE commands for
HEAD which RefTree.apply() refuses to execute.

Fix this by no longer creating a duplicate CREATE command for HEAD.

See: I46cbc2611b9ae683ef7319dc46af277925dfaee5
Change-Id: I58dd6bcdef88820aa7de29761d43e2edfa18fcbe
Signed-off-by: Matthias Sohn <matthias.sohn@sap.com>",0,0,0,0,0,0,0,0,0
67857,I6f05b10c9ac781f5e8b38af4a19e653313c91fa8,https://git.eclipse.org/r/#/c/67857,2,55baddecf10327f64f6b9f1c888a736c0276810b,049127f02e8fb517b38d89b3acbb22dad0b5b682,1,05/03/16,08/03/16,10,DirCacheTree#getObjectId is public,"DirCacheTree#getObjectId is public

We do some low-level integration of JGit in our project. We have quite
a few use cases where we handle TREEs and not BLOBs and are required to
know the ObjectId of these. We maintain the DirCaches already and would
like to retrieve this info directly from their instead of TreeWalking
the (huge!) repositories again. So if it was possible could we change
the visibility of DirCacheTree#getObjectId to public?

Change-Id: I6f05b10c9ac781f5e8b38af4a19e653313c91fa8
Signed-off-by: Philipp Marx <smigfu@googlemail.com>",0,0,1,0,0,0,1,0,0
67916,Ibf85defee28cdeec1e1463e596d0dcd03090dddd,https://git.eclipse.org/r/#/c/67916,5,9f44d019bb24d118109c2c0a575d1dd17e0ba5ee,b1f04d70e0b553655fcca495605f47eed5675af3,1,07/03/16,11/03/16,277,Introduce FileModeStrategy to FileTreeIterator,"Introduce FileModeStrategy to FileTreeIterator

This commit introduces a FileModeStrategy to
the FileTreeIterator class.  This provides a way to
allow different modes of traversing a file tree;
for example, to control whether or not a nested
.git directory should be treated as a gitlink.

Bug: 436200
Change-Id: Ibf85defee28cdeec1e1463e596d0dcd03090dddd
Signed-off-by: Preben Ingvaldsen <preben@puppetlabs.com>",0,1,1,0,0,0,1,0,0
68104,I5b3b7b0633354d5ccf0c6c320c0df9c93fdf8eeb,https://git.eclipse.org/r/#/c/68104,3,ed06185c3201c6fa3cf6bea037c1eacb752f3937,c37f27ed5cf5d0ee27ee28bba581d3b5a7284b7a,1,09/03/16,12/04/16,15,Modified CheckoutConflictException so that it saves the list of files which are conflicted.,"Modified CheckoutConflictException so that it saves the list of files which are conflicted.

Change-Id: I5b3b7b0633354d5ccf0c6c320c0df9c93fdf8eeb
Signed-off-by: Ned Twigg <ned.twigg@diffplug.com>",0,0,0,1,0,0,1,0,0
68240,I8b3765713599e34f1411f9bbc7f575ec7c2384e0,https://git.eclipse.org/r/#/c/68240,5,7c14fd6d808f6617fb3072b5f5fc4b3d25d7a085,568b5d7f1cbb99ae47a34555d15b6ff8f4e4c27e,1,11/03/16,11/03/16,52,Add ignoreRemoteFailures option to RepoCommand,"Add ignoreRemoteFailures option to RepoCommand

With ignoreRemoteFailures set to false, we can ignore remote failures
(e.g. the branch of a project described in the manifest file does not
exist), skip that project and continue to the next one, instead of fail
the whole operation.

Change-Id: I8b3765713599e34f1411f9bbc7f575ec7c2384e0
Signed-off-by: Yuxuan 'fishy' Wang <fishywang@google.com>",0,1,0,0,0,0,1,0,0
68258,Ia5c23b38c9fbbb46f150e527347b61c64c8d9e87,https://git.eclipse.org/r/#/c/68258,1,568b5d7f1cbb99ae47a34555d15b6ff8f4e4c27e,f3bdcb5c747cecdef1244cafe6df97cddbe9b145,1,11/03/16,11/03/16,2,Fix wrong whitespaces.,"Fix wrong whitespaces.

This change replaced some tabs with spaces introduced in
change I8b3765713599e34f1411f9bbc7f575ec7c2384e0.

Change-Id: Ia5c23b38c9fbbb46f150e527347b61c64c8d9e87
Signed-off-by: Yuxuan 'fishy' Wang <fishywang@google.com>",0,0,0,0,0,0,0,0,0
68260,If8dcc2dd6d7cabffc95e10f8357ce31c12cf6b1c,https://git.eclipse.org/r/#/c/68260,1,fe62428b5f9e0dfb8e8d0b3df10c4aca715b91af,bbc2b1d7d39120fabd70b19a73e174363f9ddc69,1,11/03/16,11/03/16,1,Add missing @Deprecated annotation,"Add missing @Deprecated annotation

Noticed by error-prone (http://errorprone.info/bugpattern/DepAnn).

Change-Id: If8dcc2dd6d7cabffc95e10f8357ce31c12cf6b1c",0,0,0,0,0,0,0,0,0
69053,I62298630e99c46b500d376843ffcde934436215b,https://git.eclipse.org/r/#/c/69053,1,96ee2aee4077117d27b6fcb7e0f4848af128c424,1408b5ca1214ca89abc645eae9a47cf915f6cdee,1,22/03/16,22/03/16,76,Make the FileLfsRepository thread safe,"Make the FileLfsRepository thread safe

The FileLfsRepository.out member could have been accessed from multiple
threads which would corrupt the content.

Don't store the AtomicObjectOutputStream in the FileLfsRepository.out but
move it to the ObjectUploadListener which is instantiated per-request.

Add a parallel upload test.

Change-Id: I62298630e99c46b500d376843ffcde934436215b
Signed-off-by: Saa ivkov <sasa.zivkov@sap.com>
Signed-off-by: Matthias Sohn <matthias.sohn@sap.com>",0,0,0,0,0,0,0,0,0
69115,I10835e5aa3618e5033424595942cc1649152cb24,https://git.eclipse.org/r/#/c/69115,1,c5795f1008cc417a0289422d3aecb861de5f45a3,721672c3eae4c61da82350dc818380abbb1ca92a,0,23/03/16,23/03/16,118,JGit v4.3.0.201603230630-rc1,"JGit v4.3.0.201603230630-rc1

Change-Id: I10835e5aa3618e5033424595942cc1649152cb24
Signed-off-by: Matthias Sohn <matthias.sohn@sap.com>",1,0,0,1,0,0,1,NA,NA
69340,I88b444b96e22743001b32824d8e4e03c2239aa86,https://git.eclipse.org/r/#/c/69340,2,3f184c419c57195fb01131f0f7541546be2d7775,d69ab885525deb225cb4f715549a3e2beff195e5,1,25/03/16,25/03/16,25,"In TestRepository, use a consistent clock","In TestRepository, use a consistent clock

The default author and committer objects in TestRepository were
initialized statically and did not use the MockSystemReader passed into
the TestRepository ctor. Make these fields non-static and initialize
them with a consistent clock.

Also make the author and commiter name and email strings public for
tests that want to verify against them.

Change-Id: I88b444b96e22743001b32824d8e4e03c2239aa86
Signed-off-by: Terry Parker <tparker@google.com>",0,0,0,0,0,0,0,0,0
69628,I6209efb05678b15153bd22479dc13486907a44f8,https://git.eclipse.org/r/#/c/69628,1,d69ab885525deb225cb4f715549a3e2beff195e5,76df0a44fd77b4a68b5a21db78ff8a679f18ebe9,1,31/03/16,06/04/16,86,Add config parameter gc.prunePackExpire for packfile expiration,"Add config parameter gc.prunePackExpire for packfile expiration

JGit's Garbage Collector is repacking relevant objects into new
packfiles and is afterwards deleting the now obsolete packfiles. But to
prevent problems caused by race conditions JGit was not deleting
packfiles when they are too young. The same mechanism as for loose
objects and the config parameter gc.pruneExpire was used.
But JGit was reusing the parameter gc.pruneExpire also for packfiles
which may cause a lot of filesystem consumption if gc.pruneExpire was
set to the default of 2 weeks. Only two weeks after packfile creation gc
was allowed to delete this packfile.

This change introduces a new config paramter gc.prunePackExpire with a
default of ""1.hour"". This parameter is used when packfiles are deleted.
Only packfiles older than the specified time can be deleted.

For loose objects the behaviour is not changed and only the old
parameter gc.pruneExpire is relevant. 

Change-Id: I6209efb05678b15153bd22479dc13486907a44f8",0,0,0,0,0,1,1,0,0
69841,I400a221048f0f6cbaa987350eaf998b0ebb50a4e,https://git.eclipse.org/r/#/c/69841,3,2bfcd25f33ce03693184f58a59627975296c0d21,b4e3dade10634138768cd5c10e38f7977e686761,1,04/04/16,01/07/16,78,Enhance test coverage when core.filemode is false,"Enhance test coverage when core.filemode is false

Some branches in Workingtree.getIndexFileMode() have not been covered by
tests. Enhance the tests to increase test coverage.

Change-Id: I400a221048f0f6cbaa987350eaf998b0ebb50a4e",0,0,1,0,0,1,1,1,1
69882,I8304e42df2d7e8d7925f515805e075a92ff6ce28,https://git.eclipse.org/r/#/c/69882,1,9b2d7ccf255d780254ea416eb192bf8303a4b43c,ec3c14cc02eb2c391531a5719988f1e93440de20,1,05/04/16,05/04/16,268,Implement DIR_NO_GITLINKS,"Implement DIR_NO_GITLINKS

Implement the DIR_NO_GITLINKS setting with the same functionality
it provides in cGit.

Bug: 436200
Change-Id: I8304e42df2d7e8d7925f515805e075a92ff6ce28
Signed-off-by: Preben Ingvaldsen <preben@puppetlabs.com>",0,0,0,0,0,1,1,2,1
69921,I5ff893054defe57ab12e201d901fe74e1376efea,https://git.eclipse.org/r/#/c/69921,3,33156d7aac5755896a8896b77548ff0627d80106,b1f7a33387c4dd0e2181e2868f5c90fd468aeecb,1,05/04/16,05/04/16,119,Enable calling of smudge filters when checking out paths,"Enable calling of smudge filters when checking out paths

When checking out commits/branches JGit was triggering correctly
configured smudge filters. But when checking out paths (either from
index or from commits) JGit was not triggering smudge filters. Fix
CheckoutCommand to properly call filters.

Bug: 486560
Also-by: Pascal Krause <pascal.krausek@sap.com>
Change-Id: I5ff893054defe57ab12e201d901fe74e1376efea",0,0,0,0,0,1,1,0,0
69961,Ib831f8870938113bd5338763f90a07d5c108b1de,https://git.eclipse.org/r/#/c/69961,1,feeffeeefbb3e71245f99fb7ebc25723bbe283f2,eb391ea262103155af14939ad117181755aa57dd,0,05/04/16,05/04/16,118,Prepare 4.3-SNAPSHOT builds,"Prepare 4.3-SNAPSHOT builds

Change-Id: Ib831f8870938113bd5338763f90a07d5c108b1de
Signed-off-by: Matthias Sohn <matthias.sohn@sap.com>",1,0,0,1,0,0,1,NA,NA
69964,I1a99a3ac2148693e21c57df5aeb848035b52b97b,https://git.eclipse.org/r/#/c/69964,5,b181b490a4e564753e61844a226fa655012739aa,5e36f0ee90ad6fe24cf7bd61025337fd2d064af8,0,05/04/16,02/05/16,38,Prepare Neon target platform,"Prepare Neon target platform

also use the Neon target platform as the default target platform

Change-Id: I1a99a3ac2148693e21c57df5aeb848035b52b97b
Signed-off-by: Matthias Sohn <matthias.sohn@sap.com>",1,1,0,0,0,0,1,NA,NA
70036,I7ac568e650fbd191e48a8f1a4068af72deb242e8,https://git.eclipse.org/r/#/c/70036,1,354b5762d0fd6522ea388d14e390c4ad72625426,32d053b5cabda1805e2c895993a84c33bb208dad,0,06/04/16,06/04/16,0,Merge branch 'master' into stable-4.3,"Merge branch 'master' into stable-4.3

* master:
  Add config parameter gc.prunePackExpire for packfile expiration
  In TestRepository, use a consistent clock

Change-Id: I7ac568e650fbd191e48a8f1a4068af72deb242e8
Signed-off-by: Matthias Sohn <matthias.sohn@sap.com>",1,0,0,0,0,0,1,NA,NA
70100,I9dc9d017806cba25125f69b53812cc3e062ef975,https://git.eclipse.org/r/#/c/70100,1,32d053b5cabda1805e2c895993a84c33bb208dad,4b8666ddb0cc01dae4291acdfb0e553e9ec61157,0,07/04/16,07/04/16,0,Merge branch 'master' into stable-4.3,"Merge branch 'master' into stable-4.3

* master:
  Remove repository from cache when it's closed
  Fix RefDirectory not closing resources
  Fix repository cache never closing repository

Change-Id: I9dc9d017806cba25125f69b53812cc3e062ef975
Signed-off-by: Matthias Sohn <matthias.sohn@sap.com>",1,0,0,0,0,0,1,NA,NA
70143,Iafab78d6be34d31a13f979b7be67611135c0f8bd,https://git.eclipse.org/r/#/c/70143,1,4b8666ddb0cc01dae4291acdfb0e553e9ec61157,e6fef430bab79a481f69b2c6efc0598e37deb7d3,0,07/04/16,07/04/16,118,JGit v4.3.0.201604071045-r,"JGit v4.3.0.201604071045-r

Change-Id: Iafab78d6be34d31a13f979b7be67611135c0f8bd
Signed-off-by: Matthias Sohn <matthias.sohn@sap.com>",1,0,0,1,0,0,1,NA,NA
70186,I902cdf1ff92ce8c6e9d80c4965d8d5bd8b9ac6c1,https://git.eclipse.org/r/#/c/70186,1,6e1dd666110c47edc541a2749859b215fd736c8f,945bd855838e5f7883eef84509576c58094e169c,0,07/04/16,07/04/16,118,JGit v4.3.0.201604071810-r,"JGit v4.3.0.201604071810-r

Change-Id: I902cdf1ff92ce8c6e9d80c4965d8d5bd8b9ac6c1
Signed-off-by: Matthias Sohn <matthias.sohn@sap.com>",1,0,0,1,0,0,1,NA,NA
70195,Iad7bbcaed1f11a6aa3b4f5af911a73a34c0fabfd,https://git.eclipse.org/r/#/c/70195,1,1553bdb5a640549898804c3d13c6716f50202089,7352e064a72068f37823a76c1dcd755fbce86065,1,07/04/16,07/04/16,4,Filter corrupt objects from DfsReader.selectObjectRepresentation(),"Filter corrupt objects from DfsReader.selectObjectRepresentation()

PackWriter.writeObject() can get into an infinite loop when corrupt
packs are present. When it finds a pack file with an object that can be
reused it calls DfsPackFile.copyAsIs(). If that method sees an invalid
CRC, it adds the object to the DfsPackFile's corrupt object list and
throws a CorruptObjectException, which it later catches as an
IOException and wraps in a
StoredObjectRepresentationNotAvailableException.
PackWriter.writeObjectImpl() catches that SORNAE and retries the
operation by calling DfsReader.selectObjectRepresentation(). But
currently that method returns the same object which was just seen to
be corrupt.

Change DfsPackFile.isCorrupt() from private to package private, and use
that method in DfsReader.selectObjectRepresentation() to filter out
corrupt objects.

The stack traces that show the problem are:
  org.eclipse.jgit.errors.CorruptObjectException.<init>(CorruptObjectException.java:113)
  org.eclipse.jgit.internal.storage.dfs.DfsPackFile.copyAsIs(DfsPackFile.java:624)
  org.eclipse.jgit.internal.storage.dfs.DfsReader.copyObjectAsIs(DfsReader.java:491)
  org.eclipse.jgit.internal.storage.pack.PackWriter.writeObjectImpl(PackWriter.java:1478)
  org.eclipse.jgit.internal.storage.pack.PackWriter.writeObject(PackWriter.java:1455)

  org.eclipse.jgit.internal.storage.dfs.DfsPackFile.getPackIndex(DfsPackFile.java:228)
  org.eclipse.jgit.internal.storage.dfs.DfsReader.findAllFromPack(DfsReader.java:476)
  org.eclipse.jgit.internal.storage.dfs.DfsReader.selectObjectRepresentation(DfsReader.java:455)
  org.eclipse.jgit.internal.storage.pack.PackWriter.writeObjectImpl(PackWriter.java:1492)
  org.eclipse.jgit.internal.storage.pack.PackWriter.writeObject(PackWriter.java:1455)

Change-Id: Iad7bbcaed1f11a6aa3b4f5af911a73a34c0fabfd
Signed-off-by: Terry Parker <tparker@google.com>",0,0,0,0,0,0,0,0,0
70241,I193c53de71fb5958ea749c4bfa8360a51acc9b58,https://git.eclipse.org/r/#/c/70241,3,17d9118d493fa29f2725268cc6fa6d64e8b316bd,4edfd52ccffc6edc572e695fa11f0a34957631d8,1,08/04/16,11/04/16,38,Fix CommitCommand to be able to skip writing to RefLog,"Fix CommitCommand to be able to skip writing to RefLog

CommitCommand already provided a method to set the comment which should
be written into the reflog. The underlying RefUpdate class supported to
skip writing a reflog entry. But through the CommitCommand API it was
not possible to prevent writing a reflog entry. Fix this and allow
creating commits which don't occur in the reflog.

Change-Id: I193c53de71fb5958ea749c4bfa8360a51acc9b58",0,0,1,0,0,1,1,0,0
70244,I52c98ba8fb3a303269a1f9380af114b6dd8c5009,https://git.eclipse.org/r/#/c/70244,1,e3b3cb04c9045d3b292149929524174ca2a7c99d,33b50e6b6cc456bb6cf9809969c43cf61bbd2245,0,08/04/16,08/04/16,602,Prepare 4.3.1-SNAPSHOT versions,"Prepare 4.3.1-SNAPSHOT versions

Change-Id: I52c98ba8fb3a303269a1f9380af114b6dd8c5009
Signed-off-by: Matthias Sohn <matthias.sohn@sap.com>",1,0,0,1,1,0,1,NA,NA
70255,I13d78fd57421cca32a965af37cc9571e77448e31,https://git.eclipse.org/r/#/c/70255,2,33b50e6b6cc456bb6cf9809969c43cf61bbd2245,e122fcbbcc4a394de7e1684fa8e609cd13cd1ed2,0,08/04/16,08/04/16,4,Add lfs libraries to scripts for upload to Maven central,"Add lfs libraries to scripts for upload to Maven central

Change-Id: I13d78fd57421cca32a965af37cc9571e77448e31
Signed-off-by: Matthias Sohn <matthias.sohn@sap.com>",1,0,0,1,0,0,1,NA,NA
70259,I985828fd379e4596ae7f1c30a87e55df06a7924e,https://git.eclipse.org/r/#/c/70259,1,73c9d9389e08e9518a492eb80a1a48a7cb7001ef,fe5c28b664439b0e211bea3e129cad08f29ec04d,0,08/04/16,08/04/16,602,Prepare 4.3.1-SNAPSHOT versions,"Prepare 4.3.1-SNAPSHOT versions

Change-Id: I985828fd379e4596ae7f1c30a87e55df06a7924e
Signed-off-by: Matthias Sohn <matthias.sohn@sap.com>",1,0,0,1,1,0,1,NA,NA
70261,Ieba46a2b12c893d6c626194310ab8dde5a2f1e6a,https://git.eclipse.org/r/#/c/70261,1,497d3e1638785d0a22779956469a3ac076f6d7b6,ff5a5c11d9cc68b3f6efdb69bb24486d2ad17e46,0,08/04/16,08/04/16,0,Merge branch 'stable-4.3',"Merge branch 'stable-4.3'

* stable-4.3:
  Add lfs libraries to scripts for upload to Maven central
  Prepare 4.3.1-SNAPSHOT versions

Change-Id: Ieba46a2b12c893d6c626194310ab8dde5a2f1e6a
Signed-off-by: Matthias Sohn <matthias.sohn@sap.com>",1,0,0,0,0,0,1,NA,NA
70267,If3162f4cc4ae6319b9f1e3293549485b039cfe7f,https://git.eclipse.org/r/#/c/70267,2,ff5a5c11d9cc68b3f6efdb69bb24486d2ad17e46,888ec07f287436d02d0dc4183812c494b43625c9,0,08/04/16,08/04/16,606,Prepare 4.4.0-SNAPSHOT builds,"Prepare 4.4.0-SNAPSHOT builds

Change-Id: If3162f4cc4ae6319b9f1e3293549485b039cfe7f
Signed-off-by: Matthias Sohn <matthias.sohn@sap.com>",1,0,0,1,1,0,1,NA,NA
70507,Ie0e1c515a823f2392783f1a47d385c31230e8167,https://git.eclipse.org/r/#/c/70507,4,647417cc9018b7bc19857fef7a6f463b4ed92271,865543156bc069a6362689036e88362cce11e116,1,12/04/16,20/05/16,136,added the option to retrieve only merges or only non-merges in the LogCommand. Additionally added a OnlyMergersFilter inner class as a sibling of NoMergesFilter class in the RevFilter.,"added the option to retrieve only merges or only non-merges in the
LogCommand. Additionally added a OnlyMergersFilter inner class as a
sibling of NoMergesFilter class in the RevFilter.


Change-Id: Ie0e1c515a823f2392783f1a47d385c31230e8167
Signed-off-by: Alcemir Santos <alcemir.santos@gmail.com>",0,1,0,1,0,0,1,0,0
70601,I492c18c3155dbf56eedda9044a61d76120fd75f9,https://git.eclipse.org/r/#/c/70601,4,900fd2f7144745eea6805a37dfb89aa08b8ad496,ee8f82cc4db93f285a939e258d8a761a02b6cae8,1,13/04/16,24/10/16,61,Make streamFileThreshold configurable,"Make streamFileThreshold configurable

Previously, the streamFileThreshold, the threshold at which
a file would be streamed rather than loaded entirely into memory,
was configurable, but only on a global basis.

This commit makes this threshold configurable on a per-loader
basis.

Bug: 490404
Change-Id: I492c18c3155dbf56eedda9044a61d76120fd75f9
Signed-off-by: Kevin Corcoran <kevin.corcoran@puppetlabs.com>",0,1,1,0,0,0,1,0,0
70701,Iac708b1db9d0ccce08c4ef5ace599ea0b57afdc0,https://git.eclipse.org/r/#/c/70701,3,081ea47090b371ef79927119a45e11b2b70992b1,8f99da6741024bd52e09e255f36e738700cac18e,1,14/04/16,15/04/16,174,Make UploadPack observe exceptions reading refs,"Make UploadPack observe exceptions reading refs

Now if refs are unreadable when serving an upload pack the handler
will fail due to the actual underlying failure. Previously all wants
would be rejected as invalid because Repository.getAllRefs() returned
an empty map.

Testing this required a new subclass of InMemoryRepository so that
an IOException could be injected at the correct time.

Signed-off-by: Michael Edgar <adgar@google.com>
Change-Id: Iac708b1db9d0ccce08c4ef5ace599ea0b57afdc0",0,0,0,0,0,0,0,0,0
70714,I68a2a051b39ec2c53cb7c4b8f6c596ba65eeba5d,https://git.eclipse.org/r/#/c/70714,7,66312d1b5209a780f4994319716ed25e11c701b5,97823cf0da9648a743084aebadefc1e01b43df09,1,14/04/16,23/10/16,218,[RFC] Implement auto gc,"[RFC] Implement auto gc

With the auto option, gc checks whether any housekeeping is required; if
not, it exits without performing any work. Some JGit commands run gc
--auto after performing operations that could create many loose objects.
Housekeeping is required if there are too many loose objects or too many
packs in the repository.

If the number of loose objects exceeds the value of the gc.auto option,
then all loose objects are combined into a single pack using repack -d
-l. Setting the value of gc.auto to 0 disables automatic packing of
loose objects.

If the number of packs exceeds the value of gc.autoPackLimit, then
existing packs (except those marked with a .keep file) are consolidated
into a single pack by using the -A option of repack. Setting
gc.autoPackLimit to 0 disables automatic consolidation of packs.

Like git the following jgit commands run auto gc:
- fetch
- merge
- rebase
- receive-pack

The auto gc for receive-pack can be suppressed by setting the config
option receive.autogc = false

Change-Id: I68a2a051b39ec2c53cb7c4b8f6c596ba65eeba5d
Signed-off-by: Matthias Sohn <matthias.sohn@sap.com>",0,1,1,0,0,0,1,0,0
70720,Ie49492c2bbe5c1db96ceb0dc06fa7cb9f927431a,https://git.eclipse.org/r/#/c/70720,2,fced40bf37bc3f974a9805c1b06e69b1c285872f,05538c1d30db8a45ec1fd82619e00f77da263e57,1,15/04/16,15/04/16,3,Fix Buck build broken by 4812fda.,"Fix Buck build broken by 4812fda.

Creates a source directory under org.eclipse.jgit.http.test
for the new support class.

Signed-off-by: Michael Edgar <adgar@google.com>
Change-Id: Ie49492c2bbe5c1db96ceb0dc06fa7cb9f927431a",0,0,0,0,0,0,0,0,0
70814,If491fe60678f050f86319388170ac789085fcf5f,https://git.eclipse.org/r/#/c/70814,2,860d9a5681119fa796c1c0d99d07212533ced956,17c8da3aa6c66c9a4ab76bc2a4b055cbad76d400,1,16/04/16,16/04/16,44,Fix RefsUnreadableInMemoryRepository,"Fix RefsUnreadableInMemoryRepository

- fix classpath for Eclipse
- add missing license header
- remove unused import

Change-Id: If491fe60678f050f86319388170ac789085fcf5f
Signed-off-by: Matthias Sohn <matthias.sohn@sap.com>",0,0,0,0,0,0,0,0,0
70819,I4f3deb5e5f41a08af965fcc178d678c77270cddb,https://git.eclipse.org/r/#/c/70819,1,592c4048d2d04c1f67b91ab878db0abbbaa7b974,ab7e82f84c9a23a8f37d76657e09dd7fa9cf0781,1,16/04/16,16/04/16,36,Fix ApplyCommand when result of patch is an empty file,"Fix ApplyCommand when result of patch is an empty file

Such hunks are identifiable by a zero value for ""new start line"". Prior
to the fix, JGit throws and ArrayIndexOutOfBoundsException on such
patches.

Change-Id: I4f3deb5e5f41a08af965fcc178d678c77270cddb
Signed-off-by: Jonathan Schneider <jkschneider@gmail.com>
Signed-off-by: Matthias Sohn <matthias.sohn@sap.com>",0,0,0,0,0,0,0,0,0
70833,Iab5608049221c46d06812552ab97299e44d59e64,https://git.eclipse.org/r/#/c/70833,3,ab7e82f84c9a23a8f37d76657e09dd7fa9cf0781,8caead1b360c0ac83d90ba0727141822491f1c61,1,18/04/16,22/04/16,56,"Fix calling of clean/smudge filters from Checkout,MergeCommands","Fix calling of clean/smudge filters from Checkout,MergeCommands

When CheckoutCommand or MergeCommand is called then not in all situation
the treewalks have been prepared to support clean/smudge filters. Fix
this

Bug: 491505
Change-Id: Iab5608049221c46d06812552ab97299e44d59e64",0,0,1,0,0,1,1,0,0
70961,I527923e282808c905ae9acd128ecc8a5b33d34c7,https://git.eclipse.org/r/#/c/70961,1,9e0237b8082e5e2999f5092782cab72844962dca,26f55389cf8402cd656e7722b03d3dc1b256167d,0,19/04/16,19/04/16,3,Add .buckd to .gitignore,"Add .buckd to .gitignore

Change-Id: I527923e282808c905ae9acd128ecc8a5b33d34c7",0,0,0,1,0,1,1,NA,NA
70962,I6df78d7df65ab147b4cce7764bd3101db985491c,https://git.eclipse.org/r/#/c/70962,2,26f55389cf8402cd656e7722b03d3dc1b256167d,ca9e956833a21f9163ad7fc962a9434a687d070e,1,19/04/16,19/04/16,82,Support per-BatchRefUpdate atomic transactions,"Support per-BatchRefUpdate atomic transactions

Repurpose RefDatabase#performsAtomicTransactions() slightly, to
indicate that the backend _supports_ atomic transactions, rather than
the current definition, which is that the backend always _uses_ atomic
transactions regardless of whether or not the caller actually wants
them. Allow BatchRefUpdate callers to turn off atomic transactions by
calling setAtomic(false). Defaulting to true means this is backwards
compatible.

Change-Id: I6df78d7df65ab147b4cce7764bd3101db985491c",0,0,0,0,0,1,1,0,0
71028,I01d438a5896f9b1008bd6b751ad9c7cbf780af1a,https://git.eclipse.org/r/#/c/71028,10,ca9e956833a21f9163ad7fc962a9434a687d070e,250088af3494337701a467aeeb558c53d1f79338,1,20/04/16,06/06/16,54,Bug 492057: https transport does not use authentication fallback,"Bug 492057: https transport does not use authentication fallback

  changed handling of authentication types. We now retry for all
  proposed authentication types.

Change-Id: I01d438a5896f9b1008bd6b751ad9c7cbf780af1a
Signed-off-by: Christian Pontesegger <christian.pontesegger@web.de>",0,1,0,0,0,0,1,0,0
71119,I3b6e21bf367ad1fb3598dc06b968aee6187d5aed,https://git.eclipse.org/r/#/c/71119,1,f28acd30507b1ba6b3dbcedf0d5b45e24a3fb111,d9a1e2a7ae19bf9c9193c73de3dedc3ba1c8e1f3,0,21/04/16,21/04/16,2,Update buck to e64a2e2ada022f81e42be750b774024469551398,"Update buck to e64a2e2ada022f81e42be750b774024469551398

To align with the version used in Gerrit's master build.

Change-Id: I3b6e21bf367ad1fb3598dc06b968aee6187d5aed
Signed-off-by: David Pursehouse <david.pursehouse@sonymobile.com>
Signed-off-by: David Pursehouse <david.pursehouse@gmail.com>",0,0,0,0,0,1,1,NA,NA
71240,Ibd120120a361a3a6ed565f3836afc1db706fbcdd,https://git.eclipse.org/r/#/c/71240,4,471de7700725b1ea306a000f1b7705b387057a48,ba1fb12d9105b9e0088f60d15fc983693edb1148,0,22/04/16,04/05/16,3,Scan loose refs before packed in case gc about to remove such loose,"Scan loose refs before packed in case gc about to remove such loose

Before this change, jgit used to read packed-refs before scanning
loose refs. That was not a problem if gc didn't run concurrently. When
gc did run concurrently with such refs reading, that order sometimes
broke the latter. This lead to reading an older version of a ref's
tip, which meant ""losing"" the real tip or commit. The specific
read-Vs-gc concurrency scenario which broke reading that way follows:

1. let ref R be in packed-refs and R' be in loose
2. jgit starts reading packed-refs
3. gc also starts its business around that very time
4. jgit still has the time to read R from packed-refs
5. as gc is not done yet updating packed-refs with R'
6. jgit then starts scanning loose refs (or is about to)
7. gc quickly ends up being done moving loose R' to packed-refs
8. so gc (quickly) removes loose refs
9. -while jgit is scanning loose refs, now gone
10. so jgit assumes no loose to consider => packed-refs wining
11. so jgit wrongfully returns R (from 4.) as the tip, instead of R'.

This fix switches the order so loose refs are scanned (secured) before
taking the time to read packed-refs. This way, knowledge of the
likelier tip is guaranteed for ref reading to return the true tip
- despite concurrent gc. If there is no loose ref to scan, jgit reads
packed-refs and lands on R' (or S), which it then returns, as
expected. The gerrit issue [1] should be solved by this fix.

[1] https://code.google.com/p/gerrit/issues/detail?id=2302

Change-Id: Ibd120120a361a3a6ed565f3836afc1db706fbcdd
Signed-off-by: Marco Miller <marco.miller@ericsson.com>",0,1,0,0,0,0,1,NA,NA
71358,If34ad8185dc8192435e622995fdca598b86add7e,https://git.eclipse.org/r/#/c/71358,2,16e9583750639d7abbb3483c0c8bd2af13d3167f,4f911ad2f9936e3ef5f17a8a943fc88282cfb3bd,1,25/04/16,28/04/16,98,"Add ObjectReader.Filter, like in ObjectInserter","Add ObjectReader.Filter, like in ObjectInserter

Change-Id: If34ad8185dc8192435e622995fdca598b86add7e",0,0,1,1,0,1,1,0,0
71359,Ibbf5d1968b506f6b47030ab1b046ffccb47352ea,https://git.eclipse.org/r/#/c/71359,4,a04263a4d79a683dada83aa614502cfbff3cb5e7,a6147b24c62e4e8c62331043871831d019aa253f,1,25/04/16,28/04/16,64,RFC: Expose the ObjectInserter that created an ObjectReader,"RFC: Expose the ObjectInserter that created an ObjectReader

We've found in Gerrit Code Review that it is common to pass around
both an ObjectReader (or more commonly a RevWalk wrapping one) and an
ObjectInserter. These code paths often assume that the ObjectReader
can read back any objects created by the ObjectInserter without
flushing. However, we previously had no way to enforce that constraint
programmatically, leading to hard-to-spot problems.

Provide a potential solution by exposing the ObjectInserter that
created an ObjectReader, when known. Callers can either continue
passing both objects and check:
  reader.getCreatedFromInserter() == inserter
or they can just pass around ObjectReader and extract the inserter
when it's needed (checking that it's not null at usage time).

Change-Id: Ibbf5d1968b506f6b47030ab1b046ffccb47352ea",0,1,1,0,0,1,1,0,0
71498,I9e1e2b0195bd61b7e531a09d0fc7bce109bd6515,https://git.eclipse.org/r/#/c/71498,1,4aa5710b30dfe8cd87c0b513e36c45eaff609061,da93096b0f1640a439d3eb1a34c68fea1ad3d862,1,27/04/16,27/04/16,6,Fix possible NPEs when reporting transport errors,"Fix possible NPEs when reporting transport errors

There was a bug in JGit which caused NPEs being thrown when Transport
errors should be reported. Avoid the NPE to let the original error show
up.

Change-Id: I9e1e2b0195bd61b7e531a09d0fc7bce109bd6515",0,0,0,0,0,1,1,0,0
71652,Idccfa0dfd6db324236f7cb26ab28bdbd80581a8b,https://git.eclipse.org/r/#/c/71652,2,ce1e1e0dde215a6f0b5d6071fafd8122789447c3,6ae301c75db2c7784ed1d887acd8b5c4d8442028,1,28/04/16,03/05/16,3,Config: Improve documentation for setStringList,"Config: Improve documentation for setStringList

Change-Id: Idccfa0dfd6db324236f7cb26ab28bdbd80581a8b
Signed-off-by: Stefan Beller <sbeller@google.com>",0,0,0,1,0,0,1,0,0
71653,I0f55b45786b6b8fc3d5be62d7f6aab9ac00ed60e,https://git.eclipse.org/r/#/c/71653,12,1d99f17d0e3e90fe7f9e54beb41575e4419618c4,6b8c7fbe91396be53b7d6a8e60a69e573723c19b,1,28/04/16,31/05/16,148,RepoCommand: record manifest groups as submodule labels,"RepoCommand: record manifest groups as submodule labels

Git submodule commands will soon have the ability to make a finer
selection on which submodules to operate on via labels to each submodule.

The RepoCommand which translates repo manifest files into submodules
should propagate this information along.

Change-Id: I0f55b45786b6b8fc3d5be62d7f6aab9ac00ed60e
Signed-off-by: Stefan Beller <sbeller@google.com>",0,1,0,0,0,0,1,0,0
71657,Ia017aded93d072bdb9947ec08c424256c3abe438,https://git.eclipse.org/r/#/c/71657,5,b473b1bc3047a409d6500f0fd998449702463021,2781d81cc72cbbcf10590a490ec6cc28d5828d24,1,29/04/16,26/05/16,5,Repo: remove --record-labels,"Repo: remove --record-labels

This function only works in bare mode, and the command line works in
non-bare mode, so there's no point in pretending to support it here.

Change-Id: Ia017aded93d072bdb9947ec08c424256c3abe438
Signed-off-by: Stefan Beller <sbeller@google.com>",0,1,0,0,0,0,1,0,0
71710,I081a603f0ac0e33167462244779b0ff3ad51e80c,https://git.eclipse.org/r/#/c/71710,2,f17d3e526e82a1f1140935195850cbc071d97010,0631c50e86d0bf44ab282479fdbb1597d69a5c4f,1,29/04/16,29/04/16,11,PersonIdent: Document that name and email aren't trimmed,"PersonIdent: Document that name and email aren't trimmed

This might be somewhat surprising behavior to users who might
naturally assume the following invariant:
  ident.equals(parseIdent(ident.toExternalString()))

This invariant does not hold since whitespace is only trimmed during
serialization. We don't want to mess with the strings during
initialization, as this is called during the highly-optimized commit
parsing codepath.

Change-Id: I081a603f0ac0e33167462244779b0ff3ad51e80c",0,0,0,0,0,1,1,0,0
71711,I96edcb93a2fc194ee354d60566d352299742a52f,https://git.eclipse.org/r/#/c/71711,2,58a7de6ead9dc263ac3355a949ca7d0d71547b80,7c73d4a8dc6ebf0e22521b72aecab34dc8208b35,1,29/04/16,29/04/16,82,PersonIdent: Strip some special chars from external strings,"PersonIdent: Strip some special chars from external strings

The special characters <> and '\n' interfere with parsing of
identities. C git strips these special characters, so we should too.

Rather than allocating extra strings by calling String#trim(), add a
few lines to our sanitization method to perform the same trimming as
described in String's Javadoc.

Change-Id: I96edcb93a2fc194ee354d60566d352299742a52f",0,0,0,0,0,1,1,0,0
71712,I453fa6ec337f81b2a52c4f51f23044faeec409e6,https://git.eclipse.org/r/#/c/71712,3,62ec421f768440bc580b6bfd4952ea82f50cd90e,b0567e440edb92babd5f248de27fb285b67731f8,1,29/04/16,18/05/16,46,Fix StashApply regarding handling of untracked files,"Fix StashApply regarding handling of untracked files

There was a bug regarding how JGit handled untracked files when applying
a stash. Problem was that untracked files are applied by doing a merge
of HEAD and untrackedFiles commit with a merge base of the stashed HEAD.
That's wrong because the untrackedFiles commit has no parent and
contains only the untracked files. Using stashed HEAD as merge base
leads to unneccessary conflicts on files not event included in the
untrackedFiles commit.

Imagine this graph directly before you want to apply a stash which was
based on 0. You want to apply the stash on current HEAD commit 5.

  5 (HEAD,master)
 /
0---+
 \   \
  1---3 (WIP on master)
     /
    2 (untracked files on master)

Imagine for a specific (tracked) file f
- commit 0 contains X
- HEAD contains Y
- commit 2 (the untracked files) does not contain file f

A merge of 2 and 5 with a merge base of 0 leads to a conflict. The 5
commit wants to modify the file and the 2 commit wants to delete the
file -> conflict.

If no merge base is set then the semantic is correct.

Thanks to Bow for finding this bug and providing the test case.

Bug: 485467
Also-by: Bow Ruggeri <bow@bow.net>
Change-Id: I453fa6ec337f81b2a52c4f51f23044faeec409e6",0,0,0,0,0,1,1,1,1
71758,I24848966b46f686f540a8efa8150b42e0d9c3ad1,https://git.eclipse.org/r/#/c/71758,3,a2bccac6f9bbcdbd49b1c225d5a9e4b5d629905a,15b0b1f6f95bcf8134afa2cca67c4884cfcc4bf2,1,02/05/16,17/05/16,71,Allow setting FileMode to executable when applying patches in ApplyCommand,"Allow setting FileMode to executable when applying patches in ApplyCommand

git-apply allows modifying file modes in patched files using either
""new mode"" or ""new file mode"" headers. This patch adds support for
setting files as executables and vice-versa.

Change-Id: I24848966b46f686f540a8efa8150b42e0d9c3ad1
Signed-off-by: Nadav Cohen <nadavcoh@gmail.com>",0,0,1,0,0,0,1,0,0
71936,Ic14e9f9c4bf007b464e463f5047ec5a8d0b9236c,https://git.eclipse.org/r/#/c/71936,3,86b0948f85bc1b69d0e84c5ae0142d04e2a860ea,0a245d407835e79743bccd546d982b472189f0c7,1,03/05/16,26/05/16,4,RepoCommandTest: Improve assertion message for remote branch recording,"RepoCommandTest: Improve assertion message for remote branch recording

Change-Id: Ic14e9f9c4bf007b464e463f5047ec5a8d0b9236c
Signed-off-by: Stefan Beller <sbeller@google.com>",0,0,1,1,0,0,1,0,0
71950,I337c90fff3c013819a42a7622ac6bacc72828c07,https://git.eclipse.org/r/#/c/71950,2,88552ef4fa157e89b36e949869ee1ea899707de1,d0e5d4c40d96da97e4996de4809226b15d45c973,1,03/05/16,03/05/16,14,PersonIdent: Make appendSanitized public,"PersonIdent: Make appendSanitized public

Change-Id: I337c90fff3c013819a42a7622ac6bacc72828c07",0,0,0,1,0,0,1,0,0
71982,I0344d3c54801c9a46e5a606c5df17e5f2e17b2be,https://git.eclipse.org/r/#/c/71982,11,d0e5d4c40d96da97e4996de4809226b15d45c973,9cf75c36d9c16582396f591819185fc471a8adc2,1,04/05/16,20/09/16,476,Add support for builtin clean filters,"Add support for builtin clean filters

JGit supports clean filters defined in repository configuration. The
filters are implemented as external programs filtering content by
accepting the original content (as seen in the working tree) on stdin
and which emit the filtered content on stdout. To run such a filter JGit
has start a external process and pump data into/from this process.

This commit adds support for builtin clean filters which are implemented
in java and which are executed by jgit's main thread. When a filter is
defined in the configuration as
""jgit://builtin/<filterDriverName>/clean"" then JGit will lookup in a
static map whether a builtin filter is registered under this name. If
found such a filter is called to do the filtering.

The functionality in this commit requires that a program using JGit
explicitly calls the JGit API to register builtin implementations for
specific clean filters. In follow-up commits configuration parameters
will be added which trigger such registrations. Other commits will add
builtin implementations for lfs clean filters.

Change-Id: I0344d3c54801c9a46e5a606c5df17e5f2e17b2be",0,1,1,0,0,1,1,0,0
71983,Ia743aa0dbed795e71e5792f35ae55660e0eb3c24,https://git.eclipse.org/r/#/c/71983,12,96f38576a170b1f2955452592fb0883aeba57c1d,458dbb781f8cfda0c0dbd633c40a2f04b879114f,1,04/05/16,20/09/16,207,WIP: Add support for builtin smudge filters,"WIP: Add support for builtin smudge filters

Change-Id: Ia743aa0dbed795e71e5792f35ae55660e0eb3c24",0,1,1,1,0,1,1,-1,0
71984,Idadb1db06b1e89e7031d7ed6319904973c367d38,https://git.eclipse.org/r/#/c/71984,12,7fc3eb812bfbbcd10d92ab2a89ac726f127cec63,56c44066001b37586051aa6a1bae38cad458136c,1,04/05/16,20/09/16,34,WIP: add configuration parameter switch to builtin hooks/filters,"WIP: add configuration parameter switch to builtin hooks/filters

Change-Id: Idadb1db06b1e89e7031d7ed6319904973c367d38",0,1,1,1,0,1,1,0,0
72047,Iad8696825bb81becab945cd9ed2c33bea3778e17,https://git.eclipse.org/r/#/c/72047,1,1fb5974b9e49a186455b6b31e5e17d07c3dbc505,cfbcefd2c7e5d5336c9ea987421481fd8a2c498a,0,04/05/16,04/05/16,3,Run Maven build in release.sh concurrently to speedup release,"Run Maven build in release.sh concurrently to speedup release

Change-Id: Iad8696825bb81becab945cd9ed2c33bea3778e17
Signed-off-by: Matthias Sohn <matthias.sohn@sap.com>",1,0,0,1,0,0,1,NA,NA
72048,Ic9b6d7dae293887c3ac3a11f92e153501abad1dc,https://git.eclipse.org/r/#/c/72048,1,cfbcefd2c7e5d5336c9ea987421481fd8a2c498a,750e6ac396685ac05c5620db2b98b1b92f9fff08,0,04/05/16,04/05/16,118,JGit v4.4.0.201605041135-m1,"JGit v4.4.0.201605041135-m1

Change-Id: Ic9b6d7dae293887c3ac3a11f92e153501abad1dc
Signed-off-by: Matthias Sohn <matthias.sohn@sap.com>",1,0,0,1,0,0,1,NA,NA
72088,Ib95be1300b1b95cc7e8153170d509282bdc4e328,https://git.eclipse.org/r/#/c/72088,1,750e6ac396685ac05c5620db2b98b1b92f9fff08,59e3c64d5a09046adf20ee67c280b15e99385252,0,04/05/16,04/05/16,118,Prepare 4.4.0-SNAPSHOT builds,"Prepare 4.4.0-SNAPSHOT builds

Change-Id: Ib95be1300b1b95cc7e8153170d509282bdc4e328
Signed-off-by: Matthias Sohn <matthias.sohn@sap.com>",1,0,0,1,0,0,1,NA,NA
72093,I0e4e6cef693e8138562f5ca345e0db61a8abef9c,https://git.eclipse.org/r/#/c/72093,1,91e120aa3bf1b949fdac423a7f0d51e051db4912,23eb58a37c7711a67b5c3811fa17bfa2d262682a,1,04/05/16,04/05/16,28,ReceivePack: Pass atomic setting from client to BatchRefUpdate,"ReceivePack: Pass atomic setting from client to BatchRefUpdate

Change-Id: I0e4e6cef693e8138562f5ca345e0db61a8abef9c",0,0,0,1,0,0,1,0,0
72109,Ie3b41f14ffba1d0b206ffecc697377417daa6973,https://git.eclipse.org/r/#/c/72109,1,27b32a73420a9812ea88c3190f9e4eb331a071db,5e1f092f411de6e40bcffdded788ac59c06f3b61,1,04/05/16,04/05/16,2,Make BaseReceivePack.setAtomic public,"Make BaseReceivePack.setAtomic public

This makes atomic more consistent with other properties like
allowNonFastForwards.

Change-Id: Ie3b41f14ffba1d0b206ffecc697377417daa6973",0,0,0,0,0,0,0,0,0
72111,Ib4841397ceab44bd38cf2f154314ac36ded73ae0,https://git.eclipse.org/r/#/c/72111,2,5e1f092f411de6e40bcffdded788ac59c06f3b61,e88f5f13983f0dc8a85bfd0a211fd73282ff4762,1,04/05/16,04/05/16,34,TestRepository: Add delete() method,"TestRepository: Add delete() method

Change-Id: Ib4841397ceab44bd38cf2f154314ac36ded73ae0",0,0,0,1,0,0,1,0,0
72112,I0dc76b7a8c87ce8e0386a1b9e0fa92a3aa62abf7,https://git.eclipse.org/r/#/c/72112,2,b382d0639de9cb4049368e94987c2af24b85ef2f,efe796f3330c3bb2be276d275d531f371370fb30,0,04/05/16,05/05/16,0,Merge branch 'stable-4.3',"Merge branch 'stable-4.3'

* stable-4.3:
  Scan loose ref before packed in case gc about to remove the loose
  Fix possible NPEs when reporting transport errors
  Fix calling of clean/smudge filters from Checkout,MergeCommands
  Fix ApplyCommand when result of patch is an empty file

Change-Id: I0dc76b7a8c87ce8e0386a1b9e0fa92a3aa62abf7
Signed-off-by: Matthias Sohn <matthias.sohn@sap.com>",1,0,0,0,0,0,1,NA,NA
72166,I9c13ddc572b8e94d5c7854f4de1f8206cb5e99ca,https://git.eclipse.org/r/#/c/72166,1,efe796f3330c3bb2be276d275d531f371370fb30,174ad070d016b7260c89a602ae75308b78f6b6bd,1,05/05/16,05/05/16,2,Fix type parameter in javadoc in TestRepository.delete(String ref),"Fix type parameter in javadoc in TestRepository.delete(String ref)

Type parameter T extends AnyObjectId in signature of update(String, T)

Change-Id: I9c13ddc572b8e94d5c7854f4de1f8206cb5e99ca
Signed-off-by: Matthias Sohn <matthias.sohn@sap.com>",0,0,0,0,0,0,0,0,0
72168,I25fb72cc17d7a27b0b69746d907dac9ccd4d7997,https://git.eclipse.org/r/#/c/72168,1,15d9ced939b56a61dbb38d57d0e97554153512cc,6a38b540cedf9aafb6bc509cd524a29fc5d79097,0,05/05/16,05/05/16,118,JGit v4.3.1.201605051710-r,"JGit v4.3.1.201605051710-r

Change-Id: I25fb72cc17d7a27b0b69746d907dac9ccd4d7997
Signed-off-by: Matthias Sohn <matthias.sohn@sap.com>",1,0,0,1,0,0,1,NA,NA
72296,Iccb24de9b63c3ad8646c909494ca3f8c9ed6e29c,https://git.eclipse.org/r/#/c/72296,4,1abaa583c871caa4be117754d04eda5865507228,e477b61b2099ce962cd387adfbba11fa71ab86a1,1,09/05/16,11/05/16,15,Fix config value get so it returns last instead of first -like git get,"Fix config value get so it returns last instead of first -like git get

Before this fix, getting the value of 'key' below used to return
value1. This fix makes it so that value3 gets returned instead, just
like native git's get.

[section]
  key = value1
  key = value2
  key = value3

Change-Id: Iccb24de9b63c3ad8646c909494ca3f8c9ed6e29c
Signed-off-by: Marco Miller <marco.miller@ericsson.com>",0,1,0,0,0,0,1,0,0
72315,Ib9f0ae8207000a36c5bf1a92fcc2c32efc4c0984,https://git.eclipse.org/r/#/c/72315,2,4454853206d3ba4dbf4d15de08cee23af6ac3985,f0fb34b414d7f84f7c45b24637263adce0b7a5db,1,09/05/16,11/05/16,19,Remove UTF-8 checking duplication in Config lib subclasses,"Remove UTF-8 checking duplication in Config lib subclasses

Change-Id: Ib9f0ae8207000a36c5bf1a92fcc2c32efc4c0984
Signed-off-by: Marco Miller <marco.miller@ericsson.com>",0,0,0,1,0,0,1,0,0
72365,I4dc57de77ab7838964e8fe3de1d50f28d67fcf4b,https://git.eclipse.org/r/#/c/72365,1,554b648218ee6d53a04a69621602ee96f02e1dd1,fa674d8e4e6aded05af5e8079db1b8450b5c16c1,0,10/05/16,11/05/16,44,Update Maven plugins,"Update Maven plugins

to the following versions:
build-helper-maven-plugin 1.10
eclipse-jarsigner-plugin 1.1.3
findbugs-maven-plugin 3.0.3
jacoco-maven-plugin 0.7.6.201602180812
maven-clean-plugin 3.0.0
maven-compiler-plugin 3.5.1
maven-javadoc-plugin 2.10.3
maven-pmd-plugin 3.6
maven-project-info-reports-plugin 2.9
maven-resources-plugin 2.7
maven-shade-plugin 2.4.3
maven-site-plugin 3.5.1
maven-source-plugin 3.0.0
maven-surefire-plugin 2.19.1
maven-surefire-report-plugin 2.19.1
tycho 0.25
tycho-extras 0.25
wagon-ssh 2.10

Change-Id: I4dc57de77ab7838964e8fe3de1d50f28d67fcf4b
Signed-off-by: Matthias Sohn <matthias.sohn@sap.com>",1,0,0,0,0,0,1,NA,NA
72444,I700bd7b7e1625eb7de0180f220c707d8e7b0930b,https://git.eclipse.org/r/#/c/72444,5,2b5c797b03854b33f3e3122f160a9595c110be49,e12c60ae67ae785b2f50550f1b5be6764564ae70,1,10/05/16,20/05/16,131,Support git config [include] section with absolute path(s),"Support git config [include] section with absolute path(s)

As per [1] but limited to absolute paths indeed. No support yet for
tilde or $HOME expansion. Support for the --[no-]includes options
([1]) not part of this commit scope either, but those options'
defaults are in effect as described in [1].

[1] https://git-scm.com/docs/git-config

Included path can be a config file that includes other path-s in turn.
An exception is thrown if too many recursions (circular includes)
happen because of ill-specified config files.

Change-Id: I700bd7b7e1625eb7de0180f220c707d8e7b0930b
Signed-off-by: Marco Miller <marco.miller@ericsson.com>",0,1,1,0,0,0,1,0,0
72569,I10e40589f13e72aacdd9f86f3b44696fd1cd068a,https://git.eclipse.org/r/#/c/72569,2,a2d64139c692c473e0b4bfce10f3b74fcb1a1cfd,0d27b452fc8a326dc86b777afaad7ab22dd31953,1,11/05/16,18/05/16,22,"GC should not pack objects only referenced by ORIG_HEAD,...","GC should not pack objects only referenced by ORIG_HEAD,...

There are references which are returned by
RefDatabase.getAdditionalRefs() which are allowed to point to
non-existing objects. These refs should not save objects from being
garbage collected. Examples for these references are ORIG_HEAD,
MERGE_HEAD, FETCH_HEAD and CHERRY_PICK_HEAD. Native git will not take
these references into account when doing a gc and therefore these
references may point to non-existing objects after a gc. Teach JGit's
GC to behave the same: ignore additional refs if they don't start with
""refs/"". Examples for refs returned by getAdditionalRefs() which do
start with ""refs/"" are the bootstrap refs when using reftree's (see
commit 115f1ad3974d1162b33d1c8eff466019d1f249f3). See also
http://article.gmane.org/gmane.comp.version-control.git/294126.

Bug: 479697
Change-Id: I10e40589f13e72aacdd9f86f3b44696fd1cd068a",0,0,1,0,0,1,1,0,0
73106,If1bc2001108091770bccee7fa59b0e7f5e3974d7,https://git.eclipse.org/r/#/c/73106,1,33a236ae63467b5dc12cb4f18fbcbc270c9385f5,a31ffb28090abacc041b7c505710f0e329a18f79,0,18/05/16,19/05/16,18,Update Orbit repository to S20160518051658 for Neon RC2,"Update Orbit repository to S20160518051658 for Neon RC2

Change-Id: If1bc2001108091770bccee7fa59b0e7f5e3974d7
Signed-off-by: Matthias Sohn <matthias.sohn@sap.com>",1,0,0,1,0,0,1,NA,NA
73136,I71997a8be83841765111cb7b55506bd8edd8adad,https://git.eclipse.org/r/#/c/73136,1,9e1b7e40f671b55f3aa26a0c667b054f1f5f2d10,3654114051581cc057657a695208dbdb8e87e9ea,0,19/05/16,19/05/16,602,Prepare 4.3.2-SNAPSHOT builds,"Prepare 4.3.2-SNAPSHOT builds

Change-Id: I71997a8be83841765111cb7b55506bd8edd8adad
Signed-off-by: Matthias Sohn <matthias.sohn@sap.com>",1,0,0,1,1,0,1,NA,NA
73161,I61fac639d4a4c95412eb41a0f9131d0c38aca794,https://git.eclipse.org/r/#/c/73161,2,f00ae4435205de0b9df59bf15ad17a958c5578c8,2b9f01196dca33231b756564ff8ce27b70e5fbf8,1,19/05/16,19/05/16,6,[findBugs] Fix calculation of host header in SignerV4,"[findBugs] Fix calculation of host header in SignerV4

We ignored the returned concatenation of host name and port number. Fix
this and use a StringBuilder to avoid creation of unnecessary String
objects.

Change-Id: I61fac639d4a4c95412eb41a0f9131d0c38aca794
Signed-off-by: Matthias Sohn <matthias.sohn@sap.com>",0,0,0,0,0,0,0,0,0
73163,I83102bbfb1316407247e0f29023077af9e8d9606,https://git.eclipse.org/r/#/c/73163,1,2b9f01196dca33231b756564ff8ce27b70e5fbf8,4cc3fbdb1ee5a6f8c7d67b16ea5f2247d823956b,1,19/05/16,19/05/16,2,[findBugs] Prevent potential NPE in FS_POSIX.readUmask(),"[findBugs] Prevent potential NPE in FS_POSIX.readUmask()

BufferedReader.readLine() returns null if the end of the stream has been
reached.

Change-Id: I83102bbfb1316407247e0f29023077af9e8d9606
Signed-off-by: Matthias Sohn <matthias.sohn@sap.com>",0,0,0,0,0,0,0,0,0
73168,I763d08835faf96a0beb8e706992df0908526bd2c,https://git.eclipse.org/r/#/c/73168,3,4cc3fbdb1ee5a6f8c7d67b16ea5f2247d823956b,cb70821531521cbe3c5280199da735623ba970df,1,19/05/16,30/05/16,14,[findBugs] Prevent potential NPE in CloneCommand.init(),"[findBugs] Prevent potential NPE in CloneCommand.init()

File.listFiles() returns null if the File is not a directory, improve
validation of directory and gitDir to fix this.

Change-Id: I763d08835faf96a0beb8e706992df0908526bd2c
Signed-off-by: Matthias Sohn <matthias.sohn@sap.com>",0,0,1,0,0,0,1,1,1
73171,I6f91997e8a976e5f4ace91c082d8b9adf1451adc,https://git.eclipse.org/r/#/c/73171,3,fd8d1623baa64746e7f09a38a3024cd86a3a3275,63a3ab1f5c6b8d5ba5bd0abc89721585dadf64c8,0,19/05/16,30/05/16,5,[findBugs] Prevent potential NPE in FileLfsRepository.getOutputStream(),"[findBugs] Prevent potential NPE in FileLfsRepository.getOutputStream()

Change-Id: I6f91997e8a976e5f4ace91c082d8b9adf1451adc
Signed-off-by: Matthias Sohn <matthias.sohn@sap.com>",0,0,1,1,0,0,1,NA,NA
73253,Iecf2b8deafc4991cc3333702fb9fa0638be7b914,https://git.eclipse.org/r/#/c/73253,2,ed94877f30027b54c8d04e6150aced176dd18228,35067a92edec798d855f80dd54549b22c0a8452f,1,20/05/16,31/05/16,116,Replace use of deprecated method Repository.getRef(),"Replace use of deprecated method Repository.getRef()

Change-Id: Iecf2b8deafc4991cc3333702fb9fa0638be7b914
Signed-off-by: Matthias Sohn <matthias.sohn@sap.com>",0,0,1,1,0,0,1,0,0
73275,Ibc78e9a058b7a32d536e03e294c1d933b6c26ba7,https://git.eclipse.org/r/#/c/73275,2,7f5572a33a106dc4eb4b6c9f8092a82c32ba8c37,e3a12a33ad9861c175327b9e25d4a1b5a8187bea,1,20/05/16,22/05/16,10,Redirect all Show output to outs,"Redirect all Show output to outs

See bug 494143: org.eclipse.jgit.pgm.Show writes to System.out
Signed-off-by: Rdiger Herrmann <ruediger.herrmann@gmx.de>
Change-Id: Ibc78e9a058b7a32d536e03e294c1d933b6c26ba7",0,0,0,0,0,0,0,0,0
73291,I1072a57b4c529ba3aaa50b7b02d2b816bb64a9b8,https://git.eclipse.org/r/#/c/73291,2,fe5c906c91c7709341d11821d59b974fb81452fd,afff24eb2042d63d32f774e47d1e171c8cb90e8a,1,20/05/16,23/05/16,135,Fix computation of id in WorkingTreeIterator with autocrlf and smudging,"Fix computation of id in WorkingTreeIterator with autocrlf and smudging

JGit failed to do checkouts when the index contained smudged entries and
autocrlf was on. In such cases the WorkingTreeIterator calculated the
SHA1 sometimes on content which was not correctly filtered. The SHA1 was
computed on content which two times went through a lf->crlf conversion.

We used to tell the treewalk whether it is a checkin or checkout
operation and always use the related filters when reading any content.
If on windows and autocrlf is true and we do a checkout operation then
we always used a lf->crlf conversion on any text content. That's not
correct. Even during a checkout we sometimes need the crlf->lf
conversion. E.g. when calculating the content-id for working-tree
content we need to use crlf->lf filtering although the overall operation
type is checkout.

Often this bug does not have effects because we seldom compute the
content-id of filesystem content during a checkout. But we do need to
know whether a file is dirty or not before we overwrite it during a
checkout. And if the index entries are smudged we don't trust the index
and compute filesystem-content-sha1's explicitly.

This caused EGit not to be able to switch branches anymore on windows
when autocrlf was true. EGit denied the checkout because it thought
workingtree files are dirty because content-sha1 are computed on wrongly
filtered content.

Bug: 493360
Change-Id: I1072a57b4c529ba3aaa50b7b02d2b816bb64a9b8",0,0,1,0,0,1,1,0,0
73351,Ia9b288b4fb34887e8f5e2f3f270e521c44d41b6a,https://git.eclipse.org/r/#/c/73351,2,16649516b80fe9edc1c3b6c9ecdc857a159bcc35,b163bb955e471e23eecb87a47cfa8f1af9c2ea4c,1,21/05/16,22/05/16,104,JGit CLI: allow to call git init with specific directory,"JGit CLI: allow to call git init with specific directory

With this change it is possible to initialize repositories with
'git init /path/to/new/repo'

Change-Id: Ia9b288b4fb34887e8f5e2f3f270e521c44d41b6a
Signed-off-by: Rdiger Herrmann <ruediger.herrmann@gmx.de>",0,0,0,0,0,0,0,0,0
73352,Ia6a56512baa6a0f27e2eef1b19ebb60291ba377f,https://git.eclipse.org/r/#/c/73352,2,6a94a3c975cc85e6c312004e01c808023597088e,3e5d0478b1e9a3805b1457f5b5f32d0e592000ec,1,21/05/16,23/10/16,4,Preserve backslashes within double quotes in CLIGitCommand::split(),"Preserve backslashes within double quotes in CLIGitCommand::split()

Change-Id: Ia6a56512baa6a0f27e2eef1b19ebb60291ba377f
Signed-off-by: Rdiger Herrmann <ruediger.herrmann@gmx.de>",0,0,1,1,0,0,1,0,0
73433,I8d6d65e4585ebb3846f7207e7d1a2f82fa9cbd86,https://git.eclipse.org/r/#/c/73433,3,c6bd5b2762afd81b96080b6653ada1830ffee226,89b4290c7d1a9c0fce76722a345615d70f06933f,1,23/05/16,30/05/16,95,Better report on client side if push failed due to too large object,"Better report on client side if push failed due to too large object

JGits PushCommand and BasePackPushConnection were throwing a generic
exception when the pushed pack-file was rejected by the server since it
contained too large objects. Teach JGit to better analyze the server's
response to detect this situation and throw a more specific exception.

Detect this situation by parsing the status line sent by the server.
This change only recognizes the response sent by a JGit based server.
All other servers which report such problems in a different way still
lead to a generic TransportExceptions.

Also see https://git.eclipse.org/r/#/c/46348/

Change-Id: I8d6d65e4585ebb3846f7207e7d1a2f82fa9cbd86
Signed-off-by: Matthias Sohn <matthias.sohn@sap.com>",0,0,1,0,0,0,1,0,0
73491,I829f06699f6670e519d04c927bdba4b82df29199,https://git.eclipse.org/r/#/c/73491,1,ccbc3d45c208435f57fb405d16b8fe8f85c47ed4,d68a8be1ce4ffeabea5120a36a1b6fa9d8a01823,0,24/05/16,24/05/16,607,Merge branch 'stable-4.3' into stable-4.4,"Merge branch 'stable-4.3' into stable-4.4

* stable-4.3:
  Fix computation of id in WorkingTreeIterator with autocrlf and
    smudging
  Prepare 4.3.2-SNAPSHOT builds
  JGit v4.3.1.201605051710-r
  Scan loose ref before packed in case gc about to remove the loose
  Fix possible NPEs when reporting transport errors
  Fix calling of clean/smudge filters from Checkout,MergeCommands
  Fix ApplyCommand when result of patch is an empty file

Change-Id: I829f06699f6670e519d04c927bdba4b82df29199
Signed-off-by: Matthias Sohn <matthias.sohn@sap.com>",1,0,0,0,1,0,1,NA,NA
73492,I5c9c5b7ccb23fb48b44b3da10b2c5d876d043d24,https://git.eclipse.org/r/#/c/73492,1,d68a8be1ce4ffeabea5120a36a1b6fa9d8a01823,f353676a445e4066bed6d89469e4b93bfc4c0bb8,0,24/05/16,24/05/16,0,Merge branch 'master' into stable-4.4,"Merge branch 'master' into stable-4.4

* master:
  JGit CLI: allow to call git init with specific directory
  Redirect all Show output to outs
  Support git config [include] section with absolute path(s)
  Added filter for merge and non-merges commits.
  [findBugs] Prevent potential NPE in FS_POSIX.readUmask()
  [findBugs] Fix calculation of host header in SignerV4
  Update Orbit repository to S20160518051658 for Neon RC2
  Fix StashApply regarding handling of untracked files
  GC should not pack objects only referenced by ORIG_HEAD,...
  Make sure to overwrite files when ""reset --hard"" detects conflicts
  Allow setting FileMode to executable when applying patches in 
    ApplyCommand
  Fix config value get to return last instead of 1st just like git
  Remove UTF-8 checking duplication in Config lib subclasses
  Update Maven plugins
  Fix type parameter in javadoc in TestRepository.delete(String ref)
  TestRepository: Add delete() method
  Make BaseReceivePack.setAtomic public
  ReceivePack: Pass atomic setting from client to BatchRefUpdate

Change-Id: I5c9c5b7ccb23fb48b44b3da10b2c5d876d043d24
Signed-off-by: Matthias Sohn <matthias.sohn@sap.com>",1,0,0,0,0,0,1,NA,NA
73595,I5e051a652848d8aae0d10c9e1bd42f6b320145f9,https://git.eclipse.org/r/#/c/73595,1,6cbc3d6c801075123a4b8e73a931ce2aa2d552ce,cadbac0191520365a41a223433202d2850abf530,0,25/05/16,25/05/16,6,Update Orbit repository for Neon to R20160520211859,"Update Orbit repository for Neon to R20160520211859

Change-Id: I5e051a652848d8aae0d10c9e1bd42f6b320145f9
Signed-off-by: Matthias Sohn <matthias.sohn@sap.com>",1,0,0,1,0,0,1,NA,NA
73601,Idd8e1664730b979cfbd9a2196081a48a1efa3330,https://git.eclipse.org/r/#/c/73601,1,cadbac0191520365a41a223433202d2850abf530,63e52aeb8962a2617ec50ef5ae16183a996cd6f5,0,25/05/16,25/05/16,118,JGit v4.4.0.201605250940-rc1,"JGit v4.4.0.201605250940-rc1

Change-Id: Idd8e1664730b979cfbd9a2196081a48a1efa3330
Signed-off-by: Matthias Sohn <matthias.sohn@sap.com>",1,0,0,1,0,0,1,NA,NA
73668,Iba6e423294d3315465648d19087a674a73b5ef28,https://git.eclipse.org/r/#/c/73668,1,63e52aeb8962a2617ec50ef5ae16183a996cd6f5,8a95535b63f1343587c3e7fe32c34721d911b4ae,0,25/05/16,25/05/16,118,Prepare 4.4.0-SNAPSHOT builds,"Prepare 4.4.0-SNAPSHOT builds

Change-Id: Iba6e423294d3315465648d19087a674a73b5ef28
Signed-off-by: Matthias Sohn <matthias.sohn@sap.com>",1,0,0,1,0,0,1,NA,NA
73745,I47ba1eeb9bcf0cb93d2ed105d84fea2dac756a5a,https://git.eclipse.org/r/#/c/73745,4,8a95535b63f1343587c3e7fe32c34721d911b4ae,aa610ca011944124a7ee402485001fee19dd28cc,1,26/05/16,15/07/16,33,RefDirectory: remove ref lock file for following ref dir removal,"RefDirectory: remove ref lock file for following ref dir removal

Before this fix, ref directory removal did not work. That was because
the ref lock file was still in the leaf directory at deletion time.
Hence no deep ref directories were ever deleted, which negatively
impacted gc performance under large directory structure circumstances.

This fix removes the ref lock file before attempting to delete the ref
directory (which includes it); applies to the leaf directory solely.
The other deep parent directories are therefore now successfully
deleted in turn, since leaf's content (lock file) gets removed first.

The ref lock file is still also removed in the calling block's finally
clause, just in case, as before. Such double-unlock brought by this
fix is harmless (a no-op).

A new (private) RefDirectory#delete method is introduced to support
this gc-specific case; other RefDirectory#delete callers remain
untouched.

Change-Id: I47ba1eeb9bcf0cb93d2ed105d84fea2dac756a5a
Signed-off-by: Marco Miller <marco.miller@ericsson.com>",0,1,0,0,0,0,1,0,0
73840,I51aa9cb6d1d9660dae6ab6d21ad7bae9bc5325e6,https://git.eclipse.org/r/#/c/73840,7,2b3472d8b245815a452c6c3686b657af155f877e,ae53dae59c21205e07ac919f02f029b4e5194b61,1,27/05/16,31/05/16,109,RepoCommand: record manifest shallow recommendation in .gitmodules,"RepoCommand: record manifest shallow recommendation in .gitmodules

Change-Id: I51aa9cb6d1d9660dae6ab6d21ad7bae9bc5325e6
Signed-off-by: Stefan Beller <sbeller@google.com>",0,1,1,1,0,0,1,0,0
74090,I90c0fc17be4891545b097a49763b0f0c202cc004,https://git.eclipse.org/r/#/c/74090,1,1b9b9424e23a9195a9db2f535cab37acc354ab8a,9f9646c278550c433fccc4a02c0e30823e039f23,1,31/05/16,31/05/16,11,Remove the deprecated TestRepository.getClock() method,"Remove the deprecated TestRepository.getClock() method

Gitles was the holdout and TestRepository.getClock() was removed via:
https://gerrit.googlesource.com/gitiles/+/f10481d8384d1695e6981b805c4e5e462e4b71ea

Change-Id: I90c0fc17be4891545b097a49763b0f0c202cc004
Signed-off-by: Terry Parker <tparker@google.com>",0,0,0,0,0,0,0,0,0
74185,I2d17115843e453c71febd4a58527effe658b48fd,https://git.eclipse.org/r/#/c/74185,2,ebb1171de7295e340ede7bf9a9329be427a568d9,306735b3d2aa1ea6844a31fb1b53ae4aa5efaf56,1,01/06/16,01/06/16,11,Fix javadoc errors and unused imports introduced by ddd0fe25,"Fix javadoc errors and unused imports introduced by ddd0fe25

Change-Id: I2d17115843e453c71febd4a58527effe658b48fd
Signed-off-by: Matthias Sohn <matthias.sohn@sap.com>",0,0,0,1,0,0,1,0,0
74239,I4fbce4f84925a933fcc9a48058ed6793f5821b97,https://git.eclipse.org/r/#/c/74239,1,1a09fba38490de0a4fc9609c83a5b1fe7a7805bd,40fb20675edc7dd81c21e4d09bf8024f809297b6,0,01/06/16,01/06/16,0,Merge branch 'master' into stable-4.4,"Merge branch 'master' into stable-4.4

* master:
  Fix javadoc errors and unused imports introduced by ddd0fe25
  RepoCommand: record manifest shallow recommendation in .gitmodules
  RepoCommand: record manifest groups as submodule labels
  Remove the deprecated TestRepository.getClock() method
  Replace use of deprecated method Repository.getRef()
  [findBugs] Prevent potential NPE in
    FileLfsRepository.getOutputStream()
  Better report on client side if push failed due to too large object
  [findBugs] Prevent potential NPE in CloneCommand.init()
  RepoCommand: remove --record-remote-branches
  RepoCommandTest: Improve assertion message for remote branch recording

Change-Id: I4fbce4f84925a933fcc9a48058ed6793f5821b97
Signed-off-by: Matthias Sohn <matthias.sohn@sap.com>",0,0,0,0,0,0,0,NA,NA
74298,Ifd7b7baba7d676a630e2f742d369c4186ea450a6,https://git.eclipse.org/r/#/c/74298,1,9d9bce4e09a1aca84d02886f4d38607bc00139c8,1c327e2d254c275fbc5ea188fd10a7ab71d4a6c7,0,01/06/16,01/06/16,118,JGit v4.4.0.201606011500-rc2,"JGit v4.4.0.201606011500-rc2

Change-Id: Ifd7b7baba7d676a630e2f742d369c4186ea450a6
Signed-off-by: Matthias Sohn <matthias.sohn@sap.com>",1,0,0,1,0,0,1,NA,NA
74301,I25a9b294084f7b9769efa67001a4973647da4079,https://git.eclipse.org/r/#/c/74301,4,5dc601d5d1b8c62a31393af1ee05c3415390f97a,8c68163220f5c95d10562760de34b0b55f46d9ae,1,01/06/16,02/06/16,1,Add missing @test annotation in RepositoryCacheTest,"Add missing @test annotation in RepositoryCacheTest

Change-Id: I25a9b294084f7b9769efa67001a4973647da4079
Signed-off-by: Hugo Ars <hugo.ares@ericsson.com>",0,1,0,1,0,0,1,0,0
74309,Ie5ffcbf18233dc9b3eb232f714b5b58b6b93f4e0,https://git.eclipse.org/r/#/c/74309,2,f070211671ef1056a4c95ba896111405e3bd0f0d,32eb04bcfcf76461f33ed8c729d3e3ef7a8ec4b9,1,01/06/16,02/06/16,2,Add missing @Test annotations,"Add missing @Test annotations

Also fix one assert in NoteMapTest.testShorteningNoteRefName test case.

Change-Id: Ie5ffcbf18233dc9b3eb232f714b5b58b6b93f4e0
Signed-off-by: Hugo Ars <hugo.ares@ericsson.com>",0,0,0,0,0,0,0,0,0
74315,Ib41dfe4103f013ba87a1ce62ee24bc9e10300eff,https://git.eclipse.org/r/#/c/74315,1,c9ec6413d24949c5e68e7cf7057639faae092032,a72350b184dca4e984fb86fd661d1ace5f6c0522,0,01/06/16,01/06/16,118,Prepare 4.4.0-SNAPSHOT builds,"Prepare 4.4.0-SNAPSHOT builds

Change-Id: Ib41dfe4103f013ba87a1ce62ee24bc9e10300eff
Signed-off-by: Matthias Sohn <matthias.sohn@sap.com>",1,0,0,1,0,0,1,NA,NA
74323,Ic97f5f01657b4525f157e6df66023f1f07fc1851,https://git.eclipse.org/r/#/c/74323,2,683578f84a12a7b72c8911de097167271f140f4e,a316331a66c046c6a37442d5fc3d2bf78f0f1761,1,01/06/16,01/06/16,43,RFC: DfsInserter: Optionally disable existing object check,"RFC: DfsInserter: Optionally disable existing object check

When using a DfsInserter for high-throughput insertion of many
objects (analogous to git-fast-import), we don't necessarily want to
do a random object lookup for each. It'll be faster from the
inserter's perspective to insert the duplicate objects and let a later
GC handle the deduplication.

Change-Id: Ic97f5f01657b4525f157e6df66023f1f07fc1851",0,0,0,0,0,1,1,0,0
74332,I572fe9fea0e5ca0bec4648c916ae95a5b1ccf125,https://git.eclipse.org/r/#/c/74332,1,e8e578a0311df1ea9b6f360e86bb037d6b4d8319,2f02558d2b20837a47dee292d7c915fc9f0c8f20,0,01/06/16,01/06/16,608,Prepare 4.5.0-SNAPSHOT builds,"Prepare 4.5.0-SNAPSHOT builds

Change-Id: I572fe9fea0e5ca0bec4648c916ae95a5b1ccf125
Signed-off-by: Matthias Sohn <matthias.sohn@sap.com>",1,0,0,1,1,0,1,NA,NA
74342,I64ed2a471520e48283675c6210c6db8a60634635,https://git.eclipse.org/r/#/c/74342,1,415d0a48d344972ea771faa05467ab5bf9bc5fd9,2ef4b9bc6c1edbb5abae87eb6eb219eb853c1fe9,1,02/06/16,02/06/16,12,DfsBlock: throw DataFormatException on 0 bytes,"DfsBlock: throw DataFormatException on 0 bytes

setInput should always push at least 1 byte into the Inflater.  If 0
bytes (or negative!) are being sent the DfsBlock is inconsistent with
the position passed in.  This indicates a severe programming problem
in the caller, and may cause an infinite loop in DfsReader.

Today we saw a handful of live examples of this but don't know what
the cause is.  Guard against this error condition and throw with a
more verbose failure, which may prevent an infinite loop.  Callers
will eventually catch DataFormatException and rethrow with more detail
about the object that cannot be inflated, with the DFE in the chain.

Change-Id: I64ed2a471520e48283675c6210c6db8a60634635",0,0,0,0,0,0,0,0,0
74430,I359f33af5aa84af77c3628e6cd9a5ee3f7f38d49,https://git.eclipse.org/r/#/c/74430,1,c703c06316cfb0eb1e5601a56dfcf0441e06aff9,4ba56ea8d41988d1c125c4aad1e54062720bc5b0,1,02/06/16,02/06/16,6,BatchRefUpdate: Include command message in toString(),"BatchRefUpdate: Include command message in toString()

Change-Id: I359f33af5aa84af77c3628e6cd9a5ee3f7f38d49",0,0,0,1,0,0,1,0,0
74528,I2d6564ff656b6ab9424a9360624061c94fd5f413,https://git.eclipse.org/r/#/c/74528,2,762bd741d57807cf89bc6958d9ccc2eb790e3edd,36e083c48c8f6c6f70c0e977270a981b6cd105ae,1,03/06/16,10/06/16,219,Add method to read time unit from config,"Add method to read time unit from config

Time units supported:

-milliseconds (1 ms, 2 milliseconds)
-seconds (1 s, 1 sec, 1 second, 2 seconds)
-minutes (1 m, 1 min, 1 minute, 2 minutes)
-hours (1 h, 1 hr, 1 hour, 2 hours)
-days (1 d, 1 day, 2 days)
-weeks (1 w, 1 week, 2 weeks)
-months (1 mon, 1 month, 2 months)
-years (1 y, 1 year, 2 years)

This functionality is implemented in Gerrit ConfigUtil class. Add it to
JGit so it can eventually be remove from Gerrit.

Change-Id: I2d6564ff656b6ab9424a9360624061c94fd5f413
Signed-off-by: Hugo Ars <hugo.ares@ericsson.com>",0,0,1,0,0,0,1,1,1
74561,I1643775c6b200a5963ac1a6ca9b4d6e807e0b45a,https://git.eclipse.org/r/#/c/74561,1,a9b4f26f54fc78abdceec69c739b99fb81f40fb3,9a25b02bef818928753b0580038de8103abcdaf8,1,03/06/16,05/06/16,4,"Add $NON-NLS to suppress ""Non-externalized string literal"" warnings","Add $NON-NLS to suppress ""Non-externalized string literal"" warnings

Change-Id: I1643775c6b200a5963ac1a6ca9b4d6e807e0b45a
Signed-off-by: Hugo Ars <hugo.ares@ericsson.com>",0,0,0,1,0,0,1,0,0
74570,I6797e50681054dce3bd179e80b731aef5e200d77,https://git.eclipse.org/r/#/c/74570,49,61febf37c6a9b713dd3f3bd9d11ae5e38166dded,8647c36beea88a02826100729977fbcefe049701,1,03/06/16,22/07/16,617,Preliminary implementation of option strings,"Preliminary implementation of option strings

Change-Id: I6797e50681054dce3bd179e80b731aef5e200d77
Signed-off-by: Dan Wang <dwwang@google.com>",0,1,0,1,1,0,1,0,0
74764,I5c771a62ac0420424a655a4025c62a4bc28dc44e,https://git.eclipse.org/r/#/c/74764,1,aaca6a60e45243383e616b4f386e56f00d80aa70,786e214d5595ea4a42de187544ecea7cc5d00a9e,0,07/06/16,07/06/16,118,JGit v4.4.0.201606070830-r,"JGit v4.4.0.201606070830-r

Change-Id: I5c771a62ac0420424a655a4025c62a4bc28dc44e
Signed-off-by: Matthias Sohn <matthias.sohn@sap.com>",1,0,0,1,0,0,1,NA,NA
74800,I4fe1c84b1418126f5b245b8a4f72bb7e37f48eae,https://git.eclipse.org/r/#/c/74800,1,caa76951629dd19c2aa1f69aadeaa72eb10aac5c,024ee1ed025a6e90fa232d744c39ec74cbede9a8,0,07/06/16,07/06/16,608,Prepare 4.4.1-SNAPSHOT builds,"Prepare 4.4.1-SNAPSHOT builds

Change-Id: I4fe1c84b1418126f5b245b8a4f72bb7e37f48eae
Signed-off-by: Matthias Sohn <matthias.sohn@sap.com>",1,0,0,1,1,0,1,NA,NA
74903,I28f7800030a3b9db48e315061509af0746feffcc,https://git.eclipse.org/r/#/c/74903,1,8d56317c3591b80aee09c70eca17bc9958e1ea2c,934bb8ba00ab9fd78ae5b7381e26234f03e84e27,1,08/06/16,21/06/16,148,Extract work queue to allow reusing it,"Extract work queue to allow reusing it

Change-Id: I28f7800030a3b9db48e315061509af0746feffcc
Signed-off-by: Matthias Sohn <matthias.sohn@sap.com>",0,0,1,1,0,0,1,0,0
74904,I4a0214ad8b4a193985dda6a0ade63b70bdb948d7,https://git.eclipse.org/r/#/c/74904,9,934bb8ba00ab9fd78ae5b7381e26234f03e84e27,c95aadaa5cd8d1c759c95e5e50b203ae31b1d101,1,08/06/16,12/07/16,432,WIP: time based eviction strategy for repository cache,"WIP: time based eviction strategy for repository cache

When Repository.close() decrements the useCount to 0 currently the cache
immediately evicts the repository from WindowCache and RepositoryCache.
This leads to I/O overhead on busy repositories because pack files and
references are inserted and deleted from the cache frequently.

This commit defers the eviction of a repository from the caches until
last use of the repository is older than time to live. The eviction is
handled by a background task running periodically.

Change-Id: I4a0214ad8b4a193985dda6a0ade63b70bdb948d7
Also-by: Matthias Sohn <matthias.sohn@sap.com>
Also-by: Hugo Ars <hugo.ares@ericsson.com>",0,1,0,0,0,0,1,0,0
75051,I7c439ab7679472217426453bd0a7c443ebd4b009,https://git.eclipse.org/r/#/c/75051,1,f795750b06769af65f070df5683ea71edc9b091a,651dbc07f04fdaf6726ee21904d01e7ecafd5cfd,0,10/06/16,10/06/16,10,Update Neon orbit repository to final release R20160520211859,"Update Neon orbit repository to final release R20160520211859

Change-Id: I7c439ab7679472217426453bd0a7c443ebd4b009
Signed-off-by: Matthias Sohn <matthias.sohn@sap.com>",1,0,0,1,0,0,1,NA,NA
75198,I25ef0497a4455b8229b453e1023abb4631d4b6d3,https://git.eclipse.org/r/#/c/75198,1,30f011a8150ddc4da7fd05948bfa8cb9188a22a7,de57848e47e487b77c05227dfb5f95370f3ec65a,0,13/06/16,13/06/16,616,Merge branch 'stable-4.4',"Merge branch 'stable-4.4'

* stable-4.4:
  Prepare 4.4.1-SNAPSHOT builds
  JGit v4.4.0.201606070830-r
  Prepare 4.4.0-SNAPSHOT builds
  JGit v4.4.0.201606011500-rc2
  Prepare 4.4.0-SNAPSHOT builds
  JGit v4.4.0.201605250940-rc1
  Update Orbit repository for Neon to R20160520211859
  Fix computation of id in WorkingTreeIterator with autocrlf and 
    smudging
  Prepare 4.3.2-SNAPSHOT builds
  JGit v4.3.1.201605051710-r
  Prepare 4.4.0-SNAPSHOT builds
  JGit v4.4.0.201605041135-m1
  Run Maven build in release.sh concurrently to speedup release

Change-Id: I25ef0497a4455b8229b453e1023abb4631d4b6d3
Signed-off-by: Matthias Sohn <matthias.sohn@sap.com>",1,0,0,0,1,0,1,NA,NA
75346,I7285d0e7abb6389ba6983e9c46021bea4344af68,https://git.eclipse.org/r/#/c/75346,4,6c0126ec555a97bc5ad278932a083cecbe2d170d,8ca14d845e8e29d6ef9c4965703d491da7f8cbee,1,15/06/16,08/07/16,40,Config load should not fail on unsupported or nonexistent include path,"Config load should not fail on unsupported or nonexistent include path

1f86350 added initial support for include.path. Relative path and path
with tilde are not yet supported but config load was failing if one of
those 2 unsupported option were encountered. Another problem was that
config load was failing if the include.path file did not exist.

Change the behavior to be consistent with native git. Ignore unsupported
or nonexistent include.path.

Bug: 495505
Change-Id: I7285d0e7abb6389ba6983e9c46021bea4344af68
Signed-off-by: Hugo Ars <hugo.ares@ericsson.com>",0,1,0,0,0,0,1,1,1
75347,I52f059816e1d94b2d60d096e3013bf4095cd0fc4,https://git.eclipse.org/r/#/c/75347,3,8106a55ef8c19831aae470e3f1bd99a026fa9a23,b45560929089521acd55656cfc42441ed5403da4,1,15/06/16,08/07/16,2,Align include.path max depth with native git,"Align include.path max depth with native git

Change-Id: I52f059816e1d94b2d60d096e3013bf4095cd0fc4
Signed-off-by: Hugo Ars <hugo.ares@ericsson.com>",0,0,0,1,0,0,1,0,0
75443,I9089123179e09dd565285d50b0caa308d290cccd,https://git.eclipse.org/r/#/c/75443,6,97b0387e28e962214ad1818e2f92fd5c70338964,5982845880cc9c526150365c171963c423609860,1,17/06/16,23/06/16,109,Fix DirCacheCheckout to return CheckoutConflictException,"Fix DirCacheCheckout to return CheckoutConflictException

Problem occurs when the the checkout wants to create a file 'd/f' but
the workingtree contains a dirty file 'd'. In order to create d/f the
file 'd' would have to be deleted and since the file is dirty that
content would be lost. This should lead to a CheckoutConflictException
for d/f when failOnConflict was set to true. 

Change-Id: I9089123179e09dd565285d50b0caa308d290cccd",0,1,1,0,0,1,1,0,0
75524,I406c654bf82c1eb94b38862da2425e98396134cb,https://git.eclipse.org/r/#/c/75524,1,b7a0633d4e949b7fc9aa91ec1000564d218ac181,5609cd84a750289845f5f80c04acedc791dbab3a,1,19/06/16,21/06/16,216,Optimize RefAdvertiser for wire protocol,"Optimize RefAdvertiser for wire protocol

The native wire protocol sends ref advertisements in the pkt-line
format, which requires encoding the ObjectId and ref name onto a byte
sequence.  Busy servers show this is a very high source of garbage,
which pushes the garbage collector harder when there are many refs in
the repository (e.g.  70k, in a Gerrit managed repository).

Optimize the side band advertiser by retaining the CharsetEncoder,
minimizing the amount of temporary garbage built during encoding.

Change-Id: I406c654bf82c1eb94b38862da2425e98396134cb",0,0,0,0,0,0,0,0,0
75529,Ib6abe5e544e0492e08b342e1a34b182caf25f94f,https://git.eclipse.org/r/#/c/75529,3,d62163c8cc64e2ab7779f58ca665829730287829,76d87e2f9974b8dbd0a06ae3f4a74564a057d256,0,19/06/16,21/06/16,6,Allow using JDK 7 bootclasspath when compiling jgit using Java 8,"Allow using JDK 7 bootclasspath when compiling jgit using Java 8

When compiling jgit using Java 8 set JDK7_HOME to JAVA_HOME path of JDK7
installation to compile against JDK 7 class libraries. Otherwise jgit
may hit runtime exceptions when running on Java 7 (e.g. return type of
ConcurrentHashMap.keySet() in JDK 8 class library doesn't exist in JDK
7).

Bug: 496262
Change-Id: Ib6abe5e544e0492e08b342e1a34b182caf25f94f
Signed-off-by: Matthias Sohn <matthias.sohn@sap.com>",0,0,0,0,0,0,0,NA,NA
75607,Id4a4afd64464e452ffe6d6ad49036f9e283b4655,https://git.eclipse.org/r/#/c/75607,5,43a67c4f412f296abb65a5ae52402c340f770eb8,27ab47b8a0824ee68257d53930803234144593f8,1,21/06/16,01/07/16,16,Add configureJSch method to allow extra configuration of JSch objects.,"Add configureJSch method to allow extra configuration of JSch objects.

Example use case is to set a different IdentityRepository, for example,
a RemoteIdentityRepository to allow SSH Agent supplied credentials.

Change-Id: Id4a4afd64464e452ffe6d6ad49036f9e283b4655
Signed-off-by: markdingram <markdingram@gmail.com>",0,1,0,0,0,0,1,0,0
75857,Ied39b7fb5f56afe7a237da17801003d0abe6b1c7,https://git.eclipse.org/r/#/c/75857,1,fb81acfd21c84a890abf93ff217bac073d181a82,711b8fea64c0977f444fa28acddb729088db4baf,1,23/06/16,26/06/16,25,Fix TreeWalk to reset attributes cache for each entry,"Fix TreeWalk to reset attributes cache for each entry

Treewalk has a member 'attr' which caches the attributes for the current
entry. We did not reset the cache always when moving to next entry. The
effect was that when there are no attributes for an entry 'a' but 'a'
was skipped by a Treewalk filter then Treewalk stopped looking for
attributes until TreeWalk.next() was called again.

Change-Id: Ied39b7fb5f56afe7a237da17801003d0abe6b1c7",0,0,1,0,0,1,1,0,0
75964,I14daca6c81b003123e5862b384718fe06fb3ebd0,https://git.eclipse.org/r/#/c/75964,2,7c61626fa48a70838e7544377f7376117b75d36d,880707459959fe58b8c5018dfd6726d707738b91,0,25/06/16,01/07/16,2,Fix typo in system config error message,"Fix typo in system config error message

Change-Id: I14daca6c81b003123e5862b384718fe06fb3ebd0
Signed-off-by: Michael Keppler <michael.keppler@gmx.de>",0,0,0,1,0,0,1,NA,NA
75980,I19fdaab8a8d6687cbe8c88488e6daa0630bf189a,https://git.eclipse.org/r/#/c/75980,2,12f5dee19c73c987807bc3cc7de7f5f0c5f41618,09b1e9658c349be03737c91ff912896b4e05c3d7,1,26/06/16,27/06/16,45,Add GC_REST PackSource to better order DFS packs,"Add GC_REST PackSource to better order DFS packs

Google's internal version of DfsObjDatabase enforces this ordering of
packs by fixing up lastModified timestamps to match try and force an
ordering of:

  INSERT / RECEIVE
  COMPACT
  GC (heads)
  GC (rest)
  UNREACHABLE_GARBAGE

This has provided decent performance for object lookups as starting
from an arbitrary reference may find the content in a newer pack
created by DfsObjectInserter, a ReceivePack server. Compaction of
recent packs also contains newer content, and then most interesting
data is in the ""main"" GC pack.

Add a new GC_REST PackSource allows the DfsGarbageCollector to
identify to the pack ordering code which pack is which, so the
non-heads are scanned 2nd during reads.  This removes a hack that was
unique to Google's implementation that enforced this behavior by
fixing up the lastModified timestamp.

Renumber the PackSource's categories to reflect this ordering.

Change-Id: I19fdaab8a8d6687cbe8c88488e6daa0630bf189a",0,0,0,0,0,0,0,0,0
75981,Id633573fbc3f0f360887b4745cacf33d6fc09320,https://git.eclipse.org/r/#/c/75981,1,09b1e9658c349be03737c91ff912896b4e05c3d7,ed19ee55966db1712ab84afe786c3b3f4fc81643,1,26/06/16,27/06/16,4,Fix lastModified to be consistent in DfsGarbageCollector,"Fix lastModified to be consistent in DfsGarbageCollector

Set all packs written by the DfsGarbageCollector to use the same
starting timestamp as lastModified. This makes it easier to see
which packs came from the same DfsGarbageCollector run, as they
share the same timestamp.

Change-Id: Id633573fbc3f0f360887b4745cacf33d6fc09320",0,0,0,0,0,0,0,0,0
75982,I9a73125581b4d760b733fd045c3436c2aaaab730,https://git.eclipse.org/r/#/c/75982,1,ed19ee55966db1712ab84afe786c3b3f4fc81643,a90121578efc35a77f20622c8a3bb99185fde400,1,26/06/16,27/06/16,20,Use try-with-resources in DfsGarbageCollector.writePack,"Use try-with-resources in DfsGarbageCollector.writePack

Change-Id: I9a73125581b4d760b733fd045c3436c2aaaab730",0,0,0,1,0,0,1,0,0
76018,Id719e6e2a03cfc9a0c0aef8ed71d261dda14bd0c,https://git.eclipse.org/r/#/c/76018,1,a90121578efc35a77f20622c8a3bb99185fde400,d0fe2cbcf666dad1c661a279fc40a32fd5f4b038,1,27/06/16,27/06/16,356,Prune UNREACHABLE_GARBAGE packs when they expire,"Prune UNREACHABLE_GARBAGE packs when they expire

DfsGarbageCollector will now enforce a maximum time to live (TTL) for
UNREACHABLE_GARBAGE packs.  The default TTL is 1 day, which should be
enough time to avoid races with other processes that are inserting
data into the repository.

Change-Id: Id719e6e2a03cfc9a0c0aef8ed71d261dda14bd0c
Signed-off-by: Mike Williams <miwilliams@google.com>",0,0,0,0,0,0,0,0,0
76130,If60e387e97870245b4bd765eda6717eb84cffb1d,https://git.eclipse.org/r/#/c/76130,9,64e6cd75d227219303267fcf5dbfcd10840a4605,b2ca5647d964bcaf63865d2e6c58958eedd88e38,1,28/06/16,20/09/16,623,WIP: Add builtin LFS clean filter,"WIP: Add builtin LFS clean filter

Adds a JGit builtin implementation of the ""git lfs clean"" filter. This
filter should do the same as the one described in [1]. But since this
filter is written in Java and can be called by JGit without forking new
processes it should be much faster

[1]
https://github.com/github/git-lfs/blob/master/docs/man/git-lfs-clean.1.ronn

Change-Id: If60e387e97870245b4bd765eda6717eb84cffb1d",0,1,1,0,1,1,1,0,0
76131,I8ff661d4edd3667ef7f86f3b4fa33e568eb4c8f4,https://git.eclipse.org/r/#/c/76131,10,efd6a788c41dba8fe1020e950cdfba23b605d52d,d2be0321b0790c519e6d3f155c92e8337f37f3a5,1,28/06/16,20/09/16,337,WIP: Add builtin LFS smudge filter,"WIP: Add builtin LFS smudge filter

Adds a JGit builtin implementation of the ""git lfs smudge"" filter. This
filter should do the same as the one described in [1]. But since this
filter is written in Java and can be called by JGit without forking new
processes it should be much faster

[1]
https://github.com/github/git-lfs/blob/master/docs/man/git-lfs-smudge.1.ronn
Change-Id: I8ff661d4edd3667ef7f86f3b4fa33e568eb4c8f4",0,1,1,0,0,1,1,0,0
76231,I4b803b34d30a86105d111be417d4a4e6bfb1057b,https://git.eclipse.org/r/#/c/76231,2,695ca0bdcfa974c7b6cd292f1c22e22e56286215,5cddd7a4a39b6c0eb830596af4369ecdbc117faa,0,29/06/16,01/07/16,10,remove duplicated single quotes in text not handled by MessageFormat,"remove duplicated single quotes in text not handled by MessageFormat

Change-Id: I4b803b34d30a86105d111be417d4a4e6bfb1057b
Signed-off-by: Markus Keller <markus_keller@ch.ibm.com>",0,0,0,1,0,0,1,NA,NA
76323,Ic8db2f00095ed81528667b064ff523911e6c122e,https://git.eclipse.org/r/#/c/76323,6,a1773f1b24f8c6ce950f39eb03e88f51cbece465,0c5e54eaeabbc60c21f72d1c0220a0d8d68463e7,1,30/06/16,16/06/17,17,"[474174] Add support for config ""pull.ff","[474174] Add support for config ""pull.ff

When the configuration entry 'pull.ff' exists the merge of the pull will
use the value as fast forward option.

Bug: https://bugs.eclipse.org/bugs/show_bug.cgi?id=474174
Change-Id: Ic8db2f00095ed81528667b064ff523911e6c122e
Signed-off-by: Mattias Neuling <neuling@dakosy.de>",0,1,0,0,0,0,1,1,1
76483,I2332ce2f29e105b60b62a9a6fc7d4656a0c89343,https://git.eclipse.org/r/#/c/76483,1,d4560de4446dc965afbc8e5dbc1ff2554c7cde2f,e2988b50f70e8143aee3e69f8a8307a8112cbbf8,0,03/07/16,04/07/16,40,Remove no longer needed API problem filters,"Remove no longer needed API problem filters

Change-Id: I2332ce2f29e105b60b62a9a6fc7d4656a0c89343
Signed-off-by: Matthias Sohn <matthias.sohn@sap.com>",1,0,0,1,0,0,1,NA,NA
76484,I0914642b64b69dc4e3ec24acbf8052f9171613d8,https://git.eclipse.org/r/#/c/76484,2,e2988b50f70e8143aee3e69f8a8307a8112cbbf8,00a96233d0e1f605a77e89e7668813582fc33f5f,1,03/07/16,07/07/16,2,Fix assertion in SmartClientSmartServerTest.testPush_CreateBranch(),"Fix assertion in SmartClientSmartServerTest.testPush_CreateBranch()

This assertion only defined a message but didn't assert anything.

Change-Id: I0914642b64b69dc4e3ec24acbf8052f9171613d8
Signed-off-by: Matthias Sohn <matthias.sohn@sap.com>",1,0,1,0,0,0,1,0,0
76496,I1887e7f5c8b34b38fa1d6d699bf637c93bc36e7c,https://git.eclipse.org/r/#/c/76496,2,7548e5b54204fade85b1bc2ee5df84e07f26773b,e7c30a27400d7a06e324ace51ef3bcb2504a6878,0,04/07/16,04/07/16,3,Remove duplicate LFS feature from P2 repository,"Remove duplicate LFS feature from P2 repository

Change-Id: I1887e7f5c8b34b38fa1d6d699bf637c93bc36e7c",0,0,0,1,0,1,1,NA,NA
76553,Ibab89fddda7ccfe3390348aa129ab2e5e3b7f538,https://git.eclipse.org/r/#/c/76553,1,e0ac52eb0234fb0cf1bc5c928832d2763e48b261,59a7c7df81e8242b4aec69d74dd1b2894186b4ec,1,04/07/16,04/07/16,4,UploadPack: Correct typo of negotiation in Javadoc,"UploadPack: Correct typo of negotiation in Javadoc

Change-Id: Ibab89fddda7ccfe3390348aa129ab2e5e3b7f538",0,0,0,1,0,0,1,0,0
76555,I75ea7deca64a707cd6b5c61c3c83062f20041684,https://git.eclipse.org/r/#/c/76555,2,315cd5bc899f22b9d79f33ad712b6006b14f1c5b,921206c5a2fbe99b989dc590b9a5bd1e955374a7,1,04/07/16,07/07/16,57,Fix unclosed resource warnings in FileTreeIteratorTest,"Fix unclosed resource warnings in FileTreeIteratorTest

Change-Id: I75ea7deca64a707cd6b5c61c3c83062f20041684
Signed-off-by: Matthias Sohn <matthias.sohn@sap.com>",1,0,1,1,0,0,1,0,0
76556,Ib857166f64420aebf7c31d72825cac44bd770dbd,https://git.eclipse.org/r/#/c/76556,3,e7ed26b1b8e13dc3782d5771ad8e31aaf9906532,e3234de040d3faebe616f34f8673c8ba58227ca9,1,04/07/16,08/08/16,4,Fix non-parameterized generic type warning,"Fix non-parameterized generic type warning

Change-Id: Ib857166f64420aebf7c31d72825cac44bd770dbd
Signed-off-by: Matthias Sohn <matthias.sohn@sap.com>",0,0,0,1,0,0,1,0,0
76559,Ib4c74df4f1304e9df3015885bf360bf0d7bc6ca2,https://git.eclipse.org/r/#/c/76559,1,f280c4cf62c1b597bdcc0d53a147c89cf4e5deb9,f7f6d264499c62192ac8a82e64c5998393af1cf9,1,05/07/16,05/07/16,1,UploadPack: Remove duplicate sentReady assignment,"UploadPack: Remove duplicate sentReady assignment

This field was being set twice within the block.  Setting it just once
is sufficient.  writeString() does not examine the field so it is fine
to set it after the call.

Change-Id: Ib4c74df4f1304e9df3015885bf360bf0d7bc6ca2",0,0,0,0,0,0,0,-1,0
76560,I5371bed60da36e8d12c4ad9a5c1d91a0f0ad486b,https://git.eclipse.org/r/#/c/76560,2,f7f6d264499c62192ac8a82e64c5998393af1cf9,4081971d3dc855325769ab919ddc27a0eaee5679,1,05/07/16,05/07/16,10,UploadPack: Include peeled ObjectId as advertised,"UploadPack: Include peeled ObjectId as advertised

A RefAdvertiser writing to the network includes both the reference's
ObjectId and its peeled ObjectId in the advertised set.  In smart HTTP
negotiation requests may bypass the RefAdvertiser and quickly build
the set based on current refs; include the peeled ObjectIds to match
behavior with the normal bidirectional protocols on git:// and SSH.

Change-Id: I5371bed60da36e8d12c4ad9a5c1d91a0f0ad486b",0,0,0,0,0,0,0,0,0
76562,I53fc13c561c7d429a50b5eb82773f1a670431c54,https://git.eclipse.org/r/#/c/76562,2,82778e3d48d60ff4b3d397af71f0fd8663877323,072bcd36dd9cc8d71209877d3e59b79eee426555,1,05/07/16,05/07/16,3,ReceivePack: Catch InvalidObjectIdException instead of IAE,"ReceivePack: Catch InvalidObjectIdException instead of IAE

The more specific type InvalidObjectIdException is thrown by
ObjectId.fromString().  Use it here in ReceivePack as the more
generic IAE is never thrown by the body of the try-catch block.

Change-Id: I53fc13c561c7d429a50b5eb82773f1a670431c54",0,0,0,0,0,0,0,0,0
76565,Idb37a4a122a565ec4b59130e08c27d963ba09395,https://git.eclipse.org/r/#/c/76565,2,8516248b2a3599fbc453046f1ddb0d5d0f808438,37afab8ad04072c377f372f229143aeb18581e2a,1,05/07/16,06/07/16,52,push: Report fatal server errors during pack writing,"push: Report fatal server errors during pack writing

If the push client has requested side-band support the server can
signal a fatal error parsing the pack using the error channel (3)
and then hang up. This may cause the PackWriter to fail to write to
data onto the network socket, which throws a misleading error back
up to the application and the user.

During a write failure poll the input to see if the side band system
can parse out an error message off channel 3. This should be fast as
there will either be an error present in the buffer, or the remote will
also have hung-up on the side band channel. In the case of a hang-up
just rethrow the original IOException as its a network error.

This roughly matches what C git does; once commands are sent and the
packer is started a new thread runs in the background to decode any
possible server error during unpacking on the remote peer

Change-Id: Idb37a4a122a565ec4b59130e08c27d963ba09395",0,0,0,0,0,0,0,0,0
76588,I028e1c9ec7c21f316340b21d558b9a6b77e2060d,https://git.eclipse.org/r/#/c/76588,8,95fac15e35024ccb6ee445c2b2491d7ecc80db35,c21c64342822601f4d9dd5a1d9d526d450cdb646,1,05/07/16,20/09/16,30,Move AtomicObjectOutputStream to lfs/internal,"Move AtomicObjectOutputStream to lfs/internal

The class AtomicObjectOutputStream should be available to all lfs related
classes, not only to the server side. Move the class from
org.eclipse.jgit.lfs.server.fs to org.eclipse.jgit.lfs.internal to achieve
that.

Change-Id: I028e1c9ec7c21f316340b21d558b9a6b77e2060d",0,1,0,0,0,1,1,0,0
76627,If385b91ceb9f024ccae2d1645caf15bc6b206130,https://git.eclipse.org/r/#/c/76627,3,80e96db1671859573790d210c3c9b0e4f18c4df8,558c32439e9416bdceefbcd82262385c69bcf3bf,1,05/07/16,06/07/16,75,ReceivePack: report protocol parsing failures on channel 3,"ReceivePack: report protocol parsing failures on channel 3

If the client sent a well-formed enough request to see it wants to use
side-band-64k for status reporting (meaning its a modern client), but
any other command record was somehow invalid (e.g. corrupt SHA-1)
report the parsing exception using channel 3.  This allows clients to
see the failure and know the server will not be continuing.

git-core and JGit clients send all commands and then start a sideband
demux before sending the pack. By consuming all commands first we get
the client into a state where it can see and respond to the channel 3
server failure.

This behavior is useful on HTTPS connections when the client is buggy
and sent a corrupt command, but still managed to request side-band-64k
in the first line.

Change-Id: If385b91ceb9f024ccae2d1645caf15bc6b206130",0,0,0,0,0,0,0,0,0
76648,I429066d2af9c5fb8bf8bc038b99ebe5a7dc09170,https://git.eclipse.org/r/#/c/76648,1,7933189f27bfd4e1df23077cebfb6bb109bd44a4,f80749712d2d16cbaee50de7c7c23de7235898d1,1,05/07/16,06/07/16,13,PushConnectionTest: Use Java 7 try-with-resources,"PushConnectionTest: Use Java 7 try-with-resources

Change-Id: I429066d2af9c5fb8bf8bc038b99ebe5a7dc09170",0,0,0,1,0,0,1,0,0
76649,I328f5952f23185a7d8f81a144979b4f8a095bd60,https://git.eclipse.org/r/#/c/76649,1,f80749712d2d16cbaee50de7c7c23de7235898d1,16557792f6ddf5a3586127b5c663f1c96e40e5e6,1,05/07/16,06/07/16,6,ReceivePack: Use Java 7 multi-catch for unpackError,"ReceivePack: Use Java 7 multi-catch for unpackError

Change-Id: I328f5952f23185a7d8f81a144979b4f8a095bd60",0,0,0,1,0,0,1,0,0
76650,I141b7fc92e983a41d3a58da8e1464a6917422b6c,https://git.eclipse.org/r/#/c/76650,1,16557792f6ddf5a3586127b5c663f1c96e40e5e6,3ee34122c01e6caa03ddc3f45fd20a2d03fa01c2,1,05/07/16,06/07/16,10,ReceivePack: enable capabilities immediately on first line,"ReceivePack: enable capabilities immediately on first line

Instead of deferring until after command parsing, enable the
capabilities after the first pkt-line has been read from the client.
This allows the server to setup the side-band-64k channel immediately.

Change-Id: I141b7fc92e983a41d3a58da8e1464a6917422b6c",0,0,0,0,0,0,0,0,0
76651,Ifc04b8e138732a97b9c0ee323af923b8e52a7f8e,https://git.eclipse.org/r/#/c/76651,1,3ee34122c01e6caa03ddc3f45fd20a2d03fa01c2,44583753fea4c442af23924e13d191894f936e38,1,05/07/16,06/07/16,8,ReceivePack: remove unnecessary try-catch around parseCommand,"ReceivePack: remove unnecessary try-catch around parseCommand

This exception is already handled in the outer catch block.

Change-Id: Ifc04b8e138732a97b9c0ee323af923b8e52a7f8e",0,0,0,0,0,0,0,0,0
76652,I6839b95f0bc4fbf4d2c213331ebb9bd24ab2af65,https://git.eclipse.org/r/#/c/76652,2,44583753fea4c442af23924e13d191894f936e38,d6be892d74e4eb3538e9322db6323a5be9c13bce,1,05/07/16,06/07/16,12,ReceivePack: catch InvalidObjectIdException while parsing commands,"ReceivePack: catch InvalidObjectIdException while parsing commands

The ""shallow $id"" parsing can also throw InvalidObjectIdException,
just like the parseCommand() block.  Combine these together into the
outer level catch to avoid code duplication.

With the try-catch removed the parseCommand() can be shortened,
and a small formatting error can be corrected here too.

Change-Id: I6839b95f0bc4fbf4d2c213331ebb9bd24ab2af65",0,0,0,0,0,0,0,0,0
76864,I2d6564ff656b6ab9424a9360624061c94fd5f413,https://git.eclipse.org/r/#/c/76864,3,d989c50087ff8cb1879b1cc2eb68363aaec4a3fe,8e022063d824a7a31f80413e714b7e30e88568f8,1,07/07/16,12/07/16,227,Add method to read time unit from config,"Add method to read time unit from config

Time units supported:

-milliseconds (1 ms, 2 milliseconds)
-seconds (1 s, 1 sec, 1 second, 2 seconds)
-minutes (1 m, 1 min, 1 minute, 2 minutes)
-hours (1 h, 1 hr, 1 hour, 2 hours)
-days (1 d, 1 day, 2 days)
-weeks (1 w, 1 week, 2 weeks)
-months (1 mon, 1 month, 2 months)
-years (1 y, 1 year, 2 years)

This functionality is implemented in Gerrit ConfigUtil class. Add it to
JGit so it can eventually be remove from Gerrit.

Change-Id: I2d6564ff656b6ab9424a9360624061c94fd5f413
Signed-off-by: Hugo Ars <hugo.ares@ericsson.com>
Signed-off-by: Matthias Sohn <matthias.sohn@sap.com>",0,0,1,0,0,0,1,2,1
76865,Ie91c7f9d190a5d7cf4733d4bf84124d119ca20f7,https://git.eclipse.org/r/#/c/76865,3,9a8f74ea2a2734b0f2bb939c50de2a305e218d63,4c04164cf9c85b453498e467e7f201ad1f437474,1,07/07/16,12/07/16,20,Log if Repository.useCnt becomes negative,"Log if Repository.useCnt becomes negative

We observe in Gerrit 2.12 that useCnt can become negative in rare cases.
Log this to help finding the bug.

Change-Id: Ie91c7f9d190a5d7cf4733d4bf84124d119ca20f7
Signed-off-by: Matthias Sohn <matthias.sohn@sap.com>",0,0,1,0,0,0,1,0,0
76916,I1778c4fc8ba075a2c6cd2129528bb272cb3a1af7,https://git.eclipse.org/r/#/c/76916,1,0e52d2fc92276e882d807e37338c00c498208638,b8a5271fb067253c59cb89cf57a93332c9d7e9fb,1,07/07/16,07/07/16,8,DfsGarbageCollector: avoid closing idx and bitmap streams twice,"DfsGarbageCollector: avoid closing idx and bitmap streams twice

These try-with-resources blocks close the underlying output stream
twice: once when closing the CountingOutputStream wrapper, then again
when closing the DfsOutputStream out.

Simplify by only closing the CountingOutputStream.

In practice this shouldn't matter because the close() method of a
Closable is required to be idempotent, but avoiding the redundant
extra close makes the code simpler to read and understand.

Change-Id: I1778c4fc8ba075a2c6cd2129528bb272cb3a1af7",0,0,0,0,0,0,0,0,0
77003,Ie49107d814a846997de95f149e91fe1ec2fbe4d8,https://git.eclipse.org/r/#/c/77003,2,b8a5271fb067253c59cb89cf57a93332c9d7e9fb,492f396e95499311055c897cd3e8a8850b60e051,1,10/07/16,11/07/16,8,Implement new abstract MappedLoginService methods added in Jetty 9.3,"Implement new abstract MappedLoginService methods added in Jetty 9.3

Eclipse Neon comes with Jetty 9.3 which is causing unimplemented
abstract method errors in test class AppServer when using the JGit or
EGit Neon target platform. Fix this by adding dummy implementations.

Change-Id: Ie49107d814a846997de95f149e91fe1ec2fbe4d8
Signed-off-by: Matthias Sohn <matthias.sohn@sap.com>",0,0,0,0,0,0,0,0,0
77108,I84317d396d25ab1b46820e43ae2b73943646032c,https://git.eclipse.org/r/#/c/77108,7,492f396e95499311055c897cd3e8a8850b60e051,0e6f93e05fcd770a962484c34e312a89255cef27,1,12/07/16,10/02/17,182,Limit receive commands,"Limit receive commands

Place a configurable upper bound on the amount of command data
received from clients during `git push`.  The limit is applied to the
encoded wire protocol format, not the JGit in-memory representation.
This allows clients to flexibly use the limit; shorter reference names
allow for more commands, longer reference names permit fewer commands
per batch.

Based on data gathered from many repositories at $DAY_JOB, the average
reference name is well under 200 bytes when encoded in UTF-8 (the wire
encoding).  The new 3 MiB default receive.maxCommandBytes allows about
11,155 references in a single `git push` invocation.  A Gerrit Code
Review system with six-digit change numbers could still encode 29,399
references in the 3 MiB maxCommandBytes limit.

Change-Id: I84317d396d25ab1b46820e43ae2b73943646032c",0,1,0,0,0,0,1,1,1
77146,I6aeedb1cb8b0c3068af344a719c80a03ae68fc23,https://git.eclipse.org/r/#/c/77146,1,c634431c6b5686717986ab9eb1a2aaeecc7bf609,1c66c5e9625b516d4e32324b243c2ea5060ee464,1,12/07/16,12/07/16,172,Merge branch 'stable-4.4',"Merge branch 'stable-4.4'

* stable-4.4:
  Log if Repository.useCnt becomes negative
  Time based eviction strategy for repository cache
  Add method to read time unit from config
  Align include.path max depth with native git
  Config load should not fail on unsupported or nonexistent include path
  Allow using JDK 7 bootclasspath when compiling JGit using Java 8
  Extract work queue to allow reusing it

Change-Id: I6aeedb1cb8b0c3068af344a719c80a03ae68fc23
Signed-off-by: Matthias Sohn <matthias.sohn@sap.com>",1,0,0,0,0,0,1,1,1
77305,I50407e4a33e35b718ca40503fdd436f1f9f70fba,https://git.eclipse.org/r/#/c/77305,5,c5b422653a7d89a5a5d13676abd1b4da8733ddd8,55d606c38d4860f27d5ef3026dfa2a30ed4e13da,0,14/07/16,26/07/16,17,Ignore 'The value of exception parameter is not used' warning,"Ignore 'The value of exception parameter is not used' warning

Change-Id: I50407e4a33e35b718ca40503fdd436f1f9f70fba
Signed-off-by: David Pursehouse <david.pursehouse@gmail.com>",0,1,1,1,0,1,1,NA,NA
77306,If0148a0b573c474bbe157fcb7e6674c0055fe8b4,https://git.eclipse.org/r/#/c/77306,6,e70c262fe4269b87671546d6d0396b02e6231367,7a8b6fc445eee3f7f0e3a8eea89fc5505ebd128f,1,14/07/16,26/07/16,8,FileLfsServlet: Update link to http-v1-batch documentation,"FileLfsServlet: Update link to http-v1-batch documentation

The link in the TODO comment results in 404. Change it to the
correct one.

Change-Id: If0148a0b573c474bbe157fcb7e6674c0055fe8b4
Signed-off-by: David Pursehouse <david.pursehouse@gmail.com>",0,1,1,0,0,1,1,0,0
77319,I06c722b20c859ed1475628ec6a2f6d3d6d580700,https://git.eclipse.org/r/#/c/77319,4,61cf71e8ffb6c5de5c221ba910106663d607f922,fc3fdf0c82e0fc81cb81b774ac1de93f65e787ea,1,14/07/16,19/07/16,212,Invalidate DfsObjDatabase pack list when refs are updated,"Invalidate DfsObjDatabase pack list when refs are updated

Currently, there is a race where a user of a DfsRepository in a single
thread may get unexpected MissingObjectExceptions trying to look up an
object that appears as the current value of a ref:

1. Thread A scans packs before scanning refs, for example by reading
   an object by SHA-1.
2. Thread B flushes an object and updates a ref to point to that
   object.
3. Thread A looks up the ref updated in (2). Since it is scanning refs
   for the first time, it sees the new object SHA-1.
4. Thread A tries to read the object it found in (3), using the cached
   pack list it got from (1). The object appears missing.

Allow implementations to work around this by marking the object
database's current pack list as ""dirty."" A dirty pack list means that
DfsReader will rescan packs and try again if a requested object is
missing. Implementations should mark objects as dirty any time the ref
database reads or scans refs that might be newer than a previously
cached pack list.

Change-Id: I06c722b20c859ed1475628ec6a2f6d3d6d580700",0,1,1,0,0,1,1,0,0
77321,I159e9154bd8b2d348b4e383627a503e85462dcc6,https://git.eclipse.org/r/#/c/77321,5,8ea59d4d8a52e458ad794799bead148816d29428,64cc9812480e2a7fe098768c3a26eb2b4f607c35,1,14/07/16,19/07/16,57,DfsObjectDatabase: Expose last modified time of PackList,"DfsObjectDatabase: Expose last modified time of PackList

This may be useful for implementations in deciding when to call
markDirty().

Change-Id: I159e9154bd8b2d348b4e383627a503e85462dcc6",0,1,1,0,0,1,1,0,0
77351,I75baeea7ff4502ce9ef2b541b3c0555da5535d79,https://git.eclipse.org/r/#/c/77351,1,e6ac0186d0f288e15cd62905f8bcef81206e48ff,01c1cc7b4cf5e34ed874f5421f327576aa8e7759,1,14/07/16,15/07/16,49,Fix AppServer build errors in Eclipse with <4.6 target platforms,"Fix AppServer build errors in Eclipse with <4.6 target platforms

9aa3748 added dummy implementations for loadRoleInfo() and
loadUserInfo() to class MappedLoginService to fix compile errors in
Eclipse when using 4.6 target platform which brings Jetty 9.3 adding
these two methods. Unfortunately this causes errors when using non 4.6
target platform coming with an older Jetty version. Fix this by
extracting the anonymous subclass of MappedLoginService which allows to
suppress the unused private method errors in Eclipse.

Change-Id: I75baeea7ff4502ce9ef2b541b3c0555da5535d79
Signed-off-by: Matthias Sohn <matthias.sohn@sap.com>",0,0,0,0,0,0,0,0,0
77362,Ice9ebbb1c0c3314c679f4db40cdd3664f61c27c3,https://git.eclipse.org/r/#/c/77362,3,9ebfc1c8d4a6aee627416f6c80150a0576e15d73,f1b7c6b5db690aef1480cdf35e6923ad2d974eea,1,14/07/16,17/08/16,70,Enhance ResetCommand to allow disabling reflog update,"Enhance ResetCommand to allow disabling reflog update

This will be used by EGit for implementing commit amend in the staging
view (see Idcd1efeeee8b3065bae36e285bfc0af24ab1e88f).

Change-Id: Ice9ebbb1c0c3314c679f4db40cdd3664f61c27c3
Signed-off-by: Matthias Sohn <matthias.sohn@sap.com>",0,0,0,0,0,0,0,0,0
77373,I7aacb49540aaee4a83db3d38b15633bb6c4773d0,https://git.eclipse.org/r/#/c/77373,5,b0544e1055ab218e183c9d92c56fe2ccfc698564,01488181af40e1eddb38cff143890730ce04ceda,1,15/07/16,16/07/16,2,"Removing Hudson FindBugs-alerted ""UC_USELESS_OBJECT""","Removing Hudson FindBugs-alerted ""UC_USELESS_OBJECT""

Change-Id: I7aacb49540aaee4a83db3d38b15633bb6c4773d0
Signed-off-by: Dan Wang <dwwang@google.com>",0,1,0,1,0,0,1,0,0
77376,I166e3a6a3d5230e4110d3283ec4dbc7d1dfe6732,https://git.eclipse.org/r/#/c/77376,2,438edefd328b491f18da5d20a1069b103d5c43b4,ab76c0705ff29bf0e6d7e6188ba2838c0ed45293,0,15/07/16,08/08/16,6,Add path src/ to source path in build.properties,"Add path src/ to source path in build.properties

This fixes the warning ""src/ is missing from source..""

Change-Id: I166e3a6a3d5230e4110d3283ec4dbc7d1dfe6732
Signed-off-by: Matthias Sohn <matthias.sohn@sap.com>",0,0,0,0,0,0,0,NA,NA
77378,I61dbc29a962c8185fb356fe1ca30a1e673166d47,https://git.eclipse.org/r/#/c/77378,1,15663958d3383e3f4d7335129e284d1ff01d268b,7342fae2d0f4bd0b6cccd05f99240205de5fa731,0,15/07/16,15/07/16,118,JGit v4.4.1.201607150455-r,"JGit v4.4.1.201607150455-r

Change-Id: I61dbc29a962c8185fb356fe1ca30a1e673166d47
Signed-off-by: Matthias Sohn <matthias.sohn@sap.com>",1,0,0,1,0,0,1,NA,NA
77396,I1d75fb5bddb1a6dd23604ba57c9798c978afca89,https://git.eclipse.org/r/#/c/77396,1,2fe0a9633d335132403acc382cb06c5d4609539b,da471acf14c1e8233c8fa03a0bef94bdc4b507e2,0,15/07/16,06/08/16,604,Prepare 4.4.2-SNAPSHOT builds,"Prepare 4.4.2-SNAPSHOT builds

Change-Id: I1d75fb5bddb1a6dd23604ba57c9798c978afca89
Signed-off-by: Matthias Sohn <matthias.sohn@sap.com>",1,0,0,1,1,0,1,NA,NA
77416,I118f85f0414dbfad02250944e28d74dddd59469b,https://git.eclipse.org/r/#/c/77416,9,68bbc0b42ef180d8ca2d96d746c524f82ffc6775,ed9e379020bdcd72b83cbfc997a79940fc006ac0,1,15/07/16,26/08/16,23,Do not fake a SymbolicRef as an ObjectIdRef,"Do not fake a SymbolicRef as an ObjectIdRef

When doing a detaching operation, JGit fakes a SymbolicRef as an ObjectIdRef.
This is because RefUpdate#updateImpl dereferences the SymbolicRef when updating
it. For example, assume that HEAD is pointing refs/heads/master. If I try to
make a detached HEAD pointing to a commit 0xc0ffee, RefUpdate dereferences HEAD
as refs/heads/master first and changes refs/heads/master to 0xc0ffee.
The detach argument of RefDatabase#newUpdate avoids this dereference by faking
HEAD as ObjectIdRef.

This faking is problematic for the linking operation of DfsRefDatabase. It does
a compare-and-swap operation on every reference change because of its
distributed systems nature. If a SymbolicRef is faked as an ObjectRef, it thinks
that there was a change in the reference and rejects the update. Because of
this, DFS based repositories cannot change the link target of symbolic refs.
This has not been a problem for file-based repositories because it has a
file-lock based semantics instead of the CAS based one. The reference
implementation, InMemoryRepository, has a hack to revert the reference back to a
SymbolicRef.

When [1] introduced this faking code, there was no way for RefUpdate to
distinguish the detaching operation. When [2] fixed the detaching operation, it
introduced a detachingSymbolicRef flag. This commit uses this flag to control
whether it needs to dereference the symbolic refs by calling Ref#getLeaf. The
same flag is used to the reflog update operation. As a side-effect,
InMemoryRepository's compareAndPut implementation becomes a straightforward CAS
operation.

[1]: https://eclipse.googlesource.com/jgit/jgit/+/01b5392cdbc12ce2e21fd1d1afbd61fdf97e1c38
[2]: https://eclipse.googlesource.com/jgit/jgit/+/3a86868c0883d2a564db88bf9ae4a5fe235bb63f

Change-Id: I118f85f0414dbfad02250944e28d74dddd59469b
Signed-off-by: Masaya Suzuki <draftcode@gmail.com>",0,1,0,0,0,0,1,0,0
77433,I6c6b5d3cc8241a81f4a37782381c88e8a59fdf15,https://git.eclipse.org/r/#/c/77433,5,ba05f689fa77e0232b80352ef9d0180ec21bd495,9ec588ae128c1c9e7476053002afdac7171e5494,1,16/07/16,26/08/16,82,Clarify the semantics of DfsRefDatabase#compareAndPut,"Clarify the semantics of DfsRefDatabase#compareAndPut

DfsRefDatabase#compareAndPut had a vague semantics for reference
matching. Because of this, an operation to make a symbolic
reference had been broken for some DFS implementations even if they
followed the contract of compareAndPut. The clarified semantics
requires the implementations to satisfy the followings:

* Matching references should be both symbolic references or both
  object ID references.
* If both are symbolic references, both should have the same target
  name.
* If both are object ID references, both should have the same object
  ID.

This semantics is defined based on
https://git.eclipse.org/r/#/c/77416/. Before this commit,
DfsRefDatabase couldn't see the target of symbolic references.

InMemoryRepository is changed to comply with the new semantics. This
semantics change can affect the existing DFS implementations that only
checks object IDs. This commit adds two tests that the previous
InMemoryRepository couldn't pass.

Change-Id: I6c6b5d3cc8241a81f4a37782381c88e8a59fdf15
Signed-off-by: Masaya Suzuki <draftcode@gmail.com>",0,1,0,0,0,0,1,-1,0
77543,Id045f162fa584ea14da29a9df58a42c53a78dc15,https://git.eclipse.org/r/#/c/77543,2,9900727eb829844ba78a9d5060e2120786356ab7,a3d8d769b5d96549529adebb86d1b4a1cf2b39de,1,19/07/16,19/07/16,14,DfsObjDatabase: Add lazy last modified method to PackList,"DfsObjDatabase: Add lazy last modified method to PackList

Change-Id: Id045f162fa584ea14da29a9df58a42c53a78dc15",0,0,0,1,0,1,1,0,0
77604,I7f3dcc966732b32830c75d5daa55383bd028d182,https://git.eclipse.org/r/#/c/77604,3,a3d8d769b5d96549529adebb86d1b4a1cf2b39de,edba58fe101ff67719d1eda2a9d72dc8141b5e28,1,20/07/16,16/11/16,115,Update JavaEWAH to 1.1.6,"Update JavaEWAH to 1.1.6

Change-Id: I7f3dcc966732b32830c75d5daa55383bd028d182
CQ: 11658",0,0,1,1,0,1,1,0,0
77655,Ifc8a782efd7f2f991e70ad2a3691a8dba66c7554,https://git.eclipse.org/r/#/c/77655,2,36ba51efeb4141e8d338d81c199c19b7cb476d8f,c1f95e3536016bc8f68097bfeff15e003faf2ccb,0,21/07/16,26/07/16,227,Merge branch 'stable-4.4',"Merge branch 'stable-4.4'

* stable-4.4:
  JGit v4.4.1.201607150455-r
  RefDirectory: remove ref lock file for following ref dir removal

Change-Id: Ifc8a782efd7f2f991e70ad2a3691a8dba66c7554
Signed-off-by: David Pursehouse <david.pursehouse@gmail.com>",0,0,1,0,0,1,1,NA,NA
77666,I8341f3340d8129b4f966d541097269210fbf65d2,https://git.eclipse.org/r/#/c/77666,3,a111f4158921dd2b0897ef65953652fdd8c05384,7eed2abb09e538be051c8dd0d916b94bae20e7c6,0,21/07/16,26/07/16,2,Archive: Make project name consistent with other subprojects',"Archive: Make project name consistent with other subprojects'

Change-Id: I8341f3340d8129b4f966d541097269210fbf65d2
Signed-off-by: David Pursehouse <david.pursehouse@gmail.com>",0,0,1,1,0,0,1,NA,NA
77667,Ic6d252915ea44b4f1c385afecb98906cd2c54382,https://git.eclipse.org/r/#/c/77667,3,193bf0d7436d77c0a1dd13b8c07008cb7498f96e,388c8b31eafaf111cb405be64df2097a324b853f,1,21/07/16,26/07/16,1,Annotate Sets#of with @SafeVarArgs to prevent heap pollution warning,"Annotate Sets#of with @SafeVarArgs to prevent heap pollution warning

This prevents the warning:

  Potential heap pollution via varargs parameter

The method doesn't do any casting of types that would cause the heap
pollution, so it should be safe to add @SafeVarArgs.

See [1] for information about this warning.

[1] http://stackoverflow.com/a/12462259/381622

Change-Id: Ic6d252915ea44b4f1c385afecb98906cd2c54382
Signed-off-by: David Pursehouse <david.pursehouse@gmail.com>",0,0,1,0,0,0,1,0,0
77733,I3ffdd9002146382acafb4fbc310a64af4cc1b7a9,https://git.eclipse.org/r/#/c/77733,5,0c4d868e12c662562af87454e47f496ad7141550,cb62c279a12519f5462e865d430d788bff87944e,1,21/07/16,25/07/16,12,RefSpec: reject refs ending in '/',"RefSpec: reject refs ending in '/'

We had a case in Gerrits superproject subscriptions where
'refs/heads/' was configured with the intention to mean 'refs/heads/*'.

The first expression lacks the '*', which is why it is not considered
a wildcard but it was considered valid and so was not found early to be
a typo.

Refs are not allowed to end with '/' anyway, so add a check for that.

Change-Id: I3ffdd9002146382acafb4fbc310a64af4cc1b7a9
Signed-off-by: Stefan Beller <sbeller@google.com>",0,1,1,0,0,0,1,0,0
77738,I46c0bea9d876e61eb2c8d50f404b905792bc72b3,https://git.eclipse.org/r/#/c/77738,11,2e0a6c36b818ff85f8804ca2fa4c899b4f18a583,59de3302a169dc2a2a347f0a6b0f0458f3e5e3bd,1,21/07/16,25/07/16,164,RefSpecs: allow construction of weird wildcarded RefSpecs,"RefSpecs: allow construction of weird wildcarded RefSpecs

Gerrits superproject subscription feature uses RefSpecs to formalize
the ACLs of when the superproject subscription feature is allowed.

As this is a slightly different use case than describing a local/remote
pair of refs, we need to be more permissive. Specially we want to allow:

    refs/heads/*
    refs/heads/*:refs/heads/master
    refs/heads/master:refs/heads/*

Introduce a new constructor, that allows constructing these refs specs.

Change-Id: I46c0bea9d876e61eb2c8d50f404b905792bc72b3
Signed-off-by: Stefan Beller <sbeller@google.com>",0,1,1,0,0,0,1,1,1
77743,I1b5c1557ddc2d19f3f5b29baec96e62bc467d88a,https://git.eclipse.org/r/#/c/77743,3,1d3d8d1ee3bbfc1d545603f16e8e911cbde1b0b2,e2557d5665a340afa462e7339c2da239923e933f,0,22/07/16,26/07/16,5,Repository: Log negative useCnt message together with stack trace,"Repository: Log negative useCnt message together with stack trace

The message ""close() called when useCnt is already zero"" is logged with
level warning, and then if debug logging is enabled, the stack trace is
logged separately with level debug.

Log the message and the stack trace in the same call, so that they always
appear together in the output rather than potentially interleaved with
other log statements.

Change-Id: I1b5c1557ddc2d19f3f5b29baec96e62bc467d88a
Signed-off-by: David Pursehouse <david.pursehouse@gmail.com>",0,0,1,0,0,1,1,NA,NA
77757,I79e7a841d230fdedefa53b9c6d2d477e81e1f9e6,https://git.eclipse.org/r/#/c/77757,6,74d9dd60140a81c180b0c3d968a54b8872229bbc,4ecae3ed28236a4f86815208296c215cc2631904,1,22/07/16,27/07/16,77,FileLfsServlet: Include error message in response body,"FileLfsServlet: Include error message in response body

According to the specification [1], the error response body should
include the error message in json format.

[1] https://github.com/github/git-lfs/blob/master/docs/api/v1/http-v1-batch.md

Change-Id: I79e7a841d230fdedefa53b9c6d2d477e81e1f9e6
Signed-off-by: David Pursehouse <david.pursehouse@gmail.com>",0,1,1,0,0,1,1,0,0
77760,Id03fe00a2109b896d9a154228a14a33bce5accc3,https://git.eclipse.org/r/#/c/77760,4,0e47133ac261166534e4ac592a8fdaafb270b148,c6fe34c5736554d4137e9ad627c1ede4ab2056d8,1,22/07/16,27/07/16,8,FileLfsServlet: Return HTTP 422 instead of 400,"FileLfsServlet: Return HTTP 422 instead of 400

According to the specification [1], the error response status code
should be 422 when there is a validation error with one or more of
the objects in the request

[1] https://github.com/github/git-lfs/blob/master/docs/api/v1/http-v1-batch.md#response-errors

Change-Id: Id03fe00a2109b896d9a154228a14a33bce5accc3
Signed-off-by: David Pursehouse <david.pursehouse@gmail.com>",0,1,1,0,0,1,1,0,0
77802,I8f10fe7a54e9fc07f2a23d7901e52b65aa570d45,https://git.eclipse.org/r/#/c/77802,4,603a12defaca2b91980bbf5d246ca48421227be4,77bac22476b1e3b18257af0c3d12259f0b42a5f2,1,23/07/16,20/10/16,2,TransportBundleFile: Resolve remote repository locally,"TransportBundleFile: Resolve remote repository locally

Remove the assumption that the local repository is a file based one.

Change-Id: I8f10fe7a54e9fc07f2a23d7901e52b65aa570d45
Signed-off-by: Thomas Meyer <thomas.mey@web.de>",0,1,1,0,0,0,1,0,0
77852,I1ec6ec54c91a5f0601b620ed18846eb4a3f46783,https://git.eclipse.org/r/#/c/77852,5,8d41abe1074830b943f14ff3b8bf12e47567991d,4779707344dd32192af1ab6c33c190257d8c9444,1,25/07/16,27/07/16,45,LfsProtocolServlet: Add callback to filter LFS requests,"LfsProtocolServlet: Add callback to filter LFS requests

Implementations can override the accept method to determine whether
or not a given request is accepted.

Change-Id: I1ec6ec54c91a5f0601b620ed18846eb4a3f46783
Signed-off-by: David Pursehouse <david.pursehouse@gmail.com>",0,1,0,0,0,0,1,0,0
77873,I01dd52e09da24f70d408ffa96e21c129a79041ea,https://git.eclipse.org/r/#/c/77873,2,27556760c44306cb6b7e15ebbc237f0008153913,5cbe99016a88d946bc88a5e113f78a95abcda88f,1,26/07/16,27/07/16,1,MergeFormatter: Suppress warning about unchecked conversion,"MergeFormatter: Suppress warning about unchecked conversion

The warning can be fixed by adding a type to the argument, but doing so
breaks the API and previous attempts to fix it in that way [1, 2] were
reverted [3, 4].

[1] https://git.eclipse.org/r/#/c/45709/
[2] https://git.eclipse.org/r/#/c/66602/
[3] https://git.eclipse.org/r/#/c/49400/
[4] https://git.eclipse.org/r/#/c/66659/

Change-Id: I01dd52e09da24f70d408ffa96e21c129a79041ea
Signed-off-by: David Pursehouse <david.pursehouse@gmail.com>",0,0,0,0,0,0,0,0,0
78031,I495f0b60b7128fff27502641e6a5d05f888d4e8a,https://git.eclipse.org/r/#/c/78031,1,bbd8aba17ced127efdcdf064ee0fa759e14e50d6,ed69cca1c33427884026e99f182f9381e52fc10a,1,28/07/16,28/07/16,21,LfsServerTest: Treat response body as UTF-8 when decoding error message,"LfsServerTest: Treat response body as UTF-8 when decoding error message

Change-Id: I495f0b60b7128fff27502641e6a5d05f888d4e8a
Signed-off-by: David Pursehouse <david.pursehouse@gmail.com>",0,0,0,1,0,0,1,0,0
78038,Ib7b73d7d37574682bb58f969822c842e4e579233,https://git.eclipse.org/r/#/c/78038,1,ed69cca1c33427884026e99f182f9381e52fc10a,cb81885c2fc302ba417c8aa898853c3a2caa7308,1,28/07/16,28/07/16,10,Fix typo in email address in copyright headers,"Fix typo in email address in copyright headers

Change-Id: Ib7b73d7d37574682bb58f969822c842e4e579233
Signed-off-by: David Pursehouse <david.pursehouse@gmail.com>",0,0,0,1,0,1,1,0,0
78083,I4bdc6bd53a14237c5f4fb9397ae850f9a24c4cfb,https://git.eclipse.org/r/#/c/78083,3,3b6ea4e0d03eee2de3de7b00fad010b46ae71a9d,e55070f1590888ec83742add32b79cc8735d7bf2,1,28/07/16,28/07/16,22,RefSpec: wildcardmode need to be public,"RefSpec: wildcardmode need to be public

The intended use case for the wild card mode is in Gerrit, so we have
to be able to access the enum from outside the package.

Change-Id: I4bdc6bd53a14237c5f4fb9397ae850f9a24c4cfb
Signed-off-by: Stefan Beller <sbeller@google.com>",0,0,0,0,0,0,0,0,0
78098,Ia5c4e4cc53488800dd486f8556dc57656783f1c4,https://git.eclipse.org/r/#/c/78098,6,a14f8d2d756626577d527de4f576ba7f7b4048d3,5ba53e2658de401a6c61b3cb2279701e04205b21,1,28/07/16,07/08/16,28,Add testCleanDirsWithSubmodule test to CleanCommandTest,"Add testCleanDirsWithSubmodule test to CleanCommandTest

This commit adds some test coverage to cleaning a repository with a
submodule, which did not previously exist.

Change-Id: Ia5c4e4cc53488800dd486f8556dc57656783f1c4
Signed-off-by: Matthaus Owens <matthaus@puppetlabs.com>",0,1,0,0,0,0,1,0,0
78109,I91be6165bcaf856d0cefc533882330962e2fc9b2,https://git.eclipse.org/r/#/c/78109,3,12f63615a5f2bec9f75195fb80aca96caf084f1a,4cc9be47bd8a39c3139d87d08b5a029640139103,1,29/07/16,06/08/16,298,RFC/WiP: LfsProtocolServlet: Allow getLargeFileRepository to raise exceptions,"RFC/WiP: LfsProtocolServlet: Allow getLargeFileRepository to raise exceptions

According to the specification [1] the server may return the following
error responses:

- 403: The user has read, but not write access.
- 404: The repository does not exist for the user.
- 422: Validation error with one or more of the objects in the request.

Add exception classes to cover these cases, derived from a common base
exception, and change the specification of getLargeFileRepository to throw
the base exception.

In LfsProtocolServlet#post, handle the new exceptions and send back the
appropriate HTTP responses as mentioned above.

The specification also mentions optional response codes (406, 429, 501,
and 509) but these are not implemented in this commit. Implementing these
in follow-up commits should be trivial.

[1] https://github.com/github/git-lfs/blob/master/docs/api/v1/http-v1-batch.md#response-errors

Change-Id: I91be6165bcaf856d0cefc533882330962e2fc9b2
Signed-off-by: David Pursehouse <david.pursehouse@gmail.com>",0,0,0,0,0,1,1,0,0
78198,Ib6cfff65a033d0d0f76395060bf76719e13fc467,https://git.eclipse.org/r/#/c/78198,5,28c4098a2ad31f308454e280bb4338c10413eb71,d2f7623f88cf1f4b08b302e632ccd495b3adfb9f,1,29/07/16,07/08/16,124,Skip cleaning inner repositories by default in CleanCommand,"Skip cleaning inner repositories by default in CleanCommand

Previously jgit would list git repositories that had not been committed
as untracked files, which would result in a non-recursive delete being
called on them, which would fail as they are directories. This commit
addresses that issue in the following ways.
First, repositories are now listed with untrackedFolders so that a
recursive delete will be used, which is appropriate. Second,
repositories are skipped in a default clean, similarly to cgit and only
cleaned when the force flag is applied.

Bug: 498367
Change-Id: Ib6cfff65a033d0d0f76395060bf76719e13fc467
Signed-off-by: Matthaus Owens <matthaus@puppetlabs.com>",0,1,0,0,0,0,1,0,0
78236,I27961679f620eb3a89dc8521aadd4ea2f936c60e,https://git.eclipse.org/r/#/c/78236,3,ff3485736a5dc6c42e75dc1e3043e17f4ac6e5d5,f744fa08978069952b0f461eb5c88488823019d5,1,01/08/16,06/08/16,29,RFC: LfsProtocolServlet: Allow access to objects,"RFC: LfsProtocolServlet: Allow access to objects

Add getObjects method.

Make LfsObject public and add accessor methods.

Change-Id: I27961679f620eb3a89dc8521aadd4ea2f936c60e
Signed-off-by: David Pursehouse <david.pursehouse@gmail.com>",0,0,1,0,0,1,1,0,0
78341,I7b1f7c3b0d83e04d34cd2fa676f1ad4fec904c05,https://git.eclipse.org/r/#/c/78341,5,fe2a91b8d0bbb268d2e157ae8d06e6850c219173,0d40ecc448fdeede5bd66293b3e17304c18fbca0,1,02/08/16,05/08/16,92,Shallow fetch: avoid sending unneeded blobs,"Shallow fetch: avoid sending unneeded blobs

When doing an incremental fetch from JGit, ""have"" commits are marked
as ""uninteresting"". In a non-shallow fetch, when the RevWalk hits an
""uninteresting"" commit it marks the commit's corresponding tree as
uninteresting. That has the effect of dropping those trees and all the
trees and blobs they reference out of the thin pack returned to the
client.

However, shallow fetches use a DepthWalk to limit the RevWalk, which
nearly always causes the RevWalk to terminate before encountering the
""have"" commits. As a result the pack created for the incremental fetch
never encounters ""uninteresting"" tree objects and thus includes
duplicate objects that it knows the client already has.

Change-Id: I7b1f7c3b0d83e04d34cd2fa676f1ad4fec904c05
Signed-off-by: Terry Parker <tparker@google.com>",0,1,1,0,0,0,1,0,0
78342,I4d44e17a9af97c0203e2ebe112eabb1f67d272a6,https://git.eclipse.org/r/#/c/78342,4,3a6105bea46dc43b1b3d227fe48ea0927eee9db7,e80d836b2da3a881555943f9d1da8068cbcf4208,1,02/08/16,04/08/16,27,PackWriterTest: Improve readability,"PackWriterTest: Improve readability

Add wants(), haves(), and shallows() static utility functions to
improve readability.

Change-Id: I4d44e17a9af97c0203e2ebe112eabb1f67d272a6
Signed-off-by: Terry Parker <tparker@google.com>",0,1,0,0,0,0,1,0,0
78367,I5c6790719991931d615d821c900bfd90a20e540b,https://git.eclipse.org/r/#/c/78367,5,e1e96b369ba2bb8f1fb4a9b145ccaa5565b58755,5f6b66371177f8fbdc0a4e982d152ddb9985edac,1,03/08/16,15/08/16,22,BaseReceivePack: Removal of possibly extraneous exception condition,"BaseReceivePack: Removal of possibly extraneous exception condition

Change-Id: I5c6790719991931d615d821c900bfd90a20e540b
Signed-off-by: Dan Wang <dwwang@google.com>",0,1,1,1,0,0,1,0,0
78397,I24561b82c54ba3d6522582ca25105b204d777074,https://git.eclipse.org/r/#/c/78397,5,2ec6bba4ff2835a431d3bebcddd349177c3d2e98,98a6703012d2d63ddfc7ccabf3768d65cf1a8e5e,1,03/08/16,05/08/16,2,RevWalk: Make fields available to subclasses,"RevWalk: Make fields available to subclasses

Subclasses of RevWalk that override toObjectWalkWithSameObjects()
need to be able to directly set the objects and freeFlags fields, so
make them protected.

Change-Id: I24561b82c54ba3d6522582ca25105b204d777074
Signed-off-by: Terry Parker <tparker@google.com>",0,1,0,0,0,0,1,0,0
78398,I6e14b57b2f85e52d28cdcf356df647870f475440,https://git.eclipse.org/r/#/c/78398,8,821ec10f9a6137c723c311c81c07c4e939e6c7f5,9bf1f4d15c88898178fc7bd992e3f94441e2a654,1,03/08/16,05/08/16,112,Shallow fetch: Fix no objects returned on fetch of parent,"Shallow fetch: Fix no objects returned on fetch of parent

When there is a commit that a client reports as both a ""have"" and a 
""shallow"", if the ""want"" is the direct parent of of this
""have-and-shallow"" commit then no objects are returned in the pack.

UploadPack takes its RevWalk, invokes toObjectWalkWithSameObjects() on
it and supplies the resulting ObjectWalk to PackWriter. For non-
shallow fetches PackWriter uses this ObjectWalk to lookup RevCommits,
but in shallow fetches this ObjectWalk is thrown out and a new
DepthWalk.ObjectWalk is created.

The problem is that UploadPack called RevWalk.assumeShallow() for the
RevCommits corresponding to the client's shallows. That clears out
the RevCommit's parents, which prevents the propagation of the
""uninteresting"" flag to the parent commits of the ""have-and-shallow"" 
commits. But since the ObjectWalk is currently being thrown out, the
assumeShallow() state is lost, and the ""uninteresting"" state is being
propagated to these parents. That results in the server thinking it
shouldn't send objects corresponding to these ""want"" commits.

Attempting to fetch a deeper ancestor of a ""have-and-shallow"" commit
does not exhibit this bug because new RevWalk starts with no
RevCommits. RevCommits are only created for ""haves"" and ""wants"" and
their direct parents but not for deeper ancestors. So when the ""haves""
are marked as uninteresting, that marking stops at their direct
parents. Thus the ""want"" that is a deeper ancestor is not marked.

Change-Id: I6e14b57b2f85e52d28cdcf356df647870f475440
Signed-off-by: Terry Parker <tparker@google.com>",0,1,0,0,0,0,1,0,0
78409,I575cdb9c0a9a341b79ef5e3c7a35e68cde142540,https://git.eclipse.org/r/#/c/78409,2,5e40af349e9ef97e9265211285c7dc32256bc1eb,e2b30251973ddae4bafd927ab3a9cfa14d47297e,1,03/08/16,03/08/16,67,DiffFormatter: Support setting a reader without a repo,"DiffFormatter: Support setting a reader without a repo

Change-Id: I575cdb9c0a9a341b79ef5e3c7a35e68cde142540",0,0,0,1,0,0,1,0,0
78481,I87ed3c0f56c37e3491e367a41f5e555c4207ff44,https://git.eclipse.org/r/#/c/78481,5,60ba915bd9116c7fe62917e6a42744c78340b58a,0448bee88930257f31996a5efa38c459b0ddb39c,1,04/08/16,06/08/16,80,Shallow fetch/clone: Make --depth mean the total history depth,"Shallow fetch/clone: Make --depth mean the total history depth

cgit changed the --depth parameter to mean the total depth of history
rather than the depth of ancestors to be returned [1]. JGit still uses
the latter meaning, so update it to match cgit.

depth=0 still means a non-shallow clone. depth=1 now means only the
wants rather than the wants and their direct parents.

This is accomplished by changing the semantic meaning of ""depth"" in
UploadPack and PackWriter to mean the total depth of history desired,
while keeping ""depth"" in DepthWalk.{RevWalk,ObjectWalk} to mean
the depth of traversal. Thus UploadPack and PackWriter always
initialize their DepthWalks with ""depth-1"".

[1] upload-pack: fix off-by-one depth calculation in shallow clone
https://code.googlesource.com/git/+/682c7d2f1a2d1a5443777237450505738af2ff1a


Change-Id: I87ed3c0f56c37e3491e367a41f5e555c4207ff44
Signed-off-by: Terry Parker <tparker@google.com>",0,1,0,0,0,0,1,0,0
78513,If0dbd562dcd60550bec3c0f793289474b7624bce,https://git.eclipse.org/r/#/c/78513,1,8405c16de186387a9fb2c70e2aea5ccb048d6aaf,ecb8e71b249c396df61052c3d68bc49b87758dda,0,05/08/16,06/08/16,25,Remove references to org.eclipse.jgit.java7,"Remove references to org.eclipse.jgit.java7

The bundle org.eclipse.jgit.java7 was removed in 4.0.

Remove references to it from the README.md.

Remove reference to it from org.eclipse.jgit.test/.project, which
causes an error message when opening the project in Eclipse:

  Resource '/org.eclipse.jgit.java7' does not exist.

Change-Id: If0dbd562dcd60550bec3c0f793289474b7624bce
Signed-off-by: David Pursehouse <david.pursehouse@gmail.com>",0,0,0,0,0,0,0,NA,NA
78578,Ifbbf953f5389c6bd3ba960b598c0e92656b522e3,https://git.eclipse.org/r/#/c/78578,6,395766f8175e10a23a135e6e480eee6910b34221,e2fbf565a11a2d8037b998c08edb0109ad6a3d03,0,06/08/16,08/08/16,2,Bug 359288 - RequiredBundle com.jcraft.jsch is no bundle (should be replaced by Import-Package),"Bug 359288 - RequiredBundle com.jcraft.jsch is no bundle (should be replaced by Import-Package)

Change-Id: Ifbbf953f5389c6bd3ba960b598c0e92656b522e3
Signed-off-by: Jens Offenbach <wolle5050@gmx.de>",0,1,0,1,0,0,1,NA,NA
78586,If5db69ef3868e475ac477d3e8a7750b268799b0c,https://git.eclipse.org/r/#/c/78586,4,75ac1a8335fa42cef4f3e954eb93935114a0cffb,c04186bec78214a17fcdd88a18bc511b781ce0d5,0,07/08/16,24/08/16,16,"WIP: don't check lastModified,Length on folders","WIP: don't check lastModified,Length on folders

Change-Id: If5db69ef3868e475ac477d3e8a7750b268799b0c",0,1,1,1,0,1,1,NA,NA
78588,Ic718d23cfb3e74f5691cc2aea7283003af7df207,https://git.eclipse.org/r/#/c/78588,4,698f53293319b496305dc4ab12c87f116f923678,ca3cb7e42373c5ecfc5c5c6aeee0eca58dd945f8,1,08/08/16,09/08/16,46,LfsProtocolServlet: Reuse existing Writer when sending error response,"LfsProtocolServlet: Reuse existing Writer when sending error response

Trying to open a new writer on the response causes an illegal state
exception and the response is not sent.

Change-Id: Ic718d23cfb3e74f5691cc2aea7283003af7df207
Signed-off-by: David Pursehouse <david.pursehouse@gmail.com>",0,1,0,0,0,1,1,0,0
78621,I8db29a0313fbc476152cef47f2eaa76954f1e280,https://git.eclipse.org/r/#/c/78621,2,575c922c2f7c1aa039ced1f538f75776974c4971,28f85ca2372b2bbf42a269cb7fc0880ebdbb351b,1,08/08/16,08/08/16,11,Add missing @since tags for new API,"Add missing @since tags for new API

Change-Id: I8db29a0313fbc476152cef47f2eaa76954f1e280
Signed-off-by: Matthias Sohn <matthias.sohn@sap.com>",1,0,0,1,0,0,1,0,0
78622,I68bda7900b72e217571f74aee53705167f8100a2,https://git.eclipse.org/r/#/c/78622,2,4029a377ec59bcc0b5ccc33029decd29fa7eaf89,c26e0eab55305cb820f73498bb23cc5f9c1a9669,0,08/08/16,08/08/16,17,Silence API errors in LfsProtocolServlet,"Silence API errors in LfsProtocolServlet

bb9988c2 changed the signature of getLargeFileRepository() which is only
breaking implementors which is ok according to OSGi semantic versioning
rules.

Change-Id: I68bda7900b72e217571f74aee53705167f8100a2
Signed-off-by: Matthias Sohn <matthias.sohn@sap.com>",1,0,0,0,0,0,1,NA,NA
78642,Ib0d8c2946eebfea910a2b767fb92e23da15d4749,https://git.eclipse.org/r/#/c/78642,2,3a1c678fccdf2086f4e83ab510ae81e18278fa85,5423e7733dd1f59fbe7f63444b47ac499bd8d5c2,1,08/08/16,08/08/16,11,Shallow fetch: Pass a DepthWalk to PackWriter,"Shallow fetch: Pass a DepthWalk to PackWriter

d385a7a5e5ca (Shallow fetch: Respect ""shallow"" lines, 2016-08-03) forgot
that UploadPack wasn't passing a DepthWalk to PackWriter in the first
place.  As a result, shallow clones fail:

 java.lang.IllegalArgumentException: Shallow packs require a DepthWalk
        at org.eclipse.jgit.internal.storage.pack.PackWriter.preparePack(PackWriter.java:756)
        at org.eclipse.jgit.transport.UploadPack.sendPack(UploadPack.java:1497)
        at org.eclipse.jgit.transport.UploadPack.sendPack(UploadPack.java:1381)
        at org.eclipse.jgit.transport.UploadPack.service(UploadPack.java:774)
        at org.eclipse.jgit.transport.UploadPack.upload(UploadPack.java:667)
        at org.eclipse.jgit.http.server.UploadPackServlet.doPost(UploadPackServlet.java:191)

Change-Id: Ib0d8c2946eebfea910a2b767fb92e23da15d4749",0,0,0,0,0,0,0,0,0
78643,Idfb834825d77f51e17191c1635c9d78c78738cfd,https://git.eclipse.org/r/#/c/78643,3,5423e7733dd1f59fbe7f63444b47ac499bd8d5c2,c6c69efa3fb461add8d4f86e1e049fb15220c390,1,08/08/16,08/08/16,27,"Shallow fetch: Pass along ""shallow""s in unparsed-wants case, too","Shallow fetch: Pass along ""shallow""s in unparsed-wants case, too

Since 84d2738ff21c (Don't skip want validation when the client sends no
haves, 2013-06-21), this branch is never reached.  Process the
""shallow""s anyway as a defensive measure in case the code path gets
revived.

Change-Id: Idfb834825d77f51e17191c1635c9d78c78738cfd
Signed-off-by: Jonathan Nieder <jrn@google.com>",0,0,0,0,0,0,0,0,0
78644,I7d1c3b4d0b7ebc254b53404d1618522b0174ac23,https://git.eclipse.org/r/#/c/78644,2,0b6974161c1742c5227a8b7560db3d7478328b55,830e4c48073cd61aee8f0526397b4cd89b2861f5,1,08/08/16,08/08/16,10,"Merge changes Ib0d8c294,Idfb83482","Merge changes Ib0d8c294,Idfb83482

* changes:
  Shallow fetch: Pass along ""shallow""s in unparsed-wants case, too
  Shallow fetch: Pass a DepthWalk to PackWriter

Change-Id: I7d1c3b4d0b7ebc254b53404d1618522b0174ac23",0,0,0,0,0,0,0,0,0
78655,Id4fa272c611a855bf4ef1bf5399f3e4305664103,https://git.eclipse.org/r/#/c/78655,1,1d2d2c4a4b04b981ee8221b036bbc885de2ff625,796dfc21edf44f767e2ea11087779cebcd3ea69d,1,08/08/16,08/08/16,20,Document new PackWriter#preparePack variant's parameters and exceptions,"Document new PackWriter#preparePack variant's parameters and exceptions

Change-Id: Id4fa272c611a855bf4ef1bf5399f3e4305664103",0,0,0,1,0,0,1,0,0
78657,Ic9419d254c617e60a9b10e49205b11069442eb27,https://git.eclipse.org/r/#/c/78657,1,7a39a555352dfd644a7820101d26b0b03e2445db,ab7ee026328a15c938e3d46465682d7eea2b297a,1,09/08/16,09/08/16,2,PackWriter: Fix Javadoc tag for thrown exception in preparePack,"PackWriter: Fix Javadoc tag for thrown exception in preparePack

Use @throws instead of @param

Change-Id: Ic9419d254c617e60a9b10e49205b11069442eb27
Signed-off-by: David Pursehouse <david.pursehouse@gmail.com>",0,0,0,0,0,1,1,0,0
78659,I167f9e4746b8aa814b361e884c3c9a25e95b9d54,https://git.eclipse.org/r/#/c/78659,3,c7b074e52c70dab71e1c4994b8fddd68fa4e54bd,00a9fe44bded7be327cfefe6e6f876abef8fa8bd,0,09/08/16,09/08/16,1,Update .mailmap,"Update .mailmap

Change-Id: I167f9e4746b8aa814b361e884c3c9a25e95b9d54
Signed-off-by: David Pursehouse <david.pursehouse@gmail.com>",0,0,0,1,0,1,1,NA,NA
78660,I9e9b021d335bda4d58b6bcc30f59b81ac5b37724,https://git.eclipse.org/r/#/c/78660,1,43fd0e45cc5374feae8567bdc71aed7f92396c4b,09d6bd602c0ec54c384823a8efb94a8a16b8fb93,1,09/08/16,09/08/16,20,RepoCommand: Avoid group lists shadowing groups strings,"RepoCommand: Avoid group lists shadowing groups strings

Reported-by: David Pursehouse <david.pursehouse@gmail.com>
Change-Id: I9e9b021d335bda4d58b6bcc30f59b81ac5b37724
Signed-off-by: Jonathan Nieder <jrn@google.com>",0,0,0,0,0,0,0,0,0
78912,I2da5d25632f374b8625d64da4df70d1c9c406bb1,https://git.eclipse.org/r/#/c/78912,7,a492faa2853bdb6985c7f8507ece584fd82cd4b8,681e440edca25662b920a385c8a53c2900db2161,1,12/08/16,19/08/16,11,DownloadTest: Use enums from org.apache.http.HttpStatus,"DownloadTest: Use enums from org.apache.http.HttpStatus

Instead of using hard-coded HTTP status codes, use the enums
which makes it a bit easier to see what's expected.

Change-Id: I2da5d25632f374b8625d64da4df70d1c9c406bb1
Signed-off-by: David Pursehouse <david.pursehouse@gmail.com>",0,1,1,0,0,1,1,0,0
78953,I48e0280241b6b0f5706300ae0f4c9bc461a89110,https://git.eclipse.org/r/#/c/78953,2,7364c16b16159b3995b41b211b81424702952c30,eb23de224acad6dbfa9141eda2223b40e8d4ca6c,1,12/08/16,16/08/16,9,LfsProtocolServlet: Don't set pretty printing on Gson,"LfsProtocolServlet: Don't set pretty printing on Gson

Pretty printing is only used for outputting json content, and the
only time this Gson is used for output is when sending the error
message. The error message is interpreted by the client and does
not need to be pretty printed.

Change-Id: I48e0280241b6b0f5706300ae0f4c9bc461a89110
Signed-off-by: David Pursehouse <david.pursehouse@gmail.com>",0,0,1,0,0,1,1,0,0
79009,I88e6f07f20b622a670e7c5063145dffb8b630aee,https://git.eclipse.org/r/#/c/79009,2,5be685bca4f0b2608bca06d1f7491fb52b5304c1,c5bedcbd1e9a1f7058acef2f1656409c643451cf,1,13/08/16,16/08/16,5,LfsProtocolServlet: Always set the Content-Type header on response,"LfsProtocolServlet: Always set the Content-Type header on response

If the Content-Type is not set on error responses, the git-lfs client
does not read the body which contains the error message, and instead
just displays a generic error message.

Also set the charset on the Content-Type header.

Change-Id: I88e6f07f20b622a670e7c5063145dffb8b630aee
Signed-off-by: David Pursehouse <david.pursehouse@gmail.com>",0,0,1,0,0,1,1,0,0
79031,I7309360f5662b2c2efa1bd8ea6f112c63cf064af,https://git.eclipse.org/r/#/c/79031,3,ed235f13f4fa33b03aa4060857d667125bd30484,e5733c96ec4cca8e3a0ac672e080f393085a183b,1,15/08/16,14/09/16,252,Handle all values of branch.[name].rebase,"Handle all values of branch.[name].rebase

BranchConfig treated this config property as a boolean, but git also
allows the values ""preserve"" and ""interactive"". Config property
pull.rebase also allows the same values.

Replace private enum PullCommand.PullRebaseMode by new public enum
BranchConfig.BranchRebaseMode and adapt all uses. Add a new setter to
PullCommand.

Note: PullCommand will treat ""interactive"" like ""true"", i.e., as a
non-interactive rebase. Not sure how ""interactive"" should be handled.
At least it won't balk on it.

Bug: 499482
Change-Id: I7309360f5662b2c2efa1bd8ea6f112c63cf064af
Signed-off-by: Thomas Wolf <thomas.wolf@paranor.ch>",0,0,0,0,0,0,0,0,0
79214,I8b72d1aded2bcd41b7389676e2373034625a1379,https://git.eclipse.org/r/#/c/79214,4,ad4423beb3ce41867529eb48313e6bf5945768cf,b03870ed98069e2d78f84743a8e57d60ff755dab,1,17/08/16,20/08/16,3,LfsProtocolServlet: Always include message in error response,"LfsProtocolServlet: Always include message in error response

If the message is not sent, the client shows:

  Unable to parse HTTP response for POST http://admin@localhost:8080/test-project/info/lfs/objects/batch

Change-Id: I8b72d1aded2bcd41b7389676e2373034625a1379
Signed-off-by: David Pursehouse <david.pursehouse@gmail.com>",0,1,1,0,0,1,1,0,0
79237,If2ef6f454f7479158a4e28a12909837db483521c,https://git.eclipse.org/r/#/c/79237,6,7562e9e9c23001d462195843a3a1146b2ad768d5,ba359cbee42cd541dbffb82ebfa672b2d419fca3,1,17/08/16,24/08/16,59,Add HTTP status code to ServiceMayNotContinueException,"Add HTTP status code to ServiceMayNotContinueException

The exception can be thrown in a various reason, and sometimes 403
Forbidden is not appropriate. Make the HTTP status code customizable.

Change-Id: If2ef6f454f7479158a4e28a12909837db483521c
Signed-off-by: Masaya Suzuki <draftcode@gmail.com>",0,1,1,0,0,0,1,0,0
79246,I77556881579e66b2c13d187759c7efdddfee87ae,https://git.eclipse.org/r/#/c/79246,2,2169a8704214069657fc54c1e4972b1f8df85b87,2211aa9cef4d12049413889c3dc9d7977f66a15b,1,18/08/16,20/08/16,18,LfsRepositoryReadOnly: Fix missing space in message,"LfsRepositoryReadOnly: Fix missing space in message

Change-Id: I77556881579e66b2c13d187759c7efdddfee87ae
Signed-off-by: David Pursehouse <david.pursehouse@gmail.com>",0,0,0,1,0,1,1,0,0
79314,I7b93f3cf90f7344c90b1587e07927fdeb167097e,https://git.eclipse.org/r/#/c/79314,2,a6c2ad80d5900ec18cb3eeb85829263268b2f5e4,8d75b5ebf0dda80fba09fb8af55ced7c58404dfc,1,19/08/16,20/08/16,132,LfsProtocolServlet: Add support for rate limit and bandwidth limit errors,"LfsProtocolServlet: Add support for rate limit and bandwidth limit errors

The git-lfs specification [1] describes the following optional status codes
that may be returned:

429 - The user has hit a rate limit with the server. Though the API does
      not specify any rate limits, implementors are encouraged to set some
      for availability reasons.

509 - Returned if the bandwidth limit for the user or repository has been
      exceeded. The API does not specify any bandwidth limit, but implementors
      may track usage.

Add two new exception classes to represent these cases. Implementations may
throw these from #getLargeFileRepository(), causing the corresponding HTTP
status codes to be returned to the client.

[1] https://github.com/github/git-lfs/blob/master/docs/api/v1/http-v1-batch.md

Change-Id: I7b93f3cf90f7344c90b1587e07927fdeb167097e
Signed-off-by: David Pursehouse <david.pursehouse@gmail.com>",0,0,0,0,0,1,1,0,0
79315,If5bc0a35fcf870d4216af6ca2f7c8924689ef9c5,https://git.eclipse.org/r/#/c/79315,4,7188ea7105c368275bc266ae183ae874a6bd2394,e1edc67b691eeebd4c02eac09b5f992d3ae88938,1,19/08/16,25/08/16,65,WiP: LfsProtocolServlet: Add support for insufficient storage error,"WiP: LfsProtocolServlet: Add support for insufficient storage error

According to the feature request [1] and planned roadmap update [2] on
git-lfs, the specification will allow the server to return HTTP 507 if
there is insufficient storage for the uploaded object(s).

Add a new exception class, which implementations may throw from the
getRepository() method, causing HTTP 507 to be returned to the client.

[1] https://github.com/github/git-lfs/issues/1327
[2] https://github.com/github/git-lfs/pull/1438

Change-Id: If5bc0a35fcf870d4216af6ca2f7c8924689ef9c5
Signed-off-by: David Pursehouse <david.pursehouse@gmail.com>",0,1,1,0,0,1,1,0,0
79324,I05d5392789b5b64e6ee44f678556cf25dc30d7ba,https://git.eclipse.org/r/#/c/79324,5,431a34dd5dc338068f30833bd60f5c8016fd8bde,cb872f468e6467cc5fe8f71cec526fe439d64ffa,1,19/08/16,30/08/16,230,Added a clean command.,"Added a clean command.

Change-Id: I05d5392789b5b64e6ee44f678556cf25dc30d7ba
Signed-off-by: Ned Twigg <ned.twigg@diffplug.com>",0,1,1,1,0,0,1,0,0
79327,I438456b76aefd361384729686271288186d3be3b,https://git.eclipse.org/r/#/c/79327,4,d20e749f6398eb8469f9ecadaac9a7af1717a1b2,91ea3a265207028c0f4eb87a3f06835d8c9f6dba,1,19/08/16,30/08/16,62,Tag can now delete a tag.,"Tag can now delete a tag.

Change-Id: I438456b76aefd361384729686271288186d3be3b
Signed-off-by: Ned Twigg <ned.twigg@diffplug.com>",0,1,1,1,0,0,1,0,0
79374,Ie2133aca1f8083307c73b6a26358175864f100ef,https://git.eclipse.org/r/#/c/79374,2,2956a1cebeda841254a192f9133be9a4ec90db7e,1875b092e89dd8f570d6345dda482bc3ef091a3a,1,19/08/16,19/08/16,15,DfsObjDatabase: clear PackList dirty bit if no new packs,"DfsObjDatabase: clear PackList dirty bit if no new packs

If a reference was updated more recently than a pack was written
(typical) the PackList was perpetually dirty until the next GC
was completed for the repository.

Detect this condition by observing no changes to the PackList
membership and resetting the dirty bit.

Change-Id: Ie2133aca1f8083307c73b6a26358175864f100ef",0,0,0,0,0,0,0,0,0
79386,I30c7ac78e05b00bd0152f697848f4d17d53efd17,https://git.eclipse.org/r/#/c/79386,2,c0adb4b80cf3f97ac109ef46c58a99fee641b38d,a564ffa969ee7f8d96c45866f81bde77e6384eac,0,19/08/16,19/08/16,11,Ignore IOException thrown from close,"Ignore IOException thrown from close

AddCommandTest is flaky because IOException is thrown sometimes.

Caused by: java.io.IOException: Stream closed
        at java.lang.ProcessBuilder$NullOutputStream.write(ProcessBuilder.java:433)
        at java.io.OutputStream.write(OutputStream.java:116)
        at java.io.BufferedOutputStream.flushBuffer(BufferedOutputStream.java:82)
        at java.io.BufferedOutputStream.flush(BufferedOutputStream.java:140)
        at java.io.FilterOutputStream.close(FilterOutputStream.java:158)
        at org.eclipse.jgit.util.FS.runProcess(FS.java:993)
        at org.eclipse.jgit.util.FS.execute(FS.java:1102)
        at org.eclipse.jgit.treewalk.WorkingTreeIterator.filterClean(WorkingTreeIterator.java:470)
        ... 22 more

OpenJDK replaces the underlying OutputStream with NullOutputStream when
the process exits. This throws IOException for all write operation. When
it exits before JGit writes the input to the pipe buffer, the input
stays in BufferedOutputStream. The close method tries to write it again,
and IOException is thrown.

Since we ignore IOException in StreamGobbler, we also ignore it when
we close the stream.

Change-Id: I30c7ac78e05b00bd0152f697848f4d17d53efd17
Signed-off-by: Masaya Suzuki <draftcode@gmail.com>",0,0,0,0,0,0,0,NA,NA
79407,I9e587583c85cb6efa7562ad6c5f26577869a2e7c,https://git.eclipse.org/r/#/c/79407,5,17ae31615a1cef183f2382b4edeb637f432e0dac,334a9e3f0ed46fbba0591179bc73ebb165f8a489,1,21/08/16,24/08/16,63,Use FS#lastModified instead of File#lastModified,"Use FS#lastModified instead of File#lastModified

FS uses java.nio API to get file attributes. The timestamps obtained from that
API are more precise than the ones from java.io.File#lastModified().

This difference accidentally makes JGit detect newly added files as smudged. Use
the precised timestamp to avoid this false positive.

https://eclipse.googlesource.com/jgit/jgit/+/e96cb22a43e8e67274e39b3d5fb852a20e9b3a04/org.eclipse.jgit/src/org/eclipse/jgit/dircache/DirCache.java#499
https://eclipse.googlesource.com/jgit/jgit/+/e96cb22a43e8e67274e39b3d5fb852a20e9b3a04/org.eclipse.jgit/src/org/eclipse/jgit/dircache/DirCache.java#696

Change-Id: I9e587583c85cb6efa7562ad6c5f26577869a2e7c
Signed-off-by: Masaya Suzuki <masayasuzuki@google.com>",0,1,1,0,0,0,1,0,0
79417,I25f103fcc723bac7bfaaeee333a86f11627a92c7,https://git.eclipse.org/r/#/c/79417,4,83becb2c2294327d5aab9c3228141a4cd561ce16,096353c70215d1f6a82d66c0f2e6e9056e3d755f,1,22/08/16,21/10/16,7,Fix possible SIOOBE in RefDirectory.parsePackedRefs,"Fix possible SIOOBE in RefDirectory.parsePackedRefs

This SIOOBE happens reproducibly when trying to access
a repository containing Cygwin symlinks

Change-Id: I25f103fcc723bac7bfaaeee333a86f11627a92c7
Signed-off-by: David Pursehouse <marc.strapetz@syntevo.com>",0,1,0,0,0,0,1,0,0
79472,I5028c064f3ac090510386057cb4e6d30d4eae232,https://git.eclipse.org/r/#/c/79472,9,1dda2026322e6be47c7cf604dfb5c921facab624,58539cd53d0dc13463b30ae47779972a09c17884,1,23/08/16,24/08/16,36,Packet logging for JGit,"Packet logging for JGit

Change-Id: I5028c064f3ac090510386057cb4e6d30d4eae232
Signed-off-by: Dan Wang <dwwang@google.com>",0,1,0,1,0,0,1,0,0
79582,Id8193524c40394a90b8315ab0b8256670d618cb5,https://git.eclipse.org/r/#/c/79582,1,39ec0af3258104fc680b682a48595ca5faa057ff,cb75da80e9faae2963343805457607d723381b5c,0,24/08/16,24/08/16,30,Added Java 7 launch config with LANG env. variable set,"Added Java 7 launch config with LANG env. variable set

This avoids symlink test errors on Linux

Change-Id: Id8193524c40394a90b8315ab0b8256670d618cb5
Signed-off-by: Andrey Loskutov <loskutov@gmx.de>",1,0,0,0,0,0,1,NA,NA
79622,Ib963e04efc252bdd0420a5c69b1a19181e9e6169,https://git.eclipse.org/r/#/c/79622,1,cb75da80e9faae2963343805457607d723381b5c,3e3fa211ccf5005f29956f2cbb387650f8224012,1,24/08/16,26/08/16,45,Fix HttpClientConnection leaking temporary buffer files,"Fix HttpClientConnection leaking temporary buffer files

HttpClientConnection uses a TemporaryBufferEntity which uses
TemporaryBuffer.LocalFile to buffer an HttpEntity. It was leaking
temporary files if the buffered entities were larger than 1MB since it
failed to destroy the TemporaryBuffer.LocalFile.

Bug: 500079
Change-Id: Ib963e04efc252bdd0420a5c69b1a19181e9e6169
Signed-off-by: Matthias Sohn <matthias.sohn@sap.com>",0,0,0,0,0,0,0,0,0
79653,Ia4f13840cc54d8ba54e99b1432108f1c43022c53,https://git.eclipse.org/r/#/c/79653,3,204cd478abe768ed32f95774fec8e1238e602950,9f1c260715136c481f0b0b8f2e252639898af2cb,1,24/08/16,24/08/16,4,push: do not use push options by default,"push: do not use push options by default

If the user did not specify push options, we do not intend to use them
as the server may or may not support them.

BUG: 500149

Change-Id: Ia4f13840cc54d8ba54e99b1432108f1c43022c53
Signed-off-by: Stefan Beller <sbeller@google.com>",0,0,0,0,0,0,0,0,0
79731,I7c49ccebe1cb00bcde6b002b522d95c13fd3a35e,https://git.eclipse.org/r/#/c/79731,2,c6dccd59d2ed9a5b43c50b685aed4314491f424f,1a6c7294146ad87dbd50570b535179a271bb5cad,1,25/08/16,25/08/16,189,Add a RepeatRule to help repeating flaky tests,"Add a RepeatRule to help repeating flaky tests

A JUnit TestRule which enables to run the same JUnit test repeatedly.
This may help to identify the root cause why a flaky tests which succeed
most often does fail sometimes.

Add the RepeatRule to the test class containing the test to be repeated:

public class MyTest {
	@Rule
	public RepeatRule repeatRule = new RepeatRule();
	...
}
 
and annotate the test to be repeated with the @Repeat(n=<repetitions>)
annotation:
 
	@Test
	@Repeat(n = 100)
	public void test() {
		...
	}
 
then this test will be repeated 100 times. If any test execution fails
test repetition will be stopped.

Change-Id: I7c49ccebe1cb00bcde6b002b522d95c13fd3a35e
Signed-off-by: Matthias Sohn <matthias.sohn@sap.com>",0,0,0,0,0,0,0,0,0
79782,I47f3f6749a67da52029f84e002d9b155ed56d2b7,https://git.eclipse.org/r/#/c/79782,4,754cf0609d842c3b523fb1b166e4aec127bc9a9b,e3c17f8874475eb37b62f8ad17f2e5ac63019e8e,0,26/08/16,20/09/16,345,Change JGit minimum execution environment to JavaSE-1.8,"Change JGit minimum execution environment to JavaSE-1.8

Bug: 500059
Change-Id: I47f3f6749a67da52029f84e002d9b155ed56d2b7
Signed-off-by: Matthias Sohn <matthias.sohn@sap.com>",0,1,0,0,0,0,1,NA,NA
79786,I3fb0e77f54895b123679a405e1b6ba5b95752ff0,https://git.eclipse.org/r/#/c/79786,2,4d40acb2a8fe2869bb9cc265c5359b62215fc0c4,99a805375b4a55b7d355ccba101700546293322d,1,26/08/16,26/08/16,21,DfsReader: check object type during open,"DfsReader: check object type during open

Do not open an OBJ_TREE if the caller is expecting an OBJ_BLOB or
OBJ_COMMIT; instead throw IncorrectObjectTypeException.  This better
matches behavior of WindowCursor, the ObjectReader implementation of
the local file based object store.

Change-Id: I3fb0e77f54895b123679a405e1b6ba5b95752ff0",0,0,0,0,0,0,0,0,0
79886,I094c60942e04de82cb6d8433c9cd43a46ffae332,https://git.eclipse.org/r/#/c/79886,2,bda6b1ce842a00b898562267281c5a163aef92f6,0af5c521b92891b1510e3a84e71296b41da37223,1,26/08/16,26/08/16,6,BaseReceivePack: initialize pushOptions when we decide to use them,"BaseReceivePack: initialize pushOptions when we decide to use them

Initialize pushOptions when we decide to use them, instead of when we
advertise them.

In the case of Http the advertisement is in a different network request,
hence in a different instance of the BaseReceivePack.

Change-Id: I094c60942e04de82cb6d8433c9cd43a46ffae332
Signed-off-by: Stefan Beller <sbeller@google.com>",0,0,0,0,0,0,0,0,0
79887,Ib07d18c877628aba07da07cd91875f918d509c49,https://git.eclipse.org/r/#/c/79887,4,519c859ebf19995b9098dee162bfa05be53425b4,6bf0146ef222be756484d1ba786409d50308f203,1,26/08/16,26/08/16,151,ReceivePack: Fix push options received over HTTP,"ReceivePack: Fix push options received over HTTP

Capabilities are not transmitted during the POST request that contains
the commands and pack data, which caused the pushOptions list to stay
initialized as null.

Refactor all of the push option support code to allocate the list
immediately before parsing the options section off the stream.

Move option support down to ReceivePack instead of BaseReceivePack.
Push options are specific to the ReceivePack protocol and are not
likely to appear in the 4 year old subscription proposal.  These
changes are OK before JGit 4.5 ships as no consumer should be relying
on these new APIs.

Change-Id: Ib07d18c877628aba07da07cd91875f918d509c49",0,1,0,0,0,0,1,0,0
79889,Ie271e9e789a5bc764a287f7bd2a8c8af297d7d41,https://git.eclipse.org/r/#/c/79889,1,6bf0146ef222be756484d1ba786409d50308f203,e7bb0a981a5c21e1bcff6ee00f1dd2750c34d200,1,26/08/16,26/08/16,2,Make GC.RepoStatistics static,"Make GC.RepoStatistics static

Noticed by error-prone (http://errorprone.info/bugpattern/ClassCanBeStatic).

Change-Id: Ie271e9e789a5bc764a287f7bd2a8c8af297d7d41",0,0,0,0,0,0,0,0,0
79907,I4967b5f7a9a7e9488d20f60aaa949efe97442429,https://git.eclipse.org/r/#/c/79907,2,e7bb0a981a5c21e1bcff6ee00f1dd2750c34d200,bb993dc51db20952704522a6baec75bc3af41083,1,29/08/16,30/08/16,7,Add Javadoc for LFS exception messages,"Add Javadoc for LFS exception messages

Change-Id: I4967b5f7a9a7e9488d20f60aaa949efe97442429
Signed-off-by: David Pursehouse <david.pursehouse@gmail.com>",0,0,0,1,0,1,1,0,0
79908,I33e2a19fcc0fde8aaf0f703860c8fa8ce2de2db5,https://git.eclipse.org/r/#/c/79908,2,351a376dcd7853eb89f52b1c46a187b78fc208cb,9a854922b9d530b8cc566010500fa3bb70371366,1,29/08/16,30/08/16,90,Add specific exception for LFS unavailable,"Add specific exception for LFS unavailable

Instead of returning null, LfsProtocolServlet#getLargeFileRepository
should throw LfsUnavailable.

If null is returned, throw a generic LfsException.

Handle LfsException as an internal server error and return HTTP 500.

Change-Id: I33e2a19fcc0fde8aaf0f703860c8fa8ce2de2db5
Signed-off-by: David Pursehouse <david.pursehouse@gmail.com>",0,0,0,0,0,1,1,1,1
79955,I303a30e54942ad067c79251eff8b53329c406628,https://git.eclipse.org/r/#/c/79955,3,1dfdfb21cc04487316e9b503c08e811ce2ca3304,16c901aacc9e41d8e93e7ce0340a5832c92b7b9b,1,29/08/16,29/08/16,24,ReceivePack: allow push options to be set,"ReceivePack: allow push options to be set

Some embeddings of JGit require creating a ReceivePack instance in
another process from the one that handled the network socket with the
client.  Similar to the PushCertificate add a setter to allow the
option list to be supplied.

Change-Id: I303a30e54942ad067c79251eff8b53329c406628",0,0,0,0,0,0,0,0,0
79956,Icdc3755194373966e5819284aeb9bfe8dd34de82,https://git.eclipse.org/r/#/c/79956,2,cf966fd34e866fa0c20f82dcbe653baef59ddbe6,984cdad73c3e9d6a51e4a74e9c64405ae1c2cf4a,1,29/08/16,29/08/16,20,ReceivePack: simplify getPushOptions,"ReceivePack: simplify getPushOptions

Checking if the instance allows push options before returning the
collection or null is a bit overkill. Just return the collection
or return null.

Change-Id: Icdc3755194373966e5819284aeb9bfe8dd34de82",0,0,0,0,0,0,0,0,0
79957,I13a66f9100e2dc8ca8f72cd701a5bd44d093ec84,https://git.eclipse.org/r/#/c/79957,2,75c195c25a432662a3f6fb28088f04fc68bc86d7,4be0519ad552702e6f7e902e5722ad126d26ccb8,1,29/08/16,29/08/16,34,ReceivePack: integrate push option parsing into recvCommands,"ReceivePack: integrate push option parsing into recvCommands

This allows the same try/catch to handle parsing the command list,
push certificate and push options. Any errors will be caught and
handled by the same catch block, as the client is in the same state.

Change-Id: I13a66f9100e2dc8ca8f72cd701a5bd44d093ec84",0,0,0,0,0,0,0,0,0
79981,Ie1e59c566b63d0dfac231e44e7ebd7f3f08f3e9f,https://git.eclipse.org/r/#/c/79981,2,4be0519ad552702e6f7e902e5722ad126d26ccb8,93100f30443d5733a42efec257e1db29f5bf6a9f,1,30/08/16,22/10/16,34,Checkout now has the ability to checkout all paths.,"Checkout now has the ability to checkout all paths.

Change-Id: Ie1e59c566b63d0dfac231e44e7ebd7f3f08f3e9f
Signed-off-by: Ned Twigg <ned.twigg@diffplug.com>",0,0,0,1,0,0,1,0,0
80062,I74fb76cdf6b7cdef513f3fe8c144572e869cc533,https://git.eclipse.org/r/#/c/80062,2,7b6c091d75c609302c8cc68fbecb291477b3e046,22a916cc542fc073208d186b09d7a2918ee56519,1,30/08/16,01/09/16,23,Improve JavaDoc for LfsProtocolServlet.getLargeFileRepository,"Improve JavaDoc for LfsProtocolServlet.getLargeFileRepository

Guide implementors which exception to throw in case of errors.

Change-Id: I74fb76cdf6b7cdef513f3fe8c144572e869cc533
Signed-off-by: Matthias Sohn <matthias.sohn@sap.com>",0,0,0,0,0,0,0,0,0
80351,Ic46c9d89a7e919ae4a69487fa06de0478d2b21f0,https://git.eclipse.org/r/#/c/80351,1,22a916cc542fc073208d186b09d7a2918ee56519,2a93a803ca0162bc8590baddf90176541b3261d2,1,03/09/16,05/09/16,2,Rename FSJava7Test to FSTest,"Rename FSJava7Test to FSTest

Since 4.0 JGit does no longer support Java versions older than Java 7 so
there is no need anymore to mention Java 7 in the class name.

Change-Id: Ic46c9d89a7e919ae4a69487fa06de0478d2b21f0
Signed-off-by: Matthias Sohn <matthias.sohn@sap.com>",0,0,0,0,0,0,0,0,0
80352,I7acce1f1787960b5ca98377cb5c7f599a8a220b5,https://git.eclipse.org/r/#/c/80352,2,2a93a803ca0162bc8590baddf90176541b3261d2,0f9237adb97447e95d1a73da1864f8b3c3af7a0d,0,03/09/16,05/09/16,3,Add missing dependency to slf4j-logg4j bridge,"Add missing dependency to slf4j-logg4j bridge

Without the bridge JGit tests don't show log output in Eclipse console.

Change-Id: I7acce1f1787960b5ca98377cb5c7f599a8a220b5
Signed-off-by: Matthias Sohn <matthias.sohn@sap.com>",0,0,0,0,0,0,0,NA,NA
80360,I94ae3caec22150dde81f1ea8e1e665df55290d42,https://git.eclipse.org/r/#/c/80360,3,0f9237adb97447e95d1a73da1864f8b3c3af7a0d,90eed70a7c403c8e6598cbd33268950eaa568eb1,1,04/09/16,06/09/16,215,Don't log error if system git config does not exist,"Don't log error if system git config does not exist

- enhance FS.readPipe to throw an exception if the external command
fails to enable the caller to handle the command failure
- reduce log level to warning if system git config does not exist
- improve log message 

Bug: 476639
Change-Id: I94ae3caec22150dde81f1ea8e1e665df55290d42
Signed-off-by: Matthias Sohn <matthias.sohn@sap.com>",0,0,0,0,0,0,0,0,0
80865,I6691b454404dd4db3c690ecfc7515de765bc2ef7,https://git.eclipse.org/r/#/c/80865,3,a96436ad453809611c20f252b95015d3efccabac,879ac4e04918a32a73a8aa43ddc3e89945f520bb,1,10/09/16,14/09/16,210,Add post-commit hook,"Add post-commit hook

This has been tried before but the corresponsing Change doesn't merge
(anymore) and seems to be stalled.

Change-Id: I6691b454404dd4db3c690ecfc7515de765bc2ef7
Signed-off-by: Martin Goellnitz <m.goellnitz@outlook.com>",0,0,1,0,0,0,1,0,0
81050,I854215c0956fd0b36843d631780be303e021b8be,https://git.eclipse.org/r/#/c/81050,4,8b5bee7eaec21e4547c5b90323fc809b87ec3e22,e3290f6b074bc296d5519275b181bb2607b2917a,1,14/09/16,20/09/16,270,Add ReceivedPackStatistics for PackParser,"Add ReceivedPackStatistics for PackParser

This is like PackStatistics, but for PackParser.

Change-Id: I854215c0956fd0b36843d631780be303e021b8be
Signed-off-by: Masaya Suzuki <masayasuzuki@google.com>",0,1,1,0,0,0,1,1,1
81058,I7fabc2654af97011c62f46d5c30ee992341e45e2,https://git.eclipse.org/r/#/c/81058,3,43acea1ecca2bb39d059310968ba9b2a5a36db7a,1db048040e987a1f80707afc9c765e4656392329,1,14/09/16,14/09/16,97,Ignore trailing spaces in directory rule patterns,"Ignore trailing spaces in directory rule patterns

Bug: 500967
Change-Id: I7fabc2654af97011c62f46d5c30ee992341e45e2
Signed-off-by: Andrey Loskutov <loskutov@gmx.de>",0,0,0,0,0,0,0,0,0
81363,Id2eafc331ee32c332c2a9b867b05c260beb0d10f,https://git.eclipse.org/r/#/c/81363,1,cae0ed1cfcd15100767a75e31999a2583097b90b,06cd6ab25985d38e6d22504131354b310574b19b,0,19/09/16,19/09/16,608,Prepare 4.6.0-SNAPSHOT builds,"Prepare 4.6.0-SNAPSHOT builds

Change-Id: Id2eafc331ee32c332c2a9b867b05c260beb0d10f
Signed-off-by: Matthias Sohn <matthias.sohn@sap.com>",1,0,0,1,1,0,1,NA,NA
81491,I2d79a7cf1e3bce21a490905ccd9d5e502d7b8421,https://git.eclipse.org/r/#/c/81491,2,5196a1b5e0e71a4b81258d25b85f9cbd11691342,4a456726ad9d9ddbb3afbc395cea4846c1b45851,1,20/09/16,24/09/16,148,Fix carrying over flags during a RevWalk,"Fix carrying over flags during a RevWalk

There was a bug when carrying over flags from a merge commit to its non-first
parents. The first parent of a merge commit was handled differently and correct
but the non-first parents are handled by a recursive algorithm. Flags should be
copied from the root merge commit to parent-2, to grandparent-2, ... up to the
limit of STACK_DEPTH==500 parents-levels. But the recursive algorithm  was
always copying only to the direct parents of the merge commit and not the
grand*-parents.

This seems to be no problem when commits are handled in a strict date order
because then copying only one level is no problem if children are handled
before parents. But when commits are not seperated anymore by distinctive
correct dates (e.g. because all commits have the same date) then it may happen
that a merge-parent is handled before the merge commit and when dealing later
with the merge commit one has to copy flags down to more than one level

Bug: 501211
Change-Id: I2d79a7cf1e3bce21a490905ccd9d5e502d7b8421",0,0,1,0,0,1,1,0,0
81505,I8f0bff1433762561e02f7439db27a6a9e846c290,https://git.eclipse.org/r/#/c/81505,4,1ebfd2df7cf7fddb83e786df7f81b01861acde85,84318608c14b950b725fb101f02677814a56e8e1,1,20/09/16,22/09/16,105,HttpClientConnection: Don't use deprecated HttpClient classes,"HttpClientConnection: Don't use deprecated HttpClient classes

Change-Id: I8f0bff1433762561e02f7439db27a6a9e846c290
Signed-off-by: David Pursehouse <david.pursehouse@gmail.com>",0,1,0,1,0,1,1,0,0
81532,Ic27106f38af14833147f739179c3ef8ec6b6ee31,https://git.eclipse.org/r/#/c/81532,4,06ef4d3820442af1a83c0b0b806e6a1477d4819b,fede44d2812af58d78d2b2e821824d37d6265611,1,21/09/16,22/09/16,6,AppServer: Remove unnecessary 'unused' suppressions,"AppServer: Remove unnecessary 'unused' suppressions

Change-Id: Ic27106f38af14833147f739179c3ef8ec6b6ee31
Signed-off-by: David Pursehouse <david.pursehouse@gmail.com>",0,1,0,1,0,1,1,0,0
81533,Id248002b9bdf23db192427196d54c722a012106c,https://git.eclipse.org/r/#/c/81533,4,3ef476a11f87fe691519aac6e0f4fa1ae0ab475e,b05f4e0c7b9feb49b3b4b34ac433cd6678bcf67b,1,21/09/16,22/09/16,4,Suppress deprecation warnings related to UploadPackLogger,"Suppress deprecation warnings related to UploadPackLogger

UploadPackLogger is deprecated but will not be removed until
JGit version 5.0.

Suppress the unavoidable deprecation warnings on usages of the
interface that are kept for backwards compatibility.

Add a TODO so that we don't forget to remove it in 5.0.

Change-Id: Id248002b9bdf23db192427196d54c722a012106c
Signed-off-by: David Pursehouse <david.pursehouse@gmail.com>",0,1,0,0,0,1,1,0,0
81541,I268e66d2299a1a12f7ae44b67a6b947339038245,https://git.eclipse.org/r/#/c/81541,4,57c325147ae3980971945c0a35b53be75a41df74,90cf261e0491cdf6654b00357b72467c77d9f1a8,1,21/09/16,22/09/16,2,WrappedRequest: Don't use deprecated ServletRequestWrapper#realPath,"WrappedRequest: Don't use deprecated ServletRequestWrapper#realPath

Change-Id: I268e66d2299a1a12f7ae44b67a6b947339038245
Signed-off-by: David Pursehouse <david.pursehouse@gmail.com>",0,1,0,1,0,1,1,0,0
81542,I23386808848746d201ca1ac13f114c06fc8e86c5,https://git.eclipse.org/r/#/c/81542,4,7ea1dcfbdab1ebc324aad200169a79829481e319,61636a3b8554fb0467e683277839e01647705fad,1,21/09/16,22/09/16,1,LfsServerTest: Remove unnecessary suppression of 'restriction' warning,"LfsServerTest: Remove unnecessary suppression of 'restriction' warning

Change-Id: I23386808848746d201ca1ac13f114c06fc8e86c5
Signed-off-by: David Pursehouse <david.pursehouse@gmail.com>",0,1,0,1,0,1,1,0,0
81544,Ic3b45525c6c8200cba975d14c7650cedb4409a4d,https://git.eclipse.org/r/#/c/81544,3,f9b2faf0918a29db5fcfe91b26932e503ba38652,ed7cb29ee72d0430a323c222ed11af36be785643,1,21/09/16,22/09/16,2,DfsBlockCache: Suppress warnings about unchecked conversion of Ref<T>,"DfsBlockCache: Suppress warnings about unchecked conversion of Ref<T>

There are already suppressions for the same warnings in other parts
of this class.

Change-Id: Ic3b45525c6c8200cba975d14c7650cedb4409a4d
Signed-off-by: David Pursehouse <david.pursehouse@gmail.com>",0,0,0,0,0,1,1,0,0
81563,I19392d1eaa17f27ae44b55eea49dcff05a52f298,https://git.eclipse.org/r/#/c/81563,2,0f9cde71a24fa311224cbe80f61b1d1d97582b30,6c9313903cfa15715c8af6cd7a2534828da84a06,1,21/09/16,21/09/16,8,Unconditionally close repository in unregisterAndCloseRepository,"Unconditionally close repository in unregisterAndCloseRepository

Repository.close() method is used when reference counting and expiration
needs to be honored. The RepositoryCache.unregisterAndCloseRepository
method should close the repository unconditionally. This is also indicated
from its javadoc.

Change-Id: I19392d1eaa17f27ae44b55eea49dcff05a52f298",0,0,0,0,0,0,0,0,0
81586,Idc02a1a1d74f84605d764c239803f0cfbad94eb7,https://git.eclipse.org/r/#/c/81586,1,6c9313903cfa15715c8af6cd7a2534828da84a06,3b3bd2d9b81db465bcb51bda8682ee6095a0d782,0,21/09/16,21/09/16,118,JGit v4.5.0.201609210915-r,"JGit v4.5.0.201609210915-r

Change-Id: Idc02a1a1d74f84605d764c239803f0cfbad94eb7
Signed-off-by: Matthias Sohn <matthias.sohn@sap.com>",0,0,0,1,0,0,1,NA,NA
81589,Ibfd11669cd74d2e62b014c18fd39b646b200c8c5,https://git.eclipse.org/r/#/c/81589,2,f11a470d8bf4b12910ba8e0b825d9316d1609b10,80084ad2749a07664be4bf4eb2bce8439fd9e404,0,21/09/16,21/09/16,616,Merge branch 'stable-4.5',"Merge branch 'stable-4.5'

* stable-4.5:
  JGit v4.5.0.201609210915-r
  Unconditionally close repository in unregisterAndCloseRepository

Change-Id: Ibfd11669cd74d2e62b014c18fd39b646b200c8c5
Signed-off-by: David Pursehouse <david.pursehouse@gmail.com>",0,0,0,0,1,1,1,NA,NA
81603,I3305e8a09a3fb06f25a316cff2bdbb551d3ade68,https://git.eclipse.org/r/#/c/81603,1,d14e5b0656119465de2ddc4d2e3adfdec681310d,4d9836e7520924c8bc68ad2710c6f7e273e8c894,0,21/09/16,21/09/16,604,Prepare 4.5.1-SNAPSHOT builds,"Prepare 4.5.1-SNAPSHOT builds

Change-Id: I3305e8a09a3fb06f25a316cff2bdbb551d3ade68
Signed-off-by: Matthias Sohn <matthias.sohn@sap.com>",1,0,0,1,1,0,1,NA,NA
81606,Iefc77114de21e7a101642f5c3a8f0fb317886ba2,https://git.eclipse.org/r/#/c/81606,2,4d9836e7520924c8bc68ad2710c6f7e273e8c894,eb71c0bb2f3293d42978a8f1c4521dc085b40d6c,0,21/09/16,21/09/16,11,Apply maven-javadoc-plugin configuration also to site generation,"Apply maven-javadoc-plugin configuration also to site generation

Change-Id: Iefc77114de21e7a101642f5c3a8f0fb317886ba2
Signed-off-by: Matthias Sohn <matthias.sohn@sap.com>",1,0,0,1,0,0,1,NA,NA
81641,I33e027dbd0995ba36491bd9e2d4b3c84f9f0abd6,https://git.eclipse.org/r/#/c/81641,1,9b38a88510679d66dd32c7f217c2696e2b7c395b,551464d93f4c2ddd8504ae41153f23ab542003f3,1,21/09/16,22/09/16,6,Fix wrong @since tags introduced by 1beb3ccd,"Fix wrong @since tags introduced by 1beb3ccd

1beb3ccd1ed3be0dde703a604deeff3a4b9f27eb was submitted in 4.6.0-SNAPSHOT

Change-Id: I33e027dbd0995ba36491bd9e2d4b3c84f9f0abd6
Signed-off-by: Matthias Sohn <matthias.sohn@sap.com>",0,0,0,0,0,0,0,0,0
81667,I26d69fb6d35c6fb120360ef143d1b1f565d4014c,https://git.eclipse.org/r/#/c/81667,2,0e4de89dcbf7200f325226a23fcc2ad6f88c4d4f,9a5b24c61d7b3a235c41eb05a56547a52fa5542d,0,22/09/16,22/09/16,2,pgm: Add missing dependency for buck build,"pgm: Add missing dependency for buck build

Change-Id: I26d69fb6d35c6fb120360ef143d1b1f565d4014c
Signed-off-by: David Pursehouse <david.pursehouse@gmail.com>",0,0,0,1,0,1,1,NA,NA
81668,I5d5dd5edc335d44b118e8587f69ba89b83fc7fbb,https://git.eclipse.org/r/#/c/81668,5,1f0e6eadcc47f69a00e4c6e28eac7857afcf1484,47cc10cd9dee1dec650bcdef66568ce98e814f1d,0,22/09/16,17/10/16,8,Upgrade buck to fd3105a0b62899f74662f4cdc156de6990bdc24c,"Upgrade buck to fd3105a0b62899f74662f4cdc156de6990bdc24c

To match the version used on Gerrit's master branch.

Change-Id: I5d5dd5edc335d44b118e8587f69ba89b83fc7fbb
Signed-off-by: David Pursehouse <david.pursehouse@gmail.com>",0,1,0,0,0,1,1,NA,NA
81707,Ibee48cba85089324dc8db45066d311ad5db4f3ee,https://git.eclipse.org/r/#/c/81707,2,a5d6c7fe872b891d6204f4451dc63b08fe990e11,f513bbec2ed50e5e9e1daa5548e6566bf932b2c0,1,22/09/16,23/09/16,5,RepositoryCache#unregisterAndCloseRepository: Remove unused db parameter,"RepositoryCache#unregisterAndCloseRepository: Remove unused db parameter

Change-Id: Ibee48cba85089324dc8db45066d311ad5db4f3ee
Signed-off-by: David Pursehouse <david.pursehouse@gmail.com>",0,0,0,1,0,1,1,0,0
81712,I88a1abd8c3717d9a2f958e3a39edb2dbce3a415b,https://git.eclipse.org/r/#/c/81712,2,c02779327d934be5c257862526cb934d92fa7c21,c4c62cd812fe214027709822e9eabdb4218ca84a,0,22/09/16,23/09/16,15,Use consistent feature and category names,"Use consistent feature and category names

These names are presented to users when they install JGit so they should
be consistent.

Bug: 496101
Change-Id: I88a1abd8c3717d9a2f958e3a39edb2dbce3a415b
Signed-off-by: Matthias Sohn <matthias.sohn@sap.com>",0,0,0,0,0,0,0,NA,NA
81745,I91a194c9449d7810ef02b038907dbbc708e600a5,https://git.eclipse.org/r/#/c/81745,1,743dc7fe6be7b7a6b55d249fcda15ebf93f8f74f,1c3c46718dbb8ae58c8e80d24c7dc3d5e5058df7,0,23/09/16,23/09/16,5,[releng] maven: compile against the Java 1.8 libraries,"[releng] maven: compile against the Java 1.8 libraries

Remove the JDK_HOME settings that were introduced to build against the
Java 1.7 libraries. Now that the minimum requirement is Java 1.8, this
is wrong and prevents use of Java 1.8 features.

Change-Id: I91a194c9449d7810ef02b038907dbbc708e600a5
Signed-off-by: Thomas Wolf <thomas.wolf@paranor.ch>",0,0,0,0,0,0,0,NA,NA
81844,Ibf4573c5664271dfa7a6ecc3ede6eaad749f89d8,https://git.eclipse.org/r/#/c/81844,1,9c0bd41e2d2d4f2c6e6faee852df08ca660576ff,92ffe052aabaeda3b7af24effb5533502f698f1c,0,24/09/16,24/09/16,0,Merge branch 'stable-4.5',"Merge branch 'stable-4.5'

* stable-4.5:
  Fix carrying over flags during a RevWalk

Change-Id: Ibf4573c5664271dfa7a6ecc3ede6eaad749f89d8
Signed-off-by: Matthias Sohn <matthias.sohn@sap.com>",1,0,0,0,0,0,1,NA,NA
81855,Ibc841683763307cb76e78e142e0da5b11b1add2a,https://git.eclipse.org/r/#/c/81855,17,2cc697b21225bb38baae718094b4275c86d1b24c,cbecf80a5ef669ae3143dfd8292e7d70edb46690,1,24/09/16,05/03/17,493,Add SubmoduleConfig,"Add SubmoduleConfig

The SubmoduleConfig class contains an enum to control the recurse
submodules configuration. It is currently unused but will later be
used by the pull and fetch commands.

Change-Id: Ibc841683763307cb76e78e142e0da5b11b1add2a
Signed-off-by: David Pursehouse <david.pursehouse@gmail.com>",0,1,0,0,0,1,1,0,0
81862,I19d27bbdbfdb1c7a5a688e41dfcba73a142a1afd,https://git.eclipse.org/r/#/c/81862,2,fc840b242e5f80616810fd5b70571544f30f5dde,cc172b5562c962120c32b7689a4e24a72c174efc,1,25/09/16,07/10/16,4,Add missing online help for Ketch server type option in CLI daemon,"Add missing online help for Ketch server type option in CLI daemon

Change-Id: I19d27bbdbfdb1c7a5a688e41dfcba73a142a1afd
Signed-off-by: Matthias Sohn <matthias.sohn@sap.com>",0,0,0,1,0,0,1,0,0
81863,I76d0981c8463b63bd049f50cdc7d549fa0604b3c,https://git.eclipse.org/r/#/c/81863,2,543a2b17a7811e7fb3acd1de367c153de46019ba,0b2eeb21c0d690f48bca23a43babe4bd35c2fb8e,1,25/09/16,07/10/16,2,pgm: Fix misspelled key of an externalized string   Bug: 502107 Change-Id: I76d0981c8463b63bd049f50cdc7d549fa0604b3c Signed-off-by: Matthias Sohn <matthias.sohn@sap.com>,"pgm: Fix misspelled key of an externalized string
 
Bug: 502107
Change-Id: I76d0981c8463b63bd049f50cdc7d549fa0604b3c
Signed-off-by: Matthias Sohn <matthias.sohn@sap.com>",0,0,0,0,0,0,0,0,0
81911,I514bf684ad0da808f6523e9e46db9674a25e1fb5,https://git.eclipse.org/r/#/c/81911,2,4b8141eb5a2e09ea55182f67fcf7347442455bf0,dc06ac37ff33bd9692082573798e47248992a4f4,0,26/09/16,30/09/16,9,Remove unused code from class Repository,"Remove unused code from class Repository

The package-private method Repository::gitInternalSlash() is not
referenced from anywhere within the package.

Signed-off-by: Rdiger Herrmann <ruediger.herrmann@gmx.de>
Change-Id: I514bf684ad0da808f6523e9e46db9674a25e1fb5",0,0,1,0,0,0,1,NA,NA
81946,I3faf8554a05f0fd147be2e63fbe55987d3f88099,https://git.eclipse.org/r/#/c/81946,6,ba7bed5fe3aa38a4b317447ca51cc3998b638f87,3bb39d0d1203b91518e0ea650edae39639def3af,1,26/09/16,20/10/16,50,TreeFormatter: disallow empty filenames in trees,"TreeFormatter: disallow empty filenames in trees

Git barfs on these (and they don't make any sense), so we certainly
shouldn't write them.

Change-Id: I3faf8554a05f0fd147be2e63fbe55987d3f88099
Signed-off-by: David Turner <dturner@twosigma.com>",0,1,0,0,0,0,1,0,0
81998,I4828008e58c09bd8f9edaf0f7eda0a79c629fb57,https://git.eclipse.org/r/#/c/81998,1,89f8e5cac9693f1b0c57fd12b93bf6ad79705ee4,2c2f64ce614c98c7735603e581adf6d54b9db980,1,27/09/16,10/10/16,63,Fix CheckoutCommand to return updated files even on NONDELETED status,"Fix CheckoutCommand to return updated files even on NONDELETED status

CheckoutCommand was not returning updated and removed files in case of
an overall status of NONDELETED. That's status which occurs especially
on the Windows platform when Checkout wanted to delete files but the
filesystem doesn't allow this. The situation is more seldom on linux/mac
because open filehandles don't stop a deletion attempt and checkout
succeeds more often.

Change-Id: I4828008e58c09bd8f9edaf0f7eda0a79c629fb57",0,0,0,0,0,1,1,0,0
82303,I35fe8c8370c06c25262645202aec2b1318057c19,https://git.eclipse.org/r/#/c/82303,2,93dd9ef2baa27497cbb2a60a2d36a5a384bc1850,4e4d2bafcf27317c2fb260fbeee04b8b2eedfac0,1,30/09/16,01/10/16,10,Delay inserter.flush in WalkFetchConnection,"Delay inserter.flush in WalkFetchConnection

Spawn an ObjectReader from the ObjectInserter, so the flush can be
delayed at the end of the fetch.

Change-Id: I35fe8c8370c06c25262645202aec2b1318057c19
Signed-off-by: Zhen Chen <czhen@google.com>",0,0,0,0,0,0,0,0,0
82323,I8fa99f53020af41eb15c1f63b6f3ba094d56bfef,https://git.eclipse.org/r/#/c/82323,1,8bcac1e5d1d8fe83531c2292c48aa09586d7f739,63b4247eea6c7d36c3a7db78d094db13e7a6c4af,0,01/10/16,01/10/16,11,Remove wrong junit dependencies in org.eclipse.jgit.pgm,"Remove wrong junit dependencies in org.eclipse.jgit.pgm

Bug: 503010
Change-Id: I8fa99f53020af41eb15c1f63b6f3ba094d56bfef
Signed-off-by: Matthias Sohn <matthias.sohn@sap.com>",1,0,0,0,0,0,1,NA,NA
82808,Ie2dd87943350e3b0a2df72a70e5219139d110a8f,https://git.eclipse.org/r/#/c/82808,1,18fbe5106a80426202b8ef52fdf146fbd781bfe0,979950ad521df12d79d102d18c15a845e07a283b,1,09/10/16,12/10/16,19,Add toString() to CherryPickCommand and ResetCommand,"Add toString() to CherryPickCommand and ResetCommand

Change-Id: Ie2dd87943350e3b0a2df72a70e5219139d110a8f
Signed-off-by: Matthias Sohn <matthias.sohn@sap.com>",0,0,1,1,0,0,1,0,0
82857,Ia65e58ecb2c459b6d9c9697a2f715d933270f7e6,https://git.eclipse.org/r/#/c/82857,3,1842c758f73b390937c8e7f918adace1500feafc,7d86c20a8270391a55dda33f457c5b28be843e11,1,10/10/16,19/10/16,40,"Add ""concurrencyLevel"" option to DfsBlockCache","Add ""concurrencyLevel"" option to DfsBlockCache

Allow for higher concurrency on DfsBlockCache by adding a configuration
for number of estimated concurrent requests.

Change-Id: Ia65e58ecb2c459b6d9c9697a2f715d933270f7e6
Signed-off-by: Philipp Marx <smigfu@googlemail.com>",0,0,1,0,0,0,1,0,0
82882,I9cac024c0b488101b539c713b0f5ffc8c01b55bd,https://git.eclipse.org/r/#/c/82882,1,d7f5d3dd58ac49c5f607e91b343ef4808879accf,716b5b14b6bf9b0369c3be41d8216eed13f6e07e,0,10/10/16,11/10/16,0,Merge branch 'stable-4.5',"Merge branch 'stable-4.5'

* stable-4.5:
  pgm: Fix misspelled key of an externalized string
  Add missing online help for Ketch server type option in CLI daemon
  Remove wrong junit dependencies in org.eclipse.jgit.pgm

Change-Id: I9cac024c0b488101b539c713b0f5ffc8c01b55bd
Signed-off-by: Matthias Sohn <matthias.sohn@sap.com>",0,0,0,0,0,0,0,NA,NA
82923,I2abde5dbd4b785d70b7bc0b77188c0a075130eeb,https://git.eclipse.org/r/#/c/82923,2,716b5b14b6bf9b0369c3be41d8216eed13f6e07e,e0edf39e4a0a7a047c25fc791e8034ad77b95c37,1,11/10/16,12/10/16,34,AmazonS3: ensure that errorStream is closed,"AmazonS3: ensure that errorStream is closed

Change-Id: I2abde5dbd4b785d70b7bc0b77188c0a075130eeb
Signed-off-by: Matthias Sohn <matthias.sohn@sap.com>",0,0,0,1,0,0,1,0,0
82934,I8b62cec6d8a3e88c096d1f37a1f7f5a5066c90a0,https://git.eclipse.org/r/#/c/82934,5,2755434a578eb7d6b64c87b3e9b07fe0627adadf,052e972d1fc72a0f620c0c7e8df33cdca5948c20,1,11/10/16,13/10/16,12,Unconditionally close repositories in RepositoryCache.clear(),"Unconditionally close repositories in RepositoryCache.clear()

Earlier we tried to close the repository before removing it from the
cache, so close only reduced refcount but didn't close it.

Change-Id: I8b62cec6d8a3e88c096d1f37a1f7f5a5066c90a0
Signed-off-by: Matthias Sohn <matthias.sohn@sap.com>",0,1,0,0,0,0,1,0,0
82952,Ia56a9f58e336c25255a81d9402e198e5ce5da442,https://git.eclipse.org/r/#/c/82952,2,397e8849730d3171c4d9256429db9ff17a95bb74,da0f8de57b0c36aa8602848f5d2c9473fc9deee2,0,11/10/16,12/10/16,21,Content type constants used in lfs should be final,"Content type constants used in lfs should be final

Change-Id: Ia56a9f58e336c25255a81d9402e198e5ce5da442
Signed-off-by: Matthias Sohn <matthias.sohn@sap.com>",0,0,0,1,0,0,1,NA,NA
83018,I18a80c415c54c37d1b9def2b311ff2d0afa455ca,https://git.eclipse.org/r/#/c/83018,1,675278dcd13ecae6d662f68da1f8e193ee6aa5a4,951050cf24adb182d0ef2cf51c93442f9d75046d,1,12/10/16,12/10/16,23,Fix eviction of repositories with negative usage count,"Fix eviction of repositories with negative usage count

If the repository close method was called twice (or more) for one open,
the usage count became negative and the repository was never be evicted
from the cache because the method checking if repository is expired was
not considering negative usage count.

Change-Id: I18a80c415c54c37d1b9def2b311ff2d0afa455ca
Signed-off-by: Hugo Ars <hugo.ares@ericsson.com>",0,0,0,0,0,0,0,0,0
83102,I2d50d9a18fac4c302de2c3a16c07f90ce3e5072e,https://git.eclipse.org/r/#/c/83102,1,8eddb19de101d02d1aae4155268ce202055bea3f,95558fbf752d5d2b1ac9d3d869607795a0e8ae36,0,13/10/16,13/10/16,1,Add dependency to org.apache.commons.logging used by Apache HttpClient,"Add dependency to org.apache.commons.logging used by Apache HttpClient

Without this dependency running JGit CLI in Eclipse will hit
ClassNotFoundExceptions when HttpClient is trying to log something.

Change-Id: I2d50d9a18fac4c302de2c3a16c07f90ce3e5072e
Signed-off-by: Matthias Sohn <matthias.sohn@sap.com>",0,0,0,0,0,0,0,NA,NA
83103,Iedf554acef841f52c1f2e3401ef0a0583ac5253b,https://git.eclipse.org/r/#/c/83103,1,95558fbf752d5d2b1ac9d3d869607795a0e8ae36,0ccf27c53a4075ddc6bbba675818c789f372cb00,1,13/10/16,13/10/16,5,HttpClientConnection: Register connection socket factory for http,"HttpClientConnection: Register connection socket factory for http

It is necessary to register a socket connection factory to prevent the
""http protocol is not supported"" error when connecting over a proxy.

Change-Id: Iedf554acef841f52c1f2e3401ef0a0583ac5253b
Signed-off-by: Matthias Sohn <matthias.sohn@sap.com>",0,0,0,0,0,0,0,0,0
83167,I7087667056ced401a3b3a027977f2715cd77a1c5,https://git.eclipse.org/r/#/c/83167,1,0ccf27c53a4075ddc6bbba675818c789f372cb00,956c19c4bfd6d1874fb3a576e3a3ebbb8fec57f9,1,13/10/16,14/10/16,2,Merge branch 'stable-4.5',"Merge branch 'stable-4.5'

* stable-4.5:
  Unconditionally close repositories in RepositoryCache.clear()
  Fix eviction of repositories with negative usage count

Adapt to parameter removed from
RepositoryCache.unregisterAndCloseRepository().

Change-Id: I7087667056ced401a3b3a027977f2715cd77a1c5
Signed-off-by: Matthias Sohn <matthias.sohn@sap.com>",0,0,0,0,0,0,0,0,0
83216,I2ad78f209792bf8f1285cf2f8ada8ae0c28f8e5a,https://git.eclipse.org/r/#/c/83216,2,4d627d2ba44169da433412a7b4d2a11251b47f67,fdb16ed7e550d0682e75fb1fdd4b72f8ae609336,1,14/10/16,17/10/16,253,Fix JGit CLI to follow native git's interpretation of http_proxy...,"Fix JGit CLI to follow native git's interpretation of http_proxy...

Native git (as many other tools) interprete the environment variables
http_proxy, HTTP_PROXY, ... in a specific way. ""http_proxy"" has to be
lowercase while ""https_proxy"" can be lowercase or uppercase (means:
""HTTPS_PROXY""). lowercase has precedence. This can be looked up in
""ENVIRONMENT"" section of [1]. Teach JGit CLI to behave similar.

Additionally teach JGit not to interprete the environment variables if
the java process was explicitly started with the system properties
telling JVM which proxy to use. A call like ""http_proxy=proxy1 java
-Dhttp.proxyHost=proxy2 ..."" should use proxy2 as proxy.

[1] https://curl.haxx.se/docs/manpage.html

Change-Id: I2ad78f209792bf8f1285cf2f8ada8ae0c28f8e5a",0,0,1,0,0,1,1,0,0
83337,I15d234e5d907d0bbb22a95cf781e915798bead30,https://git.eclipse.org/r/#/c/83337,2,d062c3dfc6eda349c88c76c04050d5753db872a7,f216c606d6295e3e0b63f42bb0a4abdbd38bbdcc,1,17/10/16,18/10/16,2,LfsStore: Don't invoke toString on String variable,"LfsStore: Don't invoke toString on String variable

Change-Id: I15d234e5d907d0bbb22a95cf781e915798bead30
Signed-off-by: David Pursehouse <david.pursehouse@gmail.com>",0,0,0,1,0,1,1,0,0
83338,I3c4d83583edb1a6e1fbee1ea496dcf93302831b3,https://git.eclipse.org/r/#/c/83338,2,1aa7f4bac46cb5eb143878dcd71e54bb1d726b61,7c48b7ee6d7def8fd3a6c950eebd2b81926d90be,1,17/10/16,18/10/16,2,Status: remove unused lineFormat member,"Status: remove unused lineFormat member

Change-Id: I3c4d83583edb1a6e1fbee1ea496dcf93302831b3
Signed-off-by: David Pursehouse <david.pursehouse@gmail.com>",0,0,0,1,0,1,1,0,0
83407,I030910b88a8f60ca174e38f0a213959f9b0a776f,https://git.eclipse.org/r/#/c/83407,2,7c48b7ee6d7def8fd3a6c950eebd2b81926d90be,44f8315cd070fdd6877da9fee3365be8b165757b,0,18/10/16,18/10/16,2,Main: Add missing -NLS tag,"Main: Add missing -NLS tag

Change-Id: I030910b88a8f60ca174e38f0a213959f9b0a776f
Signed-off-by: David Pursehouse <david.pursehouse@gmail.com>",0,0,0,1,0,0,1,NA,NA
83408,If3db5a1375485e97f9811546e310e441475db1a6,https://git.eclipse.org/r/#/c/83408,3,44f8315cd070fdd6877da9fee3365be8b165757b,2b5508ff40a30c2052f601dbffab1e40725bea03,1,18/10/16,18/10/16,15,Git{Add|Clone}Task: Catch specific exceptions rather than Exception,"Git{Add|Clone}Task: Catch specific exceptions rather than Exception

Change-Id: If3db5a1375485e97f9811546e310e441475db1a6
Signed-off-by: David Pursehouse <david.pursehouse@gmail.com>",0,0,0,1,0,0,1,0,0
83409,Ib4b35e357e4c068a17243ebd2d57b058c54d5834,https://git.eclipse.org/r/#/c/83409,2,74fd130fd70b0f5149abfa751e80308c74a20779,596bcb0455bfc058e7a7d7d55d3591b719b3a65e,1,18/10/16,18/10/16,2,PackOutputStream: Add comment for intentional use of non-short-circuit logic,"PackOutputStream: Add comment for intentional use of non-short-circuit logic

To avoid that people try to ""fix"" it.

Change-Id: Ib4b35e357e4c068a17243ebd2d57b058c54d5834
Signed-off-by: David Pursehouse <david.pursehouse@gmail.com>",0,0,0,0,0,0,0,0,0
83410,Ib32663bb28c9564584256e01f625b4e7875e6223,https://git.eclipse.org/r/#/c/83410,2,795fe5f0cc361705e571346df84b9c77e34b742f,85edb25cdedd99dde778825912c0953fc5d49ab8,0,18/10/16,18/10/16,2,FS: Fix lazy initialization of non-volatile static field,"FS: Fix lazy initialization of non-volatile static field

The 'factory' field is lazy initialized in the detect() method.

According to FindBugs:

   Because the compiler or processor may reorder instructions, threads
   are not guaranteed to see a completely initialized object, if the
   method can be called by multiple threads.

Fix this by declaring the member as 'volatile'.

Change-Id: Ib32663bb28c9564584256e01f625b4e7875e6223
Signed-off-by: David Pursehouse <david.pursehouse@gmail.com>",0,0,0,0,0,0,0,NA,NA
83411,I1c65b2e40ba6ec5860903b11b4631e014f3dc5ce,https://git.eclipse.org/r/#/c/83411,2,df85839eba372c5b0b8772acdd27035117ae5e3a,58605a447ef30f6ce1d14c9c2879a4934242e2b2,1,18/10/16,18/10/16,10,Use valueOf rather than constructor for Integer and Boolean,"Use valueOf rather than constructor for Integer and Boolean

Change-Id: I1c65b2e40ba6ec5860903b11b4631e014f3dc5ce
Signed-off-by: David Pursehouse <david.pursehouse@gmail.com>",0,0,0,1,0,1,1,0,0
83483,I57f11d3a1cdcca4549858e773af1a2a80fc0369f,https://git.eclipse.org/r/#/c/83483,1,98900aa4c0c7e9d864ac1740f46ae03711929f7f,5e99504e623a79a0830e25ab94c1c461d9d9bb8b,1,19/10/16,19/10/16,6,Config: do not add spaces before units,"Config: do not add spaces before units

Adding a space before the unit ('g', 'm', 'k) causes git to fail with
the error:

  fatal: bad numeric config value

Change-Id: I57f11d3a1cdcca4549858e773af1a2a80fc0369f
Signed-off-by: David Turner <dturner@twosigma.com>
Signed-off-by: David Pursehouse <david.pursehouse@gmail.com>",0,0,0,0,0,0,0,0,0
83484,I54185f54e6d78d7aac873ee5f990f09582318857,https://git.eclipse.org/r/#/c/83484,1,2b819d6fe863d1274ecf1bd3103b0228fd676921,6c9bc9a6ff3d57e3416c2470bb156601403a89d5,0,19/10/16,19/10/16,0,Merge branch 'stable-4.5',"Merge branch 'stable-4.5'

* stable-4.5:
  Config: do not add spaces before units

Change-Id: I54185f54e6d78d7aac873ee5f990f09582318857
Signed-off-by: David Pursehouse <david.pursehouse@gmail.com>",0,0,0,0,0,0,0,NA,NA
83485,I813f3de5f059e6e5cd34af20fce1e117bfe55b55,https://git.eclipse.org/r/#/c/83485,1,6c9bc9a6ff3d57e3416c2470bb156601403a89d5,3a6c8ae3302af263428cf593746c74726c80272c,1,19/10/16,19/10/16,4,CLIRepositoryTestCase: Remove unused 'trash' member,"CLIRepositoryTestCase: Remove unused 'trash' member

Change-Id: I813f3de5f059e6e5cd34af20fce1e117bfe55b55
Signed-off-by: David Pursehouse <david.pursehouse@gmail.com>",0,0,0,1,0,0,1,0,0
83486,I60e09f274bed6722f4e0e4d096b0f2b1b31ec1b4,https://git.eclipse.org/r/#/c/83486,2,3a6c8ae3302af263428cf593746c74726c80272c,5cd71b89b47c5bc5def7109d8020817cdabf22f7,1,19/10/16,19/10/16,24,ArchiveTest: Don't use string concatenation in loop,"ArchiveTest: Don't use string concatenation in loop

According to FindBugs:

  In each iteration, the String is converted to a StringBuffer/
  StringBuilder, appended to, and converted back to a String. This
  can lead to a cost quadratic in the number of iterations, as the
  growing string is recopied in each iteration.

Replace string concatenation with StringBuffer.

Change-Id: I60e09f274bed6722f4e0e4d096b0f2b1b31ec1b4
Signed-off-by: David Pursehouse <david.pursehouse@gmail.com>",0,0,0,0,0,0,0,0,0
83489,I9d6e20a258d34ae1d2700fbe8e6c6e3b0ba94424,https://git.eclipse.org/r/#/c/83489,2,ded5caf64078f2088d8c26e9344f721cca60d30f,bf5917b526ffa8baec0c610b4382784e75f10728,1,19/10/16,19/10/16,2,FileNameMatcherTest: Use Character.valueOf rather than new Character,"FileNameMatcherTest: Use Character.valueOf rather than new Character

Change-Id: I9d6e20a258d34ae1d2700fbe8e6c6e3b0ba94424
Signed-off-by: David Pursehouse <david.pursehouse@gmail.com>",0,0,0,1,0,0,1,0,0
83490,Ib308b3498593d595b3d8741a9b2d241bbc7441c3,https://git.eclipse.org/r/#/c/83490,2,b229509df98552e82391923330a1bc34876be385,f72e7e01f24cbae029755138693a6742f58cb5f6,1,19/10/16,19/10/16,10,DiffCommandTest: Don't call toString on String instances,"DiffCommandTest: Don't call toString on String instances

Change-Id: Ib308b3498593d595b3d8741a9b2d241bbc7441c3
Signed-off-by: David Pursehouse <david.pursehouse@gmail.com>",0,0,0,1,0,0,1,0,0
83686,I7d8db4bfa1a851afd599bb8eaa8f8273204d2e1d,https://git.eclipse.org/r/#/c/83686,3,ffb4118bb076d9457d3299aa823e36deff285db6,da97bfd9979983315fe6e0a4c16ccfcf26c7cf13,1,21/10/16,23/10/16,28,Move constants used for config-files to ConfigConstants,"Move constants used for config-files to ConfigConstants

Change-Id: I7d8db4bfa1a851afd599bb8eaa8f8273204d2e1d",0,0,0,1,0,1,1,0,0
83736,I2c3746a97ead7118fb0ed5543a2c843224719031,https://git.eclipse.org/r/#/c/83736,1,f356ae469a4271a764987d924a8ccfc876b73969,61f4eca5d95bcbbae9d570571edf5235d3ef9749,1,22/10/16,22/10/16,24,CheckoutCommand: Add method to add multiple paths,"CheckoutCommand: Add method to add multiple paths

The new method addPaths(List<String>) allows callers to add multiple
paths without having to iterate over several calls to addPath(String).

Change-Id: I2c3746a97ead7118fb0ed5543a2c843224719031
Signed-off-by: David Pursehouse <david.pursehouse@gmail.com>",0,0,0,0,0,1,1,0,0
83764,Ice331a9dc80a59ca360fcc04adaff8b5e750d847,https://git.eclipse.org/r/#/c/83764,2,e9bcbe3c0cc2357b1d9b1a4765f7b6a64827679e,74a8b949f617d769ec3317f6d895f3b0400d2e1b,1,24/10/16,14/11/16,2,Don't serialize internal hash collision chain link,"Don't serialize internal hash collision chain link

ObjectId is serializable, and so are its subtypes. Ensure that
serialization does not follow the hash collision chain internal to the
ObjectIdOwnerMap, otherwise completely unrelated objects may get
serialized when a RevObject is serialized.

Note that serializing a RevCommit or RevTag may serialize quite a few
objects due to the parent/object links they contain.

Change-Id: Ice331a9dc80a59ca360fcc04adaff8b5e750d847
Signed-off-by: Thomas Wolf <thomas.wolf@paranor.ch>",0,0,0,0,0,0,0,0,0
83779,I3bc2d8c11fe6cfaffcc99dc2a00643e01ac4e9cc,https://git.eclipse.org/r/#/c/83779,3,8c90f91deeda300047881404d8059c78afa4985b,c3da3f3b600199361553eb00b3c4b21ab8004897,1,24/10/16,27/10/16,11,Speedup CleanFilter by transferring data in chunks of 8k,"Speedup CleanFilter by transferring data in chunks of 8k

Transferring data byte per byte is slow, running add with CleanFilter on
a 2.9MB file takes 20 seconds. Using a buffer of 8k shrinks this time to
70ms.

Change-Id: I3bc2d8c11fe6cfaffcc99dc2a00643e01ac4e9cc",0,0,1,0,0,0,1,0,0
83789,I93d67d7fd2fde55be39480944d9d7072dbb6c600,https://git.eclipse.org/r/#/c/83789,1,ae5b67fbe64bbf3f7d3ab51b4b34c9010e856ba6,1c2e91aef6d6661f580676a53b59ce2afdf6f474,1,24/10/16,25/10/16,5,Add missing @since tag for new protected field in ObjectReader,"Add missing @since tag for new protected field in ObjectReader

Change-Id: I93d67d7fd2fde55be39480944d9d7072dbb6c600
Signed-off-by: Matthias Sohn <matthias.sohn@sap.com>",0,0,0,1,0,0,1,0,0
83977,I083ad1ea3e8d3685df7c306854c2498c92b05ffb,https://git.eclipse.org/r/#/c/83977,1,a0089f34053c4c1b0296d22f7a889a557053df88,732c0eab31d79d7375f892dded8c7f4b48d34910,1,26/10/16,27/10/16,17,Use AnyLongObjectId instead of LongObjectId in LFS API,"Use AnyLongObjectId instead of LongObjectId in LFS API

Change-Id: I083ad1ea3e8d3685df7c306854c2498c92b05ffb
Signed-off-by: Matthias Sohn <matthias.sohn@sap.com>",0,0,0,1,0,0,1,0,0
83978,Ie20fce3f40d34095ce58e596d25d8d64fe0cde99,https://git.eclipse.org/r/#/c/83978,1,732c0eab31d79d7375f892dded8c7f4b48d34910,1cb242eac05c90c51a5f837e517a2d46482e25ba,1,26/10/16,27/10/16,2,Fix temporary file leak in CleanFilter,"Fix temporary file leak in CleanFilter

The CleanFilter leaked temporary files when a media file already existed
before running clean filter.

Change-Id: Ie20fce3f40d34095ce58e596d25d8d64fe0cde99
Signed-off-by: Matthias Sohn <matthias.sohn@sap.com>",0,0,0,0,0,0,0,0,0
83979,I227a0ed6e4e15ac3d96f96a6cefcaf55680ad8bb,https://git.eclipse.org/r/#/c/83979,1,1cb242eac05c90c51a5f837e517a2d46482e25ba,a13a3fe75492250c7c3bf6b3fe01b4cedd76526e,1,26/10/16,27/10/16,4,CleanFilter: use atomic move to move temporary file to media file,"CleanFilter: use atomic move to move temporary file to media file

Change-Id: I227a0ed6e4e15ac3d96f96a6cefcaf55680ad8bb
Signed-off-by: Matthias Sohn <matthias.sohn@sap.com>",0,0,0,1,0,0,1,0,0
83980,I28987dad18255a9067344f94b4e836cbd183e4b1,https://git.eclipse.org/r/#/c/83980,1,a13a3fe75492250c7c3bf6b3fe01b4cedd76526e,fe5fd850e24d22dc311326208fa1fc3885e780e7,1,26/10/16,28/10/16,55,Use AtomicObjectOutputStream in CleanFilter,"Use AtomicObjectOutputStream in CleanFilter

Enhance and use AtomicObjectOutputStream to write temporary files in
CleanFilter.

Change-Id: I28987dad18255a9067344f94b4e836cbd183e4b1
Signed-off-by: Matthias Sohn <matthias.sohn@sap.com>",0,0,0,0,0,0,0,0,0
84261,Ibc58a1fa97559238c13590aedbb85e482d85e465,https://git.eclipse.org/r/#/c/84261,1,fe5fd850e24d22dc311326208fa1fc3885e780e7,2d16a5bbb3794ddb08ad4269713e88262273f408,0,31/10/16,31/10/16,8,Fix flush call race condition in StreamCopyThread,"Fix flush call race condition in StreamCopyThread

If there was a new flush() call during flush previous bytes, we need to
catch it in order to process the new bytes between the two flush()
calls instead of going to last catch IOException clause and end the
thread.

Change-Id: Ibc58a1fa97559238c13590aedbb85e482d85e465
Signed-off-by: Zhen Chen <czhen@google.com>",0,0,0,0,0,0,0,NA,NA
84458,I20e4edd099a095c42f23df8cc57241efad2de2ce,https://git.eclipse.org/r/#/c/84458,2,2d16a5bbb3794ddb08ad4269713e88262273f408,58881a75162659a3f4d387a72038f238fa1a1b26,0,04/11/16,06/11/16,2,Update buck to latest version,"Update buck to latest version

Update to the same version used on Gerrit's master branch.

Change-Id: I20e4edd099a095c42f23df8cc57241efad2de2ce
Signed-off-by: David Pursehouse <david.pursehouse@gmail.com>",0,0,0,0,0,1,1,NA,NA
84497,Ib105d9e107ae43549ced7e6da29c22ee41cde9d8,https://git.eclipse.org/r/#/c/84497,2,5e480aa0cbc149f2e41b6c0e6e49728193db807c,0a42b6e24f98e7f4e555bdb27e6dfee4906f5664,0,04/11/16,04/11/16,46,StreamCopyThread: Do not let flush interrupt a write,"StreamCopyThread: Do not let flush interrupt a write

flush calls interrupt() to interrupt a pending read and trigger a
flush.  Unfortunately that interrupt() call can also interrupt a
pending write, putting Jsch in a bad state and triggering ""Short read
of block"" errors.  Add locking to ensure the flush only interrupts
reads as intended.

Change-Id: Ib105d9e107ae43549ced7e6da29c22ee41cde9d8",0,0,0,0,0,0,0,NA,NA
84513,I4aceb5610e1bfb251046097adf46bca54bc1d998,https://git.eclipse.org/r/#/c/84513,2,0a42b6e24f98e7f4e555bdb27e6dfee4906f5664,9b974156ce196cebcfa509c9d4b0344edb88006b,0,04/11/16,04/11/16,6,StreamCopyThread: Do not drop data when flush is observed before writing,"StreamCopyThread: Do not drop data when flush is observed before writing

A caller runs

	pipe.write(some data);
	pipe.flush();
	copyThread.flush();

After the pipe.flush(), the StreamCopyThread reads the data that was
written and prepares to copy it out.  If the copyThread.flush() call
interrupts the copyThread before it acquires writeLock and starts
writing, we throw away the data we just read to fulfill the flush.
Oops.

Noticed during the review of e67d59df3fb8ae1efe94a54efce36784f7cc83e8
(StreamCopyThread: Do not let flush interrupt a write, 2016-11-04),
which introduced this bug.

Change-Id: I4aceb5610e1bfb251046097adf46bca54bc1d998",0,0,0,0,0,0,0,NA,NA
84527,Ia837ce95d9829fe2515f37b7a04a71a4598672a0,https://git.eclipse.org/r/#/c/84527,10,9b974156ce196cebcfa509c9d4b0344edb88006b,f805ff570449fd877580a1162b3cde77e7543066,0,06/11/16,18/01/17,207,WIP: Implement Bazel build,"WIP: Implement Bazel build

This is prototype implementation of Bazel build and is work in progress.
Only org.eclipse.jgit package is implemented for now.

Bazel 0.4.0 integrates error prone out of the box and WalkEncryption
class is flagged by error prone as having security vulnerabilities: [1]
and excluded from the build (and the classes that depend on it) for now.
Also note that due to this error prone bug: [2], the emmited URL should
probably be: [3].

[1] http://paste.openstack.org/show/588104/
[2] https://github.com/google/error-prone/issues/474
[3] http://errorprone.info/bugpattern/InsecureCryptoUsage

Change-Id: Ia837ce95d9829fe2515f37b7a04a71a4598672a0
Signed-off-by: David Ostrovsky <david@ostrovsky.org>",0,1,0,0,0,0,1,NA,NA
84565,I982a78070efb6bc2d3395330456d62e0d5ce6da7,https://git.eclipse.org/r/#/c/84565,2,d24c517dc3c5c77f6b753dcc44d1ee7d6de88402,09e713a61efbd01929838165d249479be6e55ab2,1,07/11/16,14/11/16,30,Reduce synchronized scope around ConcurrentHashMap,"Reduce synchronized scope around ConcurrentHashMap

Change-Id: I982a78070efb6bc2d3395330456d62e0d5ce6da7
Signed-off-by: Philipp Marx <smigfu@googlemail.com>",0,0,1,1,0,0,1,0,0
84569,Ib348b3704edf10b5f93a3ffab4fa6f09cbbae231,https://git.eclipse.org/r/#/c/84569,5,64329810c6cb7105714fa2c47e9565112f1ca73b,42b6f11191ab949c623aaa97a764802f7d65e633,1,07/11/16,11/11/16,100,Check that DfsBlockCache#blockSize is a power of 2,"Check that DfsBlockCache#blockSize is a power of 2

In case a value is used which isnt a power of 2, there will be a high
chance of java.lang.ArrayIndexOutBoundsException and
org.eclipse.jgit.errors.CorruptObjectException due to a mismatching
assumption for the DfsBlockCache#blockSizeShift parameter.

Change-Id: Ib348b3704edf10b5f93a3ffab4fa6f09cbbae231
Signed-off-by: Philipp Marx <smigfu@googlemail.com>",0,1,1,0,0,0,1,0,0
84628,I70976dfaa026efbcf3c46bd45941f37277a18e04,https://git.eclipse.org/r/#/c/84628,1,b74fd9791530ee683dae2ba2d5ad804c84675fb4,d99a2739827663b6ab14c786a6a4cfaa72821c11,1,07/11/16,09/11/16,154,Fix loop in auto gc,"Fix loop in auto gc

* GC.tooManyLooseObjects() always responded true since the loop missed
to advance the iterator so it always incremented until the threshold was
exceeded.
* Also fix loop exit criterion which was off by 1.
* Add some tests.

Change-Id: I70976dfaa026efbcf3c46bd45941f37277a18e04
Signed-off-by: Matthias Sohn <matthias.sohn@sap.com>",0,0,0,0,0,0,0,0,0
84668,Ib6bd13f1cc17f1a3de125249b4f250b7b0692396,https://git.eclipse.org/r/#/c/84668,4,197c7b660a32927b1996646d447241e71e90bac4,bd69836889eca1649e6749530a9d8ee6ee15a7c9,1,08/11/16,24/11/16,90,Fix encoding of LFSPointer files,"Fix encoding of LFSPointer files

LFS pointer files have to be UTF-8 with \n as line ending character.
That is described in [1]. Fix JGit to follow this rules.

[1] https://github.com/github/git-lfs/blob/master/docs/spec.md

Bug: 507120
Change-Id: Ib6bd13f1cc17f1a3de125249b4f250b7b0692396",0,1,1,0,0,1,1,0,0
84743,I9940bd800464c7f007696d0ccde52ea617b2ebce,https://git.eclipse.org/r/#/c/84743,2,26c830c4781bd321b4a57cd05a6af046b05058fe,cd071a58d5f448d2535d0ea107e49a864fa78a5f,1,09/11/16,13/11/16,35,Get rid of SoftReference in RepositoryCache,"Get rid of SoftReference in RepositoryCache

Now that RepositoryCache have a time based eviction strategy, get rid
of the strategy to evict cache entries if heap memory is running low,
i.e. soft references. Main reason why time based eviction was
implemented was to offer an alternative to the unpredictable soft
references.

Relying on soft references is not working, especially in large heap. The
JVM GC will consider collecting soft references as last resort before
throwing an out of memory error. For example, an application like Gerrit
configured with a 128GB heap, GC will wait until all 128GB is filled
before collecting the soft references so the application will be
suffering long pauses caused by GC for a long time already. In other
words, you will have to restart application because it's unusable before
JVM eviction kicks in.

Keeping the SoftReference in RepositoryCache is causing more harm than
good. If you use the time based eviction (which is the default strategy)
and want to tune JVM to release soft references more aggressively, it
will release repositories from the cache even though they are not
expired which defeats the purpose of the repository cache.

Gerrit uses Lucene library which uses soft references and this is
causing a ""memory leak"" except if you configure JVM to release soft
references more aggressively which have the nasty side effect of
evicting non expired repositories from the cache.

Change-Id: I9940bd800464c7f007696d0ccde52ea617b2ebce
Signed-off-by: Hugo Ars <hugo.ares@ericsson.com>",0,0,1,0,0,0,1,0,0
84932,I5b0fb1220bc0e5c660f1b5373abc5868d985c60b,https://git.eclipse.org/r/#/c/84932,2,548b84e09c9a73b68daf7f1033471e9dfec351ff,906e05c37b8da03600c1f24963c56fee9bbaee24,1,12/11/16,14/11/16,11,Make ObjectUploadListener public,"Make ObjectUploadListener public

Change-Id: I5b0fb1220bc0e5c660f1b5373abc5868d985c60b
Signed-off-by: David Pursehouse <david.pursehouse@gmail.com>",0,0,0,1,0,1,1,0,0
84933,Id89b3cd0da86a535946feb15254737bbf8d855d4,https://git.eclipse.org/r/#/c/84933,2,b2a7283e559a49134fa52f58a89b35f1a70f407c,345ac2e2e5522a3b633570e619c8a15e9af6d17d,1,12/11/16,14/11/16,14,FileLfsServlet: Make sendError protected,"FileLfsServlet: Make sendError protected

Change-Id: Id89b3cd0da86a535946feb15254737bbf8d855d4
Signed-off-by: David Pursehouse <david.pursehouse@gmail.com>",0,0,0,1,0,1,1,0,0
84934,I42e3ba3d8c35a2e40aad340580037ebefbb99b53,https://git.eclipse.org/r/#/c/84934,4,c47df3f5772aa3a34daa6885988cd89d990f3992,c2fb316349ea96392aa455bcb39ebbe913795869,1,13/11/16,13/11/16,276,Switch JSchSession to simple isolated OutputStream,"Switch JSchSession to simple isolated OutputStream

Work around issues with JSch not handling interrupts by
isolating the JSch interactions onto another thread. Use
a simple lock to negotiate which thread is able to update
the buffer:  either application thread or the copier thread.

Change-Id: I42e3ba3d8c35a2e40aad340580037ebefbb99b53",0,1,0,0,0,0,1,0,0
84936,I0151625fed4d0da95321ebed5cca648b8c29d5f1,https://git.eclipse.org/r/#/c/84936,2,bccbbcbe82c5afd55bfbc1c20e53c59fad063696,94e6e26dd5472611669978c771a411db5c17ce1b,1,13/11/16,13/11/16,38,WalkEncryption: Cleanup Java 8 support,"WalkEncryption: Cleanup Java 8 support

Java 8 is now the minimum for JGit, so Java 7
only paths are not necessary.

Change-Id: I0151625fed4d0da95321ebed5cca648b8c29d5f1",0,0,0,0,0,0,0,0,0
84940,Ic0584c140010278dbe4062df2e71be5df9a797b3,https://git.eclipse.org/r/#/c/84940,4,94e6e26dd5472611669978c771a411db5c17ce1b,72e9a3845c6fb468f08b9625242e04f5945beb7a,1,13/11/16,14/11/16,125,Deprecate SafeBufferedOutputStream,"Deprecate SafeBufferedOutputStream

Java 8 fixed the silent flush during close issue by
FilterOutputStream (base class of BufferedOutputStream)
using try-with-resources to close the stream, getting a
behavior matching what JGit's SafeBufferedOutputStream
was doing:

  try {
    flush();
  } finally {
    out.close();
  }

With Java 8 as the minimum required version to run JGit
it is no longer necessary to override close() or have
this class. Deprecate the class, and use the JRE's version
of close.

Change-Id: Ic0584c140010278dbe4062df2e71be5df9a797b3",0,1,0,0,0,0,1,0,0
84941,I34f381965bdaa25d5aa8ebf6d8d5271b238334e0,https://git.eclipse.org/r/#/c/84941,2,9fc89fcaf87d6cb3166993f6107044086d7a66bd,1383ec4c5abc2c5aed9ec23820bbeb0221cf86ab,1,13/11/16,14/11/16,77,Extract insecure Cipher factory,"Extract insecure Cipher factory

Bazel runs ErrorProne by default and ErrorProne rightly
complains allowing the user to specify any Cipher can
lead to insecure code. Unfortuantely this is required to
support existing repostiories insecurely stored on S3.

Extract the insecure factory code to its own class so
this can be built as a java_library() with this check
disabled.

Change-Id: I34f381965bdaa25d5aa8ebf6d8d5271b238334e0",0,0,0,0,0,0,0,0,0
84944,I1afe415cd09a67f1891c3baf712a9003ad553062,https://git.eclipse.org/r/#/c/84944,1,7b7b435a9225b1b8f1356da0a3c83bd531b5d748,e42aeca426a7630aa4c9bb1c48a8122832ac2f93,0,13/11/16,13/11/16,13,StreamCopyThread: Remove unnecessary flushCount,"StreamCopyThread: Remove unnecessary flushCount

StreamCopyThread#run consistently interrupts itself whenever it
discovers it has been interrupted by StreamCopyThread#flush while not
reading.  The flushCount is not needed to avoid lost flushes.

All in-tree users of StreamCopyThread never flush.  As a nice side
benefit, this avoids the expense of atomic operations that have no
purpose for those users.

Change-Id: I1afe415cd09a67f1891c3baf712a9003ad553062",0,0,0,0,0,0,0,NA,NA
84945,Ib0b39b425335ff7b0ea1b1733562da5392576a15,https://git.eclipse.org/r/#/c/84945,2,e42aeca426a7630aa4c9bb1c48a8122832ac2f93,4b157ecff51cf447c0b358ec6436c9622d332e52,0,13/11/16,13/11/16,16,StreamCopyThread: flush cannot interrupt a write,"StreamCopyThread: flush cannot interrupt a write

Because flush calls interrupt with writeLock held, it cannot interrupt
a write.  Simplify by no longer defending against that.

Change-Id: Ib0b39b425335ff7b0ea1b1733562da5392576a15",0,0,0,0,0,0,0,NA,NA
84951,Iaed9f345848cf0f854c9d0debcf94bc831d53054,https://git.eclipse.org/r/#/c/84951,1,4b157ecff51cf447c0b358ec6436c9622d332e52,d9136b6f6924f19abfb87de2ee529de894526c36,0,14/11/16,14/11/16,1,StreamCopyThread: Remove unused AtomicInteger import,"StreamCopyThread: Remove unused AtomicInteger import

I forgot to do this in 97f3baa0d3df7ed26a55b2240cc5ce1a04861a4c
(StreamCopyThread: Remove unnecessary flushCount, 2016-11-13).

Change-Id: Iaed9f345848cf0f854c9d0debcf94bc831d53054",0,0,0,0,0,0,0,NA,NA
84994,I0a457026c74e9c73ea27e6f070d5fbaca3439be5,https://git.eclipse.org/r/#/c/84994,4,8626defd9e47c419cee580871f54af3a97e3ad37,07874a845b972a2b7625e4511d28be3f5d9eaf1d,1,14/11/16,14/11/16,180,"Add set,get description to Repository","Add set,get description to Repository

This method pair allows the caller to read and modify the description
file that is traditionally used by gitweb and cgit when rendering a
repository on the web.

Gerrit Code Review has offered this feature for years as part of
its GitRepositoryManager interface, but its fundamentally a feature
of JGit and its Repository abstraction.

git-core typically initializes a repository with a default value
inside the description file. During getDescription() this string
is converted to null as it is never a useful description.

Change-Id: I0a457026c74e9c73ea27e6f070d5fbaca3439be5",0,1,0,0,0,0,1,1,1
85002,I7c545d06b1bced678c020fab9af1382bc4416b6e,https://git.eclipse.org/r/#/c/85002,1,07874a845b972a2b7625e4511d28be3f5d9eaf1d,e957cfd9b27dc984de1d772c45f5281ee05986ec,1,14/11/16,14/11/16,312,Organize imports,"Organize imports

Change-Id: I7c545d06b1bced678c020fab9af1382bc4416b6e
Signed-off-by: David Pursehouse <david.pursehouse@gmail.com>",0,0,0,1,0,0,1,0,0
85010,I9fbcc028ae24d90209a862f5f4f03e46bfb71db0,https://git.eclipse.org/r/#/c/85010,2,8727e2ee631992a1749513d631f4fcadaf442f25,d8a45645f17acfffbb7e2fa7dea545b9edceab94,1,14/11/16,14/11/16,13,"Support {get,set}GitwebDescription on InMemoryRepository","Support {get,set}GitwebDescription on InMemoryRepository

This simplifies testing for Gerrit Code Review where
application code is updating the repository description
and the test harness uses InMemoryRepository.

Change-Id: I9fbcc028ae24d90209a862f5f4f03e46bfb71db0",0,0,0,0,0,0,0,0,0
85015,I585242507815aad4aa0103fd55a6c369e342ab33,https://git.eclipse.org/r/#/c/85015,2,d8a45645f17acfffbb7e2fa7dea545b9edceab94,f68220ec82aa5b43e1a439883ac7ea5f68fe2de7,1,14/11/16,15/11/16,42,Add missing @Override found by ErrorProne,"Add missing @Override found by ErrorProne

Change-Id: I585242507815aad4aa0103fd55a6c369e342ab33",0,0,0,1,0,0,1,0,0
85016,I1f85bb81b77f7cd1caec77197f2f0bf78e4a82a1,https://git.eclipse.org/r/#/c/85016,2,5fd639b619d0d8267bdd6f8124a0f586a886c7fb,c76737f7fb2447567e9c69bdb3e8ee21cda5f797,1,14/11/16,15/11/16,9,RepositoryCache: simplify code,"RepositoryCache: simplify code

The type parameters can now be inferred when creating
ConcurrentHashMap.

A for loop over the keys of a ConcurrentHashMap doesn't
need to use an Iterator<Map.Entry>; loop syntax handles
this just fine over keySet().

Change-Id: I1f85bb81b77f7cd1caec77197f2f0bf78e4a82a1",0,0,0,0,0,0,0,0,0
85017,I46c39f2eceb4d58e49bd6273b87711f35250ab5c,https://git.eclipse.org/r/#/c/85017,2,eabea981a7d223b3b894d8d163851f4becba874d,8bba6fa7dcb06ed6cf4943f522d7344207a39ed8,1,14/11/16,15/11/16,6,Fix cryptoVer constant name to CRYPTO_VER,"Fix cryptoVer constant name to CRYPTO_VER

Change-Id: I46c39f2eceb4d58e49bd6273b87711f35250ab5c",0,0,0,1,0,0,1,0,0
85021,Iaf83f66637d6a13e4a6d096ba8529553af7e30ed,https://git.eclipse.org/r/#/c/85021,2,990cd7ca320fb28e61b9ec1d8416c91ee64f72e4,35136e7eb9086664aca936bfe566ad05442984ae,1,14/11/16,15/11/16,3,Add missing @since tags for new API,"Add missing @since tags for new API

Change-Id: Iaf83f66637d6a13e4a6d096ba8529553af7e30ed
Signed-off-by: Matthias Sohn <matthias.sohn@sap.com>",0,0,0,1,0,0,1,0,0
85097,I929b69b2505f03036f69e25a55daf93842871f30,https://git.eclipse.org/r/#/c/85097,15,0c9aa36131adfa4bc7fcc9c5522a706e4ba39caf,b262a34b8138ed12b66ff554527ec2256d6a9748,1,15/11/16,18/04/17,439,RepoCommand: Implement linkfile using symlinks,"RepoCommand: Implement linkfile using symlinks

Instead of copying the files, use symlinks for linkfile to match Repo.
Some scripts look up where they're actually located in order to find
related files, so they need the link back to their project.

Also externalizes the exception string to reply to the review comments
from Stefan's original change.

Change-Id: I929b69b2505f03036f69e25a55daf93842871f30
Signed-off-by: Dan Willemsen <dwillemsen@google.com>",0,1,0,0,0,0,1,3,1
85106,I1a3cbd49a39b150a0d49b36d572da113ca83a786,https://git.eclipse.org/r/#/c/85106,9,ba74cfb0e88c14f30c340965add81d8c8807d976,4f6cf91ea3aefddb1c452ebb02a343393baf591b,1,16/11/16,21/11/16,821,Define Clock interface for advanced timestamps,"Define Clock interface for advanced timestamps

Clock can be implemented to provide more certainity about time
than the standard System.currentTimeMillis() can provide. This
can be used by classes such as PersonIdent and Ketch to rely on
more certainity about time moving in a strictly ascending order.

Gerrit Code Review can also leverage this interface through its
embedding of JGit and use Clock and ProposedTimestamp to provide
stronger assurance that NoteDb time is moving forward.

Change-Id: I1a3cbd49a39b150a0d49b36d572da113ca83a786",0,1,1,0,1,0,1,0,0
85180,I196c3c95dafa5ea5f165d20aaac2ce07a2c53631,https://git.eclipse.org/r/#/c/85180,2,92231cc1c719bdb8bc26ed33639a6f8885e289ee,81925293a7b7583c5901544111b64ca5831eafc8,0,16/11/16,16/11/16,128,Add Oxygen target platform and remove target platforms older than Mars,"Add Oxygen target platform and remove target platforms older than Mars

Change-Id: I196c3c95dafa5ea5f165d20aaac2ce07a2c53631
Signed-off-by: Matthias Sohn <matthias.sohn@sap.com>",0,0,0,1,0,0,1,NA,NA
85445,I7d52cddacff05477f646fda5f7b9f2de844922f6,https://git.eclipse.org/r/#/c/85445,6,dbe879cbe57c8125a500e7451d96f2839e3a3b66,c062e5569437276d35a18f949814c88851cf9f1c,1,21/11/16,01/09/17,73,WIP: Update args4j to 2.33,"WIP: Update args4j to 2.33

need to reestablish multi-valued options following
https://github.com/kohsuke/args4j/issues/24

Change-Id: I7d52cddacff05477f646fda5f7b9f2de844922f6
Signed-off-by: Matthias Sohn <matthias.sohn@sap.com>",0,1,0,0,0,0,1,0,0
85527,Iaa36b5c146a8d654e364635fa0bd2d14129baf17,https://git.eclipse.org/r/#/c/85527,4,608ca93172b0986ef083c7965be88a18e8b5be34,eb4f5cf981e391b99576c7706bf180cfa024667a,1,22/11/16,22/11/16,13,Fix content length in HttpClientConnection,"Fix content length in HttpClientConnection

Per the interface specification, the getContentLength method should
return -1 if content length is unknown or greater than
Integer.MAX_VALUE.

Change-Id: Iaa36b5c146a8d654e364635fa0bd2d14129baf17
Signed-off-by: Zhen Chen <czhen@google.com>",0,1,0,0,0,0,1,0,0
85529,I59975d0b8d51f4b3e3ba9d4496b254d508cb936d,https://git.eclipse.org/r/#/c/85529,1,810f21bf70af2a81d46f394a6ca4cf41f7f01705,e9b554c7691cc7e2680a38b8caad69d84807c712,1,22/11/16,22/11/16,18,Close input stream after use,"Close input stream after use

The InputStream in FileStream in downloadPack is never closed.

Change-Id: I59975d0b8d51f4b3e3ba9d4496b254d508cb936d
Signed-off-by: Zhen Chen <czhen@google.com>",0,0,0,0,0,0,0,0,0
85545,I8d5284dad608e3abd8217823da2b365e8cd998b0,https://git.eclipse.org/r/#/c/85545,5,bb2d3aedd7a2f8ed908ab049bc1c4759e990c2cc,1b99127123aad5be97fc57f3bdd1033b0ef7253e,1,23/11/16,23/11/16,24,Fix using wrong content length for gzipped object,"Fix using wrong content length for gzipped object

If the content is being gzipped and the ""Content-Length"" is not
the actual content length, it is the content length after being
gzipped.

Change-Id: I8d5284dad608e3abd8217823da2b365e8cd998b0
Signed-off-by: Zhen Chen <czhen@google.com>",0,1,0,0,0,0,1,0,0
85552,Ib88cdabfdcdf37be0053e06949b0e21ad87a9575,https://git.eclipse.org/r/#/c/85552,3,ec0d2fd119c54a2e411471c020d3988cdcb22e29,203fa646589b8217e3d233a957ba13be0f3fd5d1,0,23/11/16,24/11/16,14,Specify RevisionSyntaxException message in Repository#resolve,"Specify RevisionSyntaxException message in Repository#resolve

This does not address all cases where no message is specified, only cases where
Repository.isValidRefName returns false.

Change-Id: Ib88cdabfdcdf37be0053e06949b0e21ad87a9575
Signed-off-by: Grace Wang <gracewang92@gmail.com>",0,0,0,0,0,0,0,NA,NA
85580,I9cc140b784c3231b972bd2c3de61a789365237ab,https://git.eclipse.org/r/#/c/85580,5,90e553e5a1fd40634c8d288c108fbaa28470aa35,92b2cd6f1869666ce516413cd34edee087da891a,1,23/11/16,28/11/16,70,WIP: Fix merge-base calculation,"WIP: Fix merge-base calculation

Fix JGits merge-base calculation in case of inconsistent commit times.
JGit was potentially failing to compute correct merge-bases when the
commit times where inconsistent (a parent commit was younger than a
child commit). The code in MergeBaseGenerator was aware of the fact that
sometimes the discovery of a merge base x can occur after the parents of
x have been seen (see comment in #carryOntoOne()). But in the light of
inconsistent commit times it was possible that these parents of a
merge-base have already been returned as a merge-base.

This commit only contains a test illustrating this bug. I am still
working on a effective fix.

Change-Id: I9cc140b784c3231b972bd2c3de61a789365237ab",0,1,1,0,0,1,1,0,0
85637,I900d745195f58c067fadf209bb92cd3c852c59f4,https://git.eclipse.org/r/#/c/85637,1,eb5dd2dcc5b93816fcd3dde6315aec336d791228,7d3f4f253d72e2ac262c9bb1a2ec7b9b67acc868,1,23/11/16,23/11/16,6,Add missing @since tags for new API,"Add missing @since tags for new API

Change-Id: I900d745195f58c067fadf209bb92cd3c852c59f4
Signed-off-by: Matthias Sohn <matthias.sohn@sap.com>",0,0,0,1,0,0,1,0,0
85647,Id25702c0b0ed2895df8e9790052c3417d713572c,https://git.eclipse.org/r/#/c/85647,12,3e41699ce9d964acd9ad05efb22807a57eb72720,7dde62c5c01b03e511dad082753faca80581fbdc,1,24/11/16,10/12/16,96,Properly set accept-encoding header for http request,"Properly set accept-encoding header for http request

1. Do not set accept-encoding header by default in httpOpen()
2. Properly set accept-encoding in open(path) call, make sure the path
is not an already compressed object, e.g. info/refs, info/alternates,
info/http-alternates, info/packs, ../packed-refs, ../{ref}. All of these
path are called by openReader() which calls open(). It may be easier to
add a flag for openReader() in open(), but the interface is implemented
by other two subclasses.

Change-Id: Id25702c0b0ed2895df8e9790052c3417d713572c
Signed-off-by: Zhen Chen <czhen@google.com>",0,1,0,0,0,0,1,1,1
85668,I098cdc5cb90410eaaebc56c88c2d9e168584dd6d,https://git.eclipse.org/r/#/c/85668,3,970a83d3987341e82506d3ee7dd1b4577c02b77b,48f3232ca199ebbee2f8ec02325bfcd619675cc5,1,24/11/16,07/12/16,15,Expose getObjectToTransfer method of FileLfsServlet,"Expose getObjectToTransfer method of FileLfsServlet

Providing own implementation to doGet/doPut methods is troublesome when
this method is private.
In addition make sure that the same variable is used to check and
extract object id from request.

Change-Id: I098cdc5cb90410eaaebc56c88c2d9e168584dd6d
Signed-off-by: Jacek Centkowski <geminica.programs@gmail.com>",0,0,0,0,0,0,0,0,0
85671,I5406f9bc4a085aa164c4565a9667ad2925105190,https://git.eclipse.org/r/#/c/85671,1,5fd3055bab73230aeb61b3974e943628106d9f4d,c5c66c93e6d51069878023d2ae7409b7aa080251,1,24/11/16,06/12/16,5,Use the same variable to check and extract LFS object id,"Use the same variable to check and extract LFS object id

It is easier to maintain when the same variable is used for both check
and extraction of LFS object id.

Change-Id: I5406f9bc4a085aa164c4565a9667ad2925105190
Signed-off-by: Jacek Centkowski <geminica.programs@gmail.com>",0,0,0,0,0,0,0,0,0
85729,Ic16d3f15cf2ef40de62fe6bfe4b8b35f0c1edc4e,https://git.eclipse.org/r/#/c/85729,1,04e8df880ff26afb711fbed218d77c065ee5fd07,77b5cac86e8c77f039154aa1a620ff491011f31a,0,24/11/16,25/11/16,49,Enable error-prone for the Maven build,"Enable error-prone for the Maven build

- update maven-compiler-plugin to 3.6.0
- exclude InsecureCipherFactory from errorprone checks

See
https://maven.apache.org/guides/mini/guide-default-execution-ids.html#Example:_Configuring_compile_to_run_twice
https://groups.google.com/d/topic/error-prone-discuss/pzT45ZMCQOc/discussion

Change-Id: Ic16d3f15cf2ef40de62fe6bfe4b8b35f0c1edc4e
Signed-off-by: David Pursehouse <david.pursehouse@gmail.com>
Signed-off-by: Matthias Sohn <matthias.sohn@sap.com>",0,0,0,0,0,0,0,NA,NA
85730,I61ddf08ff8c0ebb76fc2e1d0a0cd5902c65f9469,https://git.eclipse.org/r/#/c/85730,1,77b5cac86e8c77f039154aa1a620ff491011f31a,c359cad29d09b1fb17cf2f36f0de0d0de4fe4181,0,24/11/16,25/11/16,1,Configure Maven to run tests concurrently by default,"Configure Maven to run tests concurrently by default

Maven 3.3.1 or later supports sharing project specific command line
options
https://maven.apache.org/docs/3.3.1/release-notes.html

Change-Id: I61ddf08ff8c0ebb76fc2e1d0a0cd5902c65f9469
Signed-off-by: Matthias Sohn <matthias.sohn@sap.com>",0,0,0,0,0,0,0,NA,NA
86117,I584211986be4e64f68d4eb905c09d3c5d60133e7,https://git.eclipse.org/r/#/c/86117,1,e01deaae21ffb81838a978d3d63b16b4565d2e6c,64e9fc48c6ec9be20359a8c7772a51c2b4157dfd,0,01/12/16,04/12/16,2,Upgrade buck to latest version,"Upgrade buck to latest version

The latest version removes dependency on `realpath` which is not
available by default on OSX.

This upgrades buck to the same version used on Gerrit master.

Change-Id: I584211986be4e64f68d4eb905c09d3c5d60133e7
Signed-off-by: David Pursehouse <david.pursehouse@gmail.com>",0,0,1,0,0,1,1,NA,NA
86423,I05d3e12178f8f0b5a687c8e09c2dcf80580acfb4,https://git.eclipse.org/r/#/c/86423,3,64e9fc48c6ec9be20359a8c7772a51c2b4157dfd,1403d1f656576bd78059e93c815340f8507d0a99,0,06/12/16,09/12/16,2,Upgrade errorprone to 2.0.15,"Upgrade errorprone to 2.0.15

Change-Id: I05d3e12178f8f0b5a687c8e09c2dcf80580acfb4
Signed-off-by: David Pursehouse <david.pursehouse@gmail.com>",0,0,1,1,0,1,1,NA,NA
86432,I314bd4373f40843c68853b3999f60d85e08628d9,https://git.eclipse.org/r/#/c/86432,1,b32773ddc0064ea9c7667ffa6c3f47a8ffeffd00,ac5fa6f9d6e0f9252e0e81b6047bf57d10989fb8,0,06/12/16,06/12/16,0,Merge branch 'stable-4.5',"Merge branch 'stable-4.5'

* stable-4.5:
  Use the same variable to check and extract LFS object id

Change-Id: I314bd4373f40843c68853b3999f60d85e08628d9
Signed-off-by: David Pursehouse <david.pursehouse@gmail.com>",1,0,0,0,0,0,1,NA,NA
86684,I89c397ed02e040f57663d04504399dfdc0889626,https://git.eclipse.org/r/#/c/86684,2,b07252959f3de95fa914630a664b0c0bcb302479,9d00dad5c4b608cedd3b3b45944a9311111de4ba,1,08/12/16,08/12/16,6,Replace usage of deprecated EWAHCompressedBitmap.add(long),"Replace usage of deprecated EWAHCompressedBitmap.add(long)

The add(long) method was deprecated in favor of addWord(long) in
the 0.8.3 release of JavaEWAH [1].

[1] https://github.com/lemire/javaewah/commit/e443cf5e

Change-Id: I89c397ed02e040f57663d04504399dfdc0889626
Signed-off-by: David Pursehouse <david.pursehouse@gmail.com>",0,0,0,0,0,1,1,0,0
86738,I3efd0ccffeb97b01207dc3e7a6b85c6b06928fad,https://git.eclipse.org/r/#/c/86738,5,9d00dad5c4b608cedd3b3b45944a9311111de4ba,746cbb41994f16d9bb059338fde81f6b7fec6873,1,08/12/16,13/12/16,126,Fix FileSnapshot.isModified,"Fix FileSnapshot.isModified

FileSnapshot.isModified may report a file beeing clean although is
acutally dirty.

Imagine you have a FileSnapshot on file f. lastmodified and lastread are
both t0. Now time is t1 and you
1) modify the file
2) Update the FileSnapshot of the file (lastModified=t1, lastRead=t1)
3) modify the file again
4) wait 3 seconds
5) Ask the Filesnapshot whether the file is dirty or not. It will answer
it's clean.

Every file which has been modified longer than 2.5 seconds ago will be
reported to be clean. That's not always correct as the test shows.

The real-world problem fixed by this is the following:
A gerrit server using JGit to handle git repositories is answering fetch
requests while simultaniously native git is doing a garbage collection
on the repo. At time t1 native git writes temporary files in the pack
folder causing the mtime of the pack folder to be set to t1. A fetch
request causes JGit to search for new packfiles and JGit remembers this
scan in a Filesnapshot on the packs folder. Since the gc is not finished
JGit doesn't see any new packfiles. The fetch is processed and the gc
ends while the filesystem timer is still t1. The gc caused a new
packfile beeing written and the old packfiles to be deleted.

3 seconds later another fetch comes. JGit does not yet now about the new
packfile but is also not rescanning the pack folder because he
remembered the last scan was during t1 and packfolder mtime is also t1.
Now JGit will not be able to resolve any object. This behaviour is
persistent because now gerrit can't read refs/meta/config anymore and
will not allow any pushes anymore. The packs folder will not change it's
mtime and therefore a rescan will not take place.

Change-Id: I3efd0ccffeb97b01207dc3e7a6b85c6b06928fad",0,1,1,0,0,1,1,0,0
86806,I81d4d562a06afcd8b4ff7d1f69c4d7f12099afad,https://git.eclipse.org/r/#/c/86806,1,9682028e3c3a4d8b3130799b3b7256684e369737,f316cf2078ad1f72373edc5b0f0981778b4a321f,0,09/12/16,09/12/16,1,Configure max heap size for Maven build,"Configure max heap size for Maven build

We faced many OOM errors on Hudson recently, so increase maximum heap size.

Change-Id: I81d4d562a06afcd8b4ff7d1f69c4d7f12099afad
Signed-off-by: Matthias Sohn <matthias.sohn@sap.com>",0,0,0,0,0,0,0,NA,NA
87057,Iadcb29b8eb24b0cb4bb9335b670443c138a60787,https://git.eclipse.org/r/#/c/87057,1,8b1dbeff465afdd8e9037ca465f70e0b08ad7ae5,b01df06d4d0a6954028fd3f353f9e28ebab829ac,1,13/12/16,23/12/16,11,Fix one case of missing object,"Fix one case of missing object

When a repository is being GCed and a concurrent push is received, there
is the possibility of having a missing object. This is due to the fact
that after the list of objects to delete is built, there is a window of
time when an unreferenced and ready to delete object can be referenced
by the incoming push. In that case, the object would be deleted because
there is no way to know it is no longer unreferenced. This will leave
the repository in an inconsistent state and most of the operations fail
with a missing tree/object error.

Given the incoming push change the last modified date for the now
referenced object, verify this one is still a candidate to delete
before actually performing the delete operation.

Change-Id: Iadcb29b8eb24b0cb4bb9335b670443c138a60787
Signed-off-by: Hector Oswaldo Caballero <hector.caballero@ericsson.com>",0,0,1,0,0,0,1,0,0
87360,I880cefe0a20f6af88ab10f6e862fda44fbe0883d,https://git.eclipse.org/r/#/c/87360,2,fb91c338928b77aa08a2697c96abec7283baadb2,86915e011744e5976cdc13b71f1a5587b2b4a293,0,18/12/16,18/12/16,1,Ignore infer output folder,"Ignore infer output folder

Infer [1] is a static code checker.

[1] http://fbinfer.com/

Change-Id: I880cefe0a20f6af88ab10f6e862fda44fbe0883d
Signed-off-by: Matthias Sohn <matthias.sohn@sap.com>",0,0,0,0,0,0,0,NA,NA
87361,Ic57fd3bf940752229e35102e7761823f7d3d8732,https://git.eclipse.org/r/#/c/87361,2,bb64dade00ee1d975b5a9d4b49eb1fd3f86ee822,395efa85651897082ad7ee3dc56ce331bc2b489b,1,18/12/16,18/12/16,11,[infer] Fix resource leak in BlameCommand,"[infer] Fix resource leak in BlameCommand

Bug: 509385
Change-Id: Ic57fd3bf940752229e35102e7761823f7d3d8732
Signed-off-by: Matthias Sohn <matthias.sohn@sap.com>",0,0,0,0,0,0,0,0,0
87362,I9fbdfda59f7bc577aab55dc92ff897b00b5cb050,https://git.eclipse.org/r/#/c/87362,3,b7d4bf12993e53ec71e24de0d75ddf487959b6de,7fbf73dd079db3c13682442dcb0c592322ce0256,1,18/12/16,18/12/16,16,[infer] Fix resource leaks in RebaseCommand,"[infer] Fix resource leaks in RebaseCommand

Bug: 509385
Change-Id: I9fbdfda59f7bc577aab55dc92ff897b00b5cb050
Signed-off-by: Matthias Sohn <matthias.sohn@sap.com>",0,0,0,0,0,0,0,0,0
87363,I9d25cf117cfb19df108f5fe281232193fd898474,https://git.eclipse.org/r/#/c/87363,4,df5a481d6131580c0797e526c061594328544f0f,d4a7ea8ea0195b65f2ee306f7ddedaa5e1cea6ff,1,18/12/16,18/12/16,10,[infer] Fix resource leaks in SubmoduleAddCommand,"[infer] Fix resource leaks in SubmoduleAddCommand

Bug: 509385
Change-Id: I9d25cf117cfb19df108f5fe281232193fd898474
Signed-off-by: Matthias Sohn <matthias.sohn@sap.com>",0,1,0,0,0,0,1,0,0
87364,I4cba81d8ea596800a40799dc9cb763fae01fe508,https://git.eclipse.org/r/#/c/87364,4,b0a02b33a7ba02a340b4764bbbe006e361c37c80,13902fd697b8f65d1bf0cdd208ca0f0d0413bc75,1,18/12/16,18/12/16,9,[infer] Fix SubmoduleWalk leaks in submodule commands,"[infer] Fix SubmoduleWalk leaks in submodule commands

Bug: 509385
Change-Id: I4cba81d8ea596800a40799dc9cb763fae01fe508
Signed-off-by: Matthias Sohn <matthias.sohn@sap.com>",0,1,0,0,0,0,1,0,0
87365,I5f914c910ef3a7583594fb31c7757d3dddf6a05e,https://git.eclipse.org/r/#/c/87365,5,fcccbb4581b389fe07c61f314609894d26cfaac5,dab77ab1928e345a029483ef18974f82ec3705b4,1,18/12/16,18/12/16,6,[infer] Fix resource leak in DirCache,"[infer] Fix resource leak in DirCache

Bug: 509385
Change-Id: I5f914c910ef3a7583594fb31c7757d3dddf6a05e
Signed-off-by: Matthias Sohn <matthias.sohn@sap.com>",0,1,0,0,0,0,1,0,0
87366,Icfe58ac2e5344546448a55ad14ec082356be968c,https://git.eclipse.org/r/#/c/87366,5,a180c6bcec9e086cf9a27e7855bf5716f334fd2d,37dbdcb97583b410f567a9469579a9ec87adf3bb,1,18/12/16,20/12/16,22,[infer] Fix resource leak in ManifestParser,"[infer] Fix resource leak in ManifestParser

Bug: 509385
Change-Id: Icfe58ac2e5344546448a55ad14ec082356be968c
Signed-off-by: Matthias Sohn <matthias.sohn@sap.com>",0,1,0,0,0,0,1,0,0
87367,I30c427f0dd2fc1fceb6b003dfdee0a05efaefca9,https://git.eclipse.org/r/#/c/87367,5,71836218ad0e5d61af9278b30663aa8b77ae9692,a35447c9253c2d083466415707401d354e19d03e,1,18/12/16,18/12/16,12,[infer] Fix resource leak in RepoCommand,"[infer] Fix resource leak in RepoCommand

Bug: 509385
Change-Id: I30c427f0dd2fc1fceb6b003dfdee0a05efaefca9
Signed-off-by: Matthias Sohn <matthias.sohn@sap.com>",0,1,0,0,0,0,1,0,0
87376,Ie900bd546c42523c5a04e22bd3d3f510d2a81ca2,https://git.eclipse.org/r/#/c/87376,1,ec5bb6ee8a626f3aaad530cdb163f7407d60b88a,d47857651afcc1ea3c9eb9786e9daa8988a0d33c,0,18/12/16,18/12/16,2,Update maven-source-plugin to 3.0.1 to fix OOM during build,"Update maven-source-plugin to 3.0.1 to fix OOM during build

Recently we frequently suffer from OutOfMemoryError when creating source
archives in the Maven build. maven-source-plugin 3.0.0 has a bug [1]
causing OOM which is fixed in 3.0.1.

[1] https://issues.apache.org/jira/browse/MSOURCES-94

Change-Id: Ie900bd546c42523c5a04e22bd3d3f510d2a81ca2
Signed-off-by: Matthias Sohn <matthias.sohn@sap.com>",1,0,0,0,0,0,1,NA,NA
87383,Id5dc40bb3fb9da97ea0795cca1f2bcdcde347767,https://git.eclipse.org/r/#/c/87383,1,b96d9ac63e248e1e4ef51d8566f71ff69c2a06d6,72319421514cd5bb8efa007bdad62343803f62db,1,19/12/16,20/12/16,7,[infer] Fix resource leaks in DfsInserter,"[infer] Fix resource leaks in DfsInserter

Bug: 509385
Change-Id: Id5dc40bb3fb9da97ea0795cca1f2bcdcde347767
Signed-off-by: Matthias Sohn <matthias.sohn@sap.com>",0,0,0,0,0,0,0,0,0
87384,Ic8a82895fa39be73f1bd8427cfe9437be6fc4e3e,https://git.eclipse.org/r/#/c/87384,1,72319421514cd5bb8efa007bdad62343803f62db,4c25e2b753139da9245a498933a526dace742e52,1,19/12/16,20/12/16,15,[infer] Fix a resource leak in PackWriter,"[infer] Fix a resource leak in PackWriter

Bug: 509385
Change-Id: Ic8a82895fa39be73f1bd8427cfe9437be6fc4e3e
Signed-off-by: Matthias Sohn <matthias.sohn@sap.com>",0,0,0,0,0,0,0,0,0
87385,I98dd5fef15cd173fe1fd84273f0f48e64e12e608,https://git.eclipse.org/r/#/c/87385,2,4c25e2b753139da9245a498933a526dace742e52,751a0cc7c3dd4b4ca78f214bb9ace0e3abd3c6ef,1,19/12/16,21/12/16,12,[infer] Fix resource leak in IndexDiff,"[infer] Fix resource leak in IndexDiff

Bug: 509385
Change-Id: I98dd5fef15cd173fe1fd84273f0f48e64e12e608
Signed-off-by: Matthias Sohn <matthias.sohn@sap.com>",0,0,0,0,0,0,0,0,0
87446,I6b6ff5b721d959eb0708003a40c8f97d6826ac46,https://git.eclipse.org/r/#/c/87446,2,bb9d4e211babfe10ac7e5d9783ed8959a09dac48,4639dc5e62476a82080374a9f060f10a101cd882,1,20/12/16,21/12/16,5,[infer] Fix resource leak in ObjectChecker,"[infer] Fix resource leak in ObjectChecker

Bug: 509385
Change-Id: I6b6ff5b721d959eb0708003a40c8f97d6826ac46
Signed-off-by: Matthias Sohn <matthias.sohn@sap.com>",0,0,0,0,0,0,0,0,0
87720,Ia6384f4be71086d5a0a8c42c7521220f57dfd086,https://git.eclipse.org/r/#/c/87720,1,6a48f120757815677c97fc08ccd4dcf99bbfe607,763ec2fb44b303398b71ed7c96459af4e1514d31,0,24/12/16,24/12/16,0,Merge branch 'stable-4.5',"Merge branch 'stable-4.5'

* origin/stable-4.5:
  Fix one case of missing object

Change-Id: Ia6384f4be71086d5a0a8c42c7521220f57dfd086
Signed-off-by: Matthias Sohn <matthias.sohn@sap.com>",1,0,0,0,0,0,1,NA,NA
87721,Iaa88fe1b195dfe6be99a7b4cb064684e75563715,https://git.eclipse.org/r/#/c/87721,1,763ec2fb44b303398b71ed7c96459af4e1514d31,1887e2045014240f05412f22bfc34ec4dd720021,0,24/12/16,24/12/16,118,JGit v4.6.0.201612231935-r,"JGit v4.6.0.201612231935-r

Change-Id: Iaa88fe1b195dfe6be99a7b4cb064684e75563715
Signed-off-by: Matthias Sohn <matthias.sohn@sap.com>",1,0,0,1,0,0,1,NA,NA
87727,I6b05a6f6c3f92365c272e1bdaf76093ca01f2d58,https://git.eclipse.org/r/#/c/87727,1,1887e2045014240f05412f22bfc34ec4dd720021,76faf941294b3d65bdf20d664798273b91a3369f,0,24/12/16,24/12/16,624,Prepare 4.6.1-SNAPSHOT builds,"Prepare 4.6.1-SNAPSHOT builds

Change-Id: I6b05a6f6c3f92365c272e1bdaf76093ca01f2d58
Signed-off-by: Matthias Sohn <matthias.sohn@sap.com>",1,0,0,1,1,0,1,NA,NA
87728,I72026aa33be86960747a246af4a70f6a91b40102,https://git.eclipse.org/r/#/c/87728,1,76faf941294b3d65bdf20d664798273b91a3369f,dfefc64ec2964c9638cb5ee49fefb01ef7d6042a,0,24/12/16,26/12/16,4,Skip javadoc generation for org.eclipse.jgit.http.test,"Skip javadoc generation for org.eclipse.jgit.http.test

This fixes the error the javadoc plugin raises when generating the maven
site for this bundle.

Change-Id: I72026aa33be86960747a246af4a70f6a91b40102
Signed-off-by: Matthias Sohn <matthias.sohn@sap.com>",1,0,0,0,0,0,1,NA,NA
87729,I2d18f69d25362f565df071c320970cbc973199cd,https://git.eclipse.org/r/#/c/87729,2,dfefc64ec2964c9638cb5ee49fefb01ef7d6042a,63196f096ffd7cdef75697696b4ab398d10a5650,0,24/12/16,26/12/16,20,Update maven plugins,"Update maven plugins

Change-Id: I2d18f69d25362f565df071c320970cbc973199cd
Signed-off-by: Matthias Sohn <matthias.sohn@sap.com>",1,0,0,1,0,0,1,NA,NA
87745,I1cf3402c057de89d1afe161d2d4106896fa8753f,https://git.eclipse.org/r/#/c/87745,1,63196f096ffd7cdef75697696b4ab398d10a5650,af814b81943c2f90e35d1772718959a596765834,0,26/12/16,26/12/16,4,Update tycho version to 0.26,"Update tycho version to 0.26

Change-Id: I1cf3402c057de89d1afe161d2d4106896fa8753f
Signed-off-by: Matthias Sohn <matthias.sohn@sap.com>",1,0,0,1,0,0,1,NA,NA
87751,Ia70329af7ec8bdb6d8bd6f917e00024a3ea4ac1f,https://git.eclipse.org/r/#/c/87751,1,1a714493baa8280f008fac56a7e1803716e2b5b1,151afc0101fabc7e7d5b62eef399e0ed17b5332d,0,27/12/16,27/12/16,0,Merge branch 'stable-4.6',"Merge branch 'stable-4.6'

* stable-4.6:
  Update tycho version to 0.26
  Update maven plugins
  Skip javadoc generation for org.eclipse.jgit.http.test
  Prepare 4.6.1-SNAPSHOT builds
  JGit v4.6.0.201612231935-r

Change-Id: Ia70329af7ec8bdb6d8bd6f917e00024a3ea4ac1f
Signed-off-by: Matthias Sohn <matthias.sohn@sap.com>",1,0,0,0,0,0,1,NA,NA
87752,I20754d13007e6591d36aae5766f3a9a82b24e120,https://git.eclipse.org/r/#/c/87752,1,151afc0101fabc7e7d5b62eef399e0ed17b5332d,a721d3e57f0922375f7bec2acbff0146f9388e8e,0,27/12/16,27/12/16,628,Prepare 4.7.0-SNAPSHOT builds,"Prepare 4.7.0-SNAPSHOT builds

Change-Id: I20754d13007e6591d36aae5766f3a9a82b24e120
Signed-off-by: Matthias Sohn <matthias.sohn@sap.com>",1,0,0,1,1,0,1,NA,NA
87776,I9dc4c7c393ae20aefa0b9507df8df83610ce4d42,https://git.eclipse.org/r/#/c/87776,1,a721d3e57f0922375f7bec2acbff0146f9388e8e,68b2e8f28e4cf482f776283cc00f120e4589b0cf,1,28/12/16,28/12/16,11,Fix keep pack filename,"Fix keep pack filename

Previously it was looking for a keep file with the name of a pack file
(extenstion included) appended with a '.keep'. However, the keep file
name should be the pack file name  with a '.keep' extension

Change-Id: I9dc4c7c393ae20aefa0b9507df8df83610ce4d42
Signed-off-by: James Melvin <jmelvin@codeaurora.org>",0,0,0,0,0,0,0,0,0
87780,If6d343a55245219a652e35c9cfde69349dc09889,https://git.eclipse.org/r/#/c/87780,1,68b2e8f28e4cf482f776283cc00f120e4589b0cf,fd083829bfcf64be9fdd68a75fd5ed3ddc9003d5,0,29/12/16,29/12/16,34,Remove unused API warning filters,"Remove unused API warning filters

Change-Id: If6d343a55245219a652e35c9cfde69349dc09889
Signed-off-by: Matthias Sohn <matthias.sohn@sap.com>",1,0,0,1,0,0,1,NA,NA
87781,I842cbdd14bf56cb2bd599255fe90a5a3aea0d304,https://git.eclipse.org/r/#/c/87781,1,fd083829bfcf64be9fdd68a75fd5ed3ddc9003d5,93cbadfbe88ca187e9330b65a886402ea1a2cc15,1,29/12/16,03/01/17,3,[findBugs] Fix potential NPE in DirCacheCheckoutTest,"[findBugs] Fix potential NPE in DirCacheCheckoutTest

Change-Id: I842cbdd14bf56cb2bd599255fe90a5a3aea0d304
Signed-off-by: Matthias Sohn <matthias.sohn@sap.com>",0,0,0,1,0,0,1,0,0
87782,I59cda76b2c5039e08612f394ee4f7f1788578c49,https://git.eclipse.org/r/#/c/87782,1,93cbadfbe88ca187e9330b65a886402ea1a2cc15,90ad1ca8a4e287eda1d3b8c39eb2aaaa285eccbf,1,29/12/16,03/01/17,7,[findBugs] Fix potential NPE in GC,"[findBugs] Fix potential NPE in GC

Change-Id: I59cda76b2c5039e08612f394ee4f7f1788578c49
Signed-off-by: Matthias Sohn <matthias.sohn@sap.com>",0,0,0,1,0,0,1,0,0
87783,I273c06b9b2ce36c8232803cb7f02d7f846ed49e5,https://git.eclipse.org/r/#/c/87783,1,90ad1ca8a4e287eda1d3b8c39eb2aaaa285eccbf,bce45243939e2908d5b544bc8bf750d2cdbb0243,0,29/12/16,03/01/17,3,[findBugs] Fix potential NPE in GcPackRefsTest,"[findBugs] Fix potential NPE in GcPackRefsTest

Change-Id: I273c06b9b2ce36c8232803cb7f02d7f846ed49e5
Signed-off-by: Matthias Sohn <matthias.sohn@sap.com>",0,0,0,1,0,0,1,NA,NA
87784,I0307d1e9bbc0bfc8172eed10f8e93788d6e2c8b4,https://git.eclipse.org/r/#/c/87784,1,bce45243939e2908d5b544bc8bf750d2cdbb0243,0a1ef99ffabc682ba300291ab0242e982be134d5,1,29/12/16,03/01/17,2,[findBugs] Fix potential NPE in ObjectDirectoryTest,"[findBugs] Fix potential NPE in ObjectDirectoryTest

Change-Id: I0307d1e9bbc0bfc8172eed10f8e93788d6e2c8b4
Signed-off-by: Matthias Sohn <matthias.sohn@sap.com>",0,0,0,1,0,0,1,0,0
87785,Ibc20e9fc16be62f61748b3f59f6d70c1ebf63671,https://git.eclipse.org/r/#/c/87785,1,0a1ef99ffabc682ba300291ab0242e982be134d5,fabf2170a5970bc15df9ea95943085addce72e77,1,29/12/16,03/01/17,5,[findBugs] Fix potential NPE in CleanFilter,"[findBugs] Fix potential NPE in CleanFilter

Change-Id: Ibc20e9fc16be62f61748b3f59f6d70c1ebf63671
Signed-off-by: Matthias Sohn <matthias.sohn@sap.com>",0,0,0,1,0,0,1,0,0
87810,I6901da975a86c460ce7c783a519669d8be8e23bb,https://git.eclipse.org/r/#/c/87810,1,fabf2170a5970bc15df9ea95943085addce72e77,825c79aba603a339f59d50f8692fda55f510f88e,1,29/12/16,03/01/17,14,[findBugs] Remove reliance on default encoding in Base64,"[findBugs] Remove reliance on default encoding in Base64

Change-Id: I6901da975a86c460ce7c783a519669d8be8e23bb
Signed-off-by: Matthias Sohn <matthias.sohn@sap.com>",0,0,0,1,0,0,1,0,0
87818,I4b5621bcb4db82e0560408b3cde6f18b0cc55b29,https://git.eclipse.org/r/#/c/87818,1,825c79aba603a339f59d50f8692fda55f510f88e,3ebb744b66b82451766555c06c650d77a2c615c0,1,30/12/16,03/01/17,2,[findBugs] PackWriter.NONE should be final,"[findBugs] PackWriter.NONE should be final

Change-Id: I4b5621bcb4db82e0560408b3cde6f18b0cc55b29
Signed-off-by: Matthias Sohn <matthias.sohn@sap.com>",0,0,0,1,0,0,1,0,0
87957,I57d5d4fab7e0b1bd4cf5f1850e8569c8ac5def88,https://git.eclipse.org/r/#/c/87957,3,3ebb744b66b82451766555c06c650d77a2c615c0,9c8a328f2397e76d69d80241eaf37f6ba6b785ca,1,03/01/17,03/01/17,16,Get rid of javax.servlet API dependency for core org.eclipse.jgit,"Get rid of javax.servlet API dependency for core org.eclipse.jgit

Change-Id: I57d5d4fab7e0b1bd4cf5f1850e8569c8ac5def88
Signed-off-by: Marc Strapetz <marc.strapetz@syntevo.com>",0,0,0,1,0,0,1,0,0
87969,If3f729f0d9ce920ee2c3e6acdde46f2068be61d2,https://git.eclipse.org/r/#/c/87969,5,9c8a328f2397e76d69d80241eaf37f6ba6b785ca,1fe8f0df6581121abc4faa98ab91bac100ba4828,1,03/01/17,19/01/17,222,gc: Add options to preserve and prune old pack files,"gc: Add options to preserve and prune old pack files

The new --preserve-oldpacks option moves old pack files into the
preserved subdirectory instead of deleting them after repacking.

The new --prune-preserved option prunes old pack files from the
preserved subdirectory after repacking, but before potentially
moving the latest old packfiles to this subdirectory.

These options are designed to prevent stale file handle exceptions
during git operations which can happen on users of NFS repos when
repacking is done on them. The strategy is to preserve old pack files
around until the next repack with the hopes that they will become
unreferenced by then and not cause any exceptions to running processes
when they are finally deleted (pruned).

Change-Id: If3f729f0d9ce920ee2c3e6acdde46f2068be61d2
Signed-off-by: James Melvin <jmelvin@codeaurora.org>",0,1,1,0,0,0,1,0,0
87972,I22e29517b5bc6fa3d6b19a19f13bef0c68afdca3,https://git.eclipse.org/r/#/c/87972,2,9ba7eeda984bd7bad42a78d4515f829e273e7e5d,5f23b7a8c7e8eb5f9758c10d9105ed3ad843c6e5,1,03/01/17,03/01/17,30,Pack refs/tags/ with refs/heads/,"Pack refs/tags/ with refs/heads/

This fixes a nasty performance issue for repositories that have many
objects referenced through refs/tags/, but not in refs/heads/.
Situations like this can arise when a project has made releases like
refs/tags/v1.0, and then decides to orphan history and start over for
version 2. The v1.0 objects are not reachable from master anymore,
but are still live due to the v1.0 tag.

When tags are packed in the GC_OTHER pack, bitmaps are not able to
cover the repository's contents. This may cause very slow counting
times during git clone, as the server must enumerate the ancient
history under refs/tags/ to respond to the client.

Clients by default always ask for all tags when asking for all heads
during clone. This has been true since git-core commit 8434c2f1afedb
(Apr 27 2008), when clone was converted to a builtin. Including tags
in the main GC pack should still allow servers to benefit from the
fast full pack reuse path when serving a clone to a client.

Change-Id: I22e29517b5bc6fa3d6b19a19f13bef0c68afdca3",0,0,0,0,0,0,0,0,0
88127,I97ca9f8395396c76332bdd07c486e60549ca4401,https://git.eclipse.org/r/#/c/88127,3,5f23b7a8c7e8eb5f9758c10d9105ed3ad843c6e5,ee00b0b2b0081407c8b60df99bb8cdd13be49fd4,1,05/01/17,09/02/17,314,push: support per-ref force-with-lease,"push: support per-ref force-with-lease

When rebasing, force-pushing has a race condition: someone else might
have pushed a commit since the one you just rewrote. The force-with-lease
option prevents this by ensuring that the ref's old value is the one
that you expected.

Change-Id: I97ca9f8395396c76332bdd07c486e60549ca4401
Signed-off-by: David Turner <dturner@twosigma.com>",0,0,0,0,0,0,0,0,0
88131,Ic0d12f098f90f912a45bcc5693d6accf751d4e58,https://git.eclipse.org/r/#/c/88131,9,f4d838825b788bb633287d003f6cf55eadc9a12e,6b8eca9ddb2f6be259aaf192d4db3a0e9b96c661,1,06/01/17,18/01/17,119,Bug 509878 - Provide a way to fix the branch name in the CreateBranchWizard,"Bug 509878 - Provide a way to fix the branch name in the
CreateBranchWizard

Generic normalization method for a possible invalid branch name. 
The method compresses dividers between spaces, then replaces spaces  
and non word characters with underscores.

This method is needed in preparation for subsequent EGit changes.

Change-Id: Ic0d12f098f90f912a45bcc5693d6accf751d4e58
Signed-off-by: Wim Jongman <wim.jongman@remainsoftware.com>",0,1,1,0,0,0,1,0,0
88378,Ia3a39d38f7aec4282109c7698438f0795fbec905,https://git.eclipse.org/r/#/c/88378,4,8befe685721e3beec8b502725faad2ce75568ece,8d036bff8f15ffbd9a4c2b76e3f085521440579b,1,10/01/17,16/01/17,56,Fix possible InvalidObjectIdException in ObjectDirectory,"Fix possible InvalidObjectIdException in ObjectDirectory

ObjectDirectory.getShallowCommits should throw an IOException
instead of an InvalidArgumentException if invalid SHAs are present
in .git/shallow (as this file is usually edited by a human).

Change-Id: Ia3a39d38f7aec4282109c7698438f0795fbec905
Signed-off-by: Marc Strapetz <marc.strapetz@syntevo.com>",0,1,1,0,0,0,1,0,0
88603,I2aa22e2144df5fb7972df0e3285b77b08ecc63f2,https://git.eclipse.org/r/#/c/88603,2,8c228beb5101d6a323293274ee9d0fdbf3e7c33b,cbf887b8556600ad4d346c4a2fd6a25140973439,1,13/01/17,13/01/17,74,Add support for refusing LFS request due to invalid authorization,"Add support for refusing LFS request due to invalid authorization

Add a new exception type that server implementations can throw when a
client attempts to make an unauthorized LFS operation, which will result
in HTTP 401 Unauthorized being returned to the client.

An example of this is a Gerrit server that rejects a request to perform
an LFS operation on a ref that is not visible to the caller.

As defined in the LFS spec [1] the request may include authentication,
and per RFC 2616 [2], ""401 response indicates that authorization has been
refused for those credentials"".

[1] https://github.com/git-lfs/git-lfs/blob/master/docs/api/batch.md
[2] https://www.w3.org/Protocols/rfc2616/rfc2616-sec10.html

Change-Id: I2aa22e2144df5fb7972df0e3285b77b08ecc63f2
Signed-off-by: David Pursehouse <david.pursehouse@gmail.com>",0,0,0,0,0,1,1,0,0
88604,Ie7b1c90c54673bfb8e133fb0aa19a117d4ca6587,https://git.eclipse.org/r/#/c/88604,3,5074bd5bba4b1e83cd912694c3d6c25fa75a55c7,b4a0838ecf9a748e312ee3256b527ceff82d4363,1,13/01/17,13/01/17,16,LfsProtocolServlet: Improve error on getLargeFileRepository failure,"LfsProtocolServlet: Improve error on getLargeFileRepository failure

Externalize the error message and make it more specific. Also emit
an error log.

Change-Id: Ie7b1c90c54673bfb8e133fb0aa19a117d4ca6587
Signed-off-by: David Pursehouse <david.pursehouse@gmail.com>",0,0,0,0,0,1,1,0,0
88605,I58da6230247204588e017c010ce5b14e4615448d,https://git.eclipse.org/r/#/c/88605,2,721c2a4d6b4ac5a3fa5228177eabce54b225b03b,70753d9ecde83384035082be25a034beb9d13f4e,1,13/01/17,14/01/17,34,Expose LFS operation strings as public constants,"Expose LFS operation strings as public constants

So that they can be used either by third party LFS server implementations
or from within other parts of JGit's internal LFS implementation.

Change-Id: I58da6230247204588e017c010ce5b14e4615448d
Signed-off-by: David Pursehouse <david.pursehouse@gmail.com>",0,0,0,0,0,1,1,0,0
88606,Ia33ed6699ebcb9000ef514ce79bcddbebf94e1c5,https://git.eclipse.org/r/#/c/88606,2,d2fbd2adea654f4542e1d7d37b24176a56a8a315,fb31439ce517eab6668e673535df2d79c94843df,1,13/01/17,14/01/17,27,LfsProtocolServlet#LfsRequest: Add operation type helper methods,"LfsProtocolServlet#LfsRequest: Add operation type helper methods

Server implementations may need to check what type of operation is
being performed. Add helper methods to make it a bit simpler.

Change-Id: Ia33ed6699ebcb9000ef514ce79bcddbebf94e1c5
Signed-off-by: David Pursehouse <david.pursehouse@gmail.com>",0,0,0,0,0,1,1,0,0
88692,Ibbe2e564d36b79922a936657f286addb1044d237,https://git.eclipse.org/r/#/c/88692,1,f6fc37bf48af74da4b721ae41a0842808c762402,d98730eb1f4f345717ff388337ac8a178e95a8e4,1,14/01/17,14/01/17,11,Skip pack header bytes in DfsPackFile,"Skip pack header bytes in DfsPackFile

The 12 bytes `PACK...` header is written in PackWriter before reading
CachedPack files. In DfsPackFile#copyPackBypassCache, the header was not
skipped when the first block is not in cache.

Change-Id: Ibbe2e564d36b79922a936657f286addb1044d237
Signed-off-by: Zhen Chen <czhen@google.com>",0,0,0,0,0,0,0,0,0
88693,I0c7fcae123f94ebd8e5eb2700e3d601a1b199be9,https://git.eclipse.org/r/#/c/88693,2,edf0f5cc00f7549477711917724dce38d24f0dca,aee09856aafa1fa01114fbab78775014feea1347,0,14/01/17,14/01/17,3,Add missing slf4j dependency to jgit-lfs-server,"Add missing slf4j dependency to jgit-lfs-server

Change-Id: I0c7fcae123f94ebd8e5eb2700e3d601a1b199be9
Signed-off-by: Zhen Chen <czhen@google.com>",0,0,0,1,0,0,1,NA,NA
88726,Iaced4d277623334d11e3d1cca5969590d7c5093e,https://git.eclipse.org/r/#/c/88726,3,aee09856aafa1fa01114fbab78775014feea1347,ce48c67fe90b5809a1b9da605825beb15b9a536b,1,15/01/17,16/01/17,27,Fix StashApplyCommand for stashes containing untracked changes.,"Fix StashApplyCommand for stashes containing untracked changes.

Bug: 505804
Change-Id: Iaced4d277623334d11e3d1cca5969590d7c5093e
Signed-off-by: Thomas Wolf <thomas.wolf@paranor.ch>",0,0,0,0,0,0,0,0,0
88732,I5772061041fd361fe93137fd8b0ad356e748a29c,https://git.eclipse.org/r/#/c/88732,7,8cf120aaef42045937d00582975ff631181fa038,6c8f4876beb8a5b94c675e58ca926de05b72951d,1,16/01/17,20/02/17,1029,Enable and fix 'Should be tagged with @Override' warning,"Enable and fix 'Should be tagged with @Override' warning

Set missingOverrideAnnotation=warning in Eclipse compiler preferences
which enables the warning:

  The method <method> of type <type> should be tagged with @Override
  since it actually overrides a superclass method

Justification for this warning is described in:

  http://stackoverflow.com/a/94411/381622

Enabling this causes 1020 warnings across the entire code-base. They
are very easy to fix automatically with Eclipse's ""Quick Fix"" tool.

Change-Id: I5772061041fd361fe93137fd8b0ad356e748a29c
Signed-off-by: David Pursehouse <david.pursehouse@gmail.com>",0,1,0,0,1,1,1,2,1
88811,I6da19c8106201c2a1ac69002bd633b7387f25d96,https://git.eclipse.org/r/#/c/88811,6,d8c1e6be5a31d611a6c96bad1bfde1e5dc690ddb,a72996f8d260e74caec710d5503ce26e8790ca31,1,17/01/17,03/02/17,189,Follow redirects in transport,"Follow redirects in transport

Change-Id: I6da19c8106201c2a1ac69002bd633b7387f25d96
Signed-off-by: Bo Zhang <zhangbodut@gmail.com>",0,1,0,1,0,0,1,0,0
89070,Ie8a79f715fe69bed9331962fb478f7e35acf8680,https://git.eclipse.org/r/#/c/89070,1,fad8ee83c58ff7198dd7bbbc7b988157565f673f,f5947419a995afdd4f8c8aadf80a597d715f5cd7,1,19/01/17,19/01/17,6,Make ObjectDownloadListener public,"Make ObjectDownloadListener public

The same was already done for ObjectUploadListener in I5b0fb1220.

Change-Id: Ie8a79f715fe69bed9331962fb478f7e35acf8680
Signed-off-by: David Pursehouse <david.pursehouse@gmail.com>",0,0,0,0,0,1,1,0,0
89151,Ia8b861da07fba99644ccc9eb5578a46cc39600a1,https://git.eclipse.org/r/#/c/89151,1,2f28ae5f5352ad4b8ee172fa64408e5cf26a8c2c,d79b7acea4bac08283a60bb6826c67dfda66786a,1,19/01/17,19/01/17,4,Add missing @since tags on new API constants,"Add missing @since tags on new API constants

Change-Id: Ia8b861da07fba99644ccc9eb5578a46cc39600a1
Signed-off-by: Matthias Sohn <matthias.sohn@sap.com>",0,0,0,1,0,0,1,0,0
89163,I934114315d2c7cab917f1011b8e55c52367d429f,https://git.eclipse.org/r/#/c/89163,2,d79b7acea4bac08283a60bb6826c67dfda66786a,db136ab9eb8dbccb9bf454cfab5e52ee4cd38749,0,20/01/17,22/01/17,236,Format Bazel files with buildifier,"Format Bazel files with buildifier

Change-Id: I934114315d2c7cab917f1011b8e55c52367d429f
Signed-off-by: David Pursehouse <david.pursehouse@gmail.com>",0,0,0,1,0,1,1,NA,NA
89164,I9e6c60898ccc6d2a4557ec7544c297442a9702b4,https://git.eclipse.org/r/#/c/89164,2,14e5690068403cfb697fa0f5ca3f3c8b554e5d32,8070ab17a819a037ed013b063786891be08b8381,0,20/01/17,22/01/17,44,"Implement Bazel build for http-apache, lfs, lfs-server","Implement Bazel build for http-apache, lfs, lfs-server

Test plan:

  $ bazel build all

  $ unzip -t bazel-genfiles/all.zip
    Archive:  bazel-genfiles/all.zip
      testing: libhttp-apache.jar       OK
      testing: libjgit-archive.jar      OK
      testing: libjgit-lfs-server.jar   OK
      testing: libjgit-lfs.jar          OK
      testing: libjgit-servlet.jar      OK
      testing: libjgit.jar              OK
      testing: libjunit.jar             OK
    No errors detected in compressed data of bazel-genfiles/all.zip.

Change-Id: I9e6c60898ccc6d2a4557ec7544c297442a9702b4
Signed-off-by: David Pursehouse <david.pursehouse@gmail.com>",0,0,0,0,0,1,1,NA,NA
89240,I93b66d1f6c869e66be5c1169d8edafe781e601f6,https://git.eclipse.org/r/#/c/89240,2,d4f37f71727fdaab35d96dad9f335a7fb881dd74,ea13d17649ae7eabdfe529dca726eeb940773558,0,20/01/17,21/01/17,27,Change StreamGobbler to Runnable to avoid unused Future,"Change StreamGobbler to Runnable to avoid unused Future

It can be considered a programming error to create a Future<T>
but do nothing with that object. There is an async computation
happening and without holding and checking the Future for done
or exception the caller has no idea if it has completed.

FS doesn't really care about these StreamGobblers finishing.
Instead use Runnable with execute(Runnable), which doesn't
return a Future.

Change-Id: I93b66d1f6c869e66be5c1169d8edafe781e601f6",0,0,0,0,0,0,0,NA,NA
89259,Iade1122633ea774c2e842178a6a6cbb4a57b598b,https://git.eclipse.org/r/#/c/89259,8,3ccec100fc43350ff2bc08419e83dd41287daa2a,a443733b6ebaa6950979cd3df9a53961ff8dac95,1,20/01/17,26/01/17,490,"Record the estimated size of the COMPACT, GC and GC_REST pack files.","Record the estimated size of the COMPACT, GC and GC_REST pack files.

The Compacter and Garbage Collector will record the the estimated size
of the newly going to be created compact or gc packs. This is
information can be used by the clients to better make a call on how to
actually store the pack based on the approximated expected size. 

Change-Id: Iade1122633ea774c2e842178a6a6cbb4a57b598b
Signed-off-by: Thirumala Reddy Mutchukota <thirumala@google.com>",0,1,1,0,0,0,1,0,0
89385,Ie7eeba3ae719ff207c7535d535a9e0bd6c9e99e6,https://git.eclipse.org/r/#/c/89385,2,c67d702c76dfbb8cc2bb3955514d6f38f8c1a9ae,b3dbef4186098245b4d344de3f47d6cc99d967b1,1,23/01/17,24/01/17,24,[infer] Fix potential NPE in CloneCommand,"[infer] Fix potential NPE in CloneCommand

Change-Id: Ie7eeba3ae719ff207c7535d535a9e0bd6c9e99e6
Signed-off-by: Matthias Sohn <matthias.sohn@sap.com>",0,0,0,1,0,0,1,-1,0
89386,Ia33e2af9ce3393d9173ca0dc7efefd86c965d8c8,https://git.eclipse.org/r/#/c/89386,2,9b1101bef56dfb7da7c03d7a205e23cc3ead0838,79e76af1f902d9d914615659eaae312a4c3241bf,1,23/01/17,24/01/17,2,[infer] Fix potential NPE in DiffFormatter,"[infer] Fix potential NPE in DiffFormatter

Change-Id: Ia33e2af9ce3393d9173ca0dc7efefd86c965d8c8
Signed-off-by: Matthias Sohn <matthias.sohn@sap.com>",0,0,0,1,0,0,1,0,0
89387,I05653df7a0337443d2c8e53f47f4e95ec9ca1a9c,https://git.eclipse.org/r/#/c/89387,2,313b0599e4746c75f32463acc1853f0e73bbaf5b,f9b07ac7b61f70c2b523b732389d65837b0b6b53,1,23/01/17,24/01/17,3,[infer] Mark ManifestParse.getFilteredProjects non-null,"[infer] Mark ManifestParse.getFilteredProjects non-null

Change-Id: I05653df7a0337443d2c8e53f47f4e95ec9ca1a9c
Signed-off-by: Matthias Sohn <matthias.sohn@sap.com>",0,0,0,1,0,0,1,0,0
89395,I3c4cb1f7aa99dd7b398bdb8d513f528d7761edff,https://git.eclipse.org/r/#/c/89395,8,6ba465323b56e2a1d45e58510cb5d1d51ce7cb07,655d24edf33a106faeee270cbc358a2e3182e38f,1,23/01/17,30/01/17,172,Clean up orphan files in GC,"Clean up orphan files in GC

An orphan file is either a bitmap or an idx file in pack folder,
and its corresponding pack file is missing.

Change-Id: I3c4cb1f7aa99dd7b398bdb8d513f528d7761edff
Signed-off-by: Hongkai Liu <hongkai.liu@ericsson.com>",0,1,1,0,0,0,1,0,0
89455,I59539aca1d0d83622c41aa9bfbdd72fa868ee9fb,https://git.eclipse.org/r/#/c/89455,4,6a67a0326248a4e10434087087664d0898ab4f5c,5e255af80157cab42b40e9ff8a81c4d5bb7e15e4,1,24/01/17,24/01/17,98,gc: loosen unreferenced objects,"gc: loosen unreferenced objects

An unreferenced object might appear in a pack.  This could only happen
because it was previously referenced, and then later that reference
was removed.  When we gc, we copy the referenced objects into a new
pack, and delete the old pack.  This would remove the unreferenced
object.  Now we first create a loose object from any unreferenced
object in the doomed pack.  This kicks off the two-week grace period
for that object, after which it will be collected if it's not
referenced.

This matches the behavior of regular git.

Change-Id: I59539aca1d0d83622c41aa9bfbdd72fa868ee9fb
Signed-off-by: David Turner <dturner@twosigma.com>",0,1,0,0,0,0,1,0,0
89462,I6c17d3cfc93657f1b33cf5c5708f2b1c712b0d31,https://git.eclipse.org/r/#/c/89462,3,95dc95b6202c97d66efa14f7c920cbe4ec172056,175fa982071ebde534cfa0be5ae52635e8d2c27c,1,24/01/17,24/01/17,43,Remove @since tags from internal packages,"Remove @since tags from internal packages

These packages don't use @since tags because they are not part of the
stable public API.  Some @since tags snuck in, though.  Remove them to
make the convention easier to find for new contributors and the
expectations clearer for users.

Change-Id: I6c17d3cfc93657f1b33cf5c5708f2b1c712b0d31",0,0,0,0,0,0,0,0,0
89523,I39dd7e76a2e4ce97319c7d52261b0a1546879788,https://git.eclipse.org/r/#/c/89523,4,b3263a846a8134fbc2d7d85960d97ad8c42dffd0,2bb4992f3cefe01f6b929055947e319720f0bfa7,1,25/01/17,30/01/17,130,Rename test-class names for FileUtils,"Rename test-class names for FileUtils

- FileUtils7Test.java -> FileUtilsJava7Test.java
  For easiser understanding, as the name of FSJava7Test.
- FileUtilTest.java -> FileUtilsTest.java
  To be aligned with the targeting class name

Change-Id: I39dd7e76a2e4ce97319c7d52261b0a1546879788
Signed-off-by: Hongkai Liu <hongkai.liu@ericsson.com>",0,1,1,0,0,0,1,0,0
89529,I9ba551978eab750326d1a067b296e3ae93925871,https://git.eclipse.org/r/#/c/89529,4,8249fe8fdf10e4c2a958fc4ce8e9dde79fb8f48b,18e86cfa632a4eecae040538197f99d61165410b,1,25/01/17,25/01/17,33,Fixes Javadoc error in org.eclipse.jgit created with I59539aca1d0d83622c41aa9bfbdd72fa868ee9fb,"Fixes Javadoc error in org.eclipse.jgit created with
I59539aca1d0d83622c41aa9bfbdd72fa868ee9fb

Adds the param information to the private method. These are generated
via tooltip to resolve the compile errors.

Change-Id: I9ba551978eab750326d1a067b296e3ae93925871
Signed-off-by: Lars Vogel <Lars.Vogel@vogella.com>",0,1,0,0,0,0,1,0,0
89559,Ib241c4f45192672712526599898c0bd0bd356436,https://git.eclipse.org/r/#/c/89559,1,1ac096686c6f97a1a660492aec33bb8b611bfb68,44bce0990f9d2e6cce228c64bd2c26769c09794e,0,25/01/17,25/01/17,4,Fix preparation of 4.6.1-SNAPSHOT builds,"Fix preparation of 4.6.1-SNAPSHOT builds

Change-Id: Ib241c4f45192672712526599898c0bd0bd356436
Signed-off-by: Matthias Sohn <matthias.sohn@sap.com>",1,0,0,1,0,0,1,NA,NA
89560,Ie72b48d00f363e3dc05b9733018a6ddca32c3e6e,https://git.eclipse.org/r/#/c/89560,1,44bce0990f9d2e6cce228c64bd2c26769c09794e,e6cb2901e115b272396984e904b54421954b7f23,0,25/01/17,25/01/17,40,Update Orbit to S20170120205402 and com.jcraft.jsch to 0.1.54,"Update Orbit to S20170120205402 and com.jcraft.jsch to 0.1.54

CQ: 12553
Change-Id: Ie72b48d00f363e3dc05b9733018a6ddca32c3e6e
Signed-off-by: Matthias Sohn <matthias.sohn@sap.com>",1,0,0,0,0,0,1,NA,NA
89569,Ifd1f81cb199a0b5bd35e8652cac116e377136b2d,https://git.eclipse.org/r/#/c/89569,1,a1d3c462c909a9d91129fdbd7f868e7610b78e85,b854df14d579e35c427f957393b1ee22c82d614e,0,26/01/17,26/01/17,5,Merge branch 'stable-4.6',"Merge branch 'stable-4.6'

* stable-4.6:
  Update Orbit to S20170120205402 and com.jcraft.jsch to 0.1.54
  Fix preparation of 4.6.1-SNAPSHOT builds

Change-Id: Ifd1f81cb199a0b5bd35e8652cac116e377136b2d
Signed-off-by: David Pursehouse <david.pursehouse@gmail.com>",0,0,0,0,0,1,1,NA,NA
89570,I14f88d8e079e1677c8dfbc1fcbf4444ea8265365,https://git.eclipse.org/r/#/c/89570,4,78dff9a4cc8b42881d20dc82761e993b8ace0db3,d0ffda99e8e2e460d97244b74bfc2bf16750ae82,1,26/01/17,30/01/17,362,Merge FileTreeIteratorJava7Test into FileTreeIteratorTest,"Merge FileTreeIteratorJava7Test into FileTreeIteratorTest

JGit now requires Java 8, so it is no longer necessary to have a
separate class for Java 7 specific tests. Remove it and merge its
tests into the existing FileTreeIteratorTest.

FileTreeIteratorTest has an @Before annotated method that sets up
some files in the git, which breaks the tests which have assumptions
on the file names. Add adjustments.

Change-Id: I14f88d8e079e1677c8dfbc1fcbf4444ea8265365
Signed-off-by: David Pursehouse <david.pursehouse@gmail.com>",0,1,1,0,0,1,1,0,0
89589,I0df5b1e9c2ff886bdd84dee3658b6a50866699d1,https://git.eclipse.org/r/#/c/89589,5,3467a93f286154f573aa6a16411c4dbdc26b38e0,2d0cc144e59b9cf895aa757ce611de4385fb7d18,1,26/01/17,01/02/17,65,Detect stale-file-handle error in causal chain,"Detect stale-file-handle error in causal chain

Cover the case where the exception is wrapped up as a
cause, e.g., PackIndex#open(File).

Change-Id: I0df5b1e9c2ff886bdd84dee3658b6a50866699d1
Signed-off-by: Hongkai Liu <hongkai.liu@ericsson.com>",0,1,0,0,0,0,1,0,0
89593,Ida5d926a611812b5177af651b3cf22f1b2519e02,https://git.eclipse.org/r/#/c/89593,2,40880728c3b3b203439e9261ce948515285751d1,c1208d54df020f114a429f5607c74418f08c3b93,0,26/01/17,28/01/17,1,Removed unneeded org.apache.http.impl.client.cache requirement,"Removed unneeded org.apache.http.impl.client.cache requirement

The package is not used by the plugin and seems to be missing in the
platform anyway under some conditions, see bug 508321 (newer
org.apache.httpcomponents.httpclient_4.5.2 does NOT include the package,
org.apache.httpcomponents.httpclient_4.3.6 does).

Change-Id: Ida5d926a611812b5177af651b3cf22f1b2519e02
Signed-off-by: Andrey Loskutov <loskutov@gmx.de>",1,0,0,0,0,0,1,NA,NA
89600,Ieaecf3dbdf244539ec734939c065735f6785aacf,https://git.eclipse.org/r/#/c/89600,6,56569d21c755ade9afd19ea3fd90bbaccda5fce4,59a4e3a4d00ea74312b8246d356180a32faa50c9,1,26/01/17,30/01/17,109,Make GC cancellable when called programmatically,"Make GC cancellable when called programmatically

Sometimes, it is necessary to cancel a garbage collection operation.
When GC is called using the standalone executable, i.e., from a command
line, Control-Cing the process does the trick. When calling GC
programmatically, though, there is no mechanism to do it.

Add checks in the GC process so that a custom cancellable progress
monitor could be passed in order to cancel the operation at specific
points. In this case, the calling process set the cancel flag in the
progress monitor and the GC process will throw an exception that can
be caught and handled by the caller accordingly.

Change-Id: Ieaecf3dbdf244539ec734939c065735f6785aacf
Signed-off-by: Hector Caballero <hector.caballero@ericsson.com>",0,1,1,0,0,0,1,0,0
89660,I42a8bdf766c0e67f100adbf76d9616584e367ac2,https://git.eclipse.org/r/#/c/89660,1,82df6abaf0ee223a7455ab61838d843689a9fb8d,50caf3869a155e3fe284e021097ec5bbb8022f39,0,27/01/17,27/01/17,9,Repository: Include repository name when logging corrupt use count,"Repository: Include repository name when logging corrupt use count

Logging the repository name makes it easier to track down what is
incorrectly closing a repository.

Change-Id: I42a8bdf766c0e67f100adbf76d9616584e367ac2
Signed-off-by: David Pursehouse <david.pursehouse@gmail.com>",0,0,0,0,0,1,1,NA,NA
89661,I5ab0ff8b56e7f2b2c7aab5274d957708d26f42c5,https://git.eclipse.org/r/#/c/89661,1,50caf3869a155e3fe284e021097ec5bbb8022f39,1d807e5e41375bf241db6860a2e8f069f9fcdb8e,0,27/01/17,28/01/17,4,LocalDiskRepositoryTestCase: Prevent duplicates in list of repos to close,"LocalDiskRepositoryTestCase: Prevent duplicates in list of repos to close

Change the ""toClose"" list to a set, which will not allow duplicate
entries. This reduces the number of false positive logs about corrupt
use count due to the same repository being closed more than once during
teardown.

Change-Id: I5ab0ff8b56e7f2b2c7aab5274d957708d26f42c5
Signed-off-by: David Pursehouse <david.pursehouse@gmail.com>",0,0,0,0,0,1,1,NA,NA
89662,I768ba8a02fc585907687caf37e2e283434016c04,https://git.eclipse.org/r/#/c/89662,2,1d807e5e41375bf241db6860a2e8f069f9fcdb8e,0e2f858c8a913e49008db991754544d92dca180f,1,27/01/17,28/01/17,10,GitConstructionTest: Remove unnecessary calls to Repository.close(),"GitConstructionTest: Remove unnecessary calls to Repository.close()

The repositories are already closed in the superclass teardown due
to being added to the ""toClose"" set.

Change-Id: I768ba8a02fc585907687caf37e2e283434016c04
Signed-off-by: David Pursehouse <david.pursehouse@gmail.com>",0,0,0,0,0,1,1,0,0
89663,I4f9f1774d5f2e10bcab381edfd84bb6ee0499a11,https://git.eclipse.org/r/#/c/89663,2,abd301742e386c9e371d5c8139431c806a1c0011,eb524ea4a363e5c9ec25af1bda75d1c8149546d0,0,27/01/17,28/01/17,2,LocalDiskRepositoryTestCase: Only add to toClose through access method,"LocalDiskRepositoryTestCase: Only add to toClose through access method

Only using the access method means we only have one place where the
toClose set is modified, making it easier to debug either by adding
log statements or by setting a breakpoint.

Change-Id: I4f9f1774d5f2e10bcab381edfd84bb6ee0499a11
Signed-off-by: David Pursehouse <david.pursehouse@gmail.com>",0,0,0,0,0,1,1,NA,NA
89665,Ib374445e101dc11cb840957b8b19ee1caf777392,https://git.eclipse.org/r/#/c/89665,2,19c3c4120755e0d1fd80e64729332979f6c8a4bb,2d4b55eb59cf81a89b9b046b3bf57d525c81d2dd,1,27/01/17,28/01/17,683,"RepoCommandTest: Don't wrap create{Bare,Work}Directory in t-w-r","RepoCommandTest: Don't wrap create{Bare,Work}Directory in t-w-r

These methods add the created Repository into ""toClose"", and they are
then closed by LocalDiskRepositoryTestCase's tearDown method.

Calling them in try-with-resource causes them to first be closed in
the test method, and then again in tearDown, which results in the use
count going negative and a log message on the console.

While this is not a serious problem, having so many false positives
in the logs will potentially drown out real cases of Repository being
closed too many times.

Change-Id: Ib374445e101dc11cb840957b8b19ee1caf777392
Signed-off-by: David Pursehouse <david.pursehouse@gmail.com>",0,0,0,0,1,1,1,0,0
89666,I37ba517eb2cc67d1cd36813598772c70208d0bc9,https://git.eclipse.org/r/#/c/89666,2,f07d3cb831cd41170f7c04cdbefede3f4576f6f8,374407993676bd8c202fb6804047e71fad94c993,1,27/01/17,28/01/17,5,RepoCommand#readFile: Don't call Git#getRepository() in try-with-resource,"RepoCommand#readFile: Don't call Git#getRepository() in try-with-resource

Using try-with-resource means that close() will automatically be
called on the Repository object. However, according to the javadoc
of Git#close():

  If the repository was opened by a static factory method in this class,
  then this method calls Repository#close() on the underlying repository
  instance.

This means that Repository#close() is called twice, by Git.close()
and in the outer try-with-resource, leading to a corrupt use count.

Change-Id: I37ba517eb2cc67d1cd36813598772c70208d0bc9
Signed-off-by: David Pursehouse <david.pursehouse@gmail.com>",0,0,0,0,0,1,1,0,0
89668,Idcbb16b4cf4bf0640d7e4ac15d1926d8a27c1251,https://git.eclipse.org/r/#/c/89668,2,adc261df340872792765648be74ec025532c35dc,601c0dd721cb4501f538c762dba4563a658477c4,1,27/01/17,28/01/17,10,ReceivePackAdvertiseRefsHookTest: Don't close repositories in teardown,"ReceivePackAdvertiseRefsHookTest: Don't close repositories in teardown

The repositories get added to the ""toClose"" set by createBareRepository,
and are then closed in the superclass's tearDown method.

Explicitly closing them in this test class's teardown causes the use
count to go negative when subsequently closed again by the superclass.

Change-Id: Idcbb16b4cf4bf0640d7e4ac15d1926d8a27c1251
Signed-off-by: David Pursehouse <david.pursehouse@gmail.com>",0,0,0,0,0,1,1,0,0
89719,Ib6f525b644fdeaaf1934df39cc2d3583a0d883dc,https://git.eclipse.org/r/#/c/89719,4,750780671993cc58e1ad20ea0493cf8c74d5b24b,f15d3cd128feb63c3c2ef61f3d13c0a54c824f39,0,27/01/17,10/02/17,1,IndexDiffSubmoduleTest: Don't explicitly close repositories,"IndexDiffSubmoduleTest: Don't explicitly close repositories

- submoduleStandalone gets closed by SubmoduleAddCommand#call()

- submodule_db gets closed by AddCommand#call()

Explicitly closing them results in the use count going negative.

Change-Id: Ib6f525b644fdeaaf1934df39cc2d3583a0d883dc
Signed-off-by: David Pursehouse <david.pursehouse@gmail.com>",0,1,0,0,0,1,1,NA,NA
89723,I4c70630bf6008544324dda453deb141f4f89472c,https://git.eclipse.org/r/#/c/89723,2,a75749d45b32c01bab63417c342df4581713d47a,d07b396fa712ef4a91829adcdb8615972e9f9638,1,27/01/17,28/01/17,16,RefUpdateTest: Don't call createBareRepository in try-with-resource,"RefUpdateTest: Don't call createBareRepository in try-with-resource

createBareRepository adds the created repo to the list of repos to be
closed in the superclass's teardown. Wrapping it in try-with-resource
causes it to be closed too many times, resulting in a corrupt use
count.

Change-Id: I4c70630bf6008544324dda453deb141f4f89472c
Signed-off-by: David Pursehouse <david.pursehouse@gmail.com>",0,0,0,0,0,1,1,0,0
89804,Id8d8f37d84d62239c918b81f8d883ed798d87656,https://git.eclipse.org/r/#/c/89804,1,b6fc3d49a2d685368fa2ea00fea2af350df8ba07,1951ce17a414dc17a6ed8df2276c92e462254c34,1,28/01/17,30/01/17,77,Don't rely on default locale when using toUpperCase() and toLowerCase(),"Don't rely on default locale when using toUpperCase() and toLowerCase()

Otherwise these methods may produce unexpected results if used for
strings that are intended to be interpreted locale independently.
Examples are programming language identifiers, protocol keys, and HTML
tags. For instance, ""TITLE"".toLowerCase() in a Turkish locale returns
""t\u0131tle"", where '\u0131' is the LATIN SMALL LETTER DOTLESS I
character.

See
https://docs.oracle.com/javase/8/docs/api/java/lang/String.html#toLowerCase--
http://blog.thetaphi.de/2012/07/default-locales-default-charsets-and.html

Bug: 511238
Change-Id: Id8d8f37d84d62239c918b81f8d883ed798d87656
Signed-off-by: Matthias Sohn <matthias.sohn@sap.com>",0,0,0,0,0,0,0,0,0
89811,I331f85a540c68264a53456276c32f72b79113d61,https://git.eclipse.org/r/#/c/89811,1,51c41f29f30adba299940a3ea6869b57f1a704d4,1332dd07242f48806923d29162a493a21aacced1,1,28/01/17,30/01/17,57,RepositoryCacheTest: avoid to close already closed repository,"RepositoryCacheTest: avoid to close already closed repository

The tearDown() of the superclass closed the repository once more which
led to a negative use count warning logged by Repository.close().

Change-Id: I331f85a540c68264a53456276c32f72b79113d61
Signed-off-by: Matthias Sohn <matthias.sohn@sap.com>",0,0,0,0,0,0,0,0,0
89823,Id56b102604c4e0437230e3e7c59c0a3a1b676256,https://git.eclipse.org/r/#/c/89823,1,98bab438627acd9d88afb9fe413776b7415ce036,b1be6a357f233e7f6ec852f3b8d9215445799d4e,1,29/01/17,02/02/17,63,GC.prune(Set<ObjectId>): return early if objects directory is empty,"GC.prune(Set<ObjectId>): return early if objects directory is empty

Change-Id: Id56b102604c4e0437230e3e7c59c0a3a1b676256
Signed-off-by: Matthias Sohn <matthias.sohn@sap.com>",0,0,0,1,0,0,1,0,0
89824,Idf8d512867ee1c8ed40bd55752122ce83a98ffa2,https://git.eclipse.org/r/#/c/89824,3,b1be6a357f233e7f6ec852f3b8d9215445799d4e,ca2083ee7b935515dda6e5cef1149a3a7aa105d1,1,30/01/17,02/02/17,7,GC: delete empty directories after purging loose objects,"GC: delete empty directories after purging loose objects

Change-Id: Idf8d512867ee1c8ed40bd55752122ce83a98ffa2
Signed-off-by: Matthias Sohn <matthias.sohn@sap.com>",0,0,0,1,0,0,1,0,0
89920,I4fb6b4cd03d032535a9c04ede784bea880b4536b,https://git.eclipse.org/r/#/c/89920,2,1f0ee80501066ce2c57928dd43dce8fe27142038,7890f5ffc2158b7460b5eee6dc97a0af71dda55d,0,31/01/17,31/01/17,0,Merge branch 'stable-4.6',"Merge branch 'stable-4.6'

* stable-4.6:
  Clean up orphan files in GC

Change-Id: I4fb6b4cd03d032535a9c04ede784bea880b4536b",1,0,0,0,0,0,1,NA,NA
89923,I9bdf443a64cf3c45352d3ab023051a2e11f7426d,https://git.eclipse.org/r/#/c/89923,5,7890f5ffc2158b7460b5eee6dc97a0af71dda55d,89f5a92f0c967f4071cb0f28b939f683d8e13e65,1,31/01/17,09/02/17,9,BlameGenerator: Annotate #getRenameDetector as Nullable,"BlameGenerator: Annotate #getRenameDetector as Nullable

The renameDetector member returned by this method will be null when
following file renames has been disabled by previously calling:

  setFollowFileRenames(false).

Annotate it as @Nullable and update the Javadoc to explicitly
document the null return.

Change-Id: I9bdf443a64cf3c45352d3ab023051a2e11f7426d
Signed-off-by: David Pursehouse <david.pursehouse@gmail.com>",0,1,0,0,0,1,1,0,0
90028,I97044f69d220fc2d3f9fe890fdfec542454f02d2,https://git.eclipse.org/r/#/c/90028,1,2b78118f5a393dec0bc35ccfde54e1e20b18e7e5,d93e5742b92658eb71cee76634a8df62a1aac768,1,01/02/17,01/02/17,4,Organize imports,"Organize imports

Change-Id: I97044f69d220fc2d3f9fe890fdfec542454f02d2
Signed-off-by: David Pursehouse <david.pursehouse@gmail.com>",0,0,0,1,0,0,1,0,0
90222,I3d6cacf80d3b4c69ba108e970855963bd9f6ee78,https://git.eclipse.org/r/#/c/90222,1,d93e5742b92658eb71cee76634a8df62a1aac768,077b5cdb7ce0ec29736b3f9c96880fe546da0cd0,1,02/02/17,02/02/17,25,Merge branch 'stable-4.6',"Merge branch 'stable-4.6'

* stable-4.6:
  GC: delete empty directories after purging loose objects
  GC.prune(Set<ObjectId>): return early if objects directory is empty

Change-Id: I3d6cacf80d3b4c69ba108e970855963bd9f6ee78
Signed-off-by: Matthias Sohn <matthias.sohn@sap.com>",0,0,0,0,0,0,0,0,0
90227,I5d2455404e507faa717e9d916e9b6cd80aa91473,https://git.eclipse.org/r/#/c/90227,2,077b5cdb7ce0ec29736b3f9c96880fe546da0cd0,a209a179dd5d2ecbe34ffd5fc976f60296e4b60c,1,02/02/17,07/02/17,15,[infer] Fix ObjectWalk leak in PackWriter.preparePack(),"[infer] Fix ObjectWalk leak in PackWriter.preparePack()

Change-Id: I5d2455404e507faa717e9d916e9b6cd80aa91473
Signed-off-by: Matthias Sohn <matthias.sohn@sap.com>",0,0,1,1,0,0,1,0,0
90465,If969716aeb55fb4fd0ff71d75f41a07638cd5a69,https://git.eclipse.org/r/#/c/90465,4,14a3c0d774977d69a75d402e96abefd743ed72bf,2fe3e093507bbfd20aefc0744ea002b04fbb65f4,1,06/02/17,08/02/17,158,Reintroduce garbage pack coalescing when ttl > 0.,"Reintroduce garbage pack coalescing when ttl > 0.

Disabling the garbage pack coalescing when garbageTtl > 0 can result in
lot of garbage packs if they are created with in the garbageTtl time.

To avoid the larger number of garbage packs, re-introducing garbage pack
coalescing the for the packs that are created with in the last 1/3rd
duration of garbageTtl. i.e if the garbageTtl is 24 hours, we will
coalesce the garbage packs that are created in last 8 hours. This may
move the date of the garbage pack that was originally created at 0:00
forward to 7:59, making the ttl on the garbage take effect at 24h+7:59,
but that should be fine as it would limit the number of garbage packs in
the system to a maximum number of 4 (assuming all of them are less than
the size of coalesceGarbageLimit).

Change-Id: If969716aeb55fb4fd0ff71d75f41a07638cd5a69
Signed-off-by: Thirumala Reddy Mutchukota <thirumala@google.com>",0,1,0,0,0,0,1,1,1
90474,Ib746655e32a37c4ad323f1d12ac0817de8fa56cf,https://git.eclipse.org/r/#/c/90474,2,78a51aee9c207b349d5b01b7a0716dc822b24cf0,b3d87249226d6ca8e2d9d8665f17b6e2d16ce112,1,06/02/17,07/02/17,30,Branch normalizer should not normalize already valid branch names,"Branch normalizer should not normalize already valid branch names

Change-Id: Ib746655e32a37c4ad323f1d12ac0817de8fa56cf
Signed-off-by: Matthias Sohn <matthias.sohn@sap.com>",0,0,0,1,0,0,1,0,0
90482,I0b7dc8bb9711c82abd6bd16643f518cfccc6d31a,https://git.eclipse.org/r/#/c/90482,5,b950c5242a0804e2ac85b6a3a2a0bb3c38956349,cebec728019dab4ea82f353c1357023cce05e97f,1,07/02/17,08/02/17,124,Prefer smaller GC files during DFS garbage collection,"Prefer smaller GC files during DFS garbage collection

In 8ac65d33ed7a94f77cb066271669feebf9b882fc PackWriter changed its
behavior to always prefer the last object representation presented
to it by the ObjectReuseAsIs implementation. This was a fix to avoid
delta chain cycles.

Unfortunately it can lead to suboptimal compression when concurrent
GCs are run on the same repository. One case is automatic GC running
(with default settings) in parallel to a manual GC that has disabled
delta reuse in order to generate new smaller deltas for the entire
history of the repository.

Running GC with no-reuse generally requires more CPU time, which
also translates to a longer running time.  This can lead to a race
where the automatic GC completes before the no-reuse GC, leaving
the repository in a state such as:

  no-reuse GC:   size 1 GiB, mtime = 18:45
  auto GC:       size 8 GiB, mtime = 17:30

With the default sort ordering, the smaller no-reuse GC pack is
sorted earlier in the pack list, due to its more recent mtime.

During object reuse in a future GC, these smaller representations
are considered first by PackWriter, but are all discarded when the
auto GC file from 17:30 is examined second (due to its older mtime).

Work around this in two ways.

Well formed DFS repositories should have at most 1 GC pack. If
2 or more GC packs exist, break the sorting tie by selecting the
smaller file earlier in the pack list. This allows all normal read
code paths to favor the smaller file, which places less pressure
on the DfsBlockCache. If any GC race happens, readers serving clone
requests will prefer the file that is smaller.

During object reuse, flip this ordering so that the smaller file is
last. This allows PackWriter to see smaller deltas last, replacing
larger representations that were previously considered from other
pack files.

Change-Id: I0b7dc8bb9711c82abd6bd16643f518cfccc6d31a",0,1,0,0,0,0,1,0,0
90601,Ie0f8a0f7a9c2c383be6ae8265353daac7f5a89fa,https://git.eclipse.org/r/#/c/90601,2,bf566e6a65ad049858244d64991fd924ffc91d83,441ba74bb91feacb7633bcb3a489e79f01e7d105,1,08/02/17,09/02/17,9,FetchCommandTest: Don't declare specific exceptions in test methods,"FetchCommandTest: Don't declare specific exceptions in test methods

Change-Id: Ie0f8a0f7a9c2c383be6ae8265353daac7f5a89fa
Signed-off-by: David Pursehouse <david.pursehouse@gmail.com>",0,0,0,1,0,0,1,0,0
90604,Ibec09398d0305d4dbc0c66fce1daaf38eb71148f,https://git.eclipse.org/r/#/c/90604,3,63925b93faa090cd561db9dce32e04e649d33f6f,bc67faed5e8fa470a177e80c99cd0d029dc2408d,1,08/02/17,08/02/17,44,Fix missing deltas near type boundaries,"Fix missing deltas near type boundaries

Delta search was discarding discovered deltas if an object appeared
near a type boundary in the delta search window. This has caused JGit
to produce larger pack files than other implementations of the packing
algorithm.

Delta search works by pushing prior objects into a search window, an
ordered list of objects to attempt to delta compress the next object
against. (The window size is bounded, avoiding O(N^2) behavior.)

For implementation reasons multiple object types can appear in the
input list, and the window. PackWriter commonly passes both trees and
blobs in the input list handed to the DeltaWindow algorithm. The pack
file format requires an object to only delta compress against the same
type, so the DeltaWindow algorithm must stop doing comparisions if a
blob would be compared to a tree.

Because the input list is sorted by object type and the window is
recently considered prior objects, once a wrong type is discovered in
the window the search algorithm stops and uses the current result.

Unfortunately the termination condition was discarding any found
delta by setting deltaBase and deltaBuf to null when it was trying
to break the window search.

When this bug occurs, the state of the DeltaWindow looks like this:

                                 current
                                  |
                                 \ /
  input list:  tree0 tree1 blob1 blob2

  window:      blob1 tree1 tree0
                / \
                 |
              res.prev

As the loop iterates to the right across the window, it first finds
that blob1 is a suitable delta base for blob2, and temporarily holds
this in the bestDelta/deltaBuf fields. It then considers tree1, but
tree1 has the wrong type (blob != tree), so the window loop must give
up and fall through the remaining code.

Moving the break condition up allows the bestDelta/deltaBuf to be
kept, letting the final file delta compress blob1 against blob0.

The impact of this bug (and its fix) on real world repositories is
likely minimal. The boundary from blob to tree happens approximately
once in the search, as the input list is sorted by type. Only the
first window size worth of blobs (e.g. 250) were failing to produce
a delta in the final file.

This bug fix does produce significantly different results for small
test repositories created in the unit test suite, such as when a pack
may contains 6 objects (2 commits, 2 trees, 2 blobs).  Packing test
cases can now better sample different output pack file sizes depending
on delta compression and object reuse flags in PackConfig.

Change-Id: Ibec09398d0305d4dbc0c66fce1daaf38eb71148f",0,0,0,0,0,0,0,0,0
90688,Ic2330c69fab0c494b920b4df0a290f3c2e1a03d7,https://git.eclipse.org/r/#/c/90688,1,c53c3f23ece74a77222558cf324acaa0ce59d10c,fcd119174753aec1856a960e4f96c2a14e1a557f,1,08/02/17,08/02/17,11,Assume GC_REST and GC_TXN also attempted deltas during packing,"Assume GC_REST and GC_TXN also attempted deltas during packing

In a DFS repository the DfsGarbageCollector will typically attempt
delta compression while creating the three main pack files: GC,
GC_REST and GC_TXN. Include all of these in the wasDeltaAttempted()
decision so that future packers can bypass delta compression of
non-delta objects.

Change-Id: Ic2330c69fab0c494b920b4df0a290f3c2e1a03d7",0,0,0,0,0,0,0,0,0
90696,I1253e9fe863ca0f63182461ee87357fbf726ea2e,https://git.eclipse.org/r/#/c/90696,1,b38cd60fedd0654973c89fcd7cf95dd8f0e16549,edc4e50fb78580795feae0cbecf784dd35fb53dd,1,09/02/17,09/02/17,16,RefLeaseSpec: Fix Eclipse errors,"RefLeaseSpec: Fix Eclipse errors

- Remove unused import

- Remove unused private constructor

- Add Javadoc for public constructor

Change-Id: I1253e9fe863ca0f63182461ee87357fbf726ea2e
Signed-off-by: David Pursehouse <david.pursehouse@gmail.com>",0,0,0,0,0,0,0,0,0
90697,Ie656b18fb151bf1e3c2dcc0438a77e32102991c2,https://git.eclipse.org/r/#/c/90697,1,edc4e50fb78580795feae0cbecf784dd35fb53dd,0efa56dd1eea9fbaf36c632d608781f70ec306ff,1,09/02/17,09/02/17,6,PushCommandTest: Remove unused variables to prevent errors in Eclipse,"PushCommandTest: Remove unused variables to prevent errors in Eclipse

Change-Id: Ie656b18fb151bf1e3c2dcc0438a77e32102991c2
Signed-off-by: David Pursehouse <david.pursehouse@gmail.com>",0,0,0,1,0,0,1,0,0
90698,I3cf07d7aaaa2a58bac34e16c50af5416693254ac,https://git.eclipse.org/r/#/c/90698,6,8ed91fac71acef53d76b7359f7fe12226ca3bc14,c53a2e2f8d3358da0427755aa3bfab9253f8649e,0,09/02/17,22/03/17,686,Remove Buck build,"Remove Buck build

Buck will be replaced with Bazel

Change-Id: I3cf07d7aaaa2a58bac34e16c50af5416693254ac",0,1,0,0,1,1,1,NA,NA
90787,Ia1c21c17ed6cd17c7ee353aa6a0bf1f88de5c045,https://git.eclipse.org/r/#/c/90787,2,793831ec929a3096f41463f5ea7797abfb1c798f,0f047d2efd75a9ee622bf8eab08cdaa1e6c421cc,0,10/02/17,10/02/17,2,Upgrade maven-compiler-plugin to 3.6.1,"Upgrade maven-compiler-plugin to 3.6.1

Change-Id: Ia1c21c17ed6cd17c7ee353aa6a0bf1f88de5c045
Signed-off-by: David Pursehouse <david.pursehouse@gmail.com>",0,0,0,1,0,1,1,NA,NA
90788,If3a2489cec78c0c9ef76aa6b941fda51b098e04b,https://git.eclipse.org/r/#/c/90788,2,dd24e9df334708dbeecc24ca52d1c89f83f16d1a,f90eeafbdd76b6b514d88fdee2c585710491b23f,0,10/02/17,10/02/17,5,Fix inconsistent versioning of findbugs-maven-plugin,"Fix inconsistent versioning of findbugs-maven-plugin

In one place version 3.0.4 is used, and in another place 3.0.3 is
used.

Define the version (3.0.4) in a property and use that in both places,
so it doesn't get inconsistent again next time the version is bumped.

Change-Id: If3a2489cec78c0c9ef76aa6b941fda51b098e04b
Signed-off-by: David Pursehouse <david.pursehouse@gmail.com>",0,0,0,0,0,1,1,NA,NA
90789,I46bf48657eceefc65b710a054df14dea5b9f15f8,https://git.eclipse.org/r/#/c/90789,2,4d7e236e7c824caa2a0960728328d46c507a365c,afc10576fd734af0f5e77e88d84aa37978c4f04b,0,10/02/17,10/02/17,2,Upgrade maven-shade-plugin to 3.0.0,"Upgrade maven-shade-plugin to 3.0.0

Change-Id: I46bf48657eceefc65b710a054df14dea5b9f15f8
Signed-off-by: David Pursehouse <david.pursehouse@gmail.com>",0,0,0,1,0,1,1,NA,NA
90790,Ib354bf3a1c064f54255dc05de9e89e79dbcc9182,https://git.eclipse.org/r/#/c/90790,2,d9efd3518c3d1f37cb2aee0af7d3f17fb37ca5ce,5dc7395e2ddc8472c4e296c913dd3dcf2e019407,0,10/02/17,10/02/17,2,Upgrade maven-build-helper-plugin to 3.0.0,"Upgrade maven-build-helper-plugin to 3.0.0

Change-Id: Ib354bf3a1c064f54255dc05de9e89e79dbcc9182
Signed-off-by: David Pursehouse <david.pursehouse@gmail.com>",0,0,0,1,0,1,1,NA,NA
90791,Ifc0b0f2899f4094f0525021236c3e73658138f7e,https://git.eclipse.org/r/#/c/90791,2,87eafac2560ea5a050e870978dbb4528aa3b9c9c,8034eb9e0f532b24257203f664b8014fbadbfcf8,0,10/02/17,10/02/17,2,Upgrade jacoco-maven-plugin to 0.7.9,"Upgrade jacoco-maven-plugin to 0.7.9

Change-Id: Ifc0b0f2899f4094f0525021236c3e73658138f7e
Signed-off-by: David Pursehouse <david.pursehouse@gmail.com>",0,0,0,1,0,1,1,NA,NA
90795,I655d896b268e946e3492661b08add0ebac22c6f0,https://git.eclipse.org/r/#/c/90795,2,a13ea981903cfcc0c9127ff39e6449f64909ab96,5d00ca75d68a7ef065092cf13f30ec2163cad008,0,10/02/17,10/02/17,2,Update minimum JDK version in README,"Update minimum JDK version in README

Change-Id: I655d896b268e946e3492661b08add0ebac22c6f0
Signed-off-by: David Pursehouse <david.pursehouse@gmail.com>",0,0,0,1,0,1,1,NA,NA
90814,Idacd749407dcfd258af3efaaf44d129069925dd3,https://git.eclipse.org/r/#/c/90814,2,c9093aec48b1b232069a41bf24d32a83626b1c0e,cc2023f2837d86ffe0c34ff42ada87503d45f6e7,0,10/02/17,10/02/17,2,LocalDiskRepositoryTestCase: Add clarifying comment in call to createRepository,"LocalDiskRepositoryTestCase: Add clarifying comment in call to createRepository

Clatify that 'true' means 'auto close'. This makes it consistent with
other calls that have a boolean argument for 'bare'. It also makes it a
bit easier to see what's going on while stepping in the debugger, because
it's not necessary to scroll around to find the method declaration.

Change-Id: Idacd749407dcfd258af3efaaf44d129069925dd3
Signed-off-by: David Pursehouse <david.pursehouse@gmail.com>",0,0,0,0,0,1,1,NA,NA
90899,I88b219a90a4fd3b8111182bb519db58786dbbe6d,https://git.eclipse.org/r/#/c/90899,1,6eaeae8caab2c019a9ebc6c0b4eb0ab5ef249bee,96283e79d886178ca6c0293e029cbecbb1150235,0,13/02/17,13/02/17,1,Update .mailmap,"Update .mailmap

Change-Id: I88b219a90a4fd3b8111182bb519db58786dbbe6d
Signed-off-by: David Pursehouse <david.pursehouse@gmail.com>",0,0,0,1,0,0,1,NA,NA
90989,I8a99c0f439218d19c49cd4dae891b8cc4a57099d,https://git.eclipse.org/r/#/c/90989,5,96283e79d886178ca6c0293e029cbecbb1150235,9f279dca0282a8a9956da1613908c7cf347387bf,0,13/02/17,14/02/17,18,Skip first pack if avoid garbage is set and it is a garbage pack,"Skip first pack if avoid garbage is set and it is a garbage pack

At beginning of the OBJECT_SCAN loop, it will first check if the object
exists in the last pack. However, it forgot to avoid garbage pack for
the first iteration.

Change-Id: I8a99c0f439218d19c49cd4dae891b8cc4a57099d
Signed-off-by: Zhen Chen <czhen@google.com>",0,1,0,0,0,0,1,NA,NA
91009,I67d6bb601db55f904437c807c6a3c36f0a723265,https://git.eclipse.org/r/#/c/91009,2,f375a9cc52f2790d17261280151fec7c68915f92,2ab79937d0862328ecdd2de4bc4c2409ea59b94c,0,13/02/17,13/02/17,38,Refactor skip garbage pack logic into a method,"Refactor skip garbage pack logic into a method

There are multiple places in DfsReader to skip pack with the same
reason:

1. AvoidUnreachable flag is set
2, The pack is a garabge pack

Change-Id: I67d6bb601db55f904437c807c6a3c36f0a723265
Signed-off-by: Zhen Chen <czhen@google.com>",0,0,0,0,0,0,0,NA,NA
91116,I30dd8710e910cdf42d57742f8709e9803930a123,https://git.eclipse.org/r/#/c/91116,6,6f0b6664ac1ba6a86bbccbad5c94bda970f579b3,c5cc9f3bd4158f89175fd2b014c4f55d8715c5c1,1,15/02/17,18/02/17,134,Set commit time to ZipArchiveEntry,"Set commit time to ZipArchiveEntry

Archived zip files for a same commit have different MD5 hash because mdate and mdate in the header of zip entries are not specified. In this case, Commons Compress sets an archived time.

In the original git implementation, it's set a commit time:
https://github.com/git/git/blob/e2b2d6a172b76d44cb7b1ddb12ea5bfac9613a44/archive.c#L378

By this fix, archive command set a commit time to ZipArchiveEntry when RevCommit is given as an archiving target.

Change-Id: I30dd8710e910cdf42d57742f8709e9803930a123
Signed-off-by: Naoki Takezoe <takezoe@gmail.com>",0,1,1,0,0,0,1,0,0
91223,I10f61962e1496f079a39e0f533506816be56e925,https://git.eclipse.org/r/#/c/91223,1,77bc291176c85a7638af7caee8009fab4d7bcffa,e4caa98281140ced8ed3f09f418b5c513303d46b,0,15/02/17,16/02/17,2,Update build to use Tycho 1.0.0,"Update build to use Tycho 1.0.0

Change-Id: I10f61962e1496f079a39e0f533506816be56e925
Signed-off-by: Matthias Sohn <matthias.sohn@sap.com>",0,0,0,1,0,0,1,NA,NA
91225,Idd1b9dd8db34c92d7da546fef1936ec9b2728718,https://git.eclipse.org/r/#/c/91225,1,321db91664bd0517cf88ea054368bc310a059935,30b54268f25d35861d06efb61d0f97f1c7ac40cd,0,15/02/17,15/02/17,10,Add missing skip garbage pack logic in DfsReader,"Add missing skip garbage pack logic in DfsReader

* Missing garbage pack check in getObjectSize(AnyObjectId, int)
* Missing `last` pack check in has(AnyObjectId) and open(AnyObjectId,
int)

Change-Id: Idd1b9dd8db34c92d7da546fef1936ec9b2728718
Signed-off-by: Zhen Chen <czhen@google.com>",0,0,0,0,0,0,0,NA,NA
91227,I7f9a3a5117e42cb68544674f5312df0368aa3674,https://git.eclipse.org/r/#/c/91227,1,30b54268f25d35861d06efb61d0f97f1c7ac40cd,9c82889595903e557e45fb088469d1b9988074a5,0,16/02/17,16/02/17,2,Update name of InsecureCipherMode error-prone pattern,"Update name of InsecureCipherMode error-prone pattern

Without this, using bazel 0.4.4 to build fails:

 ERROR: jgit/org.eclipse.jgit/BUILD:29:1: Java compilation in rule '//org.eclipse.jgit:insecure_cipher_factory' failed: Worker process sent response with exit code: 1.
 jgit/src/org/eclipse/jgit/transport/InsecureCipherFactory.java:63: error: [InsecureCryptoUsage] Insecure usage of a crypto API: the transformation is not a compile-time constant expression.
                return Cipher.getInstance(algo);
                                         ^
    (see http://errorprone.info/bugpattern/InsecureCryptoUsage)

Change-Id: I7f9a3a5117e42cb68544674f5312df0368aa3674",0,0,0,0,0,0,0,NA,NA
91241,I12553af47774b4778f7011e1018bd575a7909bd0,https://git.eclipse.org/r/#/c/91241,9,6bde10e0926b9e5acb62e71bb58419e641cd2a87,85513da1dd5a2df20a50b2bc8e07510c2c674901,1,16/02/17,23/03/17,115,WiP: PullCommand: Add support for recursing into submodules,"WiP: PullCommand: Add support for recursing into submodules

Add new API methods to set the recurse mode, and pass the mode into
the fetch command.

TODO: Tests.

Change-Id: I12553af47774b4778f7011e1018bd575a7909bd0
Signed-off-by: David Pursehouse <david.pursehouse@gmail.com>",0,1,0,0,0,1,1,0,0
91243,I131e1f68d8fcced178d8fa48abf7ffab17f8e173,https://git.eclipse.org/r/#/c/91243,2,49235da9b64f2676e8e6af7b0f9fcbd01a18d2cb,ae686c6699fdfda5f15601c1d7d312f58ceb5aa9,0,16/02/17,18/02/17,21,PullCommand: Allow to set tag behavior,"PullCommand: Allow to set tag behavior

Add a new method setTagOpt which sets the annotated tag behavior during
fetch. Pass the option to the fetch command.

No explicit tests are added; the fetch with tags functionality is already
covered by the tests of the fetch command.

Change-Id: I131e1f68d8fcced178d8fa48abf7ffab17f8e173
Signed-off-by: David Pursehouse <david.pursehouse@gmail.com>",0,0,0,0,0,1,1,NA,NA
91327,I8f686ac60b40181b1ee92ac6c313c3f33b55c44c,https://git.eclipse.org/r/#/c/91327,3,ff58adc74283b59b0ae8e0ebcc667e95e81ea16b,5a148f634ac1aaf0234c575dec49bb35b27b3b50,1,16/02/17,17/02/17,53,GC: don't loosen doomed objects; don't save,"GC: don't loosen doomed objects; don't save

If the pruneexpire config is set to ""now"", then any unreferenced loose
objects are immediately eligible for gc.  So there is no need to
actually write the loose objects.

Users who run hosting services which sometimes accept large, entirely
garbage packs might set the following configurations:

gc.pruneExpire = now
gc.prunePackExpire = 2.weeks

Then garbage objects will be kept around in packs, but after two weeks
the packs themselves will get deleted.

For client-side users of jgit, the default settings will loosen
garbage objects, and, after an hour, delete the old packs in which
they resided.

Change-Id: I8f686ac60b40181b1ee92ac6c313c3f33b55c44c
Signed-off-by: David Turner <dturner@twosigma.com>",0,0,0,0,0,0,0,0,0
91419,I51e37ca7643da6abadbd36e9187ccb58fe713833,https://git.eclipse.org/r/#/c/91419,1,44bf5b3d83a7bdba26696d9e182e29e6b860bacf,d3e3fc91e2a3341fece548d2160d185e8fb31847,1,18/02/17,18/02/17,17,Add missing @Override annotations in org.eclipse.jgit.archive,"Add missing @Override annotations in org.eclipse.jgit.archive

Change-Id: I51e37ca7643da6abadbd36e9187ccb58fe713833
Signed-off-by: Matthias Sohn <matthias.sohn@sap.com>",0,0,0,1,0,0,1,0,0
91432,Ice2ca9406f09f1b179569e99b86a0e5d77baa20d,https://git.eclipse.org/r/#/c/91432,6,046bb238074e0bc46310f27edab265e8fb8873ba,96fea3aa5d6378fb8ffa0395efc2f36a2921c87c,1,19/02/17,28/02/17,547,Correct the boolean logic for filtering paths,"Correct the boolean logic for filtering paths

The TreeWalk filtering classes need to support the tenary
state that the path comparison generates.
A new path comparison method (isPathMatch) is created with
three distinct return values (isPathPrefix use value '0' to
encode two of these) which will makes it possible for the logical
operatiors (especially NOT) to aggregate a correct verdict.

A filter like: AND(Path(""path"", NOT(Path(""path/to/other""))))
Should filter out 'path/to/other/file', but not 'path/to/my/file'.

The path-limiting feature when testing path/to/my/file, would
result to run test for the following paths:

    path
    path/to
    path/to/my
    path/to/my/file

isPathPrefix('path/to/other') will return '0' for the first two
and since there is no way for NOT to distinguish between a exact
match and a match indicating that the tested path is a 'parent',
it will incorrectly return false and thus remove everything below
'path' immediately.
isPathMatch has a distingushed value for 'parent' matches that
will be preserved throught the logic operators and should not
cause an overeager removal of paths.

The functionality of isPathPrefix is required by other parts
and is untouched.

Unit test are included to ensure that the logical functionality
is correct and can be preserved.

Change-Id: Ice2ca9406f09f1b179569e99b86a0e5d77baa20d
Signed-off-by: Magnus Vigerlf <magnus.vigerlof@gmail.com>",0,1,1,0,1,0,1,0,0
91435,I266b0c72d2827bcf2b86ddc6c1892d1a46c548eb,https://git.eclipse.org/r/#/c/91435,1,138c3dfcadd989dd2c19d21c9a53030025a84a23,9b87f8040e0b0865d31e1cb548ac5a40f25b4446,0,19/02/17,19/02/17,2,Fix typo in @since,"Fix typo in @since

Change-Id: I266b0c72d2827bcf2b86ddc6c1892d1a46c548eb
Signed-off-by: Thomas Wolf <thomas.wolf@paranor.ch>",0,0,0,1,0,0,1,NA,NA
91443,Ibb36aba8782882936849b6102001a88b699bb65c,https://git.eclipse.org/r/#/c/91443,2,8f8bea3ec5708dd9955e8021b9df8d9a5d187be6,0afe74299fa2dfeb9c3966c36743ddf691356a04,1,19/02/17,20/02/17,220,Update Jetty to 9.4.1.v20170120,"Update Jetty to 9.4.1.v20170120

MappedLoginService is no longer available in Jetty 9.4 therefore base
TestLoginService on AbstractLoginService.

Apparently Jetty now uses slf4j hence adapt RecordingLogger accordingly
so we can log error messages containing slf4j style formatting anchors
""{}"".

Change-Id: Ibb36aba8782882936849b6102001a88b699bb65c
Signed-off-by: Matthias Sohn <matthias.sohn@sap.com>",0,0,0,0,0,0,0,0,0
91444,Ic13160920b986edde87c928c473240cc9c034f50,https://git.eclipse.org/r/#/c/91444,1,eb25a49f20c670af08e22282514e1a8dbc21c496,59ec175717c85070e8eca2a5ae69464eb9faa51f,1,20/02/17,20/02/17,2,Add some more missing @Override annotations,"Add some more missing @Override annotations

Change-Id: Ic13160920b986edde87c928c473240cc9c034f50
Signed-off-by: David Pursehouse <david.pursehouse@gmail.com>",0,0,0,1,0,1,1,0,0
91447,I9a8ae106c085bb0e826031fa183b4c4bdabcc5fc,https://git.eclipse.org/r/#/c/91447,3,bf90e3edf3d03dbd445d1ada6eddb4a5b0d485f2,10007e09c8023916fc7b57e035dafd1b4b24e256,0,20/02/17,20/02/17,35,Add API filter for usage of FileRepository in test classes,"Add API filter for usage of FileRepository in test classes

FileRepository is in the package org.eclipse.jgit.internal, and is
thus non-API. This causes warnings in Eclipse when FileRepository is
used.

Add a filter to prevent the warnings.

Change-Id: I9a8ae106c085bb0e826031fa183b4c4bdabcc5fc
Signed-off-by: David Pursehouse <david.pursehouse@gmail.com>",0,0,0,0,0,1,1,NA,NA
91448,I3361dce600698048b73a70cd991ad1a6b093e1da,https://git.eclipse.org/r/#/c/91448,2,10f75dc66e8da38e4cd89c488fd71b8bf78b7c14,9db83c66182645ac4230e854a3fef0596156afd3,0,20/02/17,20/02/17,2,Fix hamcrest dependency in org.eclipse.jgit.ant.test,"Fix hamcrest dependency in org.eclipse.jgit.ant.test

Change-Id: I3361dce600698048b73a70cd991ad1a6b093e1da
Signed-off-by: David Pursehouse <david.pursehouse@gmail.com>",0,0,0,1,0,1,1,NA,NA
91450,I9158caf1beca5e4980b6240ac401f3868520aad0,https://git.eclipse.org/r/#/c/91450,3,27669273048476dac0564dfa7fd8922ae85b69c1,e750be5e9909c5fe8afd17ebd28234c50ea17c0f,1,20/02/17,20/02/17,1530,Enable and fix warnings about redundant specification of type arguments,"Enable and fix warnings about redundant specification of type arguments

Since the introduction of generic type parameter inference in Java 7,
it's not necessary to explicitly specify the type of generic parameters.

Enable the warning in Eclipse, and fix all occurrences.

Change-Id: I9158caf1beca5e4980b6240ac401f3868520aad0
Signed-off-by: David Pursehouse <david.pursehouse@gmail.com>",0,0,0,0,1,1,1,0,0
91488,Ia0576d9b2489162208c05e51c6d54e9f0c88c3a7,https://git.eclipse.org/r/#/c/91488,7,a4f7a9214d14a7dd1f77846cd94ba8280518d0e6,cf6b70c11e5d469bb3d6d0527124f3054e8d91ce,1,20/02/17,04/03/17,298,Allow forward slash to be part of the branch name,"Allow forward slash to be part of the branch name

Normalizer should not strip forward slashes.

Bug: 509878
Change-Id: Ia0576d9b2489162208c05e51c6d54e9f0c88c3a7
Signed-off-by: Wim Jongman <wim.jongman@remainsoftware.com>",0,1,0,0,0,0,1,0,0
91496,I990b92f1d996ec8538d4857755694d91b142eb53,https://git.eclipse.org/r/#/c/91496,1,0d69bf3de30a72d5278ef8dc1f4e8130339cead3,b61308c2b0b51ae1cefb59111a50891ccbcadcd6,1,20/02/17,20/02/17,6,Fix timestamp in Zip archives,"Fix timestamp in Zip archives

RevCommit.getCommitTime returns time in seconds since the epoch.
ZipArchiveEntry.setTime expects time in milliseconds.

Add the missing unit conversion to get the correct result.
Correct formatting to be consistent with the rest of the code.

Change-Id: I990b92f1d996ec8538d4857755694d91b142eb53",0,0,0,0,0,0,0,0,0
91497,I47d3885b9d7d527e153df7ac9c62fc2865ceecf4,https://git.eclipse.org/r/#/c/91497,1,b61308c2b0b51ae1cefb59111a50891ccbcadcd6,4392c0b281d5ff51723310d3c170565d2db46286,1,20/02/17,20/02/17,25,"Fix bad test fix from 0bff481 ""Limit receive commands""","Fix bad test fix from 0bff481 ""Limit receive commands""

In 0bff481d45db74db81a3b1b86f7401443a60d970 to accurately use the two
limits it was necessary to move the LimitedInputStream out of the
PacketLineIn and further down to the PackParser. Unfortuantely this
didn't survive review, as a buggy test failed and the ""fix"" was to
drop this part of the code.

The maxPackSizeLimit should apply to the pack stream, not the pkt-line
framing used to send commands to control the ReceivePack instance. The
commands are controlled using a different limit. The failing test allowed
too many bytes in the pack and was only failing because it was including
the command framing. The correct fix for the test was simply to drop the
limit lower, to more closely match the actual pack size.

Change-Id: I47d3885b9d7d527e153df7ac9c62fc2865ceecf4",0,0,0,0,0,0,0,0,0
91510,Id8e31a4d7cc25c3b953c67674797dc575b65f6c5,https://git.eclipse.org/r/#/c/91510,1,09741b3480802a6db43c5a3f7139b1a1924e0d6a,a1f72534bc74f02c7027d7e9f2846241cb11e8de,0,20/02/17,23/02/17,1,Remove unused imported package in org.eclipse.jgit.ant.test,"Remove unused imported package in org.eclipse.jgit.ant.test

Change-Id: Id8e31a4d7cc25c3b953c67674797dc575b65f6c5
Signed-off-by: David Pursehouse <david.pursehouse@gmail.com>",0,0,1,1,0,1,1,NA,NA
91514,I155a7ff1e2488c2184506e77d1a01fda06fb4d57,https://git.eclipse.org/r/#/c/91514,2,a1f72534bc74f02c7027d7e9f2846241cb11e8de,a092764ee09b6ffd02f40011d4063f1f04c1da3f,0,21/02/17,14/03/17,2,Upgrade error_prone_core to 2.0.17,"Upgrade error_prone_core to 2.0.17

Change-Id: I155a7ff1e2488c2184506e77d1a01fda06fb4d57
Signed-off-by: David Pursehouse <david.pursehouse@gmail.com>",0,0,0,1,0,1,1,NA,NA
91591,I41b1668bc0d0bdfa46a9a89882c9657ea3063fc1,https://git.eclipse.org/r/#/c/91591,8,1ba3e6919952ef8cd46e933210d32d1ab14e116f,37b05478fe7f14871647377c07b68c5d00c30771,1,22/02/17,27/04/17,130,Clone: add --recurse-submodules option,"Clone: add --recurse-submodules option

Change-Id: I41b1668bc0d0bdfa46a9a89882c9657ea3063fc1",0,1,0,1,0,1,1,0,0
91772,If301476d8fb56a0899e424be3789c7576097d185,https://git.eclipse.org/r/#/c/91772,6,5940336305b409af2d77f694487e3ce6c2063f8a,aabccf43fb6e3c824ec712cb33e06653fa06706e,1,24/02/17,09/03/17,53,RFC: LfsProtocolServlet: Pass HTTP auth header to getLargeFileRepository,"RFC: LfsProtocolServlet: Pass HTTP auth header to getLargeFileRepository

Change-Id: If301476d8fb56a0899e424be3789c7576097d185
Signed-off-by: David Pursehouse <david.pursehouse@gmail.com>",0,1,0,1,0,1,1,0,0
91836,I228b05c4a294ca2ad51386cf0e47978c68e1aa42,https://git.eclipse.org/r/#/c/91836,4,d1794724d9401cd40195874c9d0ab619a32aca87,746b0f9c8210866cb905156a8baec27b347f9237,1,25/02/17,26/02/17,376,Pure Java SHA-1,"Pure Java SHA-1

This implementation is derived straight from the description written
in RFC 3174.  On Mac OS X with Java 1.8.0_91 it offers similar
throughput as MessageDigest SHA-1:

  system   239.75 MiB/s
  system   244.71 MiB/s
  system   245.00 MiB/s
  system   244.92 MiB/s

  sha1     234.08 MiB/s
  sha1     244.50 MiB/s
  sha1     242.99 MiB/s
  sha1     241.73 MiB/s

Change-Id: I228b05c4a294ca2ad51386cf0e47978c68e1aa42",0,1,0,0,0,0,1,0,0
91837,If6da98334201f7f20cb916e46f782c45f373784e,https://git.eclipse.org/r/#/c/91837,4,687b90649160e0f800339bc242178e85f9d36957,96c5b843347f66a5edc891348bc2c2eb1463eccf,1,25/02/17,26/02/17,142,Switch to pure Java SHA1 for ObjectId,"Switch to pure Java SHA1 for ObjectId

Generate names for objects using only the pure Java SHA1
implementation, but continue using MessageDigest in tests.
This opens the possibility of changing the hashing function
to incorporate additional safety measures, such as those
used in sha1dc[1].

Since MessageDigest has higher throughput, continue using
MessageDigest for computing pack, idx and DirCache trailers.
These are less likely to be sensitive to SHAttered[2] types
of attacks, as Git uses them to detect random bit flips
during transfer, and not for content identity.

[1] https://github.com/cr-marcstevens/sha1collisiondetection
[2] https://shattered.it/

Change-Id: If6da98334201f7f20cb916e46f782c45f373784e",0,1,0,0,0,0,1,0,0
91852,I9fe4c6d8fc5e5a661af72cd3246c9e67b1b9fee6,https://git.eclipse.org/r/#/c/91852,8,5984632cf0854b89ce66f5b1ac32b3e084e8d106,3e173499be75b425da4b414cea6a35b33004cc18,1,26/02/17,02/03/17,2022,SHA-1: collision detection support,"SHA-1: collision detection support

Update SHA1 class to include a Java port of sha1dc[1]'s ubc_check,
which can detect the attack pattern used by the authors of
SHAttered[2] and run SHA-1 for additional rounds, making the hash
harder to predict.

Given the shattered example files that have the same SHA-1, this
modified implementation can identify there is risk of collision given
only one file in the pair, and returns a different hash:

  $ bin/sha1dcsum shattered-1.pdf
  16e96b70000dd1e7c85b8368ee197754400e58ec *coll* shattered-1.pdf

  $ jgit ...
  [main] WARN org.eclipse.jgit.util.sha1.SHA1 - possible SHA-1 collision; safeHash 16e96b70000dd1e7c85b8368ee197754400e58ec
  16e96b70000dd1e7c85b8368ee197754400e58ec shattered-1.pdf

  $ bin/sha1dcsum shattered-2.pdf
  e1761773e6a35916d99f891b77663e6405313587 *coll* shattered-2.pdf

  $ jgit ...
  [main] WARN org.eclipse.jgit.util.sha1.SHA1 - possible SHA-1 collision; safeHash e1761773e6a35916d99f891b77663e6405313587
  e1761773e6a35916d99f891b77663e6405313587 shattered-2.pdf

When JGit detects probability of a collision, SHA1 now warns on the
logger, reporting the safe hash that was returned to JGit for use in
object names and data structures.

From the paper[3] by Marc Stevens, the probability of a false positive
identification of a collision is about 14 * 2^(-160), sufficiently low
enough for any detected collision to likely be a real collision.

git-core[4] may adopt sha1dc before the system migrates to an entirely
new hash function.  This commit enables JGit to remain compatible with
that move to sha1dc, and help protect users by warning if similar
attacks as SHAttered are identified.

Performance declined about 8% (detection off), now:

  MessageDigest        240.81 MiB/s
  MessageDigest        247.91 MiB/s
  MessageDigest        244.33 MiB/s
  MessageDigest        244.00 MiB/s

  SHA1                 219.00 MiB/s  (was ~240.825 MiB/s)
  SHA1                 222.01 MiB/s
  SHA1                 222.11 MiB/s
  SHA1                 220.85 MiB/s

This decline in throughput is attributed to the step loop unrolling in
compress(), which was necessary to easily fit the UbcCheck logic into
the hash function.  Using helper functions s1-s4 reduces the code
explosion, providing acceptable throughput.

With detection enabled (default):

  SHA1 detectCollision 151.88 MiB/s
  SHA1 detectCollision 152.55 MiB/s
  SHA1 detectCollision 146.20 MiB/s
  SHA1 detectCollision 151.47 MiB/s

  sha1dc (native C)   ~206.28 MiB/s
  sha1dc (native C)   ~204.47 MiB/s
  sha1dc (native C)   ~203.74 MiB/s

Average time to hash 4100 bytes (such as a commit or tree) for the
various algorithms available to JGit also shows SHA1 is slower than
MessageDigest, but by an acceptable margin:

  MessageDigest        18 usec
  SHA1                 20 usec
  SHA1 detectCollision 26 usec

Time to index-pack for git.git (217982 objects, 69 MiB) has increased:

  MessageDigest   SHA1 w/ detectCollision
  -------------   -----------------------
         20.12s   27.75s
         19.87s   28.04s
         20.04s   27.88s

    avg  20.01s   27.89s    +39%

Being in Java is with these additional safety checks is clearly a
penalty, but throughput is still acceptable given the increased
security against object name collisions.

[1] https://github.com/cr-marcstevens/sha1collisiondetection
[2] https://shattered.it/
[3] https://marc-stevens.nl/research/papers/C13-S.pdf
[4] https://public-inbox.org/git/20170223230621.43anex65ndoqbgnf@sigill.intra.peff.net/

Change-Id: I9fe4c6d8fc5e5a661af72cd3246c9e67b1b9fee6",0,1,0,0,1,0,1,4,1
91872,I4af88a720e81460293bc5c5d1d3db1a831e7e228,https://git.eclipse.org/r/#/c/91872,5,1805ae7ba8b7ae253279f6c103e188e9faec740d,10a47aed3d09ceee92730f733cc74e9f4150b28e,1,26/02/17,27/02/17,60,SHA1: support reset() and reuse instances,"SHA1: support reset() and reuse instances

Allow SHA1 instances to be reused to compute another hash value, and
resume caching them in ObjectInserter and PackParser.  This shaves a
small amount of running time off parsing git.git's pack file:

  before   after
  ------   ------
  25.25s   25.55s
  25.48s   25.06s
  25.26s   24.94s

Almost noise (small difference), but recycling the instances reduces
some stress on the memory allocator finding two 80 word message block
arrays needed for hashing and collision detection.

Change-Id: I4af88a720e81460293bc5c5d1d3db1a831e7e228",0,1,0,0,0,0,1,0,0
91876,Ibbdaf2880e76b32fc9f6b5605a2ff29e3deffda2,https://git.eclipse.org/r/#/c/91876,2,7046d302a8995765b0b9c996b4280e6686ebee9a,89f098b9749a0ede5b35c9f30587c3fad2c6add6,0,26/02/17,26/02/17,27,Update Jetty to 9.4.1.v20170120 in buck build,"Update Jetty to 9.4.1.v20170120 in buck build

5e8e2179b218ede7d14b69dc5149b0691b5859cf (Update Jetty to
9.4.1.v201470120, 2017-01-26) updated Jetty in the maven build.
Update the buck build to match so buck builds work again.

The buck build will go away soon, but in the meantime (until
the bazel build gets the same level of support) it is convenient as a
faster way of running tests than using maven.

Change-Id: Ibbdaf2880e76b32fc9f6b5605a2ff29e3deffda2",0,0,0,0,0,0,0,NA,NA
92048,Ic0810ed7fea837c45cbc9a4649ca51d140bad6e6,https://git.eclipse.org/r/#/c/92048,1,02123454d491c4015d83cc7eec59b8f24b8bed3e,0843bb3cc06fbbdf7f91b0a369e5d85a0cbccb1f,1,28/02/17,28/02/17,13,Silence API error caused by changed return type of digest(),"Silence API error caused by changed return type of digest()

Change-Id: Ic0810ed7fea837c45cbc9a4649ca51d140bad6e6
Signed-off-by: Matthias Sohn <matthias.sohn@sap.com>",0,0,0,1,0,0,1,0,0
92306,Idc5f82af17ecc944b5657b02823412ea46b38413,https://git.eclipse.org/r/#/c/92306,1,9c294830875c6daf2a28f52556b4b19d8402565a,96fe361df694a920892aac4bd8119c135ec87123,0,04/03/17,05/03/17,1,"Remove unnecessary @SuppressWarnings(""nls"")","Remove unnecessary @SuppressWarnings(""nls"")

Change-Id: Idc5f82af17ecc944b5657b02823412ea46b38413
Signed-off-by: David Pursehouse <david.pursehouse@gmail.com>",0,0,0,1,0,1,1,NA,NA
92429,I655d896b268e946e3492661b08add0ebac22c6f0,https://git.eclipse.org/r/#/c/92429,1,3fdb1b2bee61fa6bc8ddd0c566f172c237f03652,2732a38b2e02d701d1164db2effd948199a11b76,0,06/03/17,06/03/17,2,Update minimum JDK version in README,"Update minimum JDK version in README

Change-Id: I655d896b268e946e3492661b08add0ebac22c6f0
Signed-off-by: David Pursehouse <david.pursehouse@gmail.com>
(cherry picked from commit 67da5635a47ad7680b3c60358a1fec080eef7d1e)",0,0,0,1,0,0,1,NA,NA
92430,I10f61962e1496f079a39e0f533506816be56e925,https://git.eclipse.org/r/#/c/92430,1,2732a38b2e02d701d1164db2effd948199a11b76,1ea209c08642a7615041c35ba5755c3d8b51c289,0,06/03/17,06/03/17,2,Update build to use Tycho 1.0.0,"Update build to use Tycho 1.0.0

Change-Id: I10f61962e1496f079a39e0f533506816be56e925
Signed-off-by: Matthias Sohn <matthias.sohn@sap.com>
(cherry picked from commit 92d8c9bec2bd990cec937b3a6c5f4ab4011d3f73)",1,0,0,1,0,0,1,NA,NA
92431,Ibb36aba8782882936849b6102001a88b699bb65c,https://git.eclipse.org/r/#/c/92431,1,1ea209c08642a7615041c35ba5755c3d8b51c289,c8ec212e0b932c1a3ee48f536df4143cb5f19571,1,06/03/17,06/03/17,220,Update Jetty to 9.4.1.v20170120,"Update Jetty to 9.4.1.v20170120

MappedLoginService is no longer available in Jetty 9.4 therefore base
TestLoginService on AbstractLoginService.

Apparently Jetty now uses slf4j hence adapt RecordingLogger accordingly
so we can log error messages containing slf4j style formatting anchors
""{}"".

Change-Id: Ibb36aba8782882936849b6102001a88b699bb65c
Signed-off-by: Matthias Sohn <matthias.sohn@sap.com>
(cherry picked from commit 5e8e2179b218ede7d14b69dc5149b0691b5859cf)",1,0,0,0,0,0,1,0,0
92432,Ibbdaf2880e76b32fc9f6b5605a2ff29e3deffda2,https://git.eclipse.org/r/#/c/92432,1,c8ec212e0b932c1a3ee48f536df4143cb5f19571,7a7a26605dd3d57fe16f9b954a15aebd04646f4e,0,06/03/17,06/03/17,27,Update Jetty to 9.4.1.v20170120 in buck build,"Update Jetty to 9.4.1.v20170120 in buck build

5e8e2179b218ede7d14b69dc5149b0691b5859cf (Update Jetty to
9.4.1.v201470120, 2017-01-26) updated Jetty in the maven build.
Update the buck build to match so buck builds work again.

The buck build will go away soon, but in the meantime (until the bazel
build gets the same level of support) it is convenient as a faster way
of running tests than using maven.

The bazel build doesn't need this change since it doesn't build or run
http tests yet.

Change-Id: Ibbdaf2880e76b32fc9f6b5605a2ff29e3deffda2
(cherry picked from commit 2470f01d0f8bca4c8c754475846c83b9f99c93b8)",0,0,0,0,0,0,0,NA,NA
92447,I735697c112094e883986ce13026d967291d88494,https://git.eclipse.org/r/#/c/92447,1,8a2fe5b58234c2426e71c66ea56f61a9e30ded4e,8a2fe5b58234c2426e71c66ea56f61a9e30ded4e,1,07/03/17,07/03/17,18,Merge branch 'stable-4.6',"Merge branch 'stable-4.6'

* stable-4.6:
  Update Jetty to 9.4.1.v20170120 in buck build
  Update Jetty to 9.4.1.v20170120
  Update build to use Tycho 1.0.0
  Update minimum JDK version in README

Change-Id: I735697c112094e883986ce13026d967291d88494
Signed-off-by: David Pursehouse <david.pursehouse@gmail.com>",1,0,0,0,0,0,1,NA,NA
92535,I842dc95313e5b47b0b7ec983c4a0a91915ed4183,https://git.eclipse.org/r/#/c/92535,1,e70fe16ddd36c5602f8a3dc98fd5732198bc5e96,2cb06847f395764d213da5e1291c1e52901f9461,0,07/03/17,07/03/17,118,JGit v4.6.1.201703071140-r,"JGit v4.6.1.201703071140-r

Change-Id: I842dc95313e5b47b0b7ec983c4a0a91915ed4183
Signed-off-by: Matthias Sohn <matthias.sohn@sap.com>",1,0,0,1,0,0,1,NA,NA
92553,I8835f79145e6a989787d47322c3d8cb9baf0624a,https://git.eclipse.org/r/#/c/92553,1,2cb06847f395764d213da5e1291c1e52901f9461,30c3b0838befe7f300d2fddcc1631a4871dcaa67,0,07/03/17,07/03/17,624,Prepare 4.6.2-SNAPSHOT builds,"Prepare 4.6.2-SNAPSHOT builds

Change-Id: I8835f79145e6a989787d47322c3d8cb9baf0624a
Signed-off-by: Matthias Sohn <matthias.sohn@sap.com>",1,0,0,1,1,0,1,NA,NA
92574,Idb3088ab6e64fb49f817b95bc0fef0a9efb77374,https://git.eclipse.org/r/#/c/92574,1,2772c3ba0f59c304d2968f282602006b646a1cc5,2772c3ba0f59c304d2968f282602006b646a1cc5,0,07/03/17,08/03/17,622,Merge branch 'stable-4.6',"Merge branch 'stable-4.6'

* stable-4.6:
  Prepare 4.6.2-SNAPSHOT builds
  JGit v4.6.1.201703071140-r

Change-Id: Idb3088ab6e64fb49f817b95bc0fef0a9efb77374
Signed-off-by: David Pursehouse <david.pursehouse@gmail.com>",1,0,0,0,1,0,1,NA,NA
92670,Ic23b7c40b5f39135fb3fd754c597dd4bcc94240c,https://git.eclipse.org/r/#/c/92670,3,009fc2cc0181a1926ff90f2089e650113326d7f1,660e83e78178ebdd78764226b472b4526b07fc21,1,09/03/17,11/03/17,154,FetchCommand: Fix detection of submodule recursion mode,"FetchCommand: Fix detection of submodule recursion mode

The submodule.name.fetchRecurseSubmodules value was being read from the
configuration of the submodule, but it should be read from the config
of the parent repository.

Also, the fetch.recurseSubmodules value from the parent repository's
configuration was not being considered at all.

Fix both of these and add tests. Now the precedence of the recurse mode
is determined as follows:

 1. Value passed to the API
 2. Value configured in submodule.name.fetchRecurseSubmodules
 3. Value configured in fetch.recurseSubmodules
 4. Default to ""on demand""

Change-Id: Ic23b7c40b5f39135fb3fd754c597dd4bcc94240c",0,0,0,0,0,1,1,0,0
92685,I49afd89b43cfd8735568a86ef273723909d694a3,https://git.eclipse.org/r/#/c/92685,1,e40def5832603fe3ea682edadf9a20b3a8175add,b9212dbba6ab23e850f8a996aac0fe181ffb5fa7,0,09/03/17,09/03/17,2,Update jsch version used in pom.xml to 0.1.54,"Update jsch version used in pom.xml to 0.1.54

We updated the version we use for packaging the p2 repository in
efbecb97 but missed to update the version we compile against in the
Maven build.

Bug: 513354
Change-Id: I49afd89b43cfd8735568a86ef273723909d694a3
Signed-off-by: Matthias Sohn <matthias.sohn@sap.com>",1,0,0,0,0,0,1,NA,NA
92725,I70f65f4a0680671612f21ee1afac7f7ef0152cbb,https://git.eclipse.org/r/#/c/92725,1,b9212dbba6ab23e850f8a996aac0fe181ffb5fa7,509d9cb47f945e5b4e5e148b78b180fa09ef4358,0,09/03/17,09/03/17,2,Update JGit version used to detect API changes to 4.6.0,"Update JGit version used to detect API changes to 4.6.0

We detect API changes during the Maven build using japicmp. Update the
reference version to the latest minor version 4.6.0.

Change-Id: I70f65f4a0680671612f21ee1afac7f7ef0152cbb
Signed-off-by: Matthias Sohn <matthias.sohn@sap.com>",1,0,0,0,0,0,1,NA,NA
92727,I14bb4a3084b237b4cd893a130e148148cd1e5df9,https://git.eclipse.org/r/#/c/92727,2,509d9cb47f945e5b4e5e148b78b180fa09ef4358,ac6098ccdc822da7af77a07dfd7c58f29b2b7407,0,09/03/17,09/03/17,11,Silence API breakage in LfsProtocolServlet,"Silence API breakage in LfsProtocolServlet

Breaking API for API implementors (not clients) in a minor release is ok
following OSGi semantic versioning rules.

Change-Id: I14bb4a3084b237b4cd893a130e148148cd1e5df9
Signed-off-by: Matthias Sohn <matthias.sohn@sap.com>",0,0,0,0,0,0,0,NA,NA
92864,I03c6f6891de3c343d3d517092eaa75dba282c0cd,https://git.eclipse.org/r/#/c/92864,4,7c948ac55994c28c08e4564b7e06878f4c874886,0458234f4202bcc5d45118e93a43a115c1e70972,1,12/03/17,15/03/17,49,Don't remove pack when FileNotFoundException is transient,"Don't remove pack when FileNotFoundException is transient

The FileNotFoundException is typically raised in three conditions:
1. file doesn't exist
2. incompatible read vs. read/write open modes
3. filesystem locking
4. temporary lack of resources (e.g. too many open files)

1. is already managed, 2. would never happen as packs are not
overwritten while with 3. and 4. it is worth logging the exception and
retry to read the pack again.

Log transient errors using an exponential backoff strategy to avoid
flooding the logs with the same error if consecutive retries to access
the pack fail repeatedly.

Bug: 513435
Change-Id: I03c6f6891de3c343d3d517092eaa75dba282c0cd
Signed-off-by: Luca Milanesio <luca.milanesio@gmail.com>
Signed-off-by: Matthias Sohn <matthias.sohn@sap.com>",0,1,1,0,0,0,1,0,0
92903,I065836b8fc77ade6de92e4a809fcf770a4f793ec,https://git.eclipse.org/r/#/c/92903,4,4728a22bc186a282074870af6c5f9297b327b771,31b27359cb04975ca96c6fc7068805459d58fa9a,1,13/03/17,30/09/17,13,Terminate StreamCopy threads in case errors,"Terminate StreamCopy threads in case errors

Bug: 513554
Change-Id: I065836b8fc77ade6de92e4a809fcf770a4f793ec
Signed-off-by: Dmitry Neverov <dmitry.neverov@gmail.com>",0,1,1,0,0,0,1,0,0
93047,I82be09385c9b0bcc0054fea5a9cb9d178a41e278,https://git.eclipse.org/r/#/c/93047,5,8e689007e88791c90f31f523875fc539d1f81590,bd29d132d225a6bedcfa32ed3277013b6cbcd71a,1,14/03/17,08/05/17,99,Bug 485396 - Support pull on detached HEAD,"Bug 485396 - Support pull on detached HEAD

Change-Id: I82be09385c9b0bcc0054fea5a9cb9d178a41e278
Signed-off-by: Mickael Istria <mistria@redhat.com>",0,1,0,1,0,0,1,1,1
93154,I0e7c19f8883b93bad1b9de166f671d28f3e9c240,https://git.eclipse.org/r/#/c/93154,1,aa17c8909c13e546e3e03433bbca7bfb24c1ad84,f66e9054d3ce5534f9dd3d89b545f5208fdc46cc,1,15/03/17,15/03/17,8,Don't try to strip new line if the message buffer is empty,"Don't try to strip new line if the message buffer is empty

Bug: 513726
Change-Id: I0e7c19f8883b93bad1b9de166f671d28f3e9c240
Signed-off-by: Andrey Loskutov <loskutov@gmx.de>",0,0,0,0,0,0,0,0,0
93164,Ic17c542d78a4cad48ff1ed77dcdc853a4ef2dc06,https://git.eclipse.org/r/#/c/93164,2,4364307861fa302983b5304cc14e3dda9c42b35d,80faae5389d060e8b749fbe60fcbaefae94f8d12,0,15/03/17,15/03/17,0,Merge remote-tracking branch 'stable-4.5' into stable-4.6,"Merge remote-tracking branch 'stable-4.5' into stable-4.6

* stable-4.5:
  Don't remove pack when FileNotFoundException is transient

Change-Id: Ic17c542d78a4cad48ff1ed77dcdc853a4ef2dc06
Signed-off-by: Matthias Sohn <matthias.sohn@sap.com>",0,0,0,0,0,0,0,NA,NA
93166,I82941a98385cda27c89e1e6750b7b6db4e39f414,https://git.eclipse.org/r/#/c/93166,2,4bef84e758e2b4908871e1e1014fe7050017d715,9ebdff119ce7ba2d52595e88225c687f710b12e6,0,15/03/17,15/03/17,5,Merge branch 'stable-4.6',"Merge branch 'stable-4.6'

* stable-4.6:
  Don't remove pack when FileNotFoundException is transient

Change-Id: I82941a98385cda27c89e1e6750b7b6db4e39f414
Signed-off-by: Matthias Sohn <matthias.sohn@sap.com>",1,0,0,0,0,0,1,NA,NA
93343,I7083f27a4a49bf6681c85c7cf7b08a83c9a70c77,https://git.eclipse.org/r/#/c/93343,1,d3684920bceaabe0fe912e98adef5da57153774e,ee06178f075d6eff4caf82fd806e11246f431b52,0,18/03/17,19/03/17,0,Move SHA1 compress/recompress files to resource folder,"Move SHA1 compress/recompress files to resource folder

This fixes Bazel build:

in srcs attribute of java_library rule //org.eclipse.jgit:jgit:
file '//org.eclipse.jgit:src/org/eclipse/jgit/util/sha1/SHA1.recompress'
is misplaced here (expected .java, .srcjar or .properties).

Another option that was considered is to exclude the non source files.

Change-Id: I7083f27a4a49bf6681c85c7cf7b08a83c9a70c77
Signed-off-by: David Ostrovsky <david@ostrovsky.org>",0,0,0,0,0,0,0,NA,NA
93344,I4a971ce92fee55e28b2ab0c7b716ac20fa9c6709,https://git.eclipse.org/r/#/c/93344,1,ee06178f075d6eff4caf82fd806e11246f431b52,2f861c6b4a3bb25883f757f8111767ba133cd82c,1,18/03/17,19/03/17,1,RevFlagSetTest: Fix compilation error flagged by error prone,"RevFlagSetTest: Fix compilation error flagged by error prone

This fixes error flagged by error prone:

Java compilation in rule '//org.eclipse.jgit.test:jgit' failed: Worker
process sent response with exit code: 1.
org.eclipse.jgit.test/tst/org/eclipse/jgit/revwalk/RevFlagSetTest.java:149:
error: [CollectionIncompatibleType] Argument '""bob""' should not be
passed to this method; its type String is not compatible with its
collection's type argument RevFlag
		assertFalse(set.contains(""bob""));

Change-Id: I4a971ce92fee55e28b2ab0c7b716ac20fa9c6709
Signed-off-by: David Ostrovsky <david@ostrovsky.org>",0,0,0,0,0,0,0,0,0
93345,Ife339c92b9570db2471a2fc029b3bfa114044790,https://git.eclipse.org/r/#/c/93345,1,2f861c6b4a3bb25883f757f8111767ba133cd82c,d59b0b7b563d2e5d7b47fc9332ed1b2dc48c655b,1,18/03/17,19/03/17,1,LongObjectIdTest: Remove self comparison test,"LongObjectIdTest: Remove self comparison test

This fixes test flagged by error prone:

LongObjectIdTest.java:294: error: [SelfComparison] An object is
compared to itself

		assertEquals(0, id1.compareTo(id1));

Change-Id: Ife339c92b9570db2471a2fc029b3bfa114044790
Signed-off-by: David Ostrovsky <david@ostrovsky.org>",0,0,0,0,0,0,0,0,0
93346,Ic41b05a79d855212e67b1b4707e9c6b4dc9ea70d,https://git.eclipse.org/r/#/c/93346,10,d59b0b7b563d2e5d7b47fc9332ed1b2dc48c655b,25707740b5c3cd7f336b8b17bd95bf8332293ae9,0,18/03/17,22/03/17,506,Add bazel tests,"Add bazel tests

Number of different labels are supported:

  api
  attributes
  dfs
  diff
  http
  lfs
  nls
  notes
  pack
  patch
  reftree
  revplot
  revwalk
  storage
  submodule
  symlinks
  transport
  treewalk
  util

To run all tests:

  bazel test //...

To run specific tests, using labels:

  bazel test --test_tag_filters=api,dfs,revplot,treewalk //...

5 tests (mostly nls) are still failing: [1].

[1] http://paste.openstack.org/show/603275/
Change-Id: Ic41b05a79d855212e67b1b4707e9c6b4dc9ea70d
Signed-off-by: David Ostrovsky <david@ostrovsky.org>",0,1,1,0,1,0,1,NA,NA
93353,I29dd8f89c36fef4ab40bedce7f4a26bd9b2390e4,https://git.eclipse.org/r/#/c/93353,4,0153637912e2300540ce4cd3a0c3f33fa2b54c74,8c042a35527cad08cd300e61d7f40442a06c32ff,1,19/03/17,20/03/17,16,WiP: Rename RacyGitTests to RacyGitTest and add @Test annotations,"WiP: Rename RacyGitTests to RacyGitTest and add @Test annotations

With the filename suffix ""Tests"", the module is not included in tests
when building with Maven, and without the @Test annotations the tests
don't get executed under Eclipse or buck test.

WiP because testRacyGitDetection is failing.

Change-Id: I29dd8f89c36fef4ab40bedce7f4a26bd9b2390e4",0,1,0,0,0,1,1,0,0
93393,I3ab958ce8b3227019cdbe4cc81e0f042e1541034,https://git.eclipse.org/r/#/c/93393,4,8c042a35527cad08cd300e61d7f40442a06c32ff,483da2fd9aa98352a26516be147253bbe8505f3d,0,20/03/17,20/03/17,86,bazel: Add explicit targets for library dependencies,"bazel: Add explicit targets for library dependencies

This provides a place to declare visibility restrictions and
transitive dependencies for each library.

Other targets should only declare dependencies on what they directly
use, making dependencies easier to maintain.

Trim the dependencies of org.eclipse.jgit:jgit to follow that rule.
It declares dependencies on Apache httpcomponents and the servlet
API but doesn't use them.

Tested:
* 'bazel build //...' succeeds
* applying the change https://gerrit-review.googlesource.com/90843
  to a copy of Gerrit, following the instructions there, and running
  'bazel test //...' in that copy of Gerrit still succeeds

Change-Id: I3ab958ce8b3227019cdbe4cc81e0f042e1541034",0,1,0,0,0,0,1,NA,NA
93394,I28ff508ab8ce2ec0a0111109110aa9680d30600e,https://git.eclipse.org/r/#/c/93394,2,483da2fd9aa98352a26516be147253bbe8505f3d,4bb19609bd2acdc1965721f10144aef6bd5a59d6,0,20/03/17,20/03/17,5,bazel: Mark junit targets testonly,"bazel: Mark junit targets testonly

Only testonly targets (such as tests) need to use junit.

In particular this involves making the toplevel :all rule testonly.
It's not clear to me what that rule is for --- ""bazel build //...""
already works to build all targets.  In any case it appears to be for
testing, so marking it as testonly shouldn't be harmful.

Change-Id: I28ff508ab8ce2ec0a0111109110aa9680d30600e",0,0,0,0,0,0,0,NA,NA
93452,I70f8d9c82c1efe2928f072a2fb69461160f7c5f7,https://git.eclipse.org/r/#/c/93452,3,9e88cbf63d055691258d4843b864b3b0e22da532,499fbdc62a9f2c18d69c58bce128c06e68b9ebd8,0,20/03/17,22/03/17,2,Explain in error message how to recover from lock failure,"Explain in error message how to recover from lock failure

Bug: 483897
Change-Id: I70f8d9c82c1efe2928f072a2fb69461160f7c5f7
Signed-off-by: Matthias Sohn <matthias.sohn@sap.com>",0,0,0,0,0,0,0,NA,NA
93458,I88de7c9f52abbc4921a82208ed74d22aa19fb3cd,https://git.eclipse.org/r/#/c/93458,1,f9cc84f56814fdf3acd0980dccc7a6d8b4b00cd6,886e0c7385efe42edc76bfb204e241b1f37a42a3,0,20/03/17,21/03/17,118,JGit v4.5.1.201703201650-r,"JGit v4.5.1.201703201650-r

Change-Id: I88de7c9f52abbc4921a82208ed74d22aa19fb3cd
Signed-off-by: Matthias Sohn <matthias.sohn@sap.com>",0,0,0,1,0,0,1,NA,NA
93474,I92db70a7da454bc364597a995e8be5dccc2d6427,https://git.eclipse.org/r/#/c/93474,2,ad0bdad11766ff66cd0b39e96ec29fcab09294fc,9ea8a4d4a11a570f7fcf543ed7470f63719150c5,1,21/03/17,22/03/17,9,Delegate crypto algorithm creation to InsecureCipherFactory,"Delegate crypto algorithm creation to InsecureCipherFactory

This is a preparation change to Bazel build implementation. Error
Prone rejects the code with variable crypto algrorithm as insecure
see: [1].

[1] http://errorprone.info/bugpattern/InsecureCryptoUsage

Change-Id: I92db70a7da454bc364597a995e8be5dccc2d6427
Signed-off-by: David Ostrovsky <david@ostrovsky.org>",0,0,0,0,0,0,0,0,0
93587,Ic9dda2317456308c222928cb8453cb00a231eea1,https://git.eclipse.org/r/#/c/93587,1,9302fdcb65da878da96209e0a3d581ad6674db4e,9302fdcb65da878da96209e0a3d581ad6674db4e,0,22/03/17,22/03/17,229,Merge branch 'stable-4.5' into stable-4.6,"Merge branch 'stable-4.5' into stable-4.6

* stable-4.5:
  JGit v4.5.1.201703201650-r

Change-Id: Ic9dda2317456308c222928cb8453cb00a231eea1
Signed-off-by: David Pursehouse <david.pursehouse@gmail.com>",0,0,0,0,0,1,1,NA,NA
93588,I16cac951cdafbe22afe597198fe3b86ecc2437e8,https://git.eclipse.org/r/#/c/93588,1,e4f20c6dbc6bd6b874b0733933da197e0aee1317,e4f20c6dbc6bd6b874b0733933da197e0aee1317,0,22/03/17,22/03/17,0,Merge branch 'stable-4.6',"Merge branch 'stable-4.6'

* stable-4.6:
  JGit v4.5.1.201703201650-r

Change-Id: I16cac951cdafbe22afe597198fe3b86ecc2437e8
Signed-off-by: David Pursehouse <david.pursehouse@gmail.com>",0,0,0,0,0,0,0,NA,NA
93634,I900c74bb76b6cfaee838e6f79d80c9b2840806df,https://git.eclipse.org/r/#/c/93634,1,e4f20c6dbc6bd6b874b0733933da197e0aee1317,80b200c847c1ddb650f14b74289f03c6d0da9fb9,0,22/03/17,22/03/17,182,Update Jetty to 9.4.3.v20170317,"Update Jetty to 9.4.3.v20170317

Change-Id: I900c74bb76b6cfaee838e6f79d80c9b2840806df
Signed-off-by: Matthias Sohn <matthias.sohn@sap.com>",1,0,0,1,0,0,1,NA,NA
93656,I44d2483c045c126e01751fed9365d4889a30ab2e,https://git.eclipse.org/r/#/c/93656,1,80b200c847c1ddb650f14b74289f03c6d0da9fb9,a58a8377d3f62b6598aecdd0e7d1c78ac787b4c2,0,22/03/17,22/03/17,22,Update orbit to S20170306214312 (Oxygen M6),"Update orbit to S20170306214312 (Oxygen M6)

Change-Id: I44d2483c045c126e01751fed9365d4889a30ab2e
Signed-off-by: Matthias Sohn <matthias.sohn@sap.com>",1,0,0,1,0,0,1,NA,NA
93663,I5fe150a2fc04e1cdb012d22609d86df16dfb0b7e,https://git.eclipse.org/r/#/c/93663,5,0b1b2cae13aae2f8e0021c326535fba1494181af,38b5884b877bbd330edfecedcdbeca1dfd921d02,1,23/03/17,05/04/17,198,Make trailing diff delete locations consistent,"Make trailing diff delete locations consistent

The 3-way merge was incorrectly removing deleted sections from both
sides, when only one of two repeating sections is deleted. This is
because the the diff step can inconsistently remove one section from
side, and the other section from the other side.

There fix augments the final ""tidy-up"" stage in DiffAlgorithm to apply
to both INSERTs and DELETEs to reduce this inconsistency, and provides
some test cases to verify the fix.

Bug: 514095
Change-Id: I5fe150a2fc04e1cdb012d22609d86df16dfb0b7e
Signed-off-by: KB Sriram <kbsriram@gmail.com>",0,1,0,0,0,0,1,0,0
93668,I4413d1a45addeeb2a980d07669fa034c2eebb3a4,https://git.eclipse.org/r/#/c/93668,2,3b8673b807f3604a2cb065c6326668284d878799,a3572cb6869b25987ae2a6254c7704e062254e09,0,23/03/17,23/03/17,29,Consume hamcrest throuth transitive dependency,"Consume hamcrest throuth transitive dependency

In I3ab958ce8 explicit dependency in lib/BUILD were defined and most
of the bazel build implementation was switched to using it. Switch
test.bzl test implementation to using explicit dependencies as well.

Change-Id: I4413d1a45addeeb2a980d07669fa034c2eebb3a4
Signed-off-by: David Ostrovsky <david@ostrovsky.org>",0,0,0,0,0,0,0,NA,NA
93756,I79ea7eb7b4d319e0100e3121aca5ef82eb8ad92a,https://git.eclipse.org/r/#/c/93756,5,7dcd3061feb8dbfb0d9d9da7931c8d5790d0e04b,88179ce5a46df56034afc508c00cf4a6815bc796,1,23/03/17,27/03/17,36,Consistently use 'path' for the path to a subrepo in RepoCommand,"Consistently use 'path' for the path to a subrepo in RepoCommand

Signed-off-by: Han-Wen Nienhuys <hanwen@google.com>
Change-Id: I79ea7eb7b4d319e0100e3121aca5ef82eb8ad92a",0,1,1,0,0,0,1,0,0
93775,Ie37edba2df77052bceafc0b314fd1d487544bf35,https://git.eclipse.org/r/#/c/93775,4,09ae1e521c14037c92a4b363c3297ca27c9bb523,1f010e31c0c7126207b7cf4a7c1774be17429a92,1,24/03/17,26/03/17,7,Don't flag a packfile invalid for file open issues,"Don't flag a packfile invalid for file open issues

A packfile random file open operation may fail with a
FileNotFoundException even if the file exists, possibly
for temporary lack of resources.

Instead of managing the FileNotFoundException as any generic
IOException it is best to still throw the exeption but prevent
the packfile for being flagged as invalid until it is actually
opened and read successfully or unsuccessfully.

Change-Id: Ie37edba2df77052bceafc0b314fd1d487544bf35
Signed-off-by: Luca Milanesio <luca.milanesio@gmail.com>",0,1,0,0,0,0,1,0,0
93780,I019f6e8ce4b074697c2dfc6020b10dc003d0804d,https://git.eclipse.org/r/#/c/93780,1,bfe8047f8d1e277fcbcd502d2384009fa33c6852,9cc3149d067bcb3036d9d7fe68fc052a0a574e79,0,24/03/17,24/03/17,2,Upgrade error_prone_core to 2.0.19,"Upgrade error_prone_core to 2.0.19

Change-Id: I019f6e8ce4b074697c2dfc6020b10dc003d0804d
Signed-off-by: David Pursehouse <david.pursehouse@gmail.com>",0,0,0,1,0,0,1,NA,NA
93843,I8485de1f3f63dc9ec445b8fb08093ca144aedc59,https://git.eclipse.org/r/#/c/93843,1,30a6a9cfc02e91c1beaf618f5e77cfd82e001b6a,d40de32767a3b73ea15ab77c0de832175babf208,0,25/03/17,25/03/17,604,Prepare 4.5.2-SNAPSHOT builds,"Prepare 4.5.2-SNAPSHOT builds

Change-Id: I8485de1f3f63dc9ec445b8fb08093ca144aedc59
Signed-off-by: Matthias Sohn <matthias.sohn@sap.com>",1,0,0,1,1,0,1,NA,NA
93844,I2c416ce2b0e23255c4fb03a3f9a0ee237f7a484a,https://git.eclipse.org/r/#/c/93844,5,2ce8bab4151e51bfa0fb2beb6c06f2d2c840df67,62123386f5593e4567f6ab7862abca21152f67e4,1,25/03/17,26/03/17,263,Only mark packfile invalid if exception signals permanent problem,"Only mark packfile invalid if exception signals permanent problem

Add NoPackSignatureException and UnsupportedPackVersionException to
explicitly mark permanent unrecoverable problems with a pack 

Assume problem with a pack is permanent only if we are sure the
exception signals a non-transient problem we can't recover from:
- EOFException: file ended unexpectedly
- AccessDeniedException: we lack permissions
- NoSuchFileException: file has gone missing
- CorruptObjectException: we detected corruption
- PackMismatchException: pack no longer matches its index
- UnpackException: unpacking failed

Change-Id: I2c416ce2b0e23255c4fb03a3f9a0ee237f7a484a
Signed-off-by: Matthias Sohn <matthias.sohn@sap.com>",0,1,0,0,0,0,1,0,0
93856,Iee6e4ae456123099f7a99cc53c5ae02fd43bfa46,https://git.eclipse.org/r/#/c/93856,1,75a4c94782a32c0430514c0913a30b6b3f1ef1c7,11d55c0e8e7f95b273850b89add06e6317acb4d5,0,25/03/17,26/03/17,16,Raise minimum version of o.e.jetty.security to 9.4.0,"Raise minimum version of o.e.jetty.security to 9.4.0

This is required since we now use AbstractLoginService which was
introduced in Jetty 9.4.0.

Change-Id: Iee6e4ae456123099f7a99cc53c5ae02fd43bfa46
Signed-off-by: Matthias Sohn <matthias.sohn@sap.com>",0,0,0,0,0,0,0,NA,NA
93862,I20b50981adc54c426666015ff04fe3bb1db9abd9,https://git.eclipse.org/r/#/c/93862,1,66a855ad30a22deac7ce27c709a12162e007328f,ecd1c9f1a9f671809bb6b3f04cf7142062c6082d,0,27/03/17,27/03/17,633,Merge branch 'stable-4.5' into stable-4.6,"Merge branch 'stable-4.5' into stable-4.6

* stable-4.5:
  Only mark packfile invalid if exception signals permanent problem
  Don't flag a packfile invalid if opening existing file failed
  Prepare 4.5.2-SNAPSHOT builds

Change-Id: I20b50981adc54c426666015ff04fe3bb1db9abd9
Signed-off-by: David Pursehouse <david.pursehouse@gmail.com>",0,0,0,0,1,1,1,NA,NA
93873,Ife4efad1135d3870a5a0fb71e60b9524fb8777ab,https://git.eclipse.org/r/#/c/93873,2,ba4555e5eec76956e26cb1115d4e39eb1afaff11,dfd15d4b16631a220c9ccc90ec068501e3c9708b,0,27/03/17,27/03/17,35,Merge branch 'stable-4.6',"Merge branch 'stable-4.6'

* stable-4.6:
  Only mark packfile invalid if exception signals permanent problem
  Don't flag a packfile invalid if opening existing file failed
  Prepare 4.5.2-SNAPSHOT builds

Change-Id: Ife4efad1135d3870a5a0fb71e60b9524fb8777ab
Signed-off-by: Matthias Sohn <matthias.sohn@sap.com>",0,0,0,0,0,0,0,NA,NA
93971,I4a86f68c9d7737f71cf20352cfe26288fbd2b463,https://git.eclipse.org/r/#/c/93971,3,fb74d224ac61e93fda6f2c0a47c0a6f8831fbf2b,2b1ba46ad1e8e1896c34087e58e27dd42d8bb69b,1,28/03/17,30/03/17,21,Noop changes to RepoCommand and ManifestParser,"Noop changes to RepoCommand and ManifestParser

* Parse the base URL in ManifestParser construction.  This will signal
  errors earlier.

* Simplify stripping of trailing slashes.

* Document the intended use of RepoCommand#setURI().

Signed-off-by: Han-Wen Nienhuys <hanwen@google.com>
Change-Id: I4a86f68c9d7737f71cf20352cfe26288fbd2b463",0,0,0,0,0,0,0,0,0
94047,I4a59dd8278b7b0026094692127b7f55e89c10bae,https://git.eclipse.org/r/#/c/94047,3,2b1ba46ad1e8e1896c34087e58e27dd42d8bb69b,ea2f4d15ed08b48fec13336b01c83145e2c72211,1,29/03/17,30/03/17,11,Document the intended use of RepoCommand#setURI(),"Document the intended use of RepoCommand#setURI()

Signed-off-by: Han-Wen Nienhuys <hanwen@google.com>
Change-Id: I4a59dd8278b7b0026094692127b7f55e89c10bae",0,0,0,0,0,0,0,0,0
94109,I1097a2defa4a9dcf502ca8baca5d32880378818f,https://git.eclipse.org/r/#/c/94109,5,ea2f4d15ed08b48fec13336b01c83145e2c72211,f8d6165f38a95ef3d4d4379ed278259d53eec9b4,1,30/03/17,12/04/17,49,Only throw MissingObjectException when necessary,"Only throw MissingObjectException when necessary

When preparing the bitmap, the flag ignoreMissingStart only applied to
the start object. However, sometime the start object is present but some
related objects are not present during the walk, we should only release
the MissingObjectException when the ignoreMissingStart is set false.

Change-Id: I1097a2defa4a9dcf502ca8baca5d32880378818f
Signed-off-by: Zhen Chen <czhen@google.com>",0,1,0,0,0,0,1,0,0
94131,If9de4c0e43850dec46858bd58e9692a7e099cbc3,https://git.eclipse.org/r/#/c/94131,2,d1250795c2aead6dc1923bf961870b91ee8d08a8,ac36cbb614262f10a5d3c8806f0ca3cfc38f2a34,0,30/03/17,30/03/17,89,Require jetty 9.4.0 consistently,"Require jetty 9.4.0 consistently

Change-Id: If9de4c0e43850dec46858bd58e9692a7e099cbc3",0,0,0,1,0,0,1,NA,NA
94158,Ia75530226120d75aa0017c5410fd65d0563e91b,https://git.eclipse.org/r/#/c/94158,17,ac36cbb614262f10a5d3c8806f0ca3cfc38f2a34,0069983a353f45708a6c7bf70b0511032d734a5d,1,30/03/17,13/04/17,224,Fix RepoCommand to allow for relative URLs,"Fix RepoCommand to allow for relative URLs

* Remove the '/' fudging in ManifestParser; all tests still pass.

* Allow an empty base URL. This is useful if the 'fetch' field is "".""
  and all names are relative to some host root.

* throw SAXException if 'fetch' is unset. The docs mark it as
  #REQUIRED.

* The URLs in the resulting superproject are relative to the
  superproject's URL.  Add RepoCommand#setDestinationURI to
  set this.

* Add two tests for the Android and Gerrit case, checking the URL
  format in .gitmodules; the tests use a custom RemoteReader which is
  representative of Google's use of this class.

Signed-off-by: Han-Wen Nienhuys <hanwen@google.com>
Change-Id: Ia75530226120d75aa0017c5410fd65d0563e91b4",0,1,0,0,0,0,1,1,1
94185,I7e9dd539414624d71587c55cb436b843949aa296,https://git.eclipse.org/r/#/c/94185,2,78180daf30143ae9c4b67be95d326a214883e44a,97d5e50a2217e5aac0cb902b746a54de07f11eed,0,30/03/17,30/03/17,258,Downgrade jetty to 9.3.9.v20160517,"Downgrade jetty to 9.3.9.v20160517

This works around the problems we faced with jetty 9.4.3.v20170317.

Bug: 514336
Change-Id: I7e9dd539414624d71587c55cb436b843949aa296
Signed-off-by: Matthias Sohn <matthias.sohn@sap.com>",0,0,0,0,0,0,0,NA,NA
94187,Ie60ef9c7bc6ce0fdf017949ebfb9a21753e70506,https://git.eclipse.org/r/#/c/94187,1,97d5e50a2217e5aac0cb902b746a54de07f11eed,e566542e0b08ac717c30645522fb2b1d9af2d1ee,1,30/03/17,30/03/17,1,Remove unused import from ManifestParser,"Remove unused import from ManifestParser

Change-Id: Ie60ef9c7bc6ce0fdf017949ebfb9a21753e70506
Signed-off-by: Matthias Sohn <matthias.sohn@sap.com>",0,0,0,1,0,0,1,0,0
94193,Ia4287f130034a790759b5035505a093b4616a05a,https://git.eclipse.org/r/#/c/94193,1,65911bf58eab1f15b6ff1cfabdd79e90e93df987,c6e158b6a608feeb8987c1578bb2acb43f1ce210,1,31/03/17,02/04/17,220,"Revert ""Update Jetty to 9.4.1.v20170120""","Revert ""Update Jetty to 9.4.1.v20170120""

This reverts commit e05caf91f1df86a95d3e0454000d345bb90a415e.

Change-Id: Ia4287f130034a790759b5035505a093b4616a05a",0,0,0,0,0,1,1,0,0
94245,I9528e80063122ac318f115900422a24ae49a920e,https://git.eclipse.org/r/#/c/94245,4,fbba2611ee398b6814feb51a0c492b5ec139937e,9ae0ae1e92b0d94c3466b1037a82cdc11473f8f8,0,31/03/17,19/04/17,27,Add parseCommit(AnyObjectId) method to Repository.,"Add parseCommit(AnyObjectId) method to Repository.

It is quite common to want to parse a commit without already having a
RevWalk.  Provide a shortcut to do so to make it more convenient, and to
ensure that the RevWalk is released afterwards.

Signed-off-by: Martin Fick<mfick@codeaurora.org>
Change-Id: I9528e80063122ac318f115900422a24ae49a920e",0,1,0,0,0,0,1,NA,NA
94249,I7c61659e7c4e8bd49a8b17e2fe9be67bb32933d3,https://git.eclipse.org/r/#/c/94249,3,7bfd6b924bc4fbde6b02b7084c3f8b3d4860d8b0,e2a3ed5f6ff7954fb999c586f4269c338d225e05,1,31/03/17,04/04/17,67,Buffer the response until request parsing has done,"Buffer the response until request parsing has done

This is a continuation from https://git.eclipse.org/r/#/c/4716/. For a
non-bidirectional request, we need to consume the request before writing
any response. In UploadPack, we write ""shallow""/""unshallow"" responses
before parsing ""have"" lines. This has happened not to be a problem most
of the time in the smart HTTP protocol because the underlying
InputStream has a 32 KiB buffer in SmartOutputStream.

Change-Id: I7c61659e7c4e8bd49a8b17e2fe9be67bb32933d3
Signed-off-by: Masaya Suzuki <masayasuzuki@google.com>",0,0,0,0,0,0,0,0,0
94256,I596ba596f3e857346020e01b0a018d90a0b27edd,https://git.eclipse.org/r/#/c/94256,1,2126e4cde837131525ee29b60c224743cd46948f,65b3d184a31f33099578f16cda7e69ef5562625a,0,01/04/17,02/04/17,27,"Revert ""Update Jetty to 9.4.1.v20170120 in buck build""","Revert ""Update Jetty to 9.4.1.v20170120 in buck build""

This reverts commit d3b80b951c0bf995f7d210710e3d31e9d529efe2.

Change-Id: I596ba596f3e857346020e01b0a018d90a0b27edd",0,0,0,0,0,0,0,NA,NA
94257,I6d8d476abe8677ce865a08099bb77330effc700a,https://git.eclipse.org/r/#/c/94257,2,65b3d184a31f33099578f16cda7e69ef5562625a,b33da46ac8c9df6a564546a2269ad037d1887fa4,1,01/04/17,02/04/17,294,Update Jetty to 9.3.17.v20170317,"Update Jetty to 9.3.17.v20170317

Update to the latest 9.3 version until we have a solution for bug 514336
we face with 9.4.x versions.

Change-Id: I6d8d476abe8677ce865a08099bb77330effc700a
Signed-off-by: Matthias Sohn <matthias.sohn@sap.com>",0,0,0,0,0,0,0,0,0
94268,I9193b568cce9c72da899a8f3eaaf833956438e13,https://git.eclipse.org/r/#/c/94268,2,bdb84a816f400c57f8119b08d2c696abcfe5d8ce,815d8b4df9cfb46f2e1ce3d516d500abed798543,1,02/04/17,02/04/17,399,Merge branch 'stable-4.6',"Merge branch 'stable-4.6'

* stable-4.6:
  Update Jetty to 9.3.17.v20170317
  Revert ""Update Jetty to 9.4.1.v20170120 in buck build""
  Revert ""Update Jetty to 9.4.1.v20170120""

Change-Id: I9193b568cce9c72da899a8f3eaaf833956438e13
Signed-off-by: Matthias Sohn <matthias.sohn@sap.com>",0,0,0,0,0,0,0,0,0
94275,Ibeb91436169e852a4241189f80e4895b54ce3cd0,https://git.eclipse.org/r/#/c/94275,1,815d8b4df9cfb46f2e1ce3d516d500abed798543,017950fbf45831745251c62eb86c3d0cf30a73db,0,02/04/17,03/04/17,26,Downgrade Jetty to 9.3.17.v20170317 in Bazel build,"Downgrade Jetty to 9.3.17.v20170317 in Bazel build

Jetty was downgraded on stable-4.6 which doesn't have a Bazel
build.

Change-Id: Ibeb91436169e852a4241189f80e4895b54ce3cd0
Signed-off-by: David Pursehouse <david.pursehouse@gmail.com>",0,0,0,0,0,1,1,NA,NA
94366,I9aca2f71389a42fedce305e9078db016869c3d1a,https://git.eclipse.org/r/#/c/94366,1,86380e7ee613588bb047afcc8ef195776657d3f8,64db839fc4ece3b33a8af9ad8a1e3695ff9e4c55,1,04/04/17,04/04/17,2,PushConnectionTest#limitCommandBytes: Increase maxCommandBytes,"PushConnectionTest#limitCommandBytes: Increase maxCommandBytes

A higher limit is required to account for proper JGit version number
being sent in the UserAgent.

The version string ""4.7.0.201704031717-r"" is 20 characters, however
the strings used during development are shorter:

- When running from mvn, ""4.7.0.qualifier"" is used; 15 characters
- When running in Eclipse, ""unknown"" is used; 7 characters

Change-Id: I9aca2f71389a42fedce305e9078db016869c3d1a
Signed-off-by: David Pursehouse <david.pursehouse@gmail.com>",0,0,0,0,0,1,1,0,0
94409,Ib884dce2528424b5bcbbbbfc043baec1886b9bbd,https://git.eclipse.org/r/#/c/94409,7,d7b81a167e3b87896f6ac5f21b4c10cbc0d15029,89729eccf4ad203af29cfb891bebea83c341ffae,1,04/04/17,05/04/17,359,Support creating Mergers without a Repository,"Support creating Mergers without a Repository

All that's really required to run a merge operation is a single
ObjectInserter, from which we can construct a RevWalk, plus a Config
that declares a diff algorithm. Provide some factory methods that don't
take Repository.

Change-Id: Ib884dce2528424b5bcbbbbfc043baec1886b9bbd",0,1,0,0,0,0,1,0,0
94411,Icc8db2f2dc6aae6e591aa4f09a3c283336a5424c,https://git.eclipse.org/r/#/c/94411,1,946b3835fe977a47b00685f1cb101cb04f6062a6,44c5e5682de10dc0c64c173401dc0d9c6765f739,1,04/04/17,04/04/17,3,NameConflictTreeWalk: Mark repo param @Nullable,"NameConflictTreeWalk: Mark repo param @Nullable

This is passed directly to the super constructor, where it is also
@Nullable. Marking it here saves the reader a jump.

Change-Id: Icc8db2f2dc6aae6e591aa4f09a3c283336a5424c",0,0,0,0,0,0,0,0,0
94416,I2b85cc239e9b3090426c956cbf9af3deb4106a41,https://git.eclipse.org/r/#/c/94416,1,44c5e5682de10dc0c64c173401dc0d9c6765f739,01a3aa632c8a242d513fe2eb78881a7c53238376,1,04/04/17,04/04/17,58,ResolveMergerTest: Add tests for content merges,"ResolveMergerTest: Add tests for content merges

Change-Id: I2b85cc239e9b3090426c956cbf9af3deb4106a41",0,0,0,1,0,0,1,0,0
94421,I354f46475ee96eb3b31abd303b5df2f3023fcf75,https://git.eclipse.org/r/#/c/94421,1,01a3aa632c8a242d513fe2eb78881a7c53238376,555270b7e97bfd418e48925c4e89a44534f8493e,0,04/04/17,04/04/17,0,Merge branch 'stable-4.7',"Merge branch 'stable-4.7'

* stable-4.7:
  PushConnectionTest#limitCommandBytes: Increase maxCommandBytes

Change-Id: I354f46475ee96eb3b31abd303b5df2f3023fcf75
Signed-off-by: David Pursehouse <david.pursehouse@gmail.com>",1,0,0,0,0,0,1,NA,NA
94422,Ie131938a3f640c68718dc793d18dd35be5c71e7c,https://git.eclipse.org/r/#/c/94422,1,e2bf097fcb4cb6fcf8f48eb069df88f0947db4e6,1b1174a04efdd6f2463a40e757f9f9d7297589f6,1,05/04/17,05/04/17,8,TarFormat: Use commit time as timestamp for entries,"TarFormat: Use commit time as timestamp for entries

This was already done for ZipFormat in 1448ec3.

Change-Id: Ie131938a3f640c68718dc793d18dd35be5c71e7c
Signed-off-by: Yasuhiro Takagi <ytakagi@bea.hi-ho.ne.jp>
Signed-off-by: David Pursehouse <david.pursehouse@gmail.com>",0,0,0,0,0,1,1,0,0
94429,I2b6175c095aea2868a8c302103095accde5170e3,https://git.eclipse.org/r/#/c/94429,2,cf0ab6a4a183e380c17aa33d5c9eba366a045f9b,0c65dceb6cd1e65d0894d1264157182dcb045751,1,05/04/17,05/04/17,10,Fixed compilation error (NP dereference) in UploadPack.stopBuffering(),"Fixed compilation error (NP dereference) in UploadPack.stopBuffering()

Introduced via commit 3b2508b51467c3cb0541c004488eaabae2842f9e.

Change-Id: I2b6175c095aea2868a8c302103095accde5170e3
Signed-off-by: Andrey Loskutov <loskutov@gmx.de>",0,0,0,0,0,0,0,0,0
94431,I24e2ad725a32b9b06af4dcac59454c08bd528387,https://git.eclipse.org/r/#/c/94431,1,a23e2e649175c120414cedc707bde02b1f447a93,fde7caaae5229079ca546198c36ba978a479dd8b,0,05/04/17,05/04/17,0,Merge branch 'stable-4.7',"Merge branch 'stable-4.7'

* stable-4.7:
  TarFormat: Use commit time as timestamp for entries

Change-Id: I24e2ad725a32b9b06af4dcac59454c08bd528387
Signed-off-by: David Pursehouse <david.pursehouse@gmail.com>",1,0,0,0,0,0,1,NA,NA
94467,I9f29e84b4d357ac8910b8dc534ea91dc9be96079,https://git.eclipse.org/r/#/c/94467,1,b640c5309e129147de7be324344274dbdd201937,49b7261b4460eb1e7e4ea09e6ac182638653ade6,0,05/04/17,05/04/17,1,Fix version.sh to update version of imported jgit features,"Fix version.sh to update version of imported jgit features

Change-Id: I9f29e84b4d357ac8910b8dc534ea91dc9be96079
Signed-off-by: Matthias Sohn <matthias.sohn@sap.com>",1,0,0,1,0,0,1,NA,NA
94468,Ifea6750e79d417a8a2a891b3b5f96d68c7200011,https://git.eclipse.org/r/#/c/94468,1,49b7261b4460eb1e7e4ea09e6ac182638653ade6,a1da11e99972be6ac1aff1f8ddc6ce33bba5071c,0,05/04/17,05/04/17,646,Prepare 4.8.0-SNAPSHOT builds,"Prepare 4.8.0-SNAPSHOT builds

Change-Id: Ifea6750e79d417a8a2a891b3b5f96d68c7200011
Signed-off-by: Matthias Sohn <matthias.sohn@sap.com>",1,0,0,1,1,0,1,NA,NA
94496,Ic2bd6aca0b7a7e0597ffc1f7cf647b49878f9950,https://git.eclipse.org/r/#/c/94496,1,05948403f7cc7e76d17a20f36cfb6a3dd4eda425,e296ba02b7a8d560ef791b1f8e885a2e33a26368,0,05/04/17,05/04/17,118,JGit v4.7.0.201704051617-r,"JGit v4.7.0.201704051617-r

Change-Id: Ic2bd6aca0b7a7e0597ffc1f7cf647b49878f9950
Signed-off-by: Matthias Sohn <matthias.sohn@sap.com>",0,0,0,1,0,0,1,NA,NA
94506,I16a45035258276217446bccc0ad1b0991383aa0c,https://git.eclipse.org/r/#/c/94506,1,e296ba02b7a8d560ef791b1f8e885a2e33a26368,8665a56b84fdc6ff2c214056a252ad5215b8975c,0,05/04/17,05/04/17,646,Prepare 4.7.1-SNAPSHOT,"Prepare 4.7.1-SNAPSHOT

Change-Id: I16a45035258276217446bccc0ad1b0991383aa0c
Signed-off-by: Matthias Sohn <matthias.sohn@sap.com>",1,0,0,1,1,0,1,NA,NA
94515,I1e27e9875f7a8ed68fdde79640d0fd9a7205faca,https://git.eclipse.org/r/#/c/94515,1,80b61f69e1e21ca2a92c26ee599516ffdedae026,80b61f69e1e21ca2a92c26ee599516ffdedae026,0,06/04/17,06/04/17,638,Merge branch 'stable-4.7',"Merge branch 'stable-4.7'

* stable-4.7:
  Prepare 4.7.1-SNAPSHOT
  JGit v4.7.0.201704051617-r

Change-Id: I1e27e9875f7a8ed68fdde79640d0fd9a7205faca
Signed-off-by: David Pursehouse <david.pursehouse@gmail.com>",0,0,0,0,1,1,1,NA,NA
94520,Ib54cec97e97042fe274b87a3a1afa9bb06c8bf19,https://git.eclipse.org/r/#/c/94520,1,179e89515be3165760dec4041c5ee9939b4d7ca8,f523aa6a7467cf40d92f530efe92b92e48d3a48c,1,06/04/17,06/04/17,2,PushConnectionTest: Increase maxCommandBytes again,"PushConnectionTest: Increase maxCommandBytes again

It was already increased in 61a943e, but that was still not enough to
take into account the length of snapshot versions.

Change-Id: Ib54cec97e97042fe274b87a3a1afa9bb06c8bf19
Signed-off-by: David Pursehouse <david.pursehouse@gmail.com>",0,0,0,0,0,1,1,0,0
94522,Idbbc48964166ef80d578dde1b68e1ade892f00dc,https://git.eclipse.org/r/#/c/94522,1,4a07a2beb542abd2487a7dcd6cd7ead1c3423cbf,5ef02ee2649a70b8e844799d9a0cd4251988f5a3,0,06/04/17,06/04/17,0,Merge branch 'stable-4.7',"Merge branch 'stable-4.7'

* stable-4.7:
  PushConnectionTest: Increase maxCommandBytes again

Change-Id: Idbbc48964166ef80d578dde1b68e1ade892f00dc
Signed-off-by: David Pursehouse <david.pursehouse@gmail.com>",1,0,0,0,0,0,1,NA,NA
94523,Ib8ed8cee6074fe6bf8f9ac6fc7a1664a547d2d49,https://git.eclipse.org/r/#/c/94523,3,3d3be7bff4bed1618786f8fb790b764a776b9eb1,d8f69a5c152b07c763118b2f293d5f8577856c2f,1,06/04/17,10/04/17,42,ManifestParser: Throw exception if remote does not have fetch attribute,"ManifestParser: Throw exception if remote does not have fetch attribute

In the repo manifest documentation [1] the fetch attribute is marked
as ""#REQUIRED"".

If the fetch attribute is not specified, this would previously result in
NullPointerException. Throw a SAXException instead.

[1] https://gerrit.googlesource.com/git-repo/+/master/docs/manifest-format.txt

Change-Id: Ib8ed8cee6074fe6bf8f9ac6fc7a1664a547d2d49
Signed-off-by: Han-Wen Nienhuys <hanwen@google.com>
Signed-off-by: David Pursehouse <david.pursehouse@gmail.com>",0,0,1,0,0,1,1,0,0
94528,Idd04657e8d95a841d72230f8881b6b899daadbc2,https://git.eclipse.org/r/#/c/94528,3,d8f69a5c152b07c763118b2f293d5f8577856c2f,430e939c300d770ff298e3374224e9001fcfd0d4,1,06/04/17,10/04/17,168,Cleanup and test trailing slash handling in ManifestParser,"Cleanup and test trailing slash handling in ManifestParser

Change-Id: Idd04657e8d95a841d72230f8881b6b899daadbc2
Signed-off-by: Han-Wen Nienhuys <hanwen@google.com>
Signed-off-by: David Pursehouse <david.pursehouse@gmail.com>",0,0,1,1,0,1,1,2,1
94595,I356f71cdef8e23a9b06cf0a4079060a116b9ed27,https://git.eclipse.org/r/#/c/94595,1,35577720d8daaf53e173631da04d02f5804f815d,3219196eb2838f14ac3f489da5d1a802bb9eb4cd,1,06/04/17,06/04/17,13,Fix @since tags of new API added after 4.7.0,"Fix @since tags of new API added after 4.7.0

Change-Id: I356f71cdef8e23a9b06cf0a4079060a116b9ed27
Signed-off-by: Matthias Sohn <matthias.sohn@sap.com>",0,0,0,1,0,0,1,0,0
94596,I4ada3e6455e8e8e1bb8fb71affa0a1b36bd46fc4,https://git.eclipse.org/r/#/c/94596,1,3219196eb2838f14ac3f489da5d1a802bb9eb4cd,956ef365fc905ce738a5dfd67b9c11d9d61bd46c,0,06/04/17,06/04/17,8,Silence API error for new method added to abstract MergeStrategy,"Silence API error for new method added to abstract MergeStrategy

OSGi semantic versioning rules allow to break implementors of an API in
a minor version.

Change-Id: I4ada3e6455e8e8e1bb8fb71affa0a1b36bd46fc4
Signed-off-by: Matthias Sohn <matthias.sohn@sap.com>",0,0,0,0,0,0,0,NA,NA
94700,I66402643d7c84c90bf5cefed4d2ec3aa68c94cfb,https://git.eclipse.org/r/#/c/94700,1,c082562ce7eb415f5a9450cbe37148e87bcadacb,0f0b1ac6cd92fb0c45605cc01ebfb4f66cee777c,0,07/04/17,07/04/17,118,JGit v4.5.2.201704071617-r,"JGit v4.5.2.201704071617-r

Change-Id: I66402643d7c84c90bf5cefed4d2ec3aa68c94cfb
Signed-off-by: Matthias Sohn <matthias.sohn@sap.com>",0,0,0,1,0,0,1,NA,NA
94705,I69681b7a5687ca76bd0dd5d3e7ce2cff841d0e32,https://git.eclipse.org/r/#/c/94705,1,0f0b1ac6cd92fb0c45605cc01ebfb4f66cee777c,055486cee9a660e5fa84d3cb7ee6fd46d90ef308,0,07/04/17,08/04/17,604,Prepare 4.5.3-SNAPSHOT builds,"Prepare 4.5.3-SNAPSHOT builds

Change-Id: I69681b7a5687ca76bd0dd5d3e7ce2cff841d0e32
Signed-off-by: Matthias Sohn <matthias.sohn@sap.com>",1,0,0,1,1,0,1,NA,NA
94716,I3ecb0f986c809dad962b821c5de7cf18865642d3,https://git.eclipse.org/r/#/c/94716,2,edf991d2789a79eaaaa20fe4a7254307967b3575,38b0e5a2960bb495d6e50b0d99b767793cb23f90,0,08/04/17,09/04/17,3,Exclude generated class UbcCheck from PMD checks,"Exclude generated class UbcCheck from PMD checks

Silence the many duplicate code warnings for this generated class.

Change-Id: I3ecb0f986c809dad962b821c5de7cf18865642d3
Signed-off-by: Matthias Sohn <matthias.sohn@sap.com>",1,0,0,0,0,0,1,NA,NA
94717,I4e1915d3a88e15c9ef1fb2b470b7f3b821243ff5,https://git.eclipse.org/r/#/c/94717,1,c7f7a790cb273e02709c99c3e401f739e250722a,c7f7a790cb273e02709c99c3e401f739e250722a,0,09/04/17,09/04/17,687,Merge branch 'stable-4.5' into stable-4.6,"Merge branch 'stable-4.5' into stable-4.6

* stable-4.5:
  Prepare 4.5.3-SNAPSHOT builds
  JGit v4.5.2.201704071617-r

Change-Id: I4e1915d3a88e15c9ef1fb2b470b7f3b821243ff5
Signed-off-by: David Pursehouse <david.pursehouse@gmail.com>",0,0,0,0,1,1,1,NA,NA
94719,I5d2044c59af7bc2786fb66ebf5130e412884d74b,https://git.eclipse.org/r/#/c/94719,1,d13d714a660dcade93ee9b8b4669c3d26373d2ac,d13d714a660dcade93ee9b8b4669c3d26373d2ac,0,09/04/17,09/04/17,0,Merge branch 'stable-4.6' into stable-4.7,"Merge branch 'stable-4.6' into stable-4.7

* stable-4.6:
  Prepare 4.5.3-SNAPSHOT builds
  JGit v4.5.2.201704071617-r

Change-Id: I5d2044c59af7bc2786fb66ebf5130e412884d74b
Signed-off-by: David Pursehouse <david.pursehouse@gmail.com>",0,0,0,0,0,1,1,NA,NA
94720,Id52cd145a94919b43bc31274d28940c101790080,https://git.eclipse.org/r/#/c/94720,1,ce1f46fa2ef1dfa936a872df86c291a65977afde,ce1f46fa2ef1dfa936a872df86c291a65977afde,0,09/04/17,09/04/17,0,Merge branch 'stable-4.7',"Merge branch 'stable-4.7'

* stable-4.7:
  Prepare 4.5.3-SNAPSHOT builds
  JGit v4.5.2.201704071617-r

Change-Id: Id52cd145a94919b43bc31274d28940c101790080
Signed-off-by: David Pursehouse <david.pursehouse@gmail.com>",0,0,0,0,0,1,1,NA,NA
94729,Iab354fbf745cdfe44f71ce0bb64bb838b8bcd57d,https://git.eclipse.org/r/#/c/94729,1,541ed8d69297ccd0b3b01cbe2c675550578ef96a,805a42568acc9bb682700e4e338bd146476cf829,0,09/04/17,09/04/17,2,Update JGit version used to detect API changes to 4.7.0.201704051617-r,"Update JGit version used to detect API changes to 4.7.0.201704051617-r

We detect API changes during the Maven build using japicmp. Update the
reference version to the latest minor version 4.7.0.201704051617-r.

Change-Id: Iab354fbf745cdfe44f71ce0bb64bb838b8bcd57d",0,0,0,0,0,0,0,NA,NA
94730,I1e00d71395228265aad4071b023024ee1bf855d5,https://git.eclipse.org/r/#/c/94730,1,805a42568acc9bb682700e4e338bd146476cf829,ba7bf0d28526966660888e191fe77c1bdb53b66c,0,09/04/17,09/04/17,62,Remove unused API filters,"Remove unused API filters

Change-Id: I1e00d71395228265aad4071b023024ee1bf855d5
Signed-off-by: Matthias Sohn <matthias.sohn@sap.com>",0,0,0,1,0,0,1,NA,NA
94731,Ia728f1d033ecdf96b22945bc1ae38e5cb11064dd,https://git.eclipse.org/r/#/c/94731,1,ba7bf0d28526966660888e191fe77c1bdb53b66c,015f232024fadc8988c9b7aa1ac82b9291af111c,1,09/04/17,09/04/17,2,Add missing @Override annotations in AppServer.TestMappedLoginService,"Add missing @Override annotations in AppServer.TestMappedLoginService

Change-Id: Ia728f1d033ecdf96b22945bc1ae38e5cb11064dd
Signed-off-by: Matthias Sohn <matthias.sohn@sap.com>",0,0,0,1,0,0,1,0,0
94784,Ia9dc3110bcbdae05175851ce647ffd11c542f4c0,https://git.eclipse.org/r/#/c/94784,1,015f232024fadc8988c9b7aa1ac82b9291af111c,0fea7e31255bb6d2343903f2c13c1d42af9add4d,0,10/04/17,10/04/17,0,Merge branch 'stable-4.7',"Merge branch 'stable-4.7'

* stable-4.7:
  Cleanup and test trailing slash handling in ManifestParser
  ManifestParser: Throw exception if remote does not have fetch attribute

Change-Id: Ia9dc3110bcbdae05175851ce647ffd11c542f4c0
Signed-off-by: Matthias Sohn <matthias.sohn@sap.com>",0,0,0,0,0,0,0,NA,NA
94864,I01821d6a9fbed7a5fe4619884e42937fbd6909ce,https://git.eclipse.org/r/#/c/94864,2,0fea7e31255bb6d2343903f2c13c1d42af9add4d,5164682b5323161a9ece056989119e19ef020f77,1,11/04/17,13/04/17,81,BundleWriter: Allow constructing from only an ObjectReader,"BundleWriter: Allow constructing from only an ObjectReader

Change-Id: I01821d6a9fbed7a5fe4619884e42937fbd6909ce",0,0,0,1,0,0,1,0,0
94962,Iaef3db33ac71d71047cd28acb0378e15cb09ece9,https://git.eclipse.org/r/#/c/94962,1,4d06b682af395ea01a854a300f958f8b23349f43,a8b19f30fdacf8b2b59759572d522d4eafdfbe06,0,13/04/17,13/04/17,20,Bazel: Restrict src globs to Java source files,"Bazel: Restrict src globs to Java source files

Generating the src list with an unrestricted wildcard causes all
files in the source tree to be included. This results in junk files
such as .orig (generated during merge conflict resolution) to be
included, which causes in a build error:

  in srcs attribute of java_library rule //org.eclipse.jgit:jgit:
  file '//org.eclipse.jgit:src/org/eclipse/jgit/gitrepo/RepoCommand.java.orig'
  is misplaced here (expected .java, .srcjar or .properties).

Modify the globs to only include Java source files.

Change-Id: Iaef3db33ac71d71047cd28acb0378e15cb09ece9
Signed-off-by: David Pursehouse <david.pursehouse@gmail.com>",0,0,0,0,0,1,1,NA,NA
95078,Iecc9a5aeb7811a8ecc8198c8836a4a739be3cc08,https://git.eclipse.org/r/#/c/95078,1,a8b19f30fdacf8b2b59759572d522d4eafdfbe06,7cb7737883af9fef8b17084f450e51ebda30c2fa,0,14/04/17,16/04/17,13,Update Maven plugins,"Update Maven plugins

- japicmp-maven-plugin to 0.8.1
- maven-surefire-plugin to 2.20
- maven-surefire-report-plugin to 2.20
- tycho-extras to 1.0.0

Change-Id: Iecc9a5aeb7811a8ecc8198c8836a4a739be3cc08
Signed-off-by: Matthias Sohn <matthias.sohn@sap.com>",1,0,0,0,0,0,1,NA,NA
95080,I4531b94e3a04606a69eeb3c3d154510b87507012,https://git.eclipse.org/r/#/c/95080,1,7cb7737883af9fef8b17084f450e51ebda30c2fa,3d7f92709a6d1988647d29aa0e90fcf07ae39a9d,1,14/04/17,16/04/17,8,Add missing @since tag for new API RepoCommand.setTargetURI(),"Add missing @since tag for new API RepoCommand.setTargetURI()

Change-Id: I4531b94e3a04606a69eeb3c3d154510b87507012
Signed-off-by: Matthias Sohn <matthias.sohn@sap.com>",1,0,0,1,0,0,1,0,0
95083,I00d256d0e132c0b5ff02ff27a26fbf21ecc1bccd,https://git.eclipse.org/r/#/c/95083,3,18aca628688fe5d56667a7e0187d56e64591b791,624ce161cf2b51ea8e5f2ca0c3972cfe2eb8697d,1,14/04/17,18/04/17,149,Add some tests for alternates,"Add some tests for alternates

Change-Id: I00d256d0e132c0b5ff02ff27a26fbf21ecc1bccd
Signed-off-by: Matthias Sohn <matthias.sohn@sap.com>",0,0,1,1,0,0,1,0,0
95136,Iac236b6d05f735078c9935abfa6e58d1eb47f388,https://git.eclipse.org/r/#/c/95136,4,cc4fd1f1d1eccd2af6d91a1fc347d64b3034068d,be84664b84600840c8e0cc51ba080d1eb7d25b3c,1,17/04/17,17/04/17,101,"Process all ""have""s even when MissingObjectException is encountered","Process all ""have""s even when MissingObjectException is encountered

Because objects described by the client using ""have"" lines do not need
to be reachable by any ref on the server, it is possible for them to
point to missing objects in the reachability graph.  When such an
object is encountered, f5368dc97f564cf5eac3e7e2742680bf2f95fc0b (Only
throw MissingObjectException when necessary, 2017-03-29) aborts the
""have"" walk early to salvage the fetch.  The downside of that change
is that remaining ""have""s are ignored unless they pointed directly to
an object with a bitmap.  In the worst case this can increase the
bandwidth cost of a fetch to the cost of a clone because most ""have""s
are ignored.

Avoid this cost by bypassing the failed ""have"" completely and moving
on to the remaining ""have""s.

Change-Id: Iac236b6d05f735078c9935abfa6e58d1eb47f388",0,1,0,0,0,0,1,0,0
95427,Id3be21fe5146dedd46a1399e885c6d5f4778dda2,https://git.eclipse.org/r/#/c/95427,1,a884df44281b8c05190f15280823cb05a7676a05,4d737d2b7f51d43d6240a56d3f05b5a81cdaceab,0,20/04/17,20/04/17,4,Update eclipse-jarsigner-plugin to 1.1.4,"Update eclipse-jarsigner-plugin to 1.1.4

Change-Id: Id3be21fe5146dedd46a1399e885c6d5f4778dda2
Signed-off-by: Matthias Sohn <matthias.sohn@sap.com>",1,0,0,1,0,0,1,NA,NA
95499,I09e8b2656de8ba7f9b996724ad1961d908e937b6,https://git.eclipse.org/r/#/c/95499,5,4d737d2b7f51d43d6240a56d3f05b5a81cdaceab,7e4559eb9a484afccce9bb26c2ba27577ec914f7,1,21/04/17,21/04/17,194,Delete expired garbage even when there is no GC pack present.,"Delete expired garbage even when there is no GC pack present.

Delete the condition to check whether the garbage pack creation time
is older than the last GC operation, because it's not possible to
find the last GC operation when there is no GC pack.

Added additional tests to make sure the contents of expired garbage
packs are considered during the GC operation and any actively
referenced objects from the garbage packs are claimed succefully
into the GC pack before deling the garbage pack.

Change-Id: I09e8b2656de8ba7f9b996724ad1961d908e937b6
Committer: Thirumala Reddy Mutchukota <thirumala@google.com>
Signed-off-by: Thirumala Reddy Mutchukota <thirumala@google.com>",0,1,0,0,0,0,1,-1,0
95523,If880ddfb7d7af2be70729d0c9f73c7c821b9c652,https://git.eclipse.org/r/#/c/95523,1,7e4559eb9a484afccce9bb26c2ba27577ec914f7,5da2d32a6b7d230fd5c905e77c2465336d784c5e,1,22/04/17,23/04/17,2,Fix unnecessary type paramaters,"Fix unnecessary type paramaters

Can be inferred by the compiler.

Change-Id: If880ddfb7d7af2be70729d0c9f73c7c821b9c652",0,0,0,0,0,0,0,0,0
95588,I9475c04351ce3faebdc6ad40ea4faa3c326815f4,https://git.eclipse.org/r/#/c/95588,2,5da2d32a6b7d230fd5c905e77c2465336d784c5e,c8ac51657f942838914a283c6de090f237038151,1,24/04/17,09/05/17,21,Checkout should not use too long filenames,"Checkout should not use too long filenames

DirCacheCheckout is generating names for temporary files. It was not checking
the length of this filenames. It may happen that a generated filename is
longer than 255 chars which causes problems on certain platforms. Make sure
that filenames for temporary files do not exceed 255 chars.

Bug: 508823
Change-Id: I9475c04351ce3faebdc6ad40ea4faa3c326815f4",0,0,0,0,0,1,1,0,0
96097,Ib7b67d90f141c497fbdc61a31b0caa832e4b3c04,https://git.eclipse.org/r/#/c/96097,3,2ebe4392b5f111fdfe6b51ed1717c791667a382c,2a91f38be29abee80da543c25f9f6c9fe38372ac,1,30/04/17,02/05/17,94,Fix stack overflow in MergeBaseGenerator,"Fix stack overflow in MergeBaseGenerator

Some repository topologies can cause carryOntoHistory to overflow the
thread stack, due to its strategy of recursing into the 2nd+ parents
of a merge commit.  This can easily happen if a project maintains a
local fork, and frequently pulls from the upstream repository, which
itself may have a branchy history.

Rewrite the carryOntoHistory algorithm to use a fixed amount of thread
stack, pushing the save points onto the heap.  By using heap space the
thread stack depth is no longer a concern.  Repositories are instead
limited by available memory.

The algorithm is now structured as two loops:

  carryOntoHistory: This outer loop pops saved commits off the top of
  the stack, allowing the inner loop algorithm to dive down that path
  and carry bits onto commits along that part of the graph.  The loop
  ends when there are no more stack elements.

  carryOntoHistoryInner: The inner loop walks along a single path of
  the graph. For a string of pearls (commits with one parent each)

    r <- s <- t <- u

  the algorithm walks backwards from u to r by iteratively updating
  its local variable 'c'.  This avoids heap allocation along a simple
  path that does not require remembering state.

  The inner loop breaks in the HAVE_ALL case, when all bits have been
  found to be previously set on the commit.  This occurs when a prior
  iteration of the outer loop (carryOntoHistory) explored a different
  path to this same commit, and copied the bits onto it.

  When the inner loop encounters a merge commit, it pushes all parents
  onto the heap based stack by allocating individual CarryStack
  elements for each parent.  Parents are pushed in order, allowing
  side branches to be explored first.

  A small optimization is taken for the last parent, avoiding pushing
  it and instead updating 'c', allowing the side branch to be entered
  without allocating a CarryStack.

Change-Id: Ib7b67d90f141c497fbdc61a31b0caa832e4b3c04",0,0,0,0,0,0,0,0,0
96352,Ib66003be1b5bdc80f46b9bbbb17d45e616714912,https://git.eclipse.org/r/#/c/96352,2,2a91f38be29abee80da543c25f9f6c9fe38372ac,34293a32e860df6f9243cfa85d37fe4b71833675,1,03/05/17,03/05/17,18,Reset ObjectWalker when it starts a new walk,"Reset ObjectWalker when it starts a new walk

The ObjectWalker in PackWriterBitmapWalker needs to be reset whenever it
starts a new walk. Move this responsibility from the caller to the
method when the new walk starts.

Change-Id: Ib66003be1b5bdc80f46b9bbbb17d45e616714912
Signed-off-by: Zhen Chen <czhen@google.com>",0,0,0,0,0,0,0,0,0
96565,I9b18c60f8f99816d42a3deb7d4a33a9f22eeb709,https://git.eclipse.org/r/#/c/96565,3,34293a32e860df6f9243cfa85d37fe4b71833675,ab927ffaaa0094366c16a773b19a157a8cf6013b,1,08/05/17,13/05/17,92,Clean up the disk when cloning fails,"Clean up the disk when cloning fails

CloneCommand.call() has three stages: preparation, then the actual
clone (init/fetch), and finally maybe checking out the working
directory.

Restructure such that if we fail or are cancelled during the actual
clone (middle phase), we do clean up the disk again. This prevents
leaving behind a partial clone in an inconsistent state: either we
have a fully successfully built clone, or nothing at all.

Bug: 516303
Change-Id: I9b18c60f8f99816d42a3deb7d4a33a9f22eeb709
Signed-off-by: Thomas Wolf <thomas.wolf@paranor.ch>",0,0,1,0,0,0,1,1,1
96692,I9514013dcffa6cb945496515c3eb4894c9043d7b,https://git.eclipse.org/r/#/c/96692,2,3fbfc03918a624f8e46f030250be40113e18ca14,277b1af6b8dd525f8c96ac88b34f3ecf4fc59add,0,10/05/17,11/05/17,4,Specify minimum Maven version in pom.xml,"Specify minimum Maven version in pom.xml

Change-Id: I9514013dcffa6cb945496515c3eb4894c9043d7b
Signed-off-by: David Pursehouse <david.pursehouse@gmail.com>",0,0,0,1,0,1,1,NA,NA
96693,I7252b6c89d91ac675c0e02e4d17ba0212b617098,https://git.eclipse.org/r/#/c/96693,4,277b1af6b8dd525f8c96ac88b34f3ecf4fc59add,71d8b22d4f888d9305aca666adba2ca57b185478,0,10/05/17,12/05/17,38,Specify version of clirr-maven-plugin in LFS pom.xml files,"Specify version of clirr-maven-plugin in LFS pom.xml files

Change-Id: I7252b6c89d91ac675c0e02e4d17ba0212b617098
Signed-off-by: David Pursehouse <david.pursehouse@gmail.com>",0,1,0,1,0,1,1,NA,NA
96694,Ief52488d97bb2771b4c5a40c4a9578c68a24964b,https://git.eclipse.org/r/#/c/96694,4,c05aa4350439ace3213f3b92e2af7413ba503c88,0112e2b78f9098c7e15c2595727a6a006cd92163,0,10/05/17,12/05/17,2,Upgrade maven-pmd-plugin to latest version,"Upgrade maven-pmd-plugin to latest version

Change-Id: Ief52488d97bb2771b4c5a40c4a9578c68a24964b
Signed-off-by: David Pursehouse <david.pursehouse@gmail.com>",0,1,0,1,0,1,1,NA,NA
96695,Iace4350e51592e42f0dacf05558e53a6f87e1a6a,https://git.eclipse.org/r/#/c/96695,4,5ef34551e311c6ec80c3ed87d73217764c265358,6d0bba04947e9c4dabb8fde17e0988b78349d93b,0,10/05/17,12/05/17,2,Upgrade japicmp-maven-plugin to latest version,"Upgrade japicmp-maven-plugin to latest version

Change-Id: Iace4350e51592e42f0dacf05558e53a6f87e1a6a
Signed-off-by: David Pursehouse <david.pursehouse@gmail.com>",0,1,0,1,0,1,1,NA,NA
96783,I5181b0e8096af3537296848ac7dd74dff0b6d279,https://git.eclipse.org/r/#/c/96783,5,c76451a4113d2029f009a41c26cedf47dfd1943f,4458356af23d6099317d407ddc83dc3a6ad5947a,1,10/05/17,15/05/17,4,Add shutdown hook to cleanup unfinished clone when JVM receives SIGTERM,"Add shutdown hook to cleanup unfinished clone when JVM receives SIGTERM

Change-Id: I5181b0e8096af3537296848ac7dd74dff0b6d279
Signed-off-by: Matthias Sohn <matthias.sohn@sap.com>",0,1,1,1,0,0,1,0,0
96859,Ifcfd968084dfa6db0ae07cf541d33a6cdedc1ee2,https://git.eclipse.org/r/#/c/96859,6,445ef59d3d8af2f428f4ffbeee3d650111ea0a40,1bcc97ffabbad3ca8b089c5fb102e5bcb4f8c312,1,11/05/17,11/05/17,347,Port to jetty 9.4.5,"Port to jetty 9.4.5

* Adapt to API removals in jetty 9.4+
* Manifests changed to restrict jetty to [9.4.0,9.5.0)

Bug: 516514
Change-Id: Ifcfd968084dfa6db0ae07cf541d33a6cdedc1ee2
Signed-off-by: Mat Booth <mat.booth@redhat.com>",0,1,0,0,0,0,1,0,0
97021,Ic2555ea932dbbd1a3a6868e731f247b9754d7f09,https://git.eclipse.org/r/#/c/97021,2,c5792676c50f68109d33c2537c47e1a07f721c73,dbaaeebc127e9f3c85b15e75f3d5a94d359ea990,0,13/05/17,15/05/17,5,[findBugs] Use UTF-8 when writing to the error stream in jgit pgm,"[findBugs] Use UTF-8 when writing to the error stream in jgit pgm

Change-Id: Ic2555ea932dbbd1a3a6868e731f247b9754d7f09
Signed-off-by: Matthias Sohn <matthias.sohn@sap.com>",0,0,0,1,0,0,1,NA,NA
97022,Ica8a40b909ed45cf8e538714e4f26b64ff9a3d21,https://git.eclipse.org/r/#/c/97022,3,b6aa6f0b4d4beee6d4f68e0a9f8df6a78bf9849d,5fc73c35619896bc0fb59ea3851ffd177964dedf,0,13/05/17,15/05/17,14,[findBugs] Use UTF-8 when writing to the error stream in GitHook,"[findBugs] Use UTF-8 when writing to the error stream in GitHook

Change-Id: Ica8a40b909ed45cf8e538714e4f26b64ff9a3d21
Signed-off-by: Matthias Sohn <matthias.sohn@sap.com>",0,0,0,1,0,0,1,NA,NA
97023,I7c6f71e13ef106678157eae1aa3f9d39712e577b,https://git.eclipse.org/r/#/c/97023,3,df76afad6206f1f7c03783210362a94ffa6ef328,f25c80958357f5bc2c2a17c76229bd23fd96d810,0,13/05/17,15/05/17,14,[findBugs] Use UTF-8 to read git-rebase-todo file,"[findBugs] Use UTF-8 to read git-rebase-todo file

Change-Id: I7c6f71e13ef106678157eae1aa3f9d39712e577b
Signed-off-by: Matthias Sohn <matthias.sohn@sap.com>",0,0,0,1,0,0,1,NA,NA
97024,Ic85db2043d6f673f268bf781917daad45d28f8cd,https://git.eclipse.org/r/#/c/97024,3,c5e6f94bff19934caacb3c0b8f124c8ebf9226e5,65b3c3d28a0ed906c48c7c291e3d314160d50cb8,1,13/05/17,15/05/17,5,[findBugs] Use UTF-8 to write to the error stream in TextProgressMonitor,"[findBugs] Use UTF-8 to write to the error stream in TextProgressMonitor

Change-Id: Ic85db2043d6f673f268bf781917daad45d28f8cd
Signed-off-by: Matthias Sohn <matthias.sohn@sap.com>",0,0,0,1,0,0,1,0,0
97321,I60c0a40f2e38748641b25a25bcf10346e2950886,https://git.eclipse.org/r/#/c/97321,1,65b3c3d28a0ed906c48c7c291e3d314160d50cb8,267b32c0eed9a63531ffa542dfba683fcaae1a72,0,17/05/17,17/05/17,118,JGit v4.8.0.201705170830-rc1,"JGit v4.8.0.201705170830-rc1

Change-Id: I60c0a40f2e38748641b25a25bcf10346e2950886
Signed-off-by: Matthias Sohn <matthias.sohn@sap.com>",1,0,0,1,0,0,1,NA,NA
97345,I27fc4e4969fafde0fcba26aeebe30d732770b68f,https://git.eclipse.org/r/#/c/97345,1,267b32c0eed9a63531ffa542dfba683fcaae1a72,f11a5339f93ade547de26127458fb698ff312749,0,17/05/17,17/05/17,118,Prepare 4.8.0-SNAPSHOT builds,"Prepare 4.8.0-SNAPSHOT builds

Change-Id: I27fc4e4969fafde0fcba26aeebe30d732770b68f
Signed-off-by: Matthias Sohn <matthias.sohn@sap.com>",1,0,0,1,0,0,1,NA,NA
97404,Icd287c6b04fc1e48de773033fe432a9b0e904ac5,https://git.eclipse.org/r/#/c/97404,7,f11a5339f93ade547de26127458fb698ff312749,a3cc05210e67a43fbf1b7c9d8afe8aecb77441cb,1,18/05/17,18/05/17,218,Exclude refs/tags from bitmap commit selection,"Exclude refs/tags from bitmap commit selection

Commit db77610 ensured that all refs/tags are in the primary GC pack.
It did that by adding all of the refs/tags commits to the primary GC
pack PackWriter's ""interesting"" object set.

Unfortunately, all commit objects in the ""interesting"" set are
selected as commits for which bitmap indices will be built. In a
repository like chromium with lots of tags, this changed the number of
bitmaps created from <700 to >10000. That puts huge memory pressure on
the GC task.

This change restores the original behavior of ignoring tags when
performing bitmap index commit selection.

Commits for refs/heads and refs/tags for unannotated tags can not be
differentiated in the ""uninteresting"" objects set. We instead identify
refs/tags commits by passing their ObjectIds as a new ""noBitmaps""
parameter to the PackWriter.preparePack() methods.
PackWriterBitmapPreparer.setupTipCommitBitmaps() can then use that
""noBitmaps"" parameter to exclude those commits.

Change-Id: Icd287c6b04fc1e48de773033fe432a9b0e904ac5
Signed-off-by: Terry Parker <tparker@google.com>",0,1,0,0,0,0,1,0,0
97485,I001bac19abae58f8d634ba1bf2df1e0067154955,https://git.eclipse.org/r/#/c/97485,1,5789a4ede342de54e38a1496228c083441144eaa,5789a4ede342de54e38a1496228c083441144eaa,0,18/05/17,18/05/17,0,Merge branch 'stable-4.8',"Merge branch 'stable-4.8'

* stable-4.8:
  Prepare 4.8.0-SNAPSHOT builds
  JGit v4.8.0.201705170830-rc1

Change-Id: I001bac19abae58f8d634ba1bf2df1e0067154955
Signed-off-by: Matthias Sohn <matthias.sohn@sap.com>",1,0,0,0,0,0,1,NA,NA
97543,Ia7508c77609e53c8e808412ac523a93194648e49,https://git.eclipse.org/r/#/c/97543,1,5789a4ede342de54e38a1496228c083441144eaa,e63067328cc0433aa7553fffc3f55327d83b165a,1,19/05/17,22/05/17,3,Fix javadoc of TooLargeObjectInPackException,"Fix javadoc of TooLargeObjectInPackException

The API exception should have the same javadoc like the internal
exception org.eclipse.jgit.errors.TooLargeObjectInPackException

Change-Id: Ia7508c77609e53c8e808412ac523a93194648e49
Signed-off-by: Matthias Sohn <matthias.sohn@sap.com>",0,0,1,0,0,0,1,0,0
97603,If585741301f29182617933d6406d4a70497f2ca7,https://git.eclipse.org/r/#/c/97603,1,f418c57ef57fcb2b9408ae215e07f8781d0a72dc,1240f87f2ef3bb16f4f71affcd8add2d2106c033,1,19/05/17,19/05/17,184,Track read IO for DfsReader,"Track read IO for DfsReader

Compute how much disk IO a DfsReader is performing, and how long the
sum of those operations took on this reader instance. Implementations
of DFS and interested applications can get the stats by calling the
new DfsReader.getIoStats() method at or after close().

Change-Id: If585741301f29182617933d6406d4a70497f2ca7",0,0,0,0,0,0,0,0,0
97608,I144575f9bf1abf2c1fd72030550c4f0795fcf44d,https://git.eclipse.org/r/#/c/97608,1,1240f87f2ef3bb16f4f71affcd8add2d2106c033,5d1bacad5f88867854073c9645e34e6fbf6e75b3,1,19/05/17,19/05/17,22,Allow DfsReader to be subclassed,"Allow DfsReader to be subclassed

Necessary if a DFS implementation wants to override close()
to record DfsReaderIoStats.

Change-Id: I144575f9bf1abf2c1fd72030550c4f0795fcf44d",0,0,0,0,0,0,0,0,0
97680,I9c91aa2ff037bff27a8131fba54be22f5f27d80d,https://git.eclipse.org/r/#/c/97680,3,9087840848e9215304e7b569da14dde5a8ba6315,0fb42651a1497e4123cd99e13bed49aa66425499,1,22/05/17,24/05/17,32,Fix out-of-bounds exception in RepoCommand#relative,"Fix out-of-bounds exception in RepoCommand#relative

Change-Id: I9c91aa2ff037bff27a8131fba54be22f5f27d80d
Signed-off-by: Han-Wen Nienhuys <hanwen@google.com>",0,0,0,1,0,0,1,0,0
97704,I22aaccfc9d589750f9d1d711b655dd0fd543fa57,https://git.eclipse.org/r/#/c/97704,1,a5e56c27b5f58eb18874e984a2a9316f793d473f,203b1bcb2982f06b0285f37e904c7e950c06aad1,1,22/05/17,22/05/17,4,Remove unnecessary cast for DfsReader,"Remove unnecessary cast for DfsReader

Change-Id: I22aaccfc9d589750f9d1d711b655dd0fd543fa57
Signed-off-by: Zhen Chen <czhen@google.com>",0,0,0,1,0,0,1,0,0
97709,Ifae51e457e5718be610c0a0914b18fe35ea7b008,https://git.eclipse.org/r/#/c/97709,3,203b1bcb2982f06b0285f37e904c7e950c06aad1,c022d9b8d80c6189abfb15f4145e8a092890af67,1,22/05/17,24/05/17,23,Fix null return from FS.readPipe when command fails to launch,"Fix null return from FS.readPipe when command fails to launch

When a command invoked from readPipe fails to launch (i.e. the exec call fails
due to a missing command executable), Process.start() throws, which gets caught
by the generic IOException handler, resulting in a null return. This change
detects this case and rethrows a CommandFailedException instead.

Additionally, this change uses /bin/sh instead of bash for its posix command
failure test, to accomodate building in environments where bash is unavailable.

Signed-off-by: Bryan Donlan <bdonlan@gmail.com>
Change-Id: Ifae51e457e5718be610c0a0914b18fe35ea7b008",0,0,0,0,0,0,0,0,0
97878,I8da386e02272316b8e5e5c2f31ce10ad98bcdb28,https://git.eclipse.org/r/#/c/97878,1,f31cc0036001cab4ecebff61df8c492565bb4052,9d7594988a752dfea22986622f1f1536b027d8ba,1,24/05/17,24/05/17,4,RenameDetector: Clarify rename limits <= 0,"RenameDetector: Clarify rename limits <= 0

Change-Id: I8da386e02272316b8e5e5c2f31ce10ad98bcdb28",0,0,0,1,0,0,1,0,0
98197,I9cd20ded108d2e5d81fa1f0c2cb9aa0eabe1f256,https://git.eclipse.org/r/#/c/98197,1,0270925ab3dc09fe5e68cab6bbd339626d8d7684,033cf042a1ebd42bcef6aa43812deeb1cb4883eb,0,30/05/17,30/05/17,0,Merge branch 'master' into stable-4.8,"Merge branch 'master' into stable-4.8

* master:
  Fix out-of-bounds exception in RepoCommand#relative
  Fix null return from FS.readPipe when command fails to launch
  RenameDetector: Clarify rename limits <= 0
  Remove unnecessary cast for DfsReader
  Allow DfsReader to be subclassed
  Track read IO for DfsReader
  Fix javadoc of TooLargeObjectInPackException
  Exclude refs/tags from bitmap commit selection

Change-Id: I9cd20ded108d2e5d81fa1f0c2cb9aa0eabe1f256",1,0,0,0,0,0,1,NA,NA
98207,I52a4153d573799e861ab104939f51fac1aceb9ee,https://git.eclipse.org/r/#/c/98207,1,033cf042a1ebd42bcef6aa43812deeb1cb4883eb,4199122da6c00f6916458daa48d2f438cc0c7a8b,0,30/05/17,30/05/17,646,Prepare 4.9.0-SNAPSHOT builds,"Prepare 4.9.0-SNAPSHOT builds

Change-Id: I52a4153d573799e861ab104939f51fac1aceb9ee
Signed-off-by: Matthias Sohn <matthias.sohn@sap.com>",1,0,0,1,1,0,1,NA,NA
98270,I13575c77540149d383747a34754ac338ed60fb52,https://git.eclipse.org/r/#/c/98270,1,7f7ac326f39254effe2e82e2a15517e802a6c906,92f16087479b47d5e32440a14c4514da936e654d,0,30/05/17,30/05/17,22,Update Orbit to the Oxygen version R20170516192513,"Update Orbit to the Oxygen version R20170516192513

Change-Id: I13575c77540149d383747a34754ac338ed60fb52
Signed-off-by: Matthias Sohn <matthias.sohn@sap.com>",1,0,0,1,0,0,1,NA,NA
98393,I0366d28bf66ba47f08ee7eee636d613c9fe079f5,https://git.eclipse.org/r/#/c/98393,4,92f16087479b47d5e32440a14c4514da936e654d,ce95966d57c829c3a8de639158585fc3f63d079c,1,01/06/17,09/06/17,4,CloneCommand#setCallback should return 'this',"CloneCommand#setCallback should return 'this'

The other methods in this class follow the builder pattern, and
return 'this', allowing multiple method calls to be chained in a
single statement.

Update the setCallback method to do the same.

Change-Id: I0366d28bf66ba47f08ee7eee636d613c9fe079f5
Signed-off-by: David Pursehouse <david.pursehouse@gmail.com>",0,1,1,0,0,1,1,0,0
98396,Id805044b57289ee0f384b434aba1dbd2fd317e5b,https://git.eclipse.org/r/#/c/98396,7,3b70410849b93392f66bce05a7deb14b8cd76541,ff39449c2c0b483dbd63b0f6e16ccbab0f89f0c6,1,01/06/17,11/06/17,101,Fetch: Add --recurse-submodules and --no-recurse-submodules options,"Fetch: Add --recurse-submodules and --no-recurse-submodules options

Add options to control recursion into submodules on fetch.

Add a callback interface on FetchCommand, to allow Fetch to display
an update ""Fetching submodule XYZ"" for each submodule.

Change-Id: Id805044b57289ee0f384b434aba1dbd2fd317e5b
Signed-off-by: David Pursehouse <david.pursehouse@gmail.com>",0,1,1,0,0,1,1,0,0
98474,I3870cadb4a0a6763feff252e6eaef99f4aa8d0df,https://git.eclipse.org/r/#/c/98474,2,41bd4a5132689697f196f074534ea1e630c9da54,b4846a1d31bc42fed37d99dfc58fba3f95a3a987,1,01/06/17,07/06/17,322,Run auto GC in the background,"Run auto GC in the background

When running an automatic GC on a FileRepository, when the caller
passes a NullProgressMonitor, run the GC in a background thread. Use a
thread pool of size 1 to limit the number of background threads spawned
for background gc in the same application. In the next minor release we
can make the thread pool configurable.

In some cases, the auto GC limit is lower than the true number of
unreachable loose objects, so auto GC will run after every (e.g) fetch
operation.  This leads to the appearance of poor fetch performance.
Since these GCs will never make progress (until either the objects
become referenced, or the two week timeout expires), blocking on them
simply reduces throughput.

In the event that an auto GC would make progress, it's still OK if it
runs in the background. The progress will still happen.

This matches the behavior of regular git.

If the user passes a ProgressMonitor that is not a NullProgressMonitor,
they might actually care about the progress of the GC, and would get
confused if that progress happened after the autoGC call returns, so we
run in the foreground in that case.

Git (and now jgit) uses the lock file for gc.log to prevent simultaneous
runs of background gc. Further, it writes errors to gc.log, and won't
run background gc if that file is present and recent. If gc.log is too
old (according to the config gc.logexpiry), it will be ignored.

Change-Id: I3870cadb4a0a6763feff252e6eaef99f4aa8d0df
Signed-off-by: David Turner <dturner@twosigma.com>
Signed-off-by: Matthias Sohn <matthias.sohn@sap.com>",0,0,1,0,0,0,1,0,0
98478,I2610e40ce37972c5f7456fdca6337e7fb07176e5,https://git.eclipse.org/r/#/c/98478,3,3a07b0289d11b93c592c191865cfa0bf110a7be0,299a8db75b7825e31f9adbe73d9b906ee3cc5923,1,02/06/17,07/06/17,14,ArchiveCommand: Create prefix entry with commit time,"ArchiveCommand: Create prefix entry with commit time

The cgit archive command creates a prefix (root) directory entry
in the archive file. That entry's time is set to the commit time.

This patch makes jgit's behavior consistent with with cgit:

prefix: hoge/     -> creates prefix directory ""hoge/"" entry.
prefix: hoge////  -> creates prefix directory ""hoge/"" entry.
prefix: hoge/foo  -> does not create prefix directory entry, but for
                     each file/directory entry, prefix is added.

Change-Id: I2610e40ce37972c5f7456fdca6337e7fb07176e5
Signed-off-by: Yasuhiro Takagi <ytakagi@bea.hi-ho.ne.jp>",0,0,1,0,0,1,1,1,1
98603,I620a189f3de005c403aa68b7d0442d6aa94e6056,https://git.eclipse.org/r/#/c/98603,1,509e685c1faf8848867f7da05b699722b9c241e6,c8c2cbc004a2f9995f1cdc28bcde3dbc5693a6cc,1,04/06/17,05/06/17,21,fetch: Accept any SHA-1 on lhs of refspec,"fetch: Accept any SHA-1 on lhs of refspec

Allow fetch to accept a SHA-1 on the left hand side of a RefSpec,
enabling callers to pass a specific SHA-1 they want that may not have
been advertised by the remote repository. This can be passed along to
the network protocol to be sent in a ""want"" line.

Rest of the plumbing only cares about the ObjectId of the Ref in
the askFor map, so make up a fake name using ObjectId.name() to
pass the desired ObjectId into the network code.

Change-Id: I620a189f3de005c403aa68b7d0442d6aa94e6056",0,0,0,0,0,0,0,0,0
98740,I3c8c4720dd19a5f64f8c7ddf07d815ed6877b6aa,https://git.eclipse.org/r/#/c/98740,4,c8c2cbc004a2f9995f1cdc28bcde3dbc5693a6cc,a8faf8893d786e192961a7ff5683ddf8d6a52883,1,07/06/17,09/06/17,127,Add option to delay check for objects,"Add option to delay check for objects

Change-Id: I3c8c4720dd19a5f64f8c7ddf07d815ed6877b6aa
Signed-off-by: Zhen Chen <czhen@google.com>",0,1,0,1,0,0,1,-2,0
98818,I5e25765f65d833f13cbe99696ef33055d7f5c4cf,https://git.eclipse.org/r/#/c/98818,1,a8159e553f6c42fb734787595757456ebcdc5066,6c23fd813605d42587fea239fe24f3934a896bf9,0,07/06/17,07/06/17,25,Merge branch 'stable-4.7' into stable-4.8,"Merge branch 'stable-4.7' into stable-4.8

* stable-4.7:
  Run auto GC in the background

Change-Id: I5e25765f65d833f13cbe99696ef33055d7f5c4cf
Signed-off-by: Matthias Sohn <matthias.sohn@sap.com>",1,0,0,0,0,0,1,NA,NA
98852,Id4df76da84fde253ce04484f3437816dc145b4f2,https://git.eclipse.org/r/#/c/98852,2,dd51941294e43ef99c86b195d544c358786bc49b,2cd607aa77214977351429a4ed9c26cb41f9fe28,0,07/06/17,08/06/17,227,Merge branch 'stable-4.7' into stable-4.8,"Merge branch 'stable-4.7' into stable-4.8

* stable-4.7:
  ArchiveCommand: Create prefix entry with commit time

Change-Id: Id4df76da84fde253ce04484f3437816dc145b4f2",0,0,0,0,0,1,1,NA,NA
98853,I28cd8fbe995d76c8a00e7db6ddf826e983d89043,https://git.eclipse.org/r/#/c/98853,1,4490ec5b49702a1a709f61382af81283005d3660,2bb6655454ed96261bf4756812e77e8dcc580e39,0,07/06/17,07/06/17,118,JGit v4.7.1.201706071930-r,"JGit v4.7.1.201706071930-r

Change-Id: I28cd8fbe995d76c8a00e7db6ddf826e983d89043
Signed-off-by: Matthias Sohn <matthias.sohn@sap.com>",0,0,0,1,0,0,1,NA,NA
98892,I7c127bd402cd84c68d8f33a32c6aad093a2264c8,https://git.eclipse.org/r/#/c/98892,1,2bb6655454ed96261bf4756812e77e8dcc580e39,f3b8e9a05b96507098e0aeda227dc4af3b8167c6,0,08/06/17,08/06/17,642,Prepare 4.7.2-SNAPSHOT builds,"Prepare 4.7.2-SNAPSHOT builds

Change-Id: I7c127bd402cd84c68d8f33a32c6aad093a2264c8
Signed-off-by: Matthias Sohn <matthias.sohn@sap.com>",1,0,0,1,1,0,1,NA,NA
98959,Icbbc642d37cc8261ed11d7e34548198ce2a003f4,https://git.eclipse.org/r/#/c/98959,1,12aa8f102501f05d8cf510e78763099904489bfb,12aa8f102501f05d8cf510e78763099904489bfb,0,08/06/17,08/06/17,685,Merge branch 'stable-4.7' into stable-4.8,"Merge branch 'stable-4.7' into stable-4.8

* stable-4.7:
  Prepare 4.7.2-SNAPSHOT builds

Change-Id: Icbbc642d37cc8261ed11d7e34548198ce2a003f4
Signed-off-by: Matthias Sohn <matthias.sohn@sap.com>",1,0,0,0,1,0,1,NA,NA
99061,I4ddaacd6d50601f47f61eb6be8b62c8d59cce062,https://git.eclipse.org/r/#/c/99061,1,590c8cf6d819abd05196ce2770de93f946acc6ad,5aca48dc74d60236c3b605b358f3c45cb1156164,0,09/06/17,09/06/17,4,SubmoduleUpdateCommand#setCallback should return 'this',"SubmoduleUpdateCommand#setCallback should return 'this'

The other methods in this class follow the builder pattern, and
return 'this', allowing multiple method calls to be chained in a
single statement.

Update the setCallback method to do the same.
Change-Id: I4ddaacd6d50601f47f61eb6be8b62c8d59cce062
Signed-off-by: Matthias Sohn <matthias.sohn@sap.com>",0,0,0,0,0,0,0,NA,NA
99063,Ibf90b4899d097474e7836e6baab8829e66fca524,https://git.eclipse.org/r/#/c/99063,1,3a34258db40ff18fa69fcca436aaf87e9baefa96,865b668d6f864bc9627d95d82f636bcd0daab298,0,10/06/17,10/06/17,0,Merge branch 'stable-4.8',"Merge branch 'stable-4.8'

* stable-4.8:
  SubmoduleUpdateCommand#setCallback should return 'this'
  CloneCommand#setCallback should return 'this'
  Prepare 4.7.2-SNAPSHOT builds
  JGit v4.7.1.201706071930-r
  ArchiveCommand: Create prefix entry with commit time
  Run auto GC in the background
  Update Orbit to the Oxygen version R20170516192513

Change-Id: Ibf90b4899d097474e7836e6baab8829e66fca524
Signed-off-by: David Pursehouse <david.pursehouse@gmail.com>",0,0,0,0,0,1,1,NA,NA
99067,Ic683bd412fa8c5632142aebba4a07fad4c64c637,https://git.eclipse.org/r/#/c/99067,4,865b668d6f864bc9627d95d82f636bcd0daab298,7eac3ef4aed609497f7c9f02b267cd5d919bb471,1,10/06/17,26/08/17,836,Let Jsch know about ~/.ssh/config,"Let Jsch know about ~/.ssh/config

Ensure the Jsch instance used knows about ~/.ssh/config. This
enables Jsch to honor more user configurations (see
com.jcraft.jsch.Session.applyConfig()), in particular also the
UserKnownHostsFile configuration, or additional identities given
via multiple IdentityFile entries.

Turn JGit's OpenSshConfig into a full parser that can be a
Jsch-compliant ConfigRepository. This avoids a few bugs
in Jsch's OpenSSHConfig and keeps the JGit-facing interface
unchanged. At the same time we can supply a JGit OpenSshConfig
instance as a ConfigRepository to Jsch. And since they'll both
work from the same object, we can also be sure that the parsing
behavior is identical.

The parser does not handle the ""Match"" and ""Include"" keys, and it
doesn't do %-token substitutions (yet).

Note that Jsch doesn't handle multi-valued UserKnownHostFile
entries as known by modern OpenSSH.[1]

[1] http://man.openbsd.org/OpenBSD-current/man5/ssh_config.5

Additional tests for new features are provided in OpenSshConfigTest.

Bug: 490939
Change-Id: Ic683bd412fa8c5632142aebba4a07fad4c64c637
Signed-off-by: Thomas Wolf <thomas.wolf@paranor.ch>",0,1,0,0,1,0,1,0,0
99068,If9d324090707de5d50c740b0d4455aefa8db46ee,https://git.eclipse.org/r/#/c/99068,4,8733be1f6436c57702ec053e7122e3e0b65e895c,c9811bd00b2ed4be350348ab644f4f0814af7a45,1,10/06/17,26/08/17,177,Do most %-token substitutions in OpenSshConfig,"Do most %-token substitutions in OpenSshConfig

Except for %p and %r and partially %C, we can do token substitutions
as defined by OpenSSH inside the config file parser. %p and %r can
be replaced only if specified in the config; if not, it would be the
caller's responsibility to replace them with values obtained from the
URI to connect to.

Jsch doesn't know about token substitutions at all. By doing the
replacements as good as we can in the config file parser, we can
make Jsch support most of these tokens.

%i is not handled at all as Java has no concept of a ""user ID"".

Includes unit tests.

Bug: 496170
Change-Id: If9d324090707de5d50c740b0d4455aefa8db46ee
Signed-off-by: Thomas Wolf <thomas.wolf@paranor.ch>",0,1,0,0,0,0,1,0,0
99070,I060d62ffd6692362a88b4bf13ee07b0dc857abe9,https://git.eclipse.org/r/#/c/99070,3,2753e399aaa888dc6733bf3ebd872a2fd9a2c446,97cf38b8f63896405986056909cfd619d8860702,1,10/06/17,11/06/17,35,Allow to use an external ExecutorService for background auto-gc,"Allow to use an external ExecutorService for background auto-gc

If set use the external executor, otherwise use JGit's own simple
WorkQueue.

Change-Id: I060d62ffd6692362a88b4bf13ee07b0dc857abe9
Signed-off-by: Matthias Sohn <matthias.sohn@sap.com>",0,0,0,0,0,0,0,0,0
99071,Ibb245fdca5470efa6340af019b452dd17b01e9c2,https://git.eclipse.org/r/#/c/99071,1,6e19af484ea64a6b1baa32795ba3bf3528a9c273,60cc9241c2c03495d4b863f4fb7a83e00eaa6cf2,0,11/06/17,11/06/17,4,Fix capitalization of command help summaries,"Fix capitalization of command help summaries

Change-Id: Ibb245fdca5470efa6340af019b452dd17b01e9c2
Signed-off-by: David Pursehouse <david.pursehouse@gmail.com>",0,0,0,1,0,1,1,NA,NA
99073,I0c2429ecfa04387389d159168ba78a020a696228,https://git.eclipse.org/r/#/c/99073,2,b03d825cdee834c040373cb2cf2655e57a5cf537,bf064e178ee07884d096d7e5432a8e2035c93ade,0,11/06/17,11/06/17,19,Use a dedicated executor to run auto-gc in command line interface,"Use a dedicated executor to run auto-gc in command line interface

WorkQueue uses daemon threads so auto-gc would not be executed after
short-lived commands run in command line. Hence use a dedicated executor
which we shutdown when the command finishes.

Change-Id: I0c2429ecfa04387389d159168ba78a020a696228
Signed-off-by: Matthias Sohn <matthias.sohn@sap.com>",0,0,0,0,0,0,0,NA,NA
99074,I7c85f11daa34c11c7f6389de885a2183a686197e,https://git.eclipse.org/r/#/c/99074,1,bfbaf77174eb7435a97c4d0010856b50c5715fd4,a5151bc6bec4c7b37cf66dfc9f3bdd5ad9bd4b37,0,11/06/17,11/06/17,6,Merge branch 'stable-4.8',"Merge branch 'stable-4.8'

* stable-4.8:
  Use a dedicated executor to run auto-gc in command line interface
  Allow to use an external ExecutorService for background auto-gc
  Fetch: Add --recurse-submodules and --no-recurse-submodules options
  Fix capitalization of command help summaries

Change-Id: I7c85f11daa34c11c7f6389de885a2183a686197e
Signed-off-by: David Pursehouse <david.pursehouse@gmail.com>",0,0,0,0,0,1,1,NA,NA
99076,Ie33623a2191ffffc2ca5756fd078a7003c0c660f,https://git.eclipse.org/r/#/c/99076,1,c777afb31b045db3f03dbf426967b2121ad8eaf5,b801c8e05a35367927f85b85b4494a59c08de88c,0,11/06/17,12/06/17,118,JGit v4.8.0.201706111038-r,"JGit v4.8.0.201706111038-r

Change-Id: Ie33623a2191ffffc2ca5756fd078a7003c0c660f
Signed-off-by: Matthias Sohn <matthias.sohn@sap.com>",0,0,0,1,0,0,1,NA,NA
99186,Idcc93c2ca95938995d489cffda649c7d7b26c50e,https://git.eclipse.org/r/#/c/99186,5,5f96213954f73886318ccd975d4e5d4532f1c5a1,f9436b81d4a2143f429d45e3329db9e376552790,1,13/06/17,15/06/17,91,Add tests for SubmoduleConfig,"Add tests for SubmoduleConfig

Change-Id: Idcc93c2ca95938995d489cffda649c7d7b26c50e
Signed-off-by: David Pursehouse <david.pursehouse@gmail.com>",0,1,0,1,0,1,1,0,0
99187,I32024b36093eb095539e02b1788d074bc5237d9f,https://git.eclipse.org/r/#/c/99187,3,5288fc4c47226fbd7c6c8822deaee14156cbc7d8,6d4866c04549b4cb8cec75ff115de4dfa01fbb10,0,13/06/17,15/06/17,639,Merge branch 'stable-4.8',"Merge branch 'stable-4.8'

* stable-4.8:
  JGit v4.8.0.201706111038-r

Change-Id: I32024b36093eb095539e02b1788d074bc5237d9f",0,0,0,0,1,1,1,NA,NA
99189,I7ca4186bbfe5ccc3fed4509a1fe4fc47bb2e8c50,https://git.eclipse.org/r/#/c/99189,1,c338655f09adeea4e36961680117171f7b6f27bd,b6158c0fad3fb39a2a5cf0c50e63f48826c3cab3,0,13/06/17,13/06/17,648,Prepare 4.8.1-SNAPSHOT builds,"Prepare 4.8.1-SNAPSHOT builds

Change-Id: I7ca4186bbfe5ccc3fed4509a1fe4fc47bb2e8c50
Signed-off-by: Matthias Sohn <matthias.sohn@sap.com>",1,0,0,1,1,0,1,NA,NA
99262,I70d12dbe347a3d7a3528687ee04e52a2052bfb93,https://git.eclipse.org/r/#/c/99262,7,d26690d52824cde2aa2d61ea70a6262c4755763c,9241b669b5113f332e52f243ffa92fae54e2b782,0,13/06/17,16/06/17,34,Allow to configure FastForwardMode for PullCommand,"Allow to configure FastForwardMode for PullCommand

Bug: 517847
Change-Id: I70d12dbe347a3d7a3528687ee04e52a2052bfb93
Signed-off-by: Matthias Sohn <matthias.sohn@sap.com>",0,1,1,0,0,0,1,NA,NA
99371,I56bcb6a9da2c10a0909c2f940c025db6f3acebcb,https://git.eclipse.org/r/#/c/99371,4,f660267d5bd197c5b72f5cec7fb541936055aa19,1742be8c36f5e8968fcc3bc6c246dd2790276266,1,14/06/17,14/06/17,63,Add a new singlePack option to PackConfig,"Add a new singlePack option to PackConfig

If set, ""singlePack"" will create a single GC pack file for all
objects reachable from refs/*. If not set, the GC pack will contain
object reachable from refs/heads/* and refs/tags/*, and the GC_REST
pack will contain all other reachable objects.

Change-Id: I56bcb6a9da2c10a0909c2f940c025db6f3acebcb
Signed-off-by: Terry Parker <tparker@google.com>",0,1,0,0,0,0,1,0,0
99431,Id077763b95195d21543ac637f9939a6d4179e982,https://git.eclipse.org/r/#/c/99431,1,9ee4304b02047cb643603b38fb066819c7b51f30,219963215eacb45bc55304c7f4578cafb03515da,1,15/06/17,15/06/17,10,Improve javadoc for MergeCommand.setFastForward(),"Improve javadoc for MergeCommand.setFastForward()

- mark parameter to be nullable
- explain that we fallback to value of merge.ff if set to null and to
--ff if also not configured there

Change-Id: Id077763b95195d21543ac637f9939a6d4179e982
Signed-off-by: Matthias Sohn <matthias.sohn@sap.com>",0,0,0,0,0,0,0,0,0
99435,I7aee800cdbf8243133a0d353ef79b97b67ce011e,https://git.eclipse.org/r/#/c/99435,1,219963215eacb45bc55304c7f4578cafb03515da,60a9d74b9bceb19a02df81d6312e2fa50a974936,1,16/06/17,16/06/17,15,Fetch/PullCommand: Improve Javadoc of setRecurseSubmodules,"Fetch/PullCommand: Improve Javadoc of setRecurseSubmodules

Annotate the `recurse` parameter as @Nullable and expand the
Javadoc to clarify the precedence of options.

Change-Id: I7aee800cdbf8243133a0d353ef79b97b67ce011e
Signed-off-by: David Pursehouse <david.pursehouse@gmail.com>",0,0,0,0,0,1,1,0,0
99442,I97ee5058569efa1545a6c6f6edfd2b357c40592a,https://git.eclipse.org/r/#/c/99442,10,60a9d74b9bceb19a02df81d6312e2fa50a974936,ede598798a13ff3679d475f745d2414855e0dbfe,1,16/06/17,23/08/17,450,Do authentication re-tries on POST when pushing,"Do authentication re-tries on POST when pushing

There is at least one git server out there (GOGS) that does
not require authentication on the initial GET for
info/refs?service=git-receive-pack but that _does_ require
authentication for the subsequent POST to actually do the push.

This occurs on GOGS with public repositories; for private
repositories it wants authentication up front.

Handle this behavior by adding 401 handling to our POST request.
Note that this is suboptimal; we'll re-send the push data at
least twice if an authentication failure on POST occurs. It
would be much better if the server required authentication
up-front in the GET request.

Also limit the number of times we'll follow redirects.

Tested successfully with a public repository at try.gogs.io.
That server offers only BASIC auth, so the other paths
(DIGEST, NEGOTIATE) are untested and I have no way to test
them.

Bug: 513043
Change-Id: I97ee5058569efa1545a6c6f6edfd2b357c40592a
Signed-off-by: Thomas Wolf <thomas.wolf@paranor.ch>",0,1,0,0,0,0,1,4,1
99509,Ib4cf34ce58128eed0334adf6c4a052dbea62c601,https://git.eclipse.org/r/#/c/99509,3,62fd4416f11351e74b2732cf0bd0286c83b0fcab,fc2b64764678e4dc0211fb2ff70fa8b8fb1543de,1,16/06/17,19/06/17,83,Support --match functionality in DescribeCommand,"Support --match functionality in DescribeCommand

A `match()` method has been added to the DescribeCommand, allowing
users to specify a `glob(7)` matcher as per Git convention.

Bug: 518377
Change-Id: Ib4cf34ce58128eed0334adf6c4a052dbea62c601
Signed-off-by: Oliver Lockwood <oliver.lockwood@cantab.net>",0,0,1,0,0,0,1,0,0
99686,I3b6b58ad9f8aa3879ae35b84542b7bddc74a27d6,https://git.eclipse.org/r/#/c/99686,5,7f3f4cdd4a723270252e7a99156d7764223323f8,9d54716d991415739b67b8075455c6e041af00e2,1,20/06/17,22/06/17,84,Expose --match functionality via CLI for `jgit describe`,"Expose --match functionality via CLI for `jgit describe`

This exposes to the CLI the functionality for glob(7) matchers on git tags
that was added to the APIs in the previous commit.

Bug: 518377
Change-Id: I3b6b58ad9f8aa3879ae35b84542b7bddc74a27d6
Signed-off-by: Oliver Lockwood <oliver.lockwood@cantab.net>",0,1,0,0,0,0,1,0,0
99706,I646ca33ab2b843de84edc287abfb65803a56a927,https://git.eclipse.org/r/#/c/99706,3,d22314181424915acf5db96ccc2c7b60b925ee7b,f65ab8929e453d92ed33d5d880a70dd047260eaa,1,21/06/17,07/07/17,38,Make possible to overwrite the object count,"Make possible to overwrite the object count

Right now, PackParser relies on the object count from the pack header,
however, in Dfs INSERT/RECEIVE packs, the object count is usually not
correct.

Make it possible to tell PackParser the expected object count by adding
a setter for expectedObjectCount, implementation can overwrite the
object count in onPackHeader function.

Change-Id: I646ca33ab2b843de84edc287abfb65803a56a927
Signed-off-by: Zhen Chen <czhen@google.com>",0,0,0,0,0,0,0,0,0
99707,Ifd8e0d28eb68ff0b8edd2b51b2fa3a50a544c855,https://git.eclipse.org/r/#/c/99707,13,3e94db96d94908d3dd2382799fae40ebde9fb39a,f17a4c4e4ef679606ad478b1ce188faaa99a9bab,1,21/06/17,26/07/17,1055,JGit fsck implementation,"JGit fsck implementation

 JGit already had some fsck-like classes like ObjectChecker which can
 check for an individual object as well as ObjectWalk which can check
 the connectivity of the object.

The JGit fsck utilizes these two classes through a read-only
FsckPackParser which will parse all objects within a pack file. It will
also check the pack index file against the object information from the
pack parser.

Change-Id: Ifd8e0d28eb68ff0b8edd2b51b2fa3a50a544c855
Signed-off-by: Zhen Chen <czhen@google.com>",0,1,0,0,1,0,1,2,1
99735,I6dacbf1768a105190c2a8c5272e7880c1c9c943a,https://git.eclipse.org/r/#/c/99735,2,75ca48a6432f2f0a3c3b7e8d0907a442a1031c27,2e6f1ab3747dead7eb513cd348a423702d52efe7,1,21/06/17,14/08/17,36,Fix handling of pushInsteadOf,"Fix handling of pushInsteadOf

According to [1], pushInsteadOf is

1. applied to the uris, not to the pushUris
2. ignored if a remote has an explicit pushUri

JGit applied it only to the pushUris. As a result, pushInsteadOf was
ignored for remotes having only a uri, but no pushUri.

This commit implements (1) if there are no pushUris. I did not dare
implement (2) because:

* there are explicit tests for it that expect that pushInsteadOf gets
  applied to existing pushUrls, and
* people may actually use and rely on this JGit behavior.

[1] https://git-scm.com/docs/git-config

Bug: 393170
Change-Id: I6dacbf1768a105190c2a8c5272e7880c1c9c943a
Signed-off-by: Thomas Wolf <thomas.wolf@paranor.ch>",0,0,0,0,0,0,0,0,0
99772,I745988d565dd4391e8b3e5a91bbfbae575333819,https://git.eclipse.org/r/#/c/99772,2,d5f56e72681abea3e344df26ae762bc126a0aa6d,9774b04e30421fc86ed10a9bca4c819f19360d35,1,21/06/17,22/06/17,62,Add --match option for `jgit describe` to CLI,"Add --match option for `jgit describe` to CLI

This adds --match option for glob(7) matchers on git tags to jgit
describe in CLI.

Bug: 518377
Change-Id: I745988d565dd4391e8b3e5a91bbfbae575333819
Signed-off-by: Oliver Lockwood <oliver.lockwood@cantab.net>",0,0,0,0,0,0,0,0,0
99780,I3f41ff7a76a846250a63ce92a9fd111eb347269f,https://git.eclipse.org/r/#/c/99780,5,b8d09dd44b31e35fc4f99024f4db4cefc40978cf,d141dd210dafac863bc2b4805cfbaa1166149edc,1,21/06/17,22/06/17,25,fix parsing of fsck.* configs,"fix parsing of fsck.* configs

Change-Id: I3f41ff7a76a846250a63ce92a9fd111eb347269f
Signed-off-by: David Turner <dturner@twosigma.com>",0,1,0,1,0,0,1,0,0
99874,Ib5fbf17bdaf727bc5d0e106ce88f2620d9f87a6f,https://git.eclipse.org/r/#/c/99874,3,2dd8fe051a57bfe0dc99aaa0f450dce2e9a31190,33fad9ac59ad82e5b770891d17327f9bd2635689,1,22/06/17,03/07/17,661,Support -merge attribute in binary macro,"Support -merge attribute in binary macro

The merger is now able to react to the use of the merge attribute.
The value unset and the custom value 'binary' are handled (-merge
and merge=binary)

Since the specification of the merge attribute states that when the
attribute is unset, ours version must be kept in case of a conflict, we
don't overwrite the file but keep the local version.

Bug: 517128
Change-Id: Ib5fbf17bdaf727bc5d0e106ce88f2620d9f87a6f
Signed-off-by: Mathieu Cartaud <mathieu.cartaud@obeo.fr>",0,0,0,0,1,0,1,0,0
100169,I3300d936b9299be6d9eb642992df7c04bb439cde,https://git.eclipse.org/r/#/c/100169,1,4d71afdcc6837731dfc08dbd3029f606ab4054c5,bdbdfa4b5a6f5075cf6b288f1336a029288f657c,1,27/06/17,27/06/17,65,Use read ahead during copyPackThroughCache,"Use read ahead during copyPackThroughCache

If a block is missing from the block cache, open the pack stream,
retain the ReadableChannel, and turn on read-ahead.  This should help
to load a medium sized pack into a cold cache more quickly from a
slower IO stream, as the pack is scanned sequentially and missing
blocks are more likely to be available through the read-ahead.

Change-Id: I3300d936b9299be6d9eb642992df7c04bb439cde",0,0,0,0,0,0,0,0,0
100307,I8ae37c7c5bd2408cead8d57dd13e93e01e0e9dc1,https://git.eclipse.org/r/#/c/100307,5,bdbdfa4b5a6f5075cf6b288f1336a029288f657c,21a5c362d9b716922bd2310755396056c2c6fadf,0,28/06/17,20/09/17,29,Fetch submodule repo before resolving commits,"Fetch submodule repo before resolving commits

This is needed to prevent Eclipse from crashing with ""Missing unknown
[REF]"" when cloning a repo with submodules.

Change-Id: I8ae37c7c5bd2408cead8d57dd13e93e01e0e9dc1
Signed-off-by: Michael FIG <michael@fig.org>",0,1,1,0,0,0,1,NA,NA
100550,Iacbf496a43f01312e7d9052f29c3f9c33807c85d,https://git.eclipse.org/r/#/c/100550,8,ea8c255cbc94c6514e41176e4f61baa720a7aec5,a0e74e19d6457169012c56d95a676fc40cd9e19f,1,03/07/17,24/07/17,51,Fix matching ignores and attributes pattern of form a/b/**.,"Fix matching ignores and attributes pattern of form a/b/**.

In Git patterns of form a/b/** do not match path a/b while
in JGit they do by intention. The matched code was corrected
not to match such paths.

Change-Id: Iacbf496a43f01312e7d9052f29c3f9c33807c85d
Signed-off-by: Dmitry Pavlenko <pavlenko@tmatesoft.com>",0,1,1,0,0,0,1,0,0
100575,Ib52d374e47724ccb837f4fbab1fc85c486c5b408,https://git.eclipse.org/r/#/c/100575,2,d5cee50190a0fe3f906a1c024576aadcf47b016f,d1572d9b16f36f42b2b7d275593c39fecb5675b3,1,04/07/17,18/07/17,75,Rename DfsPackKey to DfsStreamKey,"Rename DfsPackKey to DfsStreamKey

This renaming supports reusing DfsStreamKey in a future commit
to index other PackExt type streams inside of the DfsBlockCache.

Change-Id: Ib52d374e47724ccb837f4fbab1fc85c486c5b408",0,0,1,0,0,0,1,0,0
100576,Ie048036c74a1d1bbf5ea7e888452dc0c1adf992f,https://git.eclipse.org/r/#/c/100576,2,b9a297cd379545a98bf5066a0578b7f0f3624b86,6925df4bae5f51a98199f1982db0fe756e5d1798,1,04/07/17,18/07/17,26,Use separate DfsStreamKey for PackIndex,"Use separate DfsStreamKey for PackIndex

Instead of overloading the pack's DfsStreamKey with negative positions
for the idx, reverse idx and bitmap, assign a unique DfsStreamKey for
each of these related streams.

Change-Id: Ie048036c74a1d1bbf5ea7e888452dc0c1adf992f",0,0,1,0,0,0,1,0,0
100577,I307228fc805c3ff0c596783beb24fd52bec35ba8,https://git.eclipse.org/r/#/c/100577,2,3da733547c35161a361ff659b0e8e817278488a9,94c5b91d253c3efbda50c9e656f656cde1ae19a8,1,04/07/17,18/07/17,408,Extract BlockBasedFile base class for DfsPackFile,"Extract BlockBasedFile base class for DfsPackFile

This new base class has the minimum set of properties and methods
necessary for DfsBlockCache to manage blocks of a file in the cache.
Subclasses can use DfsBlockCache for any content.

This refactoring opens the door for additional PackExt types other
than PACK to be stored on a block-by-block basis by the DfsBlockCache.

Change-Id: I307228fc805c3ff0c596783beb24fd52bec35ba8",0,0,1,0,0,0,1,0,0
100641,If9bf664d7cd824f8e5bd6765fa6cc739af3d7721,https://git.eclipse.org/r/#/c/100641,3,d7c2dd2431700301a91ffe050b8fa270cddbe48d,7edf4f750668815764407788755ee0d2cd35b98c,1,04/07/17,28/07/17,7,Fix committing empty commits,"Fix committing empty commits

Allow to explicitly create an empty commit even if committing only
certain files.

Bug: 510685 
Change-Id: If9bf664d7cd824f8e5bd6765fa6cc739af3d7721",0,0,1,0,0,0,1,0,0
100672,Iead36f53d57ead0eb3edd3f9efb63b6630c9c20c,https://git.eclipse.org/r/#/c/100672,3,396430347c07ccc9862b482cf28cff2ae333bc3b,e4f4ce44f5bbeeb13f7a49ff6ee94b09f678182f,1,05/07/17,25/07/17,90,Add missing newlines at ends of Java files,"Add missing newlines at ends of Java files

Change-Id: Iead36f53d57ead0eb3edd3f9efb63b6630c9c20c
Signed-off-by: David Pursehouse <david.pursehouse@gmail.com>",0,0,1,1,0,1,1,0,0
100765,I25cc7feef0c8e312820d85b7ed48559da49b83d2,https://git.eclipse.org/r/#/c/100765,1,7c527d542a429c190b1cf97eefcc7f915508671f,8857615ed96e7fe6f6a013e2349089be2a954dff,1,05/07/17,07/07/17,25,BatchRefUpdate: Clarify some ref prefix calls,"BatchRefUpdate: Clarify some ref prefix calls

Inline the old addRefToPrefixes, since it was just a glorified addAll.
Split getPrefixes into a variant, addPrefixesTo, that doesn't allocate a
small Collection on every invocation. Use this in the tight loop of
getTakenPrefixes.

Change-Id: I25cc7feef0c8e312820d85b7ed48559da49b83d2",0,0,0,0,0,0,0,0,0
100766,Id691905599b242e48f590138a96e0c86132308fd,https://git.eclipse.org/r/#/c/100766,1,8857615ed96e7fe6f6a013e2349089be2a954dff,09609f899379d51613993ef56aa55b5b413f3d8b,0,05/07/17,07/07/17,28,Short-circuit writing packed-refs if no refs were packed,"Short-circuit writing packed-refs if no refs were packed

Change-Id: Id691905599b242e48f590138a96e0c86132308fd",0,0,0,1,0,0,1,NA,NA
100767,Ife236f9f4ce469c57b18e76cf4fad6feb52cb2b0,https://git.eclipse.org/r/#/c/100767,1,09609f899379d51613993ef56aa55b5b413f3d8b,d66357973669a0fd2b5fabb7eef67eccacba45f7,1,05/07/17,07/07/17,5,RefList: Support capacity <= 0 on new builders,"RefList: Support capacity <= 0 on new builders

Callers may estimate the size, and their estimate may be zero. Silently
allow this, rather than throwing IndexOutOfBoundsException later during
add.

Change-Id: Ife236f9f4ce469c57b18e76cf4fad6feb52cb2b0",0,0,0,0,0,0,0,0,0
100768,I4cccda0ec3a8598edb723dc49101a16d603d1e82,https://git.eclipse.org/r/#/c/100768,4,d66357973669a0fd2b5fabb7eef67eccacba45f7,6ab94114aac4a7d3c97327af195fd831b0e647ab,1,05/07/17,24/07/17,5,BatchRefUpdate: Document when getPushOptions is null,"BatchRefUpdate: Document when getPushOptions is null

Change-Id: I4cccda0ec3a8598edb723dc49101a16d603d1e82",0,1,1,1,0,0,1,0,0
100769,Ie2d0bfed8a2d89e807a41925d548f0f0ce243ecf,https://git.eclipse.org/r/#/c/100769,6,f3014b9d8ab5c189fbccadae7280e5569be5a0d9,6623bd43eb32105868047647b8aa13a19adc5923,1,05/07/17,24/07/17,90,ReceiveCommand: Explicitly check constructor preconditions,"ReceiveCommand: Explicitly check constructor preconditions

Some downstream code checks whether a ReceiveCommand is a create or an
update based on the type field. Other downstream code (in particular a
good chunk of Gerrit code I write) checks the same thing by comparing
oldId/newId to zeroId. Unfortunately, there were no strict checks in the
constructor that ensures that zeroId is only set for oldId/newId if the
type argument corresponds, so a caller that passed mismatched IDs and
types would observe completely undefined behavior as a result. This is
and always has been a misuse of the API; throw IllegalArgumentException
so the caller knows that it is a misuse.

Similarly, throw from the constructor if oldId/newId are null. The
non-nullness requirement was already documented. Fix RefDirectoryTest to
not do the wrong thing.

Change-Id: Ie2d0bfed8a2d89e807a41925d548f0f0ce243ecf",0,1,1,0,0,0,1,1,1
100770,I5ff4dc39ee05bda88d47909acb70118f3d0c8f74,https://git.eclipse.org/r/#/c/100770,7,2e6f584ef1c460774302ed64b5c0e5e16ab9cab3,4130c81f148668a4d922f1a3f2be98f006a203f0,1,05/07/17,24/07/17,48,RefDirectory: Throw exception if committing packed-refs fails,"RefDirectory: Throw exception if committing packed-refs fails

This should never happen, because this segment of the code is protected
by the packed-refs lock file on disk. But if it does happen, it's better
to let the caller know than to silently drop the whole commit operation
on the floor.

The existing concurrentOnlyOneWritesPackedRefs test is nondeterministic
as written. Fixing it is beyond the scope of this change, but I did
verify that it passes consistently with:

  bazel test --runs_per_test=200 //org.eclipse.jgit.test:org_eclipse_jgit_internal_storage_file_GcPackRefsTest

Change-Id: I5ff4dc39ee05bda88d47909acb70118f3d0c8f74",0,1,1,0,0,0,1,0,0
100771,I09829544a0d4e8dbb141d28c748c3b96ef66fee1,https://git.eclipse.org/r/#/c/100771,9,95577d5da5dfc64316826ed7393500640edcff1d,f9e6cce96cfee7afc279bb30738f09c8831d7ab7,1,05/07/17,26/07/17,856,Implement atomic BatchRefUpdates for RefDirectory,"Implement atomic BatchRefUpdates for RefDirectory

The existing packed-refs file provides a mechanism for implementing
atomic multi-ref updates without any changes to the on-disk format or
lockfile protocol. We just need to make sure that there are no loose
refs involved in the transaction, which we can achieve by packing the
refs while holding locks on all loose refs. Full details of the
algorithm are in the PackedBatchRefUpdate javadoc.

Change-Id: I09829544a0d4e8dbb141d28c748c3b96ef66fee1",0,1,1,0,1,1,1,8,1
100916,I7a100aee315791fa1201f43bbad61fbae60b35cb,https://git.eclipse.org/r/#/c/100916,8,35e257e60cbff31719d8040614a4c3a5b03b9895,be078e1bc34f35537f5be76b328cc5e6c5118fe7,1,07/07/17,15/08/17,1629,Send a detailed event on working tree modifications,"Send a detailed event on working tree modifications

Currently there is no way to determine the precise changes done
to the working tree by a JGit command. Only the CheckoutCommand
actually provides access to the lists of modified, deleted, and
to-be-deleted files, but those lists may be inaccurate (since they
are determined up-front before the working tree is modified) if
the actual checkout then fails halfway through. Moreover, other
JGit commands that modify the working tree do not offer any way to
figure out which files were changed.

This poses problems for EGit, which may need to refresh parts of the
Eclipse workspace when JGit has done java.io file operations.

Provide the foundations for better file change tracking: the working
tree is modified exclusively in DirCacheCheckout. Make it emit a new
type of RepositoryEvent that lists all files that were modified or
deleted, even if the checkout failed halfway though.

EGit thus can register a listener for these events and then knows
exactly which parts of the Eclipse workspace may need to be refreshed.

Two commands manage checking out individual DirCacheEntries themselves:
checkout specific paths, and applying a stash with untracked files.
Make those two also emit such a new WorkingTreeModifiedEvent.

Bug: 500106
Change-Id: I7a100aee315791fa1201f43bbad61fbae60b35cb
Signed-off-by: Thomas Wolf <thomas.wolf@paranor.ch>",0,1,0,0,1,0,1,1,1
100925,I348b37e93e0264dc0905c4d58ce881852d1dfe5e,https://git.eclipse.org/r/#/c/100925,5,22dfd6ef3e5c53770cf9dfcf2bbd36f51e244176,a02f95a5d57a28b7c1a4ce0875252b418ee25c7d,1,07/07/17,24/07/17,88,Add tests for updating single refs to missing objects,"Add tests for updating single refs to missing objects

The reader may find it surprising that this succeeds without incident
unless there is peeling or a fast-forward check involved. This behavior
may be changed in the future, but for now, just document the current
behavior.

Change-Id: I348b37e93e0264dc0905c4d58ce881852d1dfe5e",0,1,1,0,0,0,1,0,0
100931,Ib96d2a35b4f99eba0734725486085fc6f9d78aa5,https://git.eclipse.org/r/#/c/100931,4,abea62223475d5c23dea57cb0881a890bd100f7d,e2a418279a1f5f99f6393b3f929ce5b2ec26f33f,1,07/07/17,24/07/17,82,Fix deleting symrefs,"Fix deleting symrefs

The RefDirectory implementation of doDelete never considered whether to
delete a symref or its leaf, because the detachingSymbolicRef bit was
never exposed from RefUpdate. The behavior was thus incorrectly to
always delete the symref, never the leaf.

There was no test for this behavior. The only thing that attempted to be
a test was testDeleteHeadInBareRepo, but this test was broken for
reasons unrelated to this bug. Specifically, it set the leaf to point to
a completely nonexistent object, and then asserted that deleting HEAD
resulted in NO_CHANGE. The only reason this test ever passed is because
of a quirk of updateImpl, which treats a missing object as the same as
null. This quirk aside, the test wasn't really testing the right thing.
Turn this into a real test by writing out a real object and pointing the
leaf at that.

Also, add a test for the detachingSymbolicRef case, i.e. deleting the
symref and leaving the leaf alone.

Change-Id: Ib96d2a35b4f99eba0734725486085fc6f9d78aa5",0,1,1,0,0,0,1,0,0
100932,I734b1c32d5404752447d9e20329471436ffe05fc,https://git.eclipse.org/r/#/c/100932,6,c5f55052f4ceacf6a87d147cee32fa46172d5d5a,147828ad7b7eb87ace32587fea95ab43f8a2e324,1,07/07/17,26/07/17,285,Fail RefUpdate with REJECTED when object is missing,"Fail RefUpdate with REJECTED when object is missing

The comment in safeParse about expecting some old objects to be missing
is only applicable to the old ID, not the new ID. A missing new ID is a
bug or programmer error, and we should not update a ref to point to one.

Change-Id: I734b1c32d5404752447d9e20329471436ffe05fc",0,1,1,0,0,1,1,2,1
100940,Ia2c42d014323bd29b85bf76f1a20c83f612406d7,https://git.eclipse.org/r/#/c/100940,6,d802d25c0c3af2ba9aaa0b2b354d280c69839062,d1bb5065e1a685cbc876623ba9a05ab6ffd2b215,0,07/07/17,25/07/17,3,Temporarily @Ignore flaky CommitCommandTest method,"Temporarily @Ignore flaky CommitCommandTest method

Change-Id: Ia2c42d014323bd29b85bf76f1a20c83f612406d7",0,1,1,1,0,0,1,NA,NA
100951,I58fa956aea37c696dbc35ecd229d8971d532923f,https://git.eclipse.org/r/#/c/100951,1,fc80029dd8c3fdc5fec7ba84a5c7403bcf9f0443,810dc1dcd08b37fe17271e717835b2bf92a77394,1,07/07/17,07/07/17,1,Add missing @since 4.9 for new API PackParser.setExpectedObjectCount(),"Add missing @since 4.9 for new API PackParser.setExpectedObjectCount()

Change-Id: I58fa956aea37c696dbc35ecd229d8971d532923f
Signed-off-by: Matthias Sohn <matthias.sohn@sap.com>",0,0,0,1,0,0,1,0,0
101147,I3d520c3515c580144490b0b45433ea175a3e6e11,https://git.eclipse.org/r/#/c/101147,24,810dc1dcd08b37fe17271e717835b2bf92a77394,2bdab55c83077cf239c5e98f6e756d10ad106e51,1,13/07/17,18/08/17,2010,reftable: binary reference storage format,"reftable: binary reference storage format

Some repositories contain a lot of references (e.g. android at 866k,
rails at 31k). The reftable format provides:

  - Near constant time lookup for any single reference, even when the
    repository is cold and not in process or kernel cache.
  - Occupy less disk space for large repositories.
  - Support atomic pushes with lower copying penalities.

This is a simple writer to create reftable formatted files, and file
format documentation. Follow-up commits will add support for reading
from reftable, debugging utilities, and tests.

Change-Id: I3d520c3515c580144490b0b45433ea175a3e6e11",0,1,0,0,1,0,1,5,1
101148,Ib0dc5fa937d0c735f2a9ff4439d55c457fea7aa8,https://git.eclipse.org/r/#/c/101148,24,dfabe00b429ffa887cfa104e90bfcff216c9223f,d16aa92b38ce806cf7a172a715d6dc50fa57e449,1,13/07/17,18/08/17,1878,reftable: scan and lookup support for reftable files,"reftable: scan and lookup support for reftable files

ReftableReader provides sequential scanning support over all
references, a range of references within a subtree (such as
""refs/heads/""), and lookup of a single reference.  Reads can be
accelerated by an index block, if it was created by the writer.

The BlockSource interface provides an abstraction to read from the
reftable's backing storage, supporting a future commit to connect
to JGit DFS and the DfsBlockCache.

Change-Id: Ib0dc5fa937d0c735f2a9ff4439d55c457fea7aa8",0,1,0,0,1,0,1,3,1
101149,I79db351d86900f1e58b17e922e195dff06ee71f1,https://git.eclipse.org/r/#/c/101149,24,c82fe2360c9cd2b180bf1cd2ea91fd0f60507ab0,f183b764eaa0087c4b2b3532fa81fee7cd3b6a67,1,13/07/17,18/08/17,935,reftable: debug tools,"reftable: debug tools

Simple debug programs to experiment with the reftable file format:

  debug-read-reftable
  debug-write-reftable
  debug-benchmark-reftable

Change-Id: I79db351d86900f1e58b17e922e195dff06ee71f1",0,1,0,0,1,0,1,2,1
101150,I3bdff35cae8ae27283051932f20608b3ac353559,https://git.eclipse.org/r/#/c/101150,24,8a7f5ae767f0b6a3cc243d8ece9ecea687dd178f,22dca0a0bb5262eede4f9266711ed7af8436ce9f,1,13/07/17,18/08/17,359,reftable: basic functionality unit tests,"reftable: basic functionality unit tests

This set of tests covers primitive storage of an empty
file, and each type of supported reference.

Change-Id: I3bdff35cae8ae27283051932f20608b3ac353559",0,1,0,0,0,0,1,0,0
101151,Icada59fdcfc92a4634f6df61baaebb1c37b75d98,https://git.eclipse.org/r/#/c/101151,24,82d672588e72beae769d970f074f525c909b5f17,40a7da55b834441c2561fcdd22b390acc7d74005,1,13/07/17,18/08/17,82,reftable: bulk operation unit tests,"reftable: bulk operation unit tests

Add more test cases that cover larger collections of
references, verifying every reference is accessible
both by scan and by seek.

Change-Id: Icada59fdcfc92a4634f6df61baaebb1c37b75d98",0,1,0,0,0,0,1,0,0
101152,I5f944de7518cd0090374bddba48d4dd3955a8d72,https://git.eclipse.org/r/#/c/101152,24,8b516d42eb86eb3408cf489e435c576c105c7db4,ad64ac73b9c0011e9646ef07d904ecc612d18477,1,13/07/17,18/08/17,36,reftable: namespace unit tests,"reftable: namespace unit tests

Add additional test cases for looking up entries within a namespace
such as refs/heads/ or refs/tags/, where the seek is passed a name
that ends with '/'.

Change-Id: I5f944de7518cd0090374bddba48d4dd3955a8d72",0,1,0,0,0,0,1,0,0
101222,Ic2cb750141e8c61a8b2726b2eb95195acb6ddc83,https://git.eclipse.org/r/#/c/101222,27,d7973abb797494c7527ae053544fa0aad1a9cead,1011852f862203036845e8e86337a42dc22c751c,1,13/07/17,18/08/17,699,reftable: merge-join reftables,"reftable: merge-join reftables

MergedReftable combines multiple reference tables together in a stack,
allowing higher/later tables to shadow earlier/lower tables.  This
forms the basis of a transaction system, where each transaction writes
a new reftable containing only the modified references, and readers
perform a merge on the fly to get the latest value.

Change-Id: Ic2cb750141e8c61a8b2726b2eb95195acb6ddc83",0,1,0,0,1,0,1,0,0
101223,I6f5677d923e9628993a2d8b4b007a9b8662c9045,https://git.eclipse.org/r/#/c/101223,27,e811e475c755e020f7b9556fa3ad4a9687a164c9,f37e2b6bf0445ac35af830a99f273fd0704f7225,1,13/07/17,18/08/17,250,reftable: compact merged tables,"reftable: compact merged tables

A compaction of reftables is just copying the results of a
MergedReftable into a ReftableWriter.  Wrap this up into a utility.

Change-Id: I6f5677d923e9628993a2d8b4b007a9b8662c9045",0,1,0,0,0,0,1,0,0
101224,If037f2cbdc174ff1a215d5917178b33cde4ddaba,https://git.eclipse.org/r/#/c/101224,27,365ad83ae4cd2b414de74d78bb6615783292e197,da438153a96f6ff98554083184baa25a60360c71,1,13/07/17,18/08/17,52,reftable: support threshold based compaction,"reftable: support threshold based compaction

Transactions may wish to merge several tables together as part of an
operation.  Setting a byte limit allows the transaction to consider
only some recent tables, bounding the cost of the compaction.

Change-Id: If037f2cbdc174ff1a215d5917178b33cde4ddaba",0,1,0,0,0,0,1,0,0
101299,Ifcd7392c4321b17d9290bd87f038bc62bc10dabb,https://git.eclipse.org/r/#/c/101299,8,324ad7742ab30806576d02990cfa3f4b460cadad,e91cd5cf029b6d609ca31479b2729ccb5f6bf008,1,14/07/17,26/07/17,58,Add connectivity check from references,"Add connectivity check from references

Make sure all objects referenced by references are reachable. Stop at
the first missing object.

Change-Id: Ifcd7392c4321b17d9290bd87f038bc62bc10dabb
Signed-off-by: Zhen Chen <czhen@google.com>",0,1,1,0,0,0,1,0,0
101312,I127f2c54b04265b6565e780116617ffa8a4d7eaf,https://git.eclipse.org/r/#/c/101312,3,5955e91c5d3fe7ad971efe6358ca716c07862fc3,13ea68000549feeb56975f3d5f05e44a954d5cf3,0,16/07/17,28/07/17,22,Replace findbugs by spotbugs,"Replace findbugs by spotbugs

SpotBugs [1] is the spiritual successor of FindBugs, carrying on from
the point where it left off with support of its community.

[1] http://spotbugs.readthedocs.io/

Change-Id: I127f2c54b04265b6565e780116617ffa8a4d7eaf
Signed-off-by: Matthias Sohn <matthias.sohn@sap.com>",0,0,1,0,0,0,1,NA,NA
101313,If719a63ead54ecbcaf7cbe12c71f00435706bc2b,https://git.eclipse.org/r/#/c/101313,22,4ecaf45945039ee5acd9fbd26c583e85393e0329,66f6653163d86879ebc6001289175ca8414c4385,1,17/07/17,18/08/17,151,reftable: reflog unit tests,"reftable: reflog unit tests

Change-Id: If719a63ead54ecbcaf7cbe12c71f00435706bc2b",0,1,0,1,0,0,1,0,0
101358,I78a8214075e204732a423341f14c09de273a7854,https://git.eclipse.org/r/#/c/101358,5,1c007f1d12345c7e99a882058abc467d4d632303,5b3bcc9409b93aac3d26c3d26c850de41569c7c2,1,17/07/17,26/07/17,973,Move BatchRefUpdate tests to a new file,"Move BatchRefUpdate tests to a new file

Run with @Parameterized, so we don't have to duplicate test setup for
each atomic/non-atomic test. We still have to have two different sets of
asserts for the cases where the behavior is different. In fact, this is
a readability win: it emphasizes that performing the exact same setup
except for the atomic setting will have different behavior.

Change-Id: I78a8214075e204732a423341f14c09de273a7854",0,1,1,0,1,1,1,-1,0
101359,Ic3717f94331abfc7ae3e92065f3fe32026bf7cea,https://git.eclipse.org/r/#/c/101359,5,990ae63e51f5d099a4bb7a6ba2a3435d42a3319b,ce5fcd678d02edc25c858dd7b91ee14a034871b6,1,17/07/17,26/07/17,421,Improve BatchRefUpdateTest readability,"Improve BatchRefUpdateTest readability

* Factor out helpers for setting up and executing updates.
* Use common assert methods, with a special enum type that papers over
  the fact that there is no ReceiveCommand.Result for transaction
  aborted.
* Static import ReceiveCommand.Type constants.
* Add blank lines to separate repo setup, update execution, and asserts.

Change-Id: Ic3717f94331abfc7ae3e92065f3fe32026bf7cea",0,1,1,0,0,1,1,0,0
101365,Ife781bb64d0bb063333183ad2be70a41a2482513,https://git.eclipse.org/r/#/c/101365,26,1dbd22f0f1a72dab151a75150402a1d2c085e9a1,5feb656a4eeaad1d67812ae8a1dac7653d28030d,0,17/07/17,18/08/17,3,Reserve standard PackExt for reftable,"Reserve standard PackExt for reftable

Change-Id: Ife781bb64d0bb063333183ad2be70a41a2482513",0,1,0,1,0,0,1,NA,NA
101366,Icaa4f40052b26f952681414653a8b5314b7c2c23,https://git.eclipse.org/r/#/c/101366,17,516188d1ad1a46862e83ed758c498459ddb34895,0522c8506f146913714144daa91db83ddc3044f8,1,17/07/17,31/08/17,216,dfs reftable: DfsReftable reads through DfsBlockCache,"dfs reftable: DfsReftable reads through DfsBlockCache

Change-Id: Icaa4f40052b26f952681414653a8b5314b7c2c23",0,1,0,1,0,0,1,0,0
101373,I051e7b96f5454c6b0a0e652d8f4a69c0bed7f6f4,https://git.eclipse.org/r/#/c/101373,5,0ce9b3870fe1b7f17d4d13d0d05a8dde6f6e45a5,43942ee823070cf26d7f6e509b6d1f5f14895cce,1,17/07/17,18/07/17,251,Derive DfsStreamKey from DfsPackDescription,"Derive DfsStreamKey from DfsPackDescription

By making this a deterministic function, DfsBlockCache can stop
retaining a map of every DfsPackDescription it is ever seen.  This
fixes a long standing memory leak in DfsBlockCache.  It also
simplifies the idea of setting up more lightweight objects around
streams.

Change-Id: I051e7b96f5454c6b0a0e652d8f4a69c0bed7f6f4",0,1,0,0,0,0,1,0,0
101456,I3abcffb4fd611d053bf4373e5d6a14a66f7b9b6b,https://git.eclipse.org/r/#/c/101456,2,b7cd8e50b7d10b119cb13af36181fb79a3979f1d,a549c993c629f7ed5b6f5f983c0f5d407df5c883,1,18/07/17,28/07/17,42,Extract constants for reflog entry message prefixes,"Extract constants for reflog entry message prefixes

Document explicitly that these are untranslated to (mostly) match C git.

Change-Id: I3abcffb4fd611d053bf4373e5d6a14a66f7b9b6b",0,0,1,0,0,1,1,0,0
101457,Ia456ba9e36af8e01fde81b19af46a72378e614cd,https://git.eclipse.org/r/#/c/101457,4,54bec21b0cce307090d53ddde7feb6b72822e251,5d603684df8f06dc53386d5b6b401d4934280c50,1,18/07/17,28/07/17,394,PackedBatchRefUpdate: Write reflogs,"PackedBatchRefUpdate: Write reflogs

On-disk reflogs are not stored in the packed-refs file, so we cannot
ensure atomic updates. We choose the lesser evil of dropping failed
reflog updates on the floor, rather than throwing an exception even
though the underlying ref updates succeeded.

Add tests for reflogs to BatchRefUpdateTest.

Change-Id: Ia456ba9e36af8e01fde81b19af46a72378e614cd",0,1,1,0,0,1,1,2,1
101472,Ie397eb58aaaefb6865c816d9b39de3ac12998019,https://git.eclipse.org/r/#/c/101472,18,07464fad7cce0d061b8138a09f918e76b9e7f766,ca4c939eddb035746ac958ac894b4f637ca22ef2,1,18/07/17,05/09/17,353,dfs: write reftable from DfsGarbageCollector,"dfs: write reftable from DfsGarbageCollector

Optionally snapshot all references at the start of the GC process by
writing them to a single reftable in the same pack as the GC heads.

Change-Id: Ie397eb58aaaefb6865c816d9b39de3ac12998019",0,1,0,0,0,0,1,1,1
101475,I4c831622378156ae6b68f82c1ee1db5e150893be,https://git.eclipse.org/r/#/c/101475,2,046665b351e37c2fb5432264b83fe733454e6c58,35c0bb09646b97c2da0aba530ea7dbba9a7b08e0,1,19/07/17,19/07/17,5,dfs: only create DfsPackFile if description has PACK,"dfs: only create DfsPackFile if description has PACK

In the future with reftable a DFS implementation may choose to create
a PackDescription that contains only a REFTABLE extension.  Filter
these out by only creating a DfsPackFile if the PackDescription as the
expected PackExt.PACK.

Change-Id: I4c831622378156ae6b68f82c1ee1db5e150893be",0,0,0,0,0,0,0,0,0
101477,Icea78e8f7f1514087b94ef5f525d9573ea2913f2,https://git.eclipse.org/r/#/c/101477,1,68667d0c34080ef0a3bb0608ba9f9c1aa925d4dc,c2e61cd8299dacd6efdc3ae2ad4c42bf851795ec,1,19/07/17,19/07/17,53,dfs: Use special ForReverseIndex DfsStreamKey wrapper instead of derive,"dfs: Use special ForReverseIndex DfsStreamKey wrapper instead of derive

While implementing a custom subclass of DfsStreamKey it became obvious
the required derive(String) was making it impossible to construct an
efficient key in all cases.

Instead, use a special wrapper type ForReverseIndex around the INDEX's
own DfsStreamKey to denote the reverse index stream in the
DfsBlockCache.  This adds a smaller layer of boxing, but eliminates
weird issues for DFS implementors using specialized DfsStreamKey
implementations for space efficiency reasons.

Now that DfsStreamKey is reasonably light-weight, avoid allocating the
index and reverse index keys until necessary.  DfsPackFile mostly
holds the DfsBlockCache.Ref handle to the object, and only needs the
DfsStreamKey when its looking up the handle.

Change-Id: Icea78e8f7f1514087b94ef5f525d9573ea2913f2",0,0,0,0,0,0,0,0,0
101478,Ic7b42ce2d90692cccea36deb30c2c76ccc81638b,https://git.eclipse.org/r/#/c/101478,1,c2e61cd8299dacd6efdc3ae2ad4c42bf851795ec,ab51673ca22ca3c981da6ba61fd60e4011f6732c,1,19/07/17,19/07/17,89,"dfs: Fix caching of index, bitmap index, reverse index","dfs: Fix caching of index, bitmap index, reverse index

When 07f98a8b71 (""Derive DfsStreamKey from DfsPackDescription"")
stopped caching DfsPackFile in the DfsBlockCache, the DfsPackFile began
to always load the idx, bitmap, or compute reverse index, as the cache
handles were no longer populated by prior requests.

Rework caching to lookup the objects from the DfsBlockCache if the
local DfsPackFile handle is invalid.  This allows the DfsPackFile to
be more of a flyweight instance across requests.

Change-Id: Ic7b42ce2d90692cccea36deb30c2c76ccc81638b",0,0,0,0,0,0,0,0,0
101534,Ib8e3b2db15d3fde28989b6f4b9897f8a7bb36f3b,https://git.eclipse.org/r/#/c/101534,1,ab51673ca22ca3c981da6ba61fd60e4011f6732c,7243db145f14067affaba6b1112a628e8ecbcee7,1,19/07/17,19/07/17,27,dfs: Shrink DfsPackDescription.sizeMap storage,"dfs: Shrink DfsPackDescription.sizeMap storage

Using a HashMap is overkill for this storage.  PackExt is a
constrained type that permits no more than 32 unique values in the JVM.
Each is assigned a unique index (getPosition), which can be used as
indexes in a simple long[].

Change-Id: Ib8e3b2db15d3fde28989b6f4b9897f8a7bb36f3b",0,0,0,0,0,0,0,0,0
101535,I9ebf0c76bf2b414a702ae050b32e42588067bc44,https://git.eclipse.org/r/#/c/101535,1,7243db145f14067affaba6b1112a628e8ecbcee7,f60a8320991bf26f350519ffed0ed11c4be34078,1,19/07/17,19/07/17,28,dfs: Fix default DfsStreamKey to include DfsRepositoryDescription,"dfs: Fix default DfsStreamKey to include DfsRepositoryDescription

Not all DFS implementations use globally unique pack names in the
DfsPackDescription.  Most require the DfsRepositoryDescription to
qualify the pack.  Include DfsRepositoryDescription in the default
DfsStreamKey implementation, to prevent cache collisions.

Change-Id: I9ebf0c76bf2b414a702ae050b32e42588067bc44",0,0,0,0,0,0,0,0,0
101560,I6c49cf42a04dd0d96cfe0751f500a51f56f0bdb8,https://git.eclipse.org/r/#/c/101560,1,f60a8320991bf26f350519ffed0ed11c4be34078,30df92765145e3454feeedb74b12e7328add356a,1,19/07/17,19/07/17,8,dfs: Fix build break caused by DfsStreamKey.of signature change,"dfs: Fix build break caused by DfsStreamKey.of signature change

Change-Id: I6c49cf42a04dd0d96cfe0751f500a51f56f0bdb8",1,0,0,1,0,0,1,0,0
101563,I35fecbe3895c2078d69213e9c708a9b0613a1c7c,https://git.eclipse.org/r/#/c/101563,1,30df92765145e3454feeedb74b12e7328add356a,7f1e7b382ec30a7f1416345c6ebd85a679fb5357,1,19/07/17,19/07/17,2,dfs: Fix incorrect use of reference == for DfsStreamKey,"dfs: Fix incorrect use of reference == for DfsStreamKey

Must use .equals() now with DfsStreamKey.

Change-Id: I35fecbe3895c2078d69213e9c708a9b0613a1c7c",0,0,0,0,0,0,0,0,0
101581,I46716e9626b4c4adc0806a7c8df6914309040b94,https://git.eclipse.org/r/#/c/101581,11,2e08b8281bc58242533e502d631d86886168b5b9,1d4ed75718961ec7add65f89fd04349b428b861c,1,19/07/17,26/08/17,47,Fix JGit set core.fileMode to false by default instead of true for non Windows OS. Issue 519887,"Fix JGit set core.fileMode to false by default instead of true for non Windows OS.
Issue 519887

Change-Id: I46716e9626b4c4adc0806a7c8df6914309040b94
Signed-off-by: Joan <joan@goyeau.com>",0,1,0,1,0,0,1,0,0
101582,I4ae0d6783a9dc62f78ead54ddd1ab2b5b66a811c,https://git.eclipse.org/r/#/c/101582,3,d5419e7e7538a94534b90b466af1f90d87c73ded,cbedf115a6bbbd913120598357816e6893cd6f0c,1,19/07/17,26/08/17,2,Fix JGit set core.fileMode to false by default instead of true for non Windows OS. Issue 519887,"Fix JGit set core.fileMode to false by default instead of true for non Windows OS.
Issue 519887

Change-Id: I4ae0d6783a9dc62f78ead54ddd1ab2b5b66a811c
Signed-off-by: Joan <joan@goyeau.com>",0,0,0,1,0,0,1,0,0
101583,I22d739a9677e24f36323dceadf7d375ac2f446e8,https://git.eclipse.org/r/#/c/101583,3,88679449af36b0ebfc813bec5162654ebdfb06c0,34440cb7361c0cb336a405e2c1e48cfe57dc75e9,1,19/07/17,28/07/17,23,BatchRefUpdate: Expand javadocs and add @Nullable,"BatchRefUpdate: Expand javadocs and add @Nullable

Change-Id: I22d739a9677e24f36323dceadf7d375ac2f446e8",0,0,1,1,0,1,1,1,1
101584,I86a4b8f6b4f85b2bae64c1b121e4ee527d46de83,https://git.eclipse.org/r/#/c/101584,3,45d62af8c05888a22f31925bd847a4057db147b5,87861f3fbf63fd89557c5256e77424b58fb7f743,1,19/07/17,28/07/17,202,Support overriding a batch's reflog on a per-ReceiveCommand basis,"Support overriding a batch's reflog on a per-ReceiveCommand basis

Change-Id: I86a4b8f6b4f85b2bae64c1b121e4ee527d46de83",0,0,1,1,0,1,1,1,1
101598,I409c109142dea488d189b9ac0d3c319755dce7b4,https://git.eclipse.org/r/#/c/101598,1,e8de2faac01c7e1198adb30d28cdc51f4f6e6a63,e56ab28ba9f6143e2c723c584ddafd54aac5e3b9,1,19/07/17,19/07/17,103,dfs: test for repositories sharing blocks in DfsBlockCache,"dfs: test for repositories sharing blocks in DfsBlockCache

Simple test to verify two DfsRepository instances will reuse the same
DfsBlocks in the DfsBlockCache, even though the DfsStreamKey instance
is now different between their DfsPackFile instances.

Change-Id: I409c109142dea488d189b9ac0d3c319755dce7b4",0,0,0,0,0,0,0,0,0
101599,Ibfc8394cac717b485fdc94d5c8479c3f8ca78ee4,https://git.eclipse.org/r/#/c/101599,1,e56ab28ba9f6143e2c723c584ddafd54aac5e3b9,8b3687245ea36f7a37a51866253be3251a19b6bf,0,19/07/17,19/07/17,3,dfs: actually allow current DfsBlock to GC,"dfs: actually allow current DfsBlock to GC

Holding the current DfsBlock in a local variable 'b' may prevent the
Java GC from reclaiming it while loading the next block.  Remove the
local variable and rely only on the field.

Change-Id: Ibfc8394cac717b485fdc94d5c8479c3f8ca78ee4",0,0,0,0,0,0,0,NA,NA
101600,I7d6352708225f62ef2f216d1ddcbaa64be113df6,https://git.eclipse.org/r/#/c/101600,2,8b3687245ea36f7a37a51866253be3251a19b6bf,d35d962bc9d6dc78df222c466ff92249a599c7d5,1,19/07/17,19/07/17,77,dfs: Fix DataFormatException: 0 bytes to inflate:,"dfs: Fix DataFormatException: 0 bytes to inflate:

When a file uses a different block size (e.g.  500) than the cache
(e.g.  512), and the DfsPackFile's blockSize field has not been
initialized, the cache misaligns block loads.  The cache uses its
default of 512 to compute the block alignment instead of the file's
500.

This causes DfsReader try to set an empty range into an Inflater,
resulting in an object being unable to load.

Change-Id: I7d6352708225f62ef2f216d1ddcbaa64be113df6",0,0,0,0,0,0,0,1,1
101603,Ia934d8578592dc20837944d50acfb8920e260893,https://git.eclipse.org/r/#/c/101603,1,d35d962bc9d6dc78df222c466ff92249a599c7d5,4c0d9127b6969577f0678b0b4e12196af4a8347f,1,19/07/17,19/07/17,2,dfs: silence resource warnings in DfsBlockCacheTest,"dfs: silence resource warnings in DfsBlockCacheTest

Change-Id: Ia934d8578592dc20837944d50acfb8920e260893",1,0,0,1,0,0,1,0,0
101714,I3dc545ade370b2bbdb7c610ed45d5dd4d39b9e8e,https://git.eclipse.org/r/#/c/101714,3,55c48640579adb1eec03b1d1fdc8501fa649332a,2b51d9ac6fd0f9a2506f4edc55632e6e591dfeae,1,21/07/17,22/07/17,25,Make 'inCoreLimit' of LocalFile used in ResolveMerger configurable,"Make 'inCoreLimit' of LocalFile used in ResolveMerger configurable

This change makes it possible to configure the 'inCoreLimit' of LocalFile
used in ResolveMerger#insertMergeResult. Since LocalFile itself has some
risks, e.g. it may be left behind as garbage in case of failure. It should
be good to be able to control the size limit for using LocalFile.

Change-Id: I3dc545ade370b2bbdb7c610ed45d5dd4d39b9e8e
Signed-off-by: Changcheng Xiao <xchangcheng@google.com>",0,0,0,0,0,0,0,0,0
101742,Ic376314d4a86a0bd528c033e169d93eef035b233,https://git.eclipse.org/r/#/c/101742,2,9be6c807f8be03c4a963406f5f393410849395b8,0e9187c79d621fc21f04f3bb47a437bd0434c9d5,1,21/07/17,21/07/17,78,dfs: optionally store blockSize in DfsPackDescription,"dfs: optionally store blockSize in DfsPackDescription

Allow a DFS implementation to report blockSize to DfsPackFile,
bypassing alignment errors and corrections in the DfsBlockCache when
the blockSize of a specific file differs from the cache's configured
blockSize.

Change-Id: Ic376314d4a86a0bd528c033e169d93eef035b233",0,0,0,0,0,0,0,1,1
101758,I9c7cf347aaf63d5ef604d520c2383c6cf3043890,https://git.eclipse.org/r/#/c/101758,4,08540912dfe9aa0bda8a8de841f780762006661a,c8e7605908adc447053be73f688d8122875c26d7,1,21/07/17,26/07/17,41,Add commit check for head references,"Add commit check for head references

Make sure all refs/heads/* point to a commit object.

Change-Id: I9c7cf347aaf63d5ef604d520c2383c6cf3043890
Signed-off-by: Zhen Chen <czhen@google.com>",0,1,1,0,0,0,1,0,0
101772,Ic7a81c3c25b0f10d92087b56e9f200b676060f63,https://git.eclipse.org/r/#/c/101772,2,7790af51fe84a5b2f6403301f47461306c2a62d2,bb9dfc8bcd5883e06d489483c1a7ad17a7e932a9,1,23/07/17,28/07/17,26,IntList: support contains(int),"IntList: support contains(int)

LongList supports contains(long).
IntList should also support contains(int).

Change-Id: Ic7a81c3c25b0f10d92087b56e9f200b676060f63",0,0,1,0,0,0,1,0,0
101773,Idaf69f86b62630ba4a022d31b4c293c6d138f557,https://git.eclipse.org/r/#/c/101773,2,774be6f88369f284f936eba1e333f6186cf1b175,42e7b6a4d452cae3060c0b38385663c088f61466,1,23/07/17,28/07/17,18,Use w1 for hashCode of AbbreviatedObjectId,"Use w1 for hashCode of AbbreviatedObjectId

Very short abbreviations that are under 8 hex digits do not
have values in w2. Use w1 as the Java hashCode() instead, so
that the prefix of the abbreviation is always included in the
hashing function used by any java.util.Collection type.

Change-Id: Idaf69f86b62630ba4a022d31b4c293c6d138f557",0,0,1,0,0,0,1,0,0
101774,I29d0ff1eee475845660ac9173413e1407adcfbf2,https://git.eclipse.org/r/#/c/101774,16,3ba5c8fd7a0333a875ee4ca624632e3913ffd9c3,fda7bcb5996e442a49eac1a3abece6874f750431,0,23/07/17,18/08/17,950,reftable: file format documentation,"reftable: file format documentation

Some repositories contain a lot of references (e.g. android at 866k,
rails at 31k). The reftable format provides:

- Near constant time lookup for any single reference, even when the
  repository is cold and not in process or kernel cache.
- Near constant time verification a SHA-1 is referred to by at least
  one reference (for allow-tip-sha1-in-want).
- Efficient lookup of an entire namespace, such as `refs/tags/`.
- Support atomic push `O(size_of_update)` operations.
- Combine reflog storage with ref storage.

Change-Id: I29d0ff1eee475845660ac9173413e1407adcfbf2",0,1,0,0,1,0,1,NA,NA
101775,Ic819a04e285094e271435dcd027d8006e5897785,https://git.eclipse.org/r/#/c/101775,17,0aa39e991a724fbc844e9067523174403634e7a2,11142a52b5d53938d7c1aa1330e8bfc561c43200,1,23/07/17,18/08/17,62,reftable: lookup by ObjectId unit tests,"reftable: lookup by ObjectId unit tests

Change-Id: Ic819a04e285094e271435dcd027d8006e5897785",0,1,0,1,0,0,1,1,1
101850,I1ba143f403773497972e225dc92c35ecb989e154,https://git.eclipse.org/r/#/c/101850,21,fd76cc4f566d466bd5c5d4b150fd1ef2ec908bc0,734cfa556f522e765dcbc008171a88754a793b51,1,24/07/17,18/08/17,76,reftable: resolve symbolic references,"reftable: resolve symbolic references

resolve(Ref) helps callers recursively chase symbolic references and
is a useful function when wrapping a Reftable inside a RefDatabase, as
RefCursor does not resolve symbolic references during iteration.

Change-Id: I1ba143f403773497972e225dc92c35ecb989e154",0,1,0,0,0,0,1,1,1
101851,I6a4f5f953ed6b0ff80a7780f4c6cbcc5eda0da3e,https://git.eclipse.org/r/#/c/101851,10,42dc28632d180713a2329858984a9cf7487916ac,716f6a8ff905f25387277103de33b0944bda08f3,1,24/07/17,31/08/17,200,dfs: expose DfsReftable from DfsObjDatabase,"dfs: expose DfsReftable from DfsObjDatabase

Reftable storage in DFS is related to pack storage.  Reftables are
stored in the same namespace, but with PackExt.REFTABLE.  Include
the set of DfsReftable instances in the PackList and export some
helpers to access the tables.

Change-Id: I6a4f5f953ed6b0ff80a7780f4c6cbcc5eda0da3e",0,1,0,0,0,0,1,0,0
101888,I38ae02d07020d8ccb8dc1ac4c0fa08ce93512f94,https://git.eclipse.org/r/#/c/101888,2,be9bcdc434a95550c23c420ec58b76b2197afa31,fdc6efdcf86620efac04bb57b37e4420ba001bf8,0,25/07/17,01/08/17,6,git ignore all bazel folders,"git ignore all bazel folders

Change-Id: I38ae02d07020d8ccb8dc1ac4c0fa08ce93512f94
Signed-off-by: David Pursehouse <david.pursehouse@gmail.com>",0,0,0,1,0,1,1,NA,NA
101889,I04887b91d07ee93f51d27c9a3597e258b9affc0b,https://git.eclipse.org/r/#/c/101889,2,177c20f9fffdf37c02d1d14065d42543f971244b,410a803c037f934b4f57a3d5b39b72e4a3b45e8f,0,25/07/17,01/08/17,1,git ignore .DS_Store,"git ignore .DS_Store

Change-Id: I04887b91d07ee93f51d27c9a3597e258b9affc0b
Signed-off-by: David Pursehouse <david.pursehouse@gmail.com>",0,0,0,1,0,1,1,NA,NA
102031,I4764e11270d9336882483eb698f67a78a401c251,https://git.eclipse.org/r/#/c/102031,5,bb52b8756841b8a8630b20a5b94525d3bc87778e,a9f8d85caa1da73e18da0d6d0560122c4a1c8565,1,26/07/17,28/07/17,296,RefDirectory: Spin acquiring ref locks,"RefDirectory: Spin acquiring ref locks

If a repo frequently uses PackedBatchRefUpdates, there is likely to be
contention on the packed-refs file, so it's not appropriate to fail
immediately the first time we fail to acquire a lock. Add some logic to
RefDirectory to support general retrying of lock acquisition.

Currently, there is a hard-coded wait starting at 100ms and backing off
exponentially to 1600ms, for about 3s of total wait. This is no worse
than the hard-coded backoff that JGit does elsewhere, e.g. in
FileUtils#delete. One can imagine a scheme that uses per-repository
configuration of backoff, and the current interface would support this
without changing any callers.

Change-Id: I4764e11270d9336882483eb698f67a78a401c251",0,1,0,0,0,1,1,0,0
102075,Ib003f7c8f2816dd57e941799a665e70ecd6645a2,https://git.eclipse.org/r/#/c/102075,1,137d4702c133f40d1b5b1390e168be3498f926fb,e87bdec000262b53a89c62ac3be55c8c5a82760e,1,27/07/17,01/08/17,41,Trim boilerplate in RawParseUtils_LineMapTest.,"Trim boilerplate in RawParseUtils_LineMapTest.

Signed-off-by: Han-Wen Nienhuys <hanwen@google.com>
Change-Id: Ib003f7c8f2816dd57e941799a665e70ecd6645a2",0,0,0,0,0,0,0,0,0
102076,I424295df1dc60a719859d9d7c599067891b15792,https://git.eclipse.org/r/#/c/102076,3,e87bdec000262b53a89c62ac3be55c8c5a82760e,d6c075528abedda2edbf0b2ede3841b8af411da0,1,27/07/17,01/08/17,36,Treat RawText of binary data as file with one single line.,"Treat RawText of binary data as file with one single line.

This avoids executing mergeAlgorithm.merge on binary data, which is
unlikely to be useful.

Arguably, binary data should not make it to
ResolveMerger#contentMerge, but this approach has the following
advantages:

* binary detection is exact, since it not only looks at the start of
  the blob.

* it is cheap, as we have to iterate over the bytes anyway to find
  '\n'.

Signed-off-by: Han-Wen Nienhuys <hanwen@google.com>
Change-Id: I424295df1dc60a719859d9d7c599067891b15792",0,0,0,0,0,0,0,0,0
102162,If5dd1dc58f0ce62f26131fd5965a0e21a80e8bd3,https://git.eclipse.org/r/#/c/102162,2,3594929270279a471689495d88134210dec6c877,ab7ffc208f19cd5891a382ba176d8b7f14bc413a,1,28/07/17,28/07/17,260,RefDirectory: Add in-process fair lock for atomic updates,"RefDirectory: Add in-process fair lock for atomic updates

In a server scenario such as Gerrit Code Review, there may be many
atomic BatchRefUpdates contending for logs on both the packed-refs file
and some subset of loose refs. We already retry lock acquisition to
improve this situation slightly, but we can do better by using an
in-process lock. This way, instead of retrying and potentially exceeding
their timeout, different threads sharing the same Repository instance
can wait on a fair lock without having to touch the disk lock. As a
server is probably already using RepositoryCache anyway, there is a high
likelihood of reusing the Repository instance.

Change-Id: If5dd1dc58f0ce62f26131fd5965a0e21a80e8bd3",0,0,0,0,0,1,1,0,0
102332,I46a29eae7b617f3f43f270c40072a1c103ef77f2,https://git.eclipse.org/r/#/c/102332,2,55db2753d0616324a7feadd00576781ed8423e58,d460408d1f68516f0cb79e47c45d8770e73c8edb,0,01/08/17,02/08/17,20,Silence API errors caused by adding enum constants in dbb137e,"Silence API errors caused by adding enum constants in dbb137e

Change-Id: I46a29eae7b617f3f43f270c40072a1c103ef77f2
Signed-off-by: Matthias Sohn <matthias.sohn@sap.com>",0,0,0,1,0,0,1,NA,NA
102333,Ia6c3935cf061590e7305d0a80a1051e9aebcbb43,https://git.eclipse.org/r/#/c/102333,2,12b54cb6fdfc4a282246f0e814a8aa5e917349cf,0ca828ff67a773b7e7deaedd767e1153c8ea4a83,1,01/08/17,02/08/17,1,Remove unused import introduced in a551b64,"Remove unused import introduced in a551b64

Change-Id: Ia6c3935cf061590e7305d0a80a1051e9aebcbb43
Signed-off-by: Matthias Sohn <matthias.sohn@sap.com>",0,0,0,1,0,0,1,0,0
102393,Ie036dc46e5a88a4e87dc52e880505bbe34601ca7,https://git.eclipse.org/r/#/c/102393,3,0037dfcfaaa5e64c4d20e7bbf7f779ccca3a784a,c65fa6f7ed2f38061a202760d46088cf66bcbe76,1,02/08/17,11/08/17,106,NB: encode and decode 24-bit ints,"NB: encode and decode 24-bit ints

Change-Id: Ie036dc46e5a88a4e87dc52e880505bbe34601ca7",0,0,1,1,0,0,1,0,0
102394,Ic64db41c86917725ac649022290621406156bcc4,https://git.eclipse.org/r/#/c/102394,2,65ea9db62066850c8d4983c1b95abece976dc7a7,3a25c026f394c7f0acd743636379c35e37396676,1,02/08/17,03/08/17,77,ReflogWriter: Minor cleanup,"ReflogWriter: Minor cleanup

Remove unnecessary finals, use consistent punctuation in Javadoc, reflow
some lines, etc.

Change-Id: Ic64db41c86917725ac649022290621406156bcc4",0,0,0,0,0,0,0,0,0
102395,I9bd4b047bc3e28a5607fd346ec2400dde9151730,https://git.eclipse.org/r/#/c/102395,5,27cf6b9e45139e760c375814a10e862dd31582a7,a7b0c34f9f89155edecb7c7e6463cf90711a8f61,1,02/08/17,30/09/17,129,Ensure ReflogWriter only works with a RefDirectory,"Ensure ReflogWriter only works with a RefDirectory

The ReflogWriter constructor just took a Repository and called
getDirectory() on it to figure out the reflog dirs, but not all
Repository instances use this storage format for reflogs, so it's
incorrect to attempt to use ReflogWriter when there is not a
RefDirectory directly involved. In practice, ReflogWriter was mostly
only used by the implementation of RefDirectory, so enforcing this is
mostly just shuffling around calls in the same internal package.

The one exception is StashDropCommand, which writes to a reflog lock
file directly. This was a reasonable implementation decision, because
there is no general reflog interface in JGit beyond using
(Batch)RefUpdate to write new entries to the reflog. So to implement
""git stash drop <N>"", which removes an arbitrary element from the
reflog, it's fair to fall back to the RefDirectory implementation.
Creating and using a more general interface is well beyond the scope of
this change.

That said, the old behavior of writing out the reflog file even if
that's not the reflog format used by the given Repository is clearly
wrong. Fail fast in this case instead.

Change-Id: I9bd4b047bc3e28a5607fd346ec2400dde9151730",0,1,0,0,0,1,1,0,0
102396,Ifc851fba00f76bf56d4134f821d0576b37810f80,https://git.eclipse.org/r/#/c/102396,5,d1b50640996c83421691a3f4f61c3faecd1a4e6b,0a63c9dd5209fed5e023908a7748f544c5b05b7c,1,02/08/17,30/09/17,216,Support force writing reflog on a per-update basis,"Support force writing reflog on a per-update basis

Even if a repository has core.logAllRefUpdates=true, ReflogWriter does
not create reflog files unless the refs are under a hard-coded list of
prefixes, or unless the forceWrite bit is set. Expose the forceWrite bit
on a per-update basis in RefUpdate/BatchRefUpdate/ReceiveCommand,
creating RefLogWriters as necessary.

Change-Id: Ifc851fba00f76bf56d4134f821d0576b37810f80",0,1,0,0,0,1,1,1,1
102397,I3a46d2c2703b7c243e0ee2bbf6948279800c485c,https://git.eclipse.org/r/#/c/102397,5,2a3a38679d2abfe0a3e308e48f2cdd85a74003fe,87c59955607fdecde167c953dbb454c6edaeab69,1,02/08/17,30/09/17,27,ReflogWriter: Align auto-creation defaults with C git,"ReflogWriter: Align auto-creation defaults with C git

Per git-config(1), core.logAllRefUpdates auto-creates reflogs for HEAD
and for refs under heads, notes, tags, and for HEAD. Add notes and
remove stash from ReflogWriter#shouldAutoCreateLog. Explicitly force
writing reflogs for refs/stash at call sites, now that this is
supported.

Change-Id: I3a46d2c2703b7c243e0ee2bbf6948279800c485c",0,1,0,0,0,1,1,0,0
102421,I3f563e752dfd2007dd3a48d6d313d20e2685943a,https://git.eclipse.org/r/#/c/102421,1,135e1099f3f2d90c984ecfda3b3eab93002016a6,98976a6f922b59f46628f2ee866e0e00d87910dd,1,02/08/17,03/08/17,118,Eliminate SectionParser construction boilerplate,"Eliminate SectionParser construction boilerplate

Happily, most anonymous SectionParser implementations can be replaced
with FooConfig::new, as long as the constructor takes a single Config
arg. Many of these, the non-public ones, can in turn be inlined. A few
remaining SectionParsers can be lambdas.

Change-Id: I3f563e752dfd2007dd3a48d6d313d20e2685943a",0,0,0,0,0,0,0,0,0
102577,I04b9b2ba25247df056eb3a1725602f1be6d3b440,https://git.eclipse.org/r/#/c/102577,3,fa8d2b21e461d39d1a9ca924f83faabe8cdda007,d24de0c4a70b62ae6ff3b4314d9b4d4eed6ba673,1,07/08/17,11/08/17,45,Expose LongMap in util package,"Expose LongMap in util package

This is a useful primitive collection type like IntList.

Change-Id: I04b9b2ba25247df056eb3a1725602f1be6d3b440",0,0,1,0,0,0,1,0,0
102578,I9f6ab15144826893d1e2a4b48a2d657d6dd445ec,https://git.eclipse.org/r/#/c/102578,5,a569967a4d0759fbb532283e9e8b03d0bab35455,4bbcfb090c2a67ef4da2ac62b85367596c396ad3,1,07/08/17,12/08/17,8,Rename extensions.refsStorage to refStorage,"Rename extensions.refsStorage to refStorage

This matches the proposal that has been discussed at length on
git-core mailing list and seems to be the accepted convention.

Change-Id: I9f6ab15144826893d1e2a4b48a2d657d6dd445ec",0,1,1,0,0,0,1,0,0
102598,I8e620bec74dd3f310ba42024f9a657062f868f0e,https://git.eclipse.org/r/#/c/102598,3,90cc7439bcf769254ea5d1345c24c868b3eb5868,88f25db030eb35976795da4860153fa18e40a18a,1,07/08/17,14/08/17,116,Fix exception handling for opening bitmap index files,"Fix exception handling for opening bitmap index files

When creating a new PackFile instance it is specified whether this pack
has an associated bitmap index file or not. This information is cached
and the public method getBitmapIndex() will always assume a bitmap index
file must exist if the cached data tells so. But it may happen that the
packfiles are repacked during a gc in a different process causing the
packfile,bitmap-index and index file to be deleted. Since JGit still has
an open FileHandle on the packfile this file is not really deleted and
can still be accessed. But index and bitmap index file are deleted.
Modify getBitmapIndex() to be aware of such a situation in invalidate
the packfile instance if such a situation occurs.

This problem showed up when a gerrit server was serving repositories
which where garbage collected with native git regularly. Fetches and
clones for certain repositories failed permanently after a native git gc
was deleting old bitmap index files.

Change-Id: I8e620bec74dd3f310ba42024f9a657062f868f0e",0,0,1,0,0,1,1,0,0
102607,I7ac35c18e67b7e771fb3de29169d1ee50fab62ca,https://git.eclipse.org/r/#/c/102607,8,1785181997289bce982075177cdd63ae18c7ad85,05c9c996f534bb111f553e9ac7812db2e661707c,1,07/08/17,31/08/17,108,dfs: helper to open multiple reftables,"dfs: helper to open multiple reftables

ReftableStack maintains multiple open reftables
in an AutoCloseable format, making it easier for
higher level code to handle multiple files.

Change-Id: I7ac35c18e67b7e771fb3de29169d1ee50fab62ca",0,1,1,0,0,0,1,0,0
102608,I5dbba41806f99af5ecaff3a3119f6630e9404256,https://git.eclipse.org/r/#/c/102608,10,36f2ee5a77d5ab707ebb521de5518c38e8eeb775,d0ab1d1198da2e9f05b446520e8809750493acc4,1,07/08/17,05/09/17,269,dfs: compact reftables during DfsPackCompactor,"dfs: compact reftables during DfsPackCompactor

Combine intermediate, non-GC reftables when combining pack files.
This shrinks the reftable stack, improving lookup times.

Change-Id: I5dbba41806f99af5ecaff3a3119f6630e9404256",0,1,0,0,0,0,1,1,1
102687,I1026a77cc688467d5a89a41121146f1bd3d56fa5,https://git.eclipse.org/r/#/c/102687,1,8ca298ec65635e9e3c4eb7d260b0cad017e04a03,9e988c63fec29354fe832a790c6f79acec1f9654,0,08/08/17,08/08/17,8,Update thread-safety warning about Repository,"Update thread-safety warning about Repository

Change-Id: I1026a77cc688467d5a89a41121146f1bd3d56fa5",0,0,0,1,0,0,1,NA,NA
102830,Ic33a92c2de42bd7a89786a4da26b7a648b25218d,https://git.eclipse.org/r/#/c/102830,4,5e0b12e74f5958397d45c26d9ce9db1b9227155d,1e12e2684c33752657bbc1be703e46e3c4681944,1,10/08/17,28/08/17,222,Add BlobObjectChecker,"Add BlobObjectChecker

Some repositories can have a policy that do not accept certain blobs. To
check if the incoming pack file contains such blobs, ObjectChecker can
be used. However, this ObjectChecker is not called by PackParser if the
blob is stored as a whole. This is because the object can be so large
that it doesn't fit in memory.

This change introduces BlobObjectChecker. This interface takes chunks of
a blob instead of the entire object. ObjectChecker can optionally return
a BlobObjectChecker. This won't change existing ObjectChecker
implementation; existing implementation continues to receive deltified
blob objects only.

Change-Id: Ic33a92c2de42bd7a89786a4da26b7a648b25218d
Signed-off-by: Masaya Suzuki <masayasuzuki@google.com>",0,1,1,0,0,0,1,0,0
102879,I9bb48af9e8f1f2ce7968a82297c7c16f1237f987,https://git.eclipse.org/r/#/c/102879,4,0858e4a4440c83092bfb4f7ffacffb608a6ff9b9,afc432962b38828af91e15b9f93366ee175a8248,1,10/08/17,14/08/17,107,Record submodule paths with untracked changes as FileMode.GIT_LINK,"Record submodule paths with untracked changes as FileMode.GIT_LINK

Bug: 520702
Change-Id: I9bb48af9e8f1f2ce7968a82297c7c16f1237f987
Signed-off-by: Thomas Wolf <thomas.wolf@paranor.ch>",0,1,1,0,0,0,1,0,0
102994,I80389a2dc272a72312729ccd5358d7c75e1ea20a,https://git.eclipse.org/r/#/c/102994,3,54d954c284185152355d00650f9dab10fe08db25,b5bda475c2e195f887d76dbb88aedb7dec5bee5d,1,11/08/17,16/08/17,41,Use relative paths for attribute rule matching,"Use relative paths for attribute rule matching

Attribute rules must match against the entry path relative to the
attribute node containing the rule. The global entry path is to be
used only for the init and the global node (and of course the root
node).

Bug: 520677
Change-Id: I80389a2dc272a72312729ccd5358d7c75e1ea20a
Signed-off-by: Thomas Wolf <thomas.wolf@paranor.ch>",0,0,1,0,0,0,1,0,0
102997,I3ffc666c13d1b9d2ed987b69a67bfc7f42ccdbfc,https://git.eclipse.org/r/#/c/102997,2,f508c98545f1a422a578ecf415b3f808605bbd57,28ef0afc6c0c33a41eea833720214d222fd265e7,1,11/08/17,14/08/17,31,Ensure EOL stream type is DIRECT when -text attribute is present,"Ensure EOL stream type is DIRECT when -text attribute is present

Otherwise fancy combinations of attributes (binary or -text in
combination with crlf or eol) may result in the corruption of binary
data.

Bug: 520910
Change-Id: I3ffc666c13d1b9d2ed987b69a67bfc7f42ccdbfc
Signed-off-by: Thomas Wolf <thomas.wolf@paranor.ch>",0,0,1,0,0,0,1,0,0
103017,Ibcae068b17a2fc6d958f767f402a570ad88d9151,https://git.eclipse.org/r/#/c/103017,13,299db0ec63ee9bb0cf797cbc4b9666c7b0b7058d,d03608f2b0e22629ae09b5a288e580a3d274043f,1,12/08/17,19/10/17,290,Support symbolic references in ReceiveCommand,"Support symbolic references in ReceiveCommand

Allow creating symbolic references with link, and deleting them or
switching to ObjectId with unlink.  How this happens is up to the
individual RefDatabase.

The default implementation detaches RefUpdate if a symbolic reference
is involved, supporting these command instances on RefDirectory.
Unfortunately the packed-refs file does not support storing symrefs,
so atomic transactions involving more than one symref command are
failed early.

Updating InMemoryRepository is deferred until reftable lands, as I
plan to switch InMemoryRepository to use reftable for its internal
storage representation.

Change-Id: Ibcae068b17a2fc6d958f767f402a570ad88d9151",0,1,0,0,0,0,1,3,1
103021,Ie825dc2cac8a85a72a7eeb0abb888f3193d21dd2,https://git.eclipse.org/r/#/c/103021,9,b55d1578a86a565d9e722197cdb5a1ebe0a6e936,01836eff026cb0b106eaf1b86db8289816842202,1,12/08/17,27/08/17,585,Fix path pattern matching to work also for gitattributes.,"Fix path pattern matching to work also for gitattributes.

Path pattern matching for attribute rules is different than matching
for excluded files.

The first difference concerns patterns without slashes. For
gitattributes those must match on the last component only, not on
any earlier segment.

The second difference is that directory-only patterns never match
since gitattributes deals only with files. This is also true if the
pattern would match a prefix or a containing directory.

And third, matches only on a prefix must match for gitattributes
only if the last matcher was ""/**"".

Add a new parameter for such path matching to IMatcher.matches() and
pass it through as appropriate (false for gitignore, true for
gitattributes). As far as gitignore is concerned, there is no change.

New tests have been added, and some existing attribute matching tests
have been fixed since they operated on wrong assumptions.

To validate that this interpretation is actually correct, new tests
that verify that JGit matches the same as C git have been added, for
both attribute matching (.gitattributes) and file exclusion matching
(.gitignore). These tests work by setting up a test repository and
test rules, and then determine excluded files or attributes both with
JGit and with the native C git, and then compare the results.

For .gitignore tests, we run

  git ls-files --ignored --exclude-standard -o
  
and for attribute tests we use

  git check-attr --stdin --all
  
and pass the list of all files in the repository via stdin.

Bug: 508568
Change-Id: Ie825dc2cac8a85a72a7eeb0abb888f3193d21dd2
Signed-off-by: Thomas Wolf <thomas.wolf@paranor.ch>",0,1,1,0,1,0,1,1,1
103027,Id019ad1c773bd645ae92e398021952f8e961f45c,https://git.eclipse.org/r/#/c/103027,6,15ae2e894dea29315b5807b55712762355379adf,37e3a17e0f38223771f3dcb8003b9bbf84226fb5,1,13/08/17,27/08/17,151,Exclude file matching: fix backtracking on match failures after **,"Exclude file matching: fix backtracking on match failures after **

** matching always tries the empty match first. If a mismatch occurs
later, the ** must be extended by exactly one segment and matching must
resume with the matcher following the ** matcher.

Bug: 520920
Change-Id: Id019ad1c773bd645ae92e398021952f8e961f45c
Signed-off-by: Thomas Wolf <thomas.wolf@paranor.ch>",0,1,1,0,0,0,1,0,0
103035,I0667b1624827d1cf0cc1b81f86c7bb44eafd68a7,https://git.eclipse.org/r/#/c/103035,1,77721dcbd4ef77bde61eac0df24e294fc9330372,5e4d32c589bc20295e7c3beca5b64d8ec84427d7,1,14/08/17,16/08/17,84,Fix off-by-one error in Strings.count(),"Fix off-by-one error in Strings.count()

Change-Id: I0667b1624827d1cf0cc1b81f86c7bb44eafd68a7
Signed-off-by: Thomas Wolf <thomas.wolf@paranor.ch>",0,0,0,1,0,0,1,0,0
103036,I5b40946e04ff4a97456be7dffe09374323b7c89d,https://git.eclipse.org/r/#/c/103036,3,5e4d32c589bc20295e7c3beca5b64d8ec84427d7,9d458fcd3b48d0b0b833e690ab401947cd0fb7da,1,14/08/17,27/08/17,447,Add new tests for gitignore/gitattribute pattern matching,"Add new tests for gitignore/gitattribute pattern matching

These tests verify that JGit matches the same as C git, for
both attribute matching (.gitattributes) and file exclusion matching
(.gitignore). These tests work by setting up a test repository and
test rules, and then determine excluded files or attributes both with
JGit and with the native C git, and then compare the results.

For .gitignore tests, we run

  git ls-files --ignored --exclude-standard -o
  
and for attribute tests we use

  git check-attr --stdin --all
  
and pass the list of all files in the repository via stdin.

Change-Id: I5b40946e04ff4a97456be7dffe09374323b7c89d
Signed-off-by: Thomas Wolf <thomas.wolf@paranor.ch>",0,0,1,0,0,0,1,0,0
103054,I38c83204d2ac74f88f3d22d0550bf5ff7ee86daf,https://git.eclipse.org/r/#/c/103054,2,b9e6a0e2581d7ed7b5671e026462536e78e38442,36ff8bd3c55fe717440c1c23a1dfbc3065a0f76d,1,14/08/17,14/08/17,37,Do not apply pushInsteadOf to existing pushUris,"Do not apply pushInsteadOf to existing pushUris

Per the git config documentation[1], pushInsteadOf is ignored when
a remote has explicit pushUris.

Implement this, and adapt tests.

Up to now JGit mistakenly applied pushInsteadOf also to existing
pushUris. If some repositories had relied on this mis-feature,
pushes may newly suddenly fail (the uncritical case; the config
just needs to be fixed) or even still succeed but push to unexpected
places, namely to the non-rewritten pushUrls (the critical case).

The release notes should point out this change.

[1] https://git-scm.com/docs/git-config

Bug: 393170
Change-Id: I38c83204d2ac74f88f3d22d0550bf5ff7ee86daf
Signed-off-by: Thomas Wolf <thomas.wolf@paranor.ch>",0,0,0,0,0,0,0,0,0
103074,Ifb511238e3e98b1bc9f79a990807b940a17ebaa6,https://git.eclipse.org/r/#/c/103074,2,10d42db05a20e22b5e0e8b78c4f8ac427f43ca87,dc1d28bae6831079ab1856bfd081447ffbfefef9,0,14/08/17,14/08/17,0,Merge branch 'stable-4.5' into stable-4.6,"Merge branch 'stable-4.5' into stable-4.6

* stable-4.5:
  Fix exception handling for opening bitmap index files

Change-Id: Ifb511238e3e98b1bc9f79a990807b940a17ebaa6",1,0,0,0,0,0,1,NA,NA
103075,I669fe48ce0034f9ea1977d38ee39099497422c1c,https://git.eclipse.org/r/#/c/103075,2,01da764fa80492efdae0287426ad1fbc445aa8b5,5b1691023442c7144e6d352eebc6250068fd61c6,0,14/08/17,14/08/17,84,Merge branch 'stable-4.6' into stable-4.7,"Merge branch 'stable-4.6' into stable-4.7

* stable-4.6:
  Fix exception handling for opening bitmap index files

Change-Id: I669fe48ce0034f9ea1977d38ee39099497422c1c
Signed-off-by: Matthias Sohn <matthias.sohn@sap.com>",1,0,0,0,0,0,1,NA,NA
103076,I1e4fcf84506ff4316567bbb1713e84d8d196c2a1,https://git.eclipse.org/r/#/c/103076,2,bed1aabbd8f66199da14c0ab55e77588322f05d2,6f28a62444c6431bb1cf939776e38f2c6c8dcd4c,0,14/08/17,14/08/17,42,Merge branch 'stable-4.7' into stable-4.8,"Merge branch 'stable-4.7' into stable-4.8

* stable-4.7:
  Fix exception handling for opening bitmap index files

Change-Id: I1e4fcf84506ff4316567bbb1713e84d8d196c2a1
Signed-off-by: Matthias Sohn <matthias.sohn@sap.com>",1,0,0,0,0,0,1,NA,NA
103077,Ica20f5aa0d8a365fe3317765b93520b3abd5d342,https://git.eclipse.org/r/#/c/103077,2,950635ec9786ebd9e3c9d918ade8b1a7da079b98,0d6fc3ba28171839147ec841529b48b06ffae033,0,14/08/17,14/08/17,0,Merge branch 'stable-4.8',"Merge branch 'stable-4.8'

* stable-4.8:
  Fix exception handling for opening bitmap index files

Change-Id: Ica20f5aa0d8a365fe3317765b93520b3abd5d342
Signed-off-by: Matthias Sohn <matthias.sohn@sap.com>",1,0,0,0,0,0,1,NA,NA
103080,I7f1b733ca414d77c9df5572df02e742e0a84ba2f,https://git.eclipse.org/r/#/c/103080,1,b8f5259920a8c0698885e429bdef65b914a92489,f623d91ed5fc27647d2c1be829e0bdef6b6afe4e,0,14/08/17,14/08/17,22,Update Oxygen Orbit p2 repository to R20170516192513,"Update Oxygen Orbit p2 repository to R20170516192513

Change-Id: I7f1b733ca414d77c9df5572df02e742e0a84ba2f
Signed-off-by: Matthias Sohn <matthias.sohn@sap.com>",1,0,0,1,0,0,1,NA,NA
103102,Ie8f81d206e358b6cc57aa29b9d7ad2a5d34b86a1,https://git.eclipse.org/r/#/c/103102,4,e71a9abf364bbf098123e46f0499002cbb817bde,bd24e03dde0ba3bd63ac38bdbe450142d062425f,1,15/08/17,26/08/17,683,Improve getting typed values from a Config,"Improve getting typed values from a Config

Make the handling of typed values somewhat configurable by using
a separate converter. The default converter is the same as before;
just the implementations of the getters were moved. They also still
raise IllegalArgumentException on invalid values as before.

The converter can be set globally via Config.setTypedConfigGetter(),
which EGit can use in its core Activator to plug in a variant that
catches the IllegalArgumentException, logs the problem, and then
returns the default value.

In this way the behavior for other users of the JGit library is
unchanged, while EGit can deal gracefully with invalid git configs.

Bug: 520978
Change-Id: Ie8f81d206e358b6cc57aa29b9d7ad2a5d34b86a1
Signed-off-by: Thomas Wolf <thomas.wolf@paranor.ch>",0,1,1,0,1,0,1,1,1
103147,I2d57144976e3683e180d3a42edc6c3bf2905e87c,https://git.eclipse.org/r/#/c/103147,1,1577583cdd5dd13575628a983e1b7e09e3fac913,feea6b97f3e00c2d02c8c12ec707c566e250a6f5,0,16/08/17,16/08/17,118,JGit v4.5.3.201708160445-r,"JGit v4.5.3.201708160445-r

Change-Id: I2d57144976e3683e180d3a42edc6c3bf2905e87c
Signed-off-by: Matthias Sohn <matthias.sohn@sap.com>",1,0,0,1,0,0,1,NA,NA
103204,Ia03196ff6fd9ae2d0623c3747cfa84357c6d0c79,https://git.eclipse.org/r/#/c/103204,16,e62c40956c30d671e69308829564fc90e7d4ede6,fc525ee0801ec7e95450c64599d4a12352a34a92,1,17/08/17,19/10/17,870,dfs: reftable backed DfsRefDatabase,"dfs: reftable backed DfsRefDatabase

DfsReftableDatabase is a new alternative for DfsRefDatabase that
handles more operations for the implementor by delegating through
reftable. All reftable files are stored in sibling DfsObjDatabase
using PackExt.REFTABLE and PackSource.INSERT.

Its assumed the DfsObjDatabase periodically runs compactions and GCs
using DfsPackCompactor and DfsGarbageCollector.  Those passes are
essential to collapsing the stack of reftables.

Change-Id: Ia03196ff6fd9ae2d0623c3747cfa84357c6d0c79",0,1,0,0,1,0,1,4,1
103205,I881469fd77ed11a9239b477633510b8c482a19ca,https://git.eclipse.org/r/#/c/103205,16,95e4ea6dd90613e21477bb6e8cb8cd27df7d6cab,709c12ade506b373e6b8b700af6d95a81812d8aa,1,17/08/17,19/10/17,268,dfs: Switch InMemoryRepository to DfsReftableDatabase,"dfs: Switch InMemoryRepository to DfsReftableDatabase

This ensure DfsReftableDatabase is tested by the same test suites that
use/test InMemoryRepository.  It also simplifies the logic of
InMemoryRepository and brings its compatibility story closer to any
other DFS repository that uses reftables for its reference storage.

Change-Id: I881469fd77ed11a9239b477633510b8c482a19ca",0,1,0,0,0,0,1,-1,0
103263,I255af794856371fdf1a1eceb6bca50a35b71b519,https://git.eclipse.org/r/#/c/103263,2,64122b9b7476a8bae372e12f2ced792ba60278af,af5a353e799fa0dd93c92559b9b0cb6ad0fdf0ab,0,17/08/17,18/08/17,1,Bazel: Add missing dependency in org.eclipse.jgit.http.test,"Bazel: Add missing dependency in org.eclipse.jgit.http.test

Change-Id: I255af794856371fdf1a1eceb6bca50a35b71b519
Signed-off-by: David Pursehouse <david.pursehouse@gmail.com>",0,0,0,1,0,1,1,NA,NA
103264,I5e2a286866b63a8fa2bd29cc2fe432fab2bbe0af,https://git.eclipse.org/r/#/c/103264,2,bc39b9f9f9411bc5ba21f715df1fadd8ca04b37e,63cbf52986fbd4e34f06d84dc58c5b29fe909821,0,17/08/17,18/08/17,16,Format BUILD files with buildifier,"Format BUILD files with buildifier

Change-Id: I5e2a286866b63a8fa2bd29cc2fe432fab2bbe0af
Signed-off-by: David Pursehouse <david.pursehouse@gmail.com>",0,0,0,1,0,1,1,NA,NA
103265,Id3994e2d882a9d08bf548b7778406f8a80fbf830,https://git.eclipse.org/r/#/c/103265,2,b6822d07a02d82c8dcdddc916e6a1bd479cbe244,f24f0031889437c6bede64507ff182f9094dab12,1,17/08/17,18/08/17,2,LongObjectIdTest: Add back self comparison test,"LongObjectIdTest: Add back self comparison test

The test was removed in 4886621 to prevent a warning from
error-prone.

Add it back but rewrite it in a way that does not cause the
warning.

This reverts commit 4886621261c3b5fa2d9c75fd72d19ac186c9f970.

Change-Id: Id3994e2d882a9d08bf548b7778406f8a80fbf830
Signed-off-by: David Pursehouse <david.pursehouse@gmail.com>",0,0,0,0,0,0,0,0,0
103331,Ie4065d4176a5a0207dcab9696ae05d086e042140,https://git.eclipse.org/r/#/c/103331,2,afa757c9270dcdfd92eb52a797f0f0db87d32c20,c3075f6b0c2114c934236b204e980f0a2b1d5d13,1,19/08/17,28/08/17,173,reftable: explicitly store update_index per ref,"reftable: explicitly store update_index per ref

Add an update_index to every reference in a reftable, storing the
exact transaction that last modified the reference.  This is necessary
to fix some merge race conditions.

Consider updates at T1, T3 are present in two reftables.  Compacting
these will create a table with range [T1,T3].  If T2 arrives during
or after the compaction its impossible for readers to know how to
merge the [T1,T3] table with the T2 table.

With an explicit update_index per reference, MergedReftable is able to
individually sort each reference, merging individual entries at T3
from [T1,T3] ahead of identically named entries appearing in T2.

Change-Id: Ie4065d4176a5a0207dcab9696ae05d086e042140",0,0,1,0,0,0,1,0,0
103423,I0ebc0f073fabc85c2a693b43f5ba5962d8a795ff,https://git.eclipse.org/r/#/c/103423,3,af2e1b53819543c1ddf9407f450017ccf7cca9f3,10db3355d4b70e0ad9bb97b8ec1e4f1dddee9d16,1,22/08/17,26/08/17,72,Add a getter for a list of RefSpecs to Config,"Add a getter for a list of RefSpecs to Config

Reading RefSpecs from a Config can be seen as another typed value
conversion, so add a getter to Config and to TypedConfigGetter. Use
it in RemoteConfig.

Doing this allows clients of the JGit library to customize the
handling of invalid RefSpecs in git config files by installing a
custom TypedConfigGetter.

Bug: 517314
Change-Id: I0ebc0f073fabc85c2a693b43f5ba5962d8a795ff
Signed-off-by: Thomas Wolf <thomas.wolf@paranor.ch>",0,0,1,0,0,0,1,0,0
103447,I99587cc46c7e0c19348bcc63f602038fa9a7f378,https://git.eclipse.org/r/#/c/103447,4,c9eefa50ed0ff735a3122323a67fdb6a69cc176a,8e2294debbbbda2a0288f47d44346680ba2144aa,0,22/08/17,26/08/17,9,Make TagOpt implement ConfigEnum and ignore invalid values,"Make TagOpt implement ConfigEnum and ignore invalid values

Using ConfigEnum simplifies reading TagOpt values and enables EGit to
issue a warning.

C git silently ignores invalid tagopt values; so make JGit behave the
same way.

Bug: 429625
Change-Id: I99587cc46c7e0c19348bcc63f602038fa9a7f378
Signed-off-by: Thomas Wolf <thomas.wolf@paranor.ch>",0,1,1,0,0,0,1,NA,NA
103514,I517112404757a9a947e92aaace743c6541dce6aa,https://git.eclipse.org/r/#/c/103514,1,675ff5ebe1f1ebea23d9628720dc2837a22171ca,5a38b9fc5922a0c3e3ba9d14e03e2152f455560d,1,23/08/17,23/08/17,53,Cleanup: message reporting for HTTP redirect handling,"Cleanup: message reporting for HTTP redirect handling

The addition of ""tooManyRedirects"" in commit 7ac1bfc (""Do
authentication re-tries on HTTP POST"") was an error I didn't
catch after rebasing that change. That message had been renamed
in the earlier commit e17bfc9 (""Add support to follow HTTP
redirects"") to ""redirectLimitExceeded"".

Also make sure we always use the TransportException(URIish, ...)
constructor; it'll prefix the message given with the sanitized URI.
Change messages to remove the explicit mention of that URI inside the
message. Adapt tests that check the expected exception message text.

For the info logging of redirects, remove a potentially present
password component in the URI to avoid leaking it into the log.

Change-Id: I517112404757a9a947e92aaace743c6541dce6aa
Signed-off-by: Thomas Wolf <thomas.wolf@paranor.ch>",0,0,0,0,0,0,0,1,1
103594,I65ed7b89312d58ea816b46d27707ff907df1c78b,https://git.eclipse.org/r/#/c/103594,1,5a38b9fc5922a0c3e3ba9d14e03e2152f455560d,4ecfca512a9cc4b74fa8eb556e361bcf58be1389,1,24/08/17,25/08/17,1,ObjectToPack: Add missing @Override annotation,"ObjectToPack: Add missing @Override annotation

Change-Id: I65ed7b89312d58ea816b46d27707ff907df1c78b
Signed-off-by: David Pursehouse <david.pursehouse@gmail.com>",0,0,0,1,0,1,1,0,0
103676,Ie2a183e5404a32046de9f6524e6ceeec37919671,https://git.eclipse.org/r/#/c/103676,11,4ecfca512a9cc4b74fa8eb556e361bcf58be1389,cae47f582e3737269560d8ca066674585a05590e,1,25/08/17,09/09/17,183,Add PushConfig class with PushRecurseSubmodulesMode,"Add PushConfig class with PushRecurseSubmodulesMode

This will be used later when adding for support for recursing
submodules on push.

Change-Id: Ie2a183e5404a32046de9f6524e6ceeec37919671
Signed-off-by: David Pursehouse <david.pursehouse@gmail.com>",0,1,0,0,0,1,1,0,0
103678,Ibfe5cc1e347150b699f54e2f204ab5ee770da202,https://git.eclipse.org/r/#/c/103678,2,bbb8d973762330deada94f610da792954c978827,13c5842450e95e186d71bb0b6d977d0c1c9f7353,1,25/08/17,26/08/17,6,"FileMode: Remove unnecessary @SuppressWarnings(""synthetic-access"")","FileMode: Remove unnecessary @SuppressWarnings(""synthetic-access"")

In Eclipse Oxygen, the following warning is emitted:

  At least one of the problems in category 'synthetic-access' is not
  analysed due to a compiler option being ignored

Removing the suppression gets rid of the warning.

Change-Id: Ibfe5cc1e347150b699f54e2f204ab5ee770da202
Signed-off-by: David Pursehouse <david.pursehouse@gmail.com>",0,0,0,0,0,1,1,0,0
103721,Ia473a04ace600653b2d1f2822e3023570d992410,https://git.eclipse.org/r/#/c/103721,2,b8b30e052b28b759be29a9e7dd6386af3537024d,7a4a37a54476fd2fcf0fd46195de16ee327ac570,1,25/08/17,25/08/17,29,Consume request body if it's not bidirectional pipe and request has failed,"Consume request body if it's not bidirectional pipe and request has failed

This is continuation from https://git.eclipse.org/r/#/c/94249/. When an
error happens, we might not read the entire stream. Consume the request
body before we flush the buffer.

Change-Id: Ia473a04ace600653b2d1f2822e3023570d992410
Signed-off-by: Masaya Suzuki <masayasuzuki@google.com>",0,0,0,0,0,0,0,0,0
103722,I56435d955348eb9acef6603d868f9add1c8781c9,https://git.eclipse.org/r/#/c/103722,1,c16db983e7935bf49eb36fcc3627dcd666252880,4960d684b6803479c271ee6fe0edfc22205c2c6d,1,25/08/17,25/08/17,2,Show error message for non-git clients,"Show error message for non-git clients

Change-Id: I56435d955348eb9acef6603d868f9add1c8781c9
Signed-off-by: Masaya Suzuki <masayasuzuki@google.com>",0,0,0,1,0,0,1,0,0
103726,I81b60a13a97e78d5ccd593ba8e4aa614df19f925,https://git.eclipse.org/r/#/c/103726,2,9f9095f6c83b301b4591068d515df175f1af1d99,888a3b7420d19f69594ee1d2b8227ee5e95a5926,0,25/08/17,26/08/17,31,Add toString() methods to OpenSshConfig to help debugging,"Add toString() methods to OpenSshConfig to help debugging

Change-Id: I81b60a13a97e78d5ccd593ba8e4aa614df19f925
Signed-off-by: Matthias Sohn <matthias.sohn@sap.com>",0,0,0,1,0,0,1,NA,NA
103727,Id8b902bf2bf590b41f2e246c5ecf1592e1c411f2,https://git.eclipse.org/r/#/c/103727,1,d63e6f3d0b139c7fcf79a3191de8d33a63257a50,a26e3369c53db4eb28a21e77efeaf164a302e8e4,0,26/08/17,26/08/17,604,Prepare 4.5.4-SNAPSHOT builds,"Prepare 4.5.4-SNAPSHOT builds

Change-Id: Id8b902bf2bf590b41f2e246c5ecf1592e1c411f2
Signed-off-by: Matthias Sohn <matthias.sohn@sap.com>",1,0,0,1,1,0,1,NA,NA
103728,I0d91c89e1b20ceff52c38b759abf906cc94e9902,https://git.eclipse.org/r/#/c/103728,1,eeef3ab4c0cb69381bd30c98e325115dffd82c91,b14e59947681c2dccfc8a712f8e59c1aa71add04,1,26/08/17,26/08/17,8,Fix unthrown exception errors in CloneCommandTest,"Fix unthrown exception errors in CloneCommandTest

The Eclipse compiler raises errors for unthrown exceptions declared to
be thrown by test methods introduced in 88e45399.

Change-Id: I0d91c89e1b20ceff52c38b759abf906cc94e9902
Signed-off-by: Matthias Sohn <matthias.sohn@sap.com>",0,0,0,0,0,0,0,0,0
103735,Idc90b249df044d0552f04edf01a5f607c4846f50,https://git.eclipse.org/r/#/c/103735,2,12a6f07acccbd370e649cc52fbc0ac164eb6c13a,cd6d561cfbeb81262b599b67c09fa51b844036d7,0,26/08/17,28/08/17,323,Enhance Eclipse save actions,"Enhance Eclipse save actions

Add the following Eclipse save actions executed when saving modified
lines. This should help to reduce manual work needed to maintain a clean
and consistent code style:
- organize imports
- always use braces around blocks
- add missing annotations
  - @Override including implementation of interface methods
  - @Deprecated
- remove
  - unused imports
  - unnecessary $NON-NLS$ tags
  - redundant type arguments

Change-Id: Idc90b249df044d0552f04edf01a5f607c4846f50
Signed-off-by: Matthias Sohn <matthias.sohn@sap.com>",0,0,0,0,0,0,0,NA,NA
103737,I948e306693a9edb7b199a735877413b6eddcfba4,https://git.eclipse.org/r/#/c/103737,2,8ab7a4baa4e4bab45f12c7cda9ad1da479ada4a5,ee36e3807639604614ee969d27ce9bfee7df81d2,0,27/08/17,27/08/17,1,FetchCommand: pass on CredentialsProvider to submodule fetches,"FetchCommand: pass on CredentialsProvider to submodule fetches

When a JGit API command is implemented in terms of other API
commands, the child command must ""inherit"" all relevant settings.
Calling configure() ensures that the CredentialsProvider and the
connection timeout are propagated correctly.

Bug: 515325
Change-Id: I948e306693a9edb7b199a735877413b6eddcfba4
Signed-off-by: Thomas Wolf <thomas.wolf@paranor.ch>",0,0,0,0,0,0,0,NA,NA
103744,I7f94ab2e206e93d1370467e187c5e68e8f6a8836,https://git.eclipse.org/r/#/c/103744,6,ee36e3807639604614ee969d27ce9bfee7df81d2,a87623dd087ff9f87e79ab020195fbebe117c8d2,0,27/08/17,05/09/17,4,SubmoduleConfig: Simplify #toConfigValue,"SubmoduleConfig: Simplify #toConfigValue

Just return configValue instead of transforming name().

Change-Id: I7f94ab2e206e93d1370467e187c5e68e8f6a8836
Signed-off-by: David Pursehouse <david.pursehouse@gmail.com>",0,1,0,0,0,1,1,NA,NA
103818,If1080ad90b8aff54a903d4d75637614faad6469b,https://git.eclipse.org/r/#/c/103818,7,74eed78e7d664e53f51783edf864c3b26c0a5d77,d56a8b57c005540fb400f9dc3db1ff670703f1a4,1,29/08/17,04/09/17,9,Use Config.getEnum() to read the IgnoreSubmoduleMode,"Use Config.getEnum() to read the IgnoreSubmoduleMode

Doing so goes through the TypedConfigGetter and thus allows library
clients (for instance EGit) to warn about invalid configurations.

Note that the handling of submodule.*.ignore appears to be broken
in JGit in several respects:

1. According to [1], the value in .gitmodules can be overridden
   in $GIT_DIR/config, which in turn can be overridden on the command
   line. These overrides are not implemented in JGit.
   
2. IndexDiff appears to handle the setting incorrectly. See lines
   IndexDiff.java, lines 526ff. First, it overrides the command-line
   setting (field IndexDiff.ignoreSubmoduleMode) with the per-submodule
   setting from .gitmodules iff it is ""ALL"". Second, it loads that
   config value only on the first submodule, but then applies it to
   all remaining submodules encountered.

These bugs are _not_ fixed by this commit.

[1] https://git-scm.com/docs/gitmodules

Change-Id: If1080ad90b8aff54a903d4d75637614faad6469b
Signed-off-by: Thomas Wolf <thomas.wolf@paranor.ch>",0,1,0,0,0,0,1,-1,0
103870,If22f2c63c36fec6b32818d2c2acecf20531b4185,https://git.eclipse.org/r/#/c/103870,2,a3dc2c788e862665bc2dfbab0e47c9528de01004,17ac1a473a4eeb9f557d1b0b5d9d78752c94f252,1,29/08/17,29/08/17,11,Pass along the original exception when an ssh connection fails,"Pass along the original exception when an ssh connection fails

Otherwise, the stack trace doesn't really tell anything.
See for instance [1].

[1] https://www.eclipse.org/forums/index.php/t/1088535/

Change-Id: If22f2c63c36fec6b32818d2c2acecf20531b4185
Signed-off-by: Thomas Wolf <thomas.wolf@paranor.ch>",0,0,0,0,0,0,0,0,0
103902,I879a47f68e664129e6124cf25c1ae1f6a2d7a5aa,https://git.eclipse.org/r/#/c/103902,1,17ac1a473a4eeb9f557d1b0b5d9d78752c94f252,7a510deefd07c7398f4fc6462f0b1b85b17be67a,0,29/08/17,29/08/17,68,"Partially revert c0ad77d8 ""Enhance Eclipse save actions""","Partially revert c0ad77d8 ""Enhance Eclipse save actions""

Revert the following save actions which were introduced in c0ad77d8:
- always use braces around blocks
- remove unused imports

Other than I expected save actions are run globally on edited files -
and not only on edited code lines only.

Hence revert the save action ""Convert control statement bodies to
blocks"" which would affect a large number of code lines not affected by
the change editing some small part of a class. This would generate a
large number of changes which may lead to many unnecessary conflicts.
Total number of affected lines across jgit would be around 10k lines.

Also revert ""Remove unused imports"" since it erroneously removes imports
of some annotations needed by pgm classes using args4j.

Change-Id: I879a47f68e664129e6124cf25c1ae1f6a2d7a5aa
Signed-off-by: Matthias Sohn <matthias.sohn@sap.com>",0,0,0,0,0,0,0,NA,NA
103903,I7c08b60fb6afafd1874210320da3da7519632e08,https://git.eclipse.org/r/#/c/103903,1,7a510deefd07c7398f4fc6462f0b1b85b17be67a,9ad51cb392348ceb3323ef3a1af4418f668294bc,1,29/08/17,29/08/17,22,Cleanup: Remove trailing whitespace,"Cleanup: Remove trailing whitespace

Change-Id: I7c08b60fb6afafd1874210320da3da7519632e08
Signed-off-by: Matthias Sohn <matthias.sohn@sap.com>",0,0,0,1,0,0,1,0,0
103904,I6065e59519bc42bd18f5cc5ee3ec5210764ab03c,https://git.eclipse.org/r/#/c/103904,2,9ad51cb392348ceb3323ef3a1af4418f668294bc,6674d0f4b3454df333ba2fb2da06130e2f59f5e8,1,29/08/17,30/08/17,46,Cleanup: Organize imports,"Cleanup: Organize imports

Change-Id: I6065e59519bc42bd18f5cc5ee3ec5210764ab03c
Signed-off-by: Matthias Sohn <matthias.sohn@sap.com>",0,0,0,1,0,0,1,0,0
103905,I143c9d62b89322509123d4e06a221dd4dc158c55,https://git.eclipse.org/r/#/c/103905,3,d9a6531b8f1138e2720d4a3357f56f86e07b631c,5413ccd3f846d0a143d8bfcddfa0269117937c43,1,29/08/17,30/08/17,2,Cleanup: Remove unnecessary $NON-NLS$ tags,"Cleanup: Remove unnecessary $NON-NLS$ tags

Change-Id: I143c9d62b89322509123d4e06a221dd4dc158c55
Signed-off-by: Matthias Sohn <matthias.sohn@sap.com>",0,0,0,1,0,0,1,0,0
103906,I81ce2e25666f5acfce4d3ada6b71ae8c81a97a4d,https://git.eclipse.org/r/#/c/103906,3,bb78f79ffdf5d0f78d22a4f2f2866caae9b4a46e,8cbd3858fa666ec2ea66b8d98660ee5670fe1e4c,0,29/08/17,30/08/17,2,Cleanup: Remove redundant type arguments,"Cleanup: Remove redundant type arguments

Change-Id: I81ce2e25666f5acfce4d3ada6b71ae8c81a97a4d
Signed-off-by: Matthias Sohn <matthias.sohn@sap.com>",0,0,0,1,0,0,1,NA,NA
103910,I5a91292c3b9241ce2dde3e4ecce14ad460097129,https://git.eclipse.org/r/#/c/103910,1,c8f6aa7c43ceb7c6e7df6e64753449532a57509f,e9d369229256c71ad90d46160be1db5e5eb2fb86,0,30/08/17,30/08/17,34,"Partially revert c0ad77d8 ""Enhance Eclipse save actions""","Partially revert c0ad77d8 ""Enhance Eclipse save actions""

Do not automatically organize imports using a save action since this
seems to be buggy and removed some annotations org.eclipse.jgit.pgm
needs to use args4j.

Change-Id: I5a91292c3b9241ce2dde3e4ecce14ad460097129
Signed-off-by: Matthias Sohn <matthias.sohn@sap.com>",0,0,0,0,0,0,0,NA,NA
103911,I4d53d75d0cdd1a13fff7d513a6ae0b2d14ea4090,https://git.eclipse.org/r/#/c/103911,1,c079eaf1937efe9e92d48e24ddf1e4f65874d27b,a58d38e981e949ee38d19297aa6b9739a3b44e32,1,30/08/17,30/08/17,54,DfsFsck: run connectivity check pass exactly once,"DfsFsck: run connectivity check pass exactly once

The simpler algorithm is to load all branch tips into an ObjectWalk
and run that walk exactly once.  This avoids redoing work related to
parsing and considering trees reused across side branches.

Move the connectivity check into its own helper method.  This moves it
left one level of identation, and makes it easier to fit the method's
logic with less line wrapping.

Add a ""Counting objects..."" progress monitor around this phase.  Its
what is used when a server receives a push and is also trying to
verify the client sent all required objects.

Change-Id: I4d53d75d0cdd1a13fff7d513a6ae0b2d14ea4090",0,0,0,0,0,0,0,0,0
103913,Iaf5a0e14fe0349215d9e44446f68d1129ad3bb3d,https://git.eclipse.org/r/#/c/103913,2,a58d38e981e949ee38d19297aa6b9739a3b44e32,1745dd9d06be54451db3b6e385d27c0138f666b3,1,30/08/17,30/08/17,58,DfsFsck: refactor pack verify into its own method,"DfsFsck: refactor pack verify into its own method

This simplifies the logic about allocation of the DfsReader, and
clarifies the code considerably by using smaller scopes with less
intentation.

A few static imports from PackExt and slightly shorter variable names
make for a more understandable-at-glance implementation.

Change-Id: Iaf5a0e14fe0349215d9e44446f68d1129ad3bb3d",0,0,0,0,0,0,0,0,0
103914,Ib68f93acb4d91b96d0a44c0612f704500d332ac1,https://git.eclipse.org/r/#/c/103914,2,1745dd9d06be54451db3b6e385d27c0138f666b3,402f8d8f004cc7bfb14fceaca55dbf7b0d9e73e1,1,30/08/17,30/08/17,24,DfsFsck: reduce memory usage during verifyIndex,"DfsFsck: reduce memory usage during verifyIndex

Don't convert a lot of ObjectId to String stored in generic
java.util.HashSet.  This is a very expensive way to store objects.

Instead rely on ""this"" from the FsckPackParser to lookup information
about the objects in this pack file, which lets the verify code avoid
sorting the object list.

Use ObjectIdOwnerMap, which is the most efficient format JGit has
for storing lots of objects.

Change-Id: Ib68f93acb4d91b96d0a44c0612f704500d332ac1",0,0,0,0,0,0,0,0,0
103921,I461a5f6bfc114757061d68992f9bc7ab38622328,https://git.eclipse.org/r/#/c/103921,3,fd97ad4164109a1dd37c9d3821b8e7d7881aa297,7456497bb15d16cfde1b76434f1547dd72a3fa8a,0,30/08/17,01/09/17,18,Add org.apache.commons.codec 1.9.0 to target platform,"Add org.apache.commons.codec 1.9.0 to target platform

This is needed to run tests in org.eclipse.jgit.http.test from Eclipse.
The change 7ac1bfc8 which added this dependency to
org.eclipse.jgit.http.test was already merged.

CQ: 14048
Change-Id: I461a5f6bfc114757061d68992f9bc7ab38622328
Signed-off-by: Matthias Sohn <matthias.sohn@sap.com>",0,0,0,0,0,0,0,NA,NA
103993,I42a3c2399cb937cd7884116a2a32fcaa7a418fcb,https://git.eclipse.org/r/#/c/103993,5,23bcf36f28e1a4e8dbb82b19b8b2655677cb879f,d44fd91012cd992eacaf5e5ea5ed4f06d31216d3,1,30/08/17,11/09/17,939,Support http.<url>.* configs,"Support http.<url>.* configs

Git has a rather elaborate mechanism to specify HTTP configuration
options per URL, based pattern matching the URL against ""http""
subsection names.[1] The URLs used for this matching are always the
original URIs; redirected URLs do not participate.

Implement this for JGit. Factor out the HttpConfig from TransportHttp
and implement the matching and override mechanism.

The set of supported settings is still the same; JGit currently
supports only followRedirects, postBuffer, and sslVerify, plus the
JGit-specific maxRedirects key.

Add tests for path normalization and prefix matching only on segment
separators, and use the new mechanism in SmartClientSmartServerSslTest
to disable sslVerify selectively for only the test server URLs.

Compare also bug 374703 and bug 465492. With this commit it would be
possible to set sslVerify to false for only the git server using a
self-signed certificate instead of having to switch it off globally
via http.sslVerify.

[1] https://git-scm.com/docs/git-config

Change-Id: I42a3c2399cb937cd7884116a2a32fcaa7a418fcb
Signed-off-by: Thomas Wolf <thomas.wolf@paranor.ch>",0,1,0,0,1,0,1,3,1
104050,If718236964d2c5cf869e120c74f1a12965f4812e,https://git.eclipse.org/r/#/c/104050,4,403e0befaae151571ec579825fdde6e0d89d1748,9393de6063d1ae201f9f70d78fcf9745ca71fc28,1,31/08/17,21/09/17,143,Added API to TextBuiltin for piped usage.,"Added API to TextBuiltin for piped usage.

Added a public method to TextBuiltin which makes it possible for
clients to initialize all of its state, including output and error
streams.  This gives clients the ability to customize the way in
which a command is run.

Change-Id: If718236964d2c5cf869e120c74f1a12965f4812e
Signed-off-by: Ned Twigg <ned.twigg@diffplug.com>",0,1,0,0,0,0,1,0,0
104069,I23338c04567f95aedd909ab310e01277e8f7db69,https://git.eclipse.org/r/#/c/104069,2,477d1d49290c03e035a7973deebef79eca545da5,cbfd0d2610d16e4ae67bb4e4bb1ba367593a3c0f,0,31/08/17,31/08/17,12,Silence API errors caused by adding enum constants in 1baf86d4d2,"Silence API errors caused by adding enum constants in 1baf86d4d2

Change-Id: I23338c04567f95aedd909ab310e01277e8f7db69
Signed-off-by: David Pursehouse <david.pursehouse@gmail.com>",0,0,0,1,0,1,1,NA,NA
104070,Id1ada1cedfad5671e79df303c6dbcb6017b777ce,https://git.eclipse.org/r/#/c/104070,2,35c57fd78b8a5395cfd2bbceab96c781d7086da4,820b52c2d53ba8e3492369d4d34e0a0b6d52648f,1,31/08/17,31/08/17,18,FsckPackParser: Fix warnings about variable hiding,"FsckPackParser: Fix warnings about variable hiding

Change-Id: Id1ada1cedfad5671e79df303c6dbcb6017b777ce
Signed-off-by: David Pursehouse <david.pursehouse@gmail.com>",0,0,0,1,0,0,1,0,0
104071,I27a13a402e94104af617be0e14d8982e75fa73bd,https://git.eclipse.org/r/#/c/104071,2,71b4324b5819d0a8a2485e88717a559a15a3cfbe,fd1f7acf8c06361fec82f70fbe0eee7ffacf812d,1,31/08/17,31/08/17,3,"FsckPackParser: Fix ""Empty block should be documented"" warnings","FsckPackParser: Fix ""Empty block should be documented"" warnings

Add ""Do nothing"" comments, consistent with other empty methods in
the same class.

Change-Id: I27a13a402e94104af617be0e14d8982e75fa73bd
Signed-off-by: David Pursehouse <david.pursehouse@gmail.com>",0,0,0,0,0,0,0,0,0
104073,I525164090e3990ce353bbb1627aaafaad2c903b6,https://git.eclipse.org/r/#/c/104073,3,a253a3e1a0a531e1c6b4017cb2356cd7d5c165a4,c5d1cd04a3a8bfb6fbaaf1e571b33baaa6470e73,1,31/08/17,31/08/17,3,FsckPackParser: Suppress warning about int being boxed to Integer,"FsckPackParser: Suppress warning about int being boxed to Integer

Change-Id: I525164090e3990ce353bbb1627aaafaad2c903b6
Signed-off-by: David Pursehouse <david.pursehouse@gmail.com>",0,0,0,1,0,0,1,0,0
104078,I0c49ee9b8f64fe8a8c74d2f08865917eb33069b4,https://git.eclipse.org/r/#/c/104078,1,60d636b68defee1d48c42b9eef25dfe799f37afb,b985151ee1d51f6ebeabe0542015b9bf6e002633,0,31/08/17,31/08/17,9,Add dependency to jsch for OpenSshConfigTest to bazel build,"Add dependency to jsch for OpenSshConfigTest to bazel build

Make jsch visible to the test bundle and add the dependency.

Change-Id: I0c49ee9b8f64fe8a8c74d2f08865917eb33069b4
Signed-off-by: Thomas Wolf <thomas.wolf@paranor.ch>",0,0,0,0,0,0,0,NA,NA
104090,I7069676d5cc7b23a71e79a4866fe8acab5a405f4,https://git.eclipse.org/r/#/c/104090,1,b985151ee1d51f6ebeabe0542015b9bf6e002633,be888b2d92affacf811105ad7988d86558c44c28,1,31/08/17,01/09/17,20,Fix some tests for running in bazel,"Fix some tests for running in bazel

Some tests call out to external cgit. Those tests all failed for me
locally on Mac. Turned out that the reason was that the system git
config used by the git in the bazel run contained paths with ~/ but
somehow $HOME was not set. As a result the external git returned
with exit code 128.

Fix this by passing along $HOME explicitly. Also improve assertions
to make sure we do get the stderr of the external command in the
test log.

I hadn't noticed that until now because apparently the maven build
does pass along $HOME.

Change-Id: I7069676d5cc7b23a71e79a4866fe8acab5a405f4
Signed-off-by: Thomas Wolf <thomas.wolf@paranor.ch>",0,0,0,0,0,0,0,0,0
104129,Ic440657e3da53b643f79fbcdde45d4e659bc166d,https://git.eclipse.org/r/#/c/104129,1,355b7e1e0711b074417d618e7ed22b7574116e11,a2b4930c2cadd464ae067b1131d60364bd9fc42d,0,01/09/17,01/09/17,4,Upgrade args4j to 2.33 in the bazel build,"Upgrade args4j to 2.33 in the bazel build

Change-Id: Ic440657e3da53b643f79fbcdde45d4e659bc166d",0,0,0,1,0,1,1,NA,NA
104130,I20d864c869f2d03f623ea054b6d08e7ee0eb262a,https://git.eclipse.org/r/#/c/104130,2,5c6c3f56c363b25f2ef321c5383e1782eeb30498,1d3f9d58bfe8499267a5a2752ce99e60a548f0bf,0,01/09/17,02/09/17,8,Upgrade error_prone_core to 2.1.1,"Upgrade error_prone_core to 2.1.1

Also upgrade:

- maven-compiler-plugin to 3.6.2
- plexus-compiler-javac{-error-prone} to 2.8.2

Change-Id: I20d864c869f2d03f623ea054b6d08e7ee0eb262a
Signed-off-by: David Pursehouse <david.pursehouse@gmail.com>",0,0,0,0,0,1,1,NA,NA
104131,I2d90263829d01d208632185b1ec2f678ae1a3f4c,https://git.eclipse.org/r/#/c/104131,3,44c1d8f0398cd65444d7b8f3e08d7bbbec5ad1ca,c82b54f75f219368d19c933faf558a45491e2961,1,01/09/17,05/09/17,114,ObjectCheckerTest: Factor duplicated instantiations out to constants,"ObjectCheckerTest: Factor duplicated instantiations out to constants

Change-Id: I2d90263829d01d208632185b1ec2f678ae1a3f4c
Signed-off-by: David Pursehouse <david.pursehouse@gmail.com>",0,0,1,1,0,1,1,0,0
104222,Ie1abada9a3d389ad4d8d52c2d5265d2764e3fb0e,https://git.eclipse.org/r/#/c/104222,7,06ceb35b62cb9235bab1410715f784db2b2afae1,dd7613cbbd6ec05795edf8f9642b61377d35caa7,1,02/09/17,13/09/17,484,Handle SSL handshake failures in TransportHttp,"Handle SSL handshake failures in TransportHttp

When a https connection could not be established because the SSL
handshake was unsuccessful, TransportHttp would unconditionally
throw a TransportException.

Other https clients like web browsers or also some SVN clients
handle this more gracefully. If there's a problem with the server
certificate, they inform the user and give him a possibility to
connect to the server all the same.

In git, this would correspond to dynamically setting http.sslVerify
to false for the server.

Implement this using the CredentialsProvider to inform and ask the
user. We offer three choices:

1. trust the server for the current git operation, or
2. trust the server always from now on for requests originating from
   the current repository, or
3. always trust the server from now on.

For (1), we just suppress SSL verification for the current instance of
TransportHttp.

For (2), we store a http.<uri>.sslVerify = false setting for the
original URI in the repo config.

For (3), we store the http.<uri>.sslVerify setting in the git user
config.

Adapt the SmartClientSmartServerSslTest such that it uses this
mechanism instead of setting http.sslVerify up front.

Bug: 374703
Change-Id: Ie1abada9a3d389ad4d8d52c2d5265d2764e3fb0e
Signed-off-by: Thomas Wolf <thomas.wolf@paranor.ch>",0,1,1,0,0,0,1,1,1
104234,I58223855022871ac4b21bd34ff6a9cd00fce30a1,https://git.eclipse.org/r/#/c/104234,3,6f924f5a602dae65ddf1344d36bcfbc7f99fd35f,d380d5619bb8c72662cd576347d733e2abfa8914,1,03/09/17,05/09/17,2,SubmoduleConfigTest: Add additional tests in fetchRecurseToConfigValue,"SubmoduleConfigTest: Add additional tests in fetchRecurseToConfigValue

Add tests for ""true"" and ""false"" matching to ""YES"" and ""NO"".

Change-Id: I58223855022871ac4b21bd34ff6a9cd00fce30a1
Signed-off-by: David Pursehouse <david.pursehouse@gmail.com>",0,0,0,0,0,1,1,0,0
104245,I2deeb607e3d237f9f825a207533acdee305c7e73,https://git.eclipse.org/r/#/c/104245,2,b7b81614c71cb60dea1a7ed1e76c9d0117b1a60b,cbc22b73530e7b128f345e1e637525871e80166a,0,04/09/17,04/09/17,40,Remove workaround for bug in Java's ReferenceQueue,"Remove workaround for bug in Java's ReferenceQueue

Sun's Java 5, 6, 7 implementation had a bug [1] where a Reference can be
enqueued and dequeued twice on the same reference queue due to a race
condition within ReferenceQueue.enqueue(Reference).

This bug was fixed for Java 8 [2] hence remove the workaround.

[1] http://bugs.sun.com/bugdatabase/view_bug.do?bug_id=6837858
[2] http://hg.openjdk.java.net/jdk8/jdk8/jdk/rev/858c75eb83b5

Change-Id: I2deeb607e3d237f9f825a207533acdee305c7e73
Signed-off-by: Matthias Sohn <matthias.sohn@sap.com>",0,0,0,0,0,0,0,NA,NA
104264,I9d6014103e6dcb0173daea134feb44dc52c5c69a,https://git.eclipse.org/r/#/c/104264,3,c03fa098e734a30e37f852e921b7170fb924341d,f7d4d26fd3d31227739a5d77e28e4164a0c688c0,1,04/09/17,04/09/17,227,Fix Daemon.stop() to actually stop the listener thread,"Fix Daemon.stop() to actually stop the listener thread

ServerSocket.accept() is not interruptible: a thread busy in accept()
may not react to Thread.interrupt() and may not return from accept()
via an InterruptedException. Close the socket instead to make the
daemon's listener thread terminate.

* Close the listening socket to get the listening thread to exit
  instead of interrupting it.
* Add a stopAndWait() method that stops the listening thread and
  then waits until it has indeed finished.
* Set SO_REUSE_ADDRESS on the listening socket.

Bug: 376369
Change-Id: I9d6014103e6dcb0173daea134feb44dc52c5c69a
Signed-off-by: Thomas Wolf <thomas.wolf@paranor.ch>",0,0,0,0,0,0,0,0,0
104304,Ib3dee10828d87d6b558c2e90387eadd9aa2ce260,https://git.eclipse.org/r/#/c/104304,2,f7d4d26fd3d31227739a5d77e28e4164a0c688c0,13fc7501fa23b46943edf02995da5b96142b4f4d,1,04/09/17,04/09/17,16,Remove final modifier on args4j option or argument fields,"Remove final modifier on args4j option or argument fields

Remove final field modifier since args4j does no longer allow use of
final fields [1].

[1] https://github.com/kohsuke/args4j/commit/6e11f89d40dcc518c0e5eb9eef5d74f05d58e6af

Change-Id: Ib3dee10828d87d6b558c2e90387eadd9aa2ce260
Signed-off-by: Matthias Sohn <matthias.sohn@sap.com>",0,0,0,0,0,0,0,0,0
104315,I1161a82269b7f093c00c9533ed8b99b7cca0a322,https://git.eclipse.org/r/#/c/104315,2,56600a9ea49b067ed100e290ee82414da394190a,628310b6113fa51f27bf2d91c2ae4cba83653f61,0,05/09/17,05/09/17,5,Main: Replace deprecated ExampleMode with OptionHandlerFilter,"Main: Replace deprecated ExampleMode with OptionHandlerFilter

Change-Id: I1161a82269b7f093c00c9533ed8b99b7cca0a322
Signed-off-by: David Pursehouse <david.pursehouse@gmail.com>",0,0,0,1,0,1,1,NA,NA
104330,Ia985bda1d99f45a5f89c8020ca4845e7a66e743e,https://git.eclipse.org/r/#/c/104330,3,f11902edbcc503aa2242674286ec922fc03e9372,658081527ee3599b56ecc969365c1c5c64e99cb7,1,05/09/17,08/09/17,87,Fix missing RefsChangedEvent when packed refs are used,"Fix missing RefsChangedEvent when packed refs are used

With atomic ref updates using packed refs, JGit did not fire a
RefsChangedEvent. This resulted in a user-visible regression in
EGit: the UI would not update after a ""Fetch from upstream..."".
Presumably it would also make Gerrit miss out on ref changes?

Strengthen the BatchRefUpdateTest by also asserting the expected
number of RefsChangedEvents, and ensure modCnt is incremented in
RefDirectory.commitPackedRefs() when refs really changed (as opposed
to some internal housekeeping operation, such as packing loose refs).

Bug: 521296
Change-Id: Ia985bda1d99f45a5f89c8020ca4845e7a66e743e
Signed-off-by: Thomas Wolf <thomas.wolf@paranor.ch>",0,0,1,0,0,0,1,1,1
104344,Ida7b9ddc991515ab233763f2cb985853c9143a3c,https://git.eclipse.org/r/#/c/104344,2,580b5aec5212de44ea9d5f85a0655b272e5690be,fad7edf31f5303ac99d8a820c120a7f4bd8504b1,1,05/09/17,05/09/17,9,UntrackedFilesHandler: Fix non-localized string,"UntrackedFilesHandler: Fix non-localized string

Change-Id: Ida7b9ddc991515ab233763f2cb985853c9143a3c
Signed-off-by: David Pursehouse <david.pursehouse@gmail.com>",0,0,0,1,0,1,1,0,0
104345,I241eda16e242293ceb17b3c85ae5df85bd37c658,https://git.eclipse.org/r/#/c/104345,2,1ed5abc6884d977d14c589e13ce9b1cfe4809023,1f099602dc01aeece524f419b7ad63a8cdef2d98,1,05/09/17,05/09/17,107,Stop using deprecated CmdLineException constructors,"Stop using deprecated CmdLineException constructors

Instead of taking a String, the constructors now take a Localizable
and a variable list of format arguments.

Introduce a new Format helper class in CLIText, which implements the
Localizable interface, and use it in place of raw Strings.

Change-Id: I241eda16e242293ceb17b3c85ae5df85bd37c658
Signed-off-by: David Pursehouse <david.pursehouse@gmail.com>",0,0,0,0,0,1,1,0,0
104405,I206682a60ad9228c89efa22f8db9e72e19f17f6d,https://git.eclipse.org/r/#/c/104405,1,18780ee4424d803f42776365597682475488dd5d,c1837d5a5723d875985172187c20c7473afb39ae,0,05/09/17,06/09/17,28,Remove no longer needed API problem filters,"Remove no longer needed API problem filters

Change-Id: I206682a60ad9228c89efa22f8db9e72e19f17f6d
Signed-off-by: Matthias Sohn <matthias.sohn@sap.com>",0,0,0,1,0,0,1,NA,NA
104597,Id4750bb6c1c177e1ef040fd22912f434bbb5e992,https://git.eclipse.org/r/#/c/104597,1,575e4cccc712bb22c97c44f4649b837b2b01f15e,b82fad4bd7403da71598ab6e18b31c7b83152845,1,06/09/17,06/09/17,10,Remove dead warning about minUpdaeIndex and maxUpdateIndex affecting refresh,"Remove dead warning about minUpdaeIndex and maxUpdateIndex affecting refresh

DfsGarbageCollector always performs refreshes.  This warning was from
a prior iteration of the patch set and should have been removed before
the change was merged.

Change-Id: Id4750bb6c1c177e1ef040fd22912f434bbb5e992",1,0,0,0,0,0,1,0,0
104617,Iaaf3a4375cd43760b7181c1bd10244de8b2c5d9e,https://git.eclipse.org/r/#/c/104617,1,b82fad4bd7403da71598ab6e18b31c7b83152845,f2fcdbb3637d433b635d5b4626418c8598b252fe,1,06/09/17,06/09/17,16,DfsGarbageCollector: support disabling conversion to reftable,"DfsGarbageCollector: support disabling conversion to reftable

When a repository is initially created using only reftable but doesn't
yet have a GC pack, the garbage collector shouldn't scan the ref
database. Support disabling the reftable conversion path.

Change-Id: Iaaf3a4375cd43760b7181c1bd10244de8b2c5d9e",0,0,0,0,0,0,0,0,0
104618,I97f6998d0597251444a2e846a3ea1f461bae96f9,https://git.eclipse.org/r/#/c/104618,2,f2fcdbb3637d433b635d5b4626418c8598b252fe,80e4ed630360eea3561bef81a57e0f5d8b4fab18,1,07/09/17,07/09/17,42,ReceivePack: clear advertised .haves if application changes refs,"ReceivePack: clear advertised .haves if application changes refs

An application can choose to invoke setAdvertisedRefs multiple times,
for example several AdvertiseRefsHook installed in a chain. Each of
these invocations populates the advertisedHaves collection with the
unique set of ObjectIds.

This can lead to a server over-advertising with "".have"" lines if the
first hook pushes in a lot of references, and the second hook filters
this to a subset.  ReceivePack will advertise the unique objects from
the first hook using "".have"" lines, which may lead to a huge
advertisement sent to the client.

This can also contribute to a very slow connetivity check after the
pack is parsed as ReceivePack calls markUninteresting on every commit
in advertisedHaves.  This may require expanding a lot of subtrees to
mark all trees as uninteresting as well.  On a very big repository
this can lead to a many-second stall.

Clear the advertisedHaves collection anytime the refs are updated.
Add a test to verify the correct set of objects was sent.

Change-Id: I97f6998d0597251444a2e846a3ea1f461bae96f9",0,0,0,0,0,0,0,0,0
104644,Ic3fac7fc568eee4759236a5264d2e7e5f9b9716d,https://git.eclipse.org/r/#/c/104644,1,80e4ed630360eea3561bef81a57e0f5d8b4fab18,125ae9a5d7a858f2a256b2d133a3f0ecc8dbf105,1,07/09/17,07/09/17,49,Add FetchCommand#setRefSpecs(String...) variant,"Add FetchCommand#setRefSpecs(String...) variant

Much of the time the caller can specify a RefSpec succinctly using a
string, and doesn't care about calling setters. Add a convenience method
for this case, and use it where applicable in JGit core.

Change-Id: Ic3fac7fc568eee4759236a5264d2e7e5f9b9716d",0,0,0,0,0,1,1,0,0
104685,If3ebed08c8f4e2cc925a97dbdd4c84410bc7c4a5,https://git.eclipse.org/r/#/c/104685,1,28d58b3c1165ab63f091103d3277692ec677ca84,918742f5f0dadb638b692c6f6e50e1db6fbb164a,1,08/09/17,08/09/17,8,Implement CommandRef.toString() to help debugging,"Implement CommandRef.toString() to help debugging

Change-Id: If3ebed08c8f4e2cc925a97dbdd4c84410bc7c4a5
Signed-off-by: Matthias Sohn <matthias.sohn@sap.com>",0,0,0,1,0,0,1,0,0
105169,I170c21ab92b4117f25fdf940fe6807f214b04d39,https://git.eclipse.org/r/#/c/105169,2,d7cac0029769f23d912575caf27b348b62fb144b,2e58bbe8f71f949e5ebd5b117632bddfc8e81815,0,15/09/17,20/09/17,22,SubmoduleUpdateCommand: Add fetch callback,"SubmoduleUpdateCommand: Add fetch callback

When the submodule already exists, it is fetched instead of
cloned.

Use the fetch callback instead of clone callback in this case.

Change-Id: I170c21ab92b4117f25fdf940fe6807f214b04d39
Signed-off-by: David Pursehouse <david.pursehouse@gmail.com>",0,0,1,0,0,1,1,NA,NA
105592,I038a5d976d95020fea3faac68e9178f923c25b28,https://git.eclipse.org/r/#/c/105592,3,9d6b83e8848991602fec58df2442a09c439206a6,b90e907184761dcdd83a05cc777d8958035806e2,1,21/09/17,01/10/17,44,Checkout now reports failures through exceptions.,"Checkout now reports failures through exceptions.

Checkout sometimes throws an exception, and
other times it writes an error message to outw
and returns normally, even though the command
failed.  This commit now reports all failures
through a die() exception.

Change-Id: I038a5d976d95020fea3faac68e9178f923c25b28
Signed-off-by: Ned Twigg <ned.twigg@diffplug.com>",0,0,0,0,0,0,0,0,0
105652,I1c397e2fb1a07ac4d9de3675d996417734ff90e9,https://git.eclipse.org/r/#/c/105652,1,4ce1458cb179ae630a0be3bae068ce2b6616d11a,685df9890f07f3fda69b7851de24c1066f81d170,1,23/09/17,23/09/17,21,Load the user config before modifying it,"Load the user config before modifying it

SystemReader.openUserConfig() does not load the config yet; an
explicit StoredConfig.load() is needed.

Bug: 374703
Change-Id: I1c397e2fb1a07ac4d9de3675d996417734ff90e9
Signed-off-by: Thomas Wolf <thomas.wolf@paranor.ch>",0,0,0,0,0,0,0,0,0
105810,Ibe7c562c17d6ef37de8b661ab7f6fa0246db01a2,https://git.eclipse.org/r/#/c/105810,1,685df9890f07f3fda69b7851de24c1066f81d170,3a5d62c990e9015e58074a83dbd6c465961f0805,1,26/09/17,26/09/17,48,HttpConfig: load user config before reading values from it,"HttpConfig: load user config before reading values from it

Same problem as in commit c227268: openUserConfig() just creates the
FileBasedConfig object, but doesn't read the file yet. An explicit
load() is needed.

As HttpConfig is read-only this omission did not cause any bad effects,
but it simply ignored values from the user config. Most uses of
HttpConfig go through the two-argument constructor, though, where
HttpConfig is given an already loaded repo config.

Change-Id: Ibe7c562c17d6ef37de8b661ab7f6fa0246db01a2
Signed-off-by: Thomas Wolf <thomas.wolf@paranor.ch>",0,0,0,0,0,0,0,0,0
106045,Ie9281d07462cd07200fadb4b0e7b7f88c44f7865,https://git.eclipse.org/r/#/c/106045,2,23f81433074aa3eb1f0c6a9348b12dd2a8510cf8,14a16d247d1bb8dfb086f73a61d374a7838d7140,0,30/09/17,30/09/17,1,Add the args4j jar,"Add the args4j jar

This allows the tests to all be built and run by bazel.

Bug: 525412
Change-Id: Ie9281d07462cd07200fadb4b0e7b7f88c44f7865
Signed-off-by: Pepper Lebeck-Jobe <eljobe@gmail.com>",0,0,0,0,0,0,0,NA,NA
106049,Ie9a54f89fe42e0c201f547ff54ff1d419ce37864,https://git.eclipse.org/r/#/c/106049,2,07388a67db1f65f2424658724f0144e272b88499,f70627e0856f7f51aab699a9fe307304e4a699a3,1,30/09/17,30/09/17,17,ChangeIdUtilTest: Remove unused notestCommitDashV,"ChangeIdUtilTest: Remove unused notestCommitDashV

This test was never being run. Since it was introduced it was
named ""notest.."" which meant it didn't run with JUnit3, and
since it is not annotated @Test is doesn't run with JUnit4.

When compiling with Bazel 0.6.0 error-prone raises an error
that the public method is not annotated with @Ignore or @Test.

Given that the test has never been run anyway, we can just
remove it.

Bug: 525415
Change-Id: Ie9a54f89fe42e0c201f547ff54ff1d419ce37864
Signed-off-by: David Pursehouse <david.pursehouse@gmail.com>",0,0,0,0,0,0,0,0,0
106057,I87f52f512db4c89fa4e3e550ff97fdec843b8469,https://git.eclipse.org/r/#/c/106057,3,88d0a204d5259a93169333900171fbd67450bf3c,149f7f33fd08ec0acc216b16c0d51cd0070e713b,0,30/09/17,05/10/17,124,Add photon target platform jgit-4.8.target,"Add photon target platform jgit-4.8.target

Change-Id: I87f52f512db4c89fa4e3e550ff97fdec843b8469
Signed-off-by: Matthias Sohn <matthias.sohn@sap.com>",0,0,0,1,0,0,1,NA,NA
106061,I08ea33d71e6009cf0f37e6492a475931f447256b,https://git.eclipse.org/r/#/c/106061,4,125e1aade57dbd3e6ea23faae5e8ea96aa5056e3,0c66292907f57f97a7737a492c9d656d595a1976,1,01/10/17,06/11/17,4,"Suppress ""Unlikely argument type for equals()"" warnings in tests","Suppress ""Unlikely argument type for equals()"" warnings in tests

This new warning was introduced in Eclipse 4.7 Oxygen [1].

The only instances of the warning are in test code that is asserting
that some class does not compare equal to Strings. As in the Gerrit
project [2] these asserts are arguably overkill, but arguably also
a reasonable test of an equals implementation. Ignore the warning in
these cases.

Note that if the project is opened in an earlier version of Eclipse,
a warning ""Unsupported @SuppressWarnings"" will be emitted.

[1] https://www.eclipse.org/eclipse/news/4.7/M6/
[2] https://gerrit-review.googlesource.com/#/c/gerrit/+/110339/

Change-Id: I08ea33d71e6009cf0f37e6492a475931f447256b
Signed-off-by: David Pursehouse <david.pursehouse@gmail.com>",0,1,0,0,0,1,1,0,0
106185,I29f9b2ac1607ee26521e8aba334facd20e4ad79c,https://git.eclipse.org/r/#/c/106185,5,024b2389fa386655cadf2fe62532849c5925acb9,581160c49ddcbe272d9c0d818b890ff4b198b4b7,0,04/10/17,06/10/17,16,Terminate StreamCopy threads in case of errors - fix NPE: don't invoke close() if no exception happened.,"Terminate StreamCopy threads in case of errors
- fix NPE: don't invoke close() if no exception happened.

Bug: 513554


Change-Id: I29f9b2ac1607ee26521e8aba334facd20e4ad79c
Signed-off-by: Till Brychcy <register.eclipse@brychcy.de>",0,1,0,0,0,0,1,NA,NA
106246,Ic3fee0512d35b4f555c60e696a880f8b192e4439,https://git.eclipse.org/r/#/c/106246,10,8331db50db957a449a3d2e8868518d1138cde4c5,52e0a471d8eb1fb447f767a825b28880f74cd2ea,1,04/10/17,06/10/17,145,Use a RevWalk for validating not advertised wants,"Use a RevWalk for validating not advertised wants

Shadow commits in the RevWalk in the UploadPack object may cause the
UNINTERESTING flag not being carried into their parents commits, since
they were marked NO_PARENTS during the assumeShallow or
initializeShallowCommits call.

A new RevWalk needs to be created for this reason, but to instead of
creating a new ObjectReader from new RevWalk(Repository), we can reuse
the ObjectReader in the RevWalk of UploadPack to load objects.

Change-Id: Ic3fee0512d35b4f555c60e696a880f8b192e4439
Signed-off-by: Zhen Chen <czhen@google.com>",0,1,0,0,0,0,1,0,0
106411,I487f6aa3d0c4ef1d57f91cdc36177d994ae24c51,https://git.eclipse.org/r/#/c/106411,1,e71f7047d0bf7f5da682555ccf48c744321387e1,5dc7353fbbd4584bdc3fe8d42159219f7db18706,0,07/10/17,07/10/17,118,JGit v4.9.0.201710071750-r,"JGit v4.9.0.201710071750-r

Change-Id: I487f6aa3d0c4ef1d57f91cdc36177d994ae24c51
Signed-off-by: Matthias Sohn <matthias.sohn@sap.com>",1,0,0,1,0,0,1,NA,NA
106416,Ic49fd093d3fe4324c4d83aba74033040fcaa37a6,https://git.eclipse.org/r/#/c/106416,1,4c6cc336a3951cbd0c0858ff08a1b02e9a13add1,613d43f53d13c4744b069fa719c9048397fa1a3a,0,08/10/17,08/10/17,666,Prepare 4.9.1-SNAPSHOT builds,"Prepare 4.9.1-SNAPSHOT builds

Change-Id: Ic49fd093d3fe4324c4d83aba74033040fcaa37a6
Signed-off-by: Matthias Sohn <matthias.sohn@sap.com>",1,0,0,1,1,0,1,NA,NA
106419,I5ca462d1db18a2c5c9382cfb9c83972510fa2b88,https://git.eclipse.org/r/#/c/106419,1,c6d356ad8bdbfcff30a138c9b6ec71062349dce1,b81a781fe39a32fbde071f2cbf7806df90476b02,0,08/10/17,08/10/17,666,Prepare 4.10.0-SNAPSHOT builds,"Prepare 4.10.0-SNAPSHOT builds

Change-Id: I5ca462d1db18a2c5c9382cfb9c83972510fa2b88
Signed-off-by: Matthias Sohn <matthias.sohn@sap.com>",1,0,0,1,1,0,1,NA,NA
106432,Iac83a1d999ad66774d10de984a5b6dc581d43d0f,https://git.eclipse.org/r/#/c/106432,2,b81a781fe39a32fbde071f2cbf7806df90476b02,c1fb952d7eed5a6184ae9f0f0fce17372455a7a4,0,09/10/17,16/10/17,648,Merge branch 'stable-4.9',"Merge branch 'stable-4.9'

* stable-4.9:
  Prepare 4.9.1-SNAPSHOT builds
  JGit v4.9.0.201710071750-r

Change-Id: Iac83a1d999ad66774d10de984a5b6dc581d43d0f
Signed-off-by: David Pursehouse <david.pursehouse@gmail.com>",0,0,1,0,1,1,1,NA,NA
106478,I8899e0faf1e4e6386dfd57340dfa4f4fdebc3cf3,https://git.eclipse.org/r/#/c/106478,1,e1a436206bca8d22d56e42edae495bf794d0c680,3c004d5c9fff2d3885196a9897a527924fe5db31,1,09/10/17,09/10/17,5,Skip unreachable garbage packs in dfs fsck,"Skip unreachable garbage packs in dfs fsck

Change-Id: I8899e0faf1e4e6386dfd57340dfa4f4fdebc3cf3
Signed-off-by: Zhen Chen <czhen@google.com>",0,0,0,1,0,0,1,0,0
106516,Idd202d20251f2d1653e5f1ca374fe644c2cf205f,https://git.eclipse.org/r/#/c/106516,12,3c004d5c9fff2d3885196a9897a527924fe5db31,7acf07f549b49d818c2bdbdd3957379f23bbdcae,1,10/10/17,24/10/17,328,Introduce RawText#openText.,"Introduce RawText#openText.

This method reads a blob, but avoids reading the blob if the start
contains nul bytes. This should reduce the amount of garbage that
Gerrit produces for changes with binaries.

Signed-off-by: Han-Wen Nienhuys <hanwen@google.com>
Change-Id: Idd202d20251f2d1653e5f1ca374fe644c2cf205f",0,1,1,0,0,0,1,0,0
106519,Ide4b68872d426aa262142f224acf636c776b35d3,https://git.eclipse.org/r/#/c/106519,14,3843fb328af9d8a6a06e655a683a288298f1b25b,1f7ede8fe25c0fc36aca200f9eacdb3a1765e5e6,1,10/10/17,24/10/17,172,Avoid loading and merging binary data in ResolveMerger,"Avoid loading and merging binary data in ResolveMerger

TODO:
 * tests?

Signed-off-by: Han-Wen Nienhuys <hanwen@google.com>
Change-Id: Ide4b68872d426aa262142f224acf636c776b35d3",0,1,1,0,0,0,1,0,0
109895,I3270af3850c4fb7bae9123a0a6582f93055c9780,https://git.eclipse.org/r/#/c/109895,3,88e9224163241726e2a774f1ec39e41341e53888,2b971e6b16ca0dd6441767edb634476b24d2e52e,1,12/10/17,17/10/17,14,"Avoid bad rounding ""1 year, 12 months"" in date formatter","Avoid bad rounding ""1 year, 12 months"" in date formatter

Round first, then calculate the labels. This avoids ""x years, 12 months""
and instead produces ""x+1 years"".

One test case has been added for the original example the bug was found
with, and one assertion has been moved from an existing test case to the
new test case, since it also triggered the bug.

Bug: 525907
Change-Id: I3270af3850c4fb7bae9123a0a6582f93055c9780
Signed-off-by: Michael Keppler <Michael.Keppler@gmx.de>",0,0,1,0,0,0,1,0,0
110209,Id4342a199628d9406bfa04af1b023c27a47d4014,https://git.eclipse.org/r/#/c/110209,7,1b998d4ea028291da59aa403765b4bf3a1aaa761,72aaa9891193f07eb566e8a230149a798a36a597,1,17/10/17,24/10/17,70,Throw BinaryBlobException from RawParseUtils#lineMap.,"Throw BinaryBlobException from RawParseUtils#lineMap.

This makes detection of binaries exact, if we use ResolveMerger or
DiffFormatter, then we will classify files as binary regardless of
where the '\0' occurs in the text.

Signed-off-by: Han-Wen Nienhuys <hanwen@google.com>
Change-Id: Id4342a199628d9406bfa04af1b023c27a47d4014",0,1,1,0,0,0,1,0,0
110345,I1511699664ffea07cb58ed751cfdb79b15e3a99e,https://git.eclipse.org/r/#/c/110345,1,c9f7d645f64ecd5a5c9e0d0e016bd78c560ed28c,b90186b001d1f704f65a0531c7796601fa5d2d33,1,18/10/17,22/10/17,70,Ensure that ~ in ssh config is replaced before Jsch sees it,"Ensure that ~ in ssh config is replaced before Jsch sees it

Do tilde replacement for values from the ssh config file that are
file names in all cases to make sure that they are already replaced
when Jsch tries to get the values.

Previously, OpenSshConfig did tilde replacement only for the
IdentityFile in the JGit-facing ""Host"" interface and left the
replacement in the Jsch-facing ""Config"" interface to Jsch.

But on Windows the JGit notion of what should be used to replace the
tilde differs from Jsch's replacement. Jsch always replaces the tilde
by the value of the system property ""user.home"", whereas JGit also
considers some environment variables like %HOME%. This can lead to
rather surprising failures as in the case of bug 526175 where
%HOME% != user.home.

Prior to commit 9d24470 (i.e.,prior to JGit 4.9.0) this problem never
occurred because Jsch was completely unaware of the ssh config file
and all host and IdentityFile handling happened exclusively in JGit.

Bug: 526175
Change-Id: I1511699664ffea07cb58ed751cfdb79b15e3a99e
Signed-off-by: Thomas Wolf <thomas.wolf@paranor.ch>",0,0,1,0,0,0,1,0,0
110473,Ifa530f8bc82459611ae694c0a0d111daec3e08f3,https://git.eclipse.org/r/#/c/110473,1,f28621ecfa8a8cf23127986cb7df8cdcf39274bf,4f6b9275ba2ac4a6504d9a34e8a4b379310daceb,1,20/10/17,26/10/17,18,Align PackStatistics and DfsPackDescription list length,"Align PackStatistics and DfsPackDescription list length

Without this the caller cannot tell which PackStatistics is for which
pack file.

Change-Id: Ifa530f8bc82459611ae694c0a0d111daec3e08f3
Signed-off-by: Masaya Suzuki <masayasuzuki@google.com>",0,0,1,0,0,0,1,0,0
110495,I3270af3850c4fb7bae9123a0a6582f93055c9780,https://git.eclipse.org/r/#/c/110495,1,9c815e459322fe81a4ba6ad80ad88d1976365f80,ed01e97206d9f27c7e0877480a509690117606c6,1,23/10/17,23/10/17,14,"Avoid bad rounding ""1 year, 12 months"" in date formatter","Avoid bad rounding ""1 year, 12 months"" in date formatter

Round first, then calculate the labels. This avoids ""x years, 12 months""
and instead produces ""x+1 years"".

One test case has been added for the original example the bug was found
with, and one assertion has been moved from an existing test case to the
new test case, since it also triggered the bug.

Bug: 525907
Change-Id: I3270af3850c4fb7bae9123a0a6582f93055c9780
Signed-off-by: Michael Keppler <Michael.Keppler@gmx.de>
Signed-off-by: Matthias Sohn <matthias.sohn@sap.com>",0,0,0,0,0,1,1,0,0
110496,If6ca55f9447aaea3d7c2d36c03520d5e6dd5193e,https://git.eclipse.org/r/#/c/110496,1,fc8b1315d9ad54b3d3a6bc3a5ddf7c82b21e1aad,9e20a4d1a9c9457b8fb8803a9b69995b567ff8d9,0,23/10/17,23/10/17,0,Merge branch 'stable-4.9',"Merge branch 'stable-4.9'

* stable-4.9:
  Avoid bad rounding ""1 year, 12 months"" in date formatter
  Ensure that ~ in ssh config is replaced before Jsch sees it

Change-Id: If6ca55f9447aaea3d7c2d36c03520d5e6dd5193e
Signed-off-by: David Pursehouse <david.pursehouse@gmail.com>",1,0,0,0,0,0,1,NA,NA
110510,I6e5d29390b71a1c123bc90ec2e3435706ea9211c,https://git.eclipse.org/r/#/c/110510,1,9e20a4d1a9c9457b8fb8803a9b69995b567ff8d9,84c4057dc638c7e3a57a918a8b6dc0840d60265f,1,23/10/17,24/10/17,10,Add missing @since tags for new API in ReceiveCommand,"Add missing @since tags for new API in ReceiveCommand

Change-Id: I6e5d29390b71a1c123bc90ec2e3435706ea9211c
Signed-off-by: Matthias Sohn <matthias.sohn@sap.com>",0,0,0,1,0,0,1,0,0
110512,I78ada3f4023c4304b19f94fb044024f0f0b2cbbe,https://git.eclipse.org/r/#/c/110512,2,33f4a37fcf2edae956c39641e2b84a75f8a09577,81aefad58d1786967cc390bc497b0396a331150e,1,23/10/17,24/10/17,38,Introduce ObjectLoader.Filter for delegation,"Introduce ObjectLoader.Filter for delegation

Signed-off-by: Han-Wen Nienhuys <hanwen@google.com>
Change-Id: I78ada3f4023c4304b19f94fb044024f0f0b2cbbe",0,0,0,0,0,0,0,0,0
110557,I04912b32b55dd61ad2d2e7ccb5d688655b1dc335,https://git.eclipse.org/r/#/c/110557,2,380f94c248dce567ad3e05ec12677767f61a3847,e8435f31ff67cbe4919dd427aa885a1142bbb674,1,24/10/17,24/10/17,2,Fix typo in comment,"Fix typo in comment

Signed-off-by: Han-Wen Nienhuys <hanwen@google.com>
Change-Id: I04912b32b55dd61ad2d2e7ccb5d688655b1dc335",0,0,0,0,0,0,0,0,0
110567,Ifa76a1b95935e52640b81cd53c171eb17da175c2,https://git.eclipse.org/r/#/c/110567,2,cc0feddfefc4a6e1b3a8387c56c1ea19bbf515fe,b2e06be46b25f96c9a75c1371b1caf37f61f8109,1,24/10/17,25/10/17,70,"Revert ""Throw BinaryBlobException from RawParseUtils#lineMap.""","Revert ""Throw BinaryBlobException from RawParseUtils#lineMap.""

This reverts commit f2e64cd895a6aa4f18ab3b876f13b7814fb98f04.

The newly added throws clause breaks backward compatibility. 

Change-Id: Ifa76a1b95935e52640b81cd53c171eb17da175c2
Signed-off-by: Han-Wen Nienhuys <hanwen@google.com>",0,0,0,0,0,0,0,0,0
110579,I48ba4308dee73925fa32d6c2fd6b5fd89632c571,https://git.eclipse.org/r/#/c/110579,1,460a8df91b1bbfba9e0f44676b6beaa2030cf300,4ba879df98b2bd426de5e2b2924ff8e681baf80d,1,24/10/17,02/11/17,68,Reintroduce protected method which removal broke EMF Compare,"Reintroduce protected method which removal broke EMF Compare

So far we follow OSGi semantic versioning [1] which says the following:

""A change in the second (minor) part of the version signals that the
change is backward compatible with consumers of the API package but not
with the providers of that API. That is, when the API package goes from
version 1.5 to 1.6 it is no longer compatible with a provider of that
API but consumers of that API are backward compatible with that API
package.""

The change Ib5fbf17bdaf727bc5d0e106ce88f2620d9f87a6f broke EMF Compare
which subclasses ResolveMerger since we added a new parameter to the
protected ResolveMerger.processEntry() method. According to the above
cited OSGi semantic versioning this is ok, implementers should expect
that they break on minor version changes of the API they implement.

This change reintroduces the old processEntry() method in order to help
avoid breakage for existing EMF Compare versions which expect breakage
also for the implementer case only for major version change (in this
case from JGit 4.x to 5.x).

[1] http://www.osgi.org/wp-content/uploads/SemanticVersioning1.pdf

See: https://dev.eclipse.org/mhonarc/lists/jgit-dev/msg03431.html
Change-Id: I48ba4308dee73925fa32d6c2fd6b5fd89632c571
Signed-off-by: Matthias Sohn <matthias.sohn@sap.com>",0,0,0,0,0,0,0,0,0
110586,I2874713f120f09bcbd33a1c48645e25fb5bf9259,https://git.eclipse.org/r/#/c/110586,1,32aee7895c2e645307c66bc43d8ebc345d933e8d,97467416b462eeb4f798e756bbb82005bdd34abe,0,25/10/17,25/10/17,1,Update .mailmap,"Update .mailmap

Before:

$ git shortlog -n -s | grep Han
    14    Han-Wen Nienhuys
     1    Han-Wen NIenhuys

After:

$ git shortlog -n -s | grep Han
    15    Han-Wen Nienhuys

Change-Id: I2874713f120f09bcbd33a1c48645e25fb5bf9259
Signed-off-by: David Pursehouse <david.pursehouse@gmail.com>",0,0,0,0,0,0,0,NA,NA
110593,I0f0c5fd2a11739e7a02071adae9a5550985d4df6,https://git.eclipse.org/r/#/c/110593,3,97467416b462eeb4f798e756bbb82005bdd34abe,af02eea5e4df6b075b095dd57702b440fd9f6b80,1,25/10/17,14/11/17,65,FileUtils.toPath to convert File to Path,"FileUtils.toPath to convert File to Path

When invoking File.toPath(), an (unchecked) InvalidPathException may be
thrown which should be converted to a checked IOException.

Change-Id: I0f0c5fd2a11739e7a02071adae9a5550985d4df6
Signed-off-by: Marc Strapetz <marc.strapetz@syntevo.com>",0,0,0,0,0,0,0,0,0
110623,I2e6ea106ed5e6568eaf421ce5794bfe446c6cadb,https://git.eclipse.org/r/#/c/110623,2,322ef1a21e7a80597990288e09f0fddb6d8cb569,2a3c68c58eb8330f3574dae9ab2e322ebc7d22fc,0,26/10/17,01/11/17,2,Upgrade error_prone_core to 2.1.2,"Upgrade error_prone_core to 2.1.2

Change-Id: I2e6ea106ed5e6568eaf421ce5794bfe446c6cadb
Signed-off-by: David Pursehouse <david.pursehouse@gmail.com>",0,0,0,1,0,1,1,NA,NA
110674,I51fa855a8883c107f2e4ef5ac039dc12a571a7ae,https://git.eclipse.org/r/#/c/110674,2,004961d8b47a4da773b5921ea6cd94bea5ae3d70,f38c3395ee2b44d61c1c5aa3541a1ff175698766,1,27/10/17,30/10/17,8,Move loggers to the top of their class,"Move loggers to the top of their class

There is a possibility of hitting NPE on a logger if it is not the first
statically initialized member. For example, if another static
initializer creates an instance of its class and the logger is used
from the constructor.

Change-Id: I51fa855a8883c107f2e4ef5ac039dc12a571a7ae",0,0,1,0,0,0,1,0,0
110862,I00711b28594622ad3bd104332334e8a3592cda7f,https://git.eclipse.org/r/#/c/110862,1,0003fb8d1bcbd12e5eeecbc921b760610657cb96,a57d82659d29b457b1906a16d43c9e1d55051bc6,0,01/11/17,01/11/17,2,ObjectDirectory: Remove last modified check in insertPack,"ObjectDirectory: Remove last modified check in insertPack

GC explicitly handles the case where a new pack has the same name as an
existing pack due to it containing the exact same set of objects. In
this case, the pack passed to insertPack will have the same name as an
existing pack, but it will also almost certainly have a later mtime than
the existing pack.

The loop in insertPack tried to short-circuit when inserting a new pack,
to avoid walking more of the pack list than necessary. Unfortunately,
this means it will never get to the check for an identical name,
resulting in a duplicate entry for the same PackFile in the pack list.
Remove the short-circuit so that insertPack does not insert a duplicate
entry.

Change-Id: I00711b28594622ad3bd104332334e8a3592cda7f",0,0,0,0,0,1,1,NA,NA
110863,I9490c4583fdf801de9c0bb09595ebb8fb4926988,https://git.eclipse.org/r/#/c/110863,2,a57d82659d29b457b1906a16d43c9e1d55051bc6,3c1c5d59c9df90f8c2aa966b1d58613f4a3571a7,1,01/11/17,01/11/17,26,ObjectDiretory: Factor a method to close open pack handles,"ObjectDiretory: Factor a method to close open pack handles

Change-Id: I9490c4583fdf801de9c0bb09595ebb8fb4926988",0,0,0,1,0,1,1,0,0
110864,I2074418f4e65853b7113de5eaced3a6b037d1a17,https://git.eclipse.org/r/#/c/110864,2,3c1c5d59c9df90f8c2aa966b1d58613f4a3571a7,79edb4c8bd051e4385318d6d9f7c95d7ba546e42,1,01/11/17,01/11/17,839,FileRepository: Add pack-based inserter implementation,"FileRepository: Add pack-based inserter implementation

Applications that use ObjectInserters to create lots of individual
objects may prefer to avoid cluttering up the object directory with
loose objects. Add a specialized inserter implementation that produces a
single pack file no matter how many objects. This inserter is loosely
based on the existing DfsInserter implementation, but is simpler since
we don't need to buffer blocks in memory before writing to storage.

An alternative for such applications would be to write out the loose
objects and then repack just those objects later. This operation is not
currently supported with the GC class, which always repacks existing
packs when compacting loose objects. This in turn requires more
CPU-intensive reachability checks and extra I/O to copy objects from old
packs to new packs.

So, the choice was between implementing a new variant of repack, or not
writing loose objects in the first place. The latter approach is likely
less code overall, and avoids unnecessary I/O at runtime.

The current implementation does not yet support newReader() for reading
back objects.

Change-Id: I2074418f4e65853b7113de5eaced3a6b037d1a17",0,0,0,0,1,1,1,0,0
110865,I60050e5127d12b6139d81859dba929fcfaabe504,https://git.eclipse.org/r/#/c/110865,2,1e24927b6faffb83e80516d3613f6381957a9104,e79f4980f0eed8f8b1efce8bd2e41f308a3e453b,1,01/11/17,01/11/17,18,Move some strings from DfsText to JGitText,"Move some strings from DfsText to JGitText

Change-Id: I60050e5127d12b6139d81859dba929fcfaabe504",0,0,0,1,0,1,1,0,0
110866,Ib9e7f6439332eaed3d936f895a5271a7d514d3e9,https://git.eclipse.org/r/#/c/110866,3,373a4445089c95c50d382b367b2214aa310c0768,b18f1932acefe5a171c6f0d17f019cef19cfd1c3,1,01/11/17,01/11/17,353,PackInserter: Implement newReader(),"PackInserter: Implement newReader()

Change-Id: Ib9e7f6439332eaed3d936f895a5271a7d514d3e9",0,0,0,1,0,1,1,1,1
110890,Ifc9ed6f5d8336bc978818a64eae122bceb933e5d,https://git.eclipse.org/r/#/c/110890,1,05307c4e2386a4c77735b5d76befac28ef0fb813,7916677cf719da2c8fa170b59e6699c8d43e9ace,0,01/11/17,02/11/17,0,Merge branch 'stable-4.9',"Merge branch 'stable-4.9'

* stable-4.9:
  PackInserter: Implement newReader()
  Move some strings from DfsText to JGitText
  FileRepository: Add pack-based inserter implementation
  ObjectDirectory: Factor a method to close open pack handles
  ObjectDirectory: Remove last modified check in insertPack

Change-Id: Ifc9ed6f5d8336bc978818a64eae122bceb933e5d",0,0,0,0,0,0,0,NA,NA
110948,Ic1c2c5b6e3955a1404780e51206513d226600e4b,https://git.eclipse.org/r/#/c/110948,2,762f9f6667049214a65f8684225eaa0fee2b3dbc,4225977e72826428f8f5138ece588f816408be41,0,02/11/17,05/11/17,10,Update spotbugs-maven-plugin to 3.1.0-RC7,"Update spotbugs-maven-plugin to 3.1.0-RC7

Change-Id: Ic1c2c5b6e3955a1404780e51206513d226600e4b
Signed-off-by: Matthias Sohn <matthias.sohn@sap.com>",1,0,1,1,0,0,1,NA,NA
111018,If9b6c1e57fac8a6a0ecc0a703089634caba4caae,https://git.eclipse.org/r/#/c/111018,4,d2bf63d08d99bf76fcf4a4782e9a24eeae077e53,343385c1bbc9bb5d7fef6ba41ea4006a3fcdcbbe,1,05/11/17,30/11/17,131,GC: Delete stale temporary packs and indexes,"GC: Delete stale temporary packs and indexes

When a GC operation is interrupted, temporary packs and indexes can be
left on the pack folder. In big, busy repositories this can lead to
significant amounts of wasted disk space if this interruption is done
with a certain frequency.

Remove stale temporary packs and objects at the end of the GC process so
they do not accumulate.

Change-Id: If9b6c1e57fac8a6a0ecc0a703089634caba4caae
Signed-off-by: Hector Caballero <hector.caballero@ericsson.com>",0,1,1,0,0,0,1,0,0
111083,Icbd17d158cfe3ba4dacbd8a11a67f9e7607b41b3,https://git.eclipse.org/r/#/c/111083,1,ad7cc1c2cbbaee7484b13c6fdfdeed8b68eb371a,6e60f00f37bae47a24278f34d5e8cec872bf6e32,1,06/11/17,10/11/17,18,UploadPackTest: construct commits in test method,"UploadPackTest: construct commits in test method

In a subsequent commit, more tests will be added. This commit allows
those tests to reuse fields.

Change-Id: Icbd17d158cfe3ba4dacbd8a11a67f9e7607b41b3
Signed-off-by: Jonathan Tan <jonathantanmy@google.com>",0,0,1,0,0,0,1,0,0
111084,I740bc4bfc4e4e3c857d1ee7d25fe45e90cd22a75,https://git.eclipse.org/r/#/c/111084,7,6e60f00f37bae47a24278f34d5e8cec872bf6e32,8b34daaf91ccc00e7d6e780262d5632f3882bb3c,1,06/11/17,10/11/17,395,Make PackWriterBitmapWalker public,"Make PackWriterBitmapWalker public

Make this class public and move it to a more central location, in
preparation for its use by another class (in a subsequent commit).

Change-Id: I740bc4bfc4e4e3c857d1ee7d25fe45e90cd22a75
Signed-off-by: Jonathan Tan <jonathantanmy@google.com>",0,1,1,0,0,0,1,1,1
111085,I68ed4abd0e477ff415c696c7544ccaa234df7f99,https://git.eclipse.org/r/#/c/111085,8,af4afe57d415e02e48da0e9c676823ded5255010,9ea83578531e4f4fa77ba956de3eafbe0e7950c0,1,06/11/17,10/11/17,122,Use bitmaps for non-commit reachability checks,"Use bitmaps for non-commit reachability checks

Currently, unless RequestPolicy#ANY is used, UploadPack rejects all
non-commit ""want"" lines unless they were advertized. This is fine,
except when ""uploadpack.allowreachablesha1inwant"" is true
(corresponding to RequestPolicy#REACHABLE_COMMIT), in which case one
would expect that ""want""-ing anything reachable would work.

(There is no restriction that ""want"" lines must only contain commits -
it is allowed for refs to directly point to trees and blobs, and
requesting for them using ""want"" lines works.)

This commit has been written to avoid performance regressions as much
as possible. In the usual (and currently working) case where the only
unadvertized things requested are commits, we do a standard RevWalk in
order to avoid incurring the cost of loading bitmaps. However, if
unadvertized non-commits are requested, bitmaps are used instead, and
if there are no bitmaps, a WantNotValidException is thrown (as is
currently done).

Change-Id: I68ed4abd0e477ff415c696c7544ccaa234df7f99
Signed-off-by: Jonathan Tan <jonathantanmy@google.com>",0,1,1,0,0,0,1,0,0
111086,I22a8874b1e571df3c33643b365036d95f52fe7c7,https://git.eclipse.org/r/#/c/111086,8,4fa06416114492269fa4642e77d02b5b475f5afc,0e484493d75431267d71e1b2cfd67e833b6bb545,1,06/11/17,10/11/17,23,BitmapWalker: do not revisit objects in bitmap,"BitmapWalker: do not revisit objects in bitmap

Currently, BitmapWalker walks through every object returned by the
internal ObjectWalk, regardless of whether that object has already
been marked in the bitmap. Set an object filter to ensure that only
bitmap-unmarked objects are walked through.

Change-Id: I22a8874b1e571df3c33643b365036d95f52fe7c7
Signed-off-by: Jonathan Tan <jonathantanmy@google.com>",0,1,1,0,0,0,1,0,0
111176,Id466909d70ec6f828c904692139891dec880305e,https://git.eclipse.org/r/#/c/111176,4,6090fa207057f6bc4d573f7c27d8ddc7b824aa46,5ed1310c9b5b4dd9431857772c137fec3d7364f4,1,07/11/17,07/11/17,6,Check non-flushed packs for existence of object,"Check non-flushed packs for existence of object

Also extends DfsReader instead of ObjectReader since it is for dfs
system.

Change-Id: Id466909d70ec6f828c904692139891dec880305e
Signed-off-by: Zhen Chen <czhen@google.com>",0,1,0,0,0,0,1,0,0
111205,I040aaaf4e3f1e3458e0ece52d1d046f501272fc2,https://git.eclipse.org/r/#/c/111205,4,5ed1310c9b5b4dd9431857772c137fec3d7364f4,3fe61e24ad54adaf2b1e3cc3bbe9fe95d1351810,0,08/11/17,15/11/17,4,TreeWalk: Fix indentation,"TreeWalk: Fix indentation

Change-Id: I040aaaf4e3f1e3458e0ece52d1d046f501272fc2
Signed-off-by: David Pursehouse <david.pursehouse@gmail.com>",0,1,1,1,0,1,1,NA,NA
111206,I5c9861aedabdc3f99dcf47519b3959a979e6a591,https://git.eclipse.org/r/#/c/111206,5,4821c13c873a22a1ca7edb7a1a8cbeca0212feb8,560f49ede773007291baecd2f37bcb158871be03,1,08/11/17,15/11/17,34,TreeWalk: Make getEolStreamType(OperationType) public,"TreeWalk: Make getEolStreamType(OperationType) public

and deprecate getEolStreamType().

This resolves a TODO that was apparently supposed to be done in
version 4.4.

Change-Id: I5c9861aedabdc3f99dcf47519b3959a979e6a591",0,1,1,0,0,1,1,0,0
111312,I5bb3a71f1e4f4e0e89b8a177c7019a74ee6194da,https://git.eclipse.org/r/#/c/111312,3,b49688236254e68b491561e356e55cc27c5c4bdd,735a1d4b9457fb535ad9b318289f365638ba619a,1,09/11/17,09/11/17,10,Reject pack if delta exceeds array size limit,"Reject pack if delta exceeds array size limit

JGit's delta handling code requires the target to be a single byte
array. Any attempt to inflate a delta larger than fits in the 2GiB
limit will fail with some form of array index exceptions. Check for
this overflow early and abort pack parsing.

Change-Id: I5bb3a71f1e4f4e0e89b8a177c7019a74ee6194da",0,0,0,0,0,0,0,0,0
111359,Ia327099b5210a037380b2750a7fd76ff25c41a5a,https://git.eclipse.org/r/#/c/111359,1,f0387e59c7b069ad15c0b6e5da38cf32484e7499,66cd190aa0198fa4df3ec5b1190dccdcedecddf3,1,10/11/17,10/11/17,36,Work around a Jsch bug: ensure the user name is set from URI,"Work around a Jsch bug: ensure the user name is set from URI

JSch unconditionally overrides the user name given in the connection
URI by the one found in ~/.ssh/config (if that does specify one for
the used host). If the SSH config file has a different user name,
we'll end up using the wrong name, which typically results in an
authentication failure or in Eclipse/EGit asking for a password for
the wrong user.

Unfortunately there is no way to prevent or circumvent this Jsch
behavior up front; it occurs already in the Session constructor at
com.jcraft.jsch.Session() and the Session.applyConfig() method. And
while there is a Session.setUserName() that would enable us to correct
this, that latter method has package visibility only.

So resort to reflection to invoke that setUserName() method to ensure
that Jsch uses the user name from the URI, if there is one.

Bug: 526778
Change-Id: Ia327099b5210a037380b2750a7fd76ff25c41a5a
Signed-off-by: Thomas Wolf <thomas.wolf@paranor.ch>",0,0,0,0,0,0,0,0,0
111374,I69e783141dc6739024e8b3d5acc30843edd651a7,https://git.eclipse.org/r/#/c/111374,5,218852e59e75917976b7e16f02928f8120ea9ec3,06de02a8e2c125f2793ded335c228188c68d5eba,1,10/11/17,15/11/17,40,ObjectDirectory: Add pack directory getter,"ObjectDirectory: Add pack directory getter

So far, in order to get the pack directory it was necessary to resolve
it from the object directory. This resolution is already done when
creating the object directory, so simplify the call by just adding a
getter to the pack directory.

Change-Id: I69e783141dc6739024e8b3d5acc30843edd651a7
Signed-off-by: Hector Caballero <hector.caballero@ericsson.com>",0,1,1,0,0,0,1,0,0
111400,I4182a1746b09dedab648e457d1ece6d667a01f12,https://git.eclipse.org/r/#/c/111400,2,1bc0dffee2d549726bad69848a496fc0e14a873f,60ff1b9b03beef7bfc29e4faf0549e8db097dada,1,10/11/17,11/11/17,1,Remove an unused import from PackParserTest,"Remove an unused import from PackParserTest

Change-Id: I4182a1746b09dedab648e457d1ece6d667a01f12
Signed-off-by: Matthias Sohn <matthias.sohn@sap.com>",0,0,0,1,0,0,1,0,0
111401,I335587eee279f91bd36c9ba9fc149b17a6db6110,https://git.eclipse.org/r/#/c/111401,2,86d5b9923decc8d98412c2923cfe634c04b66a42,1f69fa8fbb6f2646ca1bafa8bb4cf22bd2111e02,0,10/11/17,11/11/17,0,Merge branch 'stable-4.9',"Merge branch 'stable-4.9'

* stable-4.9:
  Work around a Jsch bug: ensure the user name is set from URI
  Reintroduce protected method which removal broke EMF Compare

Change-Id: I335587eee279f91bd36c9ba9fc149b17a6db6110
Signed-off-by: Matthias Sohn <matthias.sohn@sap.com>",0,0,0,0,0,0,0,NA,NA
111417,I654e8fdccdb16d796f920088429d188cc96734bc,https://git.eclipse.org/r/#/c/111417,4,44504e457ba382064dd59014d1c895dcbb06c29c,5283c2e1d85f809a40c76eff0f3a393684a09ff9,1,11/11/17,11/11/17,15,Add a setting for fsck to check connectivity only,"Add a setting for fsck to check connectivity only

The object checks may take a long time and sometimes we are only
interested in connectivity check.

Change-Id: I654e8fdccdb16d796f920088429d188cc96734bc
Signed-off-by: Zhen Chen <czhen@google.com>",0,1,0,0,0,0,1,0,0
111421,Ibc9b93f7722fffe10f3e770dfe7fdabfb3b97e74,https://git.eclipse.org/r/#/c/111421,2,fdb792df4d06a3ebfd2f44b236c22f8084116674,34ffa5de5d3a8c0bebbb829b7a0d74b92f0ee68c,1,11/11/17,20/11/17,65,Yet another work-around for a Jsch bug: timeouts,"Yet another work-around for a Jsch bug: timeouts

Jsch 0.1.54 passes on the values from ~/.ssh/config for
""ServerAliveInterval"" and ""ConnectTimeout"" as read from
the config file to java.net.Socket.setSoTimeout(). That
method expects milliseconds, but the values in the config
file are seconds!

The missing conversion in Jsch means that the timeout is
set way too low, and if the server doesn't respond within
that very short time frame, Jsch kills the connection and
then throws an exception with a message such as ""session is
down"" or ""timeout in waiting for rekeying process"".

As a work-around, do the conversion to milliseconds in the
Jsch-facing Config interface of OpenSshConfig. That way Jsch
already gets these values as milliseconds.

Bug: 526867
Change-Id: Ibc9b93f7722fffe10f3e770dfe7fdabfb3b97e74
Signed-off-by: Thomas Wolf <thomas.wolf@paranor.ch>",0,0,1,0,0,0,1,0,0
111495,Ia638517178313da42ae13ebcf88ad535d9a02723,https://git.eclipse.org/r/#/c/111495,1,f23aec170d88a63426f2a3fbb319b0cdb78748e9,fba83637999ef333aa15d81fb7dcbab0aaca6d84,0,13/11/17,14/11/17,7,Silence invalid @since 3.5 API warning on ResolveMerge#processEntry,"Silence invalid @since 3.5 API warning on ResolveMerge#processEntry

This method was removed in 4.9 and reintroduced in
I48ba4308dee73925fa32d6c2fd6b5fd89632c571 as deprecated in 4.9.1 in
order to help EMF Compare to avoid breakage.

Change-Id: Ia638517178313da42ae13ebcf88ad535d9a02723
Signed-off-by: Matthias Sohn <matthias.sohn@sap.com>",0,0,0,0,0,0,0,NA,NA
111502,Ie040a6b73d4a5eba5521e51d0ee4580713c84a3e,https://git.eclipse.org/r/#/c/111502,5,c509e8d7550d71c21b9aa619dcec17a88d06455c,59f2f29ed7a3ca9946e52fdc987bb9561654d3ac,1,14/11/17,14/11/17,332,ReftableCompactor should accept 0 for minUpdateIndex,"ReftableCompactor should accept 0 for minUpdateIndex

Do not use 0 as the unset value for minUpdateIndex, as input reftables
may have minUpdateIndex starting at 0.

Change-Id: Ie040a6b73d4a5eba5521e51d0ee4580713c84a3e
Signed-off-by: Minh Thai <mthai@google.com>",0,1,0,0,0,0,1,0,0
111548,I43c7e823c3090b19dc8202c1e4d7968e1fa8e6bb,https://git.eclipse.org/r/#/c/111548,1,16b5ecaea2c2daf70e8042fdc3855594cc2f18b6,8b4f30e94e15d8455eacc0c70fc55c68d08fb25c,0,14/11/17,15/11/17,5,Add return tag,"Add return tag

Eclipse was complaining about the missing tag for the return type.

Change-Id: I43c7e823c3090b19dc8202c1e4d7968e1fa8e6bb
Signed-off-by: Hector Caballero <hector.caballero@ericsson.com>",0,0,0,0,0,0,0,NA,NA
111639,Ib6d7fb6b56a94be307b07fefacf5d9c77fce0447,https://git.eclipse.org/r/#/c/111639,1,973470b06c68f34634c5a518f1e0566fff8c0b19,54ec83205c281b0ca1d0730f88985c0c16f35910,1,15/11/17,15/11/17,1,Remove unused import from ReftableCompactorTest,"Remove unused import from ReftableCompactorTest

Change-Id: Ib6d7fb6b56a94be307b07fefacf5d9c77fce0447
Signed-off-by: Matthias Sohn <matthias.sohn@sap.com>",0,0,0,1,0,0,1,0,0
111662,Id9f4df43d435a299ff16cef614821439edef9b11,https://git.eclipse.org/r/#/c/111662,7,150ec30e420269a62ba7aec0fe8d0aca62857c3a,9357c1805623e776bd74d5eadba6cff65933e602,1,15/11/17,16/11/17,117,Keeping ref tombstones in GC reftable,"Keeping ref tombstones in GC reftable

A tombstone will prevent a delayed reference update from resurrect the
deleted reference.  This is consistent with COMPACT reftable.

Change-Id: Id9f4df43d435a299ff16cef614821439edef9b11
Signed-off-by: Minh Thai <mthai@google.com>",0,1,0,0,0,0,1,0,0
111685,I07f5ad572b4642a7cdd76d92aa98f3b6c63d9fa2,https://git.eclipse.org/r/#/c/111685,1,3eb7295c7739b26d742b74dbe30b58f9907134b6,999c6442c11e4f87203d9c30eaea8111ec9b00b8,1,16/11/17,16/11/17,1,Preserve ref tombstone when compact top retable stack,"Preserve ref tombstone when compact top retable stack

Change-Id: I07f5ad572b4642a7cdd76d92aa98f3b6c63d9fa2
Signed-off-by: Minh Thai <mthai@google.com>",0,0,0,1,0,0,1,0,0
111828,I965860b4e0e9aa1adf6a1bb0735940cbd22adced,https://git.eclipse.org/r/#/c/111828,3,77321c90ce4ee74659db48589279bc7368f2128d,8d51657bd710af3fd4dea0a7bff542134902478e,0,17/11/17,20/11/17,20,Fix NPE in TransportGitSsh.ExtSession.exec(),"Fix NPE in TransportGitSsh.ExtSession.exec()

Bug: 527383
Change-Id: I965860b4e0e9aa1adf6a1bb0735940cbd22adced
Signed-off-by: Matthias Sohn <matthias.sohn@sap.com>",0,0,1,0,0,0,1,NA,NA
111853,I33b233f195c06855d9e094c8c9ba804fbe7b1438,https://git.eclipse.org/r/#/c/111853,1,4d3201dbb815e1fca57bd353bab890ed7a75c8e6,fea7f6a8d81a50099dc3a9cb94571099ddf88946,0,18/11/17,19/11/17,2,Remove final modifier on args4j argument field in RevParse,"Remove final modifier on args4j argument field in RevParse

Args4J does no longer allow to use final fields to reference
arguments or options [1]. Change RevParse to be compatibel with this
change.

[1] https://github.com/kohsuke/args4j/commit/6e11f89d40dcc518c0e5eb9eef5d74f05d58e6af

See-also: a0558b709448cea01cc0725fff73408d9b223c72
Signed-off-by: Rdiger Herrmann <ruediger.herrmann@gmx.de>
Change-Id: I33b233f195c06855d9e094c8c9ba804fbe7b1438",0,0,0,0,0,0,0,NA,NA
111854,I3345f52e0c2a555e4c5edb7effe4be4af4cca10a,https://git.eclipse.org/r/#/c/111854,1,fea7f6a8d81a50099dc3a9cb94571099ddf88946,fddb83e89cb8293c9c2049e72b340ebc78d0c1d1,0,18/11/17,20/11/17,3,Add missing help text for rev-parse's --verify option,"Add missing help text for rev-parse's --verify option

Change-Id: I3345f52e0c2a555e4c5edb7effe4be4af4cca10a
Signed-off-by: Matthias Sohn <matthias.sohn@sap.com>",0,0,0,1,0,0,1,NA,NA
111872,I5ac9e2f185f2210ee76970501710b99b12e93e75,https://git.eclipse.org/r/#/c/111872,2,e6f34d71584a04ddae126305248aeda22ed93d21,e0eac8c46189a1d3ac4d5550532bdcbf63560562,0,20/11/17,20/11/17,0,Merge branch 'stable-4.9',"Merge branch 'stable-4.9'

* stable-4.9:
  Remove final modifier on args4j argument field in RevParse

Change-Id: I5ac9e2f185f2210ee76970501710b99b12e93e75
Signed-off-by: David Pursehouse <david.pursehouse@gmail.com>",0,0,0,0,0,1,1,NA,NA
111920,I468106acd2006d0a174c76dfd4bce231f1c7a6f8,https://git.eclipse.org/r/#/c/111920,1,e0eac8c46189a1d3ac4d5550532bdcbf63560562,0ca23920afb477c602188db245fb94695182fa4e,1,20/11/17,20/11/17,74,Config: Handle leading/trailing single whitespaces,"Config: Handle leading/trailing single whitespaces

Change-Id: I468106acd2006d0a174c76dfd4bce231f1c7a6f8",0,0,0,1,0,1,1,0,0
112015,I2b65cfaa8f4aba2efbf8a5e865d3f09f927e2eec,https://git.eclipse.org/r/#/c/112015,1,c499ce607e0a47616300362905fc2efb72777266,1aaaf697495c3248ed1592e7942a08502f880686,0,21/11/17,22/11/17,11,Honor trustFolderStats also when reading packed-refs,"Honor trustFolderStats also when reading packed-refs

Then list of packed refs was cached in RefDirectory based on mtime of
the packed-refs file. This may fail on NFS when attributes are cached.
A cached mtime of the packed-refs file could cause JGit to trust the
cached content of this file and to overlook that the file is modified.

Honor the config option trustFolderStats and always read the packed-refs
content if the option is false. By default this option is set to true
and this fix is not active.

Change-Id: I2b65cfaa8f4aba2efbf8a5e865d3f09f927e2eec",0,0,0,0,0,1,1,NA,NA
112016,I3d2cc48d8eb280d5f7039eb94da37804f903be6a,https://git.eclipse.org/r/#/c/112016,9,518c95e561c89b076c31500aa42d5833c5c0b3c3,ae02efb1e5dc4c9a16b54989643489fc98f36427,1,21/11/17,22/11/17,130,Fix LockFile semantics when running on NFS,"Fix LockFile semantics when running on NFS

When running on NFS there was a chance that JGits LockFile
semantic is broken because File#createNewFile() may allow
multiple clients to create the same file in parallel. This
change provides a fix which is only used when the new config
option core.supportsAtomicCreateNewFile is set to false. The
default for this option is true.

If the config option core.supportsAtomicCreateNewFile is true
then File#createNewFile() is trusted and the behaviour doesn't
change.

But if core.supportsAtomicCreateNewFile is set to false then after
successful creation of the lock file a hardlink to that lock file is
created and the attribute nlink of the lock file is checked to be 2. If
multiple clients manage to create the same lock file nlink would be
greater than 2 showing the error.

This expensive workaround is described in
 https://www.time-travellers.org/shane/papers/NFS_considered_harmful.html
section III.d) ""Exclusive File Creation""

Change-Id: I3d2cc48d8eb280d5f7039eb94da37804f903be6a",0,1,0,0,0,1,1,1,1
112029,I7cf227c62a3c06f91cee1a6c61719b6fe50da883,https://git.eclipse.org/r/#/c/112029,1,3a759369780e1eb62a553c2f8c619b50a19d43af,0a58e37e6b52c1b5d5e751a562ca852f83a38dc5,0,22/11/17,22/11/17,0,Merge branch 'stable-4.9',"Merge branch 'stable-4.9'

* stable-4.9:
  Yet another work-around for a Jsch bug: timeouts

Change-Id: I7cf227c62a3c06f91cee1a6c61719b6fe50da883
Signed-off-by: David Pursehouse <david.pursehouse@gmail.com>",1,0,0,0,0,0,1,NA,NA
112040,I9c4a591b809cee702b2d064d74c9809c023c78c8,https://git.eclipse.org/r/#/c/112040,2,0a58e37e6b52c1b5d5e751a562ca852f83a38dc5,ce85d699e49662bbf90710600f8a4a6e24bb2bab,0,22/11/17,24/11/17,2,Upgrade maven-compiler-plugin to 3.7.0,"Upgrade maven-compiler-plugin to 3.7.0

Change-Id: I9c4a591b809cee702b2d064d74c9809c023c78c8
Signed-off-by: David Pursehouse <david.pursehouse@gmail.com>",0,0,0,1,0,1,1,NA,NA
112067,If70db9454befe683319b974ebd3774060be9445d,https://git.eclipse.org/r/#/c/112067,4,46a68b728f9b1274605277e2b151bc94ac1d81f7,462e362214a338317731bb9b5568ba4335f67184,1,22/11/17,24/11/17,8,Performance improvement on writing a large index,"Performance improvement on writing a large index

The index header consist of a 4-byte version number. The current
supported version numbers are 2 and 3. The code checks if any entries
are extended. If it find any entries that are extended if picks version
'3', otherwise it chooses version '2'.


DirCache.java
-Changed the 'extended' check to exit early when any entry is considered
'extended' in the index.

(Of course, I maybe missing a bitwise optimization that the is made in
the Java bytecode.)

Change-Id: If70db9454befe683319b974ebd3774060be9445d
Signed-off-by: Stephen Lawson <slawson@ptc.com>",0,1,0,0,0,0,1,1,1
112096,Ia1079da239c5b3fde1ba8d2acc4e465a46297b4d,https://git.eclipse.org/r/#/c/112096,1,2828ff16f1387db83ae95cd4f66fa5b1acd5a8e9,ece843b6d0b44aa3d23feb6eb54874177f117115,0,22/11/17,22/11/17,118,JGit v4.5.4.201711221230-r,"JGit v4.5.4.201711221230-r

Change-Id: Ia1079da239c5b3fde1ba8d2acc4e465a46297b4d
Signed-off-by: Matthias Sohn <matthias.sohn@sap.com>",0,0,0,1,0,0,1,NA,NA
112106,I71f946f2875716670a2d74c21a8ab38a1f53a25c,https://git.eclipse.org/r/#/c/112106,1,ece843b6d0b44aa3d23feb6eb54874177f117115,61675e9373e9ff7f3d65235950cbffcece69fc37,0,22/11/17,22/11/17,604,Prepare 4.5.5-SNAPSHOT builds,"Prepare 4.5.5-SNAPSHOT builds

Change-Id: I71f946f2875716670a2d74c21a8ab38a1f53a25c
Signed-off-by: Matthias Sohn <matthias.sohn@sap.com>",1,0,0,1,1,0,1,NA,NA
112116,Ie9c8e0d9172c8d53f075c284bf2a9677980d8dfb,https://git.eclipse.org/r/#/c/112116,1,0e36d2b7f946a7ccd11b2541f93f18b84cef660f,60042ece96390914cc00a8f77d1f6e9cef9275d8,0,22/11/17,22/11/17,783,Merge branch 'stable-4.5' into stable-4.6,"Merge branch 'stable-4.5' into stable-4.6

* stable-4.5:
  Prepare 4.5.5-SNAPSHOT builds
  JGit v4.5.4.201711221230-r
  Fix LockFile semantics when running on NFS
  Honor trustFolderStats also when reading packed-refs
  Prepare 4.5.4-SNAPSHOT builds
  JGit v4.5.3.201708160445-r

Change-Id: Ie9c8e0d9172c8d53f075c284bf2a9677980d8dfb
Signed-off-by: Matthias Sohn <matthias.sohn@sap.com>",1,0,0,0,1,0,1,NA,NA
112117,I36c40eb91ce0c51f89b47911fa14beffcbc0a7cd,https://git.eclipse.org/r/#/c/112117,1,60042ece96390914cc00a8f77d1f6e9cef9275d8,2abc751b7cf3ea2814c545de5332d688a74f4fef,1,22/11/17,22/11/17,1,Silence boxing warning,"Silence boxing warning

Change-Id: I36c40eb91ce0c51f89b47911fa14beffcbc0a7cd
Signed-off-by: Matthias Sohn <matthias.sohn@sap.com>",1,0,0,1,0,0,1,0,0
112126,I8f6bc09540727c6273d22775a9f9ca382a729c9b,https://git.eclipse.org/r/#/c/112126,1,eb9d11b0ed8f8acdc2362ed7a0433f4dd72b1b4e,6132a7aa6faf8bc4cda7b85073829b90189021e8,1,22/11/17,22/11/17,118,Merge branch 'stable-4.6' into stable-4.7,"Merge branch 'stable-4.6' into stable-4.7

* stable-4.6:
  Silence boxing warning
  Prepare 4.5.5-SNAPSHOT builds
  JGit v4.5.4.201711221230-r
  Fix LockFile semantics when running on NFS
  Honor trustFolderStats also when reading packed-refs
  Prepare 4.5.4-SNAPSHOT builds
  JGit v4.5.3.201708160445-r

Change-Id: I8f6bc09540727c6273d22775a9f9ca382a729c9b
Signed-off-by: Matthias Sohn <matthias.sohn@sap.com>",1,0,0,0,0,0,1,1,1
112128,Iaa99ec84594baf733c993c2d6768281ff14f545a,https://git.eclipse.org/r/#/c/112128,2,9e0b519b86391579f0572889aff38e55df4816db,59acfa6b3af41f6d6bc9b9d8490c10db2977f7d0,0,22/11/17,22/11/17,56,Merge branch 'stable-4.7' into stable-4.8,"Merge branch 'stable-4.7' into stable-4.8

* stable-4.7:
  Silence boxing warning
  Prepare 4.5.5-SNAPSHOT builds
  JGit v4.5.4.201711221230-r
  Fix LockFile semantics when running on NFS
  Honor trustFolderStats also when reading packed-refs
  Prepare 4.5.4-SNAPSHOT builds
  JGit v4.5.3.201708160445-r

Change-Id: Iaa99ec84594baf733c993c2d6768281ff14f545a
Signed-off-by: Matthias Sohn <matthias.sohn@sap.com>",1,0,0,0,0,0,1,NA,NA
112129,I7cf2e48934195430b3945b6d74b092f93a3ccd36,https://git.eclipse.org/r/#/c/112129,2,857a8397a268a5bd51a77341db88d074e3fdc8b2,958051092e2fb81b3b9e778021657d85a9f5878b,0,22/11/17,24/11/17,139,Merge branch 'stable-4.8' into stable-4.9,"Merge branch 'stable-4.8' into stable-4.9

* stable-4.8:
  Silence boxing warning
  Prepare 4.5.5-SNAPSHOT builds
  JGit v4.5.4.201711221230-r
  Fix LockFile semantics when running on NFS
  Honor trustFolderStats also when reading packed-refs
  Prepare 4.5.4-SNAPSHOT builds
  JGit v4.5.3.201708160445-r

Change-Id: I7cf2e48934195430b3945b6d74b092f93a3ccd36
Signed-off-by: Matthias Sohn <matthias.sohn@sap.com>",0,0,0,0,0,0,0,NA,NA
112226,Ic7523d77b67b2802f1bab3bc70af250d712a034f,https://git.eclipse.org/r/#/c/112226,1,23b2d8172f7cabbc48cc352c08c9fbd89f894067,59bbbdc47704632b940b688534af3a29b2aa1753,0,24/11/17,24/11/17,190,Ignore warning for minor version change without API change,"Ignore warning for minor version change without API change

- this is a new warning option in Eclipse 4.7 and higher
- we always change version of all bundles in a release to keep release
engineering simple

Change-Id: Ic7523d77b67b2802f1bab3bc70af250d712a034f
Signed-off-by: Matthias Sohn <matthias.sohn@sap.com>",0,0,0,0,0,0,0,NA,NA
112227,Icc33d2e36f140e8714fce088379673a8834ae9de,https://git.eclipse.org/r/#/c/112227,1,aa790d401a64ebcfba068dcfe645831c81478fec,1d8d64613a7558146838a4159c38b068ae6652b0,0,24/11/17,24/11/17,87,Merge branch 'stable-4.9',"Merge branch 'stable-4.9'

* stable-4.9:
  Ignore warning for minor version change without API change
  Silence boxing warning
  Prepare 4.5.5-SNAPSHOT builds
  JGit v4.5.4.201711221230-r
  Fix LockFile semantics when running on NFS
  Honor trustFolderStats also when reading packed-refs
  Prepare 4.5.4-SNAPSHOT builds
  JGit v4.5.3.201708160445-r

Change-Id: Icc33d2e36f140e8714fce088379673a8834ae9de",0,0,0,0,0,0,0,NA,NA
112228,I16e291f533625c80b1d39f7cbaf40efbdfcc2c3c,https://git.eclipse.org/r/#/c/112228,1,1d8d64613a7558146838a4159c38b068ae6652b0,b9b4d4cf572830dca640270dcdb5f23203026e17,0,24/11/17,24/11/17,3,Fix discouraged access warnings in RefsUnreadableInMemoryRepository,"Fix discouraged access warnings in RefsUnreadableInMemoryRepository

Change-Id: I16e291f533625c80b1d39f7cbaf40efbdfcc2c3c
Signed-off-by: Matthias Sohn <matthias.sohn@sap.com>",0,0,0,1,0,0,1,NA,NA
112230,I650d1a527063204aa9696fe99b4f59bfa7e5fb97,https://git.eclipse.org/r/#/c/112230,2,5358770bd739252450fc701eec50b5e32f1fa7e9,e1cc412be9763da82c61fdc024323212029a91fa,0,24/11/17,26/11/17,2,Upgrade spotbugs-maven-plugin to 3.1.0-RC8,"Upgrade spotbugs-maven-plugin to 3.1.0-RC8

Change-Id: I650d1a527063204aa9696fe99b4f59bfa7e5fb97
Signed-off-by: David Pursehouse <david.pursehouse@gmail.com>",0,0,0,1,0,1,1,NA,NA
112391,Iaecf0580279b33e3e2439784528cae7b69fb28bc,https://git.eclipse.org/r/#/c/112391,2,e1cc412be9763da82c61fdc024323212029a91fa,d3f6f7e17521acf45d9724b8a91c2ee9479db475,1,27/11/17,28/11/17,244,Break down DfsBlockCache stats by pack file extension.,"Break down DfsBlockCache stats by pack file extension.

Change-Id: Iaecf0580279b33e3e2439784528cae7b69fb28bc
Signed-off-by: Minh Thai <mthai@google.com>",0,0,0,1,0,0,1,1,1
112467,I7566968ed1f39b1ad73574fa903faf3ee308eb87,https://git.eclipse.org/r/#/c/112467,1,de1f611aad76c02e4c6b16f113eed2ee116fef2e,68d6cdd754f72ba9833e0212a55dd48c68a9edcf,1,28/11/17,28/11/17,3,RepoCommand: Skip RemoteReader when encountering a full SHA-1,"RepoCommand: Skip RemoteReader when encountering a full SHA-1

There is no point in calling back to the RemoteReader to resolve a
40-digit hex SHA-1 to itself.  We already skip that call when not
ignoring remote failures; skip it when ignoring remote failures, too.

This should simplify RemoteReader implementations.

Reported-by: Han-Wen Nienhuys <hanwen@google.com>
Change-Id: I7566968ed1f39b1ad73574fa903faf3ee308eb87",0,0,0,0,0,0,0,0,0
112596,I4ea421758e3469a59fa4fbbf46ce86757dd267e9,https://git.eclipse.org/r/#/c/112596,1,5cdf1dd81ec75bb48a7447e29ba76e3ce1f74fd2,92fbfb5faeda417db1bdfe85397c74449c059735,0,29/11/17,29/11/17,220,Update Jetty to 9.4.8.v20171121,"Update Jetty to 9.4.8.v20171121

Change-Id: I4ea421758e3469a59fa4fbbf46ce86757dd267e9
Signed-off-by: Matthias Sohn <matthias.sohn@sap.com>",1,0,0,1,0,0,1,NA,NA
112629,I49b37845ee8a465404b801a2d8de0205a2e7ba30,https://git.eclipse.org/r/#/c/112629,3,92fbfb5faeda417db1bdfe85397c74449c059735,db8f60c8c997da9ce6cf02f7442b3f033aaed3c0,1,30/11/17,30/11/17,3,Merge branch 'stable-4.9',"Merge branch 'stable-4.9'

* stable-4.9:
  GC: Delete stale temporary packs and indexes

Change-Id: I49b37845ee8a465404b801a2d8de0205a2e7ba30
Signed-off-by: Matthias Sohn <matthias.sohn@sap.com>",0,0,0,0,0,0,0,0,0